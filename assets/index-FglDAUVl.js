function DM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function FR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fa(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var VR={exports:{}},L2={},UR={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kf=Symbol.for("react.element"),MM=Symbol.for("react.portal"),OM=Symbol.for("react.fragment"),$M=Symbol.for("react.strict_mode"),jM=Symbol.for("react.profiler"),FM=Symbol.for("react.provider"),VM=Symbol.for("react.context"),UM=Symbol.for("react.forward_ref"),zM=Symbol.for("react.suspense"),BM=Symbol.for("react.memo"),WM=Symbol.for("react.lazy"),LC=Symbol.iterator;function HM(t){return t===null||typeof t!="object"?null:(t=LC&&t[LC]||t["@@iterator"],typeof t=="function"?t:null)}var zR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BR=Object.assign,WR={};function Mu(t,e,n){this.props=t,this.context=e,this.refs=WR,this.updater=n||zR}Mu.prototype.isReactComponent={};Mu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HR(){}HR.prototype=Mu.prototype;function wx(t,e,n){this.props=t,this.context=e,this.refs=WR,this.updater=n||zR}var xx=wx.prototype=new HR;xx.constructor=wx;BR(xx,Mu.prototype);xx.isPureReactComponent=!0;var DC=Array.isArray,qR=Object.prototype.hasOwnProperty,Ex={current:null},GR={key:!0,ref:!0,__self:!0,__source:!0};function KR(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)qR.call(e,r)&&!GR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:kf,type:t,key:s,ref:o,props:i,_owner:Ex.current}}function qM(t,e){return{$$typeof:kf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cx(t){return typeof t=="object"&&t!==null&&t.$$typeof===kf}function GM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var MC=/\/+/g;function uv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GM(""+t.key):e.toString(36)}function gp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case kf:case MM:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+uv(o,0):r,DC(i)?(n="",t!=null&&(n=t.replace(MC,"$&/")+"/"),gp(i,e,n,"",function(c){return c})):i!=null&&(Cx(i)&&(i=qM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(MC,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",DC(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+uv(s,a);o+=gp(s,e,n,l,i)}else if(l=HM(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+uv(s,a++),o+=gp(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function T0(t,e,n){if(t==null)return t;var r=[],i=0;return gp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function KM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vr={current:null},vp={transition:null},QM={ReactCurrentDispatcher:vr,ReactCurrentBatchConfig:vp,ReactCurrentOwner:Ex};nt.Children={map:T0,forEach:function(t,e,n){T0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return T0(t,function(){e++}),e},toArray:function(t){return T0(t,function(e){return e})||[]},only:function(t){if(!Cx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};nt.Component=Mu;nt.Fragment=OM;nt.Profiler=jM;nt.PureComponent=wx;nt.StrictMode=$M;nt.Suspense=zM;nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QM;nt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BR({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ex.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)qR.call(e,l)&&!GR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:kf,type:t.type,key:i,ref:s,props:r,_owner:o}};nt.createContext=function(t){return t={$$typeof:VM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FM,_context:t},t.Consumer=t};nt.createElement=KR;nt.createFactory=function(t){var e=KR.bind(null,t);return e.type=t,e};nt.createRef=function(){return{current:null}};nt.forwardRef=function(t){return{$$typeof:UM,render:t}};nt.isValidElement=Cx;nt.lazy=function(t){return{$$typeof:WM,_payload:{_status:-1,_result:t},_init:KM}};nt.memo=function(t,e){return{$$typeof:BM,type:t,compare:e===void 0?null:e}};nt.startTransition=function(t){var e=vp.transition;vp.transition={};try{t()}finally{vp.transition=e}};nt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};nt.useCallback=function(t,e){return vr.current.useCallback(t,e)};nt.useContext=function(t){return vr.current.useContext(t)};nt.useDebugValue=function(){};nt.useDeferredValue=function(t){return vr.current.useDeferredValue(t)};nt.useEffect=function(t,e){return vr.current.useEffect(t,e)};nt.useId=function(){return vr.current.useId()};nt.useImperativeHandle=function(t,e,n){return vr.current.useImperativeHandle(t,e,n)};nt.useInsertionEffect=function(t,e){return vr.current.useInsertionEffect(t,e)};nt.useLayoutEffect=function(t,e){return vr.current.useLayoutEffect(t,e)};nt.useMemo=function(t,e){return vr.current.useMemo(t,e)};nt.useReducer=function(t,e,n){return vr.current.useReducer(t,e,n)};nt.useRef=function(t){return vr.current.useRef(t)};nt.useState=function(t){return vr.current.useState(t)};nt.useSyncExternalStore=function(t,e,n){return vr.current.useSyncExternalStore(t,e,n)};nt.useTransition=function(){return vr.current.useTransition()};nt.version="18.2.0";UR.exports=nt;var v=UR.exports;const ar=FR(v),rm=DM({__proto__:null,default:ar},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YM=v,XM=Symbol.for("react.element"),JM=Symbol.for("react.fragment"),ZM=Object.prototype.hasOwnProperty,eO=YM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tO={key:!0,ref:!0,__self:!0,__source:!0};function QR(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ZM.call(e,r)&&!tO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:XM,type:t,key:s,ref:o,props:i,_owner:eO.current}}L2.Fragment=JM;L2.jsx=QR;L2.jsxs=QR;VR.exports=L2;var h=VR.exports,Oy={},YR={exports:{}},ti={},XR={exports:{}},JR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,j){var F=D.length;D.push(j);e:for(;0<F;){var q=F-1>>>1,W=D[q];if(0<i(W,j))D[q]=j,D[F]=W,F=q;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var j=D[0],F=D.pop();if(F!==j){D[0]=F;e:for(var q=0,W=D.length,B=W>>>1;q<B;){var U=2*(q+1)-1,V=D[U],G=U+1,oe=D[G];if(0>i(V,F))G<W&&0>i(oe,V)?(D[q]=oe,D[G]=F,q=G):(D[q]=V,D[U]=F,q=U);else if(G<W&&0>i(oe,F))D[q]=oe,D[G]=F,q=G;else break e}}return j}function i(D,j){var F=D.sortIndex-j.sortIndex;return F!==0?F:D.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,m=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=D)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function E(D){if(y=!1,_(D),!m)if(n(l)!==null)m=!0,P(b);else{var j=n(c);j!==null&&A(E,j.startTime-D)}}function b(D,j){m=!1,y&&(y=!1,g(I),I=-1),p=!0;var F=f;try{for(_(j),d=n(l);d!==null&&(!(d.expirationTime>j)||D&&!k());){var q=d.callback;if(typeof q=="function"){d.callback=null,f=d.priorityLevel;var W=q(d.expirationTime<=j);j=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),_(j)}else r(l);d=n(l)}if(d!==null)var B=!0;else{var U=n(c);U!==null&&A(E,U.startTime-j),B=!1}return B}finally{d=null,f=F,p=!1}}var C=!1,S=null,I=-1,T=5,R=-1;function k(){return!(t.unstable_now()-R<T)}function L(){if(S!==null){var D=t.unstable_now();R=D;var j=!0;try{j=S(!0,D)}finally{j?M():(C=!1,S=null)}}else C=!1}var M;if(typeof w=="function")M=function(){w(L)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,$=N.port2;N.port1.onmessage=L,M=function(){$.postMessage(null)}}else M=function(){x(L,0)};function P(D){S=D,C||(C=!0,M())}function A(D,j){I=x(function(){D(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(b))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var F=f;f=j;try{return D()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,j){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var F=f;f=D;try{return j()}finally{f=F}},t.unstable_scheduleCallback=function(D,j,F){var q=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?q+F:q):F=q,D){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=F+W,D={id:u++,callback:j,priorityLevel:D,startTime:F,expirationTime:W,sortIndex:-1},F>q?(D.sortIndex=F,e(c,D),n(l)===null&&D===n(c)&&(y?(g(I),I=-1):y=!0,A(E,F-q))):(D.sortIndex=W,e(l,D),m||p||(m=!0,P(b))),D},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(D){var j=f;return function(){var F=f;f=j;try{return D.apply(this,arguments)}finally{f=F}}}})(JR);XR.exports=JR;var nO=XR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZR=v,Yr=nO;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eA=new Set,Th={};function Ml(t,e){Jc(t,e),Jc(t+"Capture",e)}function Jc(t,e){for(Th[t]=e,t=0;t<e.length;t++)eA.add(e[t])}var Hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$y=Object.prototype.hasOwnProperty,rO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OC={},$C={};function iO(t){return $y.call($C,t)?!0:$y.call(OC,t)?!1:rO.test(t)?$C[t]=!0:(OC[t]=!0,!1)}function sO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oO(t,e,n,r){if(e===null||typeof e>"u"||sO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Un[t]=new yr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Un[e]=new yr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Un[t]=new yr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Un[t]=new yr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Un[t]=new yr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Un[t]=new yr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Un[t]=new yr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Un[t]=new yr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Un[t]=new yr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ix=/[\-:]([a-z])/g;function bx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ix,bx);Un[e]=new yr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ix,bx);Un[e]=new yr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ix,bx);Un[e]=new yr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Un[t]=new yr(t,1,!1,t.toLowerCase(),null,!1,!1)});Un.xlinkHref=new yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Un[t]=new yr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Tx(t,e,n,r){var i=Un.hasOwnProperty(e)?Un[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oO(e,n,i,r)&&(n=null),r||i===null?iO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var io=ZR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S0=Symbol.for("react.element"),gc=Symbol.for("react.portal"),vc=Symbol.for("react.fragment"),Sx=Symbol.for("react.strict_mode"),jy=Symbol.for("react.profiler"),tA=Symbol.for("react.provider"),nA=Symbol.for("react.context"),Rx=Symbol.for("react.forward_ref"),Fy=Symbol.for("react.suspense"),Vy=Symbol.for("react.suspense_list"),Ax=Symbol.for("react.memo"),Io=Symbol.for("react.lazy"),rA=Symbol.for("react.offscreen"),jC=Symbol.iterator;function cd(t){return t===null||typeof t!="object"?null:(t=jC&&t[jC]||t["@@iterator"],typeof t=="function"?t:null)}var qt=Object.assign,dv;function jd(t){if(dv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dv=e&&e[1]||""}return`
`+dv+t}var hv=!1;function fv(t,e){if(!t||hv)return"";hv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{hv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?jd(t):""}function aO(t){switch(t.tag){case 5:return jd(t.type);case 16:return jd("Lazy");case 13:return jd("Suspense");case 19:return jd("SuspenseList");case 0:case 2:case 15:return t=fv(t.type,!1),t;case 11:return t=fv(t.type.render,!1),t;case 1:return t=fv(t.type,!0),t;default:return""}}function Uy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vc:return"Fragment";case gc:return"Portal";case jy:return"Profiler";case Sx:return"StrictMode";case Fy:return"Suspense";case Vy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nA:return(t.displayName||"Context")+".Consumer";case tA:return(t._context.displayName||"Context")+".Provider";case Rx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ax:return e=t.displayName||null,e!==null?e:Uy(t.type)||"Memo";case Io:e=t._payload,t=t._init;try{return Uy(t(e))}catch{}}return null}function lO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uy(e);case 8:return e===Sx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ta(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cO(t){var e=iA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function R0(t){t._valueTracker||(t._valueTracker=cO(t))}function sA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=iA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function im(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zy(t,e){var n=e.checked;return qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function FC(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ta(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oA(t,e){e=e.checked,e!=null&&Tx(t,"checked",e,!1)}function By(t,e){oA(t,e);var n=ta(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Wy(t,e.type,ta(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function VC(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Wy(t,e,n){(e!=="number"||im(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fd=Array.isArray;function Lc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ta(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Hy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function UC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Fd(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ta(n)}}function aA(t,e){var n=ta(e.value),r=ta(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var A0,cA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(A0=A0||document.createElement("div"),A0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=A0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Sh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uO=["Webkit","ms","Moz","O"];Object.keys(Zd).forEach(function(t){uO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zd[e]=Zd[t]})});function uA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zd.hasOwnProperty(t)&&Zd[t]?(""+e).trim():e+"px"}function dA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=uA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var dO=qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gy(t,e){if(e){if(dO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function Ky(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qy=null;function kx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yy=null,Dc=null,Mc=null;function BC(t){if(t=Lf(t)){if(typeof Yy!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=j2(e),Yy(t.stateNode,t.type,e))}}function hA(t){Dc?Mc?Mc.push(t):Mc=[t]:Dc=t}function fA(){if(Dc){var t=Dc,e=Mc;if(Mc=Dc=null,BC(t),e)for(t=0;t<e.length;t++)BC(e[t])}}function pA(t,e){return t(e)}function mA(){}var pv=!1;function gA(t,e,n){if(pv)return t(e,n);pv=!0;try{return pA(t,e,n)}finally{pv=!1,(Dc!==null||Mc!==null)&&(mA(),fA())}}function Rh(t,e){var n=t.stateNode;if(n===null)return null;var r=j2(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var Xy=!1;if(Hs)try{var ud={};Object.defineProperty(ud,"passive",{get:function(){Xy=!0}}),window.addEventListener("test",ud,ud),window.removeEventListener("test",ud,ud)}catch{Xy=!1}function hO(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var eh=!1,sm=null,om=!1,Jy=null,fO={onError:function(t){eh=!0,sm=t}};function pO(t,e,n,r,i,s,o,a,l){eh=!1,sm=null,hO.apply(fO,arguments)}function mO(t,e,n,r,i,s,o,a,l){if(pO.apply(this,arguments),eh){if(eh){var c=sm;eh=!1,sm=null}else throw Error(Q(198));om||(om=!0,Jy=c)}}function Ol(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function WC(t){if(Ol(t)!==t)throw Error(Q(188))}function gO(t){var e=t.alternate;if(!e){if(e=Ol(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return WC(i),t;if(s===r)return WC(i),e;s=s.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function yA(t){return t=gO(t),t!==null?_A(t):null}function _A(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_A(t);if(e!==null)return e;t=t.sibling}return null}var wA=Yr.unstable_scheduleCallback,HC=Yr.unstable_cancelCallback,vO=Yr.unstable_shouldYield,yO=Yr.unstable_requestPaint,tn=Yr.unstable_now,_O=Yr.unstable_getCurrentPriorityLevel,Px=Yr.unstable_ImmediatePriority,xA=Yr.unstable_UserBlockingPriority,am=Yr.unstable_NormalPriority,wO=Yr.unstable_LowPriority,EA=Yr.unstable_IdlePriority,D2=null,us=null;function xO(t){if(us&&typeof us.onCommitFiberRoot=="function")try{us.onCommitFiberRoot(D2,t,void 0,(t.current.flags&128)===128)}catch{}}var ji=Math.clz32?Math.clz32:IO,EO=Math.log,CO=Math.LN2;function IO(t){return t>>>=0,t===0?32:31-(EO(t)/CO|0)|0}var k0=64,P0=4194304;function Vd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Vd(a):(s&=o,s!==0&&(r=Vd(s)))}else o=n&~i,o!==0?r=Vd(o):s!==0&&(r=Vd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ji(e),i=1<<n,r|=t[n],e&=~i;return r}function bO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ji(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=bO(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Zy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function CA(){var t=k0;return k0<<=1,!(k0&4194240)&&(k0=64),t}function mv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ji(e),t[e]=n}function SO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ji(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Nx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ji(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _t=0;function IA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bA,Lx,TA,SA,RA,e_=!1,N0=[],Uo=null,zo=null,Bo=null,Ah=new Map,kh=new Map,To=[],RO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qC(t,e){switch(t){case"focusin":case"focusout":Uo=null;break;case"dragenter":case"dragleave":zo=null;break;case"mouseover":case"mouseout":Bo=null;break;case"pointerover":case"pointerout":Ah.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kh.delete(e.pointerId)}}function dd(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Lf(e),e!==null&&Lx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function AO(t,e,n,r,i){switch(e){case"focusin":return Uo=dd(Uo,t,e,n,r,i),!0;case"dragenter":return zo=dd(zo,t,e,n,r,i),!0;case"mouseover":return Bo=dd(Bo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ah.set(s,dd(Ah.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,kh.set(s,dd(kh.get(s)||null,t,e,n,r,i)),!0}return!1}function AA(t){var e=Ba(t.target);if(e!==null){var n=Ol(e);if(n!==null){if(e=n.tag,e===13){if(e=vA(n),e!==null){t.blockedOn=e,RA(t.priority,function(){TA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=t_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qy=r,n.target.dispatchEvent(r),Qy=null}else return e=Lf(n),e!==null&&Lx(e),t.blockedOn=n,!1;e.shift()}return!0}function GC(t,e,n){yp(t)&&n.delete(e)}function kO(){e_=!1,Uo!==null&&yp(Uo)&&(Uo=null),zo!==null&&yp(zo)&&(zo=null),Bo!==null&&yp(Bo)&&(Bo=null),Ah.forEach(GC),kh.forEach(GC)}function hd(t,e){t.blockedOn===e&&(t.blockedOn=null,e_||(e_=!0,Yr.unstable_scheduleCallback(Yr.unstable_NormalPriority,kO)))}function Ph(t){function e(i){return hd(i,t)}if(0<N0.length){hd(N0[0],t);for(var n=1;n<N0.length;n++){var r=N0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Uo!==null&&hd(Uo,t),zo!==null&&hd(zo,t),Bo!==null&&hd(Bo,t),Ah.forEach(e),kh.forEach(e),n=0;n<To.length;n++)r=To[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<To.length&&(n=To[0],n.blockedOn===null);)AA(n),n.blockedOn===null&&To.shift()}var Oc=io.ReactCurrentBatchConfig,cm=!0;function PO(t,e,n,r){var i=_t,s=Oc.transition;Oc.transition=null;try{_t=1,Dx(t,e,n,r)}finally{_t=i,Oc.transition=s}}function NO(t,e,n,r){var i=_t,s=Oc.transition;Oc.transition=null;try{_t=4,Dx(t,e,n,r)}finally{_t=i,Oc.transition=s}}function Dx(t,e,n,r){if(cm){var i=t_(t,e,n,r);if(i===null)bv(t,e,r,um,n),qC(t,r);else if(AO(i,t,e,n,r))r.stopPropagation();else if(qC(t,r),e&4&&-1<RO.indexOf(t)){for(;i!==null;){var s=Lf(i);if(s!==null&&bA(s),s=t_(t,e,n,r),s===null&&bv(t,e,r,um,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else bv(t,e,r,null,n)}}var um=null;function t_(t,e,n,r){if(um=null,t=kx(r),t=Ba(t),t!==null)if(e=Ol(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return um=t,null}function kA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_O()){case Px:return 1;case xA:return 4;case am:case wO:return 16;case EA:return 536870912;default:return 16}default:return 16}}var Mo=null,Mx=null,_p=null;function PA(){if(_p)return _p;var t,e=Mx,n=e.length,r,i="value"in Mo?Mo.value:Mo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return _p=i.slice(t,1<r?1-r:void 0)}function wp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function L0(){return!0}function KC(){return!1}function ni(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?L0:KC,this.isPropagationStopped=KC,this}return qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=L0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=L0)},persist:function(){},isPersistent:L0}),e}var Ou={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ox=ni(Ou),Nf=qt({},Ou,{view:0,detail:0}),LO=ni(Nf),gv,vv,fd,M2=qt({},Nf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$x,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fd&&(fd&&t.type==="mousemove"?(gv=t.screenX-fd.screenX,vv=t.screenY-fd.screenY):vv=gv=0,fd=t),gv)},movementY:function(t){return"movementY"in t?t.movementY:vv}}),QC=ni(M2),DO=qt({},M2,{dataTransfer:0}),MO=ni(DO),OO=qt({},Nf,{relatedTarget:0}),yv=ni(OO),$O=qt({},Ou,{animationName:0,elapsedTime:0,pseudoElement:0}),jO=ni($O),FO=qt({},Ou,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VO=ni(FO),UO=qt({},Ou,{data:0}),YC=ni(UO),zO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WO[t])?!!e[t]:!1}function $x(){return HO}var qO=qt({},Nf,{key:function(t){if(t.key){var e=zO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$x,charCode:function(t){return t.type==="keypress"?wp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GO=ni(qO),KO=qt({},M2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XC=ni(KO),QO=qt({},Nf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$x}),YO=ni(QO),XO=qt({},Ou,{propertyName:0,elapsedTime:0,pseudoElement:0}),JO=ni(XO),ZO=qt({},M2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),e$=ni(ZO),t$=[9,13,27,32],jx=Hs&&"CompositionEvent"in window,th=null;Hs&&"documentMode"in document&&(th=document.documentMode);var n$=Hs&&"TextEvent"in window&&!th,NA=Hs&&(!jx||th&&8<th&&11>=th),JC=" ",ZC=!1;function LA(t,e){switch(t){case"keyup":return t$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yc=!1;function r$(t,e){switch(t){case"compositionend":return DA(e);case"keypress":return e.which!==32?null:(ZC=!0,JC);case"textInput":return t=e.data,t===JC&&ZC?null:t;default:return null}}function i$(t,e){if(yc)return t==="compositionend"||!jx&&LA(t,e)?(t=PA(),_p=Mx=Mo=null,yc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return NA&&e.locale!=="ko"?null:e.data;default:return null}}var s$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!s$[t.type]:e==="textarea"}function MA(t,e,n,r){hA(r),e=dm(e,"onChange"),0<e.length&&(n=new Ox("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var nh=null,Nh=null;function o$(t){qA(t,0)}function O2(t){var e=xc(t);if(sA(e))return t}function a$(t,e){if(t==="change")return e}var OA=!1;if(Hs){var _v;if(Hs){var wv="oninput"in document;if(!wv){var tI=document.createElement("div");tI.setAttribute("oninput","return;"),wv=typeof tI.oninput=="function"}_v=wv}else _v=!1;OA=_v&&(!document.documentMode||9<document.documentMode)}function nI(){nh&&(nh.detachEvent("onpropertychange",$A),Nh=nh=null)}function $A(t){if(t.propertyName==="value"&&O2(Nh)){var e=[];MA(e,Nh,t,kx(t)),gA(o$,e)}}function l$(t,e,n){t==="focusin"?(nI(),nh=e,Nh=n,nh.attachEvent("onpropertychange",$A)):t==="focusout"&&nI()}function c$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return O2(Nh)}function u$(t,e){if(t==="click")return O2(e)}function d$(t,e){if(t==="input"||t==="change")return O2(e)}function h$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zi=typeof Object.is=="function"?Object.is:h$;function Lh(t,e){if(zi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$y.call(e,i)||!zi(t[i],e[i]))return!1}return!0}function rI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iI(t,e){var n=rI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rI(n)}}function jA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FA(){for(var t=window,e=im();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=im(t.document)}return e}function Fx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function f$(t){var e=FA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jA(n.ownerDocument.documentElement,n)){if(r!==null&&Fx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=iI(n,s);var o=iI(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var p$=Hs&&"documentMode"in document&&11>=document.documentMode,_c=null,n_=null,rh=null,r_=!1;function sI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;r_||_c==null||_c!==im(r)||(r=_c,"selectionStart"in r&&Fx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rh&&Lh(rh,r)||(rh=r,r=dm(n_,"onSelect"),0<r.length&&(e=new Ox("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_c)))}function D0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wc={animationend:D0("Animation","AnimationEnd"),animationiteration:D0("Animation","AnimationIteration"),animationstart:D0("Animation","AnimationStart"),transitionend:D0("Transition","TransitionEnd")},xv={},VA={};Hs&&(VA=document.createElement("div").style,"AnimationEvent"in window||(delete wc.animationend.animation,delete wc.animationiteration.animation,delete wc.animationstart.animation),"TransitionEvent"in window||delete wc.transitionend.transition);function $2(t){if(xv[t])return xv[t];if(!wc[t])return t;var e=wc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in VA)return xv[t]=e[n];return t}var UA=$2("animationend"),zA=$2("animationiteration"),BA=$2("animationstart"),WA=$2("transitionend"),HA=new Map,oI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pa(t,e){HA.set(t,e),Ml(e,[t])}for(var Ev=0;Ev<oI.length;Ev++){var Cv=oI[Ev],m$=Cv.toLowerCase(),g$=Cv[0].toUpperCase()+Cv.slice(1);pa(m$,"on"+g$)}pa(UA,"onAnimationEnd");pa(zA,"onAnimationIteration");pa(BA,"onAnimationStart");pa("dblclick","onDoubleClick");pa("focusin","onFocus");pa("focusout","onBlur");pa(WA,"onTransitionEnd");Jc("onMouseEnter",["mouseout","mouseover"]);Jc("onMouseLeave",["mouseout","mouseover"]);Jc("onPointerEnter",["pointerout","pointerover"]);Jc("onPointerLeave",["pointerout","pointerover"]);Ml("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ml("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ml("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ml("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ml("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ml("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ud="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ud));function aI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mO(r,e,void 0,t),t.currentTarget=null}function qA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;aI(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;aI(i,a,c),s=l}}}if(om)throw t=Jy,om=!1,Jy=null,t}function Lt(t,e){var n=e[l_];n===void 0&&(n=e[l_]=new Set);var r=t+"__bubble";n.has(r)||(GA(e,t,2,!1),n.add(r))}function Iv(t,e,n){var r=0;e&&(r|=4),GA(n,t,r,e)}var M0="_reactListening"+Math.random().toString(36).slice(2);function Dh(t){if(!t[M0]){t[M0]=!0,eA.forEach(function(n){n!=="selectionchange"&&(v$.has(n)||Iv(n,!1,t),Iv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[M0]||(e[M0]=!0,Iv("selectionchange",!1,e))}}function GA(t,e,n,r){switch(kA(e)){case 1:var i=PO;break;case 4:i=NO;break;default:i=Dx}n=i.bind(null,e,n,t),i=void 0,!Xy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function bv(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ba(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}gA(function(){var c=s,u=kx(n),d=[];e:{var f=HA.get(t);if(f!==void 0){var p=Ox,m=t;switch(t){case"keypress":if(wp(n)===0)break e;case"keydown":case"keyup":p=GO;break;case"focusin":m="focus",p=yv;break;case"focusout":m="blur",p=yv;break;case"beforeblur":case"afterblur":p=yv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=QC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=MO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=YO;break;case UA:case zA:case BA:p=jO;break;case WA:p=JO;break;case"scroll":p=LO;break;case"wheel":p=e$;break;case"copy":case"cut":case"paste":p=VO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=XC}var y=(e&4)!==0,x=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var w=c,_;w!==null;){_=w;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,g!==null&&(E=Rh(w,g),E!=null&&y.push(Mh(w,E,_)))),x)break;w=w.return}0<y.length&&(f=new p(f,m,null,n,u),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Qy&&(m=n.relatedTarget||n.fromElement)&&(Ba(m)||m[qs]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Ba(m):null,m!==null&&(x=Ol(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=QC,E="onMouseLeave",g="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=XC,E="onPointerLeave",g="onPointerEnter",w="pointer"),x=p==null?f:xc(p),_=m==null?f:xc(m),f=new y(E,w+"leave",p,n,u),f.target=x,f.relatedTarget=_,E=null,Ba(u)===c&&(y=new y(g,w+"enter",m,n,u),y.target=_,y.relatedTarget=x,E=y),x=E,p&&m)t:{for(y=p,g=m,w=0,_=y;_;_=Xl(_))w++;for(_=0,E=g;E;E=Xl(E))_++;for(;0<w-_;)y=Xl(y),w--;for(;0<_-w;)g=Xl(g),_--;for(;w--;){if(y===g||g!==null&&y===g.alternate)break t;y=Xl(y),g=Xl(g)}y=null}else y=null;p!==null&&lI(d,f,p,y,!1),m!==null&&x!==null&&lI(d,x,m,y,!0)}}e:{if(f=c?xc(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var b=a$;else if(eI(f))if(OA)b=d$;else{b=c$;var C=l$}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=u$);if(b&&(b=b(t,c))){MA(d,b,n,u);break e}C&&C(t,f,c),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Wy(f,"number",f.value)}switch(C=c?xc(c):window,t){case"focusin":(eI(C)||C.contentEditable==="true")&&(_c=C,n_=c,rh=null);break;case"focusout":rh=n_=_c=null;break;case"mousedown":r_=!0;break;case"contextmenu":case"mouseup":case"dragend":r_=!1,sI(d,n,u);break;case"selectionchange":if(p$)break;case"keydown":case"keyup":sI(d,n,u)}var S;if(jx)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else yc?LA(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(NA&&n.locale!=="ko"&&(yc||I!=="onCompositionStart"?I==="onCompositionEnd"&&yc&&(S=PA()):(Mo=u,Mx="value"in Mo?Mo.value:Mo.textContent,yc=!0)),C=dm(c,I),0<C.length&&(I=new YC(I,t,null,n,u),d.push({event:I,listeners:C}),S?I.data=S:(S=DA(n),S!==null&&(I.data=S)))),(S=n$?r$(t,n):i$(t,n))&&(c=dm(c,"onBeforeInput"),0<c.length&&(u=new YC("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=S))}qA(d,e)})}function Mh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function dm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Rh(t,n),s!=null&&r.unshift(Mh(t,s,i)),s=Rh(t,e),s!=null&&r.push(Mh(t,s,i))),t=t.return}return r}function Xl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lI(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Rh(n,s),l!=null&&o.unshift(Mh(n,l,a))):i||(l=Rh(n,s),l!=null&&o.push(Mh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var y$=/\r\n?/g,_$=/\u0000|\uFFFD/g;function cI(t){return(typeof t=="string"?t:""+t).replace(y$,`
`).replace(_$,"")}function O0(t,e,n){if(e=cI(e),cI(t)!==e&&n)throw Error(Q(425))}function hm(){}var i_=null,s_=null;function o_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var a_=typeof setTimeout=="function"?setTimeout:void 0,w$=typeof clearTimeout=="function"?clearTimeout:void 0,uI=typeof Promise=="function"?Promise:void 0,x$=typeof queueMicrotask=="function"?queueMicrotask:typeof uI<"u"?function(t){return uI.resolve(null).then(t).catch(E$)}:a_;function E$(t){setTimeout(function(){throw t})}function Tv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ph(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ph(e)}function Wo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $u=Math.random().toString(36).slice(2),es="__reactFiber$"+$u,Oh="__reactProps$"+$u,qs="__reactContainer$"+$u,l_="__reactEvents$"+$u,C$="__reactListeners$"+$u,I$="__reactHandles$"+$u;function Ba(t){var e=t[es];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qs]||n[es]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dI(t);t!==null;){if(n=t[es])return n;t=dI(t)}return e}t=n,n=t.parentNode}return null}function Lf(t){return t=t[es]||t[qs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function j2(t){return t[Oh]||null}var c_=[],Ec=-1;function ma(t){return{current:t}}function $t(t){0>Ec||(t.current=c_[Ec],c_[Ec]=null,Ec--)}function Pt(t,e){Ec++,c_[Ec]=t.current,t.current=e}var na={},tr=ma(na),kr=ma(!1),ul=na;function Zc(t,e){var n=t.type.contextTypes;if(!n)return na;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Pr(t){return t=t.childContextTypes,t!=null}function fm(){$t(kr),$t(tr)}function hI(t,e,n){if(tr.current!==na)throw Error(Q(168));Pt(tr,e),Pt(kr,n)}function KA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,lO(t)||"Unknown",i));return qt({},n,r)}function pm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||na,ul=tr.current,Pt(tr,t),Pt(kr,kr.current),!0}function fI(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=KA(t,e,ul),r.__reactInternalMemoizedMergedChildContext=t,$t(kr),$t(tr),Pt(tr,t)):$t(kr),Pt(kr,n)}var As=null,F2=!1,Sv=!1;function QA(t){As===null?As=[t]:As.push(t)}function b$(t){F2=!0,QA(t)}function ga(){if(!Sv&&As!==null){Sv=!0;var t=0,e=_t;try{var n=As;for(_t=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}As=null,F2=!1}catch(i){throw As!==null&&(As=As.slice(t+1)),wA(Px,ga),i}finally{_t=e,Sv=!1}}return null}var Cc=[],Ic=0,mm=null,gm=0,li=[],ci=0,dl=null,Ls=1,Ds="";function Pa(t,e){Cc[Ic++]=gm,Cc[Ic++]=mm,mm=t,gm=e}function YA(t,e,n){li[ci++]=Ls,li[ci++]=Ds,li[ci++]=dl,dl=t;var r=Ls;t=Ds;var i=32-ji(r)-1;r&=~(1<<i),n+=1;var s=32-ji(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ls=1<<32-ji(e)+i|n<<i|r,Ds=s+t}else Ls=1<<s|n<<i|r,Ds=t}function Vx(t){t.return!==null&&(Pa(t,1),YA(t,1,0))}function Ux(t){for(;t===mm;)mm=Cc[--Ic],Cc[Ic]=null,gm=Cc[--Ic],Cc[Ic]=null;for(;t===dl;)dl=li[--ci],li[ci]=null,Ds=li[--ci],li[ci]=null,Ls=li[--ci],li[ci]=null}var qr=null,Br=null,Ft=!1,Mi=null;function XA(t,e){var n=hi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qr=t,Br=Wo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qr=t,Br=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=dl!==null?{id:Ls,overflow:Ds}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qr=t,Br=null,!0):!1;default:return!1}}function u_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function d_(t){if(Ft){var e=Br;if(e){var n=e;if(!pI(t,e)){if(u_(t))throw Error(Q(418));e=Wo(n.nextSibling);var r=qr;e&&pI(t,e)?XA(r,n):(t.flags=t.flags&-4097|2,Ft=!1,qr=t)}}else{if(u_(t))throw Error(Q(418));t.flags=t.flags&-4097|2,Ft=!1,qr=t}}}function mI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qr=t}function $0(t){if(t!==qr)return!1;if(!Ft)return mI(t),Ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!o_(t.type,t.memoizedProps)),e&&(e=Br)){if(u_(t))throw JA(),Error(Q(418));for(;e;)XA(t,e),e=Wo(e.nextSibling)}if(mI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Br=Wo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Br=null}}else Br=qr?Wo(t.stateNode.nextSibling):null;return!0}function JA(){for(var t=Br;t;)t=Wo(t.nextSibling)}function eu(){Br=qr=null,Ft=!1}function zx(t){Mi===null?Mi=[t]:Mi.push(t)}var T$=io.ReactCurrentBatchConfig;function Li(t,e){if(t&&t.defaultProps){e=qt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var vm=ma(null),ym=null,bc=null,Bx=null;function Wx(){Bx=bc=ym=null}function Hx(t){var e=vm.current;$t(vm),t._currentValue=e}function h_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $c(t,e){ym=t,Bx=bc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(br=!0),t.firstContext=null)}function xi(t){var e=t._currentValue;if(Bx!==t)if(t={context:t,memoizedValue:e,next:null},bc===null){if(ym===null)throw Error(Q(308));bc=t,ym.dependencies={lanes:0,firstContext:t}}else bc=bc.next=t;return e}var Wa=null;function qx(t){Wa===null?Wa=[t]:Wa.push(t)}function ZA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,qx(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gs(t,r)}function Gs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bo=!1;function Gx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ek(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Us(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ho(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,lt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gs(t,n)}return i=r.interleaved,i===null?(e.next=e,qx(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gs(t,n)}function xp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nx(t,n)}}function gI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _m(t,e,n,r){var i=t.updateQueue;bo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(f=e,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=qt({},d,f);break e;case 2:bo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);fl|=o,t.lanes=o,t.memoizedState=d}}function vI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var tk=new ZR.Component().refs;function f_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var V2={isMounted:function(t){return(t=t._reactInternals)?Ol(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dr(),i=Go(t),s=Us(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ho(t,s,i),e!==null&&(Fi(e,t,i,r),xp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dr(),i=Go(t),s=Us(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ho(t,s,i),e!==null&&(Fi(e,t,i,r),xp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dr(),r=Go(t),i=Us(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ho(t,i,r),e!==null&&(Fi(e,t,r,n),xp(e,t,r))}};function yI(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Lh(n,r)||!Lh(i,s):!0}function nk(t,e,n){var r=!1,i=na,s=e.contextType;return typeof s=="object"&&s!==null?s=xi(s):(i=Pr(e)?ul:tr.current,r=e.contextTypes,s=(r=r!=null)?Zc(t,i):na),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=V2,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function _I(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&V2.enqueueReplaceState(e,e.state,null)}function p_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=tk,Gx(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=xi(s):(s=Pr(e)?ul:tr.current,i.context=Zc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(f_(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&V2.enqueueReplaceState(i,i.state,null),_m(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function pd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===tk&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function j0(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wI(t){var e=t._init;return e(t._payload)}function rk(t){function e(g,w){if(t){var _=g.deletions;_===null?(g.deletions=[w],g.flags|=16):_.push(w)}}function n(g,w){if(!t)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function r(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function i(g,w){return g=Ko(g,w),g.index=0,g.sibling=null,g}function s(g,w,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<w?(g.flags|=2,w):_):(g.flags|=2,w)):(g.flags|=1048576,w)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,w,_,E){return w===null||w.tag!==6?(w=Dv(_,g.mode,E),w.return=g,w):(w=i(w,_),w.return=g,w)}function l(g,w,_,E){var b=_.type;return b===vc?u(g,w,_.props.children,E,_.key):w!==null&&(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Io&&wI(b)===w.type)?(E=i(w,_.props),E.ref=pd(g,w,_),E.return=g,E):(E=Sp(_.type,_.key,_.props,null,g.mode,E),E.ref=pd(g,w,_),E.return=g,E)}function c(g,w,_,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Mv(_,g.mode,E),w.return=g,w):(w=i(w,_.children||[]),w.return=g,w)}function u(g,w,_,E,b){return w===null||w.tag!==7?(w=nl(_,g.mode,E,b),w.return=g,w):(w=i(w,_),w.return=g,w)}function d(g,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Dv(""+w,g.mode,_),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case S0:return _=Sp(w.type,w.key,w.props,null,g.mode,_),_.ref=pd(g,null,w),_.return=g,_;case gc:return w=Mv(w,g.mode,_),w.return=g,w;case Io:var E=w._init;return d(g,E(w._payload),_)}if(Fd(w)||cd(w))return w=nl(w,g.mode,_,null),w.return=g,w;j0(g,w)}return null}function f(g,w,_,E){var b=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return b!==null?null:a(g,w,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case S0:return _.key===b?l(g,w,_,E):null;case gc:return _.key===b?c(g,w,_,E):null;case Io:return b=_._init,f(g,w,b(_._payload),E)}if(Fd(_)||cd(_))return b!==null?null:u(g,w,_,E,null);j0(g,_)}return null}function p(g,w,_,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(_)||null,a(w,g,""+E,b);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case S0:return g=g.get(E.key===null?_:E.key)||null,l(w,g,E,b);case gc:return g=g.get(E.key===null?_:E.key)||null,c(w,g,E,b);case Io:var C=E._init;return p(g,w,_,C(E._payload),b)}if(Fd(E)||cd(E))return g=g.get(_)||null,u(w,g,E,b,null);j0(w,E)}return null}function m(g,w,_,E){for(var b=null,C=null,S=w,I=w=0,T=null;S!==null&&I<_.length;I++){S.index>I?(T=S,S=null):T=S.sibling;var R=f(g,S,_[I],E);if(R===null){S===null&&(S=T);break}t&&S&&R.alternate===null&&e(g,S),w=s(R,w,I),C===null?b=R:C.sibling=R,C=R,S=T}if(I===_.length)return n(g,S),Ft&&Pa(g,I),b;if(S===null){for(;I<_.length;I++)S=d(g,_[I],E),S!==null&&(w=s(S,w,I),C===null?b=S:C.sibling=S,C=S);return Ft&&Pa(g,I),b}for(S=r(g,S);I<_.length;I++)T=p(S,g,I,_[I],E),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?I:T.key),w=s(T,w,I),C===null?b=T:C.sibling=T,C=T);return t&&S.forEach(function(k){return e(g,k)}),Ft&&Pa(g,I),b}function y(g,w,_,E){var b=cd(_);if(typeof b!="function")throw Error(Q(150));if(_=b.call(_),_==null)throw Error(Q(151));for(var C=b=null,S=w,I=w=0,T=null,R=_.next();S!==null&&!R.done;I++,R=_.next()){S.index>I?(T=S,S=null):T=S.sibling;var k=f(g,S,R.value,E);if(k===null){S===null&&(S=T);break}t&&S&&k.alternate===null&&e(g,S),w=s(k,w,I),C===null?b=k:C.sibling=k,C=k,S=T}if(R.done)return n(g,S),Ft&&Pa(g,I),b;if(S===null){for(;!R.done;I++,R=_.next())R=d(g,R.value,E),R!==null&&(w=s(R,w,I),C===null?b=R:C.sibling=R,C=R);return Ft&&Pa(g,I),b}for(S=r(g,S);!R.done;I++,R=_.next())R=p(S,g,I,R.value,E),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?I:R.key),w=s(R,w,I),C===null?b=R:C.sibling=R,C=R);return t&&S.forEach(function(L){return e(g,L)}),Ft&&Pa(g,I),b}function x(g,w,_,E){if(typeof _=="object"&&_!==null&&_.type===vc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case S0:e:{for(var b=_.key,C=w;C!==null;){if(C.key===b){if(b=_.type,b===vc){if(C.tag===7){n(g,C.sibling),w=i(C,_.props.children),w.return=g,g=w;break e}}else if(C.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Io&&wI(b)===C.type){n(g,C.sibling),w=i(C,_.props),w.ref=pd(g,C,_),w.return=g,g=w;break e}n(g,C);break}else e(g,C);C=C.sibling}_.type===vc?(w=nl(_.props.children,g.mode,E,_.key),w.return=g,g=w):(E=Sp(_.type,_.key,_.props,null,g.mode,E),E.ref=pd(g,w,_),E.return=g,g=E)}return o(g);case gc:e:{for(C=_.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(g,w.sibling),w=i(w,_.children||[]),w.return=g,g=w;break e}else{n(g,w);break}else e(g,w);w=w.sibling}w=Mv(_,g.mode,E),w.return=g,g=w}return o(g);case Io:return C=_._init,x(g,w,C(_._payload),E)}if(Fd(_))return m(g,w,_,E);if(cd(_))return y(g,w,_,E);j0(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(g,w.sibling),w=i(w,_),w.return=g,g=w):(n(g,w),w=Dv(_,g.mode,E),w.return=g,g=w),o(g)):n(g,w)}return x}var tu=rk(!0),ik=rk(!1),Df={},ds=ma(Df),$h=ma(Df),jh=ma(Df);function Ha(t){if(t===Df)throw Error(Q(174));return t}function Kx(t,e){switch(Pt(jh,e),Pt($h,t),Pt(ds,Df),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qy(e,t)}$t(ds),Pt(ds,e)}function nu(){$t(ds),$t($h),$t(jh)}function sk(t){Ha(jh.current);var e=Ha(ds.current),n=qy(e,t.type);e!==n&&(Pt($h,t),Pt(ds,n))}function Qx(t){$h.current===t&&($t(ds),$t($h))}var Ut=ma(0);function wm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rv=[];function Yx(){for(var t=0;t<Rv.length;t++)Rv[t]._workInProgressVersionPrimary=null;Rv.length=0}var Ep=io.ReactCurrentDispatcher,Av=io.ReactCurrentBatchConfig,hl=0,Wt=null,yn=null,In=null,xm=!1,ih=!1,Fh=0,S$=0;function Hn(){throw Error(Q(321))}function Xx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zi(t[n],e[n]))return!1;return!0}function Jx(t,e,n,r,i,s){if(hl=s,Wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ep.current=t===null||t.memoizedState===null?P$:N$,t=n(r,i),ih){s=0;do{if(ih=!1,Fh=0,25<=s)throw Error(Q(301));s+=1,In=yn=null,e.updateQueue=null,Ep.current=L$,t=n(r,i)}while(ih)}if(Ep.current=Em,e=yn!==null&&yn.next!==null,hl=0,In=yn=Wt=null,xm=!1,e)throw Error(Q(300));return t}function Zx(){var t=Fh!==0;return Fh=0,t}function Qi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?Wt.memoizedState=In=t:In=In.next=t,In}function Ei(){if(yn===null){var t=Wt.alternate;t=t!==null?t.memoizedState:null}else t=yn.next;var e=In===null?Wt.memoizedState:In.next;if(e!==null)In=e,yn=t;else{if(t===null)throw Error(Q(310));yn=t,t={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},In===null?Wt.memoizedState=In=t:In=In.next=t}return In}function Vh(t,e){return typeof e=="function"?e(t):e}function kv(t){var e=Ei(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=yn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((hl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Wt.lanes|=u,fl|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,zi(r,e.memoizedState)||(br=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Wt.lanes|=s,fl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Pv(t){var e=Ei(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);zi(s,e.memoizedState)||(br=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ok(){}function ak(t,e){var n=Wt,r=Ei(),i=e(),s=!zi(r.memoizedState,i);if(s&&(r.memoizedState=i,br=!0),r=r.queue,e3(uk.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||In!==null&&In.memoizedState.tag&1){if(n.flags|=2048,Uh(9,ck.bind(null,n,r,i,e),void 0,null),Rn===null)throw Error(Q(349));hl&30||lk(n,e,i)}return i}function lk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Wt.updateQueue,e===null?(e={lastEffect:null,stores:null},Wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ck(t,e,n,r){e.value=n,e.getSnapshot=r,dk(e)&&hk(t)}function uk(t,e,n){return n(function(){dk(e)&&hk(t)})}function dk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zi(t,n)}catch{return!0}}function hk(t){var e=Gs(t,1);e!==null&&Fi(e,t,1,-1)}function xI(t){var e=Qi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:t},e.queue=t,t=t.dispatch=k$.bind(null,Wt,t),[e.memoizedState,t]}function Uh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Wt.updateQueue,e===null?(e={lastEffect:null,stores:null},Wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function fk(){return Ei().memoizedState}function Cp(t,e,n,r){var i=Qi();Wt.flags|=t,i.memoizedState=Uh(1|e,n,void 0,r===void 0?null:r)}function U2(t,e,n,r){var i=Ei();r=r===void 0?null:r;var s=void 0;if(yn!==null){var o=yn.memoizedState;if(s=o.destroy,r!==null&&Xx(r,o.deps)){i.memoizedState=Uh(e,n,s,r);return}}Wt.flags|=t,i.memoizedState=Uh(1|e,n,s,r)}function EI(t,e){return Cp(8390656,8,t,e)}function e3(t,e){return U2(2048,8,t,e)}function pk(t,e){return U2(4,2,t,e)}function mk(t,e){return U2(4,4,t,e)}function gk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vk(t,e,n){return n=n!=null?n.concat([t]):null,U2(4,4,gk.bind(null,e,t),n)}function t3(){}function yk(t,e){var n=Ei();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _k(t,e){var n=Ei();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function wk(t,e,n){return hl&21?(zi(n,e)||(n=CA(),Wt.lanes|=n,fl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,br=!0),t.memoizedState=n)}function R$(t,e){var n=_t;_t=n!==0&&4>n?n:4,t(!0);var r=Av.transition;Av.transition={};try{t(!1),e()}finally{_t=n,Av.transition=r}}function xk(){return Ei().memoizedState}function A$(t,e,n){var r=Go(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ek(t))Ck(e,n);else if(n=ZA(t,e,n,r),n!==null){var i=dr();Fi(n,t,r,i),Ik(n,e,r)}}function k$(t,e,n){var r=Go(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ek(t))Ck(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,zi(a,o)){var l=e.interleaved;l===null?(i.next=i,qx(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ZA(t,e,i,r),n!==null&&(i=dr(),Fi(n,t,r,i),Ik(n,e,r))}}function Ek(t){var e=t.alternate;return t===Wt||e!==null&&e===Wt}function Ck(t,e){ih=xm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ik(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nx(t,n)}}var Em={readContext:xi,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},P$={readContext:xi,useCallback:function(t,e){return Qi().memoizedState=[t,e===void 0?null:e],t},useContext:xi,useEffect:EI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cp(4194308,4,gk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cp(4,2,t,e)},useMemo:function(t,e){var n=Qi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=A$.bind(null,Wt,t),[r.memoizedState,t]},useRef:function(t){var e=Qi();return t={current:t},e.memoizedState=t},useState:xI,useDebugValue:t3,useDeferredValue:function(t){return Qi().memoizedState=t},useTransition:function(){var t=xI(!1),e=t[0];return t=R$.bind(null,t[1]),Qi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Wt,i=Qi();if(Ft){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Rn===null)throw Error(Q(349));hl&30||lk(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,EI(uk.bind(null,r,s,t),[t]),r.flags|=2048,Uh(9,ck.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Qi(),e=Rn.identifierPrefix;if(Ft){var n=Ds,r=Ls;n=(r&~(1<<32-ji(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=S$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},N$={readContext:xi,useCallback:yk,useContext:xi,useEffect:e3,useImperativeHandle:vk,useInsertionEffect:pk,useLayoutEffect:mk,useMemo:_k,useReducer:kv,useRef:fk,useState:function(){return kv(Vh)},useDebugValue:t3,useDeferredValue:function(t){var e=Ei();return wk(e,yn.memoizedState,t)},useTransition:function(){var t=kv(Vh)[0],e=Ei().memoizedState;return[t,e]},useMutableSource:ok,useSyncExternalStore:ak,useId:xk,unstable_isNewReconciler:!1},L$={readContext:xi,useCallback:yk,useContext:xi,useEffect:e3,useImperativeHandle:vk,useInsertionEffect:pk,useLayoutEffect:mk,useMemo:_k,useReducer:Pv,useRef:fk,useState:function(){return Pv(Vh)},useDebugValue:t3,useDeferredValue:function(t){var e=Ei();return yn===null?e.memoizedState=t:wk(e,yn.memoizedState,t)},useTransition:function(){var t=Pv(Vh)[0],e=Ei().memoizedState;return[t,e]},useMutableSource:ok,useSyncExternalStore:ak,useId:xk,unstable_isNewReconciler:!1};function ru(t,e){try{var n="",r=e;do n+=aO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Nv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function m_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var D$=typeof WeakMap=="function"?WeakMap:Map;function bk(t,e,n){n=Us(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Im||(Im=!0,b_=r),m_(t,e)},n}function Tk(t,e,n){n=Us(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){m_(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){m_(t,e),typeof r!="function"&&(qo===null?qo=new Set([this]):qo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function CI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new D$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=K$.bind(null,t,e,n),e.then(t,t))}function II(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Us(-1,1),e.tag=2,Ho(n,e,1))),n.lanes|=1),t)}var M$=io.ReactCurrentOwner,br=!1;function ir(t,e,n,r){e.child=t===null?ik(e,null,n,r):tu(e,t.child,n,r)}function TI(t,e,n,r,i){n=n.render;var s=e.ref;return $c(e,i),r=Jx(t,e,n,r,s,i),n=Zx(),t!==null&&!br?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ks(t,e,i)):(Ft&&n&&Vx(e),e.flags|=1,ir(t,e,r,i),e.child)}function SI(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!c3(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Sk(t,e,s,r,i)):(t=Sp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Lh,n(o,r)&&t.ref===e.ref)return Ks(t,e,i)}return e.flags|=1,t=Ko(s,r),t.ref=e.ref,t.return=e,e.child=t}function Sk(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Lh(s,r)&&t.ref===e.ref)if(br=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(br=!0);else return e.lanes=t.lanes,Ks(t,e,i)}return g_(t,e,n,r,i)}function Rk(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Sc,Vr),Vr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pt(Sc,Vr),Vr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Pt(Sc,Vr),Vr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Pt(Sc,Vr),Vr|=r;return ir(t,e,i,n),e.child}function Ak(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function g_(t,e,n,r,i){var s=Pr(n)?ul:tr.current;return s=Zc(e,s),$c(e,i),n=Jx(t,e,n,r,s,i),r=Zx(),t!==null&&!br?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ks(t,e,i)):(Ft&&r&&Vx(e),e.flags|=1,ir(t,e,n,i),e.child)}function RI(t,e,n,r,i){if(Pr(n)){var s=!0;pm(e)}else s=!1;if($c(e,i),e.stateNode===null)Ip(t,e),nk(e,n,r),p_(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=xi(c):(c=Pr(n)?ul:tr.current,c=Zc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&_I(e,o,r,c),bo=!1;var f=e.memoizedState;o.state=f,_m(e,r,o,i),l=e.memoizedState,a!==r||f!==l||kr.current||bo?(typeof u=="function"&&(f_(e,n,u,r),l=e.memoizedState),(a=bo||yI(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ek(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Li(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=xi(l):(l=Pr(n)?ul:tr.current,l=Zc(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&_I(e,o,r,l),bo=!1,f=e.memoizedState,o.state=f,_m(e,r,o,i);var m=e.memoizedState;a!==d||f!==m||kr.current||bo?(typeof p=="function"&&(f_(e,n,p,r),m=e.memoizedState),(c=bo||yI(e,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return v_(t,e,n,r,s,i)}function v_(t,e,n,r,i,s){Ak(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&fI(e,n,!1),Ks(t,e,s);r=e.stateNode,M$.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=tu(e,t.child,null,s),e.child=tu(e,null,a,s)):ir(t,e,a,s),e.memoizedState=r.state,i&&fI(e,n,!0),e.child}function kk(t){var e=t.stateNode;e.pendingContext?hI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hI(t,e.context,!1),Kx(t,e.containerInfo)}function AI(t,e,n,r,i){return eu(),zx(i),e.flags|=256,ir(t,e,n,r),e.child}var y_={dehydrated:null,treeContext:null,retryLane:0};function __(t){return{baseLanes:t,cachePool:null,transitions:null}}function Pk(t,e,n){var r=e.pendingProps,i=Ut.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pt(Ut,i&1),t===null)return d_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=W2(o,r,0,null),t=nl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=__(n),e.memoizedState=y_,t):n3(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return O$(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ko(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ko(a,s):(s=nl(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?__(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=y_,r}return s=t.child,t=s.sibling,r=Ko(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function n3(t,e){return e=W2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function F0(t,e,n,r){return r!==null&&zx(r),tu(e,t.child,null,n),t=n3(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function O$(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Nv(Error(Q(422))),F0(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=W2({mode:"visible",children:r.children},i,0,null),s=nl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&tu(e,t.child,null,o),e.child.memoizedState=__(o),e.memoizedState=y_,s);if(!(e.mode&1))return F0(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Q(419)),r=Nv(s,r,void 0),F0(t,e,o,r)}if(a=(o&t.childLanes)!==0,br||a){if(r=Rn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gs(t,i),Fi(r,t,i,-1))}return l3(),r=Nv(Error(Q(421))),F0(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Q$.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Br=Wo(i.nextSibling),qr=e,Ft=!0,Mi=null,t!==null&&(li[ci++]=Ls,li[ci++]=Ds,li[ci++]=dl,Ls=t.id,Ds=t.overflow,dl=e),e=n3(e,r.children),e.flags|=4096,e)}function kI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),h_(t.return,e,n)}function Lv(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Nk(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ir(t,e,r.children,n),r=Ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kI(t,n,e);else if(t.tag===19)kI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pt(Ut,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Lv(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Lv(e,!0,n,null,s);break;case"together":Lv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ip(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ks(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Ko(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ko(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $$(t,e,n){switch(e.tag){case 3:kk(e),eu();break;case 5:sk(e);break;case 1:Pr(e.type)&&pm(e);break;case 4:Kx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pt(vm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pt(Ut,Ut.current&1),e.flags|=128,null):n&e.child.childLanes?Pk(t,e,n):(Pt(Ut,Ut.current&1),t=Ks(t,e,n),t!==null?t.sibling:null);Pt(Ut,Ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Nk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pt(Ut,Ut.current),r)break;return null;case 22:case 23:return e.lanes=0,Rk(t,e,n)}return Ks(t,e,n)}var Lk,w_,Dk,Mk;Lk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};w_=function(){};Dk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ha(ds.current);var s=null;switch(n){case"input":i=zy(t,i),r=zy(t,r),s=[];break;case"select":i=qt({},i,{value:void 0}),r=qt({},r,{value:void 0}),s=[];break;case"textarea":i=Hy(t,i),r=Hy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hm)}Gy(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Th.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Th.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Lt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Mk=function(t,e,n,r){n!==r&&(e.flags|=4)};function md(t,e){if(!Ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function j$(t,e,n){var r=e.pendingProps;switch(Ux(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(e),null;case 1:return Pr(e.type)&&fm(),qn(e),null;case 3:return r=e.stateNode,nu(),$t(kr),$t(tr),Yx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mi!==null&&(R_(Mi),Mi=null))),w_(t,e),qn(e),null;case 5:Qx(e);var i=Ha(jh.current);if(n=e.type,t!==null&&e.stateNode!=null)Dk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return qn(e),null}if(t=Ha(ds.current),$0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[es]=e,r[Oh]=s,t=(e.mode&1)!==0,n){case"dialog":Lt("cancel",r),Lt("close",r);break;case"iframe":case"object":case"embed":Lt("load",r);break;case"video":case"audio":for(i=0;i<Ud.length;i++)Lt(Ud[i],r);break;case"source":Lt("error",r);break;case"img":case"image":case"link":Lt("error",r),Lt("load",r);break;case"details":Lt("toggle",r);break;case"input":FC(r,s),Lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Lt("invalid",r);break;case"textarea":UC(r,s),Lt("invalid",r)}Gy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&O0(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&O0(r.textContent,a,t),i=["children",""+a]):Th.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Lt("scroll",r)}switch(n){case"input":R0(r),VC(r,s,!0);break;case"textarea":R0(r),zC(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=hm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[es]=e,t[Oh]=r,Lk(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ky(n,r),n){case"dialog":Lt("cancel",t),Lt("close",t),i=r;break;case"iframe":case"object":case"embed":Lt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ud.length;i++)Lt(Ud[i],t);i=r;break;case"source":Lt("error",t),i=r;break;case"img":case"image":case"link":Lt("error",t),Lt("load",t),i=r;break;case"details":Lt("toggle",t),i=r;break;case"input":FC(t,r),i=zy(t,r),Lt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=qt({},r,{value:void 0}),Lt("invalid",t);break;case"textarea":UC(t,r),i=Hy(t,r),Lt("invalid",t);break;default:i=r}Gy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?dA(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cA(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Sh(t,l):typeof l=="number"&&Sh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Th.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Lt("scroll",t):l!=null&&Tx(t,s,l,o))}switch(n){case"input":R0(t),VC(t,r,!1);break;case"textarea":R0(t),zC(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ta(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Lc(t,!!r.multiple,s,!1):r.defaultValue!=null&&Lc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qn(e),null;case 6:if(t&&e.stateNode!=null)Mk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=Ha(jh.current),Ha(ds.current),$0(e)){if(r=e.stateNode,n=e.memoizedProps,r[es]=e,(s=r.nodeValue!==n)&&(t=qr,t!==null))switch(t.tag){case 3:O0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&O0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[es]=e,e.stateNode=r}return qn(e),null;case 13:if($t(Ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ft&&Br!==null&&e.mode&1&&!(e.flags&128))JA(),eu(),e.flags|=98560,s=!1;else if(s=$0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[es]=e}else eu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qn(e),s=!1}else Mi!==null&&(R_(Mi),Mi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ut.current&1?_n===0&&(_n=3):l3())),e.updateQueue!==null&&(e.flags|=4),qn(e),null);case 4:return nu(),w_(t,e),t===null&&Dh(e.stateNode.containerInfo),qn(e),null;case 10:return Hx(e.type._context),qn(e),null;case 17:return Pr(e.type)&&fm(),qn(e),null;case 19:if($t(Ut),s=e.memoizedState,s===null)return qn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)md(s,!1);else{if(_n!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wm(t),o!==null){for(e.flags|=128,md(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pt(Ut,Ut.current&1|2),e.child}t=t.sibling}s.tail!==null&&tn()>iu&&(e.flags|=128,r=!0,md(s,!1),e.lanes=4194304)}else{if(!r)if(t=wm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),md(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ft)return qn(e),null}else 2*tn()-s.renderingStartTime>iu&&n!==1073741824&&(e.flags|=128,r=!0,md(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=tn(),e.sibling=null,n=Ut.current,Pt(Ut,r?n&1|2:n&1),e):(qn(e),null);case 22:case 23:return a3(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Vr&1073741824&&(qn(e),e.subtreeFlags&6&&(e.flags|=8192)):qn(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function F$(t,e){switch(Ux(e),e.tag){case 1:return Pr(e.type)&&fm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return nu(),$t(kr),$t(tr),Yx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qx(e),null;case 13:if($t(Ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));eu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $t(Ut),null;case 4:return nu(),null;case 10:return Hx(e.type._context),null;case 22:case 23:return a3(),null;case 24:return null;default:return null}}var V0=!1,Qn=!1,V$=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Tc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qt(t,e,r)}else n.current=null}function x_(t,e,n){try{n()}catch(r){Qt(t,e,r)}}var PI=!1;function U$(t,e){if(i_=cm,t=FA(),Fx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(s_={focusedElem:t,selectionRange:n},cm=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,x=m.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Li(e.type,y),x);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(E){Qt(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return m=PI,PI=!1,m}function sh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&x_(e,n,s)}i=i.next}while(i!==r)}}function z2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function E_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ok(t){var e=t.alternate;e!==null&&(t.alternate=null,Ok(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[es],delete e[Oh],delete e[l_],delete e[C$],delete e[I$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $k(t){return t.tag===5||t.tag===3||t.tag===4}function NI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$k(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function C_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hm));else if(r!==4&&(t=t.child,t!==null))for(C_(t,e,n),t=t.sibling;t!==null;)C_(t,e,n),t=t.sibling}function I_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(I_(t,e,n),t=t.sibling;t!==null;)I_(t,e,n),t=t.sibling}var Dn=null,Di=!1;function go(t,e,n){for(n=n.child;n!==null;)jk(t,e,n),n=n.sibling}function jk(t,e,n){if(us&&typeof us.onCommitFiberUnmount=="function")try{us.onCommitFiberUnmount(D2,n)}catch{}switch(n.tag){case 5:Qn||Tc(n,e);case 6:var r=Dn,i=Di;Dn=null,go(t,e,n),Dn=r,Di=i,Dn!==null&&(Di?(t=Dn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Dn.removeChild(n.stateNode));break;case 18:Dn!==null&&(Di?(t=Dn,n=n.stateNode,t.nodeType===8?Tv(t.parentNode,n):t.nodeType===1&&Tv(t,n),Ph(t)):Tv(Dn,n.stateNode));break;case 4:r=Dn,i=Di,Dn=n.stateNode.containerInfo,Di=!0,go(t,e,n),Dn=r,Di=i;break;case 0:case 11:case 14:case 15:if(!Qn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&x_(n,e,o),i=i.next}while(i!==r)}go(t,e,n);break;case 1:if(!Qn&&(Tc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Qt(n,e,a)}go(t,e,n);break;case 21:go(t,e,n);break;case 22:n.mode&1?(Qn=(r=Qn)||n.memoizedState!==null,go(t,e,n),Qn=r):go(t,e,n);break;default:go(t,e,n)}}function LI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new V$),e.forEach(function(r){var i=Y$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ki(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Dn=a.stateNode,Di=!1;break e;case 3:Dn=a.stateNode.containerInfo,Di=!0;break e;case 4:Dn=a.stateNode.containerInfo,Di=!0;break e}a=a.return}if(Dn===null)throw Error(Q(160));jk(s,o,i),Dn=null,Di=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Qt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Fk(e,t),e=e.sibling}function Fk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ki(e,t),Ki(t),r&4){try{sh(3,t,t.return),z2(3,t)}catch(y){Qt(t,t.return,y)}try{sh(5,t,t.return)}catch(y){Qt(t,t.return,y)}}break;case 1:ki(e,t),Ki(t),r&512&&n!==null&&Tc(n,n.return);break;case 5:if(ki(e,t),Ki(t),r&512&&n!==null&&Tc(n,n.return),t.flags&32){var i=t.stateNode;try{Sh(i,"")}catch(y){Qt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&oA(i,s),Ky(a,o);var c=Ky(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?dA(i,d):u==="dangerouslySetInnerHTML"?cA(i,d):u==="children"?Sh(i,d):Tx(i,u,d,c)}switch(a){case"input":By(i,s);break;case"textarea":aA(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Lc(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Lc(i,!!s.multiple,s.defaultValue,!0):Lc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Oh]=s}catch(y){Qt(t,t.return,y)}}break;case 6:if(ki(e,t),Ki(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Qt(t,t.return,y)}}break;case 3:if(ki(e,t),Ki(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ph(e.containerInfo)}catch(y){Qt(t,t.return,y)}break;case 4:ki(e,t),Ki(t);break;case 13:ki(e,t),Ki(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(s3=tn())),r&4&&LI(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Qn=(c=Qn)||u,ki(e,t),Qn=c):ki(e,t),Ki(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(fe=t,u=t.child;u!==null;){for(d=fe=u;fe!==null;){switch(f=fe,p=f.child,f.tag){case 0:case 11:case 14:case 15:sh(4,f,f.return);break;case 1:Tc(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){Qt(r,n,y)}}break;case 5:Tc(f,f.return);break;case 22:if(f.memoizedState!==null){MI(d);continue}}p!==null?(p.return=f,fe=p):MI(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=uA("display",o))}catch(y){Qt(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Qt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ki(e,t),Ki(t),r&4&&LI(t);break;case 21:break;default:ki(e,t),Ki(t)}}function Ki(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($k(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Sh(i,""),r.flags&=-33);var s=NI(t);I_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=NI(t);C_(t,a,o);break;default:throw Error(Q(161))}}catch(l){Qt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function z$(t,e,n){fe=t,Vk(t)}function Vk(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var i=fe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||V0;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Qn;a=V0;var c=Qn;if(V0=o,(Qn=l)&&!c)for(fe=i;fe!==null;)o=fe,l=o.child,o.tag===22&&o.memoizedState!==null?OI(i):l!==null?(l.return=o,fe=l):OI(i);for(;s!==null;)fe=s,Vk(s),s=s.sibling;fe=i,V0=a,Qn=c}DI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,fe=s):DI(t)}}function DI(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qn||z2(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Li(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&vI(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vI(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ph(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Qn||e.flags&512&&E_(e)}catch(f){Qt(e,e.return,f)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function MI(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function OI(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{z2(4,e)}catch(l){Qt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Qt(e,i,l)}}var s=e.return;try{E_(e)}catch(l){Qt(e,s,l)}break;case 5:var o=e.return;try{E_(e)}catch(l){Qt(e,o,l)}}}catch(l){Qt(e,e.return,l)}if(e===t){fe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fe=a;break}fe=e.return}}var B$=Math.ceil,Cm=io.ReactCurrentDispatcher,r3=io.ReactCurrentOwner,vi=io.ReactCurrentBatchConfig,lt=0,Rn=null,pn=null,jn=0,Vr=0,Sc=ma(0),_n=0,zh=null,fl=0,B2=0,i3=0,oh=null,Er=null,s3=0,iu=1/0,Ss=null,Im=!1,b_=null,qo=null,U0=!1,Oo=null,bm=0,ah=0,T_=null,bp=-1,Tp=0;function dr(){return lt&6?tn():bp!==-1?bp:bp=tn()}function Go(t){return t.mode&1?lt&2&&jn!==0?jn&-jn:T$.transition!==null?(Tp===0&&(Tp=CA()),Tp):(t=_t,t!==0||(t=window.event,t=t===void 0?16:kA(t.type)),t):1}function Fi(t,e,n,r){if(50<ah)throw ah=0,T_=null,Error(Q(185));Pf(t,n,r),(!(lt&2)||t!==Rn)&&(t===Rn&&(!(lt&2)&&(B2|=n),_n===4&&So(t,jn)),Nr(t,r),n===1&&lt===0&&!(e.mode&1)&&(iu=tn()+500,F2&&ga()))}function Nr(t,e){var n=t.callbackNode;TO(t,e);var r=lm(t,t===Rn?jn:0);if(r===0)n!==null&&HC(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&HC(n),e===1)t.tag===0?b$($I.bind(null,t)):QA($I.bind(null,t)),x$(function(){!(lt&6)&&ga()}),n=null;else{switch(IA(r)){case 1:n=Px;break;case 4:n=xA;break;case 16:n=am;break;case 536870912:n=EA;break;default:n=am}n=Kk(n,Uk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Uk(t,e){if(bp=-1,Tp=0,lt&6)throw Error(Q(327));var n=t.callbackNode;if(jc()&&t.callbackNode!==n)return null;var r=lm(t,t===Rn?jn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Tm(t,r);else{e=r;var i=lt;lt|=2;var s=Bk();(Rn!==t||jn!==e)&&(Ss=null,iu=tn()+500,tl(t,e));do try{q$();break}catch(a){zk(t,a)}while(!0);Wx(),Cm.current=s,lt=i,pn!==null?e=0:(Rn=null,jn=0,e=_n)}if(e!==0){if(e===2&&(i=Zy(t),i!==0&&(r=i,e=S_(t,i))),e===1)throw n=zh,tl(t,0),So(t,r),Nr(t,tn()),n;if(e===6)So(t,r);else{if(i=t.current.alternate,!(r&30)&&!W$(i)&&(e=Tm(t,r),e===2&&(s=Zy(t),s!==0&&(r=s,e=S_(t,s))),e===1))throw n=zh,tl(t,0),So(t,r),Nr(t,tn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:Na(t,Er,Ss);break;case 3:if(So(t,r),(r&130023424)===r&&(e=s3+500-tn(),10<e)){if(lm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){dr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=a_(Na.bind(null,t,Er,Ss),e);break}Na(t,Er,Ss);break;case 4:if(So(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ji(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=tn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*B$(r/1960))-r,10<r){t.timeoutHandle=a_(Na.bind(null,t,Er,Ss),r);break}Na(t,Er,Ss);break;case 5:Na(t,Er,Ss);break;default:throw Error(Q(329))}}}return Nr(t,tn()),t.callbackNode===n?Uk.bind(null,t):null}function S_(t,e){var n=oh;return t.current.memoizedState.isDehydrated&&(tl(t,e).flags|=256),t=Tm(t,e),t!==2&&(e=Er,Er=n,e!==null&&R_(e)),t}function R_(t){Er===null?Er=t:Er.push.apply(Er,t)}function W$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!zi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function So(t,e){for(e&=~i3,e&=~B2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ji(e),r=1<<n;t[n]=-1,e&=~r}}function $I(t){if(lt&6)throw Error(Q(327));jc();var e=lm(t,0);if(!(e&1))return Nr(t,tn()),null;var n=Tm(t,e);if(t.tag!==0&&n===2){var r=Zy(t);r!==0&&(e=r,n=S_(t,r))}if(n===1)throw n=zh,tl(t,0),So(t,e),Nr(t,tn()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Na(t,Er,Ss),Nr(t,tn()),null}function o3(t,e){var n=lt;lt|=1;try{return t(e)}finally{lt=n,lt===0&&(iu=tn()+500,F2&&ga())}}function pl(t){Oo!==null&&Oo.tag===0&&!(lt&6)&&jc();var e=lt;lt|=1;var n=vi.transition,r=_t;try{if(vi.transition=null,_t=1,t)return t()}finally{_t=r,vi.transition=n,lt=e,!(lt&6)&&ga()}}function a3(){Vr=Sc.current,$t(Sc)}function tl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,w$(n)),pn!==null)for(n=pn.return;n!==null;){var r=n;switch(Ux(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fm();break;case 3:nu(),$t(kr),$t(tr),Yx();break;case 5:Qx(r);break;case 4:nu();break;case 13:$t(Ut);break;case 19:$t(Ut);break;case 10:Hx(r.type._context);break;case 22:case 23:a3()}n=n.return}if(Rn=t,pn=t=Ko(t.current,null),jn=Vr=e,_n=0,zh=null,i3=B2=fl=0,Er=oh=null,Wa!==null){for(e=0;e<Wa.length;e++)if(n=Wa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Wa=null}return t}function zk(t,e){do{var n=pn;try{if(Wx(),Ep.current=Em,xm){for(var r=Wt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xm=!1}if(hl=0,In=yn=Wt=null,ih=!1,Fh=0,r3.current=null,n===null||n.return===null){_n=1,zh=e,pn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=jn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=II(o);if(p!==null){p.flags&=-257,bI(p,o,a,s,e),p.mode&1&&CI(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){CI(s,c,e),l3();break e}l=Error(Q(426))}}else if(Ft&&a.mode&1){var x=II(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),bI(x,o,a,s,e),zx(ru(l,a));break e}}s=l=ru(l,a),_n!==4&&(_n=2),oh===null?oh=[s]:oh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=bk(s,l,e);gI(s,g);break e;case 1:a=l;var w=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(qo===null||!qo.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=Tk(s,a,e);gI(s,E);break e}}s=s.return}while(s!==null)}Hk(n)}catch(b){e=b,pn===n&&n!==null&&(pn=n=n.return);continue}break}while(!0)}function Bk(){var t=Cm.current;return Cm.current=Em,t===null?Em:t}function l3(){(_n===0||_n===3||_n===2)&&(_n=4),Rn===null||!(fl&268435455)&&!(B2&268435455)||So(Rn,jn)}function Tm(t,e){var n=lt;lt|=2;var r=Bk();(Rn!==t||jn!==e)&&(Ss=null,tl(t,e));do try{H$();break}catch(i){zk(t,i)}while(!0);if(Wx(),lt=n,Cm.current=r,pn!==null)throw Error(Q(261));return Rn=null,jn=0,_n}function H$(){for(;pn!==null;)Wk(pn)}function q$(){for(;pn!==null&&!vO();)Wk(pn)}function Wk(t){var e=Gk(t.alternate,t,Vr);t.memoizedProps=t.pendingProps,e===null?Hk(t):pn=e,r3.current=null}function Hk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=F$(n,e),n!==null){n.flags&=32767,pn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_n=6,pn=null;return}}else if(n=j$(n,e,Vr),n!==null){pn=n;return}if(e=e.sibling,e!==null){pn=e;return}pn=e=t}while(e!==null);_n===0&&(_n=5)}function Na(t,e,n){var r=_t,i=vi.transition;try{vi.transition=null,_t=1,G$(t,e,n,r)}finally{vi.transition=i,_t=r}return null}function G$(t,e,n,r){do jc();while(Oo!==null);if(lt&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(SO(t,s),t===Rn&&(pn=Rn=null,jn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||U0||(U0=!0,Kk(am,function(){return jc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=vi.transition,vi.transition=null;var o=_t;_t=1;var a=lt;lt|=4,r3.current=null,U$(t,n),Fk(n,t),f$(s_),cm=!!i_,s_=i_=null,t.current=n,z$(n),yO(),lt=a,_t=o,vi.transition=s}else t.current=n;if(U0&&(U0=!1,Oo=t,bm=i),s=t.pendingLanes,s===0&&(qo=null),xO(n.stateNode),Nr(t,tn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Im)throw Im=!1,t=b_,b_=null,t;return bm&1&&t.tag!==0&&jc(),s=t.pendingLanes,s&1?t===T_?ah++:(ah=0,T_=t):ah=0,ga(),null}function jc(){if(Oo!==null){var t=IA(bm),e=vi.transition,n=_t;try{if(vi.transition=null,_t=16>t?16:t,Oo===null)var r=!1;else{if(t=Oo,Oo=null,bm=0,lt&6)throw Error(Q(331));var i=lt;for(lt|=4,fe=t.current;fe!==null;){var s=fe,o=s.child;if(fe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(fe=c;fe!==null;){var u=fe;switch(u.tag){case 0:case 11:case 15:sh(8,u,s)}var d=u.child;if(d!==null)d.return=u,fe=d;else for(;fe!==null;){u=fe;var f=u.sibling,p=u.return;if(Ok(u),u===c){fe=null;break}if(f!==null){f.return=p,fe=f;break}fe=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}fe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,fe=o;else e:for(;fe!==null;){if(s=fe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:sh(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,fe=g;break e}fe=s.return}}var w=t.current;for(fe=w;fe!==null;){o=fe;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,fe=_;else e:for(o=w;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:z2(9,a)}}catch(b){Qt(a,a.return,b)}if(a===o){fe=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,fe=E;break e}fe=a.return}}if(lt=i,ga(),us&&typeof us.onPostCommitFiberRoot=="function")try{us.onPostCommitFiberRoot(D2,t)}catch{}r=!0}return r}finally{_t=n,vi.transition=e}}return!1}function jI(t,e,n){e=ru(n,e),e=bk(t,e,1),t=Ho(t,e,1),e=dr(),t!==null&&(Pf(t,1,e),Nr(t,e))}function Qt(t,e,n){if(t.tag===3)jI(t,t,n);else for(;e!==null;){if(e.tag===3){jI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qo===null||!qo.has(r))){t=ru(n,t),t=Tk(e,t,1),e=Ho(e,t,1),t=dr(),e!==null&&(Pf(e,1,t),Nr(e,t));break}}e=e.return}}function K$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dr(),t.pingedLanes|=t.suspendedLanes&n,Rn===t&&(jn&n)===n&&(_n===4||_n===3&&(jn&130023424)===jn&&500>tn()-s3?tl(t,0):i3|=n),Nr(t,e)}function qk(t,e){e===0&&(t.mode&1?(e=P0,P0<<=1,!(P0&130023424)&&(P0=4194304)):e=1);var n=dr();t=Gs(t,e),t!==null&&(Pf(t,e,n),Nr(t,n))}function Q$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qk(t,n)}function Y$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),qk(t,n)}var Gk;Gk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kr.current)br=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return br=!1,$$(t,e,n);br=!!(t.flags&131072)}else br=!1,Ft&&e.flags&1048576&&YA(e,gm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ip(t,e),t=e.pendingProps;var i=Zc(e,tr.current);$c(e,n),i=Jx(null,e,r,t,i,n);var s=Zx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pr(r)?(s=!0,pm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gx(e),i.updater=V2,e.stateNode=i,i._reactInternals=e,p_(e,r,t,n),e=v_(null,e,r,!0,s,n)):(e.tag=0,Ft&&s&&Vx(e),ir(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ip(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=J$(r),t=Li(r,t),i){case 0:e=g_(null,e,r,t,n);break e;case 1:e=RI(null,e,r,t,n);break e;case 11:e=TI(null,e,r,t,n);break e;case 14:e=SI(null,e,r,Li(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Li(r,i),g_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Li(r,i),RI(t,e,r,i,n);case 3:e:{if(kk(e),t===null)throw Error(Q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ek(t,e),_m(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ru(Error(Q(423)),e),e=AI(t,e,r,n,i);break e}else if(r!==i){i=ru(Error(Q(424)),e),e=AI(t,e,r,n,i);break e}else for(Br=Wo(e.stateNode.containerInfo.firstChild),qr=e,Ft=!0,Mi=null,n=ik(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(eu(),r===i){e=Ks(t,e,n);break e}ir(t,e,r,n)}e=e.child}return e;case 5:return sk(e),t===null&&d_(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,o_(r,i)?o=null:s!==null&&o_(r,s)&&(e.flags|=32),Ak(t,e),ir(t,e,o,n),e.child;case 6:return t===null&&d_(e),null;case 13:return Pk(t,e,n);case 4:return Kx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=tu(e,null,r,n):ir(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Li(r,i),TI(t,e,r,i,n);case 7:return ir(t,e,e.pendingProps,n),e.child;case 8:return ir(t,e,e.pendingProps.children,n),e.child;case 12:return ir(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Pt(vm,r._currentValue),r._currentValue=o,s!==null)if(zi(s.value,o)){if(s.children===i.children&&!kr.current){e=Ks(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Us(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),h_(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),h_(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ir(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,$c(e,n),i=xi(i),r=r(i),e.flags|=1,ir(t,e,r,n),e.child;case 14:return r=e.type,i=Li(r,e.pendingProps),i=Li(r.type,i),SI(t,e,r,i,n);case 15:return Sk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Li(r,i),Ip(t,e),e.tag=1,Pr(r)?(t=!0,pm(e)):t=!1,$c(e,n),nk(e,r,i),p_(e,r,i,n),v_(null,e,r,!0,t,n);case 19:return Nk(t,e,n);case 22:return Rk(t,e,n)}throw Error(Q(156,e.tag))};function Kk(t,e){return wA(t,e)}function X$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hi(t,e,n,r){return new X$(t,e,n,r)}function c3(t){return t=t.prototype,!(!t||!t.isReactComponent)}function J$(t){if(typeof t=="function")return c3(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rx)return 11;if(t===Ax)return 14}return 2}function Ko(t,e){var n=t.alternate;return n===null?(n=hi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sp(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")c3(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vc:return nl(n.children,i,s,e);case Sx:o=8,i|=8;break;case jy:return t=hi(12,n,e,i|2),t.elementType=jy,t.lanes=s,t;case Fy:return t=hi(13,n,e,i),t.elementType=Fy,t.lanes=s,t;case Vy:return t=hi(19,n,e,i),t.elementType=Vy,t.lanes=s,t;case rA:return W2(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tA:o=10;break e;case nA:o=9;break e;case Rx:o=11;break e;case Ax:o=14;break e;case Io:o=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=hi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function nl(t,e,n,r){return t=hi(7,t,r,e),t.lanes=n,t}function W2(t,e,n,r){return t=hi(22,t,r,e),t.elementType=rA,t.lanes=n,t.stateNode={isHidden:!1},t}function Dv(t,e,n){return t=hi(6,t,null,e),t.lanes=n,t}function Mv(t,e,n){return e=hi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Z$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mv(0),this.expirationTimes=mv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function u3(t,e,n,r,i,s,o,a,l){return t=new Z$(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=hi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gx(s),t}function ej(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Qk(t){if(!t)return na;t=t._reactInternals;e:{if(Ol(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(Pr(n))return KA(t,n,e)}return e}function Yk(t,e,n,r,i,s,o,a,l){return t=u3(n,r,!0,t,i,s,o,a,l),t.context=Qk(null),n=t.current,r=dr(),i=Go(n),s=Us(r,i),s.callback=e??null,Ho(n,s,i),t.current.lanes=i,Pf(t,i,r),Nr(t,r),t}function H2(t,e,n,r){var i=e.current,s=dr(),o=Go(i);return n=Qk(n),e.context===null?e.context=n:e.pendingContext=n,e=Us(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ho(i,e,o),t!==null&&(Fi(t,i,o,s),xp(t,i,o)),o}function Sm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function FI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function d3(t,e){FI(t,e),(t=t.alternate)&&FI(t,e)}function tj(){return null}var Xk=typeof reportError=="function"?reportError:function(t){console.error(t)};function h3(t){this._internalRoot=t}q2.prototype.render=h3.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));H2(t,e,null,null)};q2.prototype.unmount=h3.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pl(function(){H2(null,t,null,null)}),e[qs]=null}};function q2(t){this._internalRoot=t}q2.prototype.unstable_scheduleHydration=function(t){if(t){var e=SA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<To.length&&e!==0&&e<To[n].priority;n++);To.splice(n,0,t),n===0&&AA(t)}};function f3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function G2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function VI(){}function nj(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Sm(o);s.call(c)}}var o=Yk(e,r,t,0,null,!1,!1,"",VI);return t._reactRootContainer=o,t[qs]=o.current,Dh(t.nodeType===8?t.parentNode:t),pl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Sm(l);a.call(c)}}var l=u3(t,0,!1,null,null,!1,!1,"",VI);return t._reactRootContainer=l,t[qs]=l.current,Dh(t.nodeType===8?t.parentNode:t),pl(function(){H2(e,l,n,r)}),l}function K2(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Sm(o);a.call(l)}}H2(e,o,t,i)}else o=nj(n,e,t,i,r);return Sm(o)}bA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Vd(e.pendingLanes);n!==0&&(Nx(e,n|1),Nr(e,tn()),!(lt&6)&&(iu=tn()+500,ga()))}break;case 13:pl(function(){var r=Gs(t,1);if(r!==null){var i=dr();Fi(r,t,1,i)}}),d3(t,1)}};Lx=function(t){if(t.tag===13){var e=Gs(t,134217728);if(e!==null){var n=dr();Fi(e,t,134217728,n)}d3(t,134217728)}};TA=function(t){if(t.tag===13){var e=Go(t),n=Gs(t,e);if(n!==null){var r=dr();Fi(n,t,e,r)}d3(t,e)}};SA=function(){return _t};RA=function(t,e){var n=_t;try{return _t=t,e()}finally{_t=n}};Yy=function(t,e,n){switch(e){case"input":if(By(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=j2(r);if(!i)throw Error(Q(90));sA(r),By(r,i)}}}break;case"textarea":aA(t,n);break;case"select":e=n.value,e!=null&&Lc(t,!!n.multiple,e,!1)}};pA=o3;mA=pl;var rj={usingClientEntryPoint:!1,Events:[Lf,xc,j2,hA,fA,o3]},gd={findFiberByHostInstance:Ba,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ij={bundleType:gd.bundleType,version:gd.version,rendererPackageName:gd.rendererPackageName,rendererConfig:gd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:io.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yA(t),t===null?null:t.stateNode},findFiberByHostInstance:gd.findFiberByHostInstance||tj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var z0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!z0.isDisabled&&z0.supportsFiber)try{D2=z0.inject(ij),us=z0}catch{}}ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rj;ti.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f3(e))throw Error(Q(200));return ej(t,e,null,n)};ti.createRoot=function(t,e){if(!f3(t))throw Error(Q(299));var n=!1,r="",i=Xk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=u3(t,1,!1,null,null,n,!1,r,i),t[qs]=e.current,Dh(t.nodeType===8?t.parentNode:t),new h3(e)};ti.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=yA(e),t=t===null?null:t.stateNode,t};ti.flushSync=function(t){return pl(t)};ti.hydrate=function(t,e,n){if(!G2(e))throw Error(Q(200));return K2(null,t,e,!0,n)};ti.hydrateRoot=function(t,e,n){if(!f3(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Xk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Yk(e,null,t,1,n??null,i,!1,s,o),t[qs]=e.current,Dh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new q2(e)};ti.render=function(t,e,n){if(!G2(e))throw Error(Q(200));return K2(null,t,e,!1,n)};ti.unmountComponentAtNode=function(t){if(!G2(t))throw Error(Q(40));return t._reactRootContainer?(pl(function(){K2(null,null,t,!1,function(){t._reactRootContainer=null,t[qs]=null})}),!0):!1};ti.unstable_batchedUpdates=o3;ti.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!G2(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return K2(t,e,n,!1,r)};ti.version="18.2.0-next-9e3b772b8-20220608";function Jk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jk)}catch(t){console.error(t)}}Jk(),YR.exports=ti;var Bh=YR.exports;const B0=FR(Bh);var UI=Bh;Oy.createRoot=UI.createRoot,Oy.hydrateRoot=UI.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wh(){return Wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wh.apply(this,arguments)}var $o;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($o||($o={}));const zI="popstate";function sj(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=$l(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),A_("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:Rm(s))}function r(i,s){Q2(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return aj(e,n,r,t)}function gn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Q2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oj(){return Math.random().toString(36).substr(2,8)}function BI(t,e){return{usr:t.state,key:t.key,idx:e}}function A_(t,e,n,r){return n===void 0&&(n=null),Wh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$l(e):e,{state:n,key:e&&e.key||r||oj()})}function Rm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $l(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function aj(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=$o.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Wh({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=$o.Pop;let x=u(),g=x==null?null:x-c;c=x,l&&l({action:a,location:y.location,delta:g})}function f(x,g){a=$o.Push;let w=A_(y.location,x,g);n&&n(w,x),c=u()+1;let _=BI(w,c),E=y.createHref(w);try{o.pushState(_,"",E)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(E)}s&&l&&l({action:a,location:y.location,delta:1})}function p(x,g){a=$o.Replace;let w=A_(y.location,x,g);n&&n(w,x),c=u();let _=BI(w,c),E=y.createHref(w);o.replaceState(_,"",E),s&&l&&l({action:a,location:y.location,delta:0})}function m(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:Rm(x);return gn(g,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,g)}let y={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(zI,d),l=x,()=>{i.removeEventListener(zI,d),l=null}},createHref(x){return e(i,x)},createURL:m,encodeLocation(x){let g=m(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(x){return o.go(x)}};return y}var WI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(WI||(WI={}));function lj(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?$l(e):e,i=p3(r.pathname||"/",n);if(i==null)return null;let s=Zk(t);cj(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=yj(s[a],xj(i));return o}function Zk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(gn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Qo([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(gn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Zk(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:gj(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of e6(s.path))i(s,o,l)}),e}function e6(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=e6(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function cj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uj=/^:[\w-]+$/,dj=3,hj=2,fj=1,pj=10,mj=-2,HI=t=>t==="*";function gj(t,e){let n=t.split("/"),r=n.length;return n.some(HI)&&(r+=mj),e&&(r+=hj),n.filter(i=>!HI(i)).reduce((i,s)=>i+(uj.test(s)?dj:s===""?fj:pj),r)}function vj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function yj(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=_j({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:Qo([i,u.pathname]),pathnameBase:Tj(Qo([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Qo([i,u.pathnameBase]))}return s}function _j(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wj(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?c[f]=void 0:c[f]=Ej(m||"",f),c},{}),pathname:s,pathnameBase:o,pattern:t}}function wj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Q2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function xj(t){try{return decodeURI(t)}catch(e){return Q2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ej(t,e){try{return decodeURIComponent(t)}catch(n){return Q2(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function p3(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Cj(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?$l(t):t;return{pathname:n?n.startsWith("/")?n:Ij(n,e):e,search:Sj(r),hash:Rj(i)}}function Ij(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ov(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function t6(t,e){let n=bj(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function n6(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=$l(t):(i=Wh({},t),gn(!i.pathname||!i.pathname.includes("?"),Ov("?","pathname","search",i)),gn(!i.pathname||!i.pathname.includes("#"),Ov("#","pathname","hash",i)),gn(!i.search||!i.search.includes("#"),Ov("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=Cj(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Qo=t=>t.join("/").replace(/\/\/+/g,"/"),Tj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Sj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Rj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Aj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const r6=["post","put","patch","delete"];new Set(r6);const kj=["get",...r6];new Set(kj);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hh(){return Hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hh.apply(this,arguments)}const m3=v.createContext(null),Pj=v.createContext(null),jl=v.createContext(null),Y2=v.createContext(null),va=v.createContext({outlet:null,matches:[],isDataRoute:!1}),i6=v.createContext(null);function Nj(t,e){let{relative:n}=e===void 0?{}:e;Mf()||gn(!1);let{basename:r,navigator:i}=v.useContext(jl),{hash:s,pathname:o,search:a}=o6(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Qo([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Mf(){return v.useContext(Y2)!=null}function ju(){return Mf()||gn(!1),v.useContext(Y2).location}function s6(t){v.useContext(jl).static||v.useLayoutEffect(t)}function xn(){let{isDataRoute:t}=v.useContext(va);return t?Hj():Lj()}function Lj(){Mf()||gn(!1);let t=v.useContext(m3),{basename:e,future:n,navigator:r}=v.useContext(jl),{matches:i}=v.useContext(va),{pathname:s}=ju(),o=JSON.stringify(t6(i,n.v7_relativeSplatPath)),a=v.useRef(!1);return s6(()=>{a.current=!0}),v.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=n6(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Qo([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}function Of(){let{matches:t}=v.useContext(va),e=t[t.length-1];return e?e.params:{}}function o6(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(jl),{matches:i}=v.useContext(va),{pathname:s}=ju(),o=JSON.stringify(t6(i,r.v7_relativeSplatPath));return v.useMemo(()=>n6(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Dj(t,e){return Mj(t,e)}function Mj(t,e,n,r){Mf()||gn(!1);let{navigator:i}=v.useContext(jl),{matches:s}=v.useContext(va),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ju(),u;if(e){var d;let x=typeof e=="string"?$l(e):e;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||gn(!1),u=x}else u=c;let f=u.pathname||"/",p=l==="/"?f:f.slice(l.length)||"/",m=lj(t,{pathname:p}),y=Vj(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Qo([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Qo([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&y?v.createElement(Y2.Provider,{value:{location:Hh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:$o.Pop}},y):y}function Oj(){let t=Wj(),e=Aj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,s)}const $j=v.createElement(Oj,null);class jj extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(va.Provider,{value:this.props.routeContext},v.createElement(i6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fj(t){let{routeContext:e,match:n,children:r}=t,i=v.useContext(m3);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(va.Provider,{value:e},r)}function Vj(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||gn(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,m=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let p,m=!1,y=null,x=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||$j,l&&(c<0&&f===0?(qj("route-fallback",!1),m=!0,x=null):c===f&&(m=!0,x=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),w=()=>{let _;return p?_=y:m?_=x:d.route.Component?_=v.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,v.createElement(Fj,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?v.createElement(jj,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):w()},null)}var a6=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(a6||{}),Am=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Am||{});function Uj(t){let e=v.useContext(m3);return e||gn(!1),e}function zj(t){let e=v.useContext(Pj);return e||gn(!1),e}function Bj(t){let e=v.useContext(va);return e||gn(!1),e}function l6(t){let e=Bj(),n=e.matches[e.matches.length-1];return n.route.id||gn(!1),n.route.id}function Wj(){var t;let e=v.useContext(i6),n=zj(Am.UseRouteError),r=l6(Am.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Hj(){let{router:t}=Uj(a6.UseNavigateStable),e=l6(Am.UseNavigateStable),n=v.useRef(!1);return s6(()=>{n.current=!0}),v.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Hh({fromRouteId:e},s)))},[t,e])}const qI={};function qj(t,e,n){!e&&!qI[t]&&(qI[t]=!0)}function cn(t){gn(!1)}function Gj(t){let{basename:e="/",children:n=null,location:r,navigationType:i=$o.Pop,navigator:s,static:o=!1,future:a}=t;Mf()&&gn(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:s,static:o,future:Hh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=$l(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:m="default"}=r,y=v.useMemo(()=>{let x=p3(u,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:p,key:m},navigationType:i}},[l,u,d,f,p,m,i]);return y==null?null:v.createElement(jl.Provider,{value:c},v.createElement(Y2.Provider,{children:n,value:y}))}function Kj(t){let{children:e,location:n}=t;return Dj(k_(e),n)}new Promise(()=>{});function k_(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let s=[...e,i];if(r.type===v.Fragment){n.push.apply(n,k_(r.props.children,s));return}r.type!==cn&&gn(!1),!r.props.index||!r.props.children||gn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=k_(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function P_(){return P_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P_.apply(this,arguments)}function Qj(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Yj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Xj(t,e){return t.button===0&&(!e||e==="_self")&&!Yj(t)}const Jj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Zj="6";try{window.__reactRouterVersion=Zj}catch{}const eF="startTransition",GI=rm[eF];function tF(t){let{basename:e,children:n,future:r,window:i}=t,s=v.useRef();s.current==null&&(s.current=sj({window:i,v5Compat:!0}));let o=s.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=v.useCallback(d=>{c&&GI?GI(()=>l(d)):l(d)},[l,c]);return v.useLayoutEffect(()=>o.listen(u),[o,u]),v.createElement(Gj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const nF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iF=v.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,f=Qj(e,Jj),{basename:p}=v.useContext(jl),m,y=!1;if(typeof c=="string"&&rF.test(c)&&(m=c,nF))try{let _=new URL(window.location.href),E=c.startsWith("//")?new URL(_.protocol+c):new URL(c),b=p3(E.pathname,p);E.origin===_.origin&&b!=null?c=b+E.search+E.hash:y=!0}catch{}let x=Nj(c,{relative:i}),g=sF(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function w(_){r&&r(_),_.defaultPrevented||g(_)}return v.createElement("a",P_({},f,{href:m||x,onClick:y||s?r:w,ref:n,target:l}))});var KI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(KI||(KI={}));var QI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(QI||(QI={}));function sF(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=xn(),c=ju(),u=o6(t,{relative:o});return v.useCallback(d=>{if(Xj(d,n)){d.preventDefault();let f=r!==void 0?r:Rm(c)===Rm(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}const oF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M41.9375%208.625C41.273438%208.648438%2040.664063%209%2040.3125%209.5625L21.5%2038.34375L9.3125%2027.8125C8.789063%2027.269531%208.003906%2027.066406%207.28125%2027.292969C6.5625%2027.515625%206.027344%2028.125%205.902344%2028.867188C5.777344%2029.613281%206.078125%2030.363281%206.6875%2030.8125L20.625%2042.875C21.0625%2043.246094%2021.640625%2043.410156%2022.207031%2043.328125C22.777344%2043.242188%2023.28125%2042.917969%2023.59375%2042.4375L43.6875%2011.75C44.117188%2011.121094%2044.152344%2010.308594%2043.78125%209.644531C43.410156%208.984375%2042.695313%208.589844%2041.9375%208.625Z'%20fill='%231EE97C'%20/%3e%3c/svg%3e",aF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",lF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%203C14.168432%203%2013.456063%203.5067238%2013.154297%204.2285156L2.3007812%2022.947266L2.3007812%2022.949219%20A%202%202%200%200%200%202%2024%20A%202%202%200%200%200%204%2026%20A%202%202%200%200%200%204.140625%2025.994141L4.1445312%2026L15%2026L25.855469%2026L25.859375%2025.992188%20A%202%202%200%200%200%2026%2026%20A%202%202%200%200%200%2028%2024%20A%202%202%200%200%200%2027.699219%2022.947266L27.683594%2022.919922%20A%202%202%200%200%200%2027.681641%2022.917969L16.845703%204.2285156C16.543937%203.5067238%2015.831568%203%2015%203%20z%20M%2013.787109%2011.359375L16.212891%2011.359375L16.011719%2017.832031L13.988281%2017.832031L13.787109%2011.359375%20z%20M%2015.003906%2019.810547C15.825906%2019.810547%2016.318359%2020.252813%2016.318359%2021.007812C16.318359%2021.748812%2015.825906%2022.189453%2015.003906%2022.189453C14.175906%2022.189453%2013.679688%2021.748813%2013.679688%2021.007812C13.679688%2020.252813%2014.174906%2019.810547%2015.003906%2019.810547%20z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",cF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M3,12v-2c0-0.386,0.223-0.738,0.572-0.904s0.762-0.115,1.062,0.13L15,17.708l10.367-8.482%20c0.299-0.245,0.712-0.295,1.062-0.13C26.779,9.261,27,9.614,27,10v2c0,0.3-0.135,0.584-0.367,0.774l-11,9%20c-0.369,0.301-0.898,0.301-1.267,0l-11-9C3.135,12.584,3,12.3,3,12z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",uF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M17,3h2c0.386,0,0.738,0.223,0.904,0.572s0.115,0.762-0.13,1.062L11.292,15l8.482,10.367%20c0.245,0.299,0.295,0.712,0.13,1.062S19.386,27,19,27h-2c-0.3,0-0.584-0.135-0.774-0.367l-9-11c-0.301-0.369-0.301-0.898,0-1.267%20l9-11C16.416,3.135,16.7,3,17,3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",dF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M19,7h-6.774l0.564-1.551c0.604-1.662-0.134-3.512-1.716-4.302c-0.691-0.345-1.532-0.064-1.877,0.627L6.339,7.504%20C5.532,8.042,5,8.958,5,10v7c0,2.209,1.791,4,4,4h6.989c2.344,0,4.373-1.628,4.881-3.915L22,12v-2C22,8.343,20.657,7,19,7z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M7,19.5c0-0.386,0-10.614,0-11C7,7.672,6.328,7,5.5,7S4,7.672,4,8.5c0,0.386,0,10.614,0,11C4,20.328,4.672,21,5.5,21S7,20.328,7,19.5z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",hF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M12,6h4V3.706c0-0.615,0.742-0.924,1.178-0.491l4.104,4.075c0.395,0.391,0.395,1.03,0,1.421l-4.104,4.075C16.742,13.218,16,12.908,16,12.294V10h-4c-4.351,0-5,2.661-5,4H3C3,10.31,5.357,6,12,6z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M8,22c0.513,0,1.024-0.196,1.415-0.587c0.78-0.781,0.78-2.046,0-2.827C8.786,17.951,7,15.753,7,14c0-6.845,5-8,5-8c-6.643,0-9,4.31-9,8c0,3.726,3.22,7.049,3.587,7.415C6.978,21.805,7.488,22,8,22z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",fF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M12,27h-2c-0.386,0-0.738-0.223-0.904-0.572s-0.115-0.762,0.13-1.062L17.708,15L9.226,4.633%20c-0.245-0.299-0.295-0.712-0.13-1.062S9.614,3,10,3h2c0.3,0,0.584,0.135,0.774,0.367l9,11c0.301,0.369,0.301,0.898,0,1.267l-9,11%20C12.584,26.865,12.3,27,12,27z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",pF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L11.5%206%20z%20M%2011.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209%20z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",mF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C11.832031%204%208.152344%206.113281%206%209.34375L6%206L4%206L4%2013L11%2013L11%2011L7.375%2011C9.101563%208.019531%2012.296875%206%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016L4%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2015%208L15%2017L22%2017L22%2015L17%2015L17%208Z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",gF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L5%203C4.4%203%204%203.4%204%204C4%204.6%204.4%205%205%205L7%205L17%205L19%205C19.6%205%2020%204.6%2020%204C20%203.4%2019.6%203%2019%203L15%203L14%202L10%202%20z%20M%205%207L5%2020C5%2021.1%205.9%2022%207%2022L17%2022C18.1%2022%2019%2021.1%2019%2020L19%207L5%207%20z%20M%209%209C9.6%209%2010%209.4%2010%2010L10%2019C10%2019.6%209.6%2020%209%2020C8.4%2020%208%2019.6%208%2019L8%2010C8%209.4%208.4%209%209%209%20z%20M%2015%209C15.6%209%2016%209.4%2016%2010L16%2019C16%2019.6%2015.6%2020%2015%2020C14.4%2020%2014%2019.6%2014%2019L14%2010C14%209.4%2014.4%209%2015%209%20z'%20fill='%23FF4A33'%20/%3e%3c/svg%3e",vF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20fill='%230F0F0F'%20/%3e%3cpath%20d='M3%2011H21V13H3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",yF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3cpath%20d='M79.335938%2015.667969C78.064453%2015.622266%2076.775%2015.762109%2075.5%2016.099609C72.1%2016.999609%2069.299609%2019.199219%2067.599609%2022.199219L64%2028.699219C63.2%2030.099219%2063.699609%2032.000781%2065.099609%2032.800781L82.400391%2042.800781C82.900391%2043.100781%2083.400391%2043.199219%2083.900391%2043.199219C84.200391%2043.199219%2084.399219%2043.199609%2084.699219%2043.099609C85.499219%2042.899609%2086.1%2042.399219%2086.5%2041.699219L90.199219%2035.199219C91.899219%2032.199219%2092.4%2028.700781%2091.5%2025.300781C90.6%2021.900781%2088.400391%2019.100391%2085.400391%2017.400391C83.525391%2016.337891%2081.455078%2015.744141%2079.335938%2015.667969%20z%20M%2060.097656%2038.126953C59.128906%2038.201172%2058.199219%2038.724609%2057.699219%2039.599609L27.5%2092C24.1%2097.8%2022.200781%20104.30039%2021.800781%20110.90039L21%20123.80078C20.9%20124.90078%2021.5%20125.99961%2022.5%20126.59961C23%20126.89961%2023.5%20127%2024%20127C24.6%20127%2025.199219%20126.8%2025.699219%20126.5L36.5%20119.40039C42%20115.70039%2046.7%20110.8%2050%20105L80.300781%2052.599609C81.100781%2051.199609%2080.599219%2049.3%2079.199219%2048.5C77.799219%2047.7%2075.899609%2048.199609%2075.099609%2049.599609L44.800781%20102C41.900781%20106.9%2037.899609%20111.20039%2033.099609%20114.40039L27.300781%20118.19922L27.699219%20111.30078C27.999219%20105.60078%2029.699609%20100%2032.599609%2095L62.900391%2042.599609C63.700391%2041.199609%2063.200781%2039.3%2061.800781%2038.5C61.275781%2038.2%2060.678906%2038.082422%2060.097656%2038.126953%20z%20M%2049%20121C47.3%20121%2046%20122.3%2046%20124C46%20125.7%2047.3%20127%2049%20127L89%20127C90.7%20127%2092%20125.7%2092%20124C92%20122.3%2090.7%20121%2089%20121L49%20121%20z%20M%20104%20121%20A%203%203%200%200%200%20101%20124%20A%203%203%200%200%200%20104%20127%20A%203%203%200%200%200%20107%20124%20A%203%203%200%200%200%20104%20121%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",_F="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M5%203C3.9057453%203%203%203.9057453%203%205L3%2019C3%2020.094255%203.9057453%2021%205%2021L19%2021C20.094255%2021%2021%2020.094255%2021%2019L21%207L17%203L5%203%20z%20M%205%205L16.171875%205L19%207.828125L19%2019L5%2019L5%205%20z%20M%207%207L7%2010L15%2010L15%207L7%207%20z%20M%2011.5%2012%20A%202.5%202.5%200%200%200%209%2014.5%20A%202.5%202.5%200%200%200%2011.5%2017%20A%202.5%202.5%200%200%200%2014%2014.5%20A%202.5%202.5%200%200%200%2011.5%2012%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",wF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M27,18v2c0,0.386-0.223,0.738-0.572,0.904c-0.349,0.166-0.762,0.115-1.062-0.13L15,12.292L4.633,20.774%20c-0.299,0.245-0.712,0.295-1.062,0.13C3.221,20.739,3,20.386,3,20v-2c0-0.3,0.135-0.584,0.367-0.774l11-9%20c0.369-0.301,0.898-0.301,1.267,0l11,9C26.865,17.416,27,17.7,27,18z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",xF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%200C13.35499%200%2012%201.3549904%2012%203L8%203C6.3550302%203%205%204.3550302%205%206L5%2024C5%2025.64497%206.3550302%2027%208%2027L22%2027C23.64497%2027%2025%2025.64497%2025%2024L25%206C25%204.3550302%2023.64497%203%2022%203L18%203C18%201.3549904%2016.64501%200%2015%200%20z%20M%2015%202C15.564129%202%2016%202.4358706%2016%203C16%203.5641294%2015.564129%204%2015%204C14.435871%204%2014%203.5641294%2014%203C14%202.4358706%2014.435871%202%2015%202%20z%20M%208%205L12%205L12%206C12%206.552%2012.448%207%2013%207L17%207C17.552%207%2018%206.552%2018%206L18%205L22%205C22.56503%205%2023%205.4349698%2023%206L23%2024C23%2024.56503%2022.56503%2025%2022%2025L8%2025C7.4349698%2025%207%2024.56503%207%2024L7%206C7%205.4349698%207.4349698%205%208%205%20z%20M%2011%2011%20A%201.0001%201.0001%200%201%200%2011%2013L19%2013%20A%201.0001%201.0001%200%201%200%2019%2011L11%2011%20z%20M%2011%2015%20A%201.0001%201.0001%200%201%200%2011%2017L16%2017%20A%201.0001%201.0001%200%201%200%2016%2015L11%2015%20z%20M%2011%2019%20A%201.0001%201.0001%200%201%200%2011%2021L19%2021%20A%201.0001%201.0001%200%201%200%2019%2019L11%2019%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",EF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16.03125%204C14.921875%204%2013.8125%204.15625%2012.71875%204.46875L11.9375%204.6875L12%205.5C12.042969%206.238281%2011.679688%206.949219%2011%207.34375C10.320313%207.738281%209.523438%207.6875%208.90625%207.28125L8.25%206.84375L7.65625%207.375C6.023438%208.957031%204.910156%2010.957031%204.375%2013.09375L4.1875%2013.875L4.875%2014.21875C5.535156%2014.550781%206%2015.210938%206%2016C6%2016.789063%205.535156%2017.449219%204.875%2017.78125L4.15625%2018.125L4.375%2018.90625C4.636719%2019.957031%205.019531%2021.007813%205.59375%2022C6.167969%2022.992188%206.878906%2023.871094%207.65625%2024.625L8.25%2025.1875L8.90625%2024.75C9.523438%2024.34375%2010.316406%2024.261719%2011%2024.65625C11.683594%2025.050781%2012.042969%2025.761719%2012%2026.5L11.9375%2027.3125L12.71875%2027.53125C14.109375%2027.925781%2015.558594%2028.039063%2017%2027.90625L17%2032L32%2032L32%2018L27.59375%2018L27.125%2017.78125C26.464844%2017.449219%2026%2016.789063%2026%2016C26%2015.210938%2026.464844%2014.550781%2027.125%2014.21875L27.84375%2013.875L27.625%2013.09375C27.363281%2012.042969%2026.980469%2010.992188%2026.40625%2010C25.832031%209.007813%2025.121094%208.128906%2024.34375%207.375L23.78125%206.8125L23.09375%207.28125C22.476563%207.6875%2021.683594%207.738281%2021%207.34375L20.96875%207.3125C20.3125%206.914063%2019.957031%206.222656%2020%205.5L20.0625%204.6875L19.28125%204.46875C18.222656%204.167969%2017.140625%204%2016.03125%204%20Z%20M%2016%206.09375C16.742188%206.09375%2017.496094%206.179688%2018.21875%206.34375C18.429688%207.4375%2018.960938%208.460938%2020%209.0625C21.050781%209.667969%2022.21875%209.597656%2023.28125%209.21875C23.785156%209.757813%2024.273438%2010.335938%2024.65625%2011C25.042969%2011.671875%2025.285156%2012.378906%2025.5%2013.09375C24.648438%2013.824219%2024%2014.792969%2024%2016C24%2016.730469%2024.214844%2017.410156%2024.5625%2018L21.65625%2018C21.882813%2017.378906%2022%2016.703125%2022%2016C22%2012.699219%2019.300781%2010%2016%2010C12.699219%2010%2010%2012.699219%2010%2016C10%2019.300781%2012.699219%2022%2016%2022C16.34375%2022%2016.671875%2021.960938%2017%2021.90625L17%2025.90625C15.910156%2026.007813%2014.832031%2025.921875%2013.78125%2025.6875C13.574219%2024.582031%2013.050781%2023.542969%2012%2022.9375C10.949219%2022.332031%209.78125%2022.402344%208.71875%2022.78125C8.210938%2022.238281%207.726563%2021.664063%207.34375%2021C6.957031%2020.328125%206.714844%2019.621094%206.5%2018.90625C7.351563%2018.175781%208%2017.207031%208%2016C8%2014.792969%207.351563%2013.824219%206.5%2013.09375C6.933594%2011.667969%207.710938%2010.371094%208.75%209.25C9.800781%209.609375%2010.960938%209.660156%2012%209.0625C13.039063%208.464844%2013.570313%207.4375%2013.78125%206.34375C14.523438%206.175781%2015.257813%206.09375%2016%206.09375%20Z%20M%2016%2012C18.21875%2012%2020%2013.78125%2020%2016C20%2016.730469%2019.785156%2017.40625%2019.4375%2018L17%2018L17%2019.84375C16.675781%2019.933594%2016.351563%2020%2016%2020C13.78125%2020%2012%2018.21875%2012%2016C12%2013.78125%2013.78125%2012%2016%2012%20Z%20M%2019%2020L30%2020L30%2021L19%2021%20Z%20M%2019%2023L30%2023L30%2030L19%2030%20Z%20M%2026.28125%2023.78125L24%2026.0625L22.71875%2024.78125L21.28125%2026.21875L23.28125%2028.21875L24%2028.90625L24.71875%2028.21875L27.71875%2025.21875Z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",CF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M4%207L4%209L28%209L28%207%20Z%20M%204%2015L4%2017L28%2017L28%2015%20Z%20M%204%2023L4%2025L28%2025L28%2023Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",IF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%202.59375L15.28125%203.28125L2.28125%2016.28125L3.71875%2017.71875L5%2016.4375L5%2028L14%2028L14%2018L18%2018L18%2028L27%2028L27%2016.4375L28.28125%2017.71875L29.71875%2016.28125L16.71875%203.28125%20Z%20M%2016%205.4375L25%2014.4375L25%2026L20%2026L20%2016L12%2016L12%2026L7%2026L7%2014.4375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",bF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M20.5%204C18.203405%204%2016.305701%205.7666235%2016.050781%208L12.5%208C10.032499%208%208%2010.032499%208%2012.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2012.5C40%2010.032499%2037.967501%208%2035.5%208L31.949219%208C31.694299%205.7666235%2029.796595%204%2027.5%204L20.5%204%20z%20M%2020.5%207L27.5%207C28.346499%207%2029%207.6535009%2029%208.5C29%209.3464991%2028.346499%2010%2027.5%2010L20.5%2010C19.653501%2010%2019%209.3464991%2019%208.5C19%207.6535009%2019.653501%207%2020.5%207%20z%20M%2012.5%2011L16.769531%2011C17.581237%2012.2019%2018.954719%2013%2020.5%2013L27.5%2013C29.045281%2013%2030.418763%2012.2019%2031.230469%2011L35.5%2011C36.346499%2011%2037%2011.653501%2037%2012.5L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%2012.5C11%2011.653501%2011.653501%2011%2012.5%2011%20z%20M%2032.470703%2018.986328%20A%201.50015%201.50015%200%200%200%2031.439453%2019.439453L28.5%2022.378906L27.560547%2021.439453%20A%201.50015%201.50015%200%201%200%2025.439453%2023.560547L27.439453%2025.560547%20A%201.50015%201.50015%200%200%200%2029.560547%2025.560547L33.560547%2021.560547%20A%201.50015%201.50015%200%200%200%2032.470703%2018.986328%20z%20M%2015.5%2021%20A%201.50015%201.50015%200%201%200%2015.5%2024L21.5%2024%20A%201.50015%201.50015%200%201%200%2021.5%2021L15.5%2021%20z%20M%2032.486328%2027.978516%20A%201.50015%201.50015%200%200%200%2031.439453%2028.439453L30%2029.878906L28.560547%2028.439453%20A%201.50015%201.50015%200%200%200%2027.484375%2027.984375%20A%201.50015%201.50015%200%200%200%2026.439453%2030.560547L27.878906%2032L26.439453%2033.439453%20A%201.50015%201.50015%200%201%200%2028.560547%2035.560547L30%2034.121094L31.439453%2035.560547%20A%201.50015%201.50015%200%201%200%2033.560547%2033.439453L32.121094%2032L33.560547%2030.560547%20A%201.50015%201.50015%200%200%200%2032.486328%2027.978516%20z%20M%2015.5%2030%20A%201.50015%201.50015%200%201%200%2015.5%2033L21.5%2033%20A%201.50015%201.50015%200%201%200%2021.5%2030L15.5%2030%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",TF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C9.382813%204%204%209.382813%204%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016C6%2010.464844%2010.464844%206%2016%206%20Z%20M%2016%2010C13.800781%2010%2012%2011.800781%2012%2014L14%2014C14%2012.882813%2014.882813%2012%2016%2012C17.117188%2012%2018%2012.882813%2018%2014C18%2014.765625%2017.507813%2015.445313%2016.78125%2015.6875L16.375%2015.8125C15.558594%2016.082031%2015%2016.863281%2015%2017.71875L15%2019L17%2019L17%2017.71875L17.40625%2017.59375C18.945313%2017.082031%2020%2015.621094%2020%2014C20%2011.800781%2018.199219%2010%2016%2010%20Z%20M%2015%2020L15%2022L17%2022L17%2020Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",SF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20x='0'%20y='0'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3ccircle%20cx='64'%20cy='64'%20r='55'%20fill='%23fff'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,122C32,122,6,96,6,64S32,6,64,6s58,26,58,58S96,122,64,122z%20M64,12c-28.7,0-52,23.3-52,52s23.3,52,52,52%20s52-23.3,52-52S92.7,12,64,12z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,90c-1.7,0-3-1.3-3-3V61c0-1.7,1.3-3,3-3s3,1.3,3,3v26C67,88.7,65.7,90,64,90z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,49c-1.7,0-3-1.3-3-3v-5c0-1.7,1.3-3,3-3s3,1.3,3,3v5C67,47.7,65.7,49,64,49z'%20/%3e%3c/svg%3e",RF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M6%203L6%2029L17.765625%2029C19.233126%2030.826376%2021.480367%2032%2024%2032C26.396%2032%2028.534%2030.929859%2030%2029.255859L30%2032L32%2032L32%2026L26%2026L26%2028L28.445312%2028C27.347313%2029.221%2025.768%2030%2024%2030C20.691%2030%2018%2027.309%2018%2024C18%2020.691%2020.691%2018%2024%2018C27.309%2018%2030%2020.691%2030%2024L32%2024C32%2020.280606%2029.444687%2017.153349%2026%2016.261719L26%209.5859375L19.414062%203L6%203%20z%20M%208%205L18%205L18%2011L24%2011L24%2016C21.979283%2016%2020.136244%2016.75962%2018.726562%2018L11%2018L11%2020L17.082031%2020C16.722543%2020.619242%2016.445366%2021.290505%2016.261719%2022L11%2022L11%2024L16%2024C16%2025.060938%2016.211142%2026.072669%2016.587891%2027L8%2027L8%205%20z%20M%2020%206.4140625L22.585938%209L20%209L20%206.4140625%20z%20M%2011%2014L11%2016L21%2016L21%2014L11%2014%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",AF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M4.0097656%203C2.9179106%203%202.0097656%203.9049841%202.0097656%204.9980469L2%2023L6%2019L20%2019C21.093063%2019%2022%2018.093063%2022%2017L22%205C22%203.9069372%2021.093063%203%2020%203L4.0097656%203%20z%20M%204.0097656%205L20%205L20%2017L5.171875%2017L4.0039062%2018.167969L4.0097656%205%20z%20M%2011%207L11%209L13%209L13%207L11%207%20z%20M%2011%2011L11%2015L13%2015L13%2011L11%2011%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",kF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M11%203L11%2011L3%2011L3%2013L11%2013L11%2021L13%2021L13%2013L21%2013L21%2011L13%2011L13%203L11%203%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",PF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20transform='rotate(90%2012%2012)'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",NF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M18%202%20A%203%203%200%200%200%2015%205%20A%203%203%200%200%200%2015.054688%205.5605469L7.9394531%209.7109375%20A%203%203%200%200%200%206%209%20A%203%203%200%200%200%203%2012%20A%203%203%200%200%200%206%2015%20A%203%203%200%200%200%207.9355469%2014.287109L15.054688%2018.439453%20A%203%203%200%200%200%2015%2019%20A%203%203%200%200%200%2018%2022%20A%203%203%200%200%200%2021%2019%20A%203%203%200%200%200%2018%2016%20A%203%203%200%200%200%2016.0625%2016.712891L8.9453125%2012.560547%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%208.9453125%2011.439453L16.060547%207.2890625%20A%203%203%200%200%200%2018%208%20A%203%203%200%200%200%2021%205%20A%203%203%200%200%200%2018%202%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",LF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%208C7.664063%208%201.25%2015.34375%201.25%2015.34375L0.65625%2016L1.25%2016.65625C1.25%2016.65625%207.097656%2023.324219%2014.875%2023.9375C15.246094%2023.984375%2015.617188%2024%2016%2024C16.382813%2024%2016.753906%2023.984375%2017.125%2023.9375C24.902344%2023.324219%2030.75%2016.65625%2030.75%2016.65625L31.34375%2016L30.75%2015.34375C30.75%2015.34375%2024.335938%208%2016%208%20Z%20M%2016%2010C18.203125%2010%2020.234375%2010.601563%2022%2011.40625C22.636719%2012.460938%2023%2013.675781%2023%2015C23%2018.613281%2020.289063%2021.582031%2016.78125%2021.96875C16.761719%2021.972656%2016.738281%2021.964844%2016.71875%2021.96875C16.480469%2021.980469%2016.242188%2022%2016%2022C15.734375%2022%2015.476563%2021.984375%2015.21875%2021.96875C11.710938%2021.582031%209%2018.613281%209%2015C9%2013.695313%209.351563%2012.480469%209.96875%2011.4375L9.9375%2011.4375C11.71875%2010.617188%2013.773438%2010%2016%2010%20Z%20M%2016%2012C14.34375%2012%2013%2013.34375%2013%2015C13%2016.65625%2014.34375%2018%2016%2018C17.65625%2018%2019%2016.65625%2019%2015C19%2013.34375%2017.65625%2012%2016%2012%20Z%20M%207.25%2012.9375C7.09375%2013.609375%207%2014.285156%207%2015C7%2016.753906%207.5%2018.394531%208.375%2019.78125C5.855469%2018.324219%204.105469%2016.585938%203.53125%2016C4.011719%2015.507813%205.351563%2014.203125%207.25%2012.9375%20Z%20M%2024.75%2012.9375C26.648438%2014.203125%2027.988281%2015.507813%2028.46875%2016C27.894531%2016.585938%2026.144531%2018.324219%2023.625%2019.78125C24.5%2018.394531%2025%2016.753906%2025%2015C25%2014.285156%2024.90625%2013.601563%2024.75%2012.9375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",DF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2017.5%20A%201.50015%201.50015%200%201%200%209%2017.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209L17.5%209%20A%201.50015%201.50015%200%201%200%2017.5%206L11.5%206%20z%20M%2030.5%206%20A%201.50015%201.50015%200%201%200%2030.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2017.5%20A%201.50015%201.50015%200%201%200%2042%2017.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L30.5%206%20z%20M%207.4765625%2028.978516%20A%201.50015%201.50015%200%200%200%206%2030.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L17.5%2042%20A%201.50015%201.50015%200%201%200%2017.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2030.5%20A%201.50015%201.50015%200%200%200%207.4765625%2028.978516%20z%20M%2040.476562%2028.978516%20A%201.50015%201.50015%200%200%200%2039%2030.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L30.5%2039%20A%201.50015%201.50015%200%201%200%2030.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2030.5%20A%201.50015%201.50015%200%200%200%2040.476562%2028.978516%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",MF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M19%203C13.488281%203%209%207.488281%209%2013C9%2015.394531%209.839844%2017.589844%2011.25%2019.3125L3.28125%2027.28125L4.71875%2028.71875L12.6875%2020.75C14.410156%2022.160156%2016.605469%2023%2019%2023C24.511719%2023%2029%2018.511719%2029%2013C29%207.488281%2024.511719%203%2019%203%20Z%20M%2019%205C23.429688%205%2027%208.570313%2027%2013C27%2017.429688%2023.429688%2021%2019%2021C14.570313%2021%2011%2017.429688%2011%2013C11%208.570313%2014.570313%205%2019%205Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",OF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M9%202C5.1458514%202%202%205.1458514%202%209C2%2012.854149%205.1458514%2016%209%2016C10.747998%2016%2012.345009%2015.348024%2013.574219%2014.28125L14%2014.707031L14%2016L19.585938%2021.585938C20.137937%2022.137937%2021.033938%2022.137938%2021.585938%2021.585938C22.137938%2021.033938%2022.137938%2020.137938%2021.585938%2019.585938L16%2014L14.707031%2014L14.28125%2013.574219C15.348024%2012.345009%2016%2010.747998%2016%209C16%205.1458514%2012.854149%202%209%202%20z%20M%209%204C11.773268%204%2014%206.2267316%2014%209C14%2011.773268%2011.773268%2014%209%2014C6.2267316%2014%204%2011.773268%204%209C4%206.2267316%206.2267316%204%209%204%20z'%20fill='%23F0F0F0'%20/%3e%3c/svg%3e",$F="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23313131'%20/%3e%3c/svg%3e",jF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M18.5%205C15.480226%205%2013%207.4802259%2013%2010.5L13%2032.5C13%2035.519774%2015.480226%2038%2018.5%2038L34.5%2038C37.519774%2038%2040%2035.519774%2040%2032.5L40%2010.5C40%207.4802259%2037.519774%205%2034.5%205L18.5%205%20z%20M%2018.5%208L34.5%208C35.898226%208%2037%209.1017741%2037%2010.5L37%2032.5C37%2033.898226%2035.898226%2035%2034.5%2035L18.5%2035C17.101774%2035%2016%2033.898226%2016%2032.5L16%2010.5C16%209.1017741%2017.101774%208%2018.5%208%20z%20M%2011%2010L9.78125%2010.8125C8.66825%2011.5545%208%2012.803625%208%2014.140625L8%2033.5C8%2038.747%2012.253%2043%2017.5%2043L30.859375%2043C32.197375%2043%2033.4465%2042.33175%2034.1875%2041.21875L35%2040L17.5%2040C13.91%2040%2011%2037.09%2011%2033.5L11%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",FF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='480'%20height='480'%20viewBox='0%200%2048%2048'%3e%3cpath%20fill='%23FFC107'%20d='M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3cpath%20fill='%23FF3D00'%20d='M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z'%20/%3e%3cpath%20fill='%234CAF50'%20d='M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z'%20/%3e%3cpath%20fill='%231976D2'%20d='M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3c/svg%3e",VF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C10.886719%204%206.617188%207.160156%204.875%2011.625L6.71875%2012.375C8.175781%208.640625%2011.710938%206%2016%206C19.242188%206%2022.132813%207.589844%2023.9375%2010L20%2010L20%2012L27%2012L27%205L25%205L25%208.09375C22.808594%205.582031%2019.570313%204%2016%204%20Z%20M%2025.28125%2019.625C23.824219%2023.359375%2020.289063%2026%2016%2026C12.722656%2026%209.84375%2024.386719%208.03125%2022L12%2022L12%2020L5%2020L5%2027L7%2027L7%2023.90625C9.1875%2026.386719%2012.394531%2028%2016%2028C21.113281%2028%2025.382813%2024.839844%2027.125%2020.375Z'%20fill='%23313131'%20/%3e%3c/svg%3e",UF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M6%200C4.34375%200%203%201.34375%203%203L3%2023C3%2024.65625%204.34375%2026%206%2026L20%2026C21.65625%2026%2023%2024.65625%2023%2023L23%2017.8125L21%2019.5625L21%2023C21%2023.550781%2020.550781%2024%2020%2024L6%2024C5.449219%2024%205%2023.550781%205%2023L5%203C5%202.449219%205.449219%202%206%202L20%202C20.550781%202%2021%202.449219%2021%203L21%206.4375L23%208.1875L23%203C23%201.34375%2021.65625%200%2020%200%20Z%20M%2016.5%206.46875C16.25%206.542969%2016%206.796875%2016%207.46875L16%2010L10%2010C9.449219%2010%209%2010.449219%209%2011L9%2015C9%2015.550781%209.449219%2016%2010%2016L16%2016L16%2018.5C16%2019.78125%2017%2019.5%2017%2019.5L24.5%2013L17%206.5C17%206.5%2016.75%206.394531%2016.5%206.46875Z'%20fill='%23313131'%20/%3e%3c/svg%3e",zF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M12.5%204C10.032499%204%208%206.0324991%208%208.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2018.5%20A%201.50015%201.50015%200%200%200%2039.560547%2017.439453L39.544922%2017.423828L26.560547%204.4394531%20A%201.50015%201.50015%200%200%200%2025.5%204L12.5%204%20z%20M%2012.5%207L24%207L24%2015.5C24%2017.967501%2026.032499%2020%2028.5%2020L37%2020L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%208.5C11%207.6535009%2011.653501%207%2012.5%207%20z%20M%2027%209.1210938L34.878906%2017L28.5%2017C27.653501%2017%2027%2016.346499%2027%2015.5L27%209.1210938%20z%20M%2019%2022.998047C18.391%2022.998047%2017.841328%2023.365687%2017.611328%2023.929688L13.111328%2034.929688C12.797328%2035.696688%2013.164641%2036.573719%2013.931641%2036.886719C14.698641%2037.202719%2015.575672%2036.834406%2015.888672%2036.066406L16.326172%2034.998047L21.673828%2034.998047L22.111328%2036.066406C22.349328%2036.647406%2022.909%2036.998047%2023.5%2036.998047C23.689%2036.998047%2023.881359%2036.963719%2024.068359%2036.886719C24.834359%2036.573719%2025.202672%2035.696688%2024.888672%2034.929688L20.388672%2023.929688C20.158672%2023.365688%2019.609%2022.998047%2019%2022.998047%20z%20M%2030.476562%2023.978516%20A%201.50015%201.50015%200%200%200%2029%2025.5L29%2027L27.5%2027%20A%201.50015%201.50015%200%201%200%2027.5%2030L29%2030L29%2031.5%20A%201.50015%201.50015%200%201%200%2032%2031.5L32%2030L33.5%2030%20A%201.50015%201.50015%200%201%200%2033.5%2027L32%2027L32%2025.5%20A%201.50015%201.50015%200%200%200%2030.476562%2023.978516%20z%20M%2019%2028.460938L20.447266%2031.998047L17.552734%2031.998047L19%2028.460938%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",BF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M26.886719%203.0234375C26.437415%203.0492805%2025.990861%203.1581308%2025.574219%203.3847656C24.740935%203.8380352%2024.23601%204.6408958%2023.933594%205.484375%20A%201.50015%201.50015%200%200%200%2023.931641%205.4863281C23.856851%205.6965582%2023.895729%205.5996163%2023.880859%205.6503906C23.865989%205.7011646%2023.846326%205.768146%2023.822266%205.8515625C23.774136%206.0183955%2023.709041%206.2482122%2023.630859%206.5214844C23.474496%207.0680287%2023.269926%207.787416%2023.066406%208.5019531C22.659368%209.9310274%2022.255859%2011.345703%2022.255859%2011.345703%20A%201.50015%201.50015%200%200%200%2022.255859%2011.349609C22.141471%2011.755416%2022.046189%2011.970637%2022.005859%2012.033203%20A%201.50015%201.50015%200%200%200%2022.003906%2012.037109C20.528039%2014.338252%2018.938262%2016.655605%2017.394531%2019L10.5%2019C8.0324991%2019%206%2021.032499%206%2023.5L6%2039.5C6%2041.967501%208.0324991%2044%2010.5%2044L14.5%2044C15.757335%2044%2016.892811%2043.465209%2017.712891%2042.621094C20.020827%2043.120886%2022.596814%2043.674636%2024.695312%2044.117188C25.795053%2044.349109%2026.761579%2044.550006%2027.490234%2044.697266C28.21796%2044.844337%2028.488997%2044.922925%2028.96875%2044.96875C29.276882%2044.99849%2029.582707%2045.013672%2029.884766%2045.013672C34.166546%2045.013672%2037.951276%2042.101357%2039.046875%2037.871094C39.884581%2034.63323%2041.600002%2027.921603%2041.607422%2027.892578C41.746989%2027.37849%2041.941717%2026.687301%2041.986328%2025.859375%20A%201.50015%201.50015%200%200%200%2041.986328%2025.857422C42.082078%2024.068723%2041.461123%2022.328247%2040.242188%2021.039062%20A%201.50015%201.50015%200%200%200%2040.242188%2021.037109C39.003328%2019.728222%2037.266509%2019.003801%2035.439453%2019%20A%201.50015%201.50015%200%200%200%2035.435547%2019L31.466797%2019C31.818422%2017.742495%2032.16537%2016.527227%2032.417969%2015.541016%20A%201.50015%201.50015%200%200%200%2032.417969%2015.539062C33.021899%2013.169223%2033.163006%2011.052777%2032.796875%209.0214844%20A%201.50015%201.50015%200%200%200%2032.796875%209.0195312C32.612962%208.0064557%2032.266053%206.5283049%2031.216797%205.1679688C30.454227%204.1798868%2029.406708%203.4604803%2028.21875%203.1621094%20A%201.50015%201.50015%200%200%200%2028.214844%203.1621094C27.787706%203.0556602%2027.336023%202.9975943%2026.886719%203.0234375%20z%20M%2027.083984%206.0097656C27.153229%206.0089389%2027.277677%206.0200946%2027.488281%206.0722656C28.020323%206.2058951%2028.434367%206.4720819%2028.841797%207C29.43854%207.7736637%2029.69161%208.705806%2029.845703%209.5546875C30.125167%2011.106826%2030.039576%2012.7275%2029.511719%2014.798828C29.151131%2016.206389%2028.056641%2020.09375%2028.056641%2020.09375%20A%201.50015%201.50015%200%200%200%2029.5%2022L35.435547%2022C36.491612%2022.0027%2037.39379%2022.393048%2038.0625%2023.099609C38.717564%2023.792425%2039.04448%2024.683965%2038.990234%2025.697266C38.966844%2026.13134%2038.851324%2026.59751%2038.712891%2027.107422%20A%201.50015%201.50015%200%200%200%2038.707031%2027.128906C38.707031%2027.128906%2036.979062%2033.886003%2036.142578%2037.119141C35.380177%2040.062877%2032.818985%2042.013672%2029.884766%2042.013672C29.676824%2042.013672%2029.467681%2042.002682%2029.257812%2041.982422%20A%201.50015%201.50015%200%200%200%2029.255859%2041.982422C29.484761%2042.004222%2028.797548%2041.902023%2028.083984%2041.757812C27.370421%2041.613604%2026.409589%2041.412593%2025.314453%2041.181641C23.401221%2040.778161%2021.082509%2040.278628%2018.935547%2039.814453C18.94375%2039.705129%2019%2039.611242%2019%2039.5L19%2022.011719C20.770748%2019.246238%2022.705347%2016.498683%2024.527344%2013.658203L24.529297%2013.65625C24.857875%2013.14567%2025.005183%2012.649533%2025.142578%2012.162109C25.143578%2012.158509%2025.544977%2010.748377%2025.951172%209.3222656C26.154528%208.6083028%2026.357942%207.891987%2026.513672%207.3476562C26.591532%207.0754909%2026.658135%206.8463076%2026.705078%206.6835938C26.728548%206.6022368%2026.746996%206.5377315%2026.759766%206.4941406C26.916091%206.0606215%2027.022027%206.0117998%2027.007812%206.0195312C27.000698%206.0234013%2027.014739%206.0105924%2027.083984%206.0097656%20z%20M%2010.5%2022L16%2022L16%2039.5C16%2040.346499%2015.346499%2041%2014.5%2041L10.5%2041C9.6535009%2041%209%2040.346499%209%2039.5L9%2023.5C9%2022.653501%209.6535009%2022%2010.5%2022%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",WF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11.677734%202.1816406C11.255625%202.2202656%2010.879797%202.5279063%2010.779297%202.9726562L10.224609%205.4179688L7.5136719%208.4296875C7.1826719%208.7966875%207%209.2735781%207%209.7675781L7%2019C7%2020.105%207.895%2021%209%2021L17.03125%2021C17.77225%2021%2018.443141%2020.563719%2018.744141%2019.886719L21.746094%2013.130859C21.913094%2012.756859%2022%2012.351406%2022%2011.941406L22%2011C22%209.9%2021.1%209%2020%209L13%209C13%209%2014%206.6292813%2014%204.8632812C14%203.2502813%2012.962422%202.5443281%2012.107422%202.2363281C11.964672%202.1845781%2011.818437%202.1687656%2011.677734%202.1816406%20z%20M%203.5%209C2.672%209%202%209.672%202%2010.5L2%2019.5C2%2020.328%202.672%2021%203.5%2021C4.328%2021%205%2020.328%205%2019.5L5%2010.5C5%209.672%204.328%209%203.5%209%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",HF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%207C6.9280619%207%204%209.9280619%204%2013.5L4%2030.5C4%2034.071938%206.9280619%2037%2010.5%2037L12%2037L12%2042.5C12%2044.46599%2014.427297%2045.67893%2016%2044.5L26%2037L37.5%2037C41.071938%2037%2044%2034.071938%2044%2030.5L44%2013.5C44%209.9280619%2041.071938%207%2037.5%207L10.5%207%20z%20M%2010.5%2010L37.5%2010C39.450062%2010%2041%2011.549938%2041%2013.5L41%2030.5C41%2032.450062%2039.450062%2034%2037.5%2034L25.5%2034%20A%201.50015%201.50015%200%200%200%2024.599609%2034.300781L15%2041.5L15%2035.5%20A%201.50015%201.50015%200%200%200%2013.5%2034L10.5%2034C8.5499381%2034%207%2032.450062%207%2030.5L7%2013.5C7%2011.549938%208.5499381%2010%2010.5%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",qF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M26%203%20A%201%201%200%200%200%2025.716797%203.0429688%20A%201%201%200%200%200%2025.636719%203.0683594L3.6503906%2010.060547L3.6503906%2010.064453%20A%201%201%200%200%200%203%2011%20A%201%201%200%200%200%203.4824219%2011.853516L10.164062%2017.154297L23.373047%206.6269531L12.845703%2019.835938L18.142578%2026.513672%20A%201%201%200%200%200%2019%2027%20A%201%201%200%200%200%2019.935547%2026.349609L19.939453%2026.349609L26.9375%204.34375%20A%201%201%200%200%200%2026.957031%204.2832031%20A%201%201%200%200%200%2027%204%20A%201%201%200%200%200%2026%203%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",GF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M6%202C4.897%202%204%202.897%204%204L4%2020C4%2021.103%204.897%2022%206%2022L18%2022C19.103%2022%2020%2021.103%2020%2020L20%2015.25L18.001953%2016.748047L18.001953%2020L6%2020L6%204L18%204L18%207.25L20%208.75L20%204C20%202.897%2019.103%202%2018%202L6%202%20z%20M%2016%208.25L16%2011L11%2011L11%2013L16%2013L16%2015.75L21%2012L16%208.25%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",KF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%203%20A%204%204%200%200%200%208%207%20A%204%204%200%200%200%2012%2011%20A%204%204%200%200%200%2016%207%20A%204%204%200%200%200%2012%203%20z%20M%2012%2014C8.996%2014%203%2015.508%203%2018.5L3%2020C3%2020.552%203.448%2021%204%2021L20%2021C20.552%2021%2021%2020.552%2021%2020L21%2018.5C21%2015.508%2015.004%2014%2012%2014%20z'%20/%3e%3c/svg%3e",QF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M17,18H4c-1.105,0-2-0.895-2-2V6c0-1.105,0.895-2,2-2h13c1.105,0,2,0.895,2,2v10C19,17.105,18.105,18,17,18z'%20opacity='.35'%20/%3e%3ccircle%20cx='14.5'%20cy='7.5'%20r='1.5'%20/%3e%3cpath%20d='M4,15.125C4,15.604,4.364,16,4.812,16h11.375C16.636,16,17,15.611,17,15.125C17,13.932,15.829,12,14.969,12%20c-0.896,0-1.383,1.001-2.969,1.001C10.015,13.001,8.875,9,7.25,9S4,12.817,4,15.125z'%20/%3e%3cpath%20d='M20,6h-1v10c0,1.105-0.895,2-2,2H5c0,1.105,0.895,2,2,2h13c1.105,0,2-0.895,2-2V8C22,6.895,21.105,6,20,6z'%20/%3e%3c/svg%3e",YF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M14,15.5V8h3l-5-5L7,8h3v7.5c0,0.3,0.2,0.5,0.5,0.5h3C13.8,16,14,15.8,14,15.5z'%20opacity='.3'%20/%3e%3cpath%20d='M2%2020H22V22H2zM13.5%2017h-3C9.7%2017%209%2016.3%209%2015.5V9H4.6L12%201.6%2019.4%209H15v6.5C15%2016.3%2014.3%2017%2013.5%2017zM11%2015h2V7h1.6L12%204.4%209.4%207H11V15z'%20/%3e%3c/svg%3e",XF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M14.984375%200.98632812%20A%201.0001%201.0001%200%200%200%2014%202L14%205%20A%201.0001%201.0001%200%201%200%2016%205L16%202%20A%201.0001%201.0001%200%200%200%2014.984375%200.98632812%20z%20M%205.796875%204.7988281%20A%201.0001%201.0001%200%200%200%205.1015625%206.515625L7.2226562%208.6367188%20A%201.0001%201.0001%200%201%200%208.6367188%207.2226562L6.515625%205.1015625%20A%201.0001%201.0001%200%200%200%205.796875%204.7988281%20z%20M%2024.171875%204.7988281%20A%201.0001%201.0001%200%200%200%2023.484375%205.1015625L21.363281%207.2226562%20A%201.0001%201.0001%200%201%200%2022.777344%208.6367188L24.898438%206.515625%20A%201.0001%201.0001%200%200%200%2024.171875%204.7988281%20z%20M%2015%208%20A%207%207%200%200%200%208%2015%20A%207%207%200%200%200%2015%2022%20A%207%207%200%200%200%2022%2015%20A%207%207%200%200%200%2015%208%20z%20M%202%2014%20A%201.0001%201.0001%200%201%200%202%2016L5%2016%20A%201.0001%201.0001%200%201%200%205%2014L2%2014%20z%20M%2025%2014%20A%201.0001%201.0001%200%201%200%2025%2016L28%2016%20A%201.0001%201.0001%200%201%200%2028%2014L25%2014%20z%20M%207.9101562%2021.060547%20A%201.0001%201.0001%200%200%200%207.2226562%2021.363281L5.1015625%2023.484375%20A%201.0001%201.0001%200%201%200%206.515625%2024.898438L8.6367188%2022.777344%20A%201.0001%201.0001%200%200%200%207.9101562%2021.060547%20z%20M%2022.060547%2021.060547%20A%201.0001%201.0001%200%200%200%2021.363281%2022.777344L23.484375%2024.898438%20A%201.0001%201.0001%200%201%200%2024.898438%2023.484375L22.777344%2021.363281%20A%201.0001%201.0001%200%200%200%2022.060547%2021.060547%20z%20M%2014.984375%2023.986328%20A%201.0001%201.0001%200%200%200%2014%2025L14%2028%20A%201.0001%201.0001%200%201%200%2016%2028L16%2025%20A%201.0001%201.0001%200%200%200%2014.984375%2023.986328%20z'%20/%3e%3c/svg%3e",JF="/assets/dark-i8sdGySW.svg",ZF="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%2018.071L6.429%2012.5%204.929%2014%2012%2021.071%2019.071%2014%2017.571%2012.5z'%20/%3e%3cpath%20d='M4%2010H20V12H4z'%20transform='rotate(-90%2012%2011)'%20/%3e%3c/svg%3e",eV="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M4,19V5c0-1.657,1.343-3,3-3h7l6,6v11c0,1.657-1.343,3-3,3H7C5.343,22,4,20.657,4,19z'%20opacity='.35'%20/%3e%3cpath%20d='M14,6V2l6,6h-4C14.895,8,14,7.105,14,6z'%20/%3e%3c/svg%3e",tV="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M23.277344%204.0175781C15.193866%204.3983176%209%2011.343391%209%2019.380859L9%2026.648438L6.3496094%2031.980469%20A%201.50015%201.50015%200%200%200%206.3359375%2032.009766C5.2696804%2034.277268%206.9957076%2037%209.5019531%2037L18%2037C18%2040.295865%2020.704135%2043%2024%2043C27.295865%2043%2030%2040.295865%2030%2037L38.496094%2037C41.002339%2037%2042.730582%2034.277829%2041.664062%2032.009766%20A%201.50015%201.50015%200%200%200%2041.650391%2031.980469L39%2026.648438L39%2019C39%2010.493798%2031.863289%203.6133643%2023.277344%204.0175781%20z%20M%2023.417969%207.0136719C30.338024%206.6878857%2036%2012.162202%2036%2019L36%2027%20A%201.50015%201.50015%200%200%200%2036.15625%2027.667969L38.949219%2033.289062C39.128826%2033.674017%2038.921017%2034%2038.496094%2034L9.5019531%2034C9.077027%2034%208.8709034%2033.674574%209.0507812%2033.289062C9.0507812%2033.289062%209.0507812%2033.287109%209.0507812%2033.287109L11.84375%2027.667969%20A%201.50015%201.50015%200%200%200%2012%2027L12%2019.380859C12%2012.880328%2016.979446%207.3169324%2023.417969%207.0136719%20z%20M%2021%2037L27%2037C27%2038.674135%2025.674135%2040%2024%2040C22.325865%2040%2021%2038.674135%2021%2037%20z'%20/%3e%3c/svg%3e",nV="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%206C6.9280619%206%204%208.9280619%204%2012.5L4%2028.5L4%2034.535156C4%2036.486795%206.3899087%2037.705105%207.96875%2036.558594%20A%201.50015%201.50015%200%200%200%207.9707031%2036.558594L12.291016%2033.416016C13.114957%2036.061625%2015.594339%2038%2018.5%2038L31.011719%2038L40.029297%2044.558594%20A%201.50015%201.50015%200%200%200%2040.03125%2044.558594C41.610044%2045.705105%2044%2044.486795%2044%2042.535156L44%2036.5L44%2020.5C44%2016.928062%2041.071938%2014%2037.5%2014L36%2014L36%2012.5C36%208.9280619%2033.071938%206%2029.5%206L10.5%206%20z%20M%2010.5%209L29.5%209C31.450062%209%2033%2010.549938%2033%2012.5L33%2023.5C33%2025.450062%2031.450062%2027%2029.5%2027L16.5%2027%20A%201.50015%201.50015%200%200%200%2015.617188%2027.287109L7%2033.554688L7%2028.5L7%2012.5C7%2010.549938%208.5499381%209%2010.5%209%20z%20M%2036%2017L37.5%2017C39.450062%2017%2041%2018.549938%2041%2020.5L41%2036.5L41%2041.554688L32.382812%2035.287109%20A%201.50015%201.50015%200%200%200%2031.5%2035L18.5%2035C16.549938%2035%2015%2033.450062%2015%2031.5L15%2031.445312L16.988281%2030L29.5%2030C33.071938%2030%2036%2027.071938%2036%2023.5L36%2017%20z'%20/%3e%3c/svg%3e",rV="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M5%201L10.3125%2011L4%2011L1%207L0%207L1%2013L0%2019L1%2019L4%2015L10.3125%2015L5%2025L7.1875%2025L15.90625%2015L24%2015C25.101563%2015%2026%2014.101563%2026%2013C26%2011.898438%2025.101563%2011%2024%2011L15.90625%2011L7.1875%201Z'%20/%3e%3c/svg%3e",iV="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M5.40625%205.40625C-0.441406%2011.253906%20-0.441406%2020.746094%205.40625%2026.59375L6.8125%2025.1875C1.726563%2020.101563%201.726563%2011.898438%206.8125%206.8125%20Z%20M%2026.59375%205.40625L25.1875%206.8125C30.273438%2011.898438%2030.273438%2020.101563%2025.1875%2025.1875L26.59375%2026.59375C32.441406%2020.746094%2032.441406%2011.253906%2026.59375%205.40625%20Z%20M%209.625%209.625C6.117188%2013.132813%206.117188%2018.867188%209.625%2022.375L11.0625%2020.9375C8.320313%2018.195313%208.320313%2013.804688%2011.0625%2011.0625%20Z%20M%2022.375%209.625L20.9375%2011.0625C23.679688%2013.804688%2023.679688%2018.195313%2020.9375%2020.9375L22.375%2022.375C25.882813%2018.867188%2025.882813%2013.132813%2022.375%209.625%20Z%20M%2016%2013C14.355469%2013%2013%2014.355469%2013%2016C13%2017.644531%2014.355469%2019%2016%2019C17.644531%2019%2019%2017.644531%2019%2016C19%2014.355469%2017.644531%2013%2016%2013%20Z%20M%2016%2015C16.5625%2015%2017%2015.4375%2017%2016C17%2016.5625%2016.5625%2017%2016%2017C15.4375%2017%2015%2016.5625%2015%2016C15%2015.4375%2015.4375%2015%2016%2015Z'%20/%3e%3c/svg%3e",sV="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='240'%20height='240'%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWa'%20x1='21.302'%20x2='27.254'%20y1='21.302'%20y2='27.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='24'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWa)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWb'%20x1='21.302'%20x2='27.254'%20y1='7.302'%20y2='13.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='10'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWb)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWc'%20x1='21.302'%20x2='27.254'%20y1='35.302'%20y2='41.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='38'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWc)'%20/%3e%3c/svg%3e",oV="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L4%203L4%205L20%205L20%203L15%203L14%202L10%202%20z%20M%205%207L5%2022L14.220703%2022L16.230469%2020L14%2020L14%209L16%209L16%2015.978516L16.464844%2015.515625L17.878906%2014.101562L19%2015.222656L19%207L5%207%20z%20M%208%209L10%209L10%2020L8%2020L8%209%20z%20M%2017.878906%2016.929688L16.464844%2018.34375L18.585938%2020.464844L16.464844%2022.585938L17.878906%2024L20%2021.878906L22.121094%2024L23.535156%2022.585938L21.414062%2020.464844L23.535156%2018.34375L22.121094%2016.929688L20%2019.050781L17.878906%2016.929688%20z'%20/%3e%3c/svg%3e",aV="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M20.011,3.989c-1.318-1.318-3.455-1.318-4.773,0L4.208,14.998c-0.302,0.302-0.503,0.689-0.576,1.11l-0.615,3.567c-0.133,0.772,0.538,1.442,1.31,1.308l3.525-0.613c0.418-0.073,0.804-0.273,1.104-0.573L20.011,8.761C21.33,7.443,21.33,5.307,20.011,3.989z'%20opacity='.35'%20/%3e%3cpolygon%20points='13.075,6.144%2017.848,10.917%2019.832,8.94%2015.059,4.167'%20/%3e%3cpath%20d='M3.392,17.5l-0.375,2.175c-0.133,0.772,0.538,1.442,1.31,1.308l2.171-0.378L3.392,17.5z'%20/%3e%3c/svg%3e",lV="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M16.414,7.586c-0.781-0.781-2.047-0.781-2.828,0l-6,6c-0.781,0.781-0.781,2.047,0,2.828c0.781,0.781,2.047,0.781,2.828,0l6-6C17.195,9.633,17.195,8.367,16.414,7.586z'%20/%3e%3cpath%20d='M20.389,3.611c-2.148-2.148-5.63-2.148-7.778,0c-0.171,0.171-0.829,0.829-1,1c-1.548,1.548-1.963,3.786-1.279,5.722%20c-1.936-0.684-4.173-0.27-5.721,1.278c-0.171,0.171-0.829,0.829-1,1c-2.148,2.148-2.148,5.63,0,7.778%20c2.148,2.148,5.63,2.148,7.778,0c0.171-0.171,0.829-0.829,1-1c1.548-1.548,1.963-3.786,1.279-5.722%20c1.936,0.684,4.173,0.27,5.721-1.278c0.171-0.171,0.829-0.829,1-1C22.537,9.241,22.537,5.759,20.389,3.611z'%20opacity='.35'%20/%3e%3c/svg%3e",cV="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20/%3e%3c/svg%3e",uV="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20fill='%238D8D8D'%20/%3e%3c/svg%3e",dV="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M19.999,3H4.01c-1.1,0-2.001,0.9-2.001,2L2,16.999C2,18.104,2.895,19,4,19h1.499c0.276,0,0.5,0.224,0.5,0.5v2.086%20c0,0.891,1.077,1.337,1.707,0.707l3-3C10.894,19.105,11.148,19,11.413,19h8.586c1.1,0,2-0.9,2-2V5C21.999,3.9,21.099,3,19.999,3z%20M15.903,15c-0.492,0-0.883-0.363-0.988-0.843C14.472,12.147,12.455,12.006,12,12V14c0,0.404-0.243,0.769-0.617,0.924%20C11.259,14.975,11.129,15,11,15c-0.26,0-0.516-0.102-0.707-0.293l-3-3c-0.391-0.391-0.391-1.023,0-1.414l3-3%20c0.286-0.286,0.715-0.371,1.09-0.217C11.757,7.231,12,7.595,12,8v2v0c1.535,0,4.284,0.823,4.883,3.773%20C17.011,14.403,16.545,15,15.903,15z'%20fill='%23050505'%20/%3e%3c/svg%3e",hV="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='-9.31019674359186%20-9.31019674359186%20200.60019674359185%20200.59919674359185'%3e%3clinearGradient%20id='a'%20x1='47.061%25'%20x2='47.061%25'%20y1='-3.394%25'%20y2='96.606%25'%3e%3cstop%20offset='0'%20stop-color='%2337aeff'/%3e%3cstop%20offset='.05'%20stop-color='%2337aeff'/%3e%3cstop%20offset='1'%20stop-color='%231861f7'/%3e%3c/linearGradient%3e%3cg%20fill='none'%3e%3cpath%20d='M0%2095.645c0%2052.823%2042.822%2095.644%2095.645%2095.644%2052.823%200%2095.644-42.821%2095.644-95.644C191.29%2042.822%20148.468%200%2095.645%200A95.617%2095.617%200%200%200%200%2095.645'%20fill='url(%23a)'/%3e%3cpath%20d='M151.421%2099.986a9.095%209.095%200%200%200-3.901-8.737%2018.08%2018.08%200%200%200%203.6-8.628c0-8.463-7.941-10.99-20.168-10.99-7.27.08-14.51.936-21.597%202.555.66-3.627%205.496-14.15%205.496-17.667%200-7.31-1.731-16.486-8.436-19.976a11.925%2011.925%200%200%200-6.154-1.593c-2.68-.126-5.303.8-7.309%202.583a6.32%206.32%200%200%200-.742%203.681l1.21%2013.738c0%2010.99-16.899%2024.729-16.899%2040.528v33.136c0%205.88%207.886%2010.056%2019.234%2010.056h31.46c8.243%200%2010.084-1.428%2012.2-5.275a7.583%207.583%200%200%200-.166-8.023%2012.364%2012.364%200%200%200%207.749-8.93c.487-2.412.118-4.92-1.044-7.089a9.48%209.48%200%200%200%205.495-9.369M48.743%2080.945h9.836a8.243%208.243%200%200%201%208.243%208.243V135.1a8.243%208.243%200%200%201-8.243%208.242h-9.836a8.243%208.243%200%200%201-8.243-8.242V89.298a8.243%208.243%200%200%201%208.243-8.243'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",fV="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3e%3clinearGradient%20id='a'%20x1='50%25'%20x2='50%25'%20y1='0%25'%20y2='100%25'%3e%3cstop%20offset='0'%20stop-color='%23f65e7a'/%3e%3cstop%20offset='.051'%20stop-color='%23f65e7a'/%3e%3cstop%20offset='.1'%20stop-color='%23f65d79'/%3e%3cstop%20offset='.146'%20stop-color='%23f55c78'/%3e%3cstop%20offset='.191'%20stop-color='%23f45b76'/%3e%3cstop%20offset='.233'%20stop-color='%23f35974'/%3e%3cstop%20offset='.274'%20stop-color='%23f25771'/%3e%3cstop%20offset='.314'%20stop-color='%23f1546f'/%3e%3cstop%20offset='.353'%20stop-color='%23f0526b'/%3e%3cstop%20offset='.39'%20stop-color='%23ee4f68'/%3e%3cstop%20offset='.427'%20stop-color='%23ed4b64'/%3e%3cstop%20offset='.464'%20stop-color='%23eb4860'/%3e%3cstop%20offset='.5'%20stop-color='%23e9445c'/%3e%3cstop%20offset='.536'%20stop-color='%23e84057'/%3e%3cstop%20offset='.573'%20stop-color='%23e63c53'/%3e%3cstop%20offset='.61'%20stop-color='%23e5374e'/%3e%3cstop%20offset='.647'%20stop-color='%23e33349'/%3e%3cstop%20offset='.686'%20stop-color='%23e22e44'/%3e%3cstop%20offset='.726'%20stop-color='%23e02940'/%3e%3cstop%20offset='.767'%20stop-color='%23df253b'/%3e%3cstop%20offset='.809'%20stop-color='%23de2037'/%3e%3cstop%20offset='.854'%20stop-color='%23dd1c33'/%3e%3cstop%20offset='.9'%20stop-color='%23dd1830'/%3e%3cstop%20offset='.949'%20stop-color='%23dc152e'/%3e%3cstop%20offset='1'%20stop-color='%23dc142d'/%3e%3c/linearGradient%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='96'%20cy='96'%20fill='url(%23a)'%20r='96'/%3e%3cpath%20d='M95.926%2070.264c1.666-5.311%205.057-9.77%2010.171-13.374%208.485-5.982%2029.714-7.652%2040.268%208.14%2010.555%2015.791%205.613%2037.04-10.554%2053.746-10.555%2010.905-23.674%2021.075-39.358%2030.508a2%202%200%200%201-2.018.026c-13.021-7.386-26.062-17.564-39.12-30.534-20.1-19.962-21.546-37.989-10.773-53.747%2010.772-15.757%2031.73-14.12%2040.215-8.14%205.115%203.606%208.52%208.065%2010.215%2013.377a.5.5%200%200%200%20.954-.002z'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",pV="/assets/facebook-reaction-sad-fp-d8NwB.svg",mV="/assets/facebook-reaction-wow-4aGHxQqX.svg",gV="data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201500%201500'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:url(%23SVGID_1_)}.st1{fill:%23262c38}.st2{fill:none;stroke:%23262c38;stroke-width:60;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}%3c/style%3e%3clinearGradient%20id='SVGID_1_'%20gradientUnits='userSpaceOnUse'%20x1='750'%20y1='1501.519'%20x2='750'%20y2='4.759'%20gradientTransform='matrix(1%200%200%20-1%200%201499.72)'%3e%3cstop%20offset='.098'%20stop-color='%23f05766'/%3e%3cstop%20offset='.25'%20stop-color='%23f3766a'/%3e%3cstop%20offset='.826'%20stop-color='%23ffda6b'/%3e%3c/linearGradient%3e%3ccircle%20class='st0'%20cx='750'%20cy='750'%20r='750'/%3e%3ccircle%20class='st1'%20cx='416.7'%20cy='947'%20r='73.7'/%3e%3ccircle%20class='st1'%20cx='1082.7'%20cy='947'%20r='73.7'/%3e%3cpath%20class='st2'%20d='M205.9%20805.1s120.5%2093.7%20423.4%2093.7M1291.9%20805.1s-120.5%2093.7-423.4%2093.7'/%3e%3cpath%20class='st1'%20d='M987.6%201211.4c0%2041.7-106.7%2043.3-238.4%2043.3s-238.4-1.7-238.4-43.3c0-36.8%20109.9-54.6%20241.5-54.6s235.3%2017.7%20235.3%2054.6z'/%3e%3c/svg%3e",vV="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3e%3cradialGradient%20id='a'%20cy='0%25'%20gradientTransform='matrix(0%201%20-1.26314%200%20.5%20-.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%23fce16b'/%3e%3cstop%20offset='.11'%20stop-color='%23fce16b'/%3e%3cstop%20offset='.205'%20stop-color='%23fce06a'/%3e%3cstop%20offset='.288'%20stop-color='%23fcdf69'/%3e%3cstop%20offset='.36'%20stop-color='%23fcdd68'/%3e%3cstop%20offset='.424'%20stop-color='%23fbda66'/%3e%3cstop%20offset='.483'%20stop-color='%23fbd764'/%3e%3cstop%20offset='.537'%20stop-color='%23fbd361'/%3e%3cstop%20offset='.591'%20stop-color='%23facf5e'/%3e%3cstop%20offset='.644'%20stop-color='%23fac959'/%3e%3cstop%20offset='.701'%20stop-color='%23f9c254'/%3e%3cstop%20offset='.763'%20stop-color='%23f8bb4e'/%3e%3cstop%20offset='.832'%20stop-color='%23f8b147'/%3e%3cstop%20offset='.91'%20stop-color='%23f7a73d'/%3e%3cstop%20offset='1'%20stop-color='%23f69a31'/%3e%3c/radialGradient%3e%3cradialGradient%20id='b'%20cy='100%25'%20gradientTransform='matrix(0%20-1%201.136%200%20-.636%201.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%2383370e'/%3e%3cstop%20offset='.226'%20stop-color='%2383370e'/%3e%3cstop%20offset='1'%20stop-color='%23482213'/%3e%3c/radialGradient%3e%3cradialGradient%20id='c'%20cy='0%25'%20gradientTransform='matrix(0%201%20-.7355%200%20.5%20-.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%23f75b73'/%3e%3cstop%20offset='1'%20stop-color='%23c51f2d'/%3e%3c/radialGradient%3e%3cfilter%20id='d'%20height='116.4%25'%20width='112.8%25'%20x='-6.4%25'%20y='-8.2%25'%3e%3cfeGaussianBlur%20in='SourceGraphic'%20stdDeviation='1'/%3e%3c/filter%3e%3cfilter%20id='e'%20height='116.4%25'%20width='112.8%25'%20x='-6.4%25'%20y='-8.2%25'%3e%3cfeGaussianBlur%20in='SourceGraphic'%20stdDeviation='1'/%3e%3c/filter%3e%3clinearGradient%20id='f'%20x1='85.463%25'%20y1='19.628%25'%20y2='80.372%25'%3e%3cstop%20offset='0'%20stop-color='%23222845'/%3e%3cstop%20offset='.086'%20stop-color='%23222845'/%3e%3cstop%20offset='.166'%20stop-color='%23232946'/%3e%3cstop%20offset='.239'%20stop-color='%23232b48'/%3e%3cstop%20offset='.308'%20stop-color='%23242d4a'/%3e%3cstop%20offset='.374'%20stop-color='%23262f4c'/%3e%3cstop%20offset='.438'%20stop-color='%2327314e'/%3e%3cstop%20offset='.5'%20stop-color='%23283350'/%3e%3cstop%20offset='.562'%20stop-color='%23293552'/%3e%3cstop%20offset='.626'%20stop-color='%232a3754'/%3e%3cstop%20offset='.692'%20stop-color='%232b3956'/%3e%3cstop%20offset='.761'%20stop-color='%232c3a58'/%3e%3cstop%20offset='.834'%20stop-color='%232c3b59'/%3e%3cstop%20offset='.914'%20stop-color='%232d3c5a'/%3e%3cstop%20offset='1'%20stop-color='%232d3c5a'/%3e%3c/linearGradient%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='96'%20cy='96'%20fill='url(%23a)'%20r='96'/%3e%3cpath%20d='M96%20166c38.66%200%2064-31.34%2064-70%200-.66-7-13-64-13S32%2095.34%2032%2096c0%2038.66%2025.34%2070%2064%2070z'%20fill='url(%23b)'/%3e%3cpath%20d='M52.272%20148.44C60.808%20139.232%2077.192%20133%2096%20133s35.192%206.231%2043.728%2015.44C128.75%20159.368%20113.785%20166%2096%20166s-32.75-6.633-43.728-17.56z'%20fill='url(%23c)'/%3e%3cpath%20d='M143.907%2039.169c-8.207%202.389-27.788%2013.373-30.542%2017.594s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.582-8.024%2018.07-10.617%205.49-2.593%203.226-11.026-4.982-8.636z'%20fill='%23fff3c5'%20filter='url(%23d)'%20opacity='.449'/%3e%3cpath%20d='M64.797%2039.169C56.59%2041.558%2037.01%2052.542%2034.255%2056.763s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.583-8.024%2018.071-10.617%205.488-2.593%203.225-11.026-4.983-8.636z'%20fill='%23fff3c5'%20filter='url(%23e)'%20opacity='.449'%20transform='matrix(-1%200%200%201%20112.83%200)'/%3e%3cg%20fill='url(%23f)'%3e%3cpath%20d='M143.907%2035.169c-8.207%202.389-27.788%2013.373-30.542%2017.594s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.582-8.024%2018.07-10.617%205.49-2.593%203.226-11.026-4.982-8.636zM48.032%2035.169c8.208%202.389%2027.789%2013.373%2030.543%2017.594s.61%209.333-2.896%2010.056c-9.101%200-24.786%202.671-35.423%207.776-5.94%203.015-9.499-5.293-5.66-7.776%205.597-4.395%2014.438-7.194%2026.525-8.397-.992-3.035-12.583-8.024-18.071-10.617-5.489-2.593-3.225-11.026%204.982-8.636z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",yV="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M43.470703%208.9863281%20A%201.50015%201.50015%200%200%200%2042.439453%209.4394531L16.5%2035.378906L5.5605469%2024.439453%20A%201.50015%201.50015%200%201%200%203.4394531%2026.560547L15.439453%2038.560547%20A%201.50015%201.50015%200%200%200%2017.560547%2038.560547L44.560547%2011.560547%20A%201.50015%201.50015%200%200%200%2043.470703%208.9863281%20z'%20/%3e%3c/svg%3e",_V="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M13%2042C12.472656%2042%2011.960938%2041.789063%2011.585938%2041.414063L0.585938%2030.414063C-0.195313%2029.632813%20-0.195313%2028.367188%200.585938%2027.585938C1.367188%2026.804688%202.632813%2026.804688%203.414063%2027.585938L12.859375%2037.03125L35.460938%209.726563C36.164063%208.871094%2037.425781%208.753906%2038.273438%209.460938C39.125%2010.164063%2039.246094%2011.425781%2038.539063%2012.273438L14.539063%2041.273438C14.183594%2041.710938%2013.65625%2041.972656%2013.09375%2041.996094C13.0625%2042%2013.03125%2042%2013%2042%20Z%20M%2024.09375%2041.996094C24.65625%2041.972656%2025.179688%2041.710938%2025.539063%2041.273438L49.539063%2012.273438C50.246094%2011.425781%2050.125%2010.164063%2049.273438%209.460938C48.425781%208.753906%2047.164063%208.875%2046.460938%209.726563L23.859375%2037.03125L23.414063%2036.585938C22.632813%2035.804688%2021.367188%2035.804688%2020.585938%2036.585938C19.804688%2037.367188%2019.804688%2038.632813%2020.585938%2039.414063L22.585938%2041.414063C22.960938%2041.789063%2023.472656%2042%2024%2042C24.03125%2042%2024.0625%2042%2024.09375%2041.996094Z'%20/%3e%3c/svg%3e",wV="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M12%204C4%204%201%2012%201%2012C1%2012%204%2020%2012%2020C20%2020%2023%2012%2023%2012C23%2012%2020%204%2012%204%20z%20M%2012%207C14.761%207%2017%209.239%2017%2012C17%2014.761%2014.761%2017%2012%2017C9.239%2017%207%2014.761%207%2012C7%209.239%209.239%207%2012%207%20z%20M%2012%209%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%2012%2015%20A%203%203%200%200%200%2015%2012%20A%203%203%200%200%200%2012%209%20z'%20/%3e%3c/svg%3e",xV={sent:yV,eye:wV,seen:_V,link:lV,reply:dV,sendLetter:cV,sendingLetter:uV,deleteIcon:oV,editPencil:aV,moreOption:sV,download:ZF,offline:rV,online:iV,chat:nV,notification:tV,file:eV,light:XF,dark:JF,upload:YF,trueIcon:oF,falseIcon:aF,error:lF,down:cF,back:uF,thumbUp:dF,redo:hF,next:fF,finish:pF,history:mF,trash:gF,add:vF,edit:yF,save:_F,up:wF,clipboard:xF,admin:EF,menu:CF,home:IF,result:bF,help:TF,about:SF,update:RF,faq:AF,plus:kF,minus:PF,share:NF,review:LF,fullScreen:DF,search:MF,searchLeft:OF,close:$F,copy:jF,google:FF,refresh:VF,exit:UF,exam:zF,like:BF,liked:WF,comment:HF,send:qF,logout:GF,user:KF,image:QF,facebookAngry:gV,facebookHaha:vV,facebookLike:hV,facebookLove:fV,facebookSad:pV,facebookWow:mV};function rn(t){return xV[t]||null}const Gr=({data:t})=>{const{clickFn:e,image:n}=t,r=rn(n),{theme:i}=v.useContext(ee),s=()=>{e&&e()};return h.jsx("button",{onClick:s,className:`shadow-md border  rounded-full p-2 h-10 w-10  font-medium flex  justify-center items-center hover:opacity-70 transition-all ${i==="light"?"bg-gray-50/50 border-gray-200":"bg-slate-500/70 text-white border-slate-500/70"}`,children:h.jsx("img",{src:r})})};/*! js-cookie v3.0.5 | MIT */function W0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var EV={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function N_(t,e){function n(i,s,o){if(!(typeof document>"u")){o=W0({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var l=s[a].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(o[u]=t.read(c,u),i===u)break}catch{}}return i?o[i]:o}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",W0({},s,{expires:-1}))},withAttributes:function(i){return N_(this.converter,W0({},this.attributes,i))},withConverter:function(i){return N_(W0({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Tr=N_(EV,{path:"/"}),YI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z=function(t,e){if(!t)throw Fu(e)},Fu=function(t){return new Error("Firebase Database ("+c6.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},CV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},g3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(u6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new IV;const f=s<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d6=function(t){const e=u6(t);return g3.encodeByteArray(e,!0)},km=function(t){return d6(t).replace(/\./g,"")},qh=function(t){try{return g3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t){return h6(void 0,t)}function h6(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!TV(n)||(t[n]=h6(t[n],e[n]));return t}function TV(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=()=>SV().__FIREBASE_DEFAULTS__,AV=()=>{if(typeof process>"u"||typeof YI>"u")return;const t=YI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qh(t[1]);return e&&JSON.parse(e)},X2=()=>{try{return RV()||AV()||kV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},f6=t=>{var e,n;return(n=(e=X2())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},p6=t=>{const e=f6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},m6=()=>{var t;return(t=X2())===null||t===void 0?void 0:t.config},g6=t=>{var e;return(e=X2())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[km(JSON.stringify(n)),km(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function PV(){var t;const e=(t=X2())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function v3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _6(){const t=ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w6(){return c6.NODE_ADMIN===!0}function x6(){return!PV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E6(){try{return typeof indexedDB=="object"}catch{return!1}}function NV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV="FirebaseError";class ri extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LV,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ya.prototype.create)}}class ya{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?DV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ri(i,a,r)}}function DV(t,e){return t.replace(MV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const MV=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t){return JSON.parse(t)}function Sn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Gh(qh(s[0])||""),n=Gh(qh(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},OV=function(t){const e=C6(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},$V=function(t){const e=C6(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function su(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Pm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nm(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ou(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(XI(s)&&XI(o)){if(!ou(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function XI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ns(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function rs(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function I6(t,e){const n=new FV(t,e);return n.subscribe.bind(n)}class FV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$v),i.error===void 0&&(i.error=$v),i.complete===void 0&&(i.complete=$v);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $v(){}function au(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Z(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Z2=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t&&t._delegate?t._delegate:t}class Bi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ks;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WV(e))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=La){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=La){return this.instances.has(e)}getOptions(e=La){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=La){return this.component?this.component.multipleInstances?e:La:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BV(t){return t===La?void 0:t}function WV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const qV={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},GV=He.INFO,KV={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},QV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=KV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $f{constructor(e){this.name=e,this._logLevel=GV,this._logHandler=QV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const YV=(t,e)=>e.some(n=>t instanceof n);let JI,ZI;function XV(){return JI||(JI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JV(){return ZI||(ZI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b6=new WeakMap,L_=new WeakMap,T6=new WeakMap,jv=new WeakMap,y3=new WeakMap;function ZV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Yo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&b6.set(n,t)}).catch(()=>{}),y3.set(e,t),e}function eU(t){if(L_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});L_.set(t,e)}let D_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return L_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||T6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tU(t){D_=t(D_)}function nU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fv(this),e,...n);return T6.set(r,e.sort?e.sort():[e]),Yo(r)}:JV().includes(t)?function(...e){return t.apply(Fv(this),e),Yo(b6.get(this))}:function(...e){return Yo(t.apply(Fv(this),e))}}function rU(t){return typeof t=="function"?nU(t):(t instanceof IDBTransaction&&eU(t),YV(t,XV())?new Proxy(t,D_):t)}function Yo(t){if(t instanceof IDBRequest)return ZV(t);if(jv.has(t))return jv.get(t);const e=rU(t);return e!==t&&(jv.set(t,e),y3.set(e,t)),e}const Fv=t=>y3.get(t);function iU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Yo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Yo(o.result),l.oldVersion,l.newVersion,Yo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const sU=["get","getKey","getAll","getAllKeys","count"],oU=["put","add","delete","clear"],Vv=new Map;function eb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vv.get(e))return Vv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=oU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sU.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Vv.set(e,s),s}tU(t=>({...t,get:(e,n,r)=>eb(e,n)||t.get(e,n,r),has:(e,n)=>!!eb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const M_="@firebase/app",tb="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=new $f("@firebase/app"),cU="@firebase/app-compat",uU="@firebase/analytics-compat",dU="@firebase/analytics",hU="@firebase/app-check-compat",fU="@firebase/app-check",pU="@firebase/auth",mU="@firebase/auth-compat",gU="@firebase/database",vU="@firebase/database-compat",yU="@firebase/functions",_U="@firebase/functions-compat",wU="@firebase/installations",xU="@firebase/installations-compat",EU="@firebase/messaging",CU="@firebase/messaging-compat",IU="@firebase/performance",bU="@firebase/performance-compat",TU="@firebase/remote-config",SU="@firebase/remote-config-compat",RU="@firebase/storage",AU="@firebase/storage-compat",kU="@firebase/firestore",PU="@firebase/firestore-compat",NU="firebase",LU="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="[DEFAULT]",DU={[M_]:"fire-core",[cU]:"fire-core-compat",[dU]:"fire-analytics",[uU]:"fire-analytics-compat",[fU]:"fire-app-check",[hU]:"fire-app-check-compat",[pU]:"fire-auth",[mU]:"fire-auth-compat",[gU]:"fire-rtdb",[vU]:"fire-rtdb-compat",[yU]:"fire-fn",[_U]:"fire-fn-compat",[wU]:"fire-iid",[xU]:"fire-iid-compat",[EU]:"fire-fcm",[CU]:"fire-fcm-compat",[IU]:"fire-perf",[bU]:"fire-perf-compat",[TU]:"fire-rc",[SU]:"fire-rc-compat",[RU]:"fire-gcs",[AU]:"fire-gcs-compat",[kU]:"fire-fst",[PU]:"fire-fst-compat","fire-js":"fire-js",[NU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=new Map,$_=new Map;function MU(t,e){try{t.container.addComponent(e)}catch(n){ml.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gs(t){const e=t.name;if($_.has(e))return ml.debug(`There were multiple attempts to register component ${e}.`),!1;$_.set(e,t);for(const n of Lm.values())MU(n,t);return!0}function jf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Xo=new ya("app","Firebase",OU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=LU;function S6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:O_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xo.create("bad-app-name",{appName:String(i)});if(n||(n=m6()),!n)throw Xo.create("no-options");const s=Lm.get(i);if(s){if(ou(n,s.options)&&ou(r,s.config))return s;throw Xo.create("duplicate-app",{appName:i})}const o=new HV(i);for(const l of $_.values())o.addComponent(l);const a=new $U(n,r,o);return Lm.set(i,a),a}function _3(t=O_){const e=Lm.get(t);if(!e&&t===O_&&m6())return S6();if(!e)throw Xo.create("no-app",{appName:t});return e}function Lr(t,e,n){var r;let i=(r=DU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ml.warn(a.join(" "));return}gs(new Bi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="firebase-heartbeat-database",FU=1,Kh="firebase-heartbeat-store";let Uv=null;function R6(){return Uv||(Uv=iU(jU,FU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xo.create("idb-open",{originalErrorMessage:t.message})})),Uv}async function VU(t){try{const n=(await R6()).transaction(Kh),r=await n.objectStore(Kh).get(A6(t));return await n.done,r}catch(e){if(e instanceof ri)ml.warn(e.message);else{const n=Xo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ml.warn(n.message)}}}async function nb(t,e){try{const r=(await R6()).transaction(Kh,"readwrite");await r.objectStore(Kh).put(e,A6(t)),await r.done}catch(n){if(n instanceof ri)ml.warn(n.message);else{const r=Xo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ml.warn(r.message)}}}function A6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU=1024,zU=30*24*60*60*1e3;class BU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=rb();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=zU}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rb(),{heartbeatsToSend:r,unsentEntries:i}=WU(this._heartbeatsCache.heartbeats),s=km(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function rb(){return new Date().toISOString().substring(0,10)}function WU(t,e=UU){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ib(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ib(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E6()?NV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ib(t){return km(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(t){gs(new Bi("platform-logger",e=>new aU(e),"PRIVATE")),gs(new Bi("heartbeat",e=>new BU(e),"PRIVATE")),Lr(M_,tb,t),Lr(M_,tb,"esm2017"),Lr("fire-js","")}qU("");var GU="firebase",KU="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(GU,KU,"app");var j_=function(t,e){return j_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},j_(t,e)};function Vt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");j_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Je=function(){return Je=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Je.apply(this,arguments)};function Vu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Y(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function X(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Fn(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function k6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QU=k6,P6=new ya("auth","Firebase",k6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new $f("@firebase/auth");function YU(t,...e){Dm.logLevel<=He.WARN&&Dm.warn(`Auth (${qi}): ${t}`,...e)}function Rp(t,...e){Dm.logLevel<=He.ERROR&&Dm.error(`Auth (${qi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,...e){throw w3(t,...e)}function hs(t,...e){return w3(t,...e)}function N6(t,e,n){const r=Object.assign(Object.assign({},QU()),{[e]:n});return new ya("auth","Firebase",r).create(e,{appName:t.name})}function XU(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ci(t,"argument-error"),N6(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function w3(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return P6.create(t,...e)}function Re(t,e,...n){if(!t)throw w3(e,...n)}function Ms(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rp(e),new Error(e)}function Qs(t,e){t||Ms(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function JU(){return sb()==="http:"||sb()==="https:"}function sb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JU()||y6()||"connection"in navigator)?navigator.onLine:!0}function ez(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qs(n>e,"Short delay should be less than long delay!"),this.isMobile=J2()||v3()}get(){return ZU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t,e){Qs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L6=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz=new Ff(3e4,6e4);function oo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ws(t,e,n,r,i={}){return D6(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=so(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),L6.fetch()(M6(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function D6(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},tz),e);try{const i=new iz(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw H0(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw H0(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw H0(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw H0(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw N6(t,u,c);Ci(t,u)}}catch(i){if(i instanceof ri)throw i;Ci(t,"network-request-failed",{message:String(i)})}}async function Vf(t,e,n,r,i={}){const s=await ws(t,e,n,r,i);return"mfaPendingCredential"in s&&Ci(t,"multi-factor-auth-required",{_serverResponse:s}),s}function M6(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?x3(t.config,i):`${t.config.apiScheme}://${i}`}function rz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let iz=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hs(this.auth,"network-request-failed")),nz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function H0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=hs(t,e,r);return i.customData._tokenResponse=n,i}function ob(t){return t!==void 0&&t.enterprise!==void 0}let sz=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};async function oz(t,e){return ws(t,"GET","/v2/recaptchaConfig",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function az(t,e){return ws(t,"POST","/v1/accounts:delete",e)}async function lz(t,e){return ws(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cz(t,e=!1){const n=Ze(t),r=await n.getIdToken(e),i=E3(r);Re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:lh(zv(i.auth_time)),issuedAtTime:lh(zv(i.iat)),expirationTime:lh(zv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function zv(t){return Number(t)*1e3}function E3(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rp("JWT malformed, contained fewer than 3 sections"),null;try{const i=qh(n);return i?JSON.parse(i):(Rp("Failed to decode base64 JWT payload"),null)}catch(i){return Rp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function uz(t){const e=E3(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ri&&dz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function dz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hz=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O6=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lh(this.lastLoginAt),this.creationTime=lh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await lu(t,lz(n,{idToken:r}));Re(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?mz(s.providerUserInfo):[],a=pz(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new O6(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function fz(t){const e=Ze(t);await Mm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mz(t){return t.map(e=>{var{providerId:n}=e,r=Vu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gz(t,e){const n=await D6(t,{},async()=>{const r=so({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=M6(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",L6.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vz(t,e){return ws(t,"POST","/v2/accounts:revokeToken",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ab=class V_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uz(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Re(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await gz(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new V_;return r&&(Re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Re(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Re(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new V_,this.toJSON())}_performRefresh(){return Ms("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}let U_=class Ap{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Vu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new O6(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await lu(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cz(this,e)}reload(){return fz(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ap(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await lu(this,az(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:E,isAnonymous:b,providerData:C,stsTokenManager:S}=n;Re(_&&S,e,"internal-error");const I=ab.fromJSON(this.name,S);Re(typeof _=="string",e,"internal-error"),vo(d,e.name),vo(f,e.name),Re(typeof E=="boolean",e,"internal-error"),Re(typeof b=="boolean",e,"internal-error"),vo(p,e.name),vo(m,e.name),vo(y,e.name),vo(x,e.name),vo(g,e.name),vo(w,e.name);const T=new Ap({uid:_,auth:e,email:f,emailVerified:E,displayName:d,isAnonymous:b,photoURL:m,phoneNumber:p,tenantId:y,stsTokenManager:I,createdAt:g,lastLoginAt:w});return C&&Array.isArray(C)&&(T.providerData=C.map(R=>Object.assign({},R))),x&&(T._redirectEventId=x),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new ab;i.updateFromServerResponse(n);const s=new Ap({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Mm(s),s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=new Map;function Os(t){Qs(t instanceof Function,"Expected a class definition");let e=lb.get(t);return e?(Qs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $6=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};$6.type="NONE";const cb=$6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(t,e,n){return`firebase:${t}:${e}:${n}`}let ub=class Pp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=kp(this.userKey,i.apiKey,s),this.fullPersistenceKey=kp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?U_._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pp(Os(cb),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Os(cb);const o=kp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=U_._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Pp(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Pp(s,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(V6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(j6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z6(e))return"Blackberry";if(B6(e))return"Webos";if(C3(e))return"Safari";if((e.includes("chrome/")||F6(e))&&!e.includes("edge/"))return"Chrome";if(U6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function j6(t=ct()){return/firefox\//i.test(t)}function C3(t=ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function F6(t=ct()){return/crios\//i.test(t)}function V6(t=ct()){return/iemobile/i.test(t)}function U6(t=ct()){return/android/i.test(t)}function z6(t=ct()){return/blackberry/i.test(t)}function B6(t=ct()){return/webos/i.test(t)}function eg(t=ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yz(t=ct()){var e;return eg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _z(){return _6()&&document.documentMode===10}function W6(t=ct()){return eg(t)||U6(t)||B6(t)||z6(t)||/windows phone/i.test(t)||V6(t)}function wz(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t,e=[]){let n;switch(t){case"Browser":n=db(ct());break;case"Worker":n=`${db(ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xz=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ez(t,e={}){return ws(t,"GET","/v2/passwordPolicy",oo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz=6;let Iz=class{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Cz,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bz=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hb(this),this.idTokenSubscription=new hb(this),this.beforeStateQueue=new xz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Os(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ub.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ez()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ze(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ez(this),n=new Iz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ya("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await vz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Os(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await ub.create(this,[Os(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&YU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}};function ao(t){return Ze(t)}let hb=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=I6(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tz(t){tg=t}function q6(t){return tg.loadJS(t)}function Sz(){return tg.recaptchaEnterpriseScript}function Rz(){return tg.gapiScript}function Az(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const kz="recaptcha-enterprise",Pz="NO_RECAPTCHA";let Nz=class{constructor(e){this.type=kz,this.auth=ao(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{oz(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new sz(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;ob(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Pz)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&ob(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Sz();l.length!==0&&(l+=a),q6(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}};async function fb(t,e,n,r=!1){const i=new Nz(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Om(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await fb(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await fb(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lz(t,e){const n=jf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ou(s,e??{}))return i;Ci(i,"already-initialized")}return n.initialize({options:e})}function Dz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Os);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Mz(t,e,n){const r=ao(t);Re(r._canInitEmulator,r,"emulator-config-failed"),Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=G6(e),{host:o,port:a}=Oz(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||$z()}function G6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Oz(t){const e=G6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:pb(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:pb(o)}}}function pb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $z(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I3=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ms("not implemented")}_getIdTokenResponse(e){return Ms("not implemented")}_linkToIdToken(e,n){return Ms("not implemented")}_getReauthenticationResolver(e){return Ms("not implemented")}};async function jz(t,e){return ws(t,"POST","/v1/accounts:update",e)}async function Fz(t,e){return ws(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vz(t,e){return Vf(t,"POST","/v1/accounts:signInWithPassword",oo(t,e))}async function Uz(t,e){return ws(t,"POST","/v1/accounts:sendOobCode",oo(t,e))}async function zz(t,e){return Uz(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bz(t,e){return Vf(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}async function Wz(t,e){return Vf(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mb=class z_ extends I3{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new z_(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new z_(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Om(e,n,"signInWithPassword",Vz);case"emailLink":return Bz(e,{email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Om(e,r,"signUpPassword",Fz);case"emailLink":return Wz(e,{idToken:n,email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(t,e){return Vf(t,"POST","/v1/accounts:signInWithIdp",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz="http://localhost";let ng=class B_ extends I3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new B_(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Vu(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new B_(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Fc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fc(e,n)}buildRequest(){const e={requestUri:Hz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=so(n)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Gz(t){const e=ns(rs(t)).link,n=e?ns(rs(e)).deep_link_id:null,r=ns(rs(t)).deep_link_id;return(r?ns(rs(r)).link:null)||r||n||e||t}let Kz=class K6{constructor(e){var n,r,i,s,o,a;const l=ns(rs(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=qz((i=l.mode)!==null&&i!==void 0?i:null);Re(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Gz(e);try{return new K6(n)}catch{return null}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rg=class Q6{constructor(){this.providerId=Q6.PROVIDER_ID}static credential(e,n){return mb._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Kz.parseLink(n);return Re(r,"argument-error"),mb._fromEmailAndCode(e,r.code,r.tenantId)}};rg.PROVIDER_ID="password";rg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b3=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uf=class extends b3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends Uf{constructor(){super("facebook.com")}static credential(e){return ng._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ro.credential(e.oauthAccessToken)}catch{return null}}}Ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ro.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Uf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ng._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ps.credential(n,r)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends Uf{constructor(){super("github.com")}static credential(e){return ng._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ao.credential(e.oauthAccessToken)}catch{return null}}}Ao.GITHUB_SIGN_IN_METHOD="github.com";Ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Uf{constructor(){super("twitter.com")}static credential(e,n){return ng._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ko.credential(n,r)}catch{return null}}}ko.TWITTER_SIGN_IN_METHOD="twitter.com";ko.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qz(t,e){return Vf(t,"POST","/v1/accounts:signUp",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ig=class W_{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await U_._fromIdTokenResponse(e,r,i),o=gb(r);return new W_({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=gb(r);return new W_({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function gb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yz=class H_ extends ri{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,H_.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new H_(e,n,r,i)}};function Y6(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Yz._fromErrorAndOperation(t,s,e,r):s})}async function Xz(t,e,n=!1){const r=await lu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ig._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X6(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await lu(t,Y6(r,i,e,t),n);Re(s.idToken,r,"internal-error");const o=E3(s.idToken);Re(o,r,"internal-error");const{sub:a}=o;return Re(t.uid===a,r,"user-mismatch"),ig._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ci(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J6(t,e,n=!1){const r="signIn",i=await Y6(t,r,e),s=await ig._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Jz(t,e){return J6(ao(t),e)}async function Zz(t,e){return X6(Ze(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eB(t,e,n){var r;Re(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Re(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Re(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Re(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z6(t){const e=ao(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tB(t,e,n){const r=ao(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&eB(r,i,n),await Om(r,i,"getOobCode",zz)}async function nB(t,e,n){const r=ao(t),o=await Om(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qz).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Z6(t),l}),a=await ig._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function rB(t,e,n){return Jz(Ze(t),rg.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Z6(t),r})}function iB(t,e){return sB(Ze(t),null,e)}async function sB(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await lu(t,jz(r,s));await t._updateTokensIfNecessary(o,!0)}function oB(t,e,n,r){return Ze(t).onIdTokenChanged(e,n,r)}function aB(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}function lB(t,e,n,r){return Ze(t).onAuthStateChanged(e,n,r)}function eP(t){return Ze(t).signOut()}const $m="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tP=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($m,"1"),this.storage.removeItem($m),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cB(){const t=ct();return C3(t)||eg(t)}const uB=1e3,dB=10;class nP extends tP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=cB()&&wz(),this.fallbackToPolling=W6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);_z()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,dB):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nP.type="LOCAL";const hB=nP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP extends tP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rP.type="SESSION";const iP=rP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new sg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await fB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pB=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=T3("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(){return window}function mB(t){fs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(){return typeof fs().WorkerGlobalScope<"u"&&typeof fs().importScripts=="function"}async function gB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yB(){return sP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="firebaseLocalStorageDb",_B=1,jm="firebaseLocalStorage",aP="fbase_key";class zf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function og(t,e){return t.transaction([jm],e?"readwrite":"readonly").objectStore(jm)}function wB(){const t=indexedDB.deleteDatabase(oP);return new zf(t).toPromise()}function q_(){const t=indexedDB.open(oP,_B);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jm,{keyPath:aP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jm)?e(r):(r.close(),await wB(),e(await q_()))})})}async function vb(t,e,n){const r=og(t,!0).put({[aP]:e,value:n});return new zf(r).toPromise()}async function xB(t,e){const n=og(t,!1).get(e),r=await new zf(n).toPromise();return r===void 0?null:r.value}function yb(t,e){const n=og(t,!0).delete(e);return new zf(n).toPromise()}const EB=800,CB=3;class lP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await q_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>CB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sg._getInstance(yB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await gB(),!this.activeServiceWorker)return;this.sender=new pB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await q_();return await vb(e,$m,"1"),await yb(e,$m),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>xB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=og(i,!1).getAll();return new zf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lP.type="LOCAL";const IB=lP;new Ff(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t,e){return e?Os(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S3=class extends I3{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function bB(t){return J6(t.auth,new S3(t),t.bypassAuthState)}function TB(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),X6(n,new S3(t),t.bypassAuthState)}async function SB(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),Xz(n,new S3(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uP=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bB;case"linkViaPopup":case"linkViaRedirect":return SB;case"reauthViaPopup":case"reauthViaRedirect":return TB;default:Ci(this.auth,"internal-error")}}resolve(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=new Ff(2e3,1e4);async function AB(t,e,n){const r=ao(t);XU(t,e,b3);const i=cP(r,n);return new qa(r,"signInViaPopup",e,i).executeNotNull()}class qa extends uP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Qs(this.filter.length===1,"Popup operations only handle one event");const e=T3();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RB.get())};e()}}qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB="pendingRedirect",Np=new Map;class PB extends uP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Np.get(this.auth._key());if(!e){try{const r=await NB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Np.set(this.auth._key(),e)}return this.bypassAuthState||Np.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NB(t,e){const n=MB(e),r=DB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function LB(t,e){Np.set(t._key(),e)}function DB(t){return Os(t._redirectPersistence)}function MB(t){return kp(kB,t.config.apiKey,t.name)}async function OB(t,e,n=!1){const r=ao(t),i=cP(r,e),o=await new PB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=10*60*1e3;let jB=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(hs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$B&&this.cachedEventUids.clear(),this.cachedEventUids.has(_b(e))}saveEventToCache(e){this.cachedEventUids.add(_b(e)),this.lastProcessedEventTime=Date.now()}};function _b(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VB(t,e={}){return ws(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zB=/^https?/;async function BB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await VB(t);for(const n of e)try{if(WB(n))return}catch{}Ci(t,"unauthorized-domain")}function WB(t){const e=F_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!zB.test(n))return!1;if(UB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB=new Ff(3e4,6e4);function wb(){const t=fs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qB(t){return new Promise((e,n)=>{var r,i,s;function o(){wb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wb(),n(hs(t,"network-request-failed"))},timeout:HB.get()})}if(!((i=(r=fs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=fs().gapi)===null||s===void 0)&&s.load)o();else{const a=Az("iframefcb");return fs()[a]=()=>{gapi.load?o():n(hs(t,"network-request-failed"))},q6(`${Rz()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Lp=null,e})}let Lp=null;function GB(t){return Lp=Lp||qB(t),Lp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB=new Ff(5e3,15e3),QB="__/auth/iframe",YB="emulator/auth/iframe",XB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZB(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?x3(e,YB):`https://${t.config.authDomain}/${QB}`,r={apiKey:e.apiKey,appName:t.name,v:qi},i=JB.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${so(r).slice(1)}`}async function eW(t){const e=await GB(t),n=fs().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:ZB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=hs(t,"network-request-failed"),a=fs().setTimeout(()=>{s(o)},KB.get());function l(){fs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nW=500,rW=600,iW="_blank",sW="http://localhost";class xb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oW(t,e,n,r=nW,i=rW){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},tW),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ct().toLowerCase();n&&(a=F6(c)?iW:n),j6(c)&&(e=e||sW,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(yz(c)&&a!=="_self")return aW(e||"",a),new xb(null);const d=window.open(e||"",a,u);Re(d,t,"popup-blocked");try{d.focus()}catch{}return new xb(d)}function aW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW="__/auth/handler",cW="emulator/auth/handler",uW=encodeURIComponent("fac");async function Eb(t,e,n,r,i,s){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qi,eventId:i};if(e instanceof b3){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Pm(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Uf){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${uW}=${encodeURIComponent(l)}`:"";return`${dW(t)}?${so(a).slice(1)}${c}`}function dW({config:t}){return t.emulator?x3(t,cW):`https://${t.authDomain}/${lW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="webStorageSupport";class hW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iP,this._completeRedirectFn=OB,this._overrideRedirectResult=LB}async _openPopup(e,n,r,i){var s;Qs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Eb(e,n,r,F_(),i);return oW(e,o,T3())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Eb(e,n,r,F_(),i);return mB(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await eW(e),r=new jB(e);return n.register("authEvent",i=>(Re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bv,{type:Bv},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Bv];o!==void 0&&n(!!o),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return W6()||C3()||eg()}}const fW=hW;var Cb="@firebase/auth",Ib="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pW=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gW(t){gs(new Bi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H6(t)},c=new bz(r,i,s,l);return Dz(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gs(new Bi("auth-internal",e=>{const n=ao(e.getProvider("auth").getImmediate());return(r=>new pW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(Cb,Ib,mW(t)),Lr(Cb,Ib,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW=5*60,yW=g6("authIdTokenMaxAge")||vW;let bb=null;const _W=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>yW)return;const i=n==null?void 0:n.token;bb!==i&&(bb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function wW(t=_3()){const e=jf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Lz(t,{popupRedirectResolver:fW,persistence:[IB,hB,iP]}),r=g6("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const s=_W(r);aB(n,s,()=>s(n.currentUser)),oB(n,o=>s(o))}const i=f6("auth");return i&&Mz(n,`http://${i}`),n}function xW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Tz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=hs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",xW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gW("Browser");var EW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ie,R3=R3||{},Me=EW||self;function ag(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Bf(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function CW(t){return Object.prototype.hasOwnProperty.call(t,Wv)&&t[Wv]||(t[Wv]=++IW)}var Wv="closure_uid_"+(1e9*Math.random()>>>0),IW=0;function bW(t,e,n){return t.call.apply(t.bind,arguments)}function TW(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Jn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Jn=bW:Jn=TW,Jn.apply(null,arguments)}function q0(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Pn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function _a(){this.s=this.s,this.o=this.o}var SW=0;_a.prototype.s=!1;_a.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),SW!=0)&&CW(this)};_a.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const hP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function A3(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Tb(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ag(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Zn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Zn.prototype.h=function(){this.defaultPrevented=!0};var RW=function(){if(!Me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Me.addEventListener("test",n,e),Me.removeEventListener("test",n,e)}catch{}return t}();function Qh(t){return/^[\s\xa0]*$/.test(t)}function lg(){var t=Me.navigator;return t&&(t=t.userAgent)?t:""}function ts(t){return lg().indexOf(t)!=-1}function k3(t){return k3[" "](t),t}k3[" "]=function(){};function AW(t,e){var n=xH;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var kW=ts("Opera"),cu=ts("Trident")||ts("MSIE"),fP=ts("Edge"),G_=fP||cu,pP=ts("Gecko")&&!(lg().toLowerCase().indexOf("webkit")!=-1&&!ts("Edge"))&&!(ts("Trident")||ts("MSIE"))&&!ts("Edge"),PW=lg().toLowerCase().indexOf("webkit")!=-1&&!ts("Edge");function mP(){var t=Me.document;return t?t.documentMode:void 0}var K_;e:{var Hv="",qv=function(){var t=lg();if(pP)return/rv:([^\);]+)(\)|;)/.exec(t);if(fP)return/Edge\/([\d\.]+)/.exec(t);if(cu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(PW)return/WebKit\/(\S+)/.exec(t);if(kW)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(qv&&(Hv=qv?qv[1]:""),cu){var Gv=mP();if(Gv!=null&&Gv>parseFloat(Hv)){K_=String(Gv);break e}}K_=Hv}var Q_;if(Me.document&&cu){var Sb=mP();Q_=Sb||parseInt(K_,10)||void 0}else Q_=void 0;var NW=Q_;function Yh(t,e){if(Zn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(pP){e:{try{k3(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:LW[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Yh.$.h.call(this)}}Pn(Yh,Zn);var LW={2:"touch",3:"pen",4:"mouse"};Yh.prototype.h=function(){Yh.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Wf="closure_listenable_"+(1e6*Math.random()|0),DW=0;function MW(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++DW,this.fa=this.ia=!1}function cg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function P3(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function OW(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function gP(t){const e={};for(const n in t)e[n]=t[n];return e}const Rb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vP(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Rb.length;s++)n=Rb[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ug(t){this.src=t,this.g={},this.h=0}ug.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=X_(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new MW(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Y_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=hP(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(cg(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function X_(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var N3="closure_lm_"+(1e6*Math.random()|0),Kv={};function yP(t,e,n,r,i){if(r&&r.once)return wP(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)yP(t,e[s],n,r,i);return null}return n=M3(n),t&&t[Wf]?t.O(e,n,Bf(r)?!!r.capture:!!r,i):_P(t,e,n,!1,r,i)}function _P(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Bf(i)?!!i.capture:!!i,a=D3(t);if(a||(t[N3]=a=new ug(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=$W(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)RW||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(EP(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function $W(){function t(n){return e.call(t.src,t.listener,n)}const e=jW;return t}function wP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)wP(t,e[s],n,r,i);return null}return n=M3(n),t&&t[Wf]?t.P(e,n,Bf(r)?!!r.capture:!!r,i):_P(t,e,n,!0,r,i)}function xP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)xP(t,e[s],n,r,i);else r=Bf(r)?!!r.capture:!!r,n=M3(n),t&&t[Wf]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=X_(s,n,r,i),-1<n&&(cg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=D3(t))&&(e=t.g[e.toString()],t=-1,e&&(t=X_(e,n,r,i)),(n=-1<t?e[t]:null)&&L3(n))}function L3(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Wf])Y_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(EP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=D3(e))?(Y_(n,t),n.h==0&&(n.src=null,e[N3]=null)):cg(t)}}}function EP(t){return t in Kv?Kv[t]:Kv[t]="on"+t}function jW(t,e){if(t.fa)t=!0;else{e=new Yh(e,this);var n=t.listener,r=t.la||t.src;t.ia&&L3(t),t=n.call(r,e)}return t}function D3(t){return t=t[N3],t instanceof ug?t:null}var Qv="__closure_events_fn_"+(1e9*Math.random()>>>0);function M3(t){return typeof t=="function"?t:(t[Qv]||(t[Qv]=function(e){return t.handleEvent(e)}),t[Qv])}function An(){_a.call(this),this.i=new ug(this),this.S=this,this.J=null}Pn(An,_a);An.prototype[Wf]=!0;An.prototype.removeEventListener=function(t,e,n,r){xP(this,t,e,n,r)};function Vn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Zn(e,t);else if(e instanceof Zn)e.target=e.target||t;else{var i=e;e=new Zn(r,t),vP(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=G0(o,r,!0,e)&&i}if(o=e.g=t,i=G0(o,r,!0,e)&&i,i=G0(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=G0(o,r,!1,e)&&i}An.prototype.N=function(){if(An.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)cg(n[r]);delete t.g[e],t.h--}}this.J=null};An.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};An.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function G0(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Y_(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var O3=Me.JSON.stringify;class FW{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function VW(){var t=$3;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class UW{constructor(){this.h=this.g=null}add(e,n){const r=CP.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var CP=new FW(()=>new zW,t=>t.reset());class zW{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function BW(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function WW(t){Me.setTimeout(()=>{throw t},0)}let Xh,Jh=!1,$3=new UW,IP=()=>{const t=Me.Promise.resolve(void 0);Xh=()=>{t.then(HW)}};var HW=()=>{for(var t;t=VW();){try{t.h.call(t.g)}catch(n){WW(n)}var e=CP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Jh=!1};function dg(t,e){An.call(this),this.h=t||1,this.g=e||Me,this.j=Jn(this.qb,this),this.l=Date.now()}Pn(dg,An);ie=dg.prototype;ie.ga=!1;ie.T=null;ie.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Vn(this,"tick"),this.ga&&(j3(this),this.start()))}};ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function j3(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ie.N=function(){dg.$.N.call(this),j3(this),delete this.g};function F3(t,e,n){if(typeof t=="function")n&&(t=Jn(t,n));else if(t&&typeof t.handleEvent=="function")t=Jn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Me.setTimeout(t,e||0)}function bP(t){t.g=F3(()=>{t.g=null,t.i&&(t.i=!1,bP(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class qW extends _a{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bP(this)}N(){super.N(),this.g&&(Me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zh(t){_a.call(this),this.h=t,this.g={}}Pn(Zh,_a);var Ab=[];function TP(t,e,n,r){Array.isArray(n)||(n&&(Ab[0]=n.toString()),n=Ab);for(var i=0;i<n.length;i++){var s=yP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function SP(t){P3(t.g,function(e,n){this.g.hasOwnProperty(n)&&L3(e)},t),t.g={}}Zh.prototype.N=function(){Zh.$.N.call(this),SP(this)};Zh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function hg(){this.g=!0}hg.prototype.Ea=function(){this.g=!1};function GW(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function KW(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Rc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+YW(t,n)+(r?" "+r:"")})}function QW(t,e){t.info(function(){return"TIMEOUT: "+e})}hg.prototype.info=function(){};function YW(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return O3(n)}catch{return e}}var Fl={},kb=null;function fg(){return kb=kb||new An}Fl.Ta="serverreachability";function RP(t){Zn.call(this,Fl.Ta,t)}Pn(RP,Zn);function ef(t){const e=fg();Vn(e,new RP(e))}Fl.STAT_EVENT="statevent";function AP(t,e){Zn.call(this,Fl.STAT_EVENT,t),this.stat=e}Pn(AP,Zn);function lr(t){const e=fg();Vn(e,new AP(e,t))}Fl.Ua="timingevent";function kP(t,e){Zn.call(this,Fl.Ua,t),this.size=e}Pn(kP,Zn);function Hf(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Me.setTimeout(function(){t()},e)}var pg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},PP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function V3(){}V3.prototype.h=null;function Pb(t){return t.h||(t.h=t.i())}function NP(){}var qf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function U3(){Zn.call(this,"d")}Pn(U3,Zn);function z3(){Zn.call(this,"c")}Pn(z3,Zn);var J_;function mg(){}Pn(mg,V3);mg.prototype.g=function(){return new XMLHttpRequest};mg.prototype.i=function(){return{}};J_=new mg;function Gf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Zh(this),this.P=XW,t=G_?125:void 0,this.V=new dg(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new LP}function LP(){this.i=null,this.g="",this.h=!1}var XW=45e3,DP={},Z_={};ie=Gf.prototype;ie.setTimeout=function(t){this.P=t};function ew(t,e,n){t.L=1,t.A=vg(Ys(e)),t.u=n,t.S=!0,MP(t,null)}function MP(t,e){t.G=Date.now(),Kf(t),t.B=Ys(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),BP(n.i,"t",r),t.o=0,n=t.l.J,t.h=new LP,t.g=u9(t.l,n?e:null,!t.u),0<t.O&&(t.M=new qW(Jn(t.Pa,t,t.g),t.O)),TP(t.U,t.g,"readystatechange",t.nb),e=t.I?gP(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ef(),GW(t.j,t.v,t.B,t.m,t.W,t.u)}ie.nb=function(t){t=t.target;const e=this.M;e&&is(t)==3?e.l():this.Pa(t)};ie.Pa=function(t){try{if(t==this.g)e:{const u=is(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||G_||this.g&&(this.h.h||this.g.ja()||Mb(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?ef(3):ef(2)),gg(this);var n=this.g.da();this.ca=n;t:if(OP(this)){var r=Mb(this.g);t="";var i=r.length,s=is(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ga(this),ch(this);var o="";break t}this.h.i=new Me.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,KW(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qh(a)){var c=a;break t}}c=null}if(n=c)Rc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tw(this,n);else{this.i=!1,this.s=3,lr(12),Ga(this),ch(this);break e}}this.S?($P(this,u,o),G_&&this.i&&u==3&&(TP(this.U,this.V,"tick",this.mb),this.V.start())):(Rc(this.j,this.m,o,null),tw(this,o)),u==4&&Ga(this),this.i&&!this.J&&(u==4?o9(this.l,this):(this.i=!1,Kf(this)))}else yH(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,lr(12)):(this.s=0,lr(13)),Ga(this),ch(this)}}}catch{}finally{}};function OP(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function $P(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=JW(t,n),i==Z_){e==4&&(t.s=4,lr(14),r=!1),Rc(t.j,t.m,null,"[Incomplete Response]");break}else if(i==DP){t.s=4,lr(15),Rc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Rc(t.j,t.m,i,null),tw(t,i);OP(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,lr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),K3(e),e.M=!0,lr(11))):(Rc(t.j,t.m,n,"[Invalid Chunked Response]"),Ga(t),ch(t))}ie.mb=function(){if(this.g){var t=is(this.g),e=this.g.ja();this.o<e.length&&(gg(this),$P(this,t,e),this.i&&t!=4&&Kf(this))}};function JW(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Z_:(n=Number(e.substring(n,r)),isNaN(n)?DP:(r+=1,r+n>e.length?Z_:(e=e.slice(r,r+n),t.o=r+n,e)))}ie.cancel=function(){this.J=!0,Ga(this)};function Kf(t){t.Y=Date.now()+t.P,jP(t,t.P)}function jP(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Hf(Jn(t.lb,t),e)}function gg(t){t.C&&(Me.clearTimeout(t.C),t.C=null)}ie.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(QW(this.j,this.B),this.L!=2&&(ef(),lr(17)),Ga(this),this.s=2,ch(this)):jP(this,this.Y-t)};function ch(t){t.l.H==0||t.J||o9(t.l,t)}function Ga(t){gg(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,j3(t.V),SP(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function tw(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||nw(n.i,t))){if(!t.K&&nw(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Um(n),xg(n);else break e;G3(n),lr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Hf(Jn(n.ib,n),6e3));if(1>=qP(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ka(n,11)}else if((t.K||n.g==t)&&Um(n),!Qh(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(B3(s,s.h),s.h=null))}if(r.F){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Ot(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=c9(r,r.J?r.pa:null,r.Y),o.K){GP(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(gg(a),Kf(a)),r.g=o}else i9(r);0<n.j.length&&Eg(n)}else c[0]!="stop"&&c[0]!="close"||Ka(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Ka(n,7):q3(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}ef(4)}catch{}}function ZW(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ag(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function eH(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ag(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function FP(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ag(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=eH(t),r=ZW(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var VP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tH(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function rl(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof rl){this.h=t.h,Fm(this,t.j),this.s=t.s,this.g=t.g,Vm(this,t.m),this.l=t.l;var e=t.i,n=new tf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Nb(this,n),this.o=t.o}else t&&(e=String(t).match(VP))?(this.h=!1,Fm(this,e[1]||"",!0),this.s=zd(e[2]||""),this.g=zd(e[3]||"",!0),Vm(this,e[4]),this.l=zd(e[5]||"",!0),Nb(this,e[6]||"",!0),this.o=zd(e[7]||"")):(this.h=!1,this.i=new tf(null,this.h))}rl.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Bd(e,Lb,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Bd(e,Lb,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Bd(n,n.charAt(0)=="/"?iH:rH,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Bd(n,oH)),t.join("")};function Ys(t){return new rl(t)}function Fm(t,e,n){t.j=n?zd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Vm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Nb(t,e,n){e instanceof tf?(t.i=e,aH(t.i,t.h)):(n||(e=Bd(e,sH)),t.i=new tf(e,t.h))}function Ot(t,e,n){t.i.set(e,n)}function vg(t){return Ot(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function zd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bd(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,nH),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function nH(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Lb=/[#\/\?@]/g,rH=/[#\?:]/g,iH=/[#\?]/g,sH=/[#\?@]/g,oH=/#/g;function tf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function wa(t){t.g||(t.g=new Map,t.h=0,t.i&&tH(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ie=tf.prototype;ie.add=function(t,e){wa(this),this.i=null,t=Uu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function UP(t,e){wa(t),e=Uu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function zP(t,e){return wa(t),e=Uu(t,e),t.g.has(e)}ie.forEach=function(t,e){wa(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ie.ta=function(){wa(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ie.Z=function(t){wa(this);let e=[];if(typeof t=="string")zP(this,t)&&(e=e.concat(this.g.get(Uu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ie.set=function(t,e){return wa(this),this.i=null,t=Uu(this,t),zP(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ie.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function BP(t,e,n){UP(t,e),0<n.length&&(t.i=null,t.g.set(Uu(t,e),A3(n)),t.h+=n.length)}ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Uu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function aH(t,e){e&&!t.j&&(wa(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(UP(this,r),BP(this,i,n))},t)),t.j=e}var lH=class{constructor(t,e){this.g=t,this.map=e}};function WP(t){this.l=t||cH,Me.PerformanceNavigationTiming?(t=Me.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Me.g&&Me.g.Ka&&Me.g.Ka()&&Me.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cH=10;function HP(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function qP(t){return t.h?1:t.g?t.g.size:0}function nw(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function B3(t,e){t.g?t.g.add(e):t.h=e}function GP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}WP.prototype.cancel=function(){if(this.i=KP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function KP(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return A3(t.i)}var uH=class{stringify(t){return Me.JSON.stringify(t,void 0)}parse(t){return Me.JSON.parse(t,void 0)}};function dH(){this.g=new uH}function hH(t,e,n){const r=n||"";try{FP(t,function(i,s){let o=i;Bf(i)&&(o=O3(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function fH(t,e){const n=new hg;if(Me.Image){const r=new Image;r.onload=q0(K0,n,r,"TestLoadImage: loaded",!0,e),r.onerror=q0(K0,n,r,"TestLoadImage: error",!1,e),r.onabort=q0(K0,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=q0(K0,n,r,"TestLoadImage: timeout",!1,e),Me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function K0(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function yg(t){this.l=t.ec||null,this.j=t.ob||!1}Pn(yg,V3);yg.prototype.g=function(){return new _g(this.l,this.j)};yg.prototype.i=function(t){return function(){return t}}({});function _g(t,e){An.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=W3,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pn(_g,An);var W3=0;ie=_g.prototype;ie.open=function(t,e){if(this.readyState!=W3)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,nf(this)};ie.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Me).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qf(this)),this.readyState=W3};ie.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,nf(this)),this.g&&(this.readyState=3,nf(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Me.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;QP(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function QP(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ie.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Qf(this):nf(this),this.readyState==3&&QP(this)}};ie.Za=function(t){this.g&&(this.response=this.responseText=t,Qf(this))};ie.Ya=function(t){this.g&&(this.response=t,Qf(this))};ie.ka=function(){this.g&&Qf(this)};function Qf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,nf(t)}ie.setRequestHeader=function(t,e){this.v.append(t,e)};ie.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ie.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function nf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(_g.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var pH=Me.JSON.parse;function Jt(t){An.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=YP,this.L=this.M=!1}Pn(Jt,An);var YP="",mH=/^https?$/i,gH=["POST","PUT"];ie=Jt.prototype;ie.Oa=function(t){this.M=t};ie.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():J_.g(),this.C=this.u?Pb(this.u):Pb(J_),this.g.onreadystatechange=Jn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Db(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Me.FormData&&t instanceof Me.FormData,!(0<=hP(gH,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ZP(this),0<this.B&&((this.L=vH(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jn(this.ua,this)):this.A=F3(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Db(this,s)}};function vH(t){return cu&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ie.ua=function(){typeof R3<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vn(this,"timeout"),this.abort(8))};function Db(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,XP(t),wg(t)}function XP(t){t.F||(t.F=!0,Vn(t,"complete"),Vn(t,"error"))}ie.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Vn(this,"complete"),Vn(this,"abort"),wg(this))};ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wg(this,!0)),Jt.$.N.call(this)};ie.La=function(){this.s||(this.G||this.v||this.l?JP(this):this.kb())};ie.kb=function(){JP(this)};function JP(t){if(t.h&&typeof R3<"u"&&(!t.C[1]||is(t)!=4||t.da()!=2)){if(t.v&&is(t)==4)F3(t.La,0,t);else if(Vn(t,"readystatechange"),is(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(VP)[1]||null;!i&&Me.self&&Me.self.location&&(i=Me.self.location.protocol.slice(0,-1)),r=!mH.test(i?i.toLowerCase():"")}n=r}if(n)Vn(t,"complete"),Vn(t,"success");else{t.m=6;try{var s=2<is(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",XP(t)}}finally{wg(t)}}}}function wg(t,e){if(t.g){ZP(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Vn(t,"ready");try{n.onreadystatechange=r}catch{}}}function ZP(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Me.clearTimeout(t.A),t.A=null)}ie.isActive=function(){return!!this.g};function is(t){return t.g?t.g.readyState:0}ie.da=function(){try{return 2<is(this)?this.g.status:-1}catch{return-1}};ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ie.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),pH(e)}};function Mb(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case YP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function yH(t){const e={};t=(t.g&&2<=is(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Qh(t[r]))continue;var n=BW(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}OW(e,function(r){return r.join(", ")})}ie.Ia=function(){return this.m};ie.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function e9(t){let e="";return P3(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function H3(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=e9(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ot(t,e,n))}function vd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function t9(t){this.Ga=0,this.j=[],this.l=new hg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=vd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=vd("baseRetryDelayMs",5e3,t),this.hb=vd("retryDelaySeedMs",1e4,t),this.eb=vd("forwardChannelMaxRetries",2,t),this.xa=vd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new WP(t&&t.concurrentRequestLimit),this.Ja=new dH,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ie=t9.prototype;ie.ra=8;ie.H=1;function q3(t){if(n9(t),t.H==3){var e=t.W++,n=Ys(t.I);if(Ot(n,"SID",t.K),Ot(n,"RID",e),Ot(n,"TYPE","terminate"),Yf(t,n),e=new Gf(t,t.l,e),e.L=2,e.A=vg(Ys(n)),n=!1,Me.navigator&&Me.navigator.sendBeacon)try{n=Me.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Me.Image&&(new Image().src=e.A,n=!0),n||(e.g=u9(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Kf(e)}l9(t)}function xg(t){t.g&&(K3(t),t.g.cancel(),t.g=null)}function n9(t){xg(t),t.u&&(Me.clearTimeout(t.u),t.u=null),Um(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Me.clearTimeout(t.m),t.m=null)}function Eg(t){if(!HP(t.i)&&!t.m){t.m=!0;var e=t.Na;Xh||IP(),Jh||(Xh(),Jh=!0),$3.add(e,t),t.C=0}}function _H(t,e){return qP(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Hf(Jn(t.Na,t,e),a9(t,t.C)),t.C++,!0)}ie.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Gf(this,this.l,t);let s=this.s;if(this.U&&(s?(s=gP(s),vP(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=r9(this,i,e),n=Ys(this.I),Ot(n,"RID",t),Ot(n,"CVER",22),this.F&&Ot(n,"X-HTTP-Session-Id",this.F),Yf(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(e9(s)))+"&"+e:this.o&&H3(n,this.o,s)),B3(this.i,i),this.bb&&Ot(n,"TYPE","init"),this.P?(Ot(n,"$req",e),Ot(n,"SID","null"),i.aa=!0,ew(i,n,null)):ew(i,n,e),this.H=2}}else this.H==3&&(t?Ob(this,t):this.j.length==0||HP(this.i)||Ob(this))};function Ob(t,e){var n;e?n=e.m:n=t.W++;const r=Ys(t.I);Ot(r,"SID",t.K),Ot(r,"RID",n),Ot(r,"AID",t.V),Yf(t,r),t.o&&t.s&&H3(r,t.o,t.s),n=new Gf(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=r9(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),B3(t.i,n),ew(n,r,e)}function Yf(t,e){t.na&&P3(t.na,function(n,r){Ot(e,r,n)}),t.h&&FP({},function(n,r){Ot(e,r,n)})}function r9(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Jn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{hH(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function i9(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Xh||IP(),Jh||(Xh(),Jh=!0),$3.add(e,t),t.A=0}}function G3(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Hf(Jn(t.Ma,t),a9(t,t.A)),t.A++,!0)}ie.Ma=function(){if(this.u=null,s9(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Hf(Jn(this.jb,this),t)}};ie.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,lr(10),xg(this),s9(this))};function K3(t){t.B!=null&&(Me.clearTimeout(t.B),t.B=null)}function s9(t){t.g=new Gf(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ys(t.wa);Ot(e,"RID","rpc"),Ot(e,"SID",t.K),Ot(e,"AID",t.V),Ot(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ot(e,"TO",t.qa),Ot(e,"TYPE","xmlhttp"),Yf(t,e),t.o&&t.s&&H3(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=vg(Ys(e)),n.u=null,n.S=!0,MP(n,t)}ie.ib=function(){this.v!=null&&(this.v=null,xg(this),G3(this),lr(19))};function Um(t){t.v!=null&&(Me.clearTimeout(t.v),t.v=null)}function o9(t,e){var n=null;if(t.g==e){Um(t),K3(t),t.g=null;var r=2}else if(nw(t.i,e))n=e.F,GP(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=fg(),Vn(r,new kP(r,n)),Eg(t)}else i9(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&_H(t,e)||r==2&&G3(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ka(t,5);break;case 4:Ka(t,10);break;case 3:Ka(t,6);break;default:Ka(t,2)}}}function a9(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ka(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Jn(t.pb,t);n||(n=new rl("//www.google.com/images/cleardot.gif"),Me.location&&Me.location.protocol=="http"||Fm(n,"https"),vg(n)),fH(n.toString(),r)}else lr(2);t.H=0,t.h&&t.h.za(e),l9(t),n9(t)}ie.pb=function(t){t?(this.l.info("Successfully pinged google.com"),lr(2)):(this.l.info("Failed to ping google.com"),lr(1))};function l9(t){if(t.H=0,t.ma=[],t.h){const e=KP(t.i);(e.length!=0||t.j.length!=0)&&(Tb(t.ma,e),Tb(t.ma,t.j),t.i.i.length=0,A3(t.j),t.j.length=0),t.h.ya()}}function c9(t,e,n){var r=n instanceof rl?Ys(n):new rl(n);if(r.g!="")e&&(r.g=e+"."+r.g),Vm(r,r.m);else{var i=Me.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new rl(null);r&&Fm(s,r),e&&(s.g=e),i&&Vm(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ot(r,n,e),Ot(r,"VER",t.ra),Yf(t,r),r}function u9(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Jt(new yg({ob:n})):new Jt(t.va),e.Oa(t.J),e}ie.isActive=function(){return!!this.h&&this.h.isActive(this)};function d9(){}ie=d9.prototype;ie.Ba=function(){};ie.Aa=function(){};ie.za=function(){};ie.ya=function(){};ie.isActive=function(){return!0};ie.Va=function(){};function zm(){if(cu&&!(10<=Number(NW)))throw Error("Environmental error: no available transport.")}zm.prototype.g=function(t,e){return new Xr(t,e)};function Xr(t,e){An.call(this),this.g=new t9(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Qh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qh(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new zu(this)}Pn(Xr,An);Xr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;lr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=c9(t,null,t.Y),Eg(t)};Xr.prototype.close=function(){q3(this.g)};Xr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=O3(t),t=n);e.j.push(new lH(e.fb++,t)),e.H==3&&Eg(e)};Xr.prototype.N=function(){this.g.h=null,delete this.j,q3(this.g),delete this.g,Xr.$.N.call(this)};function h9(t){U3.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Pn(h9,U3);function f9(){z3.call(this),this.status=1}Pn(f9,z3);function zu(t){this.g=t}Pn(zu,d9);zu.prototype.Ba=function(){Vn(this.g,"a")};zu.prototype.Aa=function(t){Vn(this.g,new h9(t))};zu.prototype.za=function(t){Vn(this.g,new f9)};zu.prototype.ya=function(){Vn(this.g,"b")};function wH(){this.blockSize=-1}function Wi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Pn(Wi,wH);Wi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Yv(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Wi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Yv(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Yv(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Yv(this,r),i=0;break}}this.h=i,this.i+=e};Wi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function wt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var xH={};function Q3(t){return-128<=t&&128>t?AW(t,function(e){return new wt([e|0],0>e?-1:0)}):new wt([t|0],0>t?-1:0)}function ss(t){if(isNaN(t)||!isFinite(t))return Vc;if(0>t)return On(ss(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=rw;return new wt(e,0)}function p9(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return On(p9(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ss(Math.pow(e,8)),r=Vc,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ss(Math.pow(e,s)),r=r.R(s).add(ss(o))):(r=r.R(n),r=r.add(ss(o)))}return r}var rw=4294967296,Vc=Q3(0),iw=Q3(1),$b=Q3(16777216);ie=wt.prototype;ie.ea=function(){if(di(this))return-On(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:rw+r)*e,e*=rw}return t};ie.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if($s(this))return"0";if(di(this))return"-"+On(this).toString(t);for(var e=ss(Math.pow(t,6)),n=this,r="";;){var i=Wm(n,e).g;n=Bm(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,$s(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};ie.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function $s(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function di(t){return t.h==-1}ie.X=function(t){return t=Bm(this,t),di(t)?-1:$s(t)?0:1};function On(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new wt(n,~t.h).add(iw)}ie.abs=function(){return di(this)?On(this):this};ie.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new wt(n,n[n.length-1]&-2147483648?-1:0)};function Bm(t,e){return t.add(On(e))}ie.R=function(t){if($s(this)||$s(t))return Vc;if(di(this))return di(t)?On(this).R(On(t)):On(On(this).R(t));if(di(t))return On(this.R(On(t)));if(0>this.X($b)&&0>t.X($b))return ss(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Q0(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Q0(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Q0(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Q0(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new wt(n,0)};function Q0(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function yd(t,e){this.g=t,this.h=e}function Wm(t,e){if($s(e))throw Error("division by zero");if($s(t))return new yd(Vc,Vc);if(di(t))return e=Wm(On(t),e),new yd(On(e.g),On(e.h));if(di(e))return e=Wm(t,On(e)),new yd(On(e.g),e.h);if(30<t.g.length){if(di(t)||di(e))throw Error("slowDivide_ only works with positive integers.");for(var n=iw,r=e;0>=r.X(t);)n=jb(n),r=jb(r);var i=Jl(n,1),s=Jl(r,1);for(r=Jl(r,2),n=Jl(n,2);!$s(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Jl(r,1),n=Jl(n,1)}return e=Bm(t,i.R(e)),new yd(i,e)}for(i=Vc;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ss(n),o=s.R(e);di(o)||0<o.X(t);)n-=r,s=ss(n),o=s.R(e);$s(s)&&(s=iw),i=i.add(s),t=Bm(t,o)}return new yd(i,t)}ie.gb=function(t){return Wm(this,t).h};ie.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new wt(n,this.h&t.h)};ie.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new wt(n,this.h|t.h)};ie.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new wt(n,this.h^t.h)};function jb(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new wt(n,t.h)}function Jl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new wt(i,t.h)}zm.prototype.createWebChannel=zm.prototype.g;Xr.prototype.send=Xr.prototype.u;Xr.prototype.open=Xr.prototype.m;Xr.prototype.close=Xr.prototype.close;pg.NO_ERROR=0;pg.TIMEOUT=8;pg.HTTP_ERROR=6;PP.COMPLETE="complete";NP.EventType=qf;qf.OPEN="a";qf.CLOSE="b";qf.ERROR="c";qf.MESSAGE="d";An.prototype.listen=An.prototype.O;Jt.prototype.listenOnce=Jt.prototype.P;Jt.prototype.getLastError=Jt.prototype.Sa;Jt.prototype.getLastErrorCode=Jt.prototype.Ia;Jt.prototype.getStatus=Jt.prototype.da;Jt.prototype.getResponseJson=Jt.prototype.Wa;Jt.prototype.getResponseText=Jt.prototype.ja;Jt.prototype.send=Jt.prototype.ha;Jt.prototype.setWithCredentials=Jt.prototype.Oa;Wi.prototype.digest=Wi.prototype.l;Wi.prototype.reset=Wi.prototype.reset;Wi.prototype.update=Wi.prototype.j;wt.prototype.add=wt.prototype.add;wt.prototype.multiply=wt.prototype.R;wt.prototype.modulo=wt.prototype.gb;wt.prototype.compare=wt.prototype.X;wt.prototype.toNumber=wt.prototype.ea;wt.prototype.toString=wt.prototype.toString;wt.prototype.getBits=wt.prototype.D;wt.fromNumber=ss;wt.fromString=p9;var EH=function(){return new zm},CH=function(){return fg()},Xv=pg,IH=PP,bH=Fl,Fb={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Y0=NP,TH=Jt,SH=Wi,Uc=wt;const Vb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sr.UNAUTHENTICATED=new sr(null),sr.GOOGLE_CREDENTIALS=new sr("google-credentials-uid"),sr.FIRST_PARTY=new sr("first-party-uid"),sr.MOCK_USER=new sr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=new $f("@firebase/firestore");function dc(){return gl.logLevel}function K(t,...e){if(gl.logLevel<=He.DEBUG){const n=e.map(Y3);gl.debug(`Firestore (${Bu}): ${t}`,...n)}}function or(t,...e){if(gl.logLevel<=He.ERROR){const n=e.map(Y3);gl.error(`Firestore (${Bu}): ${t}`,...n)}}function vl(t,...e){if(gl.logLevel<=He.WARN){const n=e.map(Y3);gl.warn(`Firestore (${Bu}): ${t}`,...n)}}function Y3(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${Bu}) INTERNAL ASSERTION FAILED: `+t;throw or(e),new Error(e)}function we(t,e){t||ge()}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sr.UNAUTHENTICATED))}shutdown(){}}class kH{constructor(e){this.t=e,this.currentUser=sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string"),new RH(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string"),new sr(e)}}class PH{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=sr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class NH{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new PH(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(sr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DH{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string"),this.R=n.token,new LH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=MH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function uu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function g9(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ht(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Ht(0,0))}static max(){return new Ce(new Ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pt extends rf{construct(e,n,r){return new pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pt(n)}static emptyPath(){return new pt([])}}const OH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends rf{construct(e,n,r){return new zt(e,n,r)}static isValidIdentifier(e){return OH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new J(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(pt.fromString(e))}static fromName(e){return new re(pt.fromString(e).popFirst(5))}static empty(){return new re(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new pt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function sw(t){return t.fields.find(e=>e.kind===2)}function Da(t){return t.fields.filter(e=>e.kind!==2)}Hm.UNKNOWN_ID=-1;class Dp{constructor(e,n){this.fieldPath=e,this.kind=n}}class sf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new sf(0,Jr.min())}}function $H(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new Ht(n+1,0):new Ht(n,r));return new Jr(i,re.empty(),e)}function v9(t){return new Jr(t.readTime,t.key,-1)}class Jr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Jr(Ce.min(),re.empty(),-1)}static max(){return new Jr(Ce.max(),re.empty(),-1)}}function X3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==y9)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new yi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new uh(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=J3(r.target.error);this.V.reject(new uh(e,i))}}static open(e,n,r,i){try{return new Cg(n,e.transaction(i,r))}catch(s){throw new uh(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(K("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new FH(n)}}class os{constructor(e,n,r){this.name=e,this.version=n,this.p=r,os.S(ct())===12.2&&or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return K("SimpleDb","Removing database:",e),ja(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!E6())return!1;if(os.C())return!0;const e=ct(),n=os.S(e),r=0<n&&n<10,i=os.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(K("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new uh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new J(H.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new J(H.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new uh(e,o))},i.onupgradeneeded=s=>{K("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{K("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=Cg.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),z.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(K("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class jH{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ja(this.k.delete())}}class uh extends J{constructor(e,n){super(H.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function xa(t){return t.name==="IndexedDbTransactionError"}class FH{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(K("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(K("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ja(r)}add(e){return K("SimpleDb","ADD",this.store.name,e,e),ja(this.store.add(e))}get(e){return ja(this.store.get(e)).next(n=>(n===void 0&&(n=null),K("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return K("SimpleDb","DELETE",this.store.name,e),ja(this.store.delete(e))}count(){return K("SimpleDb","COUNT",this.store.name),ja(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new z((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new z((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){K("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new z((r,i)=>{n.onerror=s=>{const o=J3(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new z((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new jH(a),c=n(a.primaryKey,a.value,l);if(c instanceof z){const u=c.catch(d=>(l.done(),z.reject(d)));r.push(u)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>z.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ja(t){return new z((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=J3(r.target.error);n(i)}})}let Ub=!1;function J3(t){const e=os.S(ct());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new J("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ub||(Ub=!0,setTimeout(()=>{throw r},0)),r}}return t}class VH{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){K("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{K("IndexBackfiller",`Documents written: ${await this.X.te()}`)}catch(n){xa(n)?K("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Vl(n)}await this.ee(6e4)})}}class UH{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let i=n,s=!0;return z.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return K("IndexBackfiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(K("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=v9(s);X3(o,r)>0&&(r=o)}),new Jr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}fi._e=-1;function Ig(t){return t==null}function of(t){return t===0&&1/t==-1/0}function zH(t){return typeof t=="number"&&Number.isInteger(t)&&!of(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zb(e)),e=BH(t.get(n),e);return zb(e)}function BH(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function zb(t){return t+""}function as(t){const e=t.length;if(we(e>=2),e===2)return we(t.charAt(0)===""&&t.charAt(1)===""),pt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&ge(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:ge()}s=o+2}return new pt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(t,e){return[t,hr(e)]}function w9(t,e,n){return[t,hr(e),n]}const WH={},HH=["prefixPath","collectionGroup","readTime","documentId"],qH=["prefixPath","collectionGroup","documentId"],GH=["collectionGroup","readTime","prefixPath","documentId"],KH=["canonicalId","targetId"],QH=["targetId","path"],YH=["path","targetId"],XH=["collectionId","parent"],JH=["indexId","uid"],ZH=["uid","sequenceNumber"],eq=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],tq=["indexId","uid","orderedDocumentKey"],nq=["userId","collectionPath","documentId"],rq=["userId","collectionPath","largestBatchId"],iq=["userId","collectionGroup","largestBatchId"],x9=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],sq=[...x9,"documentOverlays"],E9=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],C9=E9,oq=[...C9,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow extends _9{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Nn(t,e){const n=De(t);return os.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ul(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function I9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sn=class aw{constructor(e,n){this.comparator=e,this.root=n||Jo.EMPTY}insert(e,n){return new aw(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jo.BLACK,null,null))}remove(e){return new aw(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new X0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new X0(this.root,e,this.comparator,!1)}getReverseIterator(){return new X0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new X0(this.root,e,this.comparator,!0)}},X0=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Jo=class Ts{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ts.RED,this.left=i??Ts.EMPTY,this.right=s??Ts.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ts(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ts.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ts.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ts.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ts.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}};Jo.EMPTY=null,Jo.RED=!0,Jo.BLACK=!1;Jo.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Jo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hb(this.data.getIterator())}getIteratorFrom(e){return new Hb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class Hb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Zl(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Sr([])}unionWith(e){let n=new bt(zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new b9("Invalid base64 string: "+s):s}}(e);return new zn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new zn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zn.EMPTY_BYTE_STRING=new zn("");const aq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ra(t){if(we(!!t),typeof t=="string"){let e=0;const n=aq.exec(t);if(we(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ia(t){return typeof t=="string"?zn.fromBase64String(t):zn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Z3(t){const e=t.mapValue.fields.__previous_value__;return bg(e)?Z3(e):e}function af(t){const e=ra(t.mapValue.fields.__local_write_time__.timestampValue);return new Ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class yl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new yl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Op={nullValue:"NULL_VALUE"};function _l(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bg(t)?4:T9(t)?9007199254740991:10:ge()}function vs(t,e){if(t===e)return!0;const n=_l(t);if(n!==_l(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return af(t).isEqual(af(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ra(i.timestampValue),a=ra(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ia(i.bytesValue).isEqual(ia(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Yt(i.geoPointValue.latitude)===Yt(s.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Yt(i.integerValue)===Yt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Yt(i.doubleValue),a=Yt(s.doubleValue);return o===a?of(o)===of(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return uu(t.arrayValue.values||[],e.arrayValue.values||[],vs);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Wb(o)!==Wb(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!vs(o[l],a[l])))return!1;return!0}(t,e);default:return ge()}}function lf(t,e){return(t.values||[]).find(n=>vs(n,e))!==void 0}function sa(t,e){if(t===e)return 0;const n=_l(t),r=_l(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Yt(s.integerValue||s.doubleValue),l=Yt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return qb(t.timestampValue,e.timestampValue);case 4:return qb(af(t),af(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ia(s),l=ia(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=je(a[c],l[c]);if(u!==0)return u}return je(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=je(Yt(s.latitude),Yt(o.latitude));return a!==0?a:je(Yt(s.longitude),Yt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=sa(a[c],l[c]);if(u)return u}return je(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===jo.mapValue&&o===jo.mapValue)return 0;if(s===jo.mapValue)return 1;if(o===jo.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const f=je(l[d],u[d]);if(f!==0)return f;const p=sa(a[l[d]],c[u[d]]);if(p!==0)return p}return je(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ge()}}function qb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=ra(t),r=ra(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function du(t){return lw(t)}function lw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ra(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ia(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=lw(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${lw(n.fields[o])}`;return i+"}"}(t.mapValue):ge()}function wl(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cw(t){return!!t&&"integerValue"in t}function cf(t){return!!t&&"arrayValue"in t}function Gb(t){return!!t&&"nullValue"in t}function Kb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $p(t){return!!t&&"mapValue"in t}function dh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ul(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=dh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function T9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function cq(t){return"nullValue"in t?Op:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?wl(yl.empty(),re.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:ge()}function uq(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?wl(yl.empty(),re.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?jo:ge()}function Qb(t,e){const n=sa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Yb(t,e){const n=sa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$p(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dh(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=dh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());$p(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$p(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ul(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Yn(dh(this.value))}}function S9(t){const e=[];return Ul(t.fields,(n,r)=>{const i=new zt([n]);if($p(r)){const s=S9(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Xt(e,0,Ce.min(),Ce.min(),Ce.min(),Yn.empty(),0)}static newFoundDocument(e,n,r,i){return new Xt(e,1,n,Ce.min(),r,i,0)}static newNoDocument(e,n){return new Xt(e,2,n,Ce.min(),Ce.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,Ce.min(),Ce.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this.position=e,this.inclusive=n}}function Xb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=sa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n="asc"){this.field=e,this.dir=n}}function dq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{}class tt extends R9{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hq(e,n,r):n==="array-contains"?new mq(e,r):n==="in"?new D9(e,r):n==="not-in"?new gq(e,r):n==="array-contains-any"?new vq(e,r):new tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fq(e,r):new pq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(sa(n,this.value)):n!==null&&_l(this.value)===_l(n)&&this.matchesComparison(sa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yt extends R9{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new yt(e,n)}matches(e){return hu(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function hu(t){return t.op==="and"}function uw(t){return t.op==="or"}function eE(t){return A9(t)&&hu(t)}function A9(t){for(const e of t.filters)if(e instanceof yt)return!1;return!0}function dw(t){if(t instanceof tt)return t.field.canonicalString()+t.op.toString()+du(t.value);if(eE(t))return t.filters.map(e=>dw(e)).join(",");{const e=t.filters.map(n=>dw(n)).join(",");return`${t.op}(${e})`}}function k9(t,e){return t instanceof tt?function(r,i){return i instanceof tt&&r.op===i.op&&r.field.isEqual(i.field)&&vs(r.value,i.value)}(t,e):t instanceof yt?function(r,i){return i instanceof yt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&k9(o,i.filters[a]),!0):!1}(t,e):void ge()}function P9(t,e){const n=t.filters.concat(e);return yt.create(n,t.op)}function N9(t){return t instanceof tt?function(n){return`${n.field.canonicalString()} ${n.op} ${du(n.value)}`}(t):t instanceof yt?function(n){return n.op.toString()+" {"+n.getFilters().map(N9).join(" ,")+"}"}(t):"Filter"}class hq extends tt{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class fq extends tt{constructor(e,n){super(e,"in",n),this.keys=L9("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class pq extends tt{constructor(e,n){super(e,"not-in",n),this.keys=L9("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function L9(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class mq extends tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cf(n)&&lf(n.arrayValue,this.value)}}class D9 extends tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lf(this.value.arrayValue,n)}}class gq extends tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(lf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!lf(this.value.arrayValue,n)}}class vq extends tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function hw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new yq(t,e,n,r,i,s,o)}function xl(t){const e=De(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ig(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>du(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>du(r)).join(",")),e.ce=n}return e.ce}function Xf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!k9(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Jb(t.startAt,e.startAt)&&Jb(t.endAt,e.endAt)}function qm(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Gm(t,e){return t.filters.filter(n=>n instanceof tt&&n.field.isEqual(e))}function Zb(t,e,n){let r=Op,i=!0;for(const s of Gm(t,e)){let o=Op,a=!0;switch(s.op){case"<":case"<=":o=cq(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Op}Qb({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Qb({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function eT(t,e,n){let r=jo,i=!0;for(const s of Gm(t,e)){let o=jo,a=!0;switch(s.op){case">=":case">":o=uq(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=jo}Yb({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Yb({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function _q(t,e,n,r,i,s,o,a){return new zl(t,e,n,r,i,s,o,a)}function Jf(t){return new zl(t)}function tT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tE(t){return t.collectionGroup!==null}function zc(t){const e=De(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new bt(zt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new uf(s,r))}),n.has(zt.keyField().canonicalString())||e.le.push(new uf(zt.keyField(),r))}return e.le}function _i(t){const e=De(t);return e.he||(e.he=M9(e,zc(t))),e.he}function M9(t,e){if(t.limitType==="F")return hw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new uf(i.field,s)});const n=t.endAt?new oa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new oa(t.startAt.position,t.startAt.inclusive):null;return hw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fw(t,e){const n=t.filters.concat([e]);return new zl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Km(t,e,n){return new zl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tg(t,e){return Xf(_i(t),_i(e))&&t.limitType===e.limitType}function O9(t){return`${xl(_i(t))}|lt:${t.limitType}`}function hc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>N9(i)).join(", ")}]`),Ig(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>du(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>du(i)).join(",")),`Target(${r})`}(_i(t))}; limitType=${t.limitType})`}function Zf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):re.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of zc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Xb(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,zc(r),i)||r.endAt&&!function(o,a,l){const c=Xb(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,zc(r),i))}(t,e)}function wq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $9(t){return(e,n)=>{let r=!1;for(const i of zc(t)){const s=xq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function xq(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?sa(l,c):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ul(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return I9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq=new sn(re.comparator);function Wr(){return Eq}const j9=new sn(re.comparator);function Wd(...t){let e=j9;for(const n of t)e=e.insert(n.key,n);return e}function F9(t){let e=j9;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ls(){return hh()}function V9(){return hh()}function hh(){return new Ea(t=>t.toString(),(t,e)=>t.isEqual(e))}const Cq=new sn(re.comparator),Iq=new bt(re.comparator);function Ge(...t){let e=Iq;for(const n of t)e=e.add(n);return e}const bq=new bt(je);function Tq(){return bq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:of(e)?"-0":e}}function z9(t){return{integerValue:""+t}}function Sq(t,e){return zH(e)?z9(e):U9(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(){this._=void 0}}function Rq(t,e,n){return t instanceof fu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&bg(s)&&(s=Z3(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof El?W9(t,e):t instanceof pu?H9(t,e):function(i,s){const o=B9(i,s),a=nT(o)+nT(i.Ie);return cw(o)&&cw(i.Ie)?z9(a):U9(i.serializer,a)}(t,e)}function Aq(t,e,n){return t instanceof El?W9(t,e):t instanceof pu?H9(t,e):n}function B9(t,e){return t instanceof df?function(r){return cw(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class fu extends Sg{}class El extends Sg{constructor(e){super(),this.elements=e}}function W9(t,e){const n=q9(e);for(const r of t.elements)n.some(i=>vs(i,r))||n.push(r);return{arrayValue:{values:n}}}class pu extends Sg{constructor(e){super(),this.elements=e}}function H9(t,e){let n=q9(e);for(const r of t.elements)n=n.filter(i=>!vs(i,r));return{arrayValue:{values:n}}}class df extends Sg{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function nT(t){return Yt(t.integerValue||t.doubleValue)}function q9(t){return cf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n){this.field=e,this.transform=n}}function kq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof El&&i instanceof El||r instanceof pu&&i instanceof pu?uu(r.elements,i.elements,vs):r instanceof df&&i instanceof df?vs(r.Ie,i.Ie):r instanceof fu&&i instanceof fu}(t.transform,e.transform)}class Pq{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rg{}function G9(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ag(t.key,Xn.none()):new Wu(t.key,t.data,Xn.none());{const n=t.data,r=Yn.empty();let i=new bt(zt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new lo(t.key,r,new Sr(i.toArray()),Xn.none())}}function Nq(t,e,n){t instanceof Wu?function(i,s,o){const a=i.value.clone(),l=iT(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof lo?function(i,s,o){if(!jp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=iT(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(K9(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function fh(t,e,n,r){return t instanceof Wu?function(s,o,a,l){if(!jp(s.precondition,o))return a;const c=s.value.clone(),u=sT(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof lo?function(s,o,a,l){if(!jp(s.precondition,o))return a;const c=sT(s.fieldTransforms,l,o),u=o.data;return u.setAll(K9(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return jp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Lq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=B9(r.transform,i||null);s!=null&&(n===null&&(n=Yn.empty()),n.set(r.field,s))}return n||null}function rT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&uu(r,i,(s,o)=>kq(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wu extends Rg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class lo extends Rg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function K9(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function iT(t,e,n){const r=new Map;we(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Aq(o,a,n[i]))}return r}function sT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Rq(s,o,e))}return r}class Ag extends Rg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q9 extends Rg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Nq(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=V9();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=G9(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ge())}isEqual(e){return this.batchId===e.batchId&&uu(this.mutations,e.mutations,(n,r)=>rT(n,r))&&uu(this.baseMutations,e.baseMutations,(n,r)=>rT(n,r))}}class iE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){we(e.mutations.length===r.length);let i=function(){return Cq}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new iE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,ot;function Oq(t){switch(t){default:return ge();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function Y9(t){if(t===void 0)return or("GRPC error has no .code"),H.UNKNOWN;switch(t){case un.OK:return H.OK;case un.CANCELLED:return H.CANCELLED;case un.UNKNOWN:return H.UNKNOWN;case un.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case un.INTERNAL:return H.INTERNAL;case un.UNAVAILABLE:return H.UNAVAILABLE;case un.UNAUTHENTICATED:return H.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case un.NOT_FOUND:return H.NOT_FOUND;case un.ALREADY_EXISTS:return H.ALREADY_EXISTS;case un.PERMISSION_DENIED:return H.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case un.ABORTED:return H.ABORTED;case un.OUT_OF_RANGE:return H.OUT_OF_RANGE;case un.UNIMPLEMENTED:return H.UNIMPLEMENTED;case un.DATA_LOSS:return H.DATA_LOSS;default:return ge()}}(ot=un||(un={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $q(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq=new Uc([4294967295,4294967295],0);function oT(t){const e=$q().encode(t),n=new SH;return n.update(e),new Uint8Array(n.digest())}function aT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Uc([n,r],0),new Uc([i,s],0)]}class oE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hd(`Invalid padding: ${n}`);if(r<0)throw new Hd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hd(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Uc.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Uc.fromNumber(r)));return i.compare(jq)===1&&(i=new Uc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=oT(e),[r,i]=aT(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new oE(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=oT(e),[r,i]=aT(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,e0.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kg(Ce.min(),i,new sn(je),Wr(),Ge())}}class e0{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new e0(r,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class X9{constructor(e,n){this.targetId=e,this.fe=n}}class J9{constructor(e,n,r=zn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class lT{constructor(){this.ge=0,this.pe=uT(),this.ye=zn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ge(),n=Ge(),r=Ge();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new e0(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=uT()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,we(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class Fq{constructor(e){this.Be=e,this.ke=new Map,this.qe=Wr(),this.Qe=cT(),this.Ke=new sn(je)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(qm(s))if(r===0){const o=new re(s.path);this.We(n,o,Xt.newNoDocument(o,Ce.min()))}else we(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ia(r).toUint8Array()}catch(l){if(l instanceof b9)return vl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new oE(o,i,s)}catch(l){return vl(l instanceof Hd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&qm(a.target)){const l=new re(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Xt.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Ge();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new kg(e,n,this.Ke,this.qe,r);return this.qe=Wr(),this.Qe=cT(),this.Ke=new sn(je),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new lT,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new bt(je),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new lT),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function cT(){return new sn(re.comparator)}function uT(){return new sn(re.comparator)}const Vq={asc:"ASCENDING",desc:"DESCENDING"},Uq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zq={and:"AND",or:"OR"};class Bq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pw(t,e){return t.useProto3Json||Ig(e)?e:{value:e}}function mu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z9(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Wq(t,e){return mu(t,e.toTimestamp())}function fr(t){return we(!!t),Ce.fromTimestamp(function(n){const r=ra(n);return new Ht(r.seconds,r.nanos)}(t))}function aE(t,e){return mw(t,e).canonicalString()}function mw(t,e){const n=function(i){return new pt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function eN(t){const e=pt.fromString(t);return we(lN(e)),e}function Qm(t,e){return aE(t.databaseId,e.path)}function il(t,e){const n=eN(e);if(n.get(1)!==t.databaseId.projectId)throw new J(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(rN(n))}function tN(t,e){return aE(t.databaseId,e)}function nN(t){const e=eN(t);return e.length===4?pt.emptyPath():rN(e)}function gw(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rN(t){return we(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function dT(t,e,n){return{name:Qm(t,e),fields:n.value.mapValue.fields}}function Hq(t,e,n){const r=il(t,e.name),i=fr(e.updateTime),s=e.createTime?fr(e.createTime):Ce.min(),o=new Yn({mapValue:{fields:e.fields}}),a=Xt.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function qq(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(we(u===void 0||typeof u=="string"),zn.fromBase64String(u||"")):(we(u===void 0||u instanceof Uint8Array),zn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?H.UNKNOWN:Y9(c.code);return new J(u,c.message||"")}(o);n=new J9(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=il(t,r.document.name),s=fr(r.document.updateTime),o=r.document.createTime?fr(r.document.createTime):Ce.min(),a=new Yn({mapValue:{fields:r.document.fields}}),l=Xt.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Fp(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=il(t,r.document),s=r.readTime?fr(r.readTime):Ce.min(),o=Xt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Fp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=il(t,r.document),s=r.removedTargetIds||[];n=new Fp([],s,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Mq(i,s),a=r.targetId;n=new X9(a,o)}}return n}function Ym(t,e){let n;if(e instanceof Wu)n={update:dT(t,e.key,e.value)};else if(e instanceof Ag)n={delete:Qm(t,e.key)};else if(e instanceof lo)n={update:dT(t,e.key,e.data),updateMask:Jq(e.fieldMask)};else{if(!(e instanceof Q9))return ge();n={verify:Qm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof fu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof El)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof pu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof df)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Wq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge()}(t,e.precondition)),n}function vw(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?Xn.updateTime(fr(s.updateTime)):s.exists!==void 0?Xn.exists(s.exists):Xn.none()}(e.currentDocument):Xn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)we(a.setToServerValue==="REQUEST_TIME"),l=new fu;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];l=new El(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];l=new pu(u)}else"increment"in a?l=new df(o,a.increment):ge();const c=zt.fromServerFormat(a.fieldPath);return new nE(c,l)}(t,i)):[];if(e.update){e.update.name;const i=il(t,e.update.name),s=new Yn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new Sr(c.map(u=>zt.fromServerFormat(u)))}(e.updateMask);return new lo(i,s,o,n,r)}return new Wu(i,s,n,r)}if(e.delete){const i=il(t,e.delete);return new Ag(i,n)}if(e.verify){const i=il(t,e.verify);return new Q9(i,n)}return ge()}function Gq(t,e){return t&&t.length>0?(we(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?fr(i.updateTime):fr(s);return o.isEqual(Ce.min())&&(o=fr(s)),new Pq(o,i.transformResults||[])}(n,e))):[]}function iN(t,e){return{documents:[tN(t,e.path)]}}function lE(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tN(t,i);const s=function(c){if(c.length!==0)return aN(yt.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:Po(f.field),direction:Qq(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=pw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i}}function sN(t){let e=nN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){we(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=oN(d);return f instanceof yt&&eE(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(m){return new uf(fc(m.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Ig(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new oa(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,p=d.values||[];return new oa(p,f)}(n.endAt)),_q(e,i,o,s,a,"F",l,c)}function Kq(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fc(n.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fc(n.unaryFilter.field);return tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fc(n.unaryFilter.field);return tt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fc(n.unaryFilter.field);return tt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return tt.create(fc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yt.create(n.compositeFilter.filters.map(r=>oN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function Qq(t){return Vq[t]}function Yq(t){return Uq[t]}function Xq(t){return zq[t]}function Po(t){return{fieldPath:t.canonicalString()}}function fc(t){return zt.fromServerFormat(t.fieldPath)}function aN(t){return t instanceof tt?function(n){if(n.op==="=="){if(Kb(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NAN"}};if(Gb(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Kb(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NAN"}};if(Gb(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(n.field),op:Yq(n.op),value:n.value}}}(t):t instanceof yt?function(n){const r=n.getFilters().map(i=>aN(i));return r.length===1?r[0]:{compositeFilter:{op:Xq(n.op),filters:r}}}(t):ge()}function Jq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r,i,s=Ce.min(),o=Ce.min(),a=zn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.ct=e}}function Zq(t,e){let n;if(e.document)n=Hq(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=re.fromSegments(e.noDocument.path),i=Il(e.noDocument.readTime);n=Xt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ge();{const r=re.fromSegments(e.unknownDocument.path),i=Il(e.unknownDocument.version);n=Xt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Ht(i[0],i[1]);return Ce.fromTimestamp(s)}(e.readTime)),n}function hT(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Xm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Qm(s,o.key),fields:o.data.value.mapValue.fields,updateTime:mu(s,o.version.toTimestamp()),createTime:mu(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Cl(e.version)};else{if(!e.isUnknownDocument())return ge();r.unknownDocument={path:n.path.toArray(),version:Cl(e.version)}}return r}function Xm(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Cl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Il(t){const e=new Ht(t.seconds,t.nanoseconds);return Ce.fromTimestamp(e)}function Fa(t,e){const n=(e.baseMutations||[]).map(s=>vw(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>vw(t.ct,s)),i=Ht.fromMillis(e.localWriteTimeMs);return new rE(e.batchId,i,n,r)}function qd(t){const e=Il(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Il(t.lastLimboFreeSnapshotVersion):Ce.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return we(s.documents.length===1),_i(Jf(nN(s.documents[0])))}(t.query):function(s){return _i(sN(s))}(t.query),new js(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,zn.fromBase64String(t.resumeToken))}function uN(t,e){const n=Cl(e.snapshotVersion),r=Cl(e.lastLimboFreeSnapshotVersion);let i;i=qm(e.target)?iN(t.ct,e.target):lE(t.ct,e.target).ut;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xl(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function dN(t){const e=sN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Km(e,e.limit,"L"):e}function Jv(t,e){return new sE(e.largestBatchId,vw(t.ct,e.overlayMutation))}function fT(t,e){const n=e.path.lastSegment();return[t,hr(e.path.popLast()),n]}function pT(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Cl(r.readTime),documentKey:hr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{getBundleMetadata(e,n){return mT(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Il(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return mT(e).put(function(i){return{bundleId:i.id,createTime:Cl(fr(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return gT(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:dN(s.bundledQuery),readTime:Il(s.readTime)}}(r)})}saveNamedQuery(e,n){return gT(e).put(function(i){return{name:i.name,readTime:Cl(fr(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function mT(t){return Nn(t,"bundles")}function gT(t){return Nn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Pg(e,r)}getOverlay(e,n){return _d(e).get(fT(this.userId,n)).next(r=>r?Jv(this.serializer,r):null)}getOverlays(e,n){const r=ls();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new sE(n,o);i.push(this.ht(e,a))}),z.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(hr(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(_d(e).H("collectionPathOverlayIndex",a))}),z.waitFor(s)}getOverlaysForCollection(e,n,r){const i=ls(),s=hr(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return _d(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=Jv(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=ls();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return _d(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=Jv(this.serializer,c);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>s)}ht(e,n){return _d(e).put(function(i,s,o){const[a,l,c]=fT(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Ym(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function _d(t){return Nn(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Yt(e.integerValue));else if("doubleValue"in e){const r=Yt(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),of(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(ia(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?T9(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):ge()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),re.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}Va.bt=new Va;function tG(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function vT(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=tG(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class nG{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=vT(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=vT(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class rG{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class iG{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class wd{constructor(){this.Gt=new nG,this.zt=new rG(this.Gt),this.jt=new iG(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ua(this.indexId,this.documentKey,this.arrayValue,r)}}function yo(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=yT(t.arrayValue,e.arrayValue),n!==0?n:(n=yT(t.directionalValue,e.directionalValue),n!==0?n:re.comparator(t.documentKey,e.documentKey)))}function yT(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this.Yt=new bt((n,r)=>zt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(we(e.collectionGroup===this.collectionId),this.en)return!1;const n=sw(e);if(n!==void 0&&!this.nn(n))return!1;const r=Da(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new bt(zt.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Dp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Dp(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Dp(r.field,r.dir==="asc"?0:1)));return new Hm(Hm.UNKNOWN_ID,this.collectionId,n,sf.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){var e,n;if(we(t instanceof tt||t instanceof yt),t instanceof tt){if(t instanceof D9){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>tt.create(t.field,"==",s)))||[];return yt.create(i,"or")}return t}const r=t.filters.map(i=>hN(i));return yt.create(r,t.op)}function sG(t){if(t.getFilters().length===0)return[];const e=ww(hN(t));return we(fN(e)),yw(e)||_w(e)?[e]:e.getFilters()}function yw(t){return t instanceof tt}function _w(t){return t instanceof yt&&eE(t)}function fN(t){return yw(t)||_w(t)||function(n){if(n instanceof yt&&uw(n)){for(const r of n.getFilters())if(!yw(r)&&!_w(r))return!1;return!0}return!1}(t)}function ww(t){if(we(t instanceof tt||t instanceof yt),t instanceof tt)return t;if(t.filters.length===1)return ww(t.filters[0]);const e=t.filters.map(r=>ww(r));let n=yt.create(e,t.op);return n=Jm(n),fN(n)?n:(we(n instanceof yt),we(hu(n)),we(n.filters.length>1),n.filters.reduce((r,i)=>cE(r,i)))}function cE(t,e){let n;return we(t instanceof tt||t instanceof yt),we(e instanceof tt||e instanceof yt),n=t instanceof tt?e instanceof tt?function(i,s){return yt.create([i,s],"and")}(t,e):wT(t,e):e instanceof tt?wT(e,t):function(i,s){if(we(i.filters.length>0&&s.filters.length>0),hu(i)&&hu(s))return P9(i,s.getFilters());const o=uw(i)?i:s,a=uw(i)?s:i,l=o.filters.map(c=>cE(c,a));return yt.create(l,"or")}(t,e),Jm(n)}function wT(t,e){if(hu(e))return P9(e,t.getFilters());{const n=e.filters.map(r=>cE(t,r));return yt.create(n,"or")}}function Jm(t){if(we(t instanceof tt||t instanceof yt),t instanceof tt)return t;const e=t.getFilters();if(e.length===1)return Jm(e[0]);if(A9(t))return t;const n=e.map(i=>Jm(i)),r=[];return n.forEach(i=>{i instanceof tt?r.push(i):i instanceof yt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:yt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(){this._n=new uE}addToCollectionParentIndex(e,n){return this._n.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Jr.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class uE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new bt(pt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Uint8Array(0);class aG{constructor(e,n){this.databaseId=n,this.an=new uE,this.un=new Ea(r=>xl(r),(r,i)=>Xf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const s={collectionId:r,parent:hr(i)};return xT(e).put(s)}return z.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[g9(n),""],!1,!0);return xT(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(as(o.parent))}return r})}addFieldIndex(e,n){const r=xd(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=tc(e);return s.next(a=>{o.put(pT(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=xd(e),i=tc(e),s=ec(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=xd(e),r=ec(e),i=tc(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return z.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new _T(r).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=ec(e);let i=!0;const s=new Map;return z.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Ge();const a=[];return z.forEach(s,(l,c)=>{K("IndexedDbIndexManager",`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(E=>`${E.fieldPath}:${E.kind}`).join(",")}`}(l)} to execute ${xl(n)}`);const u=function(_,E){const b=sw(E);if(b===void 0)return null;for(const C of Gm(_,b.fieldPath))switch(C.op){case"array-contains-any":return C.value.arrayValue.values||[];case"array-contains":return[C.value]}return null}(c,l),d=function(_,E){const b=new Map;for(const C of Da(E))for(const S of Gm(_,C.fieldPath))switch(S.op){case"==":case"in":b.set(C.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return b.set(C.fieldPath.canonicalString(),S.value),Array.from(b.values())}return null}(c,l),f=function(_,E){const b=[];let C=!0;for(const S of Da(E)){const I=S.kind===0?Zb(_,S.fieldPath,_.startAt):eT(_,S.fieldPath,_.startAt);b.push(I.value),C&&(C=I.inclusive)}return new oa(b,C)}(c,l),p=function(_,E){const b=[];let C=!0;for(const S of Da(E)){const I=S.kind===0?eT(_,S.fieldPath,_.endAt):Zb(_,S.fieldPath,_.endAt);b.push(I.value),C&&(C=I.inclusive)}return new oa(b,C)}(c,l),m=this.hn(l,c,f),y=this.hn(l,c,p),x=this.Pn(l,c,d),g=this.In(l.indexId,u,m,f.inclusive,y,p.inclusive,x);return z.forEach(g,w=>r.j(w,n.limit).next(_=>{_.forEach(E=>{const b=re.fromSegments(E.documentKey);o.has(b)||(o=o.add(b),a.push(b))})}))}).next(()=>a)}return z.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=sG(yt.create(e.filters,"and")).map(r=>hw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){const f=n?this.Tn(n[d/c]):J0,p=this.En(e,f,r[d%c],i),m=this.dn(e,f,s[d%c],o),y=a.map(x=>this.En(e,f,x,!0));u.push(...this.createRange(p,m,y))}return u}En(e,n,r,i){const s=new Ua(e,re.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){const s=new Ua(e,re.empty(),n,r);return i?s.Jt():s}ln(e,n){const r=new _T(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.cn(n);return z.forEach(i,s=>this.ln(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new bt(zt.comparator),u=!1;for(const d of l.filters)for(const f of d.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?u=!0:c=c.add(f.field));for(const d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){const r=new wd;for(const i of Da(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Ht(i.kind);Va.bt.Pt(s,o)}return r.Wt()}Tn(e){const n=new wd;return Va.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new wd;return Va.bt.Pt(wl(this.databaseId,n),r.Ht(function(s){const o=Da(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new wd);let s=0;for(const o of Da(e)){const a=r[s++];for(const l of i)if(this.Vn(n,o.fieldPath)&&cf(a))i=this.mn(i,o,a);else{const c=l.Ht(o.kind);Va.bt.Pt(a,c)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new wd;l.seed(a.Wt()),Va.bt.Pt(o,l.Ht(n.kind)),s.push(l)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof tt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=xd(e),i=tc(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return z.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,d){const f=d?new sf(d.sequenceNumber,new Jr(Il(d.readTime),new re(as(d.documentKey)),d.largestBatchId)):sf.empty(),p=u.fields.map(([m,y])=>new Dp(zt.fromServerFormat(m),y));return new Hm(u.indexId,u.collectionGroup,p,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:je(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=xd(e),s=tc(e);return this.gn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>z.forEach(a,l=>s.put(pT(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return z.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?z.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),z.forEach(a,l=>this.pn(e,i,l).next(c=>{const u=this.yn(s,l);return c.isEqual(u)?z.resolve():this.wn(e,s,l,c,u)}))))})}Sn(e,n,r,i){return ec(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return ec(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=ec(e);let s=new bt(yo);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{s=s.add(new Ua(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let r=new bt(yo);const i=this.An(n,e);if(i==null)return r;const s=sw(n);if(s!=null){const o=e.data.field(s.fieldPath);if(cf(o))for(const a of o.arrayValue.values||[])r=r.add(new Ua(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Ua(n.indexId,e.key,J0,i));return r}wn(e,n,r,i,s){K("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,c,u,d,f){const p=l.getIterator(),m=c.getIterator();let y=Zl(p),x=Zl(m);for(;y||x;){let g=!1,w=!1;if(y&&x){const _=u(y,x);_<0?w=!0:_>0&&(g=!0)}else y!=null?w=!0:g=!0;g?(d(x),x=Zl(m)):w?(f(y),y=Zl(p)):(y=Zl(p),x=Zl(m))}}(i,s,yo,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),z.waitFor(o)}gn(e){let n=1;return tc(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>yo(o,a)).filter((o,a,l)=>!a||yo(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=yo(o,e),l=yo(o,n);if(a===0)i[0]=e.Jt();else if(a>0&&l<0)i.push(o),i.push(o.Jt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,J0,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,J0,[]];s.push(IDBKeyRange.bound(a,l))}return s}Dn(e,n){return yo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(ET)}getMinOffset(e,n){return z.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||ge())).next(ET)}}function xT(t){return Nn(t,"collectionParents")}function ec(t){return Nn(t,"indexEntries")}function xd(t){return Nn(t,"indexConfiguration")}function tc(t){return Nn(t,"indexState")}function ET(t){we(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;X3(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Jr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class xr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new xr(e,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(u,d,f)=>(a++,f.delete()));s.push(l.next(()=>{we(a===1)}));const c=[];for(const u of n.mutations){const d=w9(e,u.key.path,n.batchId);s.push(i.delete(d)),c.push(u.key)}return z.waitFor(s).next(()=>c)}function Zm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ge();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr.DEFAULT_COLLECTION_PERCENTILE=10,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xr.DEFAULT=new xr(41943040,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xr.DISABLED=new xr(-1,0,0);class Ng{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){we(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Ng(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _o(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=pc(e),o=_o(e);return o.add({}).next(a=>{we(typeof a=="number");const l=new rE(a,n,r,i),c=function(p,m,y){const x=y.baseMutations.map(w=>Ym(p.ct,w)),g=y.mutations.map(w=>Ym(p.ct,w));return{userId:m,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:x,mutations:g}}(this.serializer,this.userId,l),u=[];let d=new bt((f,p)=>je(f.canonicalString(),p.canonicalString()));for(const f of i){const p=w9(this.userId,f.key.path,a);d=d.add(f.key.path.popLast()),u.push(o.put(c)),u.push(s.put(p,WH))}return d.forEach(f=>{u.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),z.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return _o(e).get(n).next(r=>r?(we(r.userId===this.userId),Fa(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?z.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return _o(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(we(a.batchId>=r),s=Fa(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return _o(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _o(e).W("userMutationsIndex",n).next(r=>r.map(i=>Fa(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Mp(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return pc(e).Y({range:i},(o,a,l)=>{const[c,u,d]=o,f=as(u);if(c===this.userId&&n.path.isEqual(f))return _o(e).get(d).next(p=>{if(!p)throw ge();we(p.userId===this.userId),s.push(Fa(this.serializer,p))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt(je);const i=[];return n.forEach(s=>{const o=Mp(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=pc(e).Y({range:a},(c,u,d)=>{const[f,p,m]=c,y=as(p);f===this.userId&&s.path.isEqual(y)?r=r.add(m):d.done()});i.push(l)}),z.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Mp(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new bt(je);return pc(e).Y({range:o},(l,c,u)=>{const[d,f,p]=l,m=as(f);d===this.userId&&r.isPrefixOf(m)?m.length===i&&(a=a.add(p)):u.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(_o(e).get(s).next(o=>{if(o===null)throw ge();we(o.userId===this.userId),r.push(Fa(this.serializer,o))}))}),z.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return pN(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),z.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return z.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return pc(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=as(s[1]);i.push(l)}else a.done()}).next(()=>{we(i.length===0)})})}containsKey(e,n){return mN(e,this.userId,n)}xn(e){return gN(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function mN(t,e,n){const r=Mp(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return pc(t).Y({range:s,J:!0},(a,l,c)=>{const[u,d,f]=a;u===e&&d===i&&(o=!0),c.done()}).next(()=>o)}function _o(t){return Nn(t,"mutations")}function pc(t){return Nn(t,"documentMutations")}function gN(t){return Nn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new bl(0)}static Ln(){return new bl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new bl(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Ce.fromTimestamp(new Ht(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>nc(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(we(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return nc(e).Y((o,a)=>{const l=qd(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>z.waitFor(s)).next(()=>i)}forEachTarget(e,n){return nc(e).Y((r,i)=>{const s=qd(i);n(s)})}Bn(e){return IT(e).get("targetGlobalKey").next(n=>(we(n!==null),n))}kn(e,n){return IT(e).put("targetGlobalKey",n)}qn(e,n){return nc(e).put(uN(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=xl(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return nc(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=qd(a);Xf(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=No(e);return n.forEach(o=>{const a=hr(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),z.waitFor(i)}removeMatchingKeys(e,n,r){const i=No(e);return z.forEach(n,s=>{const o=hr(s.path);return z.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=No(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=No(e);let s=Ge();return i.Y({range:r,J:!0},(o,a,l)=>{const c=as(o[1]),u=new re(c);s=s.add(u)}).next(()=>s)}containsKey(e,n){const r=hr(n.path),i=IDBKeyRange.bound([r],[g9(r)],!1,!0);let s=0;return No(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}_t(e,n){return nc(e).get(n).next(r=>r?qd(r):null)}}function nc(t){return Nn(t,"targets")}function IT(t){return Nn(t,"targetGlobal")}function No(t){return Nn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT([t,e],[n,r]){const i=je(t,n);return i===0?je(e,r):i}class cG{constructor(e){this.Kn=e,this.buffer=new bt(bT),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){K("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xa(n)?K("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Vl(n)}await this.zn(3e5)})}}class dG{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(fi._e);const r=new cG(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(CT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CT):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),dc()<=He.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function hG(t,e){return new dG(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{constructor(e,n){this.db=e,this.garbageCollector=hG(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return Z0(e,r)}removeReference(e,n,r){return Z0(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Z0(e,n)}er(e,n){return function(i,s){let o=!1;return gN(i).Z(a=>mN(i,a,s).next(l=>(l&&(o=!0),z.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Xn(e,(o,a)=>{if(a<=n){const l=this.er(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Ce.min()),No(e).delete(function(d){return[0,hr(d.path)]}(o))))});i.push(l)}}).next(()=>z.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Z0(e,n)}Xn(e,n){const r=No(e);let i,s=fi._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==fi._e&&n(new re(as(i)),s),s=c,i=l):s=fi._e}).next(()=>{s!==fi._e&&n(new re(as(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Z0(t,e){return No(t).put(function(r,i){return{targetId:0,path:hr(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.changes=new Ea(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ra(e).put(r)}removeEntry(e,n,r){return Ra(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Xm(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=Xt.newInvalidDocument(n);return Ra(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ed(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:Xt.newInvalidDocument(n)};return Ra(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ed(n))},(i,s)=>{r={document:this.nr(n,s),size:Zm(s)}}).next(()=>r)}getEntries(e,n){let r=Wr();return this.ir(e,n,(i,s)=>{const o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,n){let r=Wr(),i=new sn(re.comparator);return this.ir(e,n,(s,o)=>{const a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,Zm(o))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return z.resolve();let i=new bt(RT);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Ed(i.first()),Ed(i.last())),o=i.getIterator();let a=o.getNext();return Ra(e).Y({index:"documentKeyIndex",range:s},(l,c,u)=>{const d=re.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&RT(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?u.U(Ed(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Xm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ra(e).W(IDBKeyRange.bound(a,l,!0)).next(c=>{s==null||s.incrementDocumentReadCount(c.length);let u=Wr();for(const d of c){const f=this.nr(re.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);f.isFoundDocument()&&(Zf(n,f)||i.has(f.key))&&(u=u.insert(f.key,f))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=Wr();const o=ST(n,r),a=ST(n,Jr.max());return Ra(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const d=this.nr(re.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(d.key,d),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new mG(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return TT(e).get("remoteDocumentGlobalKey").next(n=>(we(!!n),n))}tr(e,n){return TT(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=Zq(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ce.min())))return r}return Xt.newInvalidDocument(e)}}function yN(t){return new pG(t)}class mG extends vN{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Ea(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new bt((s,o)=>je(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=hT(this.ar.serializer,o);i=i.add(s.path.popLast());const c=Zm(l);r+=c-a.size,n.push(this.ar.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=hT(this.ar.serializer,o.convertToNoDocument(Ce.min()));n.push(this.ar.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),z.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function TT(t){return Nn(t,"remoteDocumentGlobal")}function Ra(t){return Nn(t,"remoteDocumentsV14")}function Ed(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ST(t,e){const n=e.documentKey.path.toArray();return[t,Xm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function RT(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=je(n[s],r[s]),i)return i;return i=je(n.length,r.length),i||(i=je(n[n.length-2],r[r.length-2]),i||je(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fh(r.mutation,i,Sr.empty(),Ht.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ge()){const i=ls();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Wd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ls();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Wr();const o=hh(),a=function(){return hh()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof lo)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),fh(u.mutation,c,u.mutation.getFieldMask(),Ht.now())):o.set(c.key,Sr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new gG(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=hh();let i=new sn((o,a)=>o-a),s=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Sr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||Ge()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=V9();u.forEach(f=>{if(!s.has(f)){const p=G9(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(ls());let a=-1,l=s;return o.next(c=>z.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?z.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ge())).next(u=>({batchId:a,changes:F9(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=Wd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Wd();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,l=>{const c=function(d,f){return new zl(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Xt.newInvalidDocument(u)))});let a=Wd();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&fh(u.mutation,c,Sr.empty(),Ht.now()),Zf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return z.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fr(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:dN(i.bundledQuery),readTime:fr(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(){this.overlays=new sn(re.comparator),this.hr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ls();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=ls(),s=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new sn((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=ls(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ls(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return z.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sE(n,r));let s=this.hr.get(n);s===void 0&&(s=Ge(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.Pr=new bt(Cn.Ir),this.Tr=new bt(Cn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Cn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Cn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new re(new pt([])),r=new Cn(n,e),i=new Cn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new re(new pt([])),r=new Cn(n,e),i=new Cn(n,e+1);let s=Ge();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Cn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Cn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return re.comparator(e.key,n.key)||je(e.pr,n.pr)}static Er(e,n){return je(e.pr,n.pr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new bt(Cn.Ir)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rE(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Cn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Cn(n,0),i=new Cn(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt(je);return n.forEach(i=>{const s=new Cn(i,0),o=new Cn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),z.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;re.isDocumentKey(s)||(s=s.child(""));const o=new Cn(new re(s),0);let a=new bt(je);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),z.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){we(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return z.forEach(n.mutations,i=>{const s=new Cn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Cn(n,0),i=this.wr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(e){this.vr=e,this.docs=function(){return new sn(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let r=Wr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Xt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Wr();const o=n.path,a=new re(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||X3(v9(u),r)<=0||(i.has(u.key)||Zf(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ge()}Fr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xG(this)}getSize(e){return z.resolve(this.size)}}class xG extends vN{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e){this.persistence=e,this.Mr=new Ea(n=>xl(n),Xf),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Or=0,this.Nr=new dE,this.targetCount=0,this.Lr=bl.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),z.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new bl(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.qn(n),z.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n){this.Br={},this.overlays={},this.kr=new fi(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new EG(this),this.indexManager=new oG,this.remoteDocumentCache=function(i){return new wG(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new cN(n),this.$r=new vG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new _G(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new CG(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return z.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class CG extends _9{constructor(e){super(),this.currentSequenceNumber=e}}class Lg{constructor(e){this.persistence=e,this.zr=new dE,this.jr=null}static Hr(e){return new Lg(e)}get Jr(){if(this.jr)return this.jr;throw ge()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),z.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Jr,r=>{const i=re.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Ce.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return z.or([()=>z.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e){this.serializer=e}N(e,n,r,i){const s=new Cg("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Bb,{unique:!0}),l.createObjectStore("documentMutations")}(e),AT(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=z.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),AT(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ce.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").W().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Bb,{unique:!0});const d=c.store("mutations"),f=u.map(p=>d.put(p));return z.waitFor(f)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:nq});c.createIndex("collectionPathOverlayIndex",rq,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",iq,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:HH});c.createIndex("documentKeyIndex",qH),c.createIndex("collectionGroupIndex",GH)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:JH}).createIndex("sequenceNumberIndex",ZH,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:eq}).createIndex("documentKeyIndex",tq,{unique:!1})}(e))),o}ei(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=Zm(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>z.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>z.forEach(a,l=>{we(l.userId===s.userId);const c=Fa(this.serializer,l);return pN(e,s.userId,c).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new pt(o),c=function(d){return[0,hr(d)]}(l);s.push(n.get(c).next(u=>u?z.resolve():(d=>n.put({targetId:0,path:hr(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>z.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:XH});const r=n.store("collectionParents"),i=new uE,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:hr(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new pt(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],c)=>{const u=as(a);return s(u.popLast())}))}ri(e){const n=e.store("targets");return n.Y((r,i)=>{const s=qd(i),o=uN(this.serializer,s);return n.put(o)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new re(pt.fromString(d.document.name).popFirst(5)):d.noDocument?re.fromSegments(d.noDocument.path):d.unknownDocument?re.fromSegments(d.unknownDocument.path):ge()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>z.waitFor(i))}si(e,n){const r=n.store("mutations"),i=yN(this.serializer),s=new wN(Lg.Hr,this.serializer.ct);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:Ge();Fa(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),z.forEach(a,(l,c)=>{const u=new sr(c),d=Pg.lt(this.serializer,u),f=s.getIndexManager(u),p=Ng.lt(u,this.serializer,f,s.referenceDelegate);return new _N(i,p,d,f).recalculateAndSaveOverlaysForDocumentKeys(new ow(n,fi._e),l).next()})})}}function AT(t){t.createObjectStore("targetDocuments",{keyPath:QH}).createIndex("documentTargetsIndex",YH,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",KH,{unique:!0}),t.createObjectStore("targetGlobal")}const Zv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hE{constructor(e,n,r,i,s,o,a,l,c,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=c,this.ai=u,this.ui=d,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=f=>Promise.resolve(),!hE.D())throw new J(H.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fG(this,i),this.Ti=n+"main",this.serializer=new cN(l),this.Ei=new os(this.Ti,this.ui,new IG(this.serializer)),this.Qr=new lG(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yN(this.serializer),this.$r=new eG,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,u===!1&&or("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new J(H.FAILED_PRECONDITION,Zv);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new fi(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ep(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(xa(e))return K("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return K("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Cd(e).get("owner").next(n=>z.resolve(this.Si(n)))}bi(e){return ep(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Nn(n,"clientMetadata");return r.W().next(i=>{const s=this.vi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return z.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?z.resolve(!0):Cd(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new J(H.FAILED_PRECONDITION,Zv);return!1}}return!(!this.networkEnabled||!this.inForeground)||ep(e).W().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&K("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new ow(e,fi._e);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>ep(e).W().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Ng.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new aG(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Pg.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){K("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===15?oq:l===14?C9:l===13?E9:l===12?sq:l===11?x9:void ge()}(this.ui);let o;return this.Ei.runTransaction(e,i,s,a=>(o=new ow(a,this.kr?this.kr.next():fi._e),n==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw or(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new J(H.FAILED_PRECONDITION,y9);return r(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return Cd(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new J(H.FAILED_PRECONDITION,Zv)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cd(e).put("owner",n)}static D(){return os.D()}yi(e){const n=Cd(e);return n.get("owner").next(r=>this.Si(r)?(K("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):z.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(or(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;x6()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return K("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return or("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){or("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Cd(t){return Nn(t,"owner")}function ep(t){return Nn(t,"clientMetadata")}function bG(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ge(),i=Ge();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new fE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return x6()?8:os.v(ct())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new TG;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(dc()<=He.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",hc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),z.resolve()):(dc()<=He.DEBUG&&K("QueryEngine","Query:",hc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(dc()<=He.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",hc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(n))):z.resolve())}ji(e,n){if(tT(n))return z.resolve(null);let r=_i(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Km(n,null,"F"),r=_i(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ge(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,Km(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return tT(n)||i.isEqual(Ce.min())?z.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?z.resolve(null):(dc()<=He.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hc(n)),this.es(e,o,n,$H(i,-1)).next(a=>a))})}Zi(e,n){let r=new bt($9(e));return n.forEach((i,s)=>{Zf(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return dc()<=He.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",hc(n)),this.zi.getDocumentsMatchingQuery(e,n,Jr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new sn(je),this.rs=new Ea(s=>xl(s),Xf),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _N(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function EN(t,e,n,r){return new SG(t,e,n,r)}async function CN(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ge();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function RG(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,f=d.keys();let p=z.resolve();return f.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(y=>{const x=c.docVersions.get(m);we(x!==null),y.version.compareTo(x)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ge();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function IN(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function AG(t,e){const n=De(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(zn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(y,x,g){return y.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,p,u)&&a.push(n.Qr.updateTargetData(s,p))});let l=Wr(),c=Ge();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(kG(s,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(Ce.min())){const u=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function kG(t,e,n){let r=Ge(),i=Ge();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Wr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function PG(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function NG(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new js(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function xw(t,e,n){const r=De(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!xa(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function kT(t,e,n){const r=De(t);let i=Ce.min(),s=Ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=De(l),f=d.rs.get(u);return f!==void 0?z.resolve(d.ns.get(f)):d.Qr.getTargetData(c,u)}(r,o,_i(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Ce.min(),n?s:Ge())).next(a=>(LG(r,wq(e),a),{documents:a,hs:s})))}function LG(t,e,n){let r=t.ss.get(e)||Ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class PT{constructor(){this.activeTargetIds=Tq()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bN{constructor(){this.no=new PT,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new PT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tp=null;function ey(){return tp===null?tp=function(){return 268435456+Math.round(2147483648*Math.random())}():tp++,"0x"+tp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="WebChannelConnection";class $G extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=ey(),l=this.bo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,s,o),this.Co(n,l,c,i).then(u=>(K("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw vl("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=MG[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=ey();return new Promise((o,a)=>{const l=new TH;l.setWithCredentials(!0),l.listenOnce(IH.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Xv.NO_ERROR:const u=l.getResponseJson();K(Gn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Xv.TIMEOUT:K(Gn,`RPC '${e}' ${s} timed out`),a(new J(H.DEADLINE_EXCEEDED,"Request time out"));break;case Xv.HTTP_ERROR:const d=l.getStatus();if(K(Gn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(x){const g=x.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(g)>=0?g:H.UNKNOWN}(p.status);a(new J(m,p.message))}else a(new J(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(H.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{K(Gn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);K(Gn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=ey(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=EH(),a=CH(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");K(Gn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let f=!1,p=!1;const m=new OG({lo:x=>{p?K(Gn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(f||(K(Gn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),K(Gn,`RPC '${e}' stream ${i} sending:`,x),d.send(x))},ho:()=>d.close()}),y=(x,g,w)=>{x.listen(g,_=>{try{w(_)}catch(E){setTimeout(()=>{throw E},0)}})};return y(d,Y0.EventType.OPEN,()=>{p||K(Gn,`RPC '${e}' stream ${i} transport opened.`)}),y(d,Y0.EventType.CLOSE,()=>{p||(p=!0,K(Gn,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),y(d,Y0.EventType.ERROR,x=>{p||(p=!0,vl(Gn,`RPC '${e}' stream ${i} transport errored:`,x),m.Vo(new J(H.UNAVAILABLE,"The operation could not be completed")))}),y(d,Y0.EventType.MESSAGE,x=>{var g;if(!p){const w=x.data[0];we(!!w);const _=w,E=_.error||((g=_[0])===null||g===void 0?void 0:g.error);if(E){K(Gn,`RPC '${e}' stream ${i} received error:`,E);const b=E.status;let C=function(T){const R=un[T];if(R!==void 0)return Y9(R)}(b),S=E.message;C===void 0&&(C=H.INTERNAL,S="Unknown error status: "+b+" with message "+E.message),p=!0,m.Vo(new J(C,S)),d.close()}else K(Gn,`RPC '${e}' stream ${i} received:`,w),m.mo(w)}}),y(a,bH.STAT_EVENT,x=>{x.stat===Fb.PROXY?K(Gn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Fb.NOPROXY&&K(Gn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jG(){return typeof window<"u"?window:null}function Vp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t){return new Bq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new TN(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new J(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FG extends SN{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=qq(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ce.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ce.min():o.readTime?fr(o.readTime):Ce.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=gw(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=qm(l)?{documents:iN(s,l)}:{query:lE(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Z9(s,o.resumeToken);const c=pw(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ce.min())>0){a.readTime=mu(s,o.snapshotVersion.toTimestamp());const c=pw(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Kq(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=gw(this.serializer),n.removeTarget=e,this.t_(n)}}class VG extends SN{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(we(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=Gq(e.writeResults,e.commitTime),r=fr(e.commitTime);return this.listener.T_(r,n)}return we(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=gw(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Ym(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new J(H.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,mw(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(H.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,mw(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(H.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}async function zG(t,e,n){var r;const i=De(t),{request:s,V_:o,parent:a}=function(d,f,p){const{ut:m,parent:y}=lE(d,f),x={},g=[];let w=0;return p.forEach(_=>{const E="aggregate_"+w++;x[E]=_.alias,_.aggregateType==="count"?g.push({alias:E,count:{}}):_.aggregateType==="avg"?g.push({alias:E,avg:{field:Po(_.fieldPath)}}):_.aggregateType==="sum"&&g.push({alias:E,sum:{field:Po(_.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:g,structuredQuery:m.structuredQuery},parent:m.parent},V_:x,parent:y}}(i.serializer,function(d){const f=De(d);return f.Pe||(f.Pe=M9(f,d.explicitOrderBy)),f.Pe}(e),n);i.connection.wo||delete s.parent;const l=(await i.vo("RunAggregationQuery",i.serializer.databaseId,a,s,1)).filter(u=>!!u.result);we(l.length===1);const c=(r=l[0].result)===null||r===void 0?void 0:r.aggregateFields;return Object.keys(c).reduce((u,d)=>(u[o[d]]=c[d],u),{})}class BG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(or(n),this.g_=!1):K("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{Bl(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=De(l);c.v_.add(4),await t0(c),c.x_.set("Unknown"),c.v_.delete(4),await Mg(c)}(this))})}),this.x_=new BG(r,i)}}async function Mg(t){if(Bl(t))for(const e of t.F_)await e(!0)}async function t0(t){for(const e of t.F_)await e(!1)}function RN(t,e){const n=De(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),vE(n)?gE(n):Hu(n).Jo()&&mE(n,e))}function pE(t,e){const n=De(t),r=Hu(n);n.C_.delete(e),r.Jo()&&AN(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Bl(n)&&n.x_.set("Unknown"))}function mE(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Hu(t).c_(e)}function AN(t,e){t.O_.Oe(e),Hu(t).l_(e)}function gE(t){t.O_=new Fq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Hu(t).start(),t.x_.p_()}function vE(t){return Bl(t)&&!Hu(t).Ho()&&t.C_.size>0}function Bl(t){return De(t).v_.size===0}function kN(t){t.O_=void 0}async function HG(t){t.C_.forEach((e,n)=>{mE(t,e)})}async function qG(t,e){kN(t),vE(t)?(t.x_.S_(e),gE(t)):t.x_.set("Unknown")}async function GG(t,e,n){if(t.x_.set("Online"),e instanceof J9&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await e2(t,r)}else if(e instanceof Fp?t.O_.$e(e):e instanceof X9?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Ce.min()))try{const r=await IN(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.C_.get(c);u&&s.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.C_.get(l);if(!u)return;s.C_.set(l,u.withResumeToken(zn.EMPTY_BYTE_STRING,u.snapshotVersion)),AN(s,l);const d=new js(u.target,l,c,u.sequenceNumber);mE(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await e2(t,r)}}async function e2(t,e,n){if(!xa(e))throw e;t.v_.add(1),await t0(t),t.x_.set("Offline"),n||(n=()=>IN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Mg(t)})}function PN(t,e){return e().catch(n=>e2(t,n,e))}async function n0(t){const e=De(t),n=aa(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;KG(e);)try{const i=await PG(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,QG(e,i)}catch(i){await e2(e,i)}NN(e)&&LN(e)}function KG(t){return Bl(t)&&t.D_.length<10}function QG(t,e){t.D_.push(e);const n=aa(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function NN(t){return Bl(t)&&!aa(t).Ho()&&t.D_.length>0}function LN(t){aa(t).start()}async function YG(t){aa(t).d_()}async function XG(t){const e=aa(t);for(const n of t.D_)e.I_(n.mutations)}async function JG(t,e,n){const r=t.D_.shift(),i=iE.from(r,e,n);await PN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await n0(t)}async function ZG(t,e){e&&aa(t).P_&&await async function(r,i){if(function(o){return Oq(o)&&o!==H.ABORTED}(i.code)){const s=r.D_.shift();aa(r).Zo(),await PN(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await n0(r)}}(t,e),NN(t)&&LN(t)}async function LT(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=Bl(n);n.v_.add(3),await t0(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Mg(n)}async function eK(t,e){const n=De(t);e?(n.v_.delete(2),await Mg(n)):e||(n.v_.add(2),await t0(n),n.x_.set("Unknown"))}function Hu(t){return t.N_||(t.N_=function(n,r,i){const s=De(n);return s.R_(),new FG(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:HG.bind(null,t),To:qG.bind(null,t),u_:GG.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),vE(t)?gE(t):t.x_.set("Unknown")):(await t.N_.stop(),kN(t))})),t.N_}function aa(t){return t.L_||(t.L_=function(n,r,i){const s=De(n);return s.R_(),new VG(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:YG.bind(null,t),To:ZG.bind(null,t),E_:XG.bind(null,t),T_:JG.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await n0(t)):(await t.L_.stop(),t.D_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new yE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _E(t,e){if(or("AsyncQueue",`${e}: ${t}`),xa(t))return new J(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=Wd(),this.sortedSet=new sn(this.comparator)}static emptySet(e){return new Bc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(){this.B_=new sn(re.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ge():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class gu{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new gu(e,n,Bc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class nK{constructor(){this.queries=new Ea(e=>O9(e),Tg),this.onlineState="Unknown",this.W_=new Set}}async function wE(t,e){const n=De(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new tK,r=e.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=_E(o,`Initialization of query '${hc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&EE(n)}async function xE(t,e){const n=De(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function rK(t,e){const n=De(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.z_(i)&&(r=!0);o.q_=i}}r&&EE(n)}function iK(t,e,n){const r=De(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function EE(t){t.W_.forEach(e=>{e.next()})}var Ew,MT;(MT=Ew||(Ew={})).j_="default",MT.Cache="cache";class CE{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new gu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=gu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Ew.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.key=e}}class MN{constructor(e){this.key=e}}class sK{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Ge(),this.mutatedKeys=Ge(),this.ha=$9(e),this.Pa=new Bc(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new DT,i=n?n.Pa:this.Pa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),p=Zf(this.query,d)?d:null,m=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;f&&p?f.data.isEqual(p.data)?m!==y&&(r.track({type:3,doc:p}),x=!0):this.da(f,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.ha(p,l)>0||c&&this.ha(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),x=!0):f&&!p&&(r.track({type:1,doc:f}),x=!0,(l||c)&&(a=!0)),x&&(p?(o=o.add(p),s=y?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((u,d)=>function(p,m){const y=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return y(p)-y(m)}(u.type,d.type)||this.ha(u.doc,d.doc)),this.Aa(r),i=i!=null&&i;const a=n&&!i?this.Ra():[],l=this.la.size===0&&this.current&&!i?1:0,c=l!==this.ca;return this.ca=l,o.length!==0||c?{snapshot:new gu(this.query,e.Pa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new DT,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=Ge(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new MN(r))}),this.la.forEach(r=>{e.has(r)||n.push(new DN(r))}),n}fa(e){this.ua=e.hs,this.la=Ge();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return gu.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class oK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class aK{constructor(e){this.key=e,this.pa=!1}}class lK{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new Ea(a=>O9(a),Tg),this.Sa=new Map,this.ba=new Set,this.Da=new sn(re.comparator),this.Ca=new Map,this.va=new dE,this.Fa={},this.Ma=new Map,this.xa=bl.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function cK(t,e,n=!0){const r=UN(t);let i;const s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await ON(r,e,n,!0),i}async function uK(t,e){const n=UN(t);await ON(n,e,!0,!1)}async function ON(t,e,n,r){const i=await NG(t.localStore,_i(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await dK(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&RN(t.remoteStore,i),a}async function dK(t,e,n,r,i){t.Na=(d,f,p)=>async function(y,x,g,w){let _=x.view.Ta(g);_.Xi&&(_=await kT(y.localStore,x.query,!1).then(({documents:S})=>x.view.Ta(S,_)));const E=w&&w.targetChanges.get(x.targetId),b=w&&w.targetMismatches.get(x.targetId)!=null,C=x.view.applyChanges(_,y.isPrimaryClient,E,b);return $T(y,x.targetId,C.Va),C.snapshot}(t,d,f,p);const s=await kT(t.localStore,e,!0),o=new sK(e,s.hs),a=o.Ta(s.documents),l=e0.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);$T(t,n,c.Va);const u=new oK(e,n,o);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot}async function hK(t,e,n){const r=De(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!Tg(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await xw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&pE(r.remoteStore,i.targetId),Cw(r,i.targetId)}).catch(Vl)):(Cw(r,i.targetId),await xw(r.localStore,i.targetId,!0))}async function fK(t,e){const n=De(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pE(n.remoteStore,r.targetId))}async function pK(t,e,n){const r=zN(t);try{const i=await function(o,a){const l=De(o),c=Ht.now(),u=a.reduce((p,m)=>p.add(m.key),Ge());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Wr(),y=Ge();return l.os.getEntries(p,u).next(x=>{m=x,m.forEach((g,w)=>{w.isValidDocument()||(y=y.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(x=>{d=x;const g=[];for(const w of a){const _=Lq(w,d.get(w.key).overlayedDocument);_!=null&&g.push(new lo(w.key,_,S9(_.value.mapValue),Xn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,g,a)}).next(x=>{f=x;const g=x.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,x.batchId,g)})}).then(()=>({batchId:f.batchId,changes:F9(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Fa[o.currentUser.toKey()];c||(c=new sn(je)),c=c.insert(a,l),o.Fa[o.currentUser.toKey()]=c}(r,i.batchId,n),await r0(r,i.changes),await n0(r.remoteStore)}catch(i){const s=_E(i,"Failed to persist write");n.reject(s)}}async function $N(t,e){const n=De(t);try{const r=await AG(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ca.get(s);o&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?we(o.pa):i.removedDocuments.size>0&&(we(o.pa),o.pa=!1))}),await r0(n,r,e)}catch(r){await Vl(r)}}function OT(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((s,o)=>{const a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=De(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const f of d.Q_)f.G_(a)&&(c=!0)}),c&&EE(l)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mK(t,e,n){const r=De(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),s=i&&i.key;if(s){let o=new sn(re.comparator);o=o.insert(s,Xt.newNoDocument(s,Ce.min()));const a=Ge().add(s),l=new kg(Ce.min(),new Map,new sn(je),o,a);await $N(r,l),r.Da=r.Da.remove(s),r.Ca.delete(e),IE(r)}else await xw(r.localStore,e,!1).then(()=>Cw(r,e,n)).catch(Vl)}async function gK(t,e){const n=De(t),r=e.batch.batchId;try{const i=await RG(n.localStore,e);FN(n,r,null),jN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await r0(n,i)}catch(i){await Vl(i)}}async function vK(t,e,n){const r=De(t);try{const i=await function(o,a){const l=De(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(we(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);FN(r,e,n),jN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await r0(r,i)}catch(i){await Vl(i)}}function jN(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function FN(t,e,n){const r=De(t);let i=r.Fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function Cw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||VN(t,r)})}function VN(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(pE(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),IE(t))}function $T(t,e,n){for(const r of n)r instanceof DN?(t.va.addReference(r.key,e),yK(t,r)):r instanceof MN?(K("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||VN(t,r.key)):ge()}function yK(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(K("SyncEngine","New document in limbo: "+n),t.ba.add(r),IE(t))}function IE(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new re(pt.fromString(e)),r=t.xa.next();t.Ca.set(r,new aK(n)),t.Da=t.Da.insert(n,r),RN(t.remoteStore,new js(_i(Jf(n.path)),r,"TargetPurposeLimboResolution",fi._e))}}async function r0(t,e,n){const r=De(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=fE.Ki(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.ya.u_(i),await async function(l,c){const u=De(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>z.forEach(c,f=>z.forEach(f.qi,p=>u.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>z.forEach(f.Qi,p=>u.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!xa(d))throw d;K("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const p=u.ns.get(f),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);u.ns=u.ns.insert(f,y)}}}(r.localStore,s))}async function _K(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await CN(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(a=>{a.forEach(l=>{l.reject(new J(H.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await r0(n,r.us)}}function wK(t,e){const n=De(t),r=n.Ca.get(e);if(r&&r.pa)return Ge().add(r.key);{let i=Ge();const s=n.Sa.get(e);if(!s)return i;for(const o of s){const a=n.wa.get(o);i=i.unionWith(a.view.Ia)}return i}}function UN(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$N.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mK.bind(null,e),e.ya.u_=rK.bind(null,e.eventManager),e.ya.La=iK.bind(null,e.eventManager),e}function zN(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vK.bind(null,e),e}class Iw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Dg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return EN(this.persistence,new xN,e.initialUser,this.serializer)}createPersistence(e){return new wN(Lg.Hr,this.serializer)}createSharedClientState(e){return new bN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class BN extends Iw{constructor(e,n,r){super(),this.ka=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ka.initialize(this,e),await zN(this.ka.syncEngine),await n0(this.ka.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return EN(this.persistence,new xN,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new uG(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new UH(n,this.persistence);return new VH(e.asyncQueue,r)}createPersistence(e){const n=bG(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?xr.withCacheSize(this.cacheSizeBytes):xr.DEFAULT;return new hE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,jG(),Vp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new bN}}class bE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>OT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_K.bind(null,this.syncEngine),await eK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nK}()}createDatastore(e){const n=Dg(e.databaseInfo.databaseId),r=function(s){return new $G(s)}(e.databaseInfo);return function(s,o,a,l){return new UG(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new WG(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>OT(this.syncEngine,n,0),function(){return NT.D()?new NT:new DG}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const d=new lK(i,s,o,a,l,c);return u&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=De(r);K("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await t0(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xK{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sr.UNAUTHENTICATED,this.clientId=m9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{K("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_E(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Up(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await CN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function bw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await EK(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>LT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>LT(e.remoteStore,i)),t._onlineComponents=e}function WN(t){return t.name==="FirebaseError"?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function EK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await Up(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!WN(n))throw n;vl("Error using user provided cache. Falling back to memory cache: "+n),await Up(t,new Iw)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await Up(t,new Iw);return t._offlineComponents}async function SE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await bw(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await bw(t,new bE))),t._onlineComponents}function CK(t){return SE(t).then(e=>e.syncEngine)}function IK(t){return SE(t).then(e=>e.datastore)}async function t2(t){const e=await SE(t),n=e.eventManager;return n.onListen=cK.bind(null,e.syncEngine),n.onUnlisten=hK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fK.bind(null,e.syncEngine),n}function bK(t,e,n={}){const r=new yi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new TE({next:f=>{o.enqueueAndForget(()=>xE(s,d));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new J(H.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new J(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new CE(Jf(a.path),u,{includeMetadataChanges:!0,ta:!0});return wE(s,d)}(await t2(t),t.asyncQueue,e,n,r)),r.promise}function TK(t,e,n={}){const r=new yi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new TE({next:f=>{o.enqueueAndForget(()=>xE(s,d)),f.fromCache&&l.source==="server"?c.reject(new J(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new CE(a,u,{includeMetadataChanges:!0,ta:!0});return wE(s,d)}(await t2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(t,e,n){if(!n)throw new J(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function SK(t,e,n,r){if(e===!0&&r===!0)throw new J(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FT(t){if(!re.isDocumentKey(t))throw new J(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VT(t){if(re.isDocumentKey(t))throw new J(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Og(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function pr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Og(t);throw new J(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function RK(t,e){if(e<=0)throw new J(H.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class RE{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new AH;switch(r.type){case"firstParty":return new NH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jT.get(n);r&&(K("ComponentProvider","Removing Datastore"),jT.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xs(this.firestore,e,this._query)}}class er{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class Zo extends xs{constructor(e,n,r){super(e,n,Jf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new re(e))}withConverter(e){return new Zo(this.firestore,e,this._path)}}function Oe(t,e,...n){if(t=Ze(t),qN("collection","path",e),t instanceof RE){const r=pt.fromString(e,...n);return VT(r),new Zo(t,null,r)}{if(!(t instanceof er||t instanceof Zo))throw new J(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return VT(r),new Zo(t.firestore,null,r)}}function _e(t,e,...n){if(t=Ze(t),arguments.length===1&&(e=m9.newId()),qN("doc","path",e),t instanceof RE){const r=pt.fromString(e,...n);return FT(r),new er(t,null,new re(r))}{if(!(t instanceof er||t instanceof Zo))throw new J(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return FT(r),new er(t.firestore,t instanceof Zo?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new TN(this,"async_queue_retry"),this.cu=()=>{const n=Vp();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Vp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Vp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new yi;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!xa(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw or("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=yE.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&ge()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function zT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Hi extends RE{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new AK}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||GN(this),this._firestoreClient.terminate()}}function kK(t,e,n){n||(n="(default)");const r=jf(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(ou(s,e))return i;throw new J(H.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new J(H.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function qu(t){return t._firestoreClient||GN(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function GN(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new lq(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,HN(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new xK(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function PK(t,e){LK(t=pr(t,Hi));const n=qu(t);if(n._uninitializedComponentsProvider)throw new J(H.FAILED_PRECONDITION,"SDK cache is already specified.");vl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new bE;return NK(n,i,new BN(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function NK(t,e,n){const r=new yi;return t.asyncQueue.enqueue(async()=>{try{await Up(t,n),await bw(t,e),r.resolve()}catch(i){const s=i;if(!WN(s))throw s;vl("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function LK(t){if(t._initialized||t._terminated)throw new J(H.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class MK{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vu(zn.fromBase64String(e))}catch(n){throw new J(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vu(zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OK=/^__.*__$/;class $K{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new lo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wu(e,this.data,n,this.fieldTransforms)}}class KN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new lo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class jg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new jg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return n2(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(QN(this.Vu)&&OK.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class jK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dg(e)}Cu(e,n,r,i=!1){return new jg({Vu:e,methodName:n,Du:r,path:zt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function s0(t){const e=t._freezeSettings(),n=Dg(t._databaseId);return new jK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YN(t,e,n,r,i,s={}){const o=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);NE("Data must be an object, but it was:",o,r);const a=JN(r,o);let l,c;if(s.merge)l=new Sr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=Tw(e,d,n);if(!o.contains(f))throw new J(H.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);e8(u,f)||u.push(f)}l=new Sr(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new $K(new Yn(a),l,c)}class Fg extends i0{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fg}}function FK(t,e,n){return new jg({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class kE extends i0{_toFieldTransform(e){return new nE(e.path,new fu)}isEqual(e){return e instanceof kE}}class PE extends i0{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=FK(this,e,!0),r=this.vu.map(s=>Gu(s,n)),i=new El(r);return new nE(e.path,i)}isEqual(e){return e instanceof PE&&ou(this.vu,e.vu)}}function VK(t,e,n,r){const i=t.Cu(1,e,n);NE("Data must be an object, but it was:",i,r);const s=[],o=Yn.empty();Ul(r,(l,c)=>{const u=LE(e,l,n);c=Ze(c);const d=i.yu(u);if(c instanceof Fg)s.push(u);else{const f=Gu(c,d);f!=null&&(s.push(u),o.set(u,f))}});const a=new Sr(s);return new KN(o,a,i.fieldTransforms)}function UK(t,e,n,r,i,s){const o=t.Cu(1,e,n),a=[Tw(e,r,n)],l=[i];if(s.length%2!=0)throw new J(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Tw(e,s[f])),l.push(s[f+1]);const c=[],u=Yn.empty();for(let f=a.length-1;f>=0;--f)if(!e8(c,a[f])){const p=a[f];let m=l[f];m=Ze(m);const y=o.yu(p);if(m instanceof Fg)c.push(p);else{const x=Gu(m,y);x!=null&&(c.push(p),u.set(p,x))}}const d=new Sr(c);return new KN(u,d,o.fieldTransforms)}function XN(t,e,n,r=!1){return Gu(n,t.Cu(r?4:3,e))}function Gu(t,e){if(ZN(t=Ze(t)))return NE("Unsupported field value:",e,t),JN(t,e);if(t instanceof i0)return function(r,i){if(!QN(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Gu(a,i.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Sq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ht.fromDate(r);return{timestampValue:mu(i.serializer,s)}}if(r instanceof Ht){const s=new Ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mu(i.serializer,s)}}if(r instanceof AE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vu)return{bytesValue:Z9(i.serializer,r._byteString)};if(r instanceof er){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:aE(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${Og(r)}`)}(t,e)}function JN(t,e){const n={};return I9(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ul(t,(r,i)=>{const s=Gu(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ZN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ht||t instanceof AE||t instanceof vu||t instanceof er||t instanceof i0)}function NE(t,e,n){if(!ZN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Og(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function Tw(t,e,n){if((e=Ze(e))instanceof $g)return e._internalPath;if(typeof e=="string")return LE(t,e);throw n2("Field path arguments must be of type string or ",t,!1,void 0,n)}const zK=new RegExp("[~\\*/\\[\\]]");function LE(t,e,n){if(e.search(zK)>=0)throw n2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $g(...e.split("."))._internalPath}catch{throw n2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function n2(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new J(H.INVALID_ARGUMENT,a+t+l)}function e8(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BK extends DE{data(){return super.data()}}function Vg(t,e){return typeof e=="string"?LE(t,e):e instanceof $g?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ME{}class Ug extends ME{}function gr(t,e,...n){let r=[];e instanceof ME&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof OE).length,a=s.filter(l=>l instanceof zg).length;if(o>1||o>0&&a>0)throw new J(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class zg extends Ug{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zg(e,n,r)}_apply(e){const n=this._parse(e);return n8(e._query,n),new xs(e.firestore,e.converter,fw(e._query,n))}_parse(e){const n=s0(e.firestore);return function(s,o,a,l,c,u,d){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new J(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){WT(d,u);const p=[];for(const m of d)p.push(BT(l,s,m));f={arrayValue:{values:p}}}else f=BT(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||WT(d,u),f=XN(a,o,d,u==="in"||u==="not-in");return tt.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Bg(t,e,n){const r=e,i=Vg("where",t);return zg._create(i,r,n)}class OE extends ME{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new OE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:yt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)n8(o,l),o=fw(o,l)}(e._query,n),new xs(e.firestore,e.converter,fw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $E extends Ug{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new $E(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new J(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new J(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uf(s,o)}(e._query,this._field,this._direction);return new xs(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new zl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function yu(t,e="asc"){const n=e,r=Vg("orderBy",t);return $E._create(r,n)}class jE extends Ug{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new jE(e,n,r)}_apply(e){return new xs(e.firestore,e.converter,Km(e._query,this._limit,this._limitType))}}function Xs(t){return RK("limit",t),jE._create("limit",t,"F")}class FE extends Ug{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new FE(e,n,r)}_apply(e){const n=WK(e,this.type,this._docOrFields,this._inclusive);return new xs(e.firestore,e.converter,function(i,s){return new zl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function Wg(...t){return FE._create("startAfter",t,!1)}function WK(t,e,n,r){if(n[0]=Ze(n[0]),n[0]instanceof DE)return function(s,o,a,l,c){if(!l)throw new J(H.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of zc(s))if(d.field.isKeyField())u.push(wl(o,l.key));else{const f=l.data.field(d.field);if(bg(f))throw new J(H.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const p=d.field.canonicalString();throw new J(H.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(f)}return new oa(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=s0(t.firestore);return function(o,a,l,c,u,d){const f=o.explicitOrderBy;if(u.length>f.length)throw new J(H.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let m=0;m<u.length;m++){const y=u[m];if(f[m].field.isKeyField()){if(typeof y!="string")throw new J(H.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof y}`);if(!tE(o)&&y.indexOf("/")!==-1)throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${y}' contains a slash.`);const x=o.path.child(pt.fromString(y));if(!re.isDocumentKey(x))throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const g=new re(x);p.push(wl(a,g))}else{const x=XN(l,c,y);p.push(x)}}return new oa(p,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function BT(t,e,n){if(typeof(n=Ze(n))=="string"){if(n==="")throw new J(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tE(e)&&n.indexOf("/")!==-1)throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pt.fromString(n));if(!re.isDocumentKey(r))throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wl(t,new re(r))}if(n instanceof er)return wl(t,n._key);throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Og(n)}.`)}function WT(t,e){if(!Array.isArray(t)||t.length===0)throw new J(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function n8(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class HK{convertValue(e,n="none"){switch(_l(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ul(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new AE(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Z3(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(af(e));default:return null}}convertTimestamp(e){const n=ra(e);return new Ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pt.fromString(e);we(lN(r));const i=new yl(r.get(1),r.get(3)),s=new re(r.popFirst(5));return i.isEqual(n)||or(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function qK(){return new DK("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class i8 extends DE{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Vg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class zp extends i8{data(e={}){return super.data(e)}}class s8{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zp(this._firestore,this._userDataWriter,r.key,r,new Gd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new zp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new zp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:GK(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function GK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t){t=pr(t,er);const e=pr(t.firestore,Hi);return bK(qu(e),t._key).then(n=>o8(e,t,n))}class Hg extends HK{constructor(e){super(),this.firestore=e}convertBytes(e){return new vu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,n)}}function Ca(t){t=pr(t,xs);const e=pr(t.firestore,Hi),n=qu(e),r=new Hg(e);return t8(t._query),TK(n,t._query).then(i=>new s8(e,r,t,i))}function _u(t,e,n){t=pr(t,er);const r=pr(t.firestore,Hi),i=r8(t.converter,e,n);return qg(r,[YN(s0(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Xn.none())])}function cr(t,e,n,...r){t=pr(t,er);const i=pr(t.firestore,Hi),s=s0(i);let o;return o=typeof(e=Ze(e))=="string"||e instanceof $g?UK(s,"updateDoc",t._key,e,n,r):VK(s,"updateDoc",t._key,e),qg(i,[o.toMutation(t._key,Xn.exists(!0))])}function ca(t){return qg(pr(t.firestore,Hi),[new Ag(t._key,Xn.none())])}function ua(t,e){const n=pr(t.firestore,Hi),r=_e(t),i=r8(t.converter,e);return qg(n,[YN(s0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}function Es(t,...e){var n,r,i;t=Ze(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||zT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(zT(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,u;if(t instanceof er)c=pr(t.firestore,Hi),u=Jf(t._key.path),l={next:d=>{e[o]&&e[o](o8(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=pr(t,xs);c=pr(d.firestore,Hi),u=d._query;const f=new Hg(c);l={next:p=>{e[o]&&e[o](new s8(c,f,d,p))},error:e[o+1],complete:e[o+2]},t8(t._query)}return function(f,p,m,y){const x=new TE(y),g=new CE(p,x,m);return f.asyncQueue.enqueueAndForget(async()=>wE(await t2(f),g)),()=>{x.Qa(),f.asyncQueue.enqueueAndForget(async()=>xE(await t2(f),g))}}(qu(c),u,a,l)}function qg(t,e){return function(r,i){const s=new yi;return r.asyncQueue.enqueueAndForget(async()=>pK(await CK(r),i,s)),s.promise}(qu(t),e)}function o8(t,e,n){const r=n.docs.get(e._key),i=new Hg(t);return new i8(t,i,e._key,r,new Gd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(t){return KK(t,{count:qK()})}function KK(t,e){const n=pr(t.firestore,Hi),r=qu(n),i=function(o,a){const l=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&l.push(a(o[c],c,o));return l}(e,(s,o)=>new Dq(o,s.aggregateType,s._internalFieldPath));return function(o,a,l){const c=new yi;return o.asyncQueue.enqueueAndForget(async()=>{try{const u=await IK(o);c.resolve(zG(u,a,l))}catch(u){c.reject(u)}}),c.promise}(r,t._query,i).then(s=>function(a,l,c){const u=new Hg(a);return new MK(l,u,c)}(n,t,s))}class QK{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=JK(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function YK(t){return new QK(t)}class XK{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new bE,this._offlineComponentProvider=new BN(this._onlineComponentProvider,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}function JK(t){return new XK(t==null?void 0:t.forceOwnership)}function ur(){return new kE("serverTimestamp")}function Sw(...t){return new PE("arrayUnion",t)}(function(e,n=!0){(function(i){Bu=i})(qi),gs(new Bi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Hi(new kH(r.getProvider("auth-internal")),new DH(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new J(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yl(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Lr(Vb,"4.5.0",e),Lr(Vb,"4.5.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8="firebasestorage.googleapis.com",c8="storageBucket",ZK=2*60*1e3,eQ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en extends ri{constructor(e,n,r=0){super(ty(e),`Firebase Storage: ${n} (${ty(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,en.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ty(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zt||(Zt={}));function ty(t){return"storage/"+t}function VE(){const t="An unknown error occurred, please check the error payload for server response.";return new en(Zt.UNKNOWN,t)}function tQ(t){return new en(Zt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function nQ(t){return new en(Zt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function rQ(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new en(Zt.UNAUTHENTICATED,t)}function iQ(){return new en(Zt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function sQ(t){return new en(Zt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function oQ(){return new en(Zt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function aQ(){return new en(Zt.CANCELED,"User canceled the upload/download.")}function lQ(t){return new en(Zt.INVALID_URL,"Invalid URL '"+t+"'.")}function cQ(t){return new en(Zt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function uQ(){return new en(Zt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+c8+"' property when initializing the app?")}function dQ(){return new en(Zt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hQ(){return new en(Zt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function fQ(t){return new en(Zt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Rw(t){return new en(Zt.INVALID_ARGUMENT,t)}function u8(){return new en(Zt.APP_DELETED,"The Firebase app was deleted.")}function pQ(t){return new en(Zt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ph(t,e){return new en(Zt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Id(t){throw new en(Zt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Hr.makeFromUrl(e,n)}catch{return new Hr(e,"")}if(r.path==="")return r;throw cQ(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(E){E.path_=decodeURIComponent(E.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${f}`,"i"),m={bucket:1,path:3},y=n===l8?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",g=new RegExp(`^https?://${y}/${i}/${x}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:p,indices:m,postModify:c},{regex:g,indices:{bucket:1,path:2},postModify:c}];for(let E=0;E<_.length;E++){const b=_[E],C=b.regex.exec(e);if(C){const S=C[b.indices.bucket];let I=C[b.indices.path];I||(I=""),r=new Hr(S,I),b.postModify(r);break}}if(r==null)throw lQ(e);return r}}class mQ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gQ(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...x){c||(c=!0,e.apply(null,x))}function d(x){i=setTimeout(()=>{i=null,t(p,l())},x)}function f(){s&&clearTimeout(s)}function p(x,...g){if(c){f();return}if(x){f(),u.call(null,x,...g);return}if(l()||o){f(),u.call(null,x,...g);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let m=!1;function y(x){m||(m=!0,f(),!c&&(i!==null?(x||(a=2),clearTimeout(i),d(0)):x||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function vQ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yQ(t){return t!==void 0}function _Q(t){return typeof t=="object"&&!Array.isArray(t)}function UE(t){return typeof t=="string"||t instanceof String}function HT(t){return zE()&&t instanceof Blob}function zE(){return typeof Blob<"u"}function qT(t,e,n,r){if(r<e)throw Rw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Rw(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function d8(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(sl||(sl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wQ(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(e,n,r,i,s,o,a,l,c,u,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new np(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===sl.NO_ERROR,l=s.getStatus();if(!a||wQ(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===sl.ABORT;r(!1,new np(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new np(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());yQ(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=VE();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?u8():aQ();o(l)}else{const l=oQ();o(l)}};this.canceled_?n(!1,new np(!1,null,!0)):this.backoffId_=gQ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class np{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function EQ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function CQ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function IQ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bQ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function TQ(t,e,n,r,i,s,o=!0){const a=d8(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return IQ(c,e),EQ(c,n),CQ(c,s),bQ(c,r),new xQ(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SQ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function RQ(...t){const e=SQ();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(zE())return new Blob(t);throw new en(Zt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function AQ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kQ(t){if(typeof atob>"u")throw fQ("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ny{constructor(e,n){this.data=e,this.contentType=n||null}}function PQ(t,e){switch(t){case cs.RAW:return new ny(h8(e));case cs.BASE64:case cs.BASE64URL:return new ny(f8(t,e));case cs.DATA_URL:return new ny(LQ(e),DQ(e))}throw VE()}function h8(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function NQ(t){let e;try{e=decodeURIComponent(t)}catch{throw ph(cs.DATA_URL,"Malformed data URL.")}return h8(e)}function f8(t,e){switch(t){case cs.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw ph(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case cs.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw ph(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=kQ(e)}catch(i){throw i.message.includes("polyfill")?i:ph(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class p8{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ph(cs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=MQ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function LQ(t){const e=new p8(t);return e.base64?f8(cs.BASE64,e.rest):NQ(e.rest)}function DQ(t){return new p8(t).contentType}function MQ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n){let r=0,i="";HT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(HT(this.data_)){const r=this.data_,i=AQ(r,e,n);return i===null?null:new Lo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Lo(r,!0)}}static getBlob(...e){if(zE()){const n=e.map(r=>r instanceof Lo?r.data_:r);return new Lo(RQ.apply(null,n))}else{const n=e.map(o=>UE(o)?PQ(cs.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Lo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(t){let e;try{e=JSON.parse(t)}catch{return null}return _Q(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OQ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function $Q(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function g8(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jQ(t,e){return e}class rr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||jQ}}let rp=null;function FQ(t){return!UE(t)||t.length<2?t:g8(t)}function v8(){if(rp)return rp;const t=[];t.push(new rr("bucket")),t.push(new rr("generation")),t.push(new rr("metageneration")),t.push(new rr("name","fullPath",!0));function e(s,o){return FQ(o)}const n=new rr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new rr("size");return i.xform=r,t.push(i),t.push(new rr("timeCreated")),t.push(new rr("updated")),t.push(new rr("md5Hash",null,!0)),t.push(new rr("cacheControl",null,!0)),t.push(new rr("contentDisposition",null,!0)),t.push(new rr("contentEncoding",null,!0)),t.push(new rr("contentLanguage",null,!0)),t.push(new rr("contentType",null,!0)),t.push(new rr("metadata","customMetadata",!0)),rp=t,rp}function VQ(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Hr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function UQ(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return VQ(r,t),r}function y8(t,e,n){const r=m8(e);return r===null?null:UQ(t,r,n)}function zQ(t,e,n,r){const i=m8(e);if(i===null||!UE(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,d=t.fullPath,f="/b/"+o(u)+"/o/"+o(d),p=Gg(f,n,r),m=d8({alt:"media",token:c});return p+m})[0]}function BQ(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class BE{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(t){if(!t)throw VE()}function WQ(t,e){function n(r,i){const s=y8(t,i,e);return _8(s!==null),s}return n}function HQ(t,e){function n(r,i){const s=y8(t,i,e);return _8(s!==null),zQ(s,i,t.host,t._protocol)}return n}function w8(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=iQ():i=rQ():n.getStatus()===402?i=nQ(t.bucket):n.getStatus()===403?i=sQ(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function x8(t){const e=w8(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=tQ(t.path)),s.serverResponse=i.serverResponse,s}return n}function qQ(t,e,n){const r=e.fullServerUrl(),i=Gg(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new BE(i,s,HQ(t,n),o);return a.errorHandler=x8(e),a}function GQ(t,e){const n=e.fullServerUrl(),r=Gg(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new BE(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=x8(e),a}function KQ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function QQ(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=KQ(null,e)),r}function YQ(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let E=0;E<2;E++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=QQ(e,r,i),u=BQ(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Lo.getBlob(d,r,f);if(p===null)throw dQ();const m={name:c.fullPath},y=Gg(s,t.host,t._protocol),x="POST",g=t.maxUploadRetryTime,w=new BE(y,x,WQ(t,n),g);return w.urlParams=m,w.headers=o,w.body=p.uploadData(),w.errorHandler=w8(e),w}class XQ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=sl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=sl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=sl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Id("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Id("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Id("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Id("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Id("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class JQ extends XQ{initXhr(){this.xhr_.responseType="text"}}function WE(){return new JQ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n){this._service=e,n instanceof Hr?this._location=n:this._location=Hr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Tl(e,n)}get root(){const e=new Hr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return g8(this._location.path)}get storage(){return this._service}get parent(){const e=OQ(this._location.path);if(e===null)return null;const n=new Hr(this._location.bucket,e);return new Tl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw pQ(e)}}function ZQ(t,e,n){t._throwIfRoot("uploadBytes");const r=YQ(t.storage,t._location,v8(),new Lo(e,!0),n);return t.storage.makeRequestWithTokens(r,WE).then(i=>({metadata:i,ref:t}))}function eY(t){t._throwIfRoot("getDownloadURL");const e=qQ(t.storage,t._location,v8());return t.storage.makeRequestWithTokens(e,WE).then(n=>{if(n===null)throw hQ();return n})}function tY(t){t._throwIfRoot("deleteObject");const e=GQ(t.storage,t._location);return t.storage.makeRequestWithTokens(e,WE)}function nY(t,e){const n=$Q(t._location.path,e),r=new Hr(t._location.bucket,n);return new Tl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rY(t){return/^[A-Za-z]+:\/\//.test(t)}function iY(t,e){return new Tl(t,e)}function E8(t,e){if(t instanceof HE){const n=t;if(n._bucket==null)throw uQ();const r=new Tl(n,n._bucket);return e!=null?E8(r,e):r}else return e!==void 0?nY(t,e):t}function sY(t,e){if(e&&rY(e)){if(t instanceof HE)return iY(t,e);throw Rw("To use ref(service, url), the first argument must be a Storage instance.")}else return E8(t,e)}function GT(t,e){const n=e==null?void 0:e[c8];return n==null?null:Hr.makeFromBucketSpec(n,t)}function oY(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:v6(i,t.app.options.projectId))}class HE{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=l8,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ZK,this._maxUploadRetryTime=eQ,this._requests=new Set,i!=null?this._bucket=Hr.makeFromBucketSpec(i,this._host):this._bucket=GT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hr.makeFromBucketSpec(this._url,e):this._bucket=GT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Tl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new mQ(u8());{const o=TQ(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const KT="@firebase/storage",QT="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8="storage";function hf(t,e,n){return t=Ze(t),ZQ(t,e,n)}function ff(t){return t=Ze(t),eY(t)}function Aw(t){return t=Ze(t),tY(t)}function Fo(t,e){return t=Ze(t),sY(t,e)}function aY(t=_3(),e){t=Ze(t);const r=jf(t,C8).getImmediate({identifier:e}),i=p6("storage");return i&&lY(r,...i),r}function lY(t,e,n,r={}){oY(t,e,n,r)}function cY(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new HE(n,r,i,e,qi)}function uY(){gs(new Bi(C8,cY,"PUBLIC").setMultipleInstances(!0)),Lr(KT,QT,""),Lr(KT,QT,"esm2017")}uY();var YT={};const XT="@firebase/database",JT="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I8="";function dY(t){I8=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Sn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Gh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fY{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return _s(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new hY(e)}}catch{}return new fY},Qa=b8("localStorage"),kw=b8("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new $f("@firebase/database"),pY=function(){let t=1;return function(){return t++}}(),T8=function(t){const e=UV(t),n=new jV;n.update(e);const r=n.digest();return g3.encodeByteArray(r)},o0=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=o0.apply(null,r):typeof r=="object"?e+=Sn(r):e+=r,e+=" "}return e};let ol=null,ZT=!0;const mY=function(t,e){Z(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Wc.logLevel=He.VERBOSE,ol=Wc.log.bind(Wc),e&&kw.set("logging_enabled",!0)):typeof t=="function"?ol=t:(ol=null,kw.remove("logging_enabled"))},$n=function(...t){if(ZT===!0&&(ZT=!1,ol===null&&kw.get("logging_enabled")===!0&&mY(!0)),ol){const e=o0.apply(null,t);ol(e)}},a0=function(t){return function(...e){$n(t,...e)}},Pw=function(...t){const e="FIREBASE INTERNAL ERROR: "+o0(...t);Wc.error(e)},Js=function(...t){const e=`FIREBASE FATAL ERROR: ${o0(...t)}`;throw Wc.error(e),new Error(e)},Dr=function(...t){const e="FIREBASE WARNING: "+o0(...t);Wc.warn(e)},gY=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Dr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Kg=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},vY=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},wu="[MIN_NAME]",Sl="[MAX_NAME]",Wl=function(t,e){if(t===e)return 0;if(t===wu||e===Sl)return-1;if(e===wu||t===Sl)return 1;{const n=e4(t),r=e4(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},yY=function(t,e){return t===e?0:t<e?-1:1},bd=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Sn(e))},qE=function(t){if(typeof t!="object"||t===null)return Sn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Sn(e[r]),n+=":",n+=qE(t[e[r]]);return n+="}",n},S8=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function nr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const R8=function(t){Z(!Kg(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},_Y=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},wY=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function xY(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const EY=new RegExp("^-?(0*)\\d{1,10}$"),CY=-2147483648,IY=2147483647,e4=function(t){if(EY.test(t)){const e=Number(t);if(e>=CY&&e<=IY)return e}return null},Ku=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Dr("Exception was thrown by user callback.",n),e},Math.floor(0))}},bY=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},mh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TY{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Dr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SY{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?($n("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dr(e)}}class Hc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Hc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="5",A8="v",k8="s",P8="r",N8="f",L8=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,D8="ls",M8="p",Nw="ac",O8="websocket",$8="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qa.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qa.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function RY(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function F8(t,e,n){Z(typeof e=="string","typeof type must == string"),Z(typeof n=="object","typeof params must == object");let r;if(e===O8)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===$8)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);RY(t)&&(n.ns=t.namespace);const i=[];return nr(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(){this.counters_={}}incrementCounter(e,n=1){_s(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return bV(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry={},iy={};function KE(t){const e=t.toString();return ry[e]||(ry[e]=new AY),ry[e]}function kY(t,e){const n=t.toString();return iy[n]||(iy[n]=e()),iy[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PY{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ku(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="start",NY="close",LY="pLPCommand",DY="pRTLPCB",V8="id",U8="pw",z8="ser",MY="cb",OY="seg",$Y="ts",jY="d",FY="dframe",B8=1870,W8=30,VY=B8-W8,UY=25e3,zY=3e4;class Ac{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=a0(e),this.stats_=KE(n),this.urlFn=l=>(this.appCheckToken&&(l[Nw]=this.appCheckToken),F8(n,$8,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new PY(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(zY)),vY(()=>{if(this.isClosed_)return;this.scriptTagHolder=new QE((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===t4)this.id=a,this.password=l;else if(o===NY)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[t4]="t",r[z8]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[MY]=this.scriptTagHolder.uniqueCallbackIdentifier),r[A8]=GE,this.transportSessionId&&(r[k8]=this.transportSessionId),this.lastSessionId&&(r[D8]=this.lastSessionId),this.applicationId&&(r[M8]=this.applicationId),this.appCheckToken&&(r[Nw]=this.appCheckToken),typeof location<"u"&&location.hostname&&L8.test(location.hostname)&&(r[P8]=N8);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ac.forceAllow_=!0}static forceDisallow(){Ac.forceDisallow_=!0}static isAvailable(){return Ac.forceAllow_?!0:!Ac.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!_Y()&&!wY()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Sn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=d6(n),i=S8(r,VY);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[FY]="t",r[V8]=e,r[U8]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Sn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class QE{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=pY(),window[LY+this.uniqueCallbackIdentifier]=e,window[DY+this.uniqueCallbackIdentifier]=n,this.myIFrame=QE.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){$n("frame writing exception"),a.stack&&$n(a.stack),$n(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||$n("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[V8]=this.myID,e[U8]=this.myPW,e[z8]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+W8+r.length<=B8;){const o=this.pendingSegs.shift();r=r+"&"+OY+i+"="+o.seg+"&"+$Y+i+"="+o.ts+"&"+jY+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(UY)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{$n("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BY=16384,WY=45e3;let r2=null;typeof MozWebSocket<"u"?r2=MozWebSocket:typeof WebSocket<"u"&&(r2=WebSocket);class Oi{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=a0(this.connId),this.stats_=KE(n),this.connURL=Oi.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[A8]=GE,typeof location<"u"&&location.hostname&&L8.test(location.hostname)&&(o[P8]=N8),n&&(o[k8]=n),r&&(o[D8]=r),i&&(o[Nw]=i),s&&(o[M8]=s),F8(e,O8,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qa.set("previous_websocket_failure",!0);try{let r;w6(),this.mySock=new r2(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Oi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&r2!==null&&!Oi.forceDisallow_}static previouslyFailed(){return Qa.isInMemoryStorage||Qa.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Gh(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Z(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Sn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=S8(n,BY);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(WY))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Oi.responsesRequiredToBeHealthy=2;Oi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ac,Oi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Oi&&Oi.isAvailable();let r=n&&!Oi.previouslyFailed();if(e.webSocketOnly&&(n||Dr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Oi];else{const i=this.transports_=[];for(const s of pf.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);pf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}pf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HY=6e4,qY=5e3,GY=10*1024,KY=100*1024,sy="t",n4="d",QY="s",r4="r",YY="e",i4="o",s4="a",o4="n",a4="p",XY="h";class JY{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=a0("c:"+this.id+":"),this.transportManager_=new pf(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=mh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>KY?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>GY?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(sy in e){const n=e[sy];n===s4?this.upgradeIfSecondaryHealthy_():n===r4?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===i4&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=bd("t",e),r=bd("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:a4,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:s4,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:o4,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=bd("t",e),r=bd("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=bd(sy,e);if(n4 in e){const r=e[n4];if(n===XY){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===o4){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===QY?this.onConnectionShutdown_(r):n===r4?this.onReset_(r):n===YY?Pw("Server Error: "+r):n===i4?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pw("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),GE!==r&&Dr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),mh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(HY))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):mh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(qY))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:a4,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e){this.allowedEvents_=e,this.listeners_={},Z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Z(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2 extends q8{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!J2()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new i2}getInitialEvent(e){return Z(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=32,c4=768;class xt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function mt(){return new xt("")}function qe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function da(t){return t.pieces_.length-t.pieceNum_}function St(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new xt(t.pieces_,e)}function YE(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ZY(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function mf(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function G8(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new xt(e,0)}function nn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof xt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new xt(n,0)}function Ye(t){return t.pieceNum_>=t.pieces_.length}function Rr(t,e){const n=qe(t),r=qe(e);if(n===null)return e;if(n===r)return Rr(St(t),St(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function eX(t,e){const n=mf(t,0),r=mf(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Wl(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function XE(t,e){if(da(t)!==da(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function pi(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(da(t)>da(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class tX{constructor(e,n){this.errorPrefix_=n,this.parts_=mf(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Z2(this.parts_[r]);K8(this)}}function nX(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Z2(e),K8(t)}function rX(t){const e=t.parts_.pop();t.byteLength_-=Z2(e),t.parts_.length>0&&(t.byteLength_-=1)}function K8(t){if(t.byteLength_>c4)throw new Error(t.errorPrefix_+"has a key path longer than "+c4+" bytes ("+t.byteLength_+").");if(t.parts_.length>l4)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+l4+") or object contains a cycle "+Ma(t))}function Ma(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends q8{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new JE}getInitialEvent(e){return Z(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td=1e3,iX=60*5*1e3,u4=30*1e3,sX=1.3,oX=3e4,aX="server_kill",d4=3;class zs extends H8{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=zs.nextPersistentConnectionId_++,this.log_=a0("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Td,this.maxReconnectDelay_=iX,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!w6())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");JE.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&i2.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Sn(s)),Z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new ks,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Z(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;zs.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&_s(e,"w")){const r=su(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Dr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||$V(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=u4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=OV(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Sn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Pw("Unrecognized action received from server: "+Sn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Td,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Td,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>oX&&(this.reconnectDelay_=Td),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*sX)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+zs.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){Z(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?$n("getToken() completed but was canceled"):($n("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new JY(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Dr(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(aX)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Dr(d),l())}}}interrupt(e){$n("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){$n("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Pm(this.interruptReasons_)&&(this.reconnectDelay_=Td,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>qE(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new xt(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){$n("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=d4&&(this.reconnectDelay_=u4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){$n("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=d4&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+I8.replace(/\./g,"-")]=1,J2()?e["framework.cordova"]=1:v3()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=i2.getInstance().currentlyOnline();return Pm(this.interruptReasons_)&&e}}zs.nextPersistentConnectionId_=0;zs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Xe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Xe(wu,e),i=new Xe(wu,n);return this.compare(r,i)!==0}minPost(){return Xe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ip;class Q8 extends Qg{static get __EMPTY_NODE(){return ip}static set __EMPTY_NODE(e){ip=e}compare(e,n){return Wl(e.name,n.name)}isDefinedOn(e){throw Fu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Xe.MIN}maxPost(){return new Xe(Sl,ip)}makePost(e,n){return Z(typeof e=="string","KeyIndex indexValue must always be a string."),new Xe(e,ip)}toString(){return".key"}}const qc=new Q8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class bn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??bn.RED,this.left=i??Ar.EMPTY_NODE,this.right=s??Ar.EMPTY_NODE}copy(e,n,r,i,s){return new bn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ar.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ar.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}bn.RED=!0;bn.BLACK=!1;class lX{copy(e,n,r,i,s){return this}insert(e,n,r){return new bn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ar{constructor(e,n=Ar.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ar(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,bn.BLACK,null,null))}remove(e){return new Ar(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,bn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new sp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new sp(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new sp(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new sp(this.root_,null,this.comparator_,!0,e)}}Ar.EMPTY_NODE=new lX;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cX(t,e){return Wl(t.name,e.name)}function ZE(t,e){return Wl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lw;function uX(t){Lw=t}const Y8=function(t){return typeof t=="number"?"number:"+R8(t):"string:"+t},X8=function(t){if(t.isLeafNode()){const e=t.val();Z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&_s(e,".sv"),"Priority must be a string or number.")}else Z(t===Lw||t.isEmpty(),"priority of unexpected type.");Z(t===Lw||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h4;class En{constructor(e,n=En.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),X8(this.priorityNode_)}static set __childrenNodeConstructor(e){h4=e}static get __childrenNodeConstructor(){return h4}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new En(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:En.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ye(e)?this:qe(e)===".priority"?this.priorityNode_:En.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:En.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=qe(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Z(r!==".priority"||da(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,En.__childrenNodeConstructor.EMPTY_NODE.updateChild(St(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Y8(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=R8(this.value_):e+=this.value_,this.lazyHash_=T8(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===En.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof En.__childrenNodeConstructor?-1:(Z(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=En.VALUE_TYPE_ORDER.indexOf(n),s=En.VALUE_TYPE_ORDER.indexOf(r);return Z(i>=0,"Unknown leaf type: "+n),Z(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}En.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J8,Z8;function dX(t){J8=t}function hX(t){Z8=t}class fX extends Qg{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Wl(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Xe.MIN}maxPost(){return new Xe(Sl,new En("[PRIORITY-POST]",Z8))}makePost(e,n){const r=J8(e);return new Xe(n,new En("[PRIORITY-POST]",r))}toString(){return".priority"}}const Bt=new fX;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pX=Math.log(2);class mX{constructor(e){const n=s=>parseInt(Math.log(s)/pX,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const s2=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new bn(f,d.node,bn.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=i(l,p),y=i(p+1,c);return d=t[p],f=n?n(d):d,new bn(f,d.node,bn.BLACK,m,y)}},s=function(l){let c=null,u=null,d=t.length;const f=function(m,y){const x=d-m,g=d;d-=m;const w=i(x+1,g),_=t[x],E=n?n(_):_;p(new bn(E,_.node,y,null,w))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const y=l.nextBitIsOne(),x=Math.pow(2,l.count-(m+1));y?f(x,bn.BLACK):(f(x,bn.BLACK),f(x,bn.RED))}return u},o=new mX(t.length),a=s(o);return new Ar(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oy;const rc={};class Fs{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Z(rc&&Bt,"ChildrenNode.ts has not been loaded"),oy=oy||new Fs({".priority":rc},{".priority":Bt}),oy}get(e){const n=su(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ar?n:null}hasIndex(e){return _s(this.indexSet_,e.toString())}addIndex(e,n){Z(e!==qc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Xe.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=s2(r,e.getCompare()):a=rc;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Fs(u,c)}addToIndexes(e,n){const r=Nm(this.indexes_,(i,s)=>{const o=su(this.indexSet_,s);if(Z(o,"Missing index implementation for "+s),i===rc)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Xe.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),s2(a,o.getCompare())}else return rc;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Xe(e.name,a))),l.insert(e,e.node)}});return new Fs(r,this.indexSet_)}removeFromIndexes(e,n){const r=Nm(this.indexes_,i=>{if(i===rc)return i;{const s=n.get(e.name);return s?i.remove(new Xe(e.name,s)):i}});return new Fs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd;class ke{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&X8(this.priorityNode_),this.children_.isEmpty()&&Z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Sd||(Sd=new ke(new Ar(ZE),null,Fs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Sd}updatePriority(e){return this.children_.isEmpty()?this:new ke(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Sd:n}}getChild(e){const n=qe(e);return n===null?this:this.getImmediateChild(n).getChild(St(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Z(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Xe(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Sd:this.priorityNode_;return new ke(i,o,s)}}updateChild(e,n){const r=qe(e);if(r===null)return n;{Z(qe(e)!==".priority"||da(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(St(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Bt,(o,a)=>{n[o]=a.val(e),r++,s&&ke.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Y8(this.getPriority().val())+":"),this.forEachChild(Bt,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":T8(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Xe(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Xe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Xe(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Xe.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Xe.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===l0?-1:0}withIndex(e){if(e===qc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ke(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===qc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Bt),i=n.getIterator(Bt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===qc?null:this.indexMap_.get(e.toString())}}ke.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class gX extends ke{constructor(){super(new Ar(ZE),ke.EMPTY_NODE,Fs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ke.EMPTY_NODE}isEmpty(){return!1}}const l0=new gX;Object.defineProperties(Xe,{MIN:{value:new Xe(wu,ke.EMPTY_NODE)},MAX:{value:new Xe(Sl,l0)}});Q8.__EMPTY_NODE=ke.EMPTY_NODE;En.__childrenNodeConstructor=ke;uX(l0);hX(l0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vX=!0;function dn(t,e=null){if(t===null)return ke.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new En(n,dn(e))}if(!(t instanceof Array)&&vX){const n=[];let r=!1;if(nr(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=dn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Xe(o,l)))}}),n.length===0)return ke.EMPTY_NODE;const s=s2(n,cX,o=>o.name,ZE);if(r){const o=s2(n,Bt.getCompare());return new ke(s,dn(e),new Fs({".priority":o},{".priority":Bt}))}else return new ke(s,dn(e),Fs.Default)}else{let n=ke.EMPTY_NODE;return nr(t,(r,i)=>{if(_s(t,r)&&r.substring(0,1)!=="."){const s=dn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(dn(e))}}dX(dn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yX extends Qg{constructor(e){super(),this.indexPath_=e,Z(!Ye(e)&&qe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Wl(e.name,n.name):s}makePost(e,n){const r=dn(e),i=ke.EMPTY_NODE.updateChild(this.indexPath_,r);return new Xe(n,i)}maxPost(){const e=ke.EMPTY_NODE.updateChild(this.indexPath_,l0);return new Xe(Sl,e)}toString(){return mf(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _X extends Qg{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Wl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Xe.MIN}maxPost(){return Xe.MAX}makePost(e,n){const r=dn(e);return new Xe(n,r)}toString(){return".value"}}const wX=new _X;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(t){return{type:"value",snapshotNode:t}}function xu(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function gf(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function vf(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function xX(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){Z(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(gf(n,a)):Z(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(xu(n,r)):o.trackChildChange(vf(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Bt,(i,s)=>{n.hasChild(i)||r.trackChildChange(gf(i,s))}),n.isLeafNode()||n.forEachChild(Bt,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(vf(i,s,o))}else r.trackChildChange(xu(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ke.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this.indexedFilter_=new e5(e.getIndex()),this.index_=e.getIndex(),this.startPost_=yf.getStartPost_(e),this.endPost_=yf.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Xe(n,r))||(r=ke.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ke.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(ke.EMPTY_NODE);const s=this;return n.forEachChild(Bt,(o,a)=>{s.matches(new Xe(o,a))||(i=i.updateImmediateChild(o,ke.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new yf(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Xe(n,r))||(r=ke.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=ke.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ke.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(ke.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,ke.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,p)=>d(p,f)}else o=this.index_.getCompare();const a=e;Z(a.numChildren()===this.limit_,"");const l=new Xe(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:o(f,l);if(u&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(vf(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(gf(n,d));const y=a.updateImmediateChild(n,ke.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(xu(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(gf(c.name,c.node)),s.trackChildChange(xu(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,ke.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Bt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wu}hasEnd(){return this.endSet_}getIndexEndValue(){return Z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Sl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Bt}copy(){const e=new t5;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function CX(t){return t.loadsAllData()?new e5(t.getIndex()):t.hasLimit()?new EX(t):new yf(t)}function f4(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Bt?n="$priority":t.index_===wX?n="$value":t.index_===qc?n="$key":(Z(t.index_ instanceof yX,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Sn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Sn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Sn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Sn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Sn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function p4(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Bt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2 extends H8{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=a0("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Z(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=o2.getListenId_(e,r),a={};this.listens_[o]=a;const l=f4(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),su(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=o2.getListenId_(e,n);delete this.listens_[r]}get(e){const n=f4(e._queryParams),r=e._path.toString(),i=new ks;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+so(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Gh(a.responseText)}catch{Dr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Dr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IX{constructor(){this.rootNode_=ke.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(){return{value:null,children:new Map}}function Qu(t,e,n){if(Ye(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=qe(e);t.children.has(r)||t.children.set(r,a2());const i=t.children.get(r);e=St(e),Qu(i,e,n)}}function Dw(t,e){if(Ye(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(Bt,(r,i)=>{Qu(t,new xt(r),i)}),Dw(t,e)}}else if(t.children.size>0){const n=qe(e);return e=St(e),t.children.has(n)&&Dw(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function Mw(t,e,n){t.value!==null?n(e,t.value):bX(t,(r,i)=>{const s=new xt(e.toString()+"/"+r);Mw(i,s,n)})}function bX(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TX{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&nr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=10*1e3,SX=30*1e3,RX=5*60*1e3;class AX{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new TX(e);const r=m4+(SX-m4)*Math.random();mh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;nr(e,(i,s)=>{s>0&&_s(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),mh(this.reportStats_.bind(this),Math.floor(Math.random()*2*RX))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $i;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})($i||($i={}));function t7(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function n5(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function r5(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=$i.ACK_USER_WRITE,this.source=t7()}operationForChild(e){if(Ye(this.path)){if(this.affectedTree.value!=null)return Z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new xt(e));return new l2(mt(),n,this.revert)}}else return Z(qe(this.path)===e,"operationForChild called for unrelated child."),new l2(St(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n){this.source=e,this.path=n,this.type=$i.LISTEN_COMPLETE}operationForChild(e){return Ye(this.path)?new _f(this.source,mt()):new _f(this.source,St(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=$i.OVERWRITE}operationForChild(e){return Ye(this.path)?new Rl(this.source,mt(),this.snap.getImmediateChild(e)):new Rl(this.source,St(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=$i.MERGE}operationForChild(e){if(Ye(this.path)){const n=this.children.subtree(new xt(e));return n.isEmpty()?null:n.value?new Rl(this.source,mt(),n.value):new wf(this.source,mt(),n)}else return Z(qe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new wf(this.source,St(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ye(e))return this.isFullyInitialized()&&!this.filtered_;const n=qe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kX{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function PX(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(xX(o.childName,o.snapshotNode))}),Rd(t,i,"child_removed",e,r,n),Rd(t,i,"child_added",e,r,n),Rd(t,i,"child_moved",s,r,n),Rd(t,i,"child_changed",e,r,n),Rd(t,i,"value",e,r,n),i}function Rd(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>LX(t,a,l)),o.forEach(a=>{const l=NX(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function NX(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function LX(t,e,n){if(e.childName==null||n.childName==null)throw Fu("Should only compare child_ events.");const r=new Xe(e.childName,e.snapshotNode),i=new Xe(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t,e){return{eventCache:t,serverCache:e}}function gh(t,e,n,r){return Yg(new Al(e,n,r),t.serverCache)}function n7(t,e,n,r){return Yg(t.eventCache,new Al(e,n,r))}function Ow(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function kl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ay;const DX=()=>(ay||(ay=new Ar(yY)),ay);class Mt{constructor(e,n=DX()){this.value=e,this.children=n}static fromObject(e){let n=new Mt(null);return nr(e,(r,i)=>{n=n.set(new xt(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:mt(),value:this.value};if(Ye(e))return null;{const r=qe(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(St(e),n);return s!=null?{path:nn(new xt(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ye(e))return this;{const n=qe(e),r=this.children.get(n);return r!==null?r.subtree(St(e)):new Mt(null)}}set(e,n){if(Ye(e))return new Mt(n,this.children);{const r=qe(e),s=(this.children.get(r)||new Mt(null)).set(St(e),n),o=this.children.insert(r,s);return new Mt(this.value,o)}}remove(e){if(Ye(e))return this.children.isEmpty()?new Mt(null):new Mt(null,this.children);{const n=qe(e),r=this.children.get(n);if(r){const i=r.remove(St(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Mt(null):new Mt(this.value,s)}else return this}}get(e){if(Ye(e))return this.value;{const n=qe(e),r=this.children.get(n);return r?r.get(St(e)):null}}setTree(e,n){if(Ye(e))return n;{const r=qe(e),s=(this.children.get(r)||new Mt(null)).setTree(St(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Mt(this.value,o)}}fold(e){return this.fold_(mt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(nn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,mt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Ye(e))return null;{const s=qe(e),o=this.children.get(s);return o?o.findOnPath_(St(e),nn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,mt(),n)}foreachOnPath_(e,n,r){if(Ye(e))return this;{this.value&&r(n,this.value);const i=qe(e),s=this.children.get(i);return s?s.foreachOnPath_(St(e),nn(n,i),r):new Mt(null)}}foreach(e){this.foreach_(mt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(nn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.writeTree_=e}static empty(){return new Vi(new Mt(null))}}function vh(t,e,n){if(Ye(e))return new Vi(new Mt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Rr(i,e);return s=s.updateChild(o,n),new Vi(t.writeTree_.set(i,s))}else{const i=new Mt(n),s=t.writeTree_.setTree(e,i);return new Vi(s)}}}function g4(t,e,n){let r=t;return nr(n,(i,s)=>{r=vh(r,nn(e,i),s)}),r}function v4(t,e){if(Ye(e))return Vi.empty();{const n=t.writeTree_.setTree(e,new Mt(null));return new Vi(n)}}function $w(t,e){return Hl(t,e)!=null}function Hl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Rr(n.path,e)):null}function y4(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Bt,(r,i)=>{e.push(new Xe(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Xe(r,i.value))}),e}function ea(t,e){if(Ye(e))return t;{const n=Hl(t,e);return n!=null?new Vi(new Mt(n)):new Vi(t.writeTree_.subtree(e))}}function jw(t){return t.writeTree_.isEmpty()}function Eu(t,e){return r7(mt(),t.writeTree_,e)}function r7(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Z(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=r7(nn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(nn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t,e){return a7(e,t)}function MX(t,e,n,r,i){Z(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=vh(t.visibleWrites,e,n)),t.lastWriteId=r}function OX(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function $X(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Z(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&jX(a,r.path)?i=!1:pi(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return FX(t),!0;if(r.snap)t.visibleWrites=v4(t.visibleWrites,r.path);else{const a=r.children;nr(a,l=>{t.visibleWrites=v4(t.visibleWrites,nn(r.path,l))})}return!0}else return!1}function jX(t,e){if(t.snap)return pi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&pi(nn(t.path,n),e))return!0;return!1}function FX(t){t.visibleWrites=i7(t.allWrites,VX,mt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function VX(t){return t.visible}function i7(t,e,n){let r=Vi.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)pi(n,o)?(a=Rr(n,o),r=vh(r,a,s.snap)):pi(o,n)&&(a=Rr(o,n),r=vh(r,mt(),s.snap.getChild(a)));else if(s.children){if(pi(n,o))a=Rr(n,o),r=g4(r,a,s.children);else if(pi(o,n))if(a=Rr(o,n),Ye(a))r=g4(r,mt(),s.children);else{const l=su(s.children,qe(a));if(l){const c=l.getChild(St(a));r=vh(r,mt(),c)}}}else throw Fu("WriteRecord should have .snap or .children")}}return r}function s7(t,e,n,r,i){if(!r&&!i){const s=Hl(t.visibleWrites,e);if(s!=null)return s;{const o=ea(t.visibleWrites,e);if(jw(o))return n;if(n==null&&!$w(o,mt()))return null;{const a=n||ke.EMPTY_NODE;return Eu(o,a)}}}else{const s=ea(t.visibleWrites,e);if(!i&&jw(s))return n;if(!i&&n==null&&!$w(s,mt()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(pi(c.path,e)||pi(e,c.path))},a=i7(t.allWrites,o,e),l=n||ke.EMPTY_NODE;return Eu(a,l)}}}function UX(t,e,n){let r=ke.EMPTY_NODE;const i=Hl(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Bt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=ea(t.visibleWrites,e);return n.forEachChild(Bt,(o,a)=>{const l=Eu(ea(s,new xt(o)),a);r=r.updateImmediateChild(o,l)}),y4(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=ea(t.visibleWrites,e);return y4(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function zX(t,e,n,r,i){Z(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=nn(e,n);if($w(t.visibleWrites,s))return null;{const o=ea(t.visibleWrites,s);return jw(o)?i.getChild(n):Eu(o,i.getChild(n))}}function BX(t,e,n,r){const i=nn(e,n),s=Hl(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=ea(t.visibleWrites,i);return Eu(o,r.getNode().getImmediateChild(n))}else return null}function WX(t,e){return Hl(t.visibleWrites,e)}function HX(t,e,n,r,i,s,o){let a;const l=ea(t.visibleWrites,e),c=Hl(l,mt());if(c!=null)a=c;else if(n!=null)a=Eu(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&u.length<i;)d(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function qX(){return{visibleWrites:Vi.empty(),allWrites:[],lastWriteId:-1}}function c2(t,e,n,r){return s7(t.writeTree,t.treePath,e,n,r)}function s5(t,e){return UX(t.writeTree,t.treePath,e)}function _4(t,e,n,r){return zX(t.writeTree,t.treePath,e,n,r)}function u2(t,e){return WX(t.writeTree,nn(t.treePath,e))}function GX(t,e,n,r,i,s){return HX(t.writeTree,t.treePath,e,n,r,i,s)}function o5(t,e,n){return BX(t.writeTree,t.treePath,e,n)}function o7(t,e){return a7(nn(t.treePath,e),t.writeTree)}function a7(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KX{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Z(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Z(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,vf(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,gf(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,xu(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,vf(r,e.snapshotNode,i.oldSnap));else throw Fu("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QX{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const l7=new QX;class a5{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Al(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return o5(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:kl(this.viewCache_),s=GX(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YX(t){return{filter:t}}function XX(t,e){Z(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Z(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function JX(t,e,n,r,i){const s=new KX;let o,a;if(n.type===$i.OVERWRITE){const c=n;c.source.fromUser?o=Fw(t,e,c.path,c.snap,r,i,s):(Z(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Ye(c.path),o=d2(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===$i.MERGE){const c=n;c.source.fromUser?o=eJ(t,e,c.path,c.children,r,i,s):(Z(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Vw(t,e,c.path,c.children,r,i,a,s))}else if(n.type===$i.ACK_USER_WRITE){const c=n;c.revert?o=rJ(t,e,c.path,r,i,s):o=tJ(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===$i.LISTEN_COMPLETE)o=nJ(t,e,n.path,r,s);else throw Fu("Unknown operation type: "+n.type);const l=s.getChanges();return ZX(e,o,l),{viewCache:o,changes:l}}function ZX(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Ow(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(e7(Ow(e)))}}function c7(t,e,n,r,i,s){const o=e.eventCache;if(u2(r,n)!=null)return e;{let a,l;if(Ye(n))if(Z(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=kl(e),u=c instanceof ke?c:ke.EMPTY_NODE,d=s5(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=c2(r,kl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=qe(n);if(c===".priority"){Z(da(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=_4(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=St(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=_4(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=o5(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return gh(e,a,o.isFullyInitialized()||Ye(n),t.filter.filtersNodes())}}function d2(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Ye(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=qe(n);if(!l.isCompleteForPath(n)&&da(n)>1)return e;const m=St(n),x=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),x):c=u.updateChild(l.getNode(),p,x,m,l7,null)}const d=n7(e,c,l.isFullyInitialized()||Ye(n),u.filtersNodes()),f=new a5(i,d,s);return c7(t,d,n,i,f,a)}function Fw(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new a5(i,e,s);if(Ye(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=gh(e,c,!0,t.filter.filtersNodes());else{const d=qe(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=gh(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=St(n),p=a.getNode().getImmediateChild(d);let m;if(Ye(f))m=r;else{const y=u.getCompleteChild(d);y!=null?YE(f)===".priority"&&y.getChild(G8(f)).isEmpty()?m=y:m=y.updateChild(f,r):m=ke.EMPTY_NODE}if(p.equals(m))l=e;else{const y=t.filter.updateChild(a.getNode(),d,m,f,u,o);l=gh(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function w4(t,e){return t.eventCache.isCompleteForChild(e)}function eJ(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=nn(n,l);w4(e,qe(u))&&(a=Fw(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=nn(n,l);w4(e,qe(u))||(a=Fw(t,a,u,c,i,s,o))}),a}function x4(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Vw(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Ye(n)?c=r:c=new Mt(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),m=x4(t,p,f);l=d2(t,l,new xt(d),m,i,s,o,a)}}),c.children.inorderTraversal((d,f)=>{const p=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!p){const m=e.serverCache.getNode().getImmediateChild(d),y=x4(t,m,f);l=d2(t,l,new xt(d),y,i,s,o,a)}}),l}function tJ(t,e,n,r,i,s,o){if(u2(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Ye(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return d2(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Ye(n)){let c=new Mt(null);return l.getNode().forEachChild(qc,(u,d)=>{c=c.set(new xt(u),d)}),Vw(t,e,n,c,i,s,a,o)}else return e}else{let c=new Mt(null);return r.foreach((u,d)=>{const f=nn(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Vw(t,e,n,c,i,s,a,o)}}function nJ(t,e,n,r,i){const s=e.serverCache,o=n7(e,s.getNode(),s.isFullyInitialized()||Ye(n),s.isFiltered());return c7(t,o,n,r,l7,i)}function rJ(t,e,n,r,i,s){let o;if(u2(r,n)!=null)return e;{const a=new a5(r,e,i),l=e.eventCache.getNode();let c;if(Ye(n)||qe(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=c2(r,kl(e));else{const d=e.serverCache.getNode();Z(d instanceof ke,"serverChildren would be complete if leaf node"),u=s5(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=qe(n);let d=o5(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,St(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,ke.EMPTY_NODE,St(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=c2(r,kl(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||u2(r,mt())!=null,gh(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iJ{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new e5(r.getIndex()),s=CX(r);this.processor_=YX(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(ke.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(ke.EMPTY_NODE,a.getNode(),null),u=new Al(l,o.isFullyInitialized(),i.filtersNodes()),d=new Al(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Yg(d,u),this.eventGenerator_=new kX(this.query_)}get query(){return this.query_}}function sJ(t){return t.viewCache_.serverCache.getNode()}function oJ(t,e){const n=kl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ye(e)&&!n.getImmediateChild(qe(e)).isEmpty())?n.getChild(e):null}function E4(t){return t.eventRegistrations_.length===0}function aJ(t,e){t.eventRegistrations_.push(e)}function C4(t,e,n){const r=[];if(n){Z(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function I4(t,e,n,r){e.type===$i.MERGE&&e.source.queryId!==null&&(Z(kl(t.viewCache_),"We should always have a full cache before handling merges"),Z(Ow(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=JX(t.processor_,i,e,n,r);return XX(t.processor_,s.viewCache),Z(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,u7(t,s.changes,s.viewCache.eventCache.getNode(),null)}function lJ(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Bt,(s,o)=>{r.push(xu(s,o))}),n.isFullyInitialized()&&r.push(e7(n.getNode())),u7(t,r,n.getNode(),e)}function u7(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return PX(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h2;class cJ{constructor(){this.views=new Map}}function uJ(t){Z(!h2,"__referenceConstructor has already been defined"),h2=t}function dJ(){return Z(h2,"Reference.ts has not been loaded"),h2}function hJ(t){return t.views.size===0}function l5(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Z(s!=null,"SyncTree gave us an op for an invalid query."),I4(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(I4(o,e,n,r));return s}}function fJ(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=c2(n,i?r:null),l=!1;a?l=!0:r instanceof ke?(a=s5(n,r),l=!1):(a=ke.EMPTY_NODE,l=!1);const c=Yg(new Al(a,l,!1),new Al(r,i,!1));return new iJ(e,c)}return o}function pJ(t,e,n,r,i,s){const o=fJ(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),aJ(o,n),lJ(o,n)}function mJ(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=ha(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(C4(c,n,r)),E4(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(C4(l,n,r)),E4(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!ha(t)&&s.push(new(dJ())(e._repo,e._path)),{removed:s,events:o}}function d7(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Gc(t,e){let n=null;for(const r of t.views.values())n=n||oJ(r,e);return n}function h7(t,e){if(e._queryParams.loadsAllData())return Xg(t);{const r=e._queryIdentifier;return t.views.get(r)}}function f7(t,e){return h7(t,e)!=null}function ha(t){return Xg(t)!=null}function Xg(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f2;function gJ(t){Z(!f2,"__referenceConstructor has already been defined"),f2=t}function vJ(){return Z(f2,"Reference.ts has not been loaded"),f2}let yJ=1;class b4{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Mt(null),this.pendingWriteTree_=qX(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function p7(t,e,n,r,i){return MX(t.pendingWriteTree_,e,n,r,i),i?c0(t,new Rl(t7(),e,n)):[]}function Ya(t,e,n=!1){const r=OX(t.pendingWriteTree_,e);if($X(t.pendingWriteTree_,e)){let s=new Mt(null);return r.snap!=null?s=s.set(mt(),!0):nr(r.children,o=>{s=s.set(new xt(o),!0)}),c0(t,new l2(r.path,s,n))}else return[]}function Jg(t,e,n){return c0(t,new Rl(n5(),e,n))}function _J(t,e,n){const r=Mt.fromObject(n);return c0(t,new wf(n5(),e,r))}function wJ(t,e){return c0(t,new _f(n5(),e))}function xJ(t,e,n){const r=u5(t,n);if(r){const i=d5(r),s=i.path,o=i.queryId,a=Rr(s,e),l=new _f(r5(o),a);return h5(t,s,l)}else return[]}function Uw(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||f7(o,e))){const l=mJ(o,e,n,r);hJ(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,p)=>ha(p));if(u&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const p=IJ(f);for(let m=0;m<p.length;++m){const y=p[m],x=y.query,g=v7(t,y);t.listenProvider_.startListening(yh(x),p2(t,x),g.hashFn,g.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(yh(e),null):c.forEach(f=>{const p=t.queryToTagMap.get(Zg(f));t.listenProvider_.stopListening(yh(f),p)}))}bJ(t,c)}return a}function EJ(t,e,n,r){const i=u5(t,r);if(i!=null){const s=d5(i),o=s.path,a=s.queryId,l=Rr(o,e),c=new Rl(r5(a),l,n);return h5(t,o,c)}else return[]}function CJ(t,e,n,r){const i=u5(t,r);if(i){const s=d5(i),o=s.path,a=s.queryId,l=Rr(o,e),c=Mt.fromObject(n),u=new wf(r5(a),l,c);return h5(t,o,u)}else return[]}function T4(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,p)=>{const m=Rr(f,i);s=s||Gc(p,m),o=o||ha(p)});let a=t.syncPointTree_.get(i);a?(o=o||ha(a),s=s||Gc(a,mt())):(a=new cJ,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=ke.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,m)=>{const y=Gc(m,mt());y&&(s=s.updateImmediateChild(p,y))}));const c=f7(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=Zg(e);Z(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=TJ();t.queryToTagMap.set(f,p),t.tagToQueryMap.set(p,f)}const u=i5(t.pendingWriteTree_,i);let d=pJ(a,e,n,u,s,l);if(!c&&!o&&!r){const f=h7(a,e);d=d.concat(SJ(t,e,f))}return d}function c5(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Rr(o,e),c=Gc(a,l);if(c)return c});return s7(i,e,s,n,!0)}function c0(t,e){return m7(e,t.syncPointTree_,null,i5(t.pendingWriteTree_,mt()))}function m7(t,e,n,r){if(Ye(t.path))return g7(t,e,n,r);{const i=e.get(mt());n==null&&i!=null&&(n=Gc(i,mt()));let s=[];const o=qe(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=o7(r,o);s=s.concat(m7(a,l,c,u))}return i&&(s=s.concat(l5(i,t,r,n))),s}}function g7(t,e,n,r){const i=e.get(mt());n==null&&i!=null&&(n=Gc(i,mt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=o7(r,o),u=t.operationForChild(o);u&&(s=s.concat(g7(u,a,l,c)))}),i&&(s=s.concat(l5(i,t,r,n))),s}function v7(t,e){const n=e.query,r=p2(t,n);return{hashFn:()=>(sJ(e)||ke.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?xJ(t,n._path,r):wJ(t,n._path);{const s=xY(i,n);return Uw(t,n,null,s)}}}}function p2(t,e){const n=Zg(e);return t.queryToTagMap.get(n)}function Zg(t){return t._path.toString()+"$"+t._queryIdentifier}function u5(t,e){return t.tagToQueryMap.get(e)}function d5(t){const e=t.indexOf("$");return Z(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new xt(t.substr(0,e))}}function h5(t,e,n){const r=t.syncPointTree_.get(e);Z(r,"Missing sync point for query tag that we're tracking");const i=i5(t.pendingWriteTree_,e);return l5(r,n,i,null)}function IJ(t){return t.fold((e,n,r)=>{if(n&&ha(n))return[Xg(n)];{let i=[];return n&&(i=d7(n)),nr(r,(s,o)=>{i=i.concat(o)}),i}})}function yh(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(vJ())(t._repo,t._path):t}function bJ(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Zg(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function TJ(){return yJ++}function SJ(t,e,n){const r=e._path,i=p2(t,e),s=v7(t,n),o=t.listenProvider_.startListening(yh(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)Z(!ha(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!Ye(c)&&u&&ha(u))return[Xg(u).query];{let f=[];return u&&(f=f.concat(d7(u).map(p=>p.query))),nr(d,(p,m)=>{f=f.concat(m)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(yh(u),p2(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new f5(n)}node(){return this.node_}}class p5{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=nn(this.path_,e);return new p5(this.syncTree_,n)}node(){return c5(this.syncTree_,this.path_)}}const RJ=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},S4=function(t,e,n){if(!t||typeof t!="object")return t;if(Z(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return AJ(t[".sv"],e,n);if(typeof t[".sv"]=="object")return kJ(t[".sv"],e);Z(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},AJ=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Z(!1,"Unexpected server value: "+t)}},kJ=function(t,e,n){t.hasOwnProperty("increment")||Z(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Z(!1,"Unexpected increment value: "+r);const i=e.node();if(Z(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},PJ=function(t,e,n,r){return m5(e,new p5(n,t),r)},y7=function(t,e,n){return m5(t,new f5(e),n)};function m5(t,e,n){const r=t.getPriority().val(),i=S4(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=S4(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new En(a,dn(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new En(i))),o.forEachChild(Bt,(a,l)=>{const c=m5(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function v5(t,e){let n=e instanceof xt?e:new xt(e),r=t,i=qe(n);for(;i!==null;){const s=su(r.node.children,i)||{children:{},childCount:0};r=new g5(i,r,s),n=St(n),i=qe(n)}return r}function Yu(t){return t.node.value}function _7(t,e){t.node.value=e,zw(t)}function w7(t){return t.node.childCount>0}function NJ(t){return Yu(t)===void 0&&!w7(t)}function e1(t,e){nr(t.node.children,(n,r)=>{e(new g5(n,t,r))})}function x7(t,e,n,r){n&&!r&&e(t),e1(t,i=>{x7(i,e,!0,r)}),n&&r&&e(t)}function LJ(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function u0(t){return new xt(t.parent===null?t.name:u0(t.parent)+"/"+t.name)}function zw(t){t.parent!==null&&DJ(t.parent,t.name,t)}function DJ(t,e,n){const r=NJ(n),i=_s(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,zw(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,zw(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MJ=/[\[\].#$\/\u0000-\u001F\u007F]/,OJ=/[\[\].#$\u0000-\u001F\u007F]/,ly=10*1024*1024,y5=function(t){return typeof t=="string"&&t.length!==0&&!MJ.test(t)},E7=function(t){return typeof t=="string"&&t.length!==0&&!OJ.test(t)},$J=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),E7(t)},C7=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Kg(t)||t&&typeof t=="object"&&_s(t,".sv")},Bw=function(t,e,n,r){r&&e===void 0||t1(au(t,"value"),e,n)},t1=function(t,e,n){const r=n instanceof xt?new tX(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ma(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ma(r)+" with contents = "+e.toString());if(Kg(e))throw new Error(t+"contains "+e.toString()+" "+Ma(r));if(typeof e=="string"&&e.length>ly/3&&Z2(e)>ly)throw new Error(t+"contains a string greater than "+ly+" utf8 bytes "+Ma(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(nr(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!y5(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ma(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);nX(r,o),t1(t,a,r),rX(r)}),i&&s)throw new Error(t+' contains ".value" child '+Ma(r)+" in addition to actual children.")}},jJ=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=mf(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!y5(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(eX);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&pi(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},FJ=function(t,e,n,r){if(r&&e===void 0)return;const i=au(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];nr(e,(o,a)=>{const l=new xt(o);if(t1(i,a,nn(n,l)),YE(l)===".priority"&&!C7(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),jJ(i,s)},VJ=function(t,e,n){if(!(n&&e===void 0)){if(Kg(e))throw new Error(au(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!C7(e))throw new Error(au(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},I7=function(t,e,n,r){if(!(r&&n===void 0)&&!E7(n))throw new Error(au(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},UJ=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),I7(t,e,n,r)},Kd=function(t,e){if(qe(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},zJ=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!y5(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!$J(n))throw new Error(au(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BJ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _5(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!XE(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function b7(t,e,n){_5(t,n),T7(t,r=>XE(r,e))}function Zs(t,e,n){_5(t,n),T7(t,r=>pi(r,e)||pi(e,r))}function T7(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(WJ(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function WJ(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ol&&$n("event: "+n.toString()),Ku(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HJ="repo_interrupt",qJ=25;class GJ{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new BJ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=a2(),this.transactionQueueTree_=new g5,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function KJ(t,e,n){if(t.stats_=KE(t.repoInfo_),t.forceRestClient_||bY())t.server_=new o2(t.repoInfo_,(r,i,s,o)=>{R4(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>A4(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Sn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new zs(t.repoInfo_,e,(r,i,s,o)=>{R4(t,r,i,s,o)},r=>{A4(t,r)},r=>{YJ(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=kY(t.repoInfo_,()=>new AX(t.stats_,t.server_)),t.infoData_=new IX,t.infoSyncTree_=new b4({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Jg(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),x5(t,"connected",!1),t.serverSyncTree_=new b4({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Zs(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function QJ(t){const n=t.infoData_.getNode(new xt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function w5(t){return RJ({timestamp:QJ(t)})}function R4(t,e,n,r,i){t.dataUpdateCount++;const s=new xt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Nm(n,c=>dn(c));o=CJ(t.serverSyncTree_,s,l,i)}else{const l=dn(n);o=EJ(t.serverSyncTree_,s,l,i)}else if(r){const l=Nm(n,c=>dn(c));o=_J(t.serverSyncTree_,s,l)}else{const l=dn(n);o=Jg(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=n1(t,s)),Zs(t.eventQueue_,a,o)}function A4(t,e){x5(t,"connected",e),e===!1&&JJ(t)}function YJ(t,e){nr(e,(n,r)=>{x5(t,n,r)})}function x5(t,e,n){const r=new xt("/.info/"+e),i=dn(n);t.infoData_.updateSnapshot(r,i);const s=Jg(t.infoSyncTree_,r,i);Zs(t.eventQueue_,r,s)}function S7(t){return t.nextWriteId_++}function XJ(t,e,n,r,i){E5(t,"set",{path:e.toString(),value:n,priority:r});const s=w5(t),o=dn(n,r),a=c5(t.serverSyncTree_,e),l=y7(o,a,s),c=S7(t),u=p7(t.serverSyncTree_,e,l,c,!0);_5(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,p)=>{const m=f==="ok";m||Dr("set at "+e+" failed: "+f);const y=Ya(t.serverSyncTree_,c,!m);Zs(t.eventQueue_,e,y),Cu(t,i,f,p)});const d=N7(t,e);n1(t,d),Zs(t.eventQueue_,d,[])}function JJ(t){E5(t,"onDisconnectEvents");const e=w5(t),n=a2();Mw(t.onDisconnect_,mt(),(i,s)=>{const o=PJ(i,s,t.serverSyncTree_,e);Qu(n,i,o)});let r=[];Mw(n,mt(),(i,s)=>{r=r.concat(Jg(t.serverSyncTree_,i,s));const o=N7(t,i);n1(t,o)}),t.onDisconnect_=a2(),Zs(t.eventQueue_,mt(),r)}function ZJ(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&Dw(t.onDisconnect_,e),Cu(t,n,r,i)})}function k4(t,e,n,r){const i=dn(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{s==="ok"&&Qu(t.onDisconnect_,e,i),Cu(t,r,s,o)})}function eZ(t,e,n,r,i){const s=dn(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{o==="ok"&&Qu(t.onDisconnect_,e,s),Cu(t,i,o,a)})}function tZ(t,e,n,r){if(Pm(n)){$n("onDisconnect().update() called with empty data.  Don't do anything."),Cu(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,s)=>{i==="ok"&&nr(n,(o,a)=>{const l=dn(a);Qu(t.onDisconnect_,nn(e,o),l)}),Cu(t,r,i,s)})}function nZ(t,e,n){let r;qe(e._path)===".info"?r=T4(t.infoSyncTree_,e,n):r=T4(t.serverSyncTree_,e,n),b7(t.eventQueue_,e._path,r)}function P4(t,e,n){let r;qe(e._path)===".info"?r=Uw(t.infoSyncTree_,e,n):r=Uw(t.serverSyncTree_,e,n),b7(t.eventQueue_,e._path,r)}function rZ(t){t.persistentConnection_&&t.persistentConnection_.interrupt(HJ)}function E5(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),$n(n,...e)}function Cu(t,e,n,r){e&&Ku(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function R7(t,e,n){return c5(t.serverSyncTree_,e,n)||ke.EMPTY_NODE}function C5(t,e=t.transactionQueueTree_){if(e||r1(t,e),Yu(e)){const n=k7(t,e);Z(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&iZ(t,u0(e),n)}else w7(e)&&e1(e,n=>{C5(t,n)})}function iZ(t,e,n){const r=n.map(c=>c.currentWriteId),i=R7(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];Z(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Rr(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{E5(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Ya(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();r1(t,v5(t.transactionQueueTree_,e)),C5(t,t.transactionQueueTree_),Zs(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Ku(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Dr("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}n1(t,e)}},o)}function n1(t,e){const n=A7(t,e),r=u0(n),i=k7(t,n);return sZ(t,i,r),r}function sZ(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Rr(n,l.path);let u=!1,d;if(Z(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(Ya(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=qJ)u=!0,d="maxretry",i=i.concat(Ya(t.serverSyncTree_,l.currentWriteId,!0));else{const f=R7(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){t1("transaction failed: Data returned ",p,l.path);let m=dn(p);typeof p=="object"&&p!=null&&_s(p,".priority")||(m=m.updatePriority(f.getPriority()));const x=l.currentWriteId,g=w5(t),w=y7(m,f,g);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=w,l.currentWriteId=S7(t),o.splice(o.indexOf(x),1),i=i.concat(p7(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(Ya(t.serverSyncTree_,x,!0))}else u=!0,d="nodata",i=i.concat(Ya(t.serverSyncTree_,l.currentWriteId,!0))}Zs(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}r1(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ku(r[a]);C5(t,t.transactionQueueTree_)}function A7(t,e){let n,r=t.transactionQueueTree_;for(n=qe(e);n!==null&&Yu(r)===void 0;)r=v5(r,n),e=St(e),n=qe(e);return r}function k7(t,e){const n=[];return P7(t,e,n),n.sort((r,i)=>r.order-i.order),n}function P7(t,e,n){const r=Yu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);e1(e,i=>{P7(t,i,n)})}function r1(t,e){const n=Yu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,_7(e,n.length>0?n:void 0)}e1(e,r=>{r1(t,r)})}function N7(t,e){const n=u0(A7(t,e)),r=v5(t.transactionQueueTree_,e);return LJ(r,i=>{cy(t,i)}),cy(t,r),x7(r,i=>{cy(t,i)}),n}function cy(t,e){const n=Yu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Z(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Z(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Ya(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?_7(e,void 0):n.length=s+1,Zs(t.eventQueue_,u0(e),i);for(let o=0;o<r.length;o++)Ku(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oZ(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function aZ(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Dr(`Invalid query segment '${n}' in query '${t}'`)}return e}const N4=function(t,e){const n=lZ(t),r=n.namespace;n.domain==="firebase.com"&&Js(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Js("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||gY();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new j8(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new xt(n.pathString)}},lZ=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=oZ(t.substring(u,d)));const f=aZ(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Sn(this.snapshot.exportVal())}}class D7{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cZ{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uZ{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new ks;return ZJ(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Kd("OnDisconnect.remove",this._path);const e=new ks;return k4(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Kd("OnDisconnect.set",this._path),Bw("OnDisconnect.set",e,this._path,!1);const n=new ks;return k4(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Kd("OnDisconnect.setWithPriority",this._path),Bw("OnDisconnect.setWithPriority",e,this._path,!1),VJ("OnDisconnect.setWithPriority",n,!1);const r=new ks;return eZ(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Kd("OnDisconnect.update",this._path),FJ("OnDisconnect.update",e,this._path,!1);const n=new ks;return tZ(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ye(this._path)?null:YE(this._path)}get ref(){return new co(this._repo,this._path)}get _queryIdentifier(){const e=p4(this._queryParams),n=qE(e);return n==="{}"?"default":n}get _queryObject(){return p4(this._queryParams)}isEqual(e){if(e=Ze(e),!(e instanceof I5))return!1;const n=this._repo===e._repo,r=XE(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+ZY(this._path)}}class co extends I5{constructor(e,n){super(e,n,new t5,!1)}get parent(){const e=G8(this._path);return e===null?null:new co(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class xf{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new xt(e),r=m2(this.ref,e);return new xf(this._node.getChild(n),r,Bt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new xf(i,m2(this.ref,r),Bt)))}hasChild(e){const n=new xt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ww(t,e){return t=Ze(t),t._checkNotDeleted("ref"),e!==void 0?m2(t._root,e):t._root}function m2(t,e){return t=Ze(t),qe(t._path)===null?UJ("child","path",e,!1):I7("child","path",e,!1),new co(t._repo,nn(t._path,e))}function dZ(t){return t=Ze(t),new uZ(t._repo,t._path)}function hZ(t,e){t=Ze(t),Kd("set",t._path),Bw("set",e,t._path,!1);const n=new ks;return XJ(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class b5{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new L7("value",this,new xf(e.snapshotNode,new co(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new D7(this,e,n):null}matches(e){return e instanceof b5?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class T5{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new D7(this,e,n):null}createEvent(e,n){Z(e.childName!=null,"Child events should have a childName.");const r=m2(new co(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new L7(e.type,this,new xf(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof T5?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function fZ(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(u,d)=>{P4(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new cZ(n,s||void 0),a=e==="value"?new b5(o):new T5(e,o);return nZ(t._repo,t,a),()=>P4(t._repo,t,a)}function M7(t,e,n,r){return fZ(t,"value",e,n,r)}uJ(co);gJ(co);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pZ="FIREBASE_DATABASE_EMULATOR_HOST",Hw={};let mZ=!1;function gZ(t,e,n,r){t.repoInfo_=new j8(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function vZ(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Js("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$n("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=N4(s,i),a=o.repoInfo,l,c;typeof process<"u"&&YT&&(c=YT[pZ]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=N4(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new Hc(Hc.OWNER):new SY(t.name,t.options,e);zJ("Invalid Firebase Database URL",o),Ye(o.path)||Js("Database URL must point to the root of a Firebase Database (not including a child path).");const d=_Z(a,t,u,new TY(t.name,n));return new wZ(d,t)}function yZ(t,e){const n=Hw[e];(!n||n[t.key]!==t)&&Js(`Database ${e}(${t.repoInfo_}) has already been deleted.`),rZ(t),delete n[t.key]}function _Z(t,e,n,r){let i=Hw[e.name];i||(i={},Hw[e.name]=i);let s=i[t.toURLString()];return s&&Js("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new GJ(t,mZ,n,r),i[t.toURLString()]=s,s}class wZ{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(KJ(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new co(this._repo,mt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(yZ(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Js("Cannot call "+e+" on a deleted database.")}}function xZ(t=_3(),e){const n=jf(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=p6("database");r&&EZ(n,...r)}return n}function EZ(t,e,n,r={}){t=Ze(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Js("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Js('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Hc(Hc.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:v6(r.mockUserToken,t.app.options.projectId);s=new Hc(o)}gZ(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CZ(t){dY(qi),gs(new Bi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return vZ(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Lr(XT,JT,t),Lr(XT,JT,"esm2017")}zs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};zs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};CZ();const IZ={apiKey:"AIzaSyCwF75LGVuWriGfXEyHzoGBvobiOdMEwHs",authDomain:"star-education-academy.firebaseapp.com",projectId:"star-education-academy",storageBucket:"star-education-academy.appspot.com",messagingSenderId:"693801186794",appId:"1:693801186794:web:b202cdffa55530e687ee93",measurementId:"G-JN1DV2YT81",databaseURL:"https://star-education-academy-default-rtdb.asia-southeast1.firebasedatabase.app"},i1=S6(IZ),Cr=wW(i1),bZ=new Ps,Ee=kK(i1,{cache:YK()}),Xa=aY(i1),qw=xZ(i1);PK(Ee).then(()=>{console.log("Offline persistence enabled")}).catch(t=>{t.code==="failed-precondition"?console.log("Persistence failed, multiple tabs open"):t.code==="unimplemented"&&console.log("Persistence not availabel on this browser")});const wn=(t,e=200)=>{setTimeout(()=>{t(!1)},e)},ql=async(t,e,n,r,i,s=!1,o,a=200)=>{const l=Tr.get("userId");v.useEffect(()=>{if(!l)return;const c=gr(t,...e),u=Es(c,d=>{if(r(!0),d.empty)i(!0),n([]);else{const f=d.docs.map(p=>({...p.data(),[s?"uid":"id"]:p.id}));n(f),i(!1)}wn(r,a)},d=>{console.log("Error fetching documents: ",d.message),wn(r,a),o("Error fetching documents: "+d.message+" Come here again at 1:30 pm.")});return()=>u()},[])},TZ=async(t,e=3,n=1e3)=>{let r=0;for(;r<e;)try{await t(),console.log("User data save to firestore successfully");break}catch(i){if(r++,r>=e)throw console.log("Failed to save user data",i.message),i;console.warn(`Retrying Firestore write... (attempt ${r})`),await new Promise(s=>setTimeout(s,n*r))}},uy=async(t,e,n,r="",i)=>{try{const s=_e(Ee,"users",i),o=await la(s),a={name:t,email:e,password:n,image:r,isAdmin:!1,createdAt:ur()};o.exists()||await TZ(()=>_u(_e(Ee,"users",i),a))}catch(s){console.log(s.message)}};function S5(t,e,n){v.useEffect(()=>{const r=Ww(qw,`/status/${t}`);M7(r,i=>{if(i.exists()){const{status:s,lastChanged:o}=i.val();e(s),n(o)}})},[t])}function O7(t,e){localStorage.setItem(t,JSON.stringify(e))}function $7(t){let e=localStorage.getItem(t);try{return JSON.parse(e)}catch{return null}}function SZ(t,e){let n=!1;return e.forEach(r=>{r.id===t&&(n=!0)}),n}let L4;function RZ(t){t(!0),clearTimeout(L4),L4=setTimeout(()=>{t(!1)},[4e3])}function wi(t){scrollTo({top:0,...{behavior:t}})}function _h(){const t=window.innerHeight,n=document.documentElement.scrollHeight-t;scrollTo({top:n+200})}function Pl(t){document.body.style.overflow=t}function s1(t,e){v.useEffect(()=>{const n=r=>{t.current&&!t.current.contains(r.target)&&e(!1)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[])}function AZ(t){try{const e=t.split(":"),n=Number(e[0]),r=Number(e[1]),i=Number(e[2]);return`${dy(n,"hours")} ${dy(r,"minutes")} ${dy(i,"seconds")}`}catch{return null}}function dy(t,e){return t?`${t} ${e}`:""}function D4(t){return t>=10?t:`0${t}`}const o1=(t,e)=>{const n=Tr.get("userId");let r;return t.forEach(i=>{i.id===e&&(r=i)}),r?r.seenBy.includes(n):!1},kZ=(t,e)=>{let n=0;return t.forEach(r=>{o1(t,r.id)||(n+=1)}),!!(n>0&&(e!=null&&e.name))};function d0(t){v.useEffect(()=>{const e=()=>{const n=window.scrollY;O7(`SEA-scrollPosition-${t}`,n)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[])}function h0(t){v.useEffect(()=>{const e=$7(`SEA-scrollPosition-${t}`);e&&scrollTo(0,parseInt(e,10))},[])}async function Bs(t,e){try{console.log("Fetching counts...");const n=await a8(t);e(n.data().count)}catch(n){console.log(n.message)}}async function PZ(t,e){const n=M4(t,e);try{if(n)return console.log("Fetched from the array..."),n;{const r=_e(Oe(Ee,"users"),e);console.log("fetching user...");const i=await la(r);if(i.exists()){const s={uid:i.id,...i.data()};return M4(t,i.id)?console.log("User already exists in the array:"):t.push(s),s}else return console.log("No user found in Firestore"),null}}catch(r){return console.error("Error fetching user:",r.message),null}}function M4(t,e){return t.find(n=>n.uid===e)}function Bn(t,e,n,r=()=>{},i=[],s=150){v.useEffect(()=>{(async()=>{r(!0);const a=await PZ(e,t);n(a),wn(r,s)})()},i)}const NZ=t=>{const n=new Date().getTime()-t,r=Math.floor(n/1e3),i=Math.floor(r/60),s=Math.floor(i/60),o=Math.floor(s/24),a=Math.floor(o/7),l=Math.floor(o/30),c=Math.floor(l/12);if(c>0)return`${c} ${c===1?"year":"years"} ago`;if(l>0)return`${l} ${l===1?"month":"months"} ago`;if(a>0)return`${a} ${a===1?"week":"weeks"} ago`;if(o>0)return`${o} ${o===1?"day":"days"} ago`;if(s>0)return`${s} ${s===1?"hour":"hours"} ago`;if(i>0)return`${i} ${i===1?"minute":"minutes"} ago`;if(r>0)return`${r} ${r===1?"second":"seconds"} ago`},LZ={black:"#000",white:"#fff"},Ef=LZ,DZ={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ic=DZ,MZ={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},sc=MZ,OZ={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},oc=OZ,$Z={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ac=$Z,jZ={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},lc=jZ,FZ={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ad=FZ,VZ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},UZ=VZ;function eo(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const zZ=Object.freeze(Object.defineProperty({__proto__:null,default:eo},Symbol.toStringTag,{value:"Module"})),Iu="$$material";function O(){return O=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O.apply(null,arguments)}function he(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function BZ(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var WZ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,HZ=BZ(function(t){return WZ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),qZ=!1;function GZ(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function KZ(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var QZ=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!qZ:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(KZ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=GZ(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Kn="-ms-",g2="-moz-",ht="-webkit-",j7="comm",R5="rule",A5="decl",YZ="@import",F7="@keyframes",XZ="@layer",JZ=Math.abs,a1=String.fromCharCode,ZZ=Object.assign;function eee(t,e){return Mn(t,0)^45?(((e<<2^Mn(t,0))<<2^Mn(t,1))<<2^Mn(t,2))<<2^Mn(t,3):0}function V7(t){return t.trim()}function tee(t,e){return(t=e.exec(t))?t[0]:t}function ft(t,e,n){return t.replace(e,n)}function Gw(t,e){return t.indexOf(e)}function Mn(t,e){return t.charCodeAt(e)|0}function Cf(t,e,n){return t.slice(e,n)}function Yi(t){return t.length}function k5(t){return t.length}function op(t,e){return e.push(t),t}function nee(t,e){return t.map(e).join("")}var l1=1,bu=1,U7=0,Or=0,hn=0,Xu="";function c1(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:l1,column:bu,length:o,return:""}}function kd(t,e){return ZZ(c1("",null,null,"",null,null,0),t,{length:-t.length},e)}function ree(){return hn}function iee(){return hn=Or>0?Mn(Xu,--Or):0,bu--,hn===10&&(bu=1,l1--),hn}function Kr(){return hn=Or<U7?Mn(Xu,Or++):0,bu++,hn===10&&(bu=1,l1++),hn}function ps(){return Mn(Xu,Or)}function Bp(){return Or}function f0(t,e){return Cf(Xu,t,e)}function If(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function z7(t){return l1=bu=1,U7=Yi(Xu=t),Or=0,[]}function B7(t){return Xu="",t}function Wp(t){return V7(f0(Or-1,Kw(t===91?t+2:t===40?t+1:t)))}function see(t){for(;(hn=ps())&&hn<33;)Kr();return If(t)>2||If(hn)>3?"":" "}function oee(t,e){for(;--e&&Kr()&&!(hn<48||hn>102||hn>57&&hn<65||hn>70&&hn<97););return f0(t,Bp()+(e<6&&ps()==32&&Kr()==32))}function Kw(t){for(;Kr();)switch(hn){case t:return Or;case 34:case 39:t!==34&&t!==39&&Kw(hn);break;case 40:t===41&&Kw(t);break;case 92:Kr();break}return Or}function aee(t,e){for(;Kr()&&t+hn!==57;)if(t+hn===84&&ps()===47)break;return"/*"+f0(e,Or-1)+"*"+a1(t===47?t:Kr())}function lee(t){for(;!If(ps());)Kr();return f0(t,Or)}function cee(t){return B7(Hp("",null,null,null,[""],t=z7(t),0,[0],t))}function Hp(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,f=0,p=0,m=0,y=1,x=1,g=1,w=0,_="",E=i,b=s,C=r,S=_;x;)switch(m=w,w=Kr()){case 40:if(m!=108&&Mn(S,d-1)==58){Gw(S+=ft(Wp(w),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:S+=Wp(w);break;case 9:case 10:case 13:case 32:S+=see(m);break;case 92:S+=oee(Bp()-1,7);continue;case 47:switch(ps()){case 42:case 47:op(uee(aee(Kr(),Bp()),e,n),l);break;default:S+="/"}break;case 123*y:a[c++]=Yi(S)*g;case 125*y:case 59:case 0:switch(w){case 0:case 125:x=0;case 59+u:g==-1&&(S=ft(S,/\f/g,"")),p>0&&Yi(S)-d&&op(p>32?$4(S+";",r,n,d-1):$4(ft(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if(op(C=O4(S,e,n,c,u,i,a,_,E=[],b=[],d),s),w===123)if(u===0)Hp(S,e,C,C,E,s,d,a,b);else switch(f===99&&Mn(S,3)===110?100:f){case 100:case 108:case 109:case 115:Hp(t,C,C,r&&op(O4(t,C,C,0,0,i,a,_,i,E=[],d),b),i,b,d,a,r?E:b);break;default:Hp(S,C,C,C,[""],b,0,a,b)}}c=u=p=0,y=g=1,_=S="",d=o;break;case 58:d=1+Yi(S),p=m;default:if(y<1){if(w==123)--y;else if(w==125&&y++==0&&iee()==125)continue}switch(S+=a1(w),w*y){case 38:g=u>0?1:(S+="\f",-1);break;case 44:a[c++]=(Yi(S)-1)*g,g=1;break;case 64:ps()===45&&(S+=Wp(Kr())),f=ps(),u=d=Yi(_=S+=lee(Bp())),w++;break;case 45:m===45&&Yi(S)==2&&(y=0)}}return s}function O4(t,e,n,r,i,s,o,a,l,c,u){for(var d=i-1,f=i===0?s:[""],p=k5(f),m=0,y=0,x=0;m<r;++m)for(var g=0,w=Cf(t,d+1,d=JZ(y=o[m])),_=t;g<p;++g)(_=V7(y>0?f[g]+" "+w:ft(w,/&\f/g,f[g])))&&(l[x++]=_);return c1(t,e,n,i===0?R5:a,l,c,u)}function uee(t,e,n){return c1(t,e,n,j7,a1(ree()),Cf(t,2,-2),0)}function $4(t,e,n,r){return c1(t,e,n,A5,Cf(t,0,r),Cf(t,r+1,-1),r)}function Kc(t,e){for(var n="",r=k5(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function dee(t,e,n,r){switch(t.type){case XZ:if(t.children.length)break;case YZ:case A5:return t.return=t.return||t.value;case j7:return"";case F7:return t.return=t.value+"{"+Kc(t.children,r)+"}";case R5:t.value=t.props.join(",")}return Yi(n=Kc(t.children,r))?t.return=t.value+"{"+n+"}":""}function hee(t){var e=k5(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function fee(t){return function(e){e.root||(e=e.return)&&t(e)}}var pee=function(e,n,r){for(var i=0,s=0;i=s,s=ps(),i===38&&s===12&&(n[r]=1),!If(s);)Kr();return f0(e,Or)},mee=function(e,n){var r=-1,i=44;do switch(If(i)){case 0:i===38&&ps()===12&&(n[r]=1),e[r]+=pee(Or-1,n,r);break;case 2:e[r]+=Wp(i);break;case 4:if(i===44){e[++r]=ps()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=a1(i)}while(i=Kr());return e},gee=function(e,n){return B7(mee(z7(e),n))},j4=new WeakMap,vee=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!j4.get(r))&&!i){j4.set(e,!0);for(var s=[],o=gee(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},yee=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function W7(t,e){switch(eee(t,e)){case 5103:return ht+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ht+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ht+t+g2+t+Kn+t+t;case 6828:case 4268:return ht+t+Kn+t+t;case 6165:return ht+t+Kn+"flex-"+t+t;case 5187:return ht+t+ft(t,/(\w+).+(:[^]+)/,ht+"box-$1$2"+Kn+"flex-$1$2")+t;case 5443:return ht+t+Kn+"flex-item-"+ft(t,/flex-|-self/,"")+t;case 4675:return ht+t+Kn+"flex-line-pack"+ft(t,/align-content|flex-|-self/,"")+t;case 5548:return ht+t+Kn+ft(t,"shrink","negative")+t;case 5292:return ht+t+Kn+ft(t,"basis","preferred-size")+t;case 6060:return ht+"box-"+ft(t,"-grow","")+ht+t+Kn+ft(t,"grow","positive")+t;case 4554:return ht+ft(t,/([^-])(transform)/g,"$1"+ht+"$2")+t;case 6187:return ft(ft(ft(t,/(zoom-|grab)/,ht+"$1"),/(image-set)/,ht+"$1"),t,"")+t;case 5495:case 3959:return ft(t,/(image-set\([^]*)/,ht+"$1$`$1");case 4968:return ft(ft(t,/(.+:)(flex-)?(.*)/,ht+"box-pack:$3"+Kn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ht+t+t;case 4095:case 3583:case 4068:case 2532:return ft(t,/(.+)-inline(.+)/,ht+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Yi(t)-1-e>6)switch(Mn(t,e+1)){case 109:if(Mn(t,e+4)!==45)break;case 102:return ft(t,/(.+:)(.+)-([^]+)/,"$1"+ht+"$2-$3$1"+g2+(Mn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Gw(t,"stretch")?W7(ft(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Mn(t,e+1)!==115)break;case 6444:switch(Mn(t,Yi(t)-3-(~Gw(t,"!important")&&10))){case 107:return ft(t,":",":"+ht)+t;case 101:return ft(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ht+(Mn(t,14)===45?"inline-":"")+"box$3$1"+ht+"$2$3$1"+Kn+"$2box$3")+t}break;case 5936:switch(Mn(t,e+11)){case 114:return ht+t+Kn+ft(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ht+t+Kn+ft(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ht+t+Kn+ft(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ht+t+Kn+t+t}return t}var _ee=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case A5:e.return=W7(e.value,e.length);break;case F7:return Kc([kd(e,{value:ft(e.value,"@","@"+ht)})],i);case R5:if(e.length)return nee(e.props,function(s){switch(tee(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Kc([kd(e,{props:[ft(s,/:(read-\w+)/,":"+g2+"$1")]})],i);case"::placeholder":return Kc([kd(e,{props:[ft(s,/:(plac\w+)/,":"+ht+"input-$1")]}),kd(e,{props:[ft(s,/:(plac\w+)/,":"+g2+"$1")]}),kd(e,{props:[ft(s,/:(plac\w+)/,Kn+"input-$1")]})],i)}return""})}},wee=[_ee],H7=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var x=y.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||wee,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var x=y.getAttribute("data-emotion").split(" "),g=1;g<x.length;g++)s[x[g]]=!0;a.push(y)});var l,c=[vee,yee];{var u,d=[dee,fee(function(y){u.insert(y)})],f=hee(c.concat(i,d)),p=function(x){return Kc(cee(x),f)};l=function(x,g,w,_){u=w,p(x?x+"{"+g.styles+"}":g.styles),_&&(m.inserted[g.name]=!0)}}var m={key:n,sheet:new QZ({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return m.sheet.hydrate(a),m},q7={exports:{}},Et={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ln=typeof Symbol=="function"&&Symbol.for,P5=Ln?Symbol.for("react.element"):60103,N5=Ln?Symbol.for("react.portal"):60106,u1=Ln?Symbol.for("react.fragment"):60107,d1=Ln?Symbol.for("react.strict_mode"):60108,h1=Ln?Symbol.for("react.profiler"):60114,f1=Ln?Symbol.for("react.provider"):60109,p1=Ln?Symbol.for("react.context"):60110,L5=Ln?Symbol.for("react.async_mode"):60111,m1=Ln?Symbol.for("react.concurrent_mode"):60111,g1=Ln?Symbol.for("react.forward_ref"):60112,v1=Ln?Symbol.for("react.suspense"):60113,xee=Ln?Symbol.for("react.suspense_list"):60120,y1=Ln?Symbol.for("react.memo"):60115,_1=Ln?Symbol.for("react.lazy"):60116,Eee=Ln?Symbol.for("react.block"):60121,Cee=Ln?Symbol.for("react.fundamental"):60117,Iee=Ln?Symbol.for("react.responder"):60118,bee=Ln?Symbol.for("react.scope"):60119;function ii(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case P5:switch(t=t.type,t){case L5:case m1:case u1:case h1:case d1:case v1:return t;default:switch(t=t&&t.$$typeof,t){case p1:case g1:case _1:case y1:case f1:return t;default:return e}}case N5:return e}}}function G7(t){return ii(t)===m1}Et.AsyncMode=L5;Et.ConcurrentMode=m1;Et.ContextConsumer=p1;Et.ContextProvider=f1;Et.Element=P5;Et.ForwardRef=g1;Et.Fragment=u1;Et.Lazy=_1;Et.Memo=y1;Et.Portal=N5;Et.Profiler=h1;Et.StrictMode=d1;Et.Suspense=v1;Et.isAsyncMode=function(t){return G7(t)||ii(t)===L5};Et.isConcurrentMode=G7;Et.isContextConsumer=function(t){return ii(t)===p1};Et.isContextProvider=function(t){return ii(t)===f1};Et.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===P5};Et.isForwardRef=function(t){return ii(t)===g1};Et.isFragment=function(t){return ii(t)===u1};Et.isLazy=function(t){return ii(t)===_1};Et.isMemo=function(t){return ii(t)===y1};Et.isPortal=function(t){return ii(t)===N5};Et.isProfiler=function(t){return ii(t)===h1};Et.isStrictMode=function(t){return ii(t)===d1};Et.isSuspense=function(t){return ii(t)===v1};Et.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===u1||t===m1||t===h1||t===d1||t===v1||t===xee||typeof t=="object"&&t!==null&&(t.$$typeof===_1||t.$$typeof===y1||t.$$typeof===f1||t.$$typeof===p1||t.$$typeof===g1||t.$$typeof===Cee||t.$$typeof===Iee||t.$$typeof===bee||t.$$typeof===Eee)};Et.typeOf=ii;q7.exports=Et;var Tee=q7.exports,K7=Tee,See={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ree={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Q7={};Q7[K7.ForwardRef]=See;Q7[K7.Memo]=Ree;var Aee=!0;function kee(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var Y7=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Aee===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},X7=function(e,n,r){Y7(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Pee(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Nee={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Lee(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Dee=!1,Mee=/[A-Z]|^ms/g,Oee=/_EMO_([^_]+?)_([^]*?)_EMO_/g,J7=function(e){return e.charCodeAt(1)===45},F4=function(e){return e!=null&&typeof e!="boolean"},hy=Lee(function(t){return J7(t)?t:t.replace(Mee,"-$&").toLowerCase()}),V4=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Oee,function(r,i,s){return Xi={name:i,styles:s,next:Xi},i})}return Nee[e]!==1&&!J7(e)&&typeof n=="number"&&n!==0?n+"px":n},$ee="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function bf(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Xi={name:i.name,styles:i.styles,next:Xi},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Xi={name:o.name,styles:o.styles,next:Xi},o=o.next;var a=s.styles+";";return a}return jee(t,e,n)}case"function":{if(t!==void 0){var l=Xi,c=n(t);return Xi=l,bf(t,e,c)}break}}var u=n;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function jee(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=bf(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":F4(a)&&(r+=hy(s)+":"+V4(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&Dee)throw new Error($ee);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)F4(o[l])&&(r+=hy(s)+":"+V4(s,o[l])+";");else{var c=bf(t,e,o);switch(s){case"animation":case"animationName":{r+=hy(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}}return r}var U4=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Xi;function D5(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Xi=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=bf(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=bf(n,e,t[a]),r){var l=s;i+=l[a]}U4.lastIndex=0;for(var c="",u;(u=U4.exec(i))!==null;)c+="-"+u[1];var d=Pee(i)+c;return{name:d,styles:i,next:Xi}}var Fee=function(e){return e()},Z7=rm.useInsertionEffect?rm.useInsertionEffect:!1,Vee=Z7||Fee,z4=Z7||v.useLayoutEffect,eL=v.createContext(typeof HTMLElement<"u"?H7({key:"css"}):null),Uee=eL.Provider,tL=function(e){return v.forwardRef(function(n,r){var i=v.useContext(eL);return e(n,i,r)})},p0=v.createContext({}),fy={exports:{}},B4;function nL(){return B4||(B4=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(fy)),fy.exports}nL();var zee=tL(function(t,e){var n=t.styles,r=D5([n],void 0,v.useContext(p0)),i=v.useRef();return z4(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),z4(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&X7(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function to(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return D5(e)}var Gi=function(){var e=to.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Bee=HZ,Wee=function(e){return e!=="theme"},W4=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Bee:Wee},H4=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Hee=!1,qee=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return Y7(n,r,i),Vee(function(){return X7(n,r,i)}),null},Gee=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=H4(e,n,r),l=a||W4(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var f=u.length,p=1;p<f;p++)d.push(u[p],u[0][p])}var m=tL(function(y,x,g){var w=c&&y.as||i,_="",E=[],b=y;if(y.theme==null){b={};for(var C in y)b[C]=y[C];b.theme=v.useContext(p0)}typeof y.className=="string"?_=kee(x.registered,E,y.className):y.className!=null&&(_=y.className+" ");var S=D5(d.concat(E),x.registered,b);_+=x.key+"-"+S.name,o!==void 0&&(_+=" "+o);var I=c&&a===void 0?W4(w):l,T={};for(var R in y)c&&R==="as"||I(R)&&(T[R]=y[R]);return T.className=_,g&&(T.ref=g),v.createElement(v.Fragment,null,v.createElement(qee,{cache:x,serialized:S,isStringTag:typeof w=="string"}),v.createElement(w,T))});return m.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return o===void 0&&Hee?"NO_COMPONENT_SELECTOR":"."+o}}),m.withComponent=function(y,x){return t(y,O({},n,x,{shouldForwardProp:H4(m,x,!0)})).apply(void 0,d)},m}},Kee=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Qw=Gee.bind();Kee.forEach(function(t){Qw[t]=Qw(t)});let Yw;typeof document=="object"&&(Yw=H7({key:"css",prepend:!0}));function Qee(t){const{injectFirst:e,children:n}=t;return e&&Yw?h.jsx(Uee,{value:Yw,children:n}):n}function Yee(t){return t==null||Object.keys(t).length===0}function rL(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(Yee(i)?n:i):e;return h.jsx(zee,{styles:r})}function M5(t,e){return Qw(t,e)}const iL=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},Xee=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:rL,StyledEngineProvider:Qee,ThemeContext:p0,css:to,default:M5,internal_processStyles:iL,keyframes:Gi},Symbol.toStringTag,{value:"Module"}));function Ns(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function sL(t){if(!Ns(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=sL(t[n])}),e}function mr(t,e,n={clone:!0}){const r=n.clone?O({},t):t;return Ns(t)&&Ns(e)&&Object.keys(e).forEach(i=>{Ns(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Ns(t[i])?r[i]=mr(t[i],e[i],n):n.clone?r[i]=Ns(e[i])?sL(e[i]):e[i]:r[i]=e[i]}),r}const Jee=Object.freeze(Object.defineProperty({__proto__:null,default:mr,isPlainObject:Ns},Symbol.toStringTag,{value:"Module"})),Zee=["values","unit","step"],ete=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>O({},n,{[r.key]:r.val}),{})};function oL(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=he(t,Zee),s=ete(e),o=Object.keys(s);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function c(f,p){const m=o.indexOf(p);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(m!==-1&&typeof e[o[m]]=="number"?e[o[m]]:p)-r/100}${n})`}function u(f){return o.indexOf(f)+1<o.length?c(f,o[o.indexOf(f)+1]):a(f)}function d(f){const p=o.indexOf(f);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return O({keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:n},i)}const tte={borderRadius:4},nte=tte;function wh(t,e){return e?mr(t,e,{clone:!1}):t}const O5={xs:0,sm:600,md:900,lg:1200,xl:1536},q4={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${O5[t]}px)`};function $r(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||q4;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||q4;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||O5).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function aL(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function lL(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function rte(t,...e){const n=aL(t),r=[n,...e].reduce((i,s)=>mr(i,s),{});return lL(Object.keys(n),r)}function ite(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function al({values:t,breakpoints:e,base:n}){const r=n||ite(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function le(t){if(typeof t!="string")throw new Error(eo(7));return t.charAt(0).toUpperCase()+t.slice(1)}const ste=Object.freeze(Object.defineProperty({__proto__:null,default:le},Symbol.toStringTag,{value:"Module"}));function w1(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function v2(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=w1(t,n)||r,e&&(i=e(i,r,t)),i}function on(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=w1(l,r)||{};return $r(o,a,d=>{let f=v2(c,i,d);return d===f&&typeof d=="string"&&(f=v2(c,i,`${e}${d==="default"?"":le(d)}`,d)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[e],s}function ote(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const ate={m:"margin",p:"padding"},lte={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},G4={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},cte=ote(t=>{if(t.length>2)if(G4[t])t=G4[t];else return[t];const[e,n]=t.split(""),r=ate[e],i=lte[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),$5=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],j5=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...$5,...j5];function m0(t,e,n,r){var i;const s=(i=w1(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function F5(t){return m0(t,"spacing",8)}function Nl(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function ute(t,e){return n=>t.reduce((r,i)=>(r[i]=Nl(e,n),r),{})}function dte(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=cte(n),s=ute(i,r),o=t[n];return $r(t,o,s)}function cL(t,e){const n=F5(t.theme);return Object.keys(t).map(r=>dte(t,e,r,n)).reduce(wh,{})}function Gt(t){return cL(t,$5)}Gt.propTypes={};Gt.filterProps=$5;function Kt(t){return cL(t,j5)}Kt.propTypes={};Kt.filterProps=j5;function hte(t=8){if(t.mui)return t;const e=F5({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function x1(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?wh(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function ui(t){return typeof t!="number"?t:`${t}px solid`}function Ti(t,e){return on({prop:t,themeKey:"borders",transform:e})}const fte=Ti("border",ui),pte=Ti("borderTop",ui),mte=Ti("borderRight",ui),gte=Ti("borderBottom",ui),vte=Ti("borderLeft",ui),yte=Ti("borderColor"),_te=Ti("borderTopColor"),wte=Ti("borderRightColor"),xte=Ti("borderBottomColor"),Ete=Ti("borderLeftColor"),Cte=Ti("outline",ui),Ite=Ti("outlineColor"),E1=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=m0(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Nl(e,r)});return $r(t,t.borderRadius,n)}return null};E1.propTypes={};E1.filterProps=["borderRadius"];x1(fte,pte,mte,gte,vte,yte,_te,wte,xte,Ete,E1,Cte,Ite);const C1=t=>{if(t.gap!==void 0&&t.gap!==null){const e=m0(t.theme,"spacing",8),n=r=>({gap:Nl(e,r)});return $r(t,t.gap,n)}return null};C1.propTypes={};C1.filterProps=["gap"];const I1=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=m0(t.theme,"spacing",8),n=r=>({columnGap:Nl(e,r)});return $r(t,t.columnGap,n)}return null};I1.propTypes={};I1.filterProps=["columnGap"];const b1=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=m0(t.theme,"spacing",8),n=r=>({rowGap:Nl(e,r)});return $r(t,t.rowGap,n)}return null};b1.propTypes={};b1.filterProps=["rowGap"];const bte=on({prop:"gridColumn"}),Tte=on({prop:"gridRow"}),Ste=on({prop:"gridAutoFlow"}),Rte=on({prop:"gridAutoColumns"}),Ate=on({prop:"gridAutoRows"}),kte=on({prop:"gridTemplateColumns"}),Pte=on({prop:"gridTemplateRows"}),Nte=on({prop:"gridTemplateAreas"}),Lte=on({prop:"gridArea"});x1(C1,I1,b1,bte,Tte,Ste,Rte,Ate,kte,Pte,Nte,Lte);function Qc(t,e){return e==="grey"?e:t}const Dte=on({prop:"color",themeKey:"palette",transform:Qc}),Mte=on({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Qc}),Ote=on({prop:"backgroundColor",themeKey:"palette",transform:Qc});x1(Dte,Mte,Ote);function Ur(t){return t<=1&&t!==0?`${t*100}%`:t}const $te=on({prop:"width",transform:Ur}),V5=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||O5[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Ur(n)}};return $r(t,t.maxWidth,e)}return null};V5.filterProps=["maxWidth"];const jte=on({prop:"minWidth",transform:Ur}),Fte=on({prop:"height",transform:Ur}),Vte=on({prop:"maxHeight",transform:Ur}),Ute=on({prop:"minHeight",transform:Ur});on({prop:"size",cssProperty:"width",transform:Ur});on({prop:"size",cssProperty:"height",transform:Ur});const zte=on({prop:"boxSizing"});x1($te,V5,jte,Fte,Vte,Ute,zte);const Bte={border:{themeKey:"borders",transform:ui},borderTop:{themeKey:"borders",transform:ui},borderRight:{themeKey:"borders",transform:ui},borderBottom:{themeKey:"borders",transform:ui},borderLeft:{themeKey:"borders",transform:ui},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ui},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:E1},color:{themeKey:"palette",transform:Qc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Qc},backgroundColor:{themeKey:"palette",transform:Qc},p:{style:Kt},pt:{style:Kt},pr:{style:Kt},pb:{style:Kt},pl:{style:Kt},px:{style:Kt},py:{style:Kt},padding:{style:Kt},paddingTop:{style:Kt},paddingRight:{style:Kt},paddingBottom:{style:Kt},paddingLeft:{style:Kt},paddingX:{style:Kt},paddingY:{style:Kt},paddingInline:{style:Kt},paddingInlineStart:{style:Kt},paddingInlineEnd:{style:Kt},paddingBlock:{style:Kt},paddingBlockStart:{style:Kt},paddingBlockEnd:{style:Kt},m:{style:Gt},mt:{style:Gt},mr:{style:Gt},mb:{style:Gt},ml:{style:Gt},mx:{style:Gt},my:{style:Gt},margin:{style:Gt},marginTop:{style:Gt},marginRight:{style:Gt},marginBottom:{style:Gt},marginLeft:{style:Gt},marginX:{style:Gt},marginY:{style:Gt},marginInline:{style:Gt},marginInlineStart:{style:Gt},marginInlineEnd:{style:Gt},marginBlock:{style:Gt},marginBlockStart:{style:Gt},marginBlockEnd:{style:Gt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:C1},rowGap:{style:b1},columnGap:{style:I1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ur},maxWidth:{style:V5},minWidth:{transform:Ur},height:{transform:Ur},maxHeight:{transform:Ur},minHeight:{transform:Ur},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},g0=Bte;function Wte(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Hte(t,e){return typeof t=="function"?t(e):t}function uL(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=w1(i,c)||{};return d?d(o):$r(o,r,m=>{let y=v2(f,u,m);return m===y&&typeof m=="string"&&(y=v2(f,u,`${n}${m==="default"?"":le(m)}`,m)),l===!1?y:{[l]:y}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:g0;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=aL(s.breakpoints),d=Object.keys(u);let f=u;return Object.keys(c).forEach(p=>{const m=Hte(c[p],s);if(m!=null)if(typeof m=="object")if(o[p])f=wh(f,t(p,m,s,o));else{const y=$r({theme:s},m,x=>({[p]:x}));Wte(y,m)?f[p]=e({sx:m,theme:s}):f=wh(f,y)}else f=wh(f,t(p,m,s,o))}),lL(d,f)}return Array.isArray(i)?i.map(a):a(i)}return e}const dL=uL();dL.filterProps=["sx"];const v0=dL;function hL(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const qte=["breakpoints","palette","spacing","shape"];function y0(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=he(t,qte),a=oL(n),l=hte(i);let c=mr({breakpoints:a,direction:"ltr",components:{},palette:O({mode:"light"},r),spacing:l,shape:O({},nte,s)},o);return c.applyStyles=hL,c=e.reduce((u,d)=>mr(u,d),c),c.unstable_sxConfig=O({},g0,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return v0({sx:d,theme:this})},c}const Gte=Object.freeze(Object.defineProperty({__proto__:null,default:y0,private_createBreakpoints:oL,unstable_applyStyles:hL},Symbol.toStringTag,{value:"Module"}));function Kte(t){return Object.keys(t).length===0}function fL(t=null){const e=v.useContext(p0);return!e||Kte(e)?t:e}const Qte=y0();function T1(t=Qte){return fL(t)}function Yte({styles:t,themeId:e,defaultTheme:n={}}){const r=T1(n),i=typeof t=="function"?t(e&&r[e]||r):t;return h.jsx(rL,{styles:i})}const Xte=["sx"],Jte=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:g0;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function _0(t){const{sx:e}=t,n=he(t,Xte),{systemProps:r,otherProps:i}=Jte(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Ns(a)?O({},r,a):r}:s=O({},r,e),O({},i,{sx:s})}const Zte=Object.freeze(Object.defineProperty({__proto__:null,default:v0,extendSxProp:_0,unstable_createStyleFunctionSx:uL,unstable_defaultSxConfig:g0},Symbol.toStringTag,{value:"Module"})),K4=t=>t,ene=()=>{let t=K4;return{configure(e){t=e},generate(e){return t(e)},reset(){t=K4}}},tne=ene(),pL=tne;function mL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=mL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=mL(t))&&(r&&(r+=" "),r+=e);return r}const nne=["className","component"];function rne(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=M5("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(v0);return v.forwardRef(function(l,c){const u=T1(n),d=_0(l),{className:f,component:p="div"}=d,m=he(d,nne);return h.jsx(s,O({as:p,ref:c,className:xe(f,i?i(r):r),theme:e&&u[e]||u},m))})}const ine={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function rt(t,e,n="Mui"){const r=ine[e];return r?`${n}-${r}`:`${pL.generate(t)}-${e}`}function Ke(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=rt(t,i,n)}),r}var gL={exports:{}},Ct={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U5=Symbol.for("react.element"),z5=Symbol.for("react.portal"),S1=Symbol.for("react.fragment"),R1=Symbol.for("react.strict_mode"),A1=Symbol.for("react.profiler"),k1=Symbol.for("react.provider"),P1=Symbol.for("react.context"),sne=Symbol.for("react.server_context"),N1=Symbol.for("react.forward_ref"),L1=Symbol.for("react.suspense"),D1=Symbol.for("react.suspense_list"),M1=Symbol.for("react.memo"),O1=Symbol.for("react.lazy"),one=Symbol.for("react.offscreen"),vL;vL=Symbol.for("react.module.reference");function Si(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case U5:switch(t=t.type,t){case S1:case A1:case R1:case L1:case D1:return t;default:switch(t=t&&t.$$typeof,t){case sne:case P1:case N1:case O1:case M1:case k1:return t;default:return e}}case z5:return e}}}Ct.ContextConsumer=P1;Ct.ContextProvider=k1;Ct.Element=U5;Ct.ForwardRef=N1;Ct.Fragment=S1;Ct.Lazy=O1;Ct.Memo=M1;Ct.Portal=z5;Ct.Profiler=A1;Ct.StrictMode=R1;Ct.Suspense=L1;Ct.SuspenseList=D1;Ct.isAsyncMode=function(){return!1};Ct.isConcurrentMode=function(){return!1};Ct.isContextConsumer=function(t){return Si(t)===P1};Ct.isContextProvider=function(t){return Si(t)===k1};Ct.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===U5};Ct.isForwardRef=function(t){return Si(t)===N1};Ct.isFragment=function(t){return Si(t)===S1};Ct.isLazy=function(t){return Si(t)===O1};Ct.isMemo=function(t){return Si(t)===M1};Ct.isPortal=function(t){return Si(t)===z5};Ct.isProfiler=function(t){return Si(t)===A1};Ct.isStrictMode=function(t){return Si(t)===R1};Ct.isSuspense=function(t){return Si(t)===L1};Ct.isSuspenseList=function(t){return Si(t)===D1};Ct.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===S1||t===A1||t===R1||t===L1||t===D1||t===one||typeof t=="object"&&t!==null&&(t.$$typeof===O1||t.$$typeof===M1||t.$$typeof===k1||t.$$typeof===P1||t.$$typeof===N1||t.$$typeof===vL||t.getModuleId!==void 0)};Ct.typeOf=Si;gL.exports=Ct;var Q4=gL.exports;const ane=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function yL(t){const e=`${t}`.match(ane);return e&&e[1]||""}function _L(t,e=""){return t.displayName||t.name||yL(t)||e}function Y4(t,e,n){const r=_L(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function lne(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return _L(t,"Component");if(typeof t=="object")switch(t.$$typeof){case Q4.ForwardRef:return Y4(t,t.render,"ForwardRef");case Q4.Memo:return Y4(t,t.type,"memo");default:return}}}const cne=Object.freeze(Object.defineProperty({__proto__:null,default:lne,getFunctionName:yL},Symbol.toStringTag,{value:"Module"})),une=["ownerState"],dne=["variants"],hne=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function fne(t){return Object.keys(t).length===0}function pne(t){return typeof t=="string"&&t.charCodeAt(0)>96}function py(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const mne=y0(),gne=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function ap({defaultTheme:t,theme:e,themeId:n}){return fne(e)?t:e[n]||e}function vne(t){return t?(e,n)=>n[t]:null}function qp(t,e){let{ownerState:n}=e,r=he(e,une);const i=typeof t=="function"?t(O({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>qp(s,O({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=he(i,dne);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(O({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(O({ownerState:n},r,n)):l.style))}),a}return i}function yne(t={}){const{themeId:e,defaultTheme:n=mne,rootShouldForwardProp:r=py,slotShouldForwardProp:i=py}=t,s=o=>v0(O({},o,{theme:ap(O({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{iL(o,b=>b.filter(C=>!(C!=null&&C.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:f=vne(gne(c))}=a,p=he(a,hne),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,y=d||!1;let x,g=py;c==="Root"||c==="root"?g=r:c?g=i:pne(o)&&(g=void 0);const w=M5(o,O({shouldForwardProp:g,label:x},p)),_=b=>typeof b=="function"&&b.__emotion_real!==b||Ns(b)?C=>qp(b,O({},C,{theme:ap({theme:C.theme,defaultTheme:n,themeId:e})})):b,E=(b,...C)=>{let S=_(b);const I=C?C.map(_):[];l&&f&&I.push(k=>{const L=ap(O({},k,{defaultTheme:n,themeId:e}));if(!L.components||!L.components[l]||!L.components[l].styleOverrides)return null;const M=L.components[l].styleOverrides,N={};return Object.entries(M).forEach(([$,P])=>{N[$]=qp(P,O({},k,{theme:L}))}),f(k,N)}),l&&!m&&I.push(k=>{var L;const M=ap(O({},k,{defaultTheme:n,themeId:e})),N=M==null||(L=M.components)==null||(L=L[l])==null?void 0:L.variants;return qp({variants:N},O({},k,{theme:M}))}),y||I.push(s);const T=I.length-C.length;if(Array.isArray(b)&&T>0){const k=new Array(T).fill("");S=[...b,...k],S.raw=[...b.raw,...k]}const R=w(S,...I);return o.muiName&&(R.muiName=o.muiName),R};return w.withConfig&&(E.withConfig=w.withConfig),E}}const _ne=yne(),wne=_ne;function Tf(t,e){const n=O({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=O({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=O({},s),Object.keys(i).forEach(o=>{n[r][o]=Tf(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function xne(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Tf(e.components[n].defaultProps,r)}function Ene({props:t,name:e,defaultTheme:n,themeId:r}){let i=T1(n);return r&&(i=i[r]||i),xne({theme:i,name:e,props:t})}const Cne=typeof window<"u"?v.useLayoutEffect:v.useEffect,ys=Cne;function wL(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const Ine=Object.freeze(Object.defineProperty({__proto__:null,default:wL},Symbol.toStringTag,{value:"Module"}));function bne(t,e=0,n=1){return wL(t,e,n)}function Tne(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function xL(t){if(t.type)return t;if(t.charAt(0)==="#")return xL(Tne(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(eo(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(eo(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function Sne(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Rne(t,e){return t=xL(t),e=bne(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Sne(t)}function X4(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function B5(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function my(t,e){var n,r;return v.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function mn(t){return t&&t.ownerDocument||document}function Qr(t){return mn(t).defaultView||window}function Xw(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let J4=0;function Ane(t){const[e,n]=v.useState(t),r=t||e;return v.useEffect(()=>{e==null&&(J4+=1,n(`mui-${J4}`))},[e]),r}const Z4=rm.useId;function W5(t){if(Z4!==void 0){const e=Z4();return t??e}return Ane(t)}function eS({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=v.useRef(t!==void 0),[s,o]=v.useState(e),a=i?t:s,l=v.useCallback(c=>{i||o(c)},[]);return[a,l]}function mi(t){const e=v.useRef(t);return ys(()=>{e.current=t}),v.useRef((...n)=>(0,e.current)(...n)).current}function kn(...t){return v.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Xw(n,e)})},t)}const tS={};function kne(t,e){const n=v.useRef(tS);return n.current===tS&&(n.current=t(e)),n}const Pne=[];function Nne(t){v.useEffect(t,Pne)}class $1{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new $1}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function H5(){const t=kne($1.create).current;return Nne(t.disposeEffect),t}let j1=!0,Jw=!1;const Lne=new $1,Dne={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Mne(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&Dne[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function One(t){t.metaKey||t.altKey||t.ctrlKey||(j1=!0)}function gy(){j1=!1}function $ne(){this.visibilityState==="hidden"&&Jw&&(j1=!0)}function jne(t){t.addEventListener("keydown",One,!0),t.addEventListener("mousedown",gy,!0),t.addEventListener("pointerdown",gy,!0),t.addEventListener("touchstart",gy,!0),t.addEventListener("visibilitychange",$ne,!0)}function Fne(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return j1||Mne(e)}function Vne(){const t=v.useCallback(i=>{i!=null&&jne(i.ownerDocument)},[]),e=v.useRef(!1);function n(){return e.current?(Jw=!0,Lne.start(100,()=>{Jw=!1}),e.current=!1,!0):!1}function r(i){return Fne(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function EL(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function st(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}function y2(t){return typeof t=="string"}function Une(t,e,n){return t===void 0||y2(t)?e:O({},e,{ownerState:O({},e.ownerState,n)})}function _2(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function nS(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function zne(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const p=xe(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),m=O({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),y=O({},n,i,r);return p.length>0&&(y.className=p),Object.keys(m).length>0&&(y.style=m),{props:y,internalRef:void 0}}const o=_2(O({},i,r)),a=nS(r),l=nS(i),c=e(o),u=xe(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=O({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),f=O({},c,n,l,a);return u.length>0&&(f.className=u),Object.keys(d).length>0&&(f.style=d),{props:f,internalRef:c.ref}}function Bne(t,e,n){return typeof t=="function"?t(e,n):t}const Wne=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Ll(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=he(t,Wne),a=s?{}:Bne(r,i),{props:l,internalRef:c}=zne(O({},o,{externalSlotProps:a})),u=kn(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return Une(n,O({},l,{ref:u}),i)}const Hne=v.createContext(null),CL=Hne;function IL(){return v.useContext(CL)}const qne=typeof Symbol=="function"&&Symbol.for,Gne=qne?Symbol.for("mui.nested"):"__THEME_NESTED__";function Kne(t,e){return typeof e=="function"?e(t):O({},t,e)}function Qne(t){const{children:e,theme:n}=t,r=IL(),i=v.useMemo(()=>{const s=r===null?n:Kne(r,n);return s!=null&&(s[Gne]=r!==null),s},[n,r]);return h.jsx(CL.Provider,{value:i,children:e})}const Yne=["value"],bL=v.createContext();function Xne(t){let{value:e}=t,n=he(t,Yne);return h.jsx(bL.Provider,O({value:e??!0},n))}const q5=()=>{const t=v.useContext(bL);return t??!1},TL=v.createContext(void 0);function Jne({value:t,children:e}){return h.jsx(TL.Provider,{value:t,children:e})}function Zne(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Tf(i.defaultProps,r):!i.styleOverrides&&!i.variants?Tf(i,r):r}function ere({props:t,name:e}){const n=v.useContext(TL);return Zne({props:t,name:e,theme:{components:n}})}const rS={};function iS(t,e,n,r=!1){return v.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const s=n(i),o=t?O({},e,{[t]:s}):s;return r?()=>o:o}return t?O({},e,{[t]:n}):O({},e,n)},[t,e,n,r])}function tre(t){const{children:e,theme:n,themeId:r}=t,i=fL(rS),s=IL()||rS,o=iS(r,i,n),a=iS(r,s,n,!0),l=o.direction==="rtl";return h.jsx(Qne,{theme:a,children:h.jsx(p0.Provider,{value:o,children:h.jsx(Xne,{value:l,children:h.jsx(Jne,{value:o==null?void 0:o.components,children:e})})})})}const nre=["component","direction","spacing","divider","children","className","useFlexGap"],rre=y0(),ire=wne("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function sre(t){return Ene({props:t,name:"MuiStack",defaultTheme:rre})}function ore(t,e){const n=v.Children.toArray(t).filter(Boolean);return n.reduce((r,i,s)=>(r.push(i),s<n.length-1&&r.push(v.cloneElement(e,{key:`separator-${s}`})),r),[])}const are=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],lre=({ownerState:t,theme:e})=>{let n=O({display:"flex",flexDirection:"column"},$r({theme:e},al({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=F5(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),s=al({values:t.direction,base:i}),o=al({values:t.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((l,c,u)=>{if(!s[l]){const f=c>0?s[u[c-1]]:"column";s[l]=f}}),n=mr(n,$r({theme:e},o,(l,c)=>t.useFlexGap?{gap:Nl(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${are(c?s[c]:t.direction)}`]:Nl(r,l)}}))}return n=rte(e.breakpoints,n),n};function cre(t={}){const{createStyledComponent:e=ire,useThemeProps:n=sre,componentName:r="MuiStack"}=t,i=()=>st({root:["root"]},l=>rt(r,l),{}),s=e(lre);return v.forwardRef(function(l,c){const u=n(l),d=_0(u),{component:f="div",direction:p="column",spacing:m=0,divider:y,children:x,className:g,useFlexGap:w=!1}=d,_=he(d,nre),E={direction:p,spacing:m,useFlexGap:w},b=i();return h.jsx(s,O({as:f,ownerState:E,ref:c,className:xe(b.root,g)},_,{children:y?ore(x,y):x}))})}function ure(t,e){return O({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var an={},SL={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(SL);var RL=SL.exports;const dre=fa(zZ),hre=fa(Ine);var AL=RL;Object.defineProperty(an,"__esModule",{value:!0});var gi=an.alpha=ML;an.blend=Ire;an.colorChannel=void 0;var kL=an.darken=K5;an.decomposeColor=Ii;var fre=an.emphasize=OL,pre=an.getContrastRatio=_re;an.getLuminance=w2;an.hexToRgb=NL;an.hslToRgb=DL;var PL=an.lighten=Q5;an.private_safeAlpha=wre;an.private_safeColorChannel=void 0;an.private_safeDarken=xre;an.private_safeEmphasize=Cre;an.private_safeLighten=Ere;an.recomposeColor=Ju;an.rgbToHex=yre;var sS=AL(dre),mre=AL(hre);function G5(t,e=0,n=1){return(0,mre.default)(t,e,n)}function NL(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function gre(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Ii(t){if(t.type)return t;if(t.charAt(0)==="#")return Ii(NL(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,sS.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,sS.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const LL=t=>{const e=Ii(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};an.colorChannel=LL;const vre=(t,e)=>{try{return LL(t)}catch{return t}};an.private_safeColorChannel=vre;function Ju(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function yre(t){if(t.indexOf("#")===0)return t;const{values:e}=Ii(t);return`#${e.map((n,r)=>gre(r===3?Math.round(255*n):n)).join("")}`}function DL(t){t=Ii(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+n/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Ju({type:a,values:l})}function w2(t){t=Ii(t);let e=t.type==="hsl"||t.type==="hsla"?Ii(DL(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function _re(t,e){const n=w2(t),r=w2(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function ML(t,e){return t=Ii(t),e=G5(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Ju(t)}function wre(t,e,n){try{return ML(t,e)}catch{return t}}function K5(t,e){if(t=Ii(t),e=G5(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Ju(t)}function xre(t,e,n){try{return K5(t,e)}catch{return t}}function Q5(t,e){if(t=Ii(t),e=G5(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Ju(t)}function Ere(t,e,n){try{return Q5(t,e)}catch{return t}}function OL(t,e=.15){return w2(t)>.5?K5(t,e):Q5(t,e)}function Cre(t,e,n){try{return OL(t,e)}catch{return t}}function Ire(t,e,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),s=Ii(t),o=Ii(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return Ju({type:"rgb",values:a})}const bre=["mode","contrastThreshold","tonalOffset"],oS={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ef.white,default:Ef.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},vy={text:{primary:Ef.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ef.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function aS(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=PL(t.main,i):e==="dark"&&(t.dark=kL(t.main,s)))}function Tre(t="light"){return t==="dark"?{main:oc[200],light:oc[50],dark:oc[400]}:{main:oc[700],light:oc[400],dark:oc[800]}}function Sre(t="light"){return t==="dark"?{main:sc[200],light:sc[50],dark:sc[400]}:{main:sc[500],light:sc[300],dark:sc[700]}}function Rre(t="light"){return t==="dark"?{main:ic[500],light:ic[300],dark:ic[700]}:{main:ic[700],light:ic[400],dark:ic[800]}}function Are(t="light"){return t==="dark"?{main:ac[400],light:ac[300],dark:ac[700]}:{main:ac[700],light:ac[500],dark:ac[900]}}function kre(t="light"){return t==="dark"?{main:lc[400],light:lc[300],dark:lc[700]}:{main:lc[800],light:lc[500],dark:lc[900]}}function Pre(t="light"){return t==="dark"?{main:Ad[400],light:Ad[300],dark:Ad[700]}:{main:"#ed6c02",light:Ad[500],dark:Ad[900]}}function Nre(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=he(t,bre),s=t.primary||Tre(e),o=t.secondary||Sre(e),a=t.error||Rre(e),l=t.info||Are(e),c=t.success||kre(e),u=t.warning||Pre(e);function d(y){return pre(y,vy.text.primary)>=n?vy.text.primary:oS.text.primary}const f=({color:y,name:x,mainShade:g=500,lightShade:w=300,darkShade:_=700})=>{if(y=O({},y),!y.main&&y[g]&&(y.main=y[g]),!y.hasOwnProperty("main"))throw new Error(eo(11,x?` (${x})`:"",g));if(typeof y.main!="string")throw new Error(eo(12,x?` (${x})`:"",JSON.stringify(y.main)));return aS(y,"light",w,r),aS(y,"dark",_,r),y.contrastText||(y.contrastText=d(y.main)),y},p={dark:vy,light:oS};return mr(O({common:O({},Ef),mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:UZ,contrastThreshold:n,getContrastText:d,augmentColor:f,tonalOffset:r},p[e]),i)}const Lre=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Dre(t){return Math.round(t*1e5)/1e5}const lS={textTransform:"uppercase"},cS='"Roboto", "Helvetica", "Arial", sans-serif';function Mre(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=cS,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,f=he(n,Lre),p=i/14,m=d||(g=>`${g/c*p}rem`),y=(g,w,_,E,b)=>O({fontFamily:r,fontWeight:g,fontSize:m(w),lineHeight:_},r===cS?{letterSpacing:`${Dre(E/w)}em`}:{},b,u),x={h1:y(s,96,1.167,-1.5),h2:y(s,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(a,14,1.75,.4,lS),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,lS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return mr(O({htmlFontSize:c,pxToRem:m,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},x),f,{clone:!1})}const Ore=.2,$re=.14,jre=.12;function jt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Ore})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${$re})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${jre})`].join(",")}const Fre=["none",jt(0,2,1,-1,0,1,1,0,0,1,3,0),jt(0,3,1,-2,0,2,2,0,0,1,5,0),jt(0,3,3,-2,0,3,4,0,0,1,8,0),jt(0,2,4,-1,0,4,5,0,0,1,10,0),jt(0,3,5,-1,0,5,8,0,0,1,14,0),jt(0,3,5,-1,0,6,10,0,0,1,18,0),jt(0,4,5,-2,0,7,10,1,0,2,16,1),jt(0,5,5,-3,0,8,10,1,0,3,14,2),jt(0,5,6,-3,0,9,12,1,0,3,16,2),jt(0,6,6,-3,0,10,14,1,0,4,18,3),jt(0,6,7,-4,0,11,15,1,0,4,20,3),jt(0,7,8,-4,0,12,17,2,0,5,22,4),jt(0,7,8,-4,0,13,19,2,0,5,24,4),jt(0,7,9,-4,0,14,21,2,0,5,26,4),jt(0,8,9,-5,0,15,22,2,0,6,28,5),jt(0,8,10,-5,0,16,24,2,0,6,30,5),jt(0,8,11,-5,0,17,26,2,0,6,32,5),jt(0,9,11,-5,0,18,28,2,0,7,34,6),jt(0,9,12,-6,0,19,29,2,0,7,36,6),jt(0,10,13,-6,0,20,31,3,0,8,38,7),jt(0,10,13,-6,0,21,33,3,0,8,40,7),jt(0,10,14,-6,0,22,35,3,0,8,42,7),jt(0,11,14,-7,0,23,36,3,0,9,44,8),jt(0,11,15,-7,0,24,38,3,0,9,46,8)],Vre=Fre,Ure=["duration","easing","delay"],zre={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Bre={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function uS(t){return`${Math.round(t)}ms`}function Wre(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Hre(t){const e=O({},zre,t.easing),n=O({},Bre,t.duration);return O({getAutoHeightDuration:Wre,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return he(s,Ure),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:uS(o)} ${a} ${typeof l=="string"?l:uS(l)}`).join(",")}},t,{easing:e,duration:n})}const qre={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Gre=qre,Kre=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Y5(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=he(t,Kre);if(t.vars)throw new Error(eo(18));const a=Nre(r),l=y0(t);let c=mr(l,{mixins:ure(l.breakpoints,n),palette:a,shadows:Vre.slice(),typography:Mre(a,s),transitions:Hre(i),zIndex:O({},Gre)});return c=mr(c,o),c=e.reduce((u,d)=>mr(u,d),c),c.unstable_sxConfig=O({},g0,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return v0({sx:d,theme:this})},c}function Qre(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Yre(t){return parseFloat(t)}const Xre=Y5(),X5=Xre;function Ia(){const t=T1(X5);return t[Iu]||t}var w0={},yy={exports:{}},dS;function Jre(){return dS||(dS=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.includes(s))continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(yy)),yy.exports}const Zre=fa(Xee),eie=fa(Jee),tie=fa(ste),nie=fa(cne),rie=fa(Gte),iie=fa(Zte);var Zu=RL;Object.defineProperty(w0,"__esModule",{value:!0});var sie=w0.default=yie;w0.shouldForwardProp=Gp;w0.systemDefaultTheme=void 0;var oi=Zu(nL()),Zw=Zu(Jre()),hS=hie(Zre),oie=eie;Zu(tie);Zu(nie);var aie=Zu(rie),lie=Zu(iie);const cie=["ownerState"],uie=["variants"],die=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function $L(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return($L=function(r){return r?n:e})(t)}function hie(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=$L(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function fie(t){return Object.keys(t).length===0}function pie(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Gp(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const mie=w0.systemDefaultTheme=(0,aie.default)(),gie=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function lp({defaultTheme:t,theme:e,themeId:n}){return fie(e)?t:e[n]||e}function vie(t){return t?(e,n)=>n[t]:null}function Kp(t,e){let{ownerState:n}=e,r=(0,Zw.default)(e,cie);const i=typeof t=="function"?t((0,oi.default)({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>Kp(s,(0,oi.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,Zw.default)(i,uie);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,oi.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,oi.default)({ownerState:n},r,n)):l.style))}),a}return i}function yie(t={}){const{themeId:e,defaultTheme:n=mie,rootShouldForwardProp:r=Gp,slotShouldForwardProp:i=Gp}=t,s=o=>(0,lie.default)((0,oi.default)({},o,{theme:lp((0,oi.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,hS.internal_processStyles)(o,b=>b.filter(C=>!(C!=null&&C.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:f=vie(gie(c))}=a,p=(0,Zw.default)(a,die),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,y=d||!1;let x,g=Gp;c==="Root"||c==="root"?g=r:c?g=i:pie(o)&&(g=void 0);const w=(0,hS.default)(o,(0,oi.default)({shouldForwardProp:g,label:x},p)),_=b=>typeof b=="function"&&b.__emotion_real!==b||(0,oie.isPlainObject)(b)?C=>Kp(b,(0,oi.default)({},C,{theme:lp({theme:C.theme,defaultTheme:n,themeId:e})})):b,E=(b,...C)=>{let S=_(b);const I=C?C.map(_):[];l&&f&&I.push(k=>{const L=lp((0,oi.default)({},k,{defaultTheme:n,themeId:e}));if(!L.components||!L.components[l]||!L.components[l].styleOverrides)return null;const M=L.components[l].styleOverrides,N={};return Object.entries(M).forEach(([$,P])=>{N[$]=Kp(P,(0,oi.default)({},k,{theme:L}))}),f(k,N)}),l&&!m&&I.push(k=>{var L;const M=lp((0,oi.default)({},k,{defaultTheme:n,themeId:e})),N=M==null||(L=M.components)==null||(L=L[l])==null?void 0:L.variants;return Kp({variants:N},(0,oi.default)({},k,{theme:M}))}),y||I.push(s);const T=I.length-C.length;if(Array.isArray(b)&&T>0){const k=new Array(T).fill("");S=[...b,...k],S.raw=[...b.raw,...k]}const R=w(S,...I);return o.muiName&&(R.muiName=o.muiName),R};return w.withConfig&&(E.withConfig=w.withConfig),E}}function jL(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const _ie=t=>jL(t)&&t!=="classes",jr=_ie,wie=sie({themeId:Iu,defaultTheme:X5,rootShouldForwardProp:jr}),ue=wie,xie=["theme"];function Eie(t){let{theme:e}=t,n=he(t,xie);const r=e[Iu];return h.jsx(tre,O({},n,{themeId:r?Iu:void 0,theme:r||e}))}const Cie=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},fS=Cie;function it(t){return ere(t)}function Iie(t){return rt("MuiSvgIcon",t)}Ke("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const bie=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Tie=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${le(e)}`,`fontSize${le(n)}`]};return st(i,Iie,r)},Sie=ue("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${le(n.color)}`],e[`fontSize${le(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,c,u,d,f,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=t.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(f=(t.vars||t).palette)==null||(f=f[e.color])==null?void 0:f.main)!=null?d:{action:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[e.color]}}),FL=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:f="0 0 24 24"}=r,p=he(r,bie),m=v.isValidElement(i)&&i.type==="svg",y=O({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:m}),x={};u||(x.viewBox=f);const g=Tie(y);return h.jsxs(Sie,O({as:a,className:xe(g.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},x,p,m&&i.props,{ownerState:y,children:[m?i.props.children:i,d?h.jsx("title",{children:d}):null]}))});FL.muiName="SvgIcon";const pS=FL;function et(t,e){function n(r,i){return h.jsx(pS,O({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=pS.muiName,v.memo(v.forwardRef(n))}var Tt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J5=Symbol.for("react.element"),Z5=Symbol.for("react.portal"),F1=Symbol.for("react.fragment"),V1=Symbol.for("react.strict_mode"),U1=Symbol.for("react.profiler"),z1=Symbol.for("react.provider"),B1=Symbol.for("react.context"),Rie=Symbol.for("react.server_context"),W1=Symbol.for("react.forward_ref"),H1=Symbol.for("react.suspense"),q1=Symbol.for("react.suspense_list"),G1=Symbol.for("react.memo"),K1=Symbol.for("react.lazy"),Aie=Symbol.for("react.offscreen"),VL;VL=Symbol.for("react.module.reference");function Ri(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case J5:switch(t=t.type,t){case F1:case U1:case V1:case H1:case q1:return t;default:switch(t=t&&t.$$typeof,t){case Rie:case B1:case W1:case K1:case G1:case z1:return t;default:return e}}case Z5:return e}}}Tt.ContextConsumer=B1;Tt.ContextProvider=z1;Tt.Element=J5;Tt.ForwardRef=W1;Tt.Fragment=F1;Tt.Lazy=K1;Tt.Memo=G1;Tt.Portal=Z5;Tt.Profiler=U1;Tt.StrictMode=V1;Tt.Suspense=H1;Tt.SuspenseList=q1;Tt.isAsyncMode=function(){return!1};Tt.isConcurrentMode=function(){return!1};Tt.isContextConsumer=function(t){return Ri(t)===B1};Tt.isContextProvider=function(t){return Ri(t)===z1};Tt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===J5};Tt.isForwardRef=function(t){return Ri(t)===W1};Tt.isFragment=function(t){return Ri(t)===F1};Tt.isLazy=function(t){return Ri(t)===K1};Tt.isMemo=function(t){return Ri(t)===G1};Tt.isPortal=function(t){return Ri(t)===Z5};Tt.isProfiler=function(t){return Ri(t)===U1};Tt.isStrictMode=function(t){return Ri(t)===V1};Tt.isSuspense=function(t){return Ri(t)===H1};Tt.isSuspenseList=function(t){return Ri(t)===q1};Tt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===F1||t===U1||t===V1||t===H1||t===q1||t===Aie||typeof t=="object"&&t!==null&&(t.$$typeof===K1||t.$$typeof===G1||t.$$typeof===z1||t.$$typeof===B1||t.$$typeof===W1||t.$$typeof===VL||t.getModuleId!==void 0)};Tt.typeOf=Ri;function ex(t,e){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ex(t,e)}function UL(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ex(t,e)}const mS={disabled:!1},x2=ar.createContext(null);var kie=function(e){return e.scrollTop},Qd="unmounted",Oa="exited",$a="entering",mc="entered",tx="exiting",uo=function(t){UL(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Oa,s.appearStatus=$a):l=mc:r.unmountOnExit||r.mountOnEnter?l=Qd:l=Oa,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Qd?{status:Oa}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==$a&&o!==mc&&(s=$a):(o===$a||o===mc)&&(s=tx)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===$a){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:B0.findDOMNode(this);o&&kie(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Oa&&this.setState({status:Qd})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[B0.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||mS.disabled){this.safeSetState({status:mc},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:$a},function(){s.props.onEntering(c,u),s.onTransitionEnd(f,function(){s.safeSetState({status:mc},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:B0.findDOMNode(this);if(!s||mS.disabled){this.safeSetState({status:Oa},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:tx},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Oa},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:B0.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Qd)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=he(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ar.createElement(x2.Provider,{value:null},typeof o=="function"?o(i,a):ar.cloneElement(ar.Children.only(o),a))},e}(ar.Component);uo.contextType=x2;uo.propTypes={};function cc(){}uo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:cc,onEntering:cc,onEntered:cc,onExit:cc,onExiting:cc,onExited:cc};uo.UNMOUNTED=Qd;uo.EXITED=Oa;uo.ENTERING=$a;uo.ENTERED=mc;uo.EXITING=tx;const eC=uo;function Pie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tC(t,e){var n=function(s){return e&&v.isValidElement(s)?e(s):s},r=Object.create(null);return t&&v.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Nie(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Ja(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Lie(t,e){return tC(t.children,function(n){return v.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ja(n,"appear",t),enter:Ja(n,"enter",t),exit:Ja(n,"exit",t)})})}function Die(t,e,n){var r=tC(t.children),i=Nie(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(v.isValidElement(o)){var a=s in e,l=s in r,c=e[s],u=v.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=v.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Ja(o,"exit",t),enter:Ja(o,"enter",t)}):!l&&a&&!u?i[s]=v.cloneElement(o,{in:!1}):l&&a&&v.isValidElement(c)&&(i[s]=v.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Ja(o,"exit",t),enter:Ja(o,"enter",t)}))}}),i}var Mie=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Oie={component:"div",childFactory:function(e){return e}},nC=function(t){UL(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(Pie(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?Lie(i,a):Die(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=tC(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=O({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=he(i,["component","childFactory"]),l=this.state.contextValue,c=Mie(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?ar.createElement(x2.Provider,{value:l},c):ar.createElement(x2.Provider,{value:l},ar.createElement(s,a,c))},e}(ar.Component);nC.propTypes={};nC.defaultProps=Oie;const $ie=nC,rC=t=>t.scrollTop;function Dl(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function jie(t){return rt("MuiPaper",t)}Ke("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Fie=["className","component","elevation","square","variant"],Vie=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return st(s,jie,i)},Uie=ue("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return O({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&O({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${gi("#fff",fS(e.elevation))}, ${gi("#fff",fS(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),zie=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,c=he(r,Fie),u=O({},r,{component:s,elevation:o,square:a,variant:l}),d=Vie(u);return h.jsx(Uie,O({as:s,ownerState:u,className:xe(d.root,i),ref:n},c))}),ed=zie;function Bie(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=t,[u,d]=v.useState(!1),f=xe(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},m=xe(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),v.useEffect(()=>{if(!a&&l!=null){const y=setTimeout(l,c);return()=>{clearTimeout(y)}}},[l,a,c]),h.jsx("span",{className:f,style:p,children:h.jsx("span",{className:m})})}const Wie=Ke("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ai=Wie,Hie=["center","classes","className"];let Q1=t=>t,gS,vS,yS,_S;const nx=550,qie=80,Gie=Gi(gS||(gS=Q1`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Kie=Gi(vS||(vS=Q1`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Qie=Gi(yS||(yS=Q1`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Yie=ue("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Xie=ue(Bie,{name:"MuiTouchRipple",slot:"Ripple"})(_S||(_S=Q1`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ai.rippleVisible,Gie,nx,({theme:t})=>t.transitions.easing.easeInOut,ai.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,ai.child,ai.childLeaving,Kie,nx,({theme:t})=>t.transitions.easing.easeInOut,ai.childPulsate,Qie,({theme:t})=>t.transitions.easing.easeInOut),Jie=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=he(r,Hie),[l,c]=v.useState([]),u=v.useRef(0),d=v.useRef(null);v.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const f=v.useRef(!1),p=H5(),m=v.useRef(null),y=v.useRef(null),x=v.useCallback(E=>{const{pulsate:b,rippleX:C,rippleY:S,rippleSize:I,cb:T}=E;c(R=>[...R,h.jsx(Xie,{classes:{ripple:xe(s.ripple,ai.ripple),rippleVisible:xe(s.rippleVisible,ai.rippleVisible),ripplePulsate:xe(s.ripplePulsate,ai.ripplePulsate),child:xe(s.child,ai.child),childLeaving:xe(s.childLeaving,ai.childLeaving),childPulsate:xe(s.childPulsate,ai.childPulsate)},timeout:nx,pulsate:b,rippleX:C,rippleY:S,rippleSize:I},u.current)]),u.current+=1,d.current=T},[s]),g=v.useCallback((E={},b={},C=()=>{})=>{const{pulsate:S=!1,center:I=i||b.pulsate,fakeElement:T=!1}=b;if((E==null?void 0:E.type)==="mousedown"&&f.current){f.current=!1;return}(E==null?void 0:E.type)==="touchstart"&&(f.current=!0);const R=T?null:y.current,k=R?R.getBoundingClientRect():{width:0,height:0,left:0,top:0};let L,M,N;if(I||E===void 0||E.clientX===0&&E.clientY===0||!E.clientX&&!E.touches)L=Math.round(k.width/2),M=Math.round(k.height/2);else{const{clientX:$,clientY:P}=E.touches&&E.touches.length>0?E.touches[0]:E;L=Math.round($-k.left),M=Math.round(P-k.top)}if(I)N=Math.sqrt((2*k.width**2+k.height**2)/3),N%2===0&&(N+=1);else{const $=Math.max(Math.abs((R?R.clientWidth:0)-L),L)*2+2,P=Math.max(Math.abs((R?R.clientHeight:0)-M),M)*2+2;N=Math.sqrt($**2+P**2)}E!=null&&E.touches?m.current===null&&(m.current=()=>{x({pulsate:S,rippleX:L,rippleY:M,rippleSize:N,cb:C})},p.start(qie,()=>{m.current&&(m.current(),m.current=null)})):x({pulsate:S,rippleX:L,rippleY:M,rippleSize:N,cb:C})},[i,x,p]),w=v.useCallback(()=>{g({},{pulsate:!0})},[g]),_=v.useCallback((E,b)=>{if(p.clear(),(E==null?void 0:E.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{_(E,b)});return}m.current=null,c(C=>C.length>0?C.slice(1):C),d.current=b},[p]);return v.useImperativeHandle(n,()=>({pulsate:w,start:g,stop:_}),[w,g,_]),h.jsx(Yie,O({className:xe(ai.root,s.root,o),ref:y},a,{children:h.jsx($ie,{component:null,exit:!0,children:l})}))}),Zie=Jie;function ese(t){return rt("MuiButtonBase",t)}const tse=Ke("MuiButtonBase",["root","disabled","focusVisible"]),nse=tse,rse=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],ise=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=st({root:["root",e&&"disabled",n&&"focusVisible"]},ese,i);return n&&r&&(o.root+=` ${r}`),o},sse=ue("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${nse.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ose=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:f=!1,LinkComponent:p="a",onBlur:m,onClick:y,onContextMenu:x,onDragLeave:g,onFocus:w,onFocusVisible:_,onKeyDown:E,onKeyUp:b,onMouseDown:C,onMouseLeave:S,onMouseUp:I,onTouchEnd:T,onTouchMove:R,onTouchStart:k,tabIndex:L=0,TouchRippleProps:M,touchRippleRef:N,type:$}=r,P=he(r,rse),A=v.useRef(null),D=v.useRef(null),j=kn(D,N),{isFocusVisibleRef:F,onFocus:q,onBlur:W,ref:B}=Vne(),[U,V]=v.useState(!1);c&&U&&V(!1),v.useImperativeHandle(i,()=>({focusVisible:()=>{V(!0),A.current.focus()}}),[]);const[G,oe]=v.useState(!1);v.useEffect(()=>{oe(!0)},[]);const ce=G&&!u&&!c;v.useEffect(()=>{U&&f&&!u&&G&&D.current.pulsate()},[u,f,U,G]);function te(ye,ne,Qe=d){return mi(Ue=>(ne&&ne(Ue),!Qe&&D.current&&D.current[ye](Ue),!0))}const me=te("start",C),de=te("stop",x),ae=te("stop",g),ve=te("stop",I),Te=te("stop",ye=>{U&&ye.preventDefault(),S&&S(ye)}),Ie=te("start",k),vt=te("stop",T),$e=te("stop",R),Ve=te("stop",ye=>{W(ye),F.current===!1&&V(!1),m&&m(ye)},!1),ut=mi(ye=>{A.current||(A.current=ye.currentTarget),q(ye),F.current===!0&&(V(!0),_&&_(ye)),w&&w(ye)}),dt=()=>{const ye=A.current;return l&&l!=="button"&&!(ye.tagName==="A"&&ye.href)},Ne=v.useRef(!1),At=mi(ye=>{f&&!Ne.current&&U&&D.current&&ye.key===" "&&(Ne.current=!0,D.current.stop(ye,()=>{D.current.start(ye)})),ye.target===ye.currentTarget&&dt()&&ye.key===" "&&ye.preventDefault(),E&&E(ye),ye.target===ye.currentTarget&&dt()&&ye.key==="Enter"&&!c&&(ye.preventDefault(),y&&y(ye))}),We=mi(ye=>{f&&ye.key===" "&&D.current&&U&&!ye.defaultPrevented&&(Ne.current=!1,D.current.stop(ye,()=>{D.current.pulsate(ye)})),b&&b(ye),y&&ye.target===ye.currentTarget&&dt()&&ye.key===" "&&!ye.defaultPrevented&&y(ye)});let be=l;be==="button"&&(P.href||P.to)&&(be=p);const kt={};be==="button"?(kt.type=$===void 0?"button":$,kt.disabled=c):(!P.href&&!P.to&&(kt.role="button"),c&&(kt["aria-disabled"]=c));const ln=kn(n,B,A),Wn=O({},r,{centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:f,tabIndex:L,focusVisible:U}),Le=ise(Wn);return h.jsxs(sse,O({as:be,className:xe(Le.root,a),ownerState:Wn,onBlur:Ve,onClick:y,onContextMenu:de,onFocus:ut,onKeyDown:At,onKeyUp:We,onMouseDown:me,onMouseLeave:Te,onMouseUp:ve,onDragLeave:ae,onTouchEnd:vt,onTouchMove:$e,onTouchStart:Ie,ref:ln,tabIndex:c?-1:L,type:$},kt,P,{children:[o,ce?h.jsx(Zie,O({ref:j,center:s},M)):null]}))}),iC=ose;function ase(t){return rt("MuiIconButton",t)}const lse=Ke("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),cse=lse,use=["edge","children","className","color","disabled","disableFocusRipple","size"],dse=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${le(r)}`,i&&`edge${le(i)}`,`size${le(s)}`]};return st(o,ase,e)},hse=ue(iC,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${le(n.color)}`],n.edge&&e[`edge${le(n.edge)}`],e[`size${le(n.size)}`]]}})(({theme:t,ownerState:e})=>O({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:gi(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return O({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&O({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":O({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:gi(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${cse.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),fse=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=he(r,use),f=O({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),p=dse(f);return h.jsx(hse,O({className:xe(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:f,children:s}))}),Rt=fse;function pse(t){return rt("MuiTypography",t)}Ke("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const mse=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],gse=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${le(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return st(a,pse,o)},vse=ue("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${le(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>O({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),wS={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},yse={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},_se=t=>yse[t]||t,wse=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiTypography"}),i=_se(r.color),s=_0(O({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:f="body1",variantMapping:p=wS}=s,m=he(s,mse),y=O({},s,{align:o,color:i,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:f,variantMapping:p}),x=l||(d?"p":p[f]||wS[f])||"span",g=gse(y);return h.jsx(vse,O({as:x,ref:n,ownerState:y,className:xe(g.root,a)},m))}),It=wse;function xse(t){return rt("MuiAppBar",t)}Ke("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Ese=["className","color","enableColorOnDark","position"],Cse=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${le(e)}`,`position${le(n)}`]};return st(i,xse,r)},cp=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,Ise=ue(ed,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${le(n.position)}`],e[`color${le(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return O({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&O({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&O({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&O({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:cp(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:cp(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:cp(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:cp(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},!["inherit","transparent"].includes(e.color)&&{backgroundColor:"var(--AppBar-background)"},{color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),bse=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=he(r,Ese),c=O({},r,{color:s,position:a,enableColorOnDark:o}),u=Cse(c);return h.jsx(Ise,O({square:!0,component:"header",ownerState:c,elevation:4,className:xe(u.root,i,a==="fixed"&&"mui-fixed"),ref:n},l))}),zL=bse;function Tse(t){return typeof t=="function"?t():t}const Sse=v.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=v.useState(null),l=kn(v.isValidElement(r)?r.ref:null,n);if(ys(()=>{s||a(Tse(i)||document.body)},[i,s]),ys(()=>{if(o&&!s)return Xw(n,o),()=>{Xw(n,null)}},[n,o,s]),s){if(v.isValidElement(r)){const c={ref:l};return v.cloneElement(r,c)}return h.jsx(v.Fragment,{children:r})}return h.jsx(v.Fragment,{children:o&&Bh.createPortal(r,o)})}),Rse=Sse,Ase=["onChange","maxRows","minRows","style","value"];function up(t){return parseInt(t,10)||0}const kse={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Pse(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const Nse=v.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=he(e,Ase),{current:c}=v.useRef(a!=null),u=v.useRef(null),d=kn(n,u),f=v.useRef(null),p=v.useRef(null),m=v.useCallback(()=>{const g=u.current,_=Qr(g).getComputedStyle(g);if(_.width==="0px")return{outerHeightStyle:0,overflowing:!1};const E=p.current;E.style.width=_.width,E.value=g.value||e.placeholder||"x",E.value.slice(-1)===`
`&&(E.value+=" ");const b=_.boxSizing,C=up(_.paddingBottom)+up(_.paddingTop),S=up(_.borderBottomWidth)+up(_.borderTopWidth),I=E.scrollHeight;E.value="x";const T=E.scrollHeight;let R=I;s&&(R=Math.max(Number(s)*T,R)),i&&(R=Math.min(Number(i)*T,R)),R=Math.max(R,T);const k=R+(b==="border-box"?C+S:0),L=Math.abs(R-I)<=1;return{outerHeightStyle:k,overflowing:L}},[i,s,e.placeholder]),y=v.useCallback(()=>{const g=m();if(Pse(g))return;const w=g.outerHeightStyle,_=u.current;f.current!==w&&(f.current=w,_.style.height=`${w}px`),_.style.overflow=g.overflowing?"hidden":""},[m]);ys(()=>{const g=()=>{y()};let w;const _=B5(g),E=u.current,b=Qr(E);b.addEventListener("resize",_);let C;return typeof ResizeObserver<"u"&&(C=new ResizeObserver(g),C.observe(E)),()=>{_.clear(),cancelAnimationFrame(w),b.removeEventListener("resize",_),C&&C.disconnect()}},[m,y]),ys(()=>{y()});const x=g=>{c||y(),r&&r(g)};return h.jsxs(v.Fragment,{children:[h.jsx("textarea",O({value:a,onChange:x,ref:d,rows:s,style:o},l)),h.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:O({},kse.shadow,o,{paddingTop:0,paddingBottom:0})})]})}),Lse=Nse;function td({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const Dse=v.createContext(void 0),sC=Dse;function nd(){return v.useContext(sC)}function Mse(t){return h.jsx(Yte,O({},t,{defaultTheme:X5,themeId:Iu}))}function xS(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function E2(t,e=!1){return t&&(xS(t.value)&&t.value!==""||e&&xS(t.defaultValue)&&t.defaultValue!=="")}function Ose(t){return t.startAdornment}function $se(t){return rt("MuiInputBase",t)}const jse=Ke("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Tu=jse,Fse=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Y1=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${le(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},X1=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},Vse=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:f,startAdornment:p,type:m}=t,y={root:["root",`color${le(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",f&&f!=="medium"&&`size${le(f)}`,u&&"multiline",p&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",u&&"inputMultiline",f==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return st(y,$se,e)},J1=ue("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Y1})(({theme:t,ownerState:e})=>O({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Tu.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&O({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Z1=ue("input",{name:"MuiInputBase",slot:"Input",overridesResolver:X1})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=O({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return O({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Tu.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Tu.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),Use=h.jsx(Mse,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),zse=v.forwardRef(function(e,n){var r;const i=it({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:f,disableInjectingGlobalStyles:p,endAdornment:m,fullWidth:y=!1,id:x,inputComponent:g="input",inputProps:w={},inputRef:_,maxRows:E,minRows:b,multiline:C=!1,name:S,onBlur:I,onChange:T,onClick:R,onFocus:k,onKeyDown:L,onKeyUp:M,placeholder:N,readOnly:$,renderSuffix:P,rows:A,slotProps:D={},slots:j={},startAdornment:F,type:q="text",value:W}=i,B=he(i,Fse),U=w.value!=null?w.value:W,{current:V}=v.useRef(U!=null),G=v.useRef(),oe=v.useCallback(Le=>{},[]),ce=kn(G,_,w.ref,oe),[te,me]=v.useState(!1),de=nd(),ae=td({props:i,muiFormControl:de,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ae.focused=de?de.focused:te,v.useEffect(()=>{!de&&f&&te&&(me(!1),I&&I())},[de,f,te,I]);const ve=de&&de.onFilled,Te=de&&de.onEmpty,Ie=v.useCallback(Le=>{E2(Le)?ve&&ve():Te&&Te()},[ve,Te]);ys(()=>{V&&Ie({value:U})},[U,Ie,V]);const vt=Le=>{if(ae.disabled){Le.stopPropagation();return}k&&k(Le),w.onFocus&&w.onFocus(Le),de&&de.onFocus?de.onFocus(Le):me(!0)},$e=Le=>{I&&I(Le),w.onBlur&&w.onBlur(Le),de&&de.onBlur?de.onBlur(Le):me(!1)},Ve=(Le,...ye)=>{if(!V){const ne=Le.target||G.current;if(ne==null)throw new Error(eo(1));Ie({value:ne.value})}w.onChange&&w.onChange(Le,...ye),T&&T(Le,...ye)};v.useEffect(()=>{Ie(G.current)},[]);const ut=Le=>{G.current&&Le.currentTarget===Le.target&&G.current.focus(),R&&R(Le)};let dt=g,Ne=w;C&&dt==="input"&&(A?Ne=O({type:void 0,minRows:A,maxRows:A},Ne):Ne=O({type:void 0,maxRows:E,minRows:b},Ne),dt=Lse);const At=Le=>{Ie(Le.animationName==="mui-auto-fill-cancel"?G.current:{value:"x"})};v.useEffect(()=>{de&&de.setAdornedStart(!!F)},[de,F]);const We=O({},i,{color:ae.color||"primary",disabled:ae.disabled,endAdornment:m,error:ae.error,focused:ae.focused,formControl:de,fullWidth:y,hiddenLabel:ae.hiddenLabel,multiline:C,size:ae.size,startAdornment:F,type:q}),be=Vse(We),kt=j.root||c.Root||J1,ln=D.root||u.root||{},Wn=j.input||c.Input||Z1;return Ne=O({},Ne,(r=D.input)!=null?r:u.input),h.jsxs(v.Fragment,{children:[!p&&Use,h.jsxs(kt,O({},ln,!y2(kt)&&{ownerState:O({},We,ln.ownerState)},{ref:n,onClick:ut},B,{className:xe(be.root,ln.className,l,$&&"MuiInputBase-readOnly"),children:[F,h.jsx(sC.Provider,{value:null,children:h.jsx(Wn,O({ownerState:We,"aria-invalid":ae.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:ae.disabled,id:x,onAnimationStart:At,name:S,placeholder:N,readOnly:$,required:ae.required,rows:A,value:U,onKeyDown:L,onKeyUp:M,type:q},Ne,!y2(Wn)&&{as:dt,ownerState:O({},We,Ne.ownerState)},{ref:ce,className:xe(be.input,Ne.className,$&&"MuiInputBase-readOnly"),onBlur:$e,onChange:Ve,onFocus:vt}))}),m,P?P(O({},ae,{startAdornment:F})):null]}))]})}),oC=zse;function Bse(t){return rt("MuiInput",t)}const Wse=O({},Tu,Ke("MuiInput",["root","underline","input"])),Pd=Wse;function Hse(t){return rt("MuiOutlinedInput",t)}const qse=O({},Tu,Ke("MuiOutlinedInput",["root","notchedOutline","input"])),wo=qse;function Gse(t){return rt("MuiFilledInput",t)}const Kse=O({},Tu,Ke("MuiFilledInput",["root","underline","input"])),Aa=Kse,Qse=et(h.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Yse=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Xse={entering:{opacity:1},entered:{opacity:1}},Jse=v.forwardRef(function(e,n){const r=Ia(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:f,onExit:p,onExited:m,onExiting:y,style:x,timeout:g=i,TransitionComponent:w=eC}=e,_=he(e,Yse),E=v.useRef(null),b=kn(E,a.ref,n),C=N=>$=>{if(N){const P=E.current;$===void 0?N(P):N(P,$)}},S=C(f),I=C((N,$)=>{rC(N);const P=Dl({style:x,timeout:g,easing:l},{mode:"enter"});N.style.webkitTransition=r.transitions.create("opacity",P),N.style.transition=r.transitions.create("opacity",P),u&&u(N,$)}),T=C(d),R=C(y),k=C(N=>{const $=Dl({style:x,timeout:g,easing:l},{mode:"exit"});N.style.webkitTransition=r.transitions.create("opacity",$),N.style.transition=r.transitions.create("opacity",$),p&&p(N)}),L=C(m),M=N=>{s&&s(E.current,N)};return h.jsx(w,O({appear:o,in:c,nodeRef:E,onEnter:I,onEntered:T,onEntering:S,onExit:k,onExited:L,onExiting:R,addEndListener:M,timeout:g},_,{children:(N,$)=>v.cloneElement(a,O({style:O({opacity:0,visibility:N==="exited"&&!c?"hidden":void 0},Xse[N],x,a.props.style),ref:b},$))}))}),BL=Jse;function Zse(t){return rt("MuiBackdrop",t)}Ke("MuiBackdrop",["root","invisible"]);const eoe=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],toe=t=>{const{classes:e,invisible:n}=t;return st({root:["root",n&&"invisible"]},Zse,e)},noe=ue("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>O({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),roe=v.forwardRef(function(e,n){var r,i,s;const o=it({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:u={},componentsProps:d={},invisible:f=!1,open:p,slotProps:m={},slots:y={},TransitionComponent:x=BL,transitionDuration:g}=o,w=he(o,eoe),_=O({},o,{component:c,invisible:f}),E=toe(_),b=(r=m.root)!=null?r:d.root;return h.jsx(x,O({in:p,timeout:g},w,{children:h.jsx(noe,O({"aria-hidden":!0},b,{as:(i=(s=y.root)!=null?s:u.Root)!=null?i:c,className:xe(E.root,l,b==null?void 0:b.className),ownerState:O({},_,b==null?void 0:b.ownerState),classes:E,ref:n,children:a}))}))}),WL=roe,ioe=Ke("MuiBox",["root"]),soe=ioe,ooe=Y5(),aoe=rne({themeId:Iu,defaultTheme:ooe,defaultClassName:soe.root,generateClassName:pL.generate}),Fe=aoe;function loe(t){return rt("MuiButton",t)}const coe=Ke("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),dp=coe,uoe=v.createContext({}),doe=uoe,hoe=v.createContext(void 0),foe=hoe,poe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],moe=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${le(e)}`,`size${le(i)}`,`${s}Size${le(i)}`,`color${le(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${le(i)}`],endIcon:["icon","endIcon",`iconSize${le(i)}`]},l=st(a,loe,o);return O({},o,l)},HL=t=>O({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),goe=ue(iC,{shouldForwardProp:t=>jr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${le(n.color)}`],e[`size${le(n.size)}`],e[`${n.variant}Size${le(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return O({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":O({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:gi(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:gi(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:gi(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":O({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${dp.focusVisible}`]:O({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${dp.disabled}`]:O({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${gi(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${dp.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${dp.disabled}`]:{boxShadow:"none"}}),voe=ue("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${le(n.size)}`]]}})(({ownerState:t})=>O({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},HL(t))),yoe=ue("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${le(n.size)}`]]}})(({ownerState:t})=>O({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},HL(t))),_oe=v.forwardRef(function(e,n){const r=v.useContext(doe),i=v.useContext(foe),s=Tf(r,e),o=it({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:f=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:y,fullWidth:x=!1,size:g="medium",startIcon:w,type:_,variant:E="text"}=o,b=he(o,poe),C=O({},o,{color:l,component:c,disabled:d,disableElevation:f,disableFocusRipple:p,fullWidth:x,size:g,type:_,variant:E}),S=moe(C),I=w&&h.jsx(voe,{className:S.startIcon,ownerState:C,children:w}),T=m&&h.jsx(yoe,{className:S.endIcon,ownerState:C,children:m}),R=i||"";return h.jsxs(goe,O({ownerState:C,className:xe(r.className,S.root,u,R),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:xe(S.focusVisible,y),ref:n,type:_},b,{classes:S,children:[I,a,T]}))}),Pe=_oe;function woe(t){return rt("MuiCircularProgress",t)}Ke("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const xoe=["className","color","disableShrink","size","style","thickness","value","variant"];let ev=t=>t,ES,CS,IS,bS;const xo=44,Eoe=Gi(ES||(ES=ev`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Coe=Gi(CS||(CS=ev`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Ioe=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${le(r)}`],svg:["svg"],circle:["circle",`circle${le(n)}`,i&&"circleDisableShrink"]};return st(s,woe,e)},boe=ue("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${le(n.color)}`]]}})(({ownerState:t,theme:e})=>O({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&to(IS||(IS=ev`
      animation: ${0} 1.4s linear infinite;
    `),Eoe)),Toe=ue("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),Soe=ue("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${le(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>O({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&to(bS||(bS=ev`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Coe)),Roe=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,f=he(r,xoe),p=O({},r,{color:s,disableShrink:o,size:a,thickness:c,value:u,variant:d}),m=Ioe(p),y={},x={},g={};if(d==="determinate"){const w=2*Math.PI*((xo-c)/2);y.strokeDasharray=w.toFixed(3),g["aria-valuenow"]=Math.round(u),y.strokeDashoffset=`${((100-u)/100*w).toFixed(3)}px`,x.transform="rotate(-90deg)"}return h.jsx(boe,O({className:xe(m.root,i),style:O({width:a,height:a},x,l),ownerState:p,ref:n,role:"progressbar"},g,f,{children:h.jsx(Toe,{className:m.svg,ownerState:p,viewBox:`${xo/2} ${xo/2} ${xo} ${xo}`,children:h.jsx(Soe,{className:m.circle,style:y,ownerState:p,cx:xo,cy:xo,r:(xo-c)/2,fill:"none",strokeWidth:c})})}))}),Aoe=Roe;function TS(t){return t.substring(2).toLowerCase()}function koe(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function Poe(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:s="onTouchEnd"}=t,o=v.useRef(!1),a=v.useRef(null),l=v.useRef(!1),c=v.useRef(!1);v.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const u=kn(e.ref,a),d=mi(m=>{const y=c.current;c.current=!1;const x=mn(a.current);if(!l.current||!a.current||"clientX"in m&&koe(m,x))return;if(o.current){o.current=!1;return}let g;m.composedPath?g=m.composedPath().indexOf(a.current)>-1:g=!x.documentElement.contains(m.target)||a.current.contains(m.target),!g&&(n||!y)&&i(m)}),f=m=>y=>{c.current=!0;const x=e.props[m];x&&x(y)},p={ref:u};return s!==!1&&(p[s]=f(s)),v.useEffect(()=>{if(s!==!1){const m=TS(s),y=mn(a.current),x=()=>{o.current=!0};return y.addEventListener(m,d),y.addEventListener("touchmove",x),()=>{y.removeEventListener(m,d),y.removeEventListener("touchmove",x)}}},[d,s]),r!==!1&&(p[r]=f(r)),v.useEffect(()=>{if(r!==!1){const m=TS(r),y=mn(a.current);return y.addEventListener(m,d),()=>{y.removeEventListener(m,d)}}},[d,r]),h.jsx(v.Fragment,{children:v.cloneElement(e,p)})}function Noe(t){const e=mn(t);return e.body===t?Qr(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function xh(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function SS(t){return parseInt(Qr(t).getComputedStyle(t).paddingRight,10)||0}function Loe(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function RS(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!Loe(o);a&&l&&xh(o,i)})}function _y(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function Doe(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Noe(r)){const o=EL(mn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${SS(r)+o}px`;const a=mn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${SS(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=mn(r).body;else{const o=r.parentElement,a=Qr(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function Moe(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class Ooe{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&xh(e.modalRef,!1);const i=Moe(n);RS(n,e.mount,e.modalRef,i,!0);const s=_y(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=_y(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=Doe(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=_y(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&xh(e.modalRef,n),RS(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&xh(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const $oe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function joe(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Foe(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Voe(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Foe(t))}function Uoe(t){const e=[],n=[];return Array.from(t.querySelectorAll($oe)).forEach((r,i)=>{const s=joe(r);s===-1||!Voe(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function zoe(){return!0}function Boe(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=Uoe,isEnabled:o=zoe,open:a}=t,l=v.useRef(!1),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),f=v.useRef(null),p=v.useRef(!1),m=v.useRef(null),y=kn(e.ref,m),x=v.useRef(null);v.useEffect(()=>{!a||!m.current||(p.current=!n)},[n,a]),v.useEffect(()=>{if(!a||!m.current)return;const _=mn(m.current);return m.current.contains(_.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),v.useEffect(()=>{if(!a||!m.current)return;const _=mn(m.current),E=S=>{x.current=S,!(r||!o()||S.key!=="Tab")&&_.activeElement===m.current&&S.shiftKey&&(l.current=!0,u.current&&u.current.focus())},b=()=>{const S=m.current;if(S===null)return;if(!_.hasFocus()||!o()||l.current){l.current=!1;return}if(S.contains(_.activeElement)||r&&_.activeElement!==c.current&&_.activeElement!==u.current)return;if(_.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!p.current)return;let I=[];if((_.activeElement===c.current||_.activeElement===u.current)&&(I=s(m.current)),I.length>0){var T,R;const k=!!((T=x.current)!=null&&T.shiftKey&&((R=x.current)==null?void 0:R.key)==="Tab"),L=I[0],M=I[I.length-1];typeof L!="string"&&typeof M!="string"&&(k?M.focus():L.focus())}else S.focus()};_.addEventListener("focusin",b),_.addEventListener("keydown",E,!0);const C=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&b()},50);return()=>{clearInterval(C),_.removeEventListener("focusin",b),_.removeEventListener("keydown",E,!0)}},[n,r,i,o,a,s]);const g=_=>{d.current===null&&(d.current=_.relatedTarget),p.current=!0,f.current=_.target;const E=e.props.onFocus;E&&E(_)},w=_=>{d.current===null&&(d.current=_.relatedTarget),p.current=!0};return h.jsxs(v.Fragment,{children:[h.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:c,"data-testid":"sentinelStart"}),v.cloneElement(e,{ref:y,onFocus:g}),h.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:u,"data-testid":"sentinelEnd"})]})}function Woe(t){return typeof t=="function"?t():t}function Hoe(t){return t?t.props.hasOwnProperty("in"):!1}const qoe=new Ooe;function Goe(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=qoe,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=t,f=v.useRef({}),p=v.useRef(null),m=v.useRef(null),y=kn(m,d),[x,g]=v.useState(!u),w=Hoe(l);let _=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(_=!1);const E=()=>mn(p.current),b=()=>(f.current.modalRef=m.current,f.current.mount=p.current,f.current),C=()=>{i.mount(b(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},S=mi(()=>{const P=Woe(e)||E().body;i.add(b(),P),m.current&&C()}),I=v.useCallback(()=>i.isTopModal(b()),[i]),T=mi(P=>{p.current=P,P&&(u&&I()?C():m.current&&xh(m.current,_))}),R=v.useCallback(()=>{i.remove(b(),_)},[_,i]);v.useEffect(()=>()=>{R()},[R]),v.useEffect(()=>{u?S():(!w||!s)&&R()},[u,R,w,s,S]);const k=P=>A=>{var D;(D=P.onKeyDown)==null||D.call(P,A),!(A.key!=="Escape"||A.which===229||!I())&&(n||(A.stopPropagation(),c&&c(A,"escapeKeyDown")))},L=P=>A=>{var D;(D=P.onClick)==null||D.call(P,A),A.target===A.currentTarget&&c&&c(A,"backdropClick")};return{getRootProps:(P={})=>{const A=_2(t);delete A.onTransitionEnter,delete A.onTransitionExited;const D=O({},A,P);return O({role:"presentation"},D,{onKeyDown:k(D),ref:y})},getBackdropProps:(P={})=>{const A=P;return O({"aria-hidden":!0},A,{onClick:L(A),open:u})},getTransitionProps:()=>{const P=()=>{g(!1),o&&o()},A=()=>{g(!0),a&&a(),s&&R()};return{onEnter:X4(P,l==null?void 0:l.props.onEnter),onExited:X4(A,l==null?void 0:l.props.onExited)}},rootRef:y,portalRef:T,isTopModal:I,exited:x,hasTransition:w}}function Koe(t){return rt("MuiModal",t)}Ke("MuiModal",["root","hidden","backdrop"]);const Qoe=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Yoe=t=>{const{open:e,exited:n,classes:r}=t;return st({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},Koe,r)},Xoe=ue("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>O({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),Joe=ue(WL,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),Zoe=v.forwardRef(function(e,n){var r,i,s,o,a,l;const c=it({name:"MuiModal",props:e}),{BackdropComponent:u=Joe,BackdropProps:d,className:f,closeAfterTransition:p=!1,children:m,container:y,component:x,components:g={},componentsProps:w={},disableAutoFocus:_=!1,disableEnforceFocus:E=!1,disableEscapeKeyDown:b=!1,disablePortal:C=!1,disableRestoreFocus:S=!1,disableScrollLock:I=!1,hideBackdrop:T=!1,keepMounted:R=!1,onBackdropClick:k,open:L,slotProps:M,slots:N}=c,$=he(c,Qoe),P=O({},c,{closeAfterTransition:p,disableAutoFocus:_,disableEnforceFocus:E,disableEscapeKeyDown:b,disablePortal:C,disableRestoreFocus:S,disableScrollLock:I,hideBackdrop:T,keepMounted:R}),{getRootProps:A,getBackdropProps:D,getTransitionProps:j,portalRef:F,isTopModal:q,exited:W,hasTransition:B}=Goe(O({},P,{rootRef:n})),U=O({},P,{exited:W}),V=Yoe(U),G={};if(m.props.tabIndex===void 0&&(G.tabIndex="-1"),B){const{onEnter:ve,onExited:Te}=j();G.onEnter=ve,G.onExited=Te}const oe=(r=(i=N==null?void 0:N.root)!=null?i:g.Root)!=null?r:Xoe,ce=(s=(o=N==null?void 0:N.backdrop)!=null?o:g.Backdrop)!=null?s:u,te=(a=M==null?void 0:M.root)!=null?a:w.root,me=(l=M==null?void 0:M.backdrop)!=null?l:w.backdrop,de=Ll({elementType:oe,externalSlotProps:te,externalForwardedProps:$,getSlotProps:A,additionalProps:{ref:n,as:x},ownerState:U,className:xe(f,te==null?void 0:te.className,V==null?void 0:V.root,!U.open&&U.exited&&(V==null?void 0:V.hidden))}),ae=Ll({elementType:ce,externalSlotProps:me,additionalProps:d,getSlotProps:ve=>D(O({},ve,{onClick:Te=>{k&&k(Te),ve!=null&&ve.onClick&&ve.onClick(Te)}})),className:xe(me==null?void 0:me.className,d==null?void 0:d.className,V==null?void 0:V.backdrop),ownerState:U});return!R&&!L&&(!B||W)?null:h.jsx(Rse,{ref:F,container:y,disablePortal:C,children:h.jsxs(oe,O({},de,{children:[!T&&u?h.jsx(ce,O({},ae)):null,h.jsx(Boe,{disableEnforceFocus:E,disableAutoFocus:_,disableRestoreFocus:S,isEnabled:q,open:L,children:v.cloneElement(m,G)})]}))})}),aC=Zoe;function eae(t){return rt("MuiDialog",t)}const tae=Ke("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),wy=tae,nae=v.createContext({}),qL=nae,rae=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],iae=ue(WL,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),sae=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=t,o={root:["root"],container:["container",`scroll${le(n)}`],paper:["paper",`paperScroll${le(n)}`,`paperWidth${le(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return st(o,eae,e)},oae=ue(aC,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),aae=ue("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${le(n.scroll)}`]]}})(({ownerState:t})=>O({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),lae=ue(ed,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${le(n.scroll)}`],e[`paperWidth${le(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>O({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${wy.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${wy.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${wy.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),cae=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiDialog"}),i=Ia(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:f=!1,fullScreen:p=!1,fullWidth:m=!1,maxWidth:y="sm",onBackdropClick:x,onClick:g,onClose:w,open:_,PaperComponent:E=ed,PaperProps:b={},scroll:C="paper",TransitionComponent:S=BL,transitionDuration:I=s,TransitionProps:T}=r,R=he(r,rae),k=O({},r,{disableEscapeKeyDown:f,fullScreen:p,fullWidth:m,maxWidth:y,scroll:C}),L=sae(k),M=v.useRef(),N=D=>{M.current=D.target===D.currentTarget},$=D=>{g&&g(D),M.current&&(M.current=null,x&&x(D),w&&w(D,"backdropClick"))},P=W5(a),A=v.useMemo(()=>({titleId:P}),[P]);return h.jsx(oae,O({className:xe(L.root,d),closeAfterTransition:!0,components:{Backdrop:iae},componentsProps:{backdrop:O({transitionDuration:I,as:l},c)},disableEscapeKeyDown:f,onClose:w,open:_,ref:n,onClick:$,ownerState:k},R,{children:h.jsx(S,O({appear:!0,in:_,timeout:I,role:"presentation"},T,{children:h.jsx(aae,{className:xe(L.container),onMouseDown:N,ownerState:k,children:h.jsx(lae,O({as:E,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":P},b,{className:xe(L.paper,b.className),ownerState:k,children:h.jsx(qL.Provider,{value:A,children:u})}))})}))}))}),Cs=cae;function uae(t){return rt("MuiDialogTitle",t)}Ke("MuiDialogTitle",["root"]);const dae=["className","id"],hae=t=>{const{classes:e}=t;return st({root:["root"]},uae,e)},fae=ue(It,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),pae=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiDialogTitle"}),{className:i,id:s}=r,o=he(r,dae),a=r,l=hae(a),{titleId:c=s}=v.useContext(qL);return h.jsx(fae,O({component:"h2",className:xe(l.root,i),ownerState:a,ref:n,variant:"h6",id:s??c},o))}),mae=pae,gae=Ke("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),AS=gae,vae=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function yae(t,e,n){const r=e.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),s=Qr(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const c=s.getComputedStyle(e);o=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let a=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const c=o.split("(")[1].split(")")[0].split(",");a=parseInt(c[4],10),l=parseInt(c[5],10)}return t==="left"?i?`translateX(${i.right+a-r.left}px)`:`translateX(${s.innerWidth+a-r.left}px)`:t==="right"?i?`translateX(-${r.right-i.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:t==="up"?i?`translateY(${i.bottom+l-r.top}px)`:`translateY(${s.innerHeight+l-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function _ae(t){return typeof t=="function"?t():t}function hp(t,e,n){const r=_ae(n),i=yae(t,e,r);i&&(e.style.webkitTransform=i,e.style.transform=i)}const wae=v.forwardRef(function(e,n){const r=Ia(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:c,direction:u="down",easing:d=i,in:f,onEnter:p,onEntered:m,onEntering:y,onExit:x,onExited:g,onExiting:w,style:_,timeout:E=s,TransitionComponent:b=eC}=e,C=he(e,vae),S=v.useRef(null),I=kn(l.ref,S,n),T=D=>j=>{D&&(j===void 0?D(S.current):D(S.current,j))},R=T((D,j)=>{hp(u,D,c),rC(D),p&&p(D,j)}),k=T((D,j)=>{const F=Dl({timeout:E,style:_,easing:d},{mode:"enter"});D.style.webkitTransition=r.transitions.create("-webkit-transform",O({},F)),D.style.transition=r.transitions.create("transform",O({},F)),D.style.webkitTransform="none",D.style.transform="none",y&&y(D,j)}),L=T(m),M=T(w),N=T(D=>{const j=Dl({timeout:E,style:_,easing:d},{mode:"exit"});D.style.webkitTransition=r.transitions.create("-webkit-transform",j),D.style.transition=r.transitions.create("transform",j),hp(u,D,c),x&&x(D)}),$=T(D=>{D.style.webkitTransition="",D.style.transition="",g&&g(D)}),P=D=>{o&&o(S.current,D)},A=v.useCallback(()=>{S.current&&hp(u,S.current,c)},[u,c]);return v.useEffect(()=>{if(f||u==="down"||u==="right")return;const D=B5(()=>{S.current&&hp(u,S.current,c)}),j=Qr(S.current);return j.addEventListener("resize",D),()=>{D.clear(),j.removeEventListener("resize",D)}},[u,f,c]),v.useEffect(()=>{f||A()},[f,A]),h.jsx(b,O({nodeRef:S,onEnter:R,onEntered:L,onEntering:k,onExit:N,onExited:$,onExiting:M,addEndListener:P,appear:a,in:f,timeout:E},C,{children:(D,j)=>v.cloneElement(l,O({ref:I,style:O({visibility:D==="exited"&&!f?"hidden":void 0},_,l.props.style)},j))}))}),GL=wae;function xae(t){return rt("MuiDrawer",t)}Ke("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Eae=["BackdropProps"],Cae=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],KL=(t,e)=>{const{ownerState:n}=t;return[e.root,(n.variant==="permanent"||n.variant==="persistent")&&e.docked,e.modal]},Iae=t=>{const{classes:e,anchor:n,variant:r}=t,i={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${le(n)}`,r!=="temporary"&&`paperAnchorDocked${le(n)}`]};return st(i,xae,e)},bae=ue(aC,{name:"MuiDrawer",slot:"Root",overridesResolver:KL})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),kS=ue("div",{shouldForwardProp:jr,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:KL})({flex:"0 0 auto"}),Tae=ue(ed,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`paperAnchor${le(n.anchor)}`],n.variant!=="temporary"&&e[`paperAnchorDocked${le(n.anchor)}`]]}})(({theme:t,ownerState:e})=>O({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),QL={left:"right",right:"left",top:"down",bottom:"up"};function za(t){return["left","right"].indexOf(t)!==-1}function Yd({direction:t},e){return t==="rtl"&&za(e)?QL[e]:e}const Sae=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiDrawer"}),i=Ia(),s=q5(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:c,className:u,elevation:d=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:p}={},onClose:m,open:y=!1,PaperProps:x={},SlideProps:g,TransitionComponent:w=GL,transitionDuration:_=o,variant:E="temporary"}=r,b=he(r.ModalProps,Eae),C=he(r,Cae),S=v.useRef(!1);v.useEffect(()=>{S.current=!0},[]);const I=Yd({direction:s?"rtl":"ltr"},a),R=O({},r,{anchor:a,elevation:d,open:y,variant:E},C),k=Iae(R),L=h.jsx(Tae,O({elevation:E==="temporary"?d:0,square:!0},x,{className:xe(k.paper,x.className),ownerState:R,children:c}));if(E==="permanent")return h.jsx(kS,O({className:xe(k.root,k.docked,u),ownerState:R,ref:n},C,{children:L}));const M=h.jsx(w,O({in:y,direction:QL[I],timeout:_,appear:S.current},g,{children:L}));return E==="persistent"?h.jsx(kS,O({className:xe(k.root,k.docked,u),ownerState:R,ref:n},C,{children:M})):h.jsx(bae,O({BackdropProps:O({},l,p,{transitionDuration:_}),className:xe(k.root,k.modal,u),open:y,ownerState:R,onClose:m,hideBackdrop:f,ref:n},C,b,{children:M}))}),Rae=Sae,Aae=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],kae=t=>{const{classes:e,disableUnderline:n}=t,i=st({root:["root",!n&&"underline"],input:["input"]},Gse,e);return O({},e,i)},Pae=ue(J1,{shouldForwardProp:t=>jr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Y1(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return O({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${Aa.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${Aa.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Aa.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Aa.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Aa.disabled}, .${Aa.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Aa.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&O({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),Nae=ue(Z1,{name:"MuiFilledInput",slot:"Input",overridesResolver:X1})(({theme:t,ownerState:e})=>O({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),YL=v.forwardRef(function(e,n){var r,i,s,o;const a=it({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:f=!1,slotProps:p,slots:m={},type:y="text"}=a,x=he(a,Aae),g=O({},a,{fullWidth:u,inputComponent:d,multiline:f,type:y}),w=kae(a),_={root:{ownerState:g},input:{ownerState:g}},E=p??c?mr(_,p??c):_,b=(r=(i=m.root)!=null?i:l.Root)!=null?r:Pae,C=(s=(o=m.input)!=null?o:l.Input)!=null?s:Nae;return h.jsx(oC,O({slots:{root:b,input:C},componentsProps:E,fullWidth:u,inputComponent:d,multiline:f,ref:n,type:y},x,{classes:w}))});YL.muiName="Input";const XL=YL;function Lae(t){return rt("MuiFormControl",t)}Ke("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Dae=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Mae=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${le(n)}`,r&&"fullWidth"]};return st(i,Lae,e)},Oae=ue("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>O({},e.root,e[`margin${le(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>O({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),$ae=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:f=!1,margin:p="none",required:m=!1,size:y="medium",variant:x="outlined"}=r,g=he(r,Dae),w=O({},r,{color:o,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:f,margin:p,required:m,size:y,variant:x}),_=Mae(w),[E,b]=v.useState(()=>{let M=!1;return i&&v.Children.forEach(i,N=>{if(!my(N,["Input","Select"]))return;const $=my(N,["Select"])?N.props.input:N;$&&Ose($.props)&&(M=!0)}),M}),[C,S]=v.useState(()=>{let M=!1;return i&&v.Children.forEach(i,N=>{my(N,["Input","Select"])&&(E2(N.props,!0)||E2(N.props.inputProps,!0))&&(M=!0)}),M}),[I,T]=v.useState(!1);l&&I&&T(!1);const R=u!==void 0&&!l?u:I;let k;const L=v.useMemo(()=>({adornedStart:E,setAdornedStart:b,color:o,disabled:l,error:c,filled:C,focused:R,fullWidth:d,hiddenLabel:f,size:y,onBlur:()=>{T(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{T(!0)},registerEffect:k,required:m,variant:x}),[E,o,l,c,C,R,d,f,k,m,y,x]);return h.jsx(sC.Provider,{value:L,children:h.jsx(Oae,O({as:a,ownerState:w,className:xe(_.root,s),ref:n},g,{children:i}))})}),jae=$ae,Fae=cre({createStyledComponent:ue("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>it({props:t,name:"MuiStack"})}),Mr=Fae;function Vae(t){return rt("MuiFormHelperText",t)}const Uae=Ke("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),PS=Uae;var NS;const zae=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Bae=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,c={root:["root",i&&"disabled",s&&"error",r&&`size${le(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return st(c,Vae,e)},Wae=ue("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${le(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>O({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${PS.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${PS.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),Hae=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=he(r,zae),l=nd(),c=td({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=O({},r,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=Bae(u);return h.jsx(Wae,O({as:o,ownerState:u,className:xe(d.root,s),ref:n},a,{children:i===" "?NS||(NS=h.jsx("span",{className:"notranslate",children:"​"})):i}))}),qae=Hae;function Gae(t){return rt("MuiFormLabel",t)}const Kae=Ke("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Eh=Kae,Qae=["children","className","color","component","disabled","error","filled","focused","required"],Yae=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${le(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return st(l,Gae,e)},Xae=ue("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>O({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>O({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Eh.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Eh.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Eh.error}`]:{color:(t.vars||t).palette.error.main}})),Jae=ue("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Eh.error}`]:{color:(t.vars||t).palette.error.main}})),Zae=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=he(r,Qae),l=nd(),c=td({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=O({},r,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=Yae(u);return h.jsxs(Xae,O({as:o,ownerState:u,className:xe(d.root,s),ref:n},a,{children:[i,c.required&&h.jsxs(Jae,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),ele=Zae,tle=v.createContext(),LS=tle;function nle(t){return rt("MuiGrid",t)}const rle=[0,1,2,3,4,5,6,7,8,9,10],ile=["column-reverse","column","row-reverse","row"],sle=["nowrap","wrap-reverse","wrap"],Nd=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Sf=Ke("MuiGrid",["root","container","item","zeroMinWidth",...rle.map(t=>`spacing-xs-${t}`),...ile.map(t=>`direction-xs-${t}`),...sle.map(t=>`wrap-xs-${t}`),...Nd.map(t=>`grid-xs-${t}`),...Nd.map(t=>`grid-sm-${t}`),...Nd.map(t=>`grid-md-${t}`),...Nd.map(t=>`grid-lg-${t}`),...Nd.map(t=>`grid-xl-${t}`)]),ole=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Yc(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function ale({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=al({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const u=t.spacing(e.columnSpacing);if(u!=="0px"){const d=`calc(${l} + ${Yc(u)})`;c={flexBasis:d,maxWidth:d}}}s=O({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function lle({theme:t,ownerState:e}){const n=al({values:e.direction,breakpoints:t.breakpoints.values});return $r({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Sf.item}`]={maxWidth:"none"}),i})}function JL({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,s)=>t[i]-t[s]);return r.slice(0,r.indexOf(n))}function cle({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=al({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=JL({breakpoints:t.breakpoints.values,values:s})),i=$r({theme:t},s,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{marginTop:`-${Yc(u)}`,[`& > .${Sf.item}`]:{paddingTop:Yc(u)}}:(c=o)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${Sf.item}`]:{paddingTop:0}}})}return i}function ule({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=al({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=JL({breakpoints:t.breakpoints.values,values:s})),i=$r({theme:t},s,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{width:`calc(100% + ${Yc(u)})`,marginLeft:`-${Yc(u)}`,[`& > .${Sf.item}`]:{paddingLeft:Yc(u)}}:(c=o)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Sf.item}`]:{paddingLeft:0}}})}return i}function dle(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const hle=ue("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=dle(o,c,e));const d=[];return c.forEach(f=>{const p=n[f];p&&d.push(e[`grid-${f}-${String(p)}`])}),[e.root,r&&e.container,s&&e.item,l&&e.zeroMinWidth,...u,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:t})=>O({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),lle,cle,ule,ale);function fle(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const ple=t=>{const{classes:e,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:l}=t;let c=[];n&&(c=fle(s,l));const u=[];l.forEach(f=>{const p=t[f];p&&u.push(`grid-${f}-${String(p)}`)});const d={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...u]};return st(d,nle,e)},mle=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiGrid"}),{breakpoints:i}=Ia(),s=_0(r),{className:o,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:f=!1,rowSpacing:p,spacing:m=0,wrap:y="wrap",zeroMinWidth:x=!1}=s,g=he(s,ole),w=p||m,_=l||m,E=v.useContext(LS),b=u?a||12:E,C={},S=O({},g);i.keys.forEach(R=>{g[R]!=null&&(C[R]=g[R],delete S[R])});const I=O({},s,{columns:b,container:u,direction:d,item:f,rowSpacing:w,columnSpacing:_,wrap:y,zeroMinWidth:x,spacing:m},C,{breakpoints:i.keys}),T=ple(I);return h.jsx(LS.Provider,{value:b,children:h.jsx(hle,O({ownerState:I,className:xe(T.root,o),as:c,ref:n},S))})}),Ch=mle,gle=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function rx(t){return`scale(${t}, ${t**2})`}const vle={entering:{opacity:1,transform:rx(1)},entered:{opacity:1,transform:"none"}},xy=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),ZL=v.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:f,onExiting:p,style:m,timeout:y="auto",TransitionComponent:x=eC}=e,g=he(e,gle),w=H5(),_=v.useRef(),E=Ia(),b=v.useRef(null),C=kn(b,s.ref,n),S=$=>P=>{if($){const A=b.current;P===void 0?$(A):$(A,P)}},I=S(u),T=S(($,P)=>{rC($);const{duration:A,delay:D,easing:j}=Dl({style:m,timeout:y,easing:o},{mode:"enter"});let F;y==="auto"?(F=E.transitions.getAutoHeightDuration($.clientHeight),_.current=F):F=A,$.style.transition=[E.transitions.create("opacity",{duration:F,delay:D}),E.transitions.create("transform",{duration:xy?F:F*.666,delay:D,easing:j})].join(","),l&&l($,P)}),R=S(c),k=S(p),L=S($=>{const{duration:P,delay:A,easing:D}=Dl({style:m,timeout:y,easing:o},{mode:"exit"});let j;y==="auto"?(j=E.transitions.getAutoHeightDuration($.clientHeight),_.current=j):j=P,$.style.transition=[E.transitions.create("opacity",{duration:j,delay:A}),E.transitions.create("transform",{duration:xy?j:j*.666,delay:xy?A:A||j*.333,easing:D})].join(","),$.style.opacity=0,$.style.transform=rx(.75),d&&d($)}),M=S(f),N=$=>{y==="auto"&&w.start(_.current||0,$),r&&r(b.current,$)};return h.jsx(x,O({appear:i,in:a,nodeRef:b,onEnter:T,onEntered:R,onEntering:I,onExit:L,onExited:M,onExiting:k,addEndListener:N,timeout:y==="auto"?null:y},g,{children:($,P)=>v.cloneElement(s,O({style:O({opacity:0,transform:rx(.75),visibility:$==="exited"&&!a?"hidden":void 0},vle[$],m,s.props.style),ref:C},P))}))});ZL.muiSupportAuto=!0;const eD=ZL,yle=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],_le=t=>{const{classes:e,disableUnderline:n}=t,i=st({root:["root",!n&&"underline"],input:["input"]},Bse,e);return O({},e,i)},wle=ue(J1,{shouldForwardProp:t=>jr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Y1(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),O({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Pd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Pd.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Pd.disabled}, .${Pd.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Pd.disabled}:before`]:{borderBottomStyle:"dotted"}})}),xle=ue(Z1,{name:"MuiInput",slot:"Input",overridesResolver:X1})({}),tD=v.forwardRef(function(e,n){var r,i,s,o;const a=it({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:f="input",multiline:p=!1,slotProps:m,slots:y={},type:x="text"}=a,g=he(a,yle),w=_le(a),E={root:{ownerState:{disableUnderline:l}}},b=m??u?mr(m??u,E):E,C=(r=(i=y.root)!=null?i:c.Root)!=null?r:wle,S=(s=(o=y.input)!=null?o:c.Input)!=null?s:xle;return h.jsx(oC,O({slots:{root:C,input:S},slotProps:b,fullWidth:d,inputComponent:f,multiline:p,ref:n,type:x},g,{classes:w}))});tD.muiName="Input";const nD=tD;function Ele(t){return rt("MuiInputLabel",t)}Ke("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Cle=["disableAnimation","margin","shrink","variant","className"],Ile=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,l={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${le(r)}`,o],asterisk:[a&&"asterisk"]},c=st(l,Ele,e);return O({},e,c)},ble=ue(ele,{shouldForwardProp:t=>jr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Eh.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>O({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&O({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&O({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&O({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Tle=v.forwardRef(function(e,n){const r=it({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=he(r,Cle),l=nd();let c=s;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=td({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=O({},r,{disableAnimation:i,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),f=Ile(d);return h.jsx(ble,O({"data-shrink":c,ownerState:d,ref:n,className:xe(f.root,o)},a,{classes:f}))}),Sle=Tle;function Rle(t){return rt("MuiLinearProgress",t)}Ke("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Ale=["className","color","value","valueBuffer","variant"];let rd=t=>t,DS,MS,OS,$S,jS,FS;const ix=4,kle=Gi(DS||(DS=rd`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),Ple=Gi(MS||(MS=rd`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),Nle=Gi(OS||(OS=rd`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),Lle=t=>{const{classes:e,variant:n,color:r}=t,i={root:["root",`color${le(r)}`,n],dashed:["dashed",`dashedColor${le(r)}`],bar1:["bar",`barColor${le(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${le(r)}`,n==="buffer"&&`color${le(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return st(i,Rle,e)},lC=(t,e)=>e==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?PL(t.palette[e].main,.62):kL(t.palette[e].main,.5),Dle=ue("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${le(n.color)}`],e[n.variant]]}})(({ownerState:t,theme:e})=>O({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:lC(e,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),Mle=ue("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${le(n.color)}`]]}})(({ownerState:t,theme:e})=>{const n=lC(e,t.color);return O({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},to($S||($S=rd`
    animation: ${0} 3s infinite linear;
  `),Nle)),Ole=ue("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${le(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:t,theme:e})=>O({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${ix}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${ix}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&to(jS||(jS=rd`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),kle)),$le=ue("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${le(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:t,theme:e})=>O({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:lC(e,t.color),transition:`transform .${ix}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&to(FS||(FS=rd`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),Ple)),jle=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiLinearProgress"}),{className:i,color:s="primary",value:o,valueBuffer:a,variant:l="indeterminate"}=r,c=he(r,Ale),u=O({},r,{color:s,variant:l}),d=Lle(u),f=q5(),p={},m={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&o!==void 0){p["aria-valuenow"]=Math.round(o),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let y=o-100;f&&(y=-y),m.bar1.transform=`translateX(${y}%)`}if(l==="buffer"&&a!==void 0){let y=(a||0)-100;f&&(y=-y),m.bar2.transform=`translateX(${y}%)`}return h.jsxs(Dle,O({className:xe(d.root,i),ownerState:u,role:"progressbar"},p,{ref:n},c,{children:[l==="buffer"?h.jsx(Mle,{className:d.dashed,ownerState:u}):null,h.jsx(Ole,{className:d.bar1,ownerState:u,style:m.bar1}),l==="determinate"?null:h.jsx($le,{className:d.bar2,ownerState:u,style:m.bar2})]}))}),Fle=jle,Vle=v.createContext({}),sx=Vle;function Ule(t){return rt("MuiList",t)}Ke("MuiList",["root","padding","dense","subheader"]);const zle=["children","className","component","dense","disablePadding","subheader"],Ble=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return st({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},Ule,e)},Wle=ue("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>O({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),Hle=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=he(r,zle),d=v.useMemo(()=>({dense:a}),[a]),f=O({},r,{component:o,dense:a,disablePadding:l}),p=Ble(f);return h.jsx(sx.Provider,{value:d,children:h.jsxs(Wle,O({as:o,className:xe(p.root,s),ref:n,ownerState:f},u,{children:[c,i]}))})}),qle=Hle,Gle=Ke("MuiListItemIcon",["root","alignItemsFlexStart"]),VS=Gle,Kle=Ke("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),US=Kle,Qle=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Ey(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function zS(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function rD(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Ld(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!rD(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const Yle=v.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,f=he(e,Qle),p=v.useRef(null),m=v.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ys(()=>{i&&p.current.focus()},[i]),v.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(_,{direction:E})=>{const b=!p.current.style.width;if(_.clientHeight<p.current.clientHeight&&b){const C=`${EL(mn(_))}px`;p.current.style[E==="rtl"?"paddingLeft":"paddingRight"]=C,p.current.style.width=`calc(100% + ${C})`}return p.current}}),[]);const y=_=>{const E=p.current,b=_.key,C=mn(E).activeElement;if(b==="ArrowDown")_.preventDefault(),Ld(E,C,c,l,Ey);else if(b==="ArrowUp")_.preventDefault(),Ld(E,C,c,l,zS);else if(b==="Home")_.preventDefault(),Ld(E,null,c,l,Ey);else if(b==="End")_.preventDefault(),Ld(E,null,c,l,zS);else if(b.length===1){const S=m.current,I=b.toLowerCase(),T=performance.now();S.keys.length>0&&(T-S.lastTime>500?(S.keys=[],S.repeating=!0,S.previousKeyMatched=!0):S.repeating&&I!==S.keys[0]&&(S.repeating=!1)),S.lastTime=T,S.keys.push(I);const R=C&&!S.repeating&&rD(C,S);S.previousKeyMatched&&(R||Ld(E,C,!1,l,Ey,S))?_.preventDefault():S.previousKeyMatched=!1}u&&u(_)},x=kn(p,n);let g=-1;v.Children.forEach(o,(_,E)=>{if(!v.isValidElement(_)){g===E&&(g+=1,g>=o.length&&(g=-1));return}_.props.disabled||(d==="selectedMenu"&&_.props.selected||g===-1)&&(g=E),g===E&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(g+=1,g>=o.length&&(g=-1))});const w=v.Children.map(o,(_,E)=>{if(E===g){const b={};return s&&(b.autoFocus=!0),_.props.tabIndex===void 0&&d==="selectedMenu"&&(b.tabIndex=0),v.cloneElement(_,b)}return _});return h.jsx(qle,O({role:"menu",ref:x,className:a,onKeyDown:y,tabIndex:i?0:-1},f,{children:w}))}),Xle=Yle;function Jle(t){return rt("MuiPopover",t)}Ke("MuiPopover",["root","paper"]);const Zle=["onEntering"],ece=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],tce=["slotProps"];function BS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function WS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function HS(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Cy(t){return typeof t=="function"?t():t}const nce=t=>{const{classes:e}=t;return st({root:["root"],paper:["paper"]},Jle,e)},rce=ue(aC,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),iD=ue(ed,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),ice=v.forwardRef(function(e,n){var r,i,s;const o=it({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:f,className:p,container:m,elevation:y=8,marginThreshold:x=16,open:g,PaperProps:w={},slots:_,slotProps:E,transformOrigin:b={vertical:"top",horizontal:"left"},TransitionComponent:C=eD,transitionDuration:S="auto",TransitionProps:{onEntering:I}={},disableScrollLock:T=!1}=o,R=he(o.TransitionProps,Zle),k=he(o,ece),L=(r=E==null?void 0:E.paper)!=null?r:w,M=v.useRef(),N=kn(M,L.ref),$=O({},o,{anchorOrigin:c,anchorReference:d,elevation:y,marginThreshold:x,externalPaperSlotProps:L,transformOrigin:b,TransitionComponent:C,transitionDuration:S,TransitionProps:R}),P=nce($),A=v.useCallback(()=>{if(d==="anchorPosition")return u;const ve=Cy(l),Ie=(ve&&ve.nodeType===1?ve:mn(M.current).body).getBoundingClientRect();return{top:Ie.top+BS(Ie,c.vertical),left:Ie.left+WS(Ie,c.horizontal)}},[l,c.horizontal,c.vertical,u,d]),D=v.useCallback(ve=>({vertical:BS(ve,b.vertical),horizontal:WS(ve,b.horizontal)}),[b.horizontal,b.vertical]),j=v.useCallback(ve=>{const Te={width:ve.offsetWidth,height:ve.offsetHeight},Ie=D(Te);if(d==="none")return{top:null,left:null,transformOrigin:HS(Ie)};const vt=A();let $e=vt.top-Ie.vertical,Ve=vt.left-Ie.horizontal;const ut=$e+Te.height,dt=Ve+Te.width,Ne=Qr(Cy(l)),At=Ne.innerHeight-x,We=Ne.innerWidth-x;if(x!==null&&$e<x){const be=$e-x;$e-=be,Ie.vertical+=be}else if(x!==null&&ut>At){const be=ut-At;$e-=be,Ie.vertical+=be}if(x!==null&&Ve<x){const be=Ve-x;Ve-=be,Ie.horizontal+=be}else if(dt>We){const be=dt-We;Ve-=be,Ie.horizontal+=be}return{top:`${Math.round($e)}px`,left:`${Math.round(Ve)}px`,transformOrigin:HS(Ie)}},[l,d,A,D,x]),[F,q]=v.useState(g),W=v.useCallback(()=>{const ve=M.current;if(!ve)return;const Te=j(ve);Te.top!==null&&(ve.style.top=Te.top),Te.left!==null&&(ve.style.left=Te.left),ve.style.transformOrigin=Te.transformOrigin,q(!0)},[j]);v.useEffect(()=>(T&&window.addEventListener("scroll",W),()=>window.removeEventListener("scroll",W)),[l,T,W]);const B=(ve,Te)=>{I&&I(ve,Te),W()},U=()=>{q(!1)};v.useEffect(()=>{g&&W()}),v.useImperativeHandle(a,()=>g?{updatePosition:()=>{W()}}:null,[g,W]),v.useEffect(()=>{if(!g)return;const ve=B5(()=>{W()}),Te=Qr(l);return Te.addEventListener("resize",ve),()=>{ve.clear(),Te.removeEventListener("resize",ve)}},[l,g,W]);let V=S;S==="auto"&&!C.muiSupportAuto&&(V=void 0);const G=m||(l?mn(Cy(l)).body:void 0),oe=(i=_==null?void 0:_.root)!=null?i:rce,ce=(s=_==null?void 0:_.paper)!=null?s:iD,te=Ll({elementType:ce,externalSlotProps:O({},L,{style:F?L.style:O({},L.style,{opacity:0})}),additionalProps:{elevation:y,ref:N},ownerState:$,className:xe(P.paper,L==null?void 0:L.className)}),me=Ll({elementType:oe,externalSlotProps:(E==null?void 0:E.root)||{},externalForwardedProps:k,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:G,open:g},ownerState:$,className:xe(P.root,p)}),{slotProps:de}=me,ae=he(me,tce);return h.jsx(oe,O({},ae,!y2(oe)&&{slotProps:de,disableScrollLock:T},{children:h.jsx(C,O({appear:!0,in:g,onEntering:B,onExited:U,timeout:V},R,{children:h.jsx(ce,O({},te,{children:f}))}))}))}),sce=ice;function oce(t){return rt("MuiMenu",t)}Ke("MuiMenu",["root","paper","list"]);const ace=["onEntering"],lce=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],cce={vertical:"top",horizontal:"right"},uce={vertical:"top",horizontal:"left"},dce=t=>{const{classes:e}=t;return st({root:["root"],paper:["paper"],list:["list"]},oce,e)},hce=ue(sce,{shouldForwardProp:t=>jr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),fce=ue(iD,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),pce=ue(Xle,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),mce=v.forwardRef(function(e,n){var r,i;const s=it({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:f,PaperProps:p={},PopoverClasses:m,transitionDuration:y="auto",TransitionProps:{onEntering:x}={},variant:g="selectedMenu",slots:w={},slotProps:_={}}=s,E=he(s.TransitionProps,ace),b=he(s,lce),C=q5(),S=O({},s,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:u,onEntering:x,PaperProps:p,transitionDuration:y,TransitionProps:E,variant:g}),I=dce(S),T=o&&!c&&f,R=v.useRef(null),k=(D,j)=>{R.current&&R.current.adjustStyleForScrollbar(D,{direction:C?"rtl":"ltr"}),x&&x(D,j)},L=D=>{D.key==="Tab"&&(D.preventDefault(),d&&d(D,"tabKeyDown"))};let M=-1;v.Children.map(a,(D,j)=>{v.isValidElement(D)&&(D.props.disabled||(g==="selectedMenu"&&D.props.selected||M===-1)&&(M=j))});const N=(r=w.paper)!=null?r:fce,$=(i=_.paper)!=null?i:p,P=Ll({elementType:w.root,externalSlotProps:_.root,ownerState:S,className:[I.root,l]}),A=Ll({elementType:N,externalSlotProps:$,ownerState:S,className:I.paper});return h.jsx(hce,O({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?cce:uce,slots:{paper:N,root:w.root},slotProps:{root:P,paper:A},open:f,ref:n,transitionDuration:y,TransitionProps:O({onEntering:k},E),ownerState:S},b,{classes:m,children:h.jsx(pce,O({onKeyDown:L,actions:R,autoFocus:o&&(M===-1||c),autoFocusItem:T,variant:g},u,{className:xe(I.list,u.className),children:a}))}))}),gce=mce;function vce(t){return rt("MuiMenuItem",t)}const yce=Ke("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Dd=yce,_ce=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],wce=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},xce=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,l=st({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},vce,o);return O({},o,l)},Ece=ue(iC,{shouldForwardProp:t=>jr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:wce})(({theme:t,ownerState:e})=>O({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Dd.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:gi(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Dd.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:gi(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Dd.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:gi(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:gi(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Dd.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Dd.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${AS.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${AS.inset}`]:{marginLeft:52},[`& .${US.root}`]:{marginTop:0,marginBottom:0},[`& .${US.inset}`]:{paddingLeft:36},[`& .${VS.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&O({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${VS.root} svg`]:{fontSize:"1.25rem"}}))),Cce=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:f}=r,p=he(r,_ce),m=v.useContext(sx),y=v.useMemo(()=>({dense:o||m.dense||!1,disableGutters:l}),[m.dense,o,l]),x=v.useRef(null);ys(()=>{i&&x.current&&x.current.focus()},[i]);const g=O({},r,{dense:y.dense,divider:a,disableGutters:l}),w=xce(r),_=kn(x,n);let E;return r.disabled||(E=d!==void 0?d:-1),h.jsx(sx.Provider,{value:y,children:h.jsx(Ece,O({ref:_,role:u,tabIndex:E,component:s,focusVisibleClassName:xe(w.focusVisible,c),className:xe(w.root,f)},p,{ownerState:g,classes:w}))})}),Ice=Cce;function bce(t){return rt("MuiNativeSelect",t)}const Tce=Ke("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),cC=Tce,Sce=["className","disabled","error","IconComponent","inputRef","variant"],Rce=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${le(n)}`,s&&"iconOpen",r&&"disabled"]};return st(a,bce,e)},sD=({ownerState:t,theme:e})=>O({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":O({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${cC.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),Ace=ue("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:jr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${cC.multiple}`]:e.multiple}]}})(sD),oD=({ownerState:t,theme:e})=>O({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${cC.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),kce=ue("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${le(n.variant)}`],n.open&&e.iconOpen]}})(oD),Pce=v.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=e,c=he(e,Sce),u=O({},e,{disabled:i,variant:l,error:s}),d=Rce(u);return h.jsxs(v.Fragment,{children:[h.jsx(Ace,O({ownerState:u,className:xe(d.select,r),disabled:i,ref:a||n},c)),e.multiple?null:h.jsx(kce,{as:o,ownerState:u,className:d.icon})]})}),Nce=Pce;function Lce(t){const{children:e,defer:n=!1,fallback:r=null}=t,[i,s]=v.useState(!1);return ys(()=>{n||s(!0)},[n]),v.useEffect(()=>{n&&s(!0)},[n]),h.jsx(v.Fragment,{children:i?e:r})}var qS;const Dce=["children","classes","className","label","notched"],Mce=ue("fieldset",{shouldForwardProp:jr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Oce=ue("legend",{shouldForwardProp:jr})(({ownerState:t,theme:e})=>O({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&O({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function $ce(t){const{className:e,label:n,notched:r}=t,i=he(t,Dce),s=n!=null&&n!=="",o=O({},t,{notched:r,withLabel:s});return h.jsx(Mce,O({"aria-hidden":!0,className:e,ownerState:o},i,{children:h.jsx(Oce,{ownerState:o,children:s?h.jsx("span",{children:n}):qS||(qS=h.jsx("span",{className:"notranslate",children:"​"}))})}))}const jce=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Fce=t=>{const{classes:e}=t,r=st({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Hse,e);return O({},e,r)},Vce=ue(J1,{shouldForwardProp:t=>jr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Y1})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return O({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${wo.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${wo.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${wo.focused} .${wo.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${wo.error} .${wo.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${wo.disabled} .${wo.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&O({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),Uce=ue($ce,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),zce=ue(Z1,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:X1})(({theme:t,ownerState:e})=>O({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),aD=v.forwardRef(function(e,n){var r,i,s,o,a;const l=it({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:f,multiline:p=!1,notched:m,slots:y={},type:x="text"}=l,g=he(l,jce),w=Fce(l),_=nd(),E=td({props:l,muiFormControl:_,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),b=O({},l,{color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:_,fullWidth:u,hiddenLabel:E.hiddenLabel,multiline:p,size:E.size,type:x}),C=(r=(i=y.root)!=null?i:c.Root)!=null?r:Vce,S=(s=(o=y.input)!=null?o:c.Input)!=null?s:zce;return h.jsx(oC,O({slots:{root:C,input:S},renderSuffix:I=>h.jsx(Uce,{ownerState:b,className:w.notchedOutline,label:f!=null&&f!==""&&E.required?a||(a=h.jsxs(v.Fragment,{children:[f," ","*"]})):f,notched:typeof m<"u"?m:!!(I.startAdornment||I.filled||I.focused)}),fullWidth:u,inputComponent:d,multiline:p,ref:n,type:x},g,{classes:O({},w,{notchedOutline:null})}))});aD.muiName="Input";const lD=aD;function Bce(t){return rt("MuiSelect",t)}const Wce=Ke("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Md=Wce;var GS;const Hce=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],qce=ue("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Md.select}`]:e.select},{[`&.${Md.select}`]:e[n.variant]},{[`&.${Md.error}`]:e.error},{[`&.${Md.multiple}`]:e.multiple}]}})(sD,{[`&.${Md.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Gce=ue("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${le(n.variant)}`],n.open&&e.iconOpen]}})(oD),Kce=ue("input",{shouldForwardProp:t=>jL(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function KS(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Qce(t){return t==null||typeof t=="string"&&!t.trim()}const Yce=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${le(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return st(a,Bce,e)},Xce=v.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:f,displayEmpty:p,error:m=!1,IconComponent:y,inputRef:x,labelId:g,MenuProps:w={},multiple:_,name:E,onBlur:b,onChange:C,onClose:S,onFocus:I,onOpen:T,open:R,readOnly:k,renderValue:L,SelectDisplayProps:M={},tabIndex:N,value:$,variant:P="standard"}=e,A=he(e,Hce),[D,j]=eS({controlled:$,default:d,name:"Select"}),[F,q]=eS({controlled:R,default:u,name:"Select"}),W=v.useRef(null),B=v.useRef(null),[U,V]=v.useState(null),{current:G}=v.useRef(R!=null),[oe,ce]=v.useState(),te=kn(n,x),me=v.useCallback(se=>{B.current=se,se&&V(se)},[]),de=U==null?void 0:U.parentNode;v.useImperativeHandle(te,()=>({focus:()=>{B.current.focus()},node:W.current,value:D}),[D]),v.useEffect(()=>{u&&F&&U&&!G&&(ce(a?null:de.clientWidth),B.current.focus())},[U,a]),v.useEffect(()=>{o&&B.current.focus()},[o]),v.useEffect(()=>{if(!g)return;const se=mn(B.current).getElementById(g);if(se){const Ae=()=>{getSelection().isCollapsed&&B.current.focus()};return se.addEventListener("click",Ae),()=>{se.removeEventListener("click",Ae)}}},[g]);const ae=(se,Ae)=>{se?T&&T(Ae):S&&S(Ae),G||(ce(a?null:de.clientWidth),q(se))},ve=se=>{se.button===0&&(se.preventDefault(),B.current.focus(),ae(!0,se))},Te=se=>{ae(!1,se)},Ie=v.Children.toArray(l),vt=se=>{const Ae=Ie.find(at=>at.props.value===se.target.value);Ae!==void 0&&(j(Ae.props.value),C&&C(se,Ae))},$e=se=>Ae=>{let at;if(Ae.currentTarget.hasAttribute("tabindex")){if(_){at=Array.isArray(D)?D.slice():[];const wr=D.indexOf(se.props.value);wr===-1?at.push(se.props.value):at.splice(wr,1)}else at=se.props.value;if(se.props.onClick&&se.props.onClick(Ae),D!==at&&(j(at),C)){const wr=Ae.nativeEvent||Ae,ho=new wr.constructor(wr.type,wr);Object.defineProperty(ho,"target",{writable:!0,value:{value:at,name:E}}),C(ho,se)}_||ae(!1,Ae)}},Ve=se=>{k||[" ","ArrowUp","ArrowDown","Enter"].indexOf(se.key)!==-1&&(se.preventDefault(),ae(!0,se))},ut=U!==null&&F,dt=se=>{!ut&&b&&(Object.defineProperty(se,"target",{writable:!0,value:{value:D,name:E}}),b(se))};delete A["aria-invalid"];let Ne,At;const We=[];let be=!1;(E2({value:D})||p)&&(L?Ne=L(D):be=!0);const kt=Ie.map(se=>{if(!v.isValidElement(se))return null;let Ae;if(_){if(!Array.isArray(D))throw new Error(eo(2));Ae=D.some(at=>KS(at,se.props.value)),Ae&&be&&We.push(se.props.children)}else Ae=KS(D,se.props.value),Ae&&be&&(At=se.props.children);return v.cloneElement(se,{"aria-selected":Ae?"true":"false",onClick:$e(se),onKeyUp:at=>{at.key===" "&&at.preventDefault(),se.props.onKeyUp&&se.props.onKeyUp(at)},role:"option",selected:Ae,value:void 0,"data-value":se.props.value})});be&&(_?We.length===0?Ne=null:Ne=We.reduce((se,Ae,at)=>(se.push(Ae),at<We.length-1&&se.push(", "),se),[]):Ne=At);let ln=oe;!a&&G&&U&&(ln=de.clientWidth);let Wn;typeof N<"u"?Wn=N:Wn=f?null:0;const Le=M.id||(E?`mui-component-select-${E}`:void 0),ye=O({},e,{variant:P,value:D,open:ut,error:m}),ne=Yce(ye),Qe=O({},w.PaperProps,(r=w.slotProps)==null?void 0:r.paper),Ue=W5();return h.jsxs(v.Fragment,{children:[h.jsx(qce,O({ref:me,tabIndex:Wn,role:"combobox","aria-controls":Ue,"aria-disabled":f?"true":void 0,"aria-expanded":ut?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[g,Le].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Ve,onMouseDown:f||k?null:ve,onBlur:dt,onFocus:I},M,{ownerState:ye,className:xe(M.className,ne.select,c),id:Le,children:Qce(Ne)?GS||(GS=h.jsx("span",{className:"notranslate",children:"​"})):Ne})),h.jsx(Kce,O({"aria-invalid":m,value:Array.isArray(D)?D.join(","):D,name:E,ref:W,"aria-hidden":!0,onChange:vt,tabIndex:-1,disabled:f,className:ne.nativeInput,autoFocus:o,ownerState:ye},A)),h.jsx(Gce,{as:y,className:ne.icon,ownerState:ye}),h.jsx(gce,O({id:`menu-${E||""}`,anchorEl:de,open:ut,onClose:Te,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:O({"aria-labelledby":g,role:"listbox","aria-multiselectable":_?"true":void 0,disableListWrap:!0,id:Ue},w.MenuListProps),slotProps:O({},w.slotProps,{paper:O({},Qe,{style:O({minWidth:ln},Qe!=null?Qe.style:null)})}),children:kt}))]})}),Jce=Xce,Zce=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],eue=["root"],tue=t=>{const{classes:e}=t;return e},uC={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>jr(t)&&t!=="variant",slot:"Root"},nue=ue(nD,uC)(""),rue=ue(lD,uC)(""),iue=ue(XL,uC)(""),cD=v.forwardRef(function(e,n){const r=it({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=Qse,id:d,input:f,inputProps:p,label:m,labelId:y,MenuProps:x,multiple:g=!1,native:w=!1,onClose:_,onOpen:E,open:b,renderValue:C,SelectDisplayProps:S,variant:I="outlined"}=r,T=he(r,Zce),R=w?Nce:Jce,k=nd(),L=td({props:r,muiFormControl:k,states:["variant","error"]}),M=L.variant||I,N=O({},r,{variant:M,classes:o}),$=tue(N),P=he($,eue),A=f||{standard:h.jsx(nue,{ownerState:N}),outlined:h.jsx(rue,{label:m,ownerState:N}),filled:h.jsx(iue,{ownerState:N})}[M],D=kn(n,A.ref);return h.jsx(v.Fragment,{children:v.cloneElement(A,O({inputComponent:R,inputProps:O({children:s,error:L.error,IconComponent:u,variant:M,type:void 0,multiple:g},w?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:y,MenuProps:x,onClose:_,onOpen:E,open:b,renderValue:C,SelectDisplayProps:O({id:d},S)},p,{classes:p?mr(P,p.classes):P},f?f.props.inputProps:{})},(g&&w||c)&&M==="outlined"?{notched:!0}:{},{ref:D,className:xe(A.props.className,a,$.root)},!f&&{variant:M},T))})});cD.muiName="Select";const uD=cD;function sue(t){return rt("MuiSkeleton",t)}Ke("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const oue=["animation","className","component","height","style","variant","width"];let C2=t=>t,QS,YS,XS,JS;const aue=t=>{const{classes:e,variant:n,animation:r,hasChildren:i,width:s,height:o}=t;return st({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!o&&"heightAuto"]},sue,e)},lue=Gi(QS||(QS=C2`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),cue=Gi(YS||(YS=C2`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),uue=ue("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.animation!==!1&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})(({theme:t,ownerState:e})=>{const n=Qre(t.shape.borderRadius)||"px",r=Yre(t.shape.borderRadius);return O({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:Rne(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em"},e.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},e.variant==="circular"&&{borderRadius:"50%"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.hasChildren&&{"& > *":{visibility:"hidden"}},e.hasChildren&&!e.width&&{maxWidth:"fit-content"},e.hasChildren&&!e.height&&{height:"auto"})},({ownerState:t})=>t.animation==="pulse"&&to(XS||(XS=C2`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),lue),({ownerState:t,theme:e})=>t.animation==="wave"&&to(JS||(JS=C2`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),cue,(e.vars||e).palette.action.hover)),due=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:o="span",height:a,style:l,variant:c="text",width:u}=r,d=he(r,oue),f=O({},r,{animation:i,component:o,variant:c,hasChildren:!!d.children}),p=aue(f);return h.jsx(uue,O({as:o,ref:n,className:xe(p.root,s),ownerState:f},d,{style:O({width:u,height:a},l)}))}),pe=due;function hue(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:s}=t,o=H5();v.useEffect(()=>{if(!i)return;function g(w){w.defaultPrevented||(w.key==="Escape"||w.key==="Esc")&&(r==null||r(w,"escapeKeyDown"))}return document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[i,r]);const a=mi((g,w)=>{r==null||r(g,w)}),l=mi(g=>{!r||g==null||o.start(g,()=>{a(null,"timeout")})});v.useEffect(()=>(i&&l(e),o.clear),[i,e,l,o]);const c=g=>{r==null||r(g,"clickaway")},u=o.clear,d=v.useCallback(()=>{e!=null&&l(s??e*.5)},[e,s,l]),f=g=>w=>{const _=g.onBlur;_==null||_(w),d()},p=g=>w=>{const _=g.onFocus;_==null||_(w),u()},m=g=>w=>{const _=g.onMouseEnter;_==null||_(w),u()},y=g=>w=>{const _=g.onMouseLeave;_==null||_(w),d()};return v.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",d),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",u)}},[n,i,d,u]),{getRootProps:(g={})=>{const w=O({},_2(t),_2(g));return O({role:"presentation"},g,w,{onBlur:f(w),onFocus:p(w),onMouseEnter:m(w),onMouseLeave:y(w)})},onClickAway:c}}function fue(t){return rt("MuiSnackbarContent",t)}Ke("MuiSnackbarContent",["root","message","action"]);const pue=["action","className","message","role"],mue=t=>{const{classes:e}=t;return st({root:["root"],action:["action"],message:["message"]},fue,e)},gue=ue(ed,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,n=fre(t.palette.background.default,e);return O({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),vue=ue("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),yue=ue("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),_ue=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiSnackbarContent"}),{action:i,className:s,message:o,role:a="alert"}=r,l=he(r,pue),c=r,u=mue(c);return h.jsxs(gue,O({role:a,square:!0,elevation:6,className:xe(u.root,s),ownerState:c,ref:n},l,{children:[h.jsx(vue,{className:u.message,ownerState:c,children:o}),i?h.jsx(yue,{className:u.action,ownerState:c,children:i}):null]}))}),wue=_ue;function xue(t){return rt("MuiSnackbar",t)}Ke("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Eue=["onEnter","onExited"],Cue=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Iue=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${le(n.vertical)}${le(n.horizontal)}`]};return st(r,xue,e)},ZS=ue("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${le(n.anchorOrigin.vertical)}${le(n.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return O({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:O({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&n,e.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},e.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),bue=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiSnackbar"}),i=Ia(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:d,ClickAwayListenerProps:f,ContentProps:p,disableWindowBlurListener:m=!1,message:y,open:x,TransitionComponent:g=eD,transitionDuration:w=s,TransitionProps:{onEnter:_,onExited:E}={}}=r,b=he(r.TransitionProps,Eue),C=he(r,Cue),S=O({},r,{anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:c,disableWindowBlurListener:m,TransitionComponent:g,transitionDuration:w}),I=Iue(S),{getRootProps:T,onClickAway:R}=hue(O({},S)),[k,L]=v.useState(!0),M=Ll({elementType:ZS,getSlotProps:T,externalForwardedProps:C,ownerState:S,additionalProps:{ref:n},className:[I.root,d]}),N=P=>{L(!0),E&&E(P)},$=(P,A)=>{L(!1),_&&_(P,A)};return!x&&k?null:h.jsx(Poe,O({onClickAway:R},f,{children:h.jsx(ZS,O({},M,{children:h.jsx(g,O({appear:!0,in:x,timeout:w,direction:a==="top"?"down":"up",onEnter:$,onExited:N},b,{children:u||h.jsx(wue,O({message:y,action:o},p))}))}))}))}),Tue=bue,Sue=["anchor","classes","className","width","style"],Rue=ue("div",{shouldForwardProp:jr})(({theme:t,ownerState:e})=>O({position:"fixed",top:0,left:0,bottom:0,zIndex:t.zIndex.drawer-1},e.anchor==="left"&&{right:"auto"},e.anchor==="right"&&{left:"auto",right:0},e.anchor==="top"&&{bottom:"auto",right:0},e.anchor==="bottom"&&{top:"auto",bottom:0,right:0})),Aue=v.forwardRef(function(e,n){const{anchor:r,classes:i={},className:s,width:o,style:a}=e,l=he(e,Sue),c=e;return h.jsx(Rue,O({className:xe("PrivateSwipeArea-root",i.root,i[`anchor${le(r)}`],s),ref:n,style:O({[za(r)?"width":"height"]:o},a),ownerState:c},l))}),kue=Aue,Pue=["BackdropProps"],Nue=["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","allowSwipeInChildren","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"],fp=3,Iy=20;let bs=null;function by(t,e,n){return t==="right"?n.body.offsetWidth-e[0].pageX:e[0].pageX}function Ty(t,e,n){return t==="bottom"?n.innerHeight-e[0].clientY:e[0].clientY}function Od(t,e){return t?e.clientWidth:e.clientHeight}function eR(t,e,n,r){return Math.min(Math.max(n?e-t:r+e-t,0),r)}function Lue(t,e){const n=[];for(;t&&t!==e.parentElement;){const r=Qr(e).getComputedStyle(t);r.getPropertyValue("position")==="absolute"||r.getPropertyValue("overflow-x")==="hidden"||(t.clientWidth>0&&t.scrollWidth>t.clientWidth||t.clientHeight>0&&t.scrollHeight>t.clientHeight)&&n.push(t),t=t.parentElement}return n}function Due({domTreeShapes:t,start:e,current:n,anchor:r}){const i={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return t.some(s=>{let o=n>=e;(r==="top"||r==="left")&&(o=!o);const a=r==="left"||r==="right"?"x":"y",l=Math.round(s[i.scrollPosition[a]]),c=l>0,u=l+s[i.clientLength[a]]<s[i.scrollLength[a]];return!!(o&&u||!o&&c)})}const Mue=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),Oue=v.forwardRef(function(e,n){const r=it({name:"MuiSwipeableDrawer",props:e}),i=Ia(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:o="left",disableBackdropTransition:a=!1,disableDiscovery:l=!1,disableSwipeToOpen:c=Mue,hideBackdrop:u,hysteresis:d=.52,allowSwipeInChildren:f=!1,minFlingVelocity:p=450,ModalProps:{BackdropProps:m}={},onClose:y,onOpen:x,open:g=!1,PaperProps:w={},SwipeAreaProps:_,swipeAreaWidth:E=20,transitionDuration:b=s,variant:C="temporary"}=r,S=he(r.ModalProps,Pue),I=he(r,Nue),[T,R]=v.useState(!1),k=v.useRef({isSwiping:null}),L=v.useRef(),M=v.useRef(),N=v.useRef(),$=kn(w.ref,N),P=v.useRef(!1),A=v.useRef();ys(()=>{A.current=null},[g]);const D=v.useCallback((B,U={})=>{const{mode:V=null,changeTransition:G=!0}=U,oe=Yd(i,o),ce=["right","bottom"].indexOf(oe)!==-1?1:-1,te=za(o),me=te?`translate(${ce*B}px, 0)`:`translate(0, ${ce*B}px)`,de=N.current.style;de.webkitTransform=me,de.transform=me;let ae="";if(V&&(ae=i.transitions.create("all",Dl({easing:void 0,style:void 0,timeout:b},{mode:V}))),G&&(de.webkitTransition=ae,de.transition=ae),!a&&!u){const ve=M.current.style;ve.opacity=1-B/Od(te,N.current),G&&(ve.webkitTransition=ae,ve.transition=ae)}},[o,a,u,i,b]),j=mi(B=>{if(!P.current)return;if(bs=null,P.current=!1,Bh.flushSync(()=>{R(!1)}),!k.current.isSwiping){k.current.isSwiping=null;return}k.current.isSwiping=null;const U=Yd(i,o),V=za(o);let G;V?G=by(U,B.changedTouches,mn(B.currentTarget)):G=Ty(U,B.changedTouches,Qr(B.currentTarget));const oe=V?k.current.startX:k.current.startY,ce=Od(V,N.current),te=eR(G,oe,g,ce),me=te/ce;if(Math.abs(k.current.velocity)>p&&(A.current=Math.abs((ce-te)/k.current.velocity)*1e3),g){k.current.velocity>p||me>d?y():D(0,{mode:"exit"});return}k.current.velocity<-p||1-me>d?x():D(Od(V,N.current),{mode:"enter"})}),F=(B=!1)=>{if(!T){(B||!(l&&f))&&Bh.flushSync(()=>{R(!0)});const U=za(o);!g&&N.current&&D(Od(U,N.current)+(l?15:-Iy),{changeTransition:!1}),k.current.velocity=0,k.current.lastTime=null,k.current.lastTranslate=null,k.current.paperHit=!1,P.current=!0}},q=mi(B=>{if(!N.current||!P.current||bs!==null&&bs!==k.current)return;F(!0);const U=Yd(i,o),V=za(o),G=by(U,B.touches,mn(B.currentTarget)),oe=Ty(U,B.touches,Qr(B.currentTarget));if(g&&N.current.contains(B.target)&&bs===null){const ae=Lue(B.target,N.current);if(Due({domTreeShapes:ae,start:V?k.current.startX:k.current.startY,current:V?G:oe,anchor:o})){bs=!0;return}bs=k.current}if(k.current.isSwiping==null){const ae=Math.abs(G-k.current.startX),ve=Math.abs(oe-k.current.startY),Te=V?ae>ve&&ae>fp:ve>ae&&ve>fp;if(Te&&B.cancelable&&B.preventDefault(),Te===!0||(V?ve>fp:ae>fp)){if(k.current.isSwiping=Te,!Te){j(B);return}k.current.startX=G,k.current.startY=oe,!l&&!g&&(V?k.current.startX-=Iy:k.current.startY-=Iy)}}if(!k.current.isSwiping)return;const ce=Od(V,N.current);let te=V?k.current.startX:k.current.startY;g&&!k.current.paperHit&&(te=Math.min(te,ce));const me=eR(V?G:oe,te,g,ce);if(g)if(k.current.paperHit)me===0&&(k.current.startX=G,k.current.startY=oe);else if(V?G<ce:oe<ce)k.current.paperHit=!0,k.current.startX=G,k.current.startY=oe;else return;k.current.lastTranslate===null&&(k.current.lastTranslate=me,k.current.lastTime=performance.now()+1);const de=(me-k.current.lastTranslate)/(performance.now()-k.current.lastTime)*1e3;k.current.velocity=k.current.velocity*.4+de*.6,k.current.lastTranslate=me,k.current.lastTime=performance.now(),B.cancelable&&B.preventDefault(),D(me)}),W=mi(B=>{if(B.defaultPrevented||B.defaultMuiPrevented||g&&(u||!M.current.contains(B.target))&&!N.current.contains(B.target))return;const U=Yd(i,o),V=za(o),G=by(U,B.touches,mn(B.currentTarget)),oe=Ty(U,B.touches,Qr(B.currentTarget));if(!g){var ce;if(c||!(B.target===L.current||(ce=N.current)!=null&&ce.contains(B.target)&&(typeof f=="function"?f(B,L.current,N.current):f)))return;if(V){if(G>E)return}else if(oe>E)return}B.defaultMuiPrevented=!0,bs=null,k.current.startX=G,k.current.startY=oe,F()});return v.useEffect(()=>{if(C==="temporary"){const B=mn(N.current);return B.addEventListener("touchstart",W),B.addEventListener("touchmove",q,{passive:!g}),B.addEventListener("touchend",j),()=>{B.removeEventListener("touchstart",W),B.removeEventListener("touchmove",q,{passive:!g}),B.removeEventListener("touchend",j)}}},[C,g,W,q,j]),v.useEffect(()=>()=>{bs===k.current&&(bs=null)},[]),v.useEffect(()=>{g||R(!1)},[g]),h.jsxs(v.Fragment,{children:[h.jsx(Rae,O({open:C==="temporary"&&T?!0:g,variant:C,ModalProps:O({BackdropProps:O({},m,{ref:M})},C==="temporary"&&{keepMounted:!0},S),hideBackdrop:u,PaperProps:O({},w,{style:O({pointerEvents:C==="temporary"&&!g&&!f?"none":""},w.style),ref:$}),anchor:o,transitionDuration:A.current||b,onClose:y,ref:n},I)),!c&&C==="temporary"&&h.jsx(Lce,{children:h.jsx(kue,O({anchor:o,ref:L,width:E},_))})]})}),dC=Oue;function $ue(t){return rt("MuiToolbar",t)}Ke("MuiToolbar",["root","gutters","regular","dense"]);const jue=["className","component","disableGutters","variant"],Fue=t=>{const{classes:e,disableGutters:n,variant:r}=t;return st({root:["root",!n&&"gutters",r]},$ue,e)},Vue=ue("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>O({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),Uue=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:a="regular"}=r,l=he(r,jue),c=O({},r,{component:s,disableGutters:o,variant:a}),u=Fue(c);return h.jsx(Vue,O({as:s,className:xe(u.root,i),ref:n,ownerState:c},l))}),dD=Uue;function zue(t){return rt("MuiTextField",t)}Ke("MuiTextField",["root"]);const Bue=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Wue={standard:nD,filled:XL,outlined:lD},Hue=t=>{const{classes:e}=t;return st({root:["root"]},zue,e)},que=ue(jae,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Gue=v.forwardRef(function(e,n){const r=it({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:f,fullWidth:p=!1,helperText:m,id:y,InputLabelProps:x,inputProps:g,InputProps:w,inputRef:_,label:E,maxRows:b,minRows:C,multiline:S=!1,name:I,onBlur:T,onChange:R,onFocus:k,placeholder:L,required:M=!1,rows:N,select:$=!1,SelectProps:P,type:A,value:D,variant:j="outlined"}=r,F=he(r,Bue),q=O({},r,{autoFocus:s,color:l,disabled:u,error:d,fullWidth:p,multiline:S,required:M,select:$,variant:j}),W=Hue(q),B={};j==="outlined"&&(x&&typeof x.shrink<"u"&&(B.notched=x.shrink),B.label=E),$&&((!P||!P.native)&&(B.id=void 0),B["aria-describedby"]=void 0);const U=W5(y),V=m&&U?`${U}-helper-text`:void 0,G=E&&U?`${U}-label`:void 0,oe=Wue[j],ce=h.jsx(oe,O({"aria-describedby":V,autoComplete:i,autoFocus:s,defaultValue:c,fullWidth:p,multiline:S,name:I,rows:N,maxRows:b,minRows:C,type:A,value:D,id:U,inputRef:_,onBlur:T,onChange:R,onFocus:k,placeholder:L,inputProps:g},B,w));return h.jsxs(que,O({className:xe(W.root,a),disabled:u,error:d,fullWidth:p,ref:n,required:M,color:l,variant:j,ownerState:q},F,{children:[E!=null&&E!==""&&h.jsx(Sle,O({htmlFor:U,id:G},x,{children:E})),$?h.jsx(uD,O({"aria-describedby":V,id:U,labelId:G,value:D,input:ce},P,{children:o})):ce,m&&h.jsx(qae,O({id:V},f,{children:m}))]}))}),zr=Gue,_r=({isLoading:t,text:e})=>{if(v.useState(0),v.useContext(ee),t)return h.jsx("div",{className:"transition-all fixed z-30  top-0 right-0 left-0 bottom-0 flex  items-center justify-center bg-white",children:h.jsxs("div",{className:"flex flex-col items-center justify-center gap-y-4",children:[h.jsx("img",{className:"w-20 rounded-lg",src:"/images/sea-logo.jpg"}),h.jsxs("div",{className:"h-3 w-[200px] grid justify-center",children:[h.jsx("div",{className:"mb-3",children:e}),h.jsx(Fle,{})]})]})})},Nt=({text:t})=>h.jsx(Fe,{m:2,children:h.jsx("div",{children:t})}),hD=et(h.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"AddSharp"),Kue=et([h.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),h.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettingsSharp"),Que=et(h.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),id=et(h.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBackSharp"),Yue=et(h.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForwardSharp"),Xue=et(h.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H6l-2 2V4h16z"}),"ChatBubbleOutline"),Jue=et(h.jsx("path",{d:"M22 2H2.01L2 22l4-4h16zM6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"ChatSharp"),ox=et(h.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"CloseSharp"),fD=et(h.jsx("path",{d:"M22 18V2H6v16zm-11-6 2.03 2.71L16 11l4 5H8zM2 6v16h16v-2H4V6z"}),"CollectionsSharp"),Zue=et(h.jsx("path",{d:"M16 1H2v16h2V3h12zm5 4H6v18h15zm-2 16H8V7h11z"}),"ContentCopySharp"),x0=et(h.jsx("path",{d:"M6 21h12V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"DeleteSharp"),ede=et(h.jsx("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"}),"DoneSharp"),tde=et(h.jsx("path",{d:"M21.99 6.86 12 1 2 6.86V20h20zM12 13 3.74 7.84 12 3l8.26 4.84z"}),"DraftsSharp"),tv=et(h.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM21.41 6.34l-3.75-3.75-2.53 2.54 3.75 3.75z"}),"EditSharp"),nde=et(h.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMoreSharp"),rde=et(h.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite"),ide=et(h.jsx("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder"),sde=et(h.jsx("path",{d:"M16 1H2v16h2V3h12zm-1 4 6 6v12H6V5zm-1 7h5.5L14 6.5z"}),"FileCopySharp"),ode=et(h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"HelpSharp"),ade=et(h.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.25 2.52.77-1.29-3.52-2.09V8z"}),"HistorySharp"),hC=et(h.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"HomeSharp"),lde=et(h.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),cde=et(h.jsx("path",{d:"M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8zm9-4h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"}),"LinkSharp"),pD=et([h.jsx("path",{d:"M5 5h7V3H3v18h9v-2H5z"},"0"),h.jsx("path",{d:"m21 12-4-4v3H9v2h8v3z"},"1")],"LogoutSharp"),ude=et(h.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),mD=et(h.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVertSharp"),dde=et(h.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V2.5h-3v2.18C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"NotificationsSharp"),hde=et(h.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonSharp"),gD=et([h.jsx("path",{d:"M4 6H2v16h16v-2H4z"},"0"),h.jsx("path",{d:"M6 2v16h16V2zm7.51 8.16c.41-.73 1.18-1.16 1.63-1.8.48-.68.21-1.94-1.14-1.94-.88 0-1.32.67-1.5 1.23l-1.37-.57C11.51 5.96 12.52 5 13.99 5c1.23 0 2.08.56 2.51 1.26.37.6.58 1.73.01 2.57-.63.93-1.23 1.21-1.56 1.81-.13.24-.18.4-.18 1.18h-1.52c.01-.41-.06-1.08.26-1.66m-.56 3.79c0-.59.47-1.04 1.05-1.04.59 0 1.04.45 1.04 1.04 0 .58-.44 1.05-1.04 1.05-.58 0-1.05-.47-1.05-1.05"},"1")],"QuizSharp"),fde=et(h.jsx("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11"}),"ReplySharp"),pde=et(h.jsx("path",{d:"M17 3H3v18h18V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"SaveSharp"),mde=et(h.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),gde=et(h.jsx("path",{d:"m19.44 12.99-.01.02c.04-.33.08-.67.08-1.01s-.03-.66-.07-.99l.01.02 2.44-1.92-2.43-4.22-2.87 1.16.01.01c-.52-.4-1.09-.74-1.71-1h.01L14.44 2H9.57l-.44 3.07h.01c-.62.26-1.19.6-1.71 1l.01-.01-2.88-1.17-2.44 4.22 2.44 1.92.01-.02c-.04.33-.07.65-.07.99s.03.68.08 1.01l-.01-.02-2.1 1.65-.33.26 2.43 4.2 2.88-1.15-.02-.04c.53.41 1.1.75 1.73 1.01h-.03L9.58 22h4.85s.03-.18.06-.42l.38-2.65h-.01c.62-.26 1.2-.6 1.73-1.01l-.02.04 2.88 1.15 2.43-4.2s-.14-.12-.33-.26zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5"}),"SettingsSharp"),vde=et(h.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"}),"ShareSharp"),yde=et(h.jsx("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"UploadSharp"),vD=et(h.jsx("path",{d:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"VisibilitySharp"),_de=()=>{const{theme:t,userId:e}=v.useContext(ee),[n,r]=v.useState(!0),[i,s]=v.useState(!1),[o,a]=v.useState(null),[l,c]=v.useState(null),u=`${l==null?void 0:l.testName} - Results`,d=Math.round((l==null?void 0:l.score)/(l==null?void 0:l.totalScore)*100),f=xn(),{resultId:p}=Of();v.useEffect(()=>{(async()=>{try{r(!0);const x=Oe(_e(Ee,"users",e),"history"),g=_e(x,p),w=await la(g);w.exists()?(c(w.data()),wn(r,1200)):(wn(r),s(!0))}catch(x){wn(r),a("Error fetching current result: "+x.message),console.log("Error")}})()},[p]),v.useEffect(()=>(wi(),wi()),[]);const m=async()=>{try{await navigator.share({title:"Check out my score!",text:`I scored ${l.score} out of ${l.totalScore} in '${l.testName}'.
Website URL - https://seaacademy.onrender.com/tests/
        `})}catch{console.log("Error")}};return i?h.jsx(Nt,{text:"No result available"}):o?h.jsx(Nt,{text:o}):h.jsx("div",{className:"p-5 ",children:h.jsxs("div",{className:"",children:[h.jsxs("div",{className:"flex items-center gap-x-1 h-10 font-medium mb-4",children:[h.jsx(Rt,{onClick:()=>f("/app/history"),children:h.jsx(id,{})}),n?h.jsx(pe,{height:40,width:150}):h.jsx("div",{className:`text-lg pl-2 place-items-center bg-blue-40 ${t==="light"?"text-gray-500":"text-white"}`,children:u})]}),h.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[h.jsx("div",{children:h.jsx("div",{className:"grid items-center justify-center bg-blue-300/50 h-40 w-40 rounded-full",children:h.jsx("div",{className:"grid items-center justify-center bg-blue-400/50 h-32 w-32 rounded-full",children:h.jsx("div",{className:"grid items-center justify-center bg-blue-500/50 h-28 w-28 rounded-full",children:h.jsx("div",{className:`grid  h-20 w-20 items-center justify-center rounded-full ${t==="light"?"bg-slate-50":"bg-slate-600"}`,children:h.jsxs("div",{className:`flex flex-col items-center justify-center font-medium ${t==="light"?"text-blue-500":"text-white"}`,children:[h.jsx("div",{className:"text-sm font-bold",children:"Your Score"}),n?h.jsx(pe,{height:40,width:60}):h.jsxs("div",{className:" text-lg ",children:[l.score," / ",l.totalScore]})]})})})})})}),h.jsx("div",{className:`grid items-center justify-center font-bold
             text-lg ${t==="light"?"text-blue-700":"text-white"}`,children:n?h.jsx(pe,{height:40,width:60}):h.jsxs("div",{children:[" ",l.level]})})]}),n?h.jsx(pe,{width:"100%"}):h.jsxs("div",{className:"mt-1 mb-2 h-2 border flex ",children:[h.jsx("div",{className:`h-full ${t==="light"?"bg-lime-400":"bg-slate-500"}`,style:{width:`${d}%`}}),h.jsx("div",{className:"h-full bg-gray-200",style:{width:`${100-d}%`}})]}),n?h.jsx(pe,{height:200,width:"100%"}):h.jsxs("div",{className:`grid border shadow-lg grid-cols-2 gap-y-2 border p-2 rounded-lg ${t==="light"?"bg-white border-slate-200":"border-slate-500/70 text-white"}`,children:[h.jsx(ka,{text:"Score Percentage",value:`${d}%`,color:"text-lime-500"}),h.jsx(ka,{text:"Total Questions",value:l.totalScore,color:"text-lime-500"}),h.jsx(ka,{text:"Correct",value:l.score,color:"text-green-500"}),h.jsx(ka,{text:"Wrong",value:l.totalScore-l.score,color:"text-red-500"}),h.jsx(ka,{text:"Date",value:l.date,color:"text-lime-500"}),h.jsx(ka,{text:"Time",value:l.time,color:"text-lime-500"}),h.jsx(ka,{text:"Time taken",value:AZ(l.timeTaken)||"Unknown",color:"text-lime-500"})]}),h.jsxs("div",{className:`grid grid-cols-3 justify-center gap-y-2 mt-5 ${t==="light"?"":"text-white"}`,children:[h.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n?h.jsx(pe,{height:28,width:28}):h.jsx(Rt,{onClick:()=>f(`/app/history/${p}/reviews`),children:h.jsx(vD,{})}),n?h.jsx(pe,{width:60}):h.jsx("div",{className:"text-sm",children:"Review Answers"})]}),h.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n?h.jsx(pe,{height:28,width:28}):h.jsx(Rt,{onClick:m,children:h.jsx(vde,{})}),n?h.jsx(pe,{width:60}):h.jsx("div",{className:"text-sm",children:"Share Score"})]}),h.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n?h.jsx(pe,{height:28,width:28}):h.jsx(Rt,{onClick:()=>f("/app"),children:h.jsx(hC,{})}),n?h.jsx(pe,{width:60}):h.jsx("div",{className:"text-sm",children:"Home"})]})]})]})})},ka=({text:t,value:e,color:n})=>h.jsxs("div",{children:[h.jsxs("div",{className:`font-medium ${n}`,children:["● ",e]}),h.jsx("div",{className:"text-sm",children:t})]});function ba(t,e=15){const n=t==null?void 0:t.slice(0,e);return e>(t==null?void 0:t.length)?n:`${n}...`}const si=({image:t,name:e,size:n="size-10",fontSize:r="text-lg",className:i})=>{const s=t&&t.trim(),o=e&&e.trim(),a=s&&o,l=()=>{const c=e.trim().split(" ");return c.length<=3?c[0][0].toUpperCase():`${c[0][0]}${c[1][0]}`.toUpperCase()};if(s||a)return h.jsx("img",{alt:e,className:`${n} rounded-full object-cover ${i}`,src:t});if(o)return h.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:l()});if(!a)return h.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:"U"})},Su=({data:t})=>{const{clickFn:e,text:n,image:r}=t,i=rn(r),{theme:s}=v.useContext(ee),o=()=>{e&&e()};return h.jsxs("button",{onClick:o,className:`min-h-10 shadow-md hover:opacity-70 border  font-medium px-2 py-1 rounded-lg flex justify-center items-center gap-x-1 transition-all ${s==="light"?"bg-blue-200/60 border-gray-200":"bg-blue-200/60 text-white border-slate-500/70"}`,children:[r&&h.jsx("img",{className:" h-7",src:i}),n&&h.jsx("span",{children:n})]})},no=({data:t})=>{const{yesButton:e,noButton:n,text:r,setValue:i,value:s}=t;return v.useContext(ee),h.jsxs(Cs,{open:!!s,onClose:()=>i(!1),children:[h.jsx(mae,{children:r}),h.jsxs(Mr,{direction:"row",alignItems:"center",justifyContent:"center",gap:1,margin:2,children:[h.jsx(Pe,{onClick:e,children:"Yes"}),h.jsx(Pe,{onClick:n,children:"No"})]})]})},ms=({name:t,className:e,size:n="size-7"})=>h.jsx("img",{className:`${n} ${e}`,src:rn(t)}),wde=({data:t})=>{const{setIsMenuOpen:e}=t,[n,r]=v.useState(!1),[i,s]=v.useState(!1),{setUserId:o}=v.useContext(ee),a=v.useRef(null),l=xn(),{theme:c,userData:u}=v.useContext(ee),d=async()=>{try{await eP(Cr),e(!1),Tr.remove("userId"),o(null),l("/login")}catch(f){console.log(f.message)}};return s1(a,r),h.jsxs("div",{ref:a,className:"p-2 ",children:[h.jsx("div",{className:"top-0 right-0 left-0 bottom-0",children:h.jsx(no,{data:{value:i,yesButton:d,noButton:()=>{s(!1)},text:"Are you sure to log out ?",setValue:s}})}),h.jsx(Pe,{variant:n?"outlined":"text",size:"small",sx:{color:"black",textTransform:"capitalize",justifyContent:"start"},onClick:()=>r(!n),className:`transition-all p-1 flex items-center rounded-md cursor-pointer w-full min-h-14 ${c==="light"?`${n?"bg-slate-100 shadow-md border border-slate-200":"hover:bg-slate-200/70"}`:`${n?"bg-slate-500/70":"hover:bg-slate-500/70"}`}`,children:h.jsxs("div",{className:"flex gap-x-2 items-center mb-2",children:[h.jsx("div",{className:"relative size-10",children:h.jsx(si,{image:u==null?void 0:u.image,name:u==null?void 0:u.name})}),h.jsx("div",{className:"flex flex-1 items-center justify-between",children:h.jsx(It,{className:"font-bold",children:u!=null&&u.name?u.name:"Username"})})]})}),n&&h.jsx("div",{className:`absolute bottom-[70px] left-1 border w-4/6 sm:w-3/5 md:w-4/6  p-2 rounded-md ${c==="light"?"border-gray-200 bg-white ":"bg-slate-500 text-white border-slate-500 "}`,children:h.jsxs("div",{children:[h.jsx(Pe,{size:"small",sx:{width:"100%",color:"black"},onClick:()=>{l("/app/settings"),e(!1),r(!1)},startIcon:h.jsx(gde,{}),children:"Settings"}),h.jsx(Pe,{size:"small",sx:{width:"100%",color:"black"},onClick:()=>{s(!0)},startIcon:h.jsx(pD,{}),children:"Log out"})]})})]})},xde=({isMenuOpen:t,setIsMenuOpen:e})=>{const n=["/app/admin","/app/admin/posts","/app/admin/users","/app/admin/helps","/app/admin/tests"],{userData:r,newMessages:i,historyCount:s,setHistoryCount:o,notiCount:a,setNotiCount:l,userId:c}=v.useContext(ee),u=ju(),d=u.pathname.includes("/app/history"),f=n.includes(u.pathname),p=u.pathname==="/app/"||u.pathname==="/app",m=u.pathname.includes("/app/tests"),y=u.pathname.includes("/app/help"),x=u.pathname.includes("/app/notifications"),g=u.pathname.includes("/app/chatroom");v.useEffect(()=>{try{Bs(Oe(_e(Ee,"users",c),"history"),o),Bs(Oe(Ee,"notifications"),l)}catch(C){console.log(C.message)}},[]);const w=()=>{let C=0;return i.forEach(S=>{o1(i,S.id)||(C+=1)}),!!(C>0&&(r!=null&&r.name))},_=[{text:"Home",image:h.jsx(hC,{}),path:"/app",active:p},{text:"Tests",image:h.jsx(gD,{}),path:"/app/tests",active:m},{text:"History",image:h.jsx(ade,{}),path:"/app/history",items:s,active:d},{text:"Notifications",image:h.jsx(dde,{}),path:"/app/notifications",items:a,active:x},{text:"Chat Room",image:h.jsx(Jue,{}),path:"/app/chatroom",color:"bg-red-600",active:g},{text:"Admin",image:h.jsx(Kue,{}),path:"/app/admin",active:f},{text:"Help",image:h.jsx(ode,{}),path:"/app/help",active:y}],E=["Admin"],b=_.filter(C=>r!=null&&r.isAdmin?!0:!E.includes(C.text));return h.jsxs(dC,{variant:"temporary",transitionDuration:{enter:300,exit:300},anchor:"left",open:t,onOpen:()=>e(!0),onClose:()=>e(!1),sx:{"& .MuiDrawer-paper":{width:{xs:"300px",sm:"350px",md:"400px",lg:"450px",xl:"500px"}}},children:[h.jsx("div",{className:"flex p-2 items-center",children:h.jsxs("div",{className:"font-medium text-md flex-1 flex items-center",children:[h.jsx(Rt,{onClick:()=>e(!1),children:h.jsx(ox,{})}),h.jsx(It,{sx:{fontWeight:"bold"},children:"STAR EDUCATION ACADEMY"})]})}),h.jsxs(Mr,{sx:{flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[h.jsx(GL,{direction:"right",in:t,mountOnEnter:!0,unmountOnExit:!0,children:h.jsx("div",{className:"mr-2 ml-2",children:b.map(C=>h.jsx(Ede,{setIsMenuOpen:e,data:{active:C.active,image:C.image,path:C.path,text:C.text,items:C==null?void 0:C.items,color:C.color,isThereNewMessages:w}},C.text))})}),h.jsx(wde,{data:{setIsMenuOpen:e}})]})]})},Ede=({setIsMenuOpen:t,data:e})=>{const{active:n,image:r,text:i,items:s,path:o,color:a,isThereNewMessages:l}=e,c=xn(),{theme:u,currentTest:d}=v.useContext(ee);return h.jsxs(Pe,{sx:{color:n?"white":"",height:47,justifyContent:"start",textTransform:"capitalize"},variant:n?"contained":"text",onClick:()=>{c(o),t(!1)},className:`relative font-bold p-2 hover:shadow-md pl-2 transition-all font-medium rounded-tr-3xl rounded-br-3xl flex items-center gap-x-1 w-full  hover:shadow-md 
      ${u==="light"?` ${n?"bg-blue-500/70":"hover:bg-slate-200"}`:` ${n?"bg-blue-500/70":"hover:bg-slate-100"}`}
      `,startIcon:r,children:[h.jsx("div",{children:i}),s&&s>=0?h.jsx("div",{className:` flex items-center rounded-full justify-center pl-1 pr-1  min-h-6 min-w-6 text-sm top-0 -left-1 font-bold text-white ${a||"bg-black"}`,children:s}):"",d&&i==="Home"&&h.jsxs("div",{className:"text-sm",children:["(Taking ",ba(d.name,45),")"]}),i==="Chat Room"&&(l()?h.jsx("div",{className:"absolute right-2 top-3 shadow-sm bg-red-500 size-3 rounded-full"}):"")]})},Cde=()=>{const{headerTitle:t,newMessages:e,userData:n,userId:r}=v.useContext(ee),[i,s]=v.useState(!1);return h.jsx(zL,{position:"sticky",sx:{zIndex:"20"},children:h.jsx(dD,{sx:{padding:"5px",backgroundColor:"white"},children:h.jsxs(Ch,{container:!0,justifyContent:"space-between",children:[h.jsxs(Ch,{item:!0,display:"flex",alignItems:"center",children:[r&&h.jsxs(h.Fragment,{children:[h.jsxs(Rt,{sx:{position:"relative"},onClick:()=>s(!0),children:[h.jsx(ude,{}),kZ(e,n)?h.jsx("div",{className:"absolute left-2 top-2 shadow-sm bg-red-500 size-3 rounded-full"}):""]}),i&&h.jsx(xde,{setIsMenuOpen:s,isMenuOpen:i})]}),h.jsx(It,{sx:{fontWeight:"bold",color:"black"},children:t})]}),h.jsx(Ch,{item:!0,children:h.jsx("div",{className:"flex gap-x-2 items-center",children:h.jsx("img",{className:"size-12 rounded-full",src:"images/sea-logo.jpg"})})})]})})})},yD=({title:t,text:e})=>{const{userId:n,headerTitle:r,setHeaderTitle:i}=v.useContext(ee),s=xn();return v.useEffect(()=>(i("STAR EDUCATION ACADEMY"),()=>{document.title=r}),[]),h.jsxs("div",{className:"grid p-5 gap-y-2",children:[e&&h.jsx(It,{variant:"subtitle2",children:e}),h.jsx("div",{children:h.jsx(Pe,{onClick:()=>s(n?"/app":"/login"),startIcon:h.jsx("img",{className:"size-7",src:rn("redo")}),children:"Return Home"})})]})},kc=()=>h.jsx("div",{className:"h-0.5 border border-dashed border-gray-200 mb-2 mt-2"}),Ide=()=>{var b;const{theme:t,userId:e,setHeaderTitle:n}=v.useContext(ee),r=0,i=10,[s,o]=v.useState(i),[a,l]=v.useState({}),c=(b=a==null?void 0:a.results)==null?void 0:b.slice(r,s),u=`${a==null?void 0:a.testName} - Review your answers`,{resultId:d}=Of(),[f,p]=v.useState(!0),[m,y]=v.useState(!1),[x,g]=v.useState(null),w=async()=>{try{p(!0);const C=Oe(_e(Ee,"users",e),"history"),S=_e(C,d),I=await la(S);if(I.exists){const T={id:I.id,...I.data()};l(T),wn(p)}else y(!0),wn(p)}catch(C){g("Error fetching reviews: "+C.message),wn(p)}};v.useEffect(()=>{w()},[d]),v.useEffect(()=>(wi(),wi()),[]);const _=()=>{o(s+i)},E=()=>{var C;if(s>((C=a==null?void 0:a.results)==null?void 0:C.length))return!0};return v.useEffect(()=>{n(u)}),f?h.jsx(_r,{isLoading:f,text:"Loading reviews..."}):m?h.jsx(Nt,{text:"No reviews available"}):x?h.jsx(Nt,{text:x}):h.jsx("div",{className:"p-5",children:a?h.jsxs("div",{className:"grid gap-y-5",children:[h.jsx("div",{className:`font-medium text-lg ${t==="light"?"":"text-white"}`,children:u}),c==null?void 0:c.map(C=>{const{id:S,question:I,isTrue:T,answer:R,userAnswer:k}=C;return T?h.jsxs("div",{className:"grid font-padauk gap-y-2",children:[h.jsxs("div",{className:"flex gap-x-3 items-center",children:[h.jsx("div",{className:"bg-green-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:S}),h.jsx("div",{className:`flex-1 ${t==="light"?"":"text-white"}`,children:I})]}),h.jsx("div",{children:h.jsxs("div",{className:"grid gap-y-1",children:[h.jsx("div",{className:"text-green-500 font-bold",children:"Correct (your answer)"}),h.jsxs("div",{className:"min-h-12  flex gap-x-3 p-2 border text-green-500 border-green-500 rounded-lg items-center shadow-md shadow-lime-200",children:[h.jsx("img",{className:"w-5 h-5",src:rn("trueIcon")}),h.jsx("div",{children:R})]})]})}),h.jsx(kc,{})]},`result-${S}`):h.jsxs("div",{className:"grid font-padauk gap-y-2",children:[h.jsxs("div",{className:"flex gap-x-3 items-center",children:[h.jsx("div",{className:"bg-red-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:S}),h.jsx("div",{className:`flex-1 ${t==="light"?"":"text-white"}`,children:I})]}),h.jsxs("div",{className:"grid gap-y-1",children:[h.jsxs("div",{className:"grid gap-y-1",children:[h.jsx("div",{className:"text-red-500 font-bold",children:"Incorrect (your answer)"}),h.jsxs("div",{className:"min-h-12 flex gap-x-3 p-2 border text-red-500 border-red-500 rounded-lg items-center shadow-md shadow-red-200",children:[h.jsx("img",{className:"w-5 h-5",src:rn("falseIcon")}),h.jsx("div",{children:k})]})]}),h.jsxs("div",{className:"grid gap-y-1",children:[h.jsx("div",{className:"text-green-500 font-bold",children:"Correct"}),h.jsxs("div",{className:" min-h-12  flex gap-x-3 p-2 border text-green-500 shadow-md shadow-lime-200 border-green-500 rounded-lg items-center",children:[h.jsx("img",{className:"w-5 h-5",src:rn("trueIcon")}),h.jsx("div",{children:R})]})]})]}),h.jsx(kc,{})]},`result-${S}`)}),E()?"":h.jsx("div",{className:"flex justify-center",children:h.jsx(Pe,{size:"small",onClick:_,startIcon:h.jsx(nde,{}),children:"See More"})}),h.jsx("div",{children:h.jsx(iF,{to:`/app/history/${d}`,children:h.jsx(Pe,{size:"small",startIcon:h.jsx(id,{}),children:"Back to results"})})})]}):h.jsx(yD,{text:"Unavailable"})})},_D=()=>h.jsxs("div",{className:"grid gap-y-2  p-2 ",children:[h.jsx(pe,{variant:"text",width:150}),h.jsx(pe,{variant:"rectangular",height:55,width:"100%"})]}),tR=()=>{const{deleteFromHistory:t,theme:e,setHeaderTitle:n,userId:r,historyCount:i}=v.useContext(ee),s=xn(),[o,a]=v.useState([]),[l,c]=v.useState(null),[u,d]=v.useState(!1),[f,p]=v.useState(!1),[m,y]=v.useState(!1),[x,g]=v.useState([]),w=Oe(_e(Ee,"users",r),"history"),[_,E]=v.useState(!0),[b,C]=v.useState(!1),[S,I]=v.useState(null),[T,R]=v.useState(null),k=5,L=async()=>{E(!0);let A=gr(w,Xs(k));T&&(A=gr(A,Wg(T)));try{const D=await Ca(A);if(D.empty)C(!0);else{const j=D.docs.map(F=>({id:F.id,...F.data()}));a([...o,...j]),R(D.docs[D.docs.length-1]),wn(E)}}catch(D){const j="Error fetching history: "+D.message;console.log(j),E(!1),I(j)}};v.useEffect(()=>{L()},[]);const M=A=>{m||s(`/app/history/${A.id}`)},N=()=>{t(l),c(null),d(!1)},$=()=>{d(!1),c(null)},P=()=>{const A=o.filter(D=>!x.includes(D.id));a(A),g([]),p(!1),y(!1)};return d0("history-page"),h0("history-page"),v.useEffect(()=>{n("History")},[]),_?h.jsx(_r,{isLoading:_,text:"Loading history..."}):b?h.jsx(Nt,{text:"No posts available"}):S?h.jsx(Nt,{text:S}):h.jsxs("div",{className:"p-5",children:[h.jsx(no,{data:{value:f,setValue:p,text:`Are you sure to delete ${x.length} ${x.length<=1?"item":"items"} ?`,yesButton:P,noButton:()=>p(!1),setValue:p}}),h.jsx(no,{data:{value:u,text:"Are you sure to delete ?",yesButton:N,noButton:$,setValue:d}}),h.jsxs("div",{className:"grid border border-slate-200 rounded-md shadow-md ",children:[o.map((A,D)=>h.jsx(bde,{h:A,index:D,goToResults:M},`history-item-${A.id}`)),i>k&&o.length<i?h.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:h.jsx(Pe,{size:"small",onClick:L,children:"load more"})}):""]})]})},bde=({h:t,index:e,goToResults:n})=>{const{theme:r}=v.useContext(ee),[i,s]=v.useState(!0);return wn(s,2e3),i?h.jsx(_D,{}):h.jsxs(Fe,{onClick:()=>n(t,e),className:`min-h-20 p-2 border-t  cursor-pointer ${e===0&&"border-t-0"} gap-x-3 ${r==="light"?"border-slate-200 shadow-gray-200":"border-slate-500/70 text-white shadow-slate-500"}`,children:[h.jsx("div",{className:`font-medium  ${r==="light"?" ":"bg-slate-500/70"}`,children:t.testName}),h.jsx("div",{className:"p-2 flex items-center gap-x-2",children:h.jsx("div",{className:"flex flex-1 items-center gap-x-3",children:h.jsxs("div",{className:"flex-1 sm:flex items-center gap-x-3 ",children:[h.jsxs("div",{className:"",children:["Score: ",t.score," / ",t.results.length," "]}),h.jsxs("div",{className:" ",children:["Date: ",t.date," (",` ${t.time}`,")"]})]})})})]})},Tde=()=>{const[t,e]=v.useState(0),n=()=>{const r=window.innerHeight,i=document.documentElement.scrollHeight,s=window.scrollY,o=i-r,a=s/o*100;e(a)};return v.useEffect(()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}),[]),h.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-20",children:h.jsx("div",{style:{width:`${t}%`},className:"h-1 bg-blue-600"})})},Sde=()=>{const{users:t,theme:e,setHeaderTitle:n}=v.useContext(ee),[r,i]=v.useState(null),[s,o]=v.useState(null),[a,l]=v.useState(null),c=[{name:"Posts",image:h.jsx(hC,{}),path:"/app/admin/posts",counts:r},{name:"Tests",image:h.jsx(gD,{}),path:"/app/admin/tests",counts:s},{name:"Users",image:h.jsx(hde,{}),path:"/app/admin/users",counts:a}],[u,d]=v.useState(c);v.useEffect(()=>{(async()=>{await Bs(Oe(Ee,"posts"),i),await Bs(Oe(Ee,"tests"),o),await Bs(Oe(Ee,"users"),l)})()},[]);const f=xn();return v.useEffect(()=>{n("Admin")},[]),v.useEffect(()=>{d(c)},[r,s,a]),h.jsxs("div",{className:"m-5 grid rounded-md border border-slate-200 shadow-md  ",children:[h.jsx(_r,{}),u.map((p,m)=>h.jsxs(Fe,{onClick:()=>{f(p.path)},className:`${m===0&&"border-t-0"} border-t ${m===u.length-1&&"border-b-0"} transition-all  pt-5 pb-5 border-slate-200 overflow-hidden flex items-center gap-x-1 p-2 cursor-pointer hover:bg-slate-100`,children:[p.image,h.jsx("div",{children:p.name}),p.counts&&h.jsx("div",{className:" flex bg-black items-center rounded-full justify-center pl-1 pr-1  min-h-6 min-w-6 text-sm top-0 -left-1 font-bold text-white ",children:p.counts})]},p.name))]})},Rde=()=>{const e=new Date().getFullYear();return v.useContext(ee),h.jsxs(Mr,{className:" w-full shadow-t-md flex flex-col items-center p-1 bg-white border-t  mt-auto border-t-slate-200 ",rowGap:.5,children:[h.jsxs(It,{children:["SEA copyright 2015 - ",e]}),h.jsx(It,{children:"All rights reserved."}),h.jsx(It,{children:"Author: Than Aung Naing"})]})},Ade=()=>{const{setHeaderTitle:t,theme:e,setUserId:n,openSnackbar:r}=v.useContext(ee),[i,s]=v.useState(""),[o,a]=v.useState(""),[l,c]=v.useState(""),[u,d]=v.useState("login"),f=xn();v.useEffect(()=>{t("STAR EDUCATION ACADEMY")},[]);const p=()=>{f("/app")};Pl("auto");const m=async()=>{try{r("Signing in with Google...");const E=(await AB(Cr,bZ)).user,b=_e(Ee,"users",E.uid);(await la(b)).exists()||await uy(Cr.currentUser.displayName,Cr.currentUser.email,"",Cr.currentUser.photoURL,E.uid),Tr.set("userId",E.uid,{expires:365}),n(E.uid),p(),r(`Signed in as ${E.displayName} successfully`)}catch(_){r(_.message)}},y=async()=>{try{r("Logging in...");const E=(await rB(Cr,o,l)).user,b=_e(Ee,"users",E.uid);(await la(b)).exists()||await uy(E.displayName,E.email,"","",E.uid),Tr.set("userId",E.uid,{expires:365}),n(E.uid),p(),r("Logged in successfully")}catch(_){r(_.message)}},x=async()=>{try{r("Creating an account...");const _=await nB(Cr,o,l),{user:E}=_;Tr.set("userId",E.uid,{expires:365}),await uy(i,o,l,"",E.uid),n(E.uid),p(),r("Created an account successfully")}catch(_){r(_.message)}},g=()=>{const _=Tr.get("userId")||null;let E=!1;return _&&(E=!0),{loggedIn:E,userId:_}},w=()=>{switch(u){case"login":return h.jsx("div",{children:h.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[h.jsx(It,{variant:"h6",color:"primary",children:"Log In"}),h.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[h.jsx(zr,{name:"email",variant:"filled",color:"primary",label:"Enter your email",type:"email",size:"small",value:o,onChange:_=>a(_.target.value)}),h.jsx(zr,{name:"email",variant:"filled",color:"primary",label:"Enter your password",type:"password",size:"small",value:l,onChange:_=>c(_.target.value)}),h.jsx(Pe,{onClick:y,sx:{textTransform:"capitalize"},variant:"contained",color:"primary",children:"Log In"})]}),h.jsx(nR,{}),h.jsx("div",{children:h.jsx(Pe,{onClick:m,startIcon:h.jsx("img",{className:"size-7",src:rn("google")}),sx:{textTransform:"capitalize"},variant:"outlined",children:"Sign in With Google"})}),h.jsx(nR,{}),h.jsx("div",{children:h.jsx(Pe,{onClick:()=>d("signup"),sx:{textTransform:"capitalize"},variant:"outlined",children:"Create new Account"})})]})});case"signup":return h.jsx("div",{children:h.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[h.jsx(It,{variant:"h6",color:"primary",children:"Create a new account"}),h.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[h.jsx(zr,{variant:"filled",color:"primary",label:"Enter your name",type:"email",size:"small",value:i,onChange:_=>s(_.target.value)}),h.jsx(zr,{name:"email",variant:"filled",color:"primary",label:"Enter your email",type:"email",size:"small",value:o,onChange:_=>a(_.target.value)}),h.jsx(zr,{name:"email",variant:"filled",color:"primary",label:"Enter your password",type:"password",size:"small",value:l,onChange:_=>c(_.target.value)}),h.jsx(Pe,{onClick:()=>{x()},sx:{textTransform:"capitalize"},variant:"contained",color:"primary",children:"Sign up"}),h.jsx("div",{children:h.jsx(Pe,{startIcon:h.jsx("img",{className:"size-7",src:rn("back")}),onClick:()=>d("login"),sx:{textTransform:"capitalize"},variant:"outlined",color:"primary",children:"Log in"})})]})]})})}};return h.jsxs("div",{className:"Login mb-5",children:[h.jsx(_r,{}),g().loggedIn?h.jsx(kde,{userId:g().userId}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:`text-md rounded-md font-medium  p-1 pl-2 border-b  ${e==="light"?"text-lime-700 bg-lime-100/70 border-b-lime-300":" bg-slate-500/70 border-slate-500/70 text-white"}`,children:"You must log in first."}),w()]})]})},nR=()=>{const{theme:t}=v.useContext(ee);return h.jsx("div",{className:`mt-2 mb-2 ${t==="light"?"":"text-white"}`,children:"OR"})},kde=({userId:t})=>{const e=xn(),{userData:n}=v.useContext(ee);return h.jsxs(Mr,{m:2,children:[h.jsxs(It,{children:["You are already logged in as ",n==null?void 0:n.name,"."]}),h.jsx(Fe,{mt:1,children:h.jsx(Pe,{onClick:()=>e("/app/settings"),variant:"outlined",children:"Settings"})})]})};function Pde(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function wD(t,e){return new Promise(function(n,r){let i;return Nde(t).then(function(s){try{return i=s,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const Nde=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let o=0;if(s.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const a=s.getUint16(o);if(a===65498)break;const l=s.getUint16(o+2);if(a===65505&&s.getUint32(o+4)===1165519206){const c=o+10;let u;switch(s.getUint16(c)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(c+2,u)!==42)return n("TIFF header contains invalid version");const d=s.getUint32(c+4,u),f=c+d+2+12*s.getUint16(c+d,u);for(let p=c+d+2;p<f;p+=12)if(s.getUint16(p,u)==274){if(s.getUint16(p+2,u)!==3)return n("Orientation data type is invalid");if(s.getUint32(p+4,u)!==1)return n("Orientation data count is invalid");s.setUint16(p+8,1,u);break}return e(i.slice(o,o+2+l))}o+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var I2={},Lde={get exports(){return I2},set exports(t){I2=t}};(function(t){var e,n,r={};Lde.exports=r,r.parse=function(i,s){for(var o=r.bin.readUshort,a=r.bin.readUint,l=0,c={},u=new Uint8Array(i),d=u.length-4;a(u,d)!=101010256;)d--;l=d,l+=4;var f=o(u,l+=4);o(u,l+=2);var p=a(u,l+=2),m=a(u,l+=4);l+=4,l=m;for(var y=0;y<f;y++){a(u,l),l+=4,l+=4,l+=4,a(u,l+=4),p=a(u,l+=4);var x=a(u,l+=4),g=o(u,l+=4),w=o(u,l+2),_=o(u,l+4);l+=6;var E=a(u,l+=8);l+=4,l+=g+w+_,r._readLocal(u,E,c,p,x,s)}return c},r._readLocal=function(i,s,o,a,l,c){var u=r.bin.readUshort,d=r.bin.readUint;d(i,s),u(i,s+=4),u(i,s+=2);var f=u(i,s+=2);d(i,s+=2),d(i,s+=4),s+=4;var p=u(i,s+=8),m=u(i,s+=2);s+=2;var y=r.bin.readUTF8(i,s,p);if(s+=p,s+=m,c)o[y]={size:l,csize:a};else{var x=new Uint8Array(i.buffer,s);if(f==0)o[y]=new Uint8Array(x.buffer.slice(s,s+a));else{if(f!=8)throw"unknown compression method: "+f;var g=new Uint8Array(l);r.inflateRaw(x,g),o[y]=g}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[o]=120,a[o+1]=156,o+=2,o=r.F.deflateRaw(i,a,o,s.level);var l=r.adler(i,0,i.length);return a[o+0]=l>>>24&255,a[o+1]=l>>>16&255,a[o+2]=l>>>8&255,a[o+3]=l>>>0&255,new Uint8Array(a.buffer,0,o+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var o=new Uint8Array(50+Math.floor(1.1*i.length)),a=r.F.deflateRaw(i,o,a,s.level);return new Uint8Array(o.buffer,0,a)},r.encode=function(i,s){s==null&&(s=!1);var o=0,a=r.bin.writeUint,l=r.bin.writeUshort,c={};for(var u in i){var d=!r._noNeed(u)&&!s,f=i[u],p=r.crc.crc(f,0,f.length);c[u]={cpr:d,usize:f.length,crc:p,file:d?r.deflateRaw(f):f}}for(var u in c)o+=c[u].file.length+30+46+2*r.bin.sizeUTF8(u);o+=22;var m=new Uint8Array(o),y=0,x=[];for(var u in c){var g=c[u];x.push(y),y=r._writeHeader(m,y,u,g,0)}var w=0,_=y;for(var u in c)g=c[u],x.push(y),y=r._writeHeader(m,y,u,g,1,x[w++]);var E=y-_;return a(m,y,101010256),y+=4,l(m,y+=4,w),l(m,y+=2,w),a(m,y+=2,E),a(m,y+=4,_),y+=4,y+=2,m.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,o,a,l,c){var u=r.bin.writeUint,d=r.bin.writeUshort,f=a.file;return u(i,s,l==0?67324752:33639248),s+=4,l==1&&(s+=2),d(i,s,20),d(i,s+=2,0),d(i,s+=2,a.cpr?8:0),u(i,s+=2,0),u(i,s+=4,a.crc),u(i,s+=4,f.length),u(i,s+=4,a.usize),d(i,s+=4,r.bin.sizeUTF8(o)),d(i,s+=2,0),s+=2,l==1&&(s+=2,s+=2,u(i,s+=6,c),s+=4),s+=r.bin.writeUTF8(i,s,o),l==0&&(i.set(f,s),s+=f.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var o=s,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;i[s]=o}return i}(),update:function(i,s,o,a){for(var l=0;l<a;l++)i=r.crc.table[255&(i^s[o+l])]^i>>>8;return i},crc:function(i,s,o){return 4294967295^r.crc.update(4294967295,i,s,o)}},r.adler=function(i,s,o){for(var a=1,l=0,c=s,u=s+o;c<u;){for(var d=Math.min(c+5552,u);c<d;)l+=a+=i[c++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255,i[s+2]=o>>16&255,i[s+3]=o>>24&255},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},writeASCII:function(i,s,o){for(var a=0;a<o.length;a++)i[s+a]=o.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,o){for(var a,l="",c=0;c<o;c++)l+="%"+r.bin.pad(i[s+c].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(i,s,o)}return a},writeUTF8:function(i,s,o){for(var a=o.length,l=0,c=0;c<a;c++){var u=o.charCodeAt(c);if(!(4294967168&u))i[s+l]=u,l++;else if(!(4294965248&u))i[s+l]=192|u>>6,i[s+l+1]=128|u>>0&63,l+=2;else if(!(4294901760&u))i[s+l]=224|u>>12,i[s+l+1]=128|u>>6&63,i[s+l+2]=128|u>>0&63,l+=3;else{if(4292870144&u)throw"e";i[s+l]=240|u>>18,i[s+l+1]=128|u>>12&63,i[s+l+2]=128|u>>6&63,i[s+l+3]=128|u>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var s=i.length,o=0,a=0;a<s;a++){var l=i.charCodeAt(a);if(!(4294967168&l))o++;else if(!(4294965248&l))o+=2;else if(!(4294901760&l))o+=3;else{if(4292870144&l)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(i,s,o,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],c=r.F.U,u=r.F._goodIndex;r.F._hash;var d=r.F._putsE,f=0,p=o<<3,m=0,y=i.length;if(a==0){for(;f<y;)d(s,p,f+(k=Math.min(65535,y-f))==y?1:0),p=r.F._copyExact(i,f,k,s,p+8),f+=k;return p>>>3}var x=c.lits,g=c.strt,w=c.prev,_=0,E=0,b=0,C=0,S=0,I=0;for(y>2&&(g[I=r.F._hash(i,0)]=0),f=0;f<y;f++){if(S=I,f+1<y-2){I=r.F._hash(i,f+1);var T=f+1&32767;w[T]=g[I],g[I]=T}if(m<=f){(_>14e3||E>26697)&&y-f>100&&(m<f&&(x[_]=f-m,_+=2,m=f),p=r.F._writeBlock(f==y-1||m==y?1:0,x,_,C,i,b,f-b,s,p),_=E=C=0,b=f);var R=0;f<y-2&&(R=r.F._bestMatch(i,f,w,S,Math.min(l[2],y-f),l[3]));var k=R>>>16,L=65535&R;if(R!=0){L=65535&R;var M=u(k=R>>>16,c.of0);c.lhst[257+M]++;var N=u(L,c.df0);c.dhst[N]++,C+=c.exb[M]+c.dxb[N],x[_]=k<<23|f-m,x[_+1]=L<<16|M<<8|N,_+=2,m=f+k}else c.lhst[i[f]]++;E++}}for(b==f&&i.length!=0||(m<f&&(x[_]=f-m,_+=2,m=f),p=r.F._writeBlock(1,x,_,C,i,b,f-b,s,p),_=0,E=0,_=E=C=0,b=f);7&p;)p++;return p>>>3},r.F._bestMatch=function(i,s,o,a,l,c){var u=32767&s,d=o[u],f=u-d+32768&32767;if(d==u||a!=r.F._hash(i,s-f))return 0;for(var p=0,m=0,y=Math.min(32767,s);f<=y&&--c!=0&&d!=u;){if(p==0||i[s+p]==i[s+p-f]){var x=r.F._howLong(i,s,f);if(x>p){if(m=f,(p=x)>=l)break;f+2<x&&(x=f+2);for(var g=0,w=0;w<x-2;w++){var _=s-f+w+32768&32767,E=_-o[_]+32768&32767;E>g&&(g=E,d=_)}}}f+=(u=d)-(d=o[u])+32768&32767}return p<<16|m},r.F._howLong=function(i,s,o){if(i[s]!=i[s-o]||i[s+1]!=i[s+1-o]||i[s+2]!=i[s+2-o])return 0;var a=s,l=Math.min(i.length,s+258);for(s+=3;s<l&&i[s]==i[s-o];)s++;return s-a},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,o,a,l,c,u,d,f){var p,m,y,x,g,w,_,E,b,C=r.F.U,S=r.F._putsF,I=r.F._putsE;C.lhst[256]++,m=(p=r.F.getTrees())[0],y=p[1],x=p[2],g=p[3],w=p[4],_=p[5],E=p[6],b=p[7];var T=32+(f+3&7?8-(f+3&7):0)+(u<<3),R=a+r.F.contSize(C.fltree,C.lhst)+r.F.contSize(C.fdtree,C.dhst),k=a+r.F.contSize(C.ltree,C.lhst)+r.F.contSize(C.dtree,C.dhst);k+=14+3*_+r.F.contSize(C.itree,C.ihst)+(2*C.ihst[16]+3*C.ihst[17]+7*C.ihst[18]);for(var L=0;L<286;L++)C.lhst[L]=0;for(L=0;L<30;L++)C.dhst[L]=0;for(L=0;L<19;L++)C.ihst[L]=0;var M=T<R&&T<k?0:R<k?1:2;if(S(d,f,i),S(d,f+1,M),f+=3,M==0){for(;7&f;)f++;f=r.F._copyExact(l,c,u,d,f)}else{var N,$;if(M==1&&(N=C.fltree,$=C.fdtree),M==2){r.F.makeCodes(C.ltree,m),r.F.revCodes(C.ltree,m),r.F.makeCodes(C.dtree,y),r.F.revCodes(C.dtree,y),r.F.makeCodes(C.itree,x),r.F.revCodes(C.itree,x),N=C.ltree,$=C.dtree,I(d,f,g-257),I(d,f+=5,w-1),I(d,f+=5,_-4),f+=4;for(var P=0;P<_;P++)I(d,f+3*P,C.itree[1+(C.ordr[P]<<1)]);f+=3*_,f=r.F._codeTiny(E,C.itree,d,f),f=r.F._codeTiny(b,C.itree,d,f)}for(var A=c,D=0;D<o;D+=2){for(var j=s[D],F=j>>>23,q=A+(8388607&j);A<q;)f=r.F._writeLit(l[A++],N,d,f);if(F!=0){var W=s[D+1],B=W>>16,U=W>>8&255,V=255&W;I(d,f=r.F._writeLit(257+U,N,d,f),F-C.of0[U]),f+=C.exb[U],S(d,f=r.F._writeLit(V,$,d,f),B-C.df0[V]),f+=C.dxb[V],A+=F}}f=r.F._writeLit(256,N,d,f)}return f},r.F._copyExact=function(i,s,o,a,l){var c=l>>>3;return a[c]=o,a[c+1]=o>>>8,a[c+2]=255-a[c],a[c+3]=255-a[c+1],c+=4,a.set(new Uint8Array(i.buffer,s,o),c),l+(o+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),o=r.F._hufTree(i.dhst,i.dtree,15),a=[],l=r.F._lenCodes(i.ltree,a),c=[],u=r.F._lenCodes(i.dtree,c),d=0;d<a.length;d+=2)i.ihst[a[d]]++;for(d=0;d<c.length;d+=2)i.ihst[c[d]]++;for(var f=r.F._hufTree(i.ihst,i.itree,7),p=19;p>4&&i.itree[1+(i.ordr[p-1]<<1)]==0;)p--;return[s,o,f,l,u,p,a,c]},r.F.getSecond=function(i){for(var s=[],o=0;o<i.length;o+=2)s.push(i[o+1]);return s},r.F.nonZero=function(i){for(var s="",o=0;o<i.length;o+=2)i[o+1]!=0&&(s+=(o>>1)+",");return s},r.F.contSize=function(i,s){for(var o=0,a=0;a<s.length;a++)o+=s[a]*i[1+(a<<1)];return o},r.F._codeTiny=function(i,s,o,a){for(var l=0;l<i.length;l+=2){var c=i[l],u=i[l+1];a=r.F._writeLit(c,s,o,a);var d=c==16?2:c==17?3:7;c>15&&(r.F._putsE(o,a,u,d),a+=d)}return a},r.F._lenCodes=function(i,s){for(var o=i.length;o!=2&&i[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var l=i[a+1],c=a+3<o?i[a+3]:-1,u=a+5<o?i[a+5]:-1,d=a==0?-1:i[a-1];if(l==0&&c==l&&u==l){for(var f=a+5;f+2<o&&i[f+2]==l;)f+=2;(p=Math.min(f+1-a>>>1,138))<11?s.push(17,p-3):s.push(18,p-11),a+=2*p-2}else if(l==d&&c==l&&u==l){for(f=a+5;f+2<o&&i[f+2]==l;)f+=2;var p=Math.min(f+1-a>>>1,6);s.push(16,p-3),a+=2*p-2}else s.push(l,0)}return o>>>1},r.F._hufTree=function(i,s,o){var a=[],l=i.length,c=s.length,u=0;for(u=0;u<c;u+=2)s[u]=0,s[u+1]=0;for(u=0;u<l;u++)i[u]!=0&&a.push({lit:u,f:i[u]});var d=a.length,f=a.slice(0);if(d==0)return 0;if(d==1){var p=a[0].lit;return f=p==0?1:0,s[1+(p<<1)]=1,s[1+(f<<1)]=1,1}a.sort(function(E,b){return E.f-b.f});var m=a[0],y=a[1],x=0,g=1,w=2;for(a[0]={lit:-1,f:m.f+y.f,l:m,r:y,d:0};g!=d-1;)m=x!=g&&(w==d||a[x].f<a[w].f)?a[x++]:a[w++],y=x!=g&&(w==d||a[x].f<a[w].f)?a[x++]:a[w++],a[g++]={lit:-1,f:m.f+y.f,l:m,r:y};var _=r.F.setDepth(a[g-1],0);for(_>o&&(r.F.restrictDepth(f,o,_),_=o),u=0;u<d;u++)s[1+(f[u].lit<<1)]=f[u].d;return _},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,o){var a=0,l=1<<o-s,c=0;for(i.sort(function(d,f){return f.d==d.d?d.f-f.f:f.d-d.d}),a=0;a<i.length&&i[a].d>s;a++){var u=i[a].d;i[a].d=s,c+=l-(1<<o-u)}for(c>>>=o-s;c>0;)(u=i[a].d)<s?(i[a].d++,c-=1<<s-u-1):a++;for(;a>=0;a--)i[a].d==s&&c<0&&(i[a].d--,c++);c!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var o=0;return s[16|o]<=i&&(o|=16),s[8|o]<=i&&(o|=8),s[4|o]<=i&&(o|=4),s[2|o]<=i&&(o|=2),s[1|o]<=i&&(o|=1),o},r.F._writeLit=function(i,s,o,a){return r.F._putsF(o,a,s[i<<1]),a+s[1+(i<<1)]},r.F.inflate=function(i,s){var o=Uint8Array;if(i[0]==3&&i[1]==0)return s||new o(0);var a=r.F,l=a._bitsF,c=a._bitsE,u=a._decodeTiny,d=a.makeCodes,f=a.codes2map,p=a._get17,m=a.U,y=s==null;y&&(s=new o(i.length>>>2<<3));for(var x,g,w=0,_=0,E=0,b=0,C=0,S=0,I=0,T=0,R=0;w==0;)if(w=l(i,R,1),_=l(i,R+1,2),R+=3,_!=0){if(y&&(s=r.F._check(s,T+(1<<17))),_==1&&(x=m.flmap,g=m.fdmap,S=511,I=31),_==2){E=c(i,R,5)+257,b=c(i,R+5,5)+1,C=c(i,R+10,4)+4,R+=14;for(var k=0;k<38;k+=2)m.itree[k]=0,m.itree[k+1]=0;var L=1;for(k=0;k<C;k++){var M=c(i,R+3*k,3);m.itree[1+(m.ordr[k]<<1)]=M,M>L&&(L=M)}R+=3*C,d(m.itree,L),f(m.itree,L,m.imap),x=m.lmap,g=m.dmap,R=u(m.imap,(1<<L)-1,E+b,i,R,m.ttree);var N=a._copyOut(m.ttree,0,E,m.ltree);S=(1<<N)-1;var $=a._copyOut(m.ttree,E,b,m.dtree);I=(1<<$)-1,d(m.ltree,N),f(m.ltree,N,x),d(m.dtree,$),f(m.dtree,$,g)}for(;;){var P=x[p(i,R)&S];R+=15&P;var A=P>>>4;if(!(A>>>8))s[T++]=A;else{if(A==256)break;var D=T+A-254;if(A>264){var j=m.ldef[A-257];D=T+(j>>>3)+c(i,R,7&j),R+=7&j}var F=g[p(i,R)&I];R+=15&F;var q=F>>>4,W=m.ddef[q],B=(W>>>4)+l(i,R,15&W);for(R+=15&W,y&&(s=r.F._check(s,T+(1<<17)));T<D;)s[T]=s[T++-B],s[T]=s[T++-B],s[T]=s[T++-B],s[T]=s[T++-B];T=D}}}else{7&R&&(R+=8-(7&R));var U=4+(R>>>3),V=i[U-4]|i[U-3]<<8;y&&(s=r.F._check(s,T+V)),s.set(new o(i.buffer,i.byteOffset+U,V),T),R=U+V<<3,T+=V}return s.length==T?s:s.slice(0,T)},r.F._check=function(i,s){var o=i.length;if(s<=o)return i;var a=new Uint8Array(Math.max(o<<1,s));return a.set(i,0),a},r.F._decodeTiny=function(i,s,o,a,l,c){for(var u=r.F._bitsE,d=r.F._get17,f=0;f<o;){var p=i[d(a,l)&s];l+=15&p;var m=p>>>4;if(m<=15)c[f]=m,f++;else{var y=0,x=0;m==16?(x=3+u(a,l,2),l+=2,y=c[f-1]):m==17?(x=3+u(a,l,3),l+=3):m==18&&(x=11+u(a,l,7),l+=7);for(var g=f+x;f<g;)c[f]=y,f++}}return l},r.F._copyOut=function(i,s,o,a){for(var l=0,c=0,u=a.length>>>1;c<o;){var d=i[c+s];a[c<<1]=0,a[1+(c<<1)]=d,d>l&&(l=d),c++}for(;c<u;)a[c<<1]=0,a[1+(c<<1)]=0,c++;return l},r.F.makeCodes=function(i,s){for(var o,a,l,c,u=r.F.U,d=i.length,f=u.bl_count,p=0;p<=s;p++)f[p]=0;for(p=1;p<d;p+=2)f[i[p]]++;var m=u.next_code;for(o=0,f[0]=0,a=1;a<=s;a++)o=o+f[a-1]<<1,m[a]=o;for(l=0;l<d;l+=2)(c=i[l+1])!=0&&(i[l]=m[c],m[c]++)},r.F.codes2map=function(i,s,o){for(var a=i.length,l=r.F.U.rev15,c=0;c<a;c+=2)if(i[c+1]!=0)for(var u=c>>1,d=i[c+1],f=u<<4|d,p=s-d,m=i[c]<<p,y=m+(1<<p);m!=y;)o[l[m]>>>15-s]=f,m++},r.F.revCodes=function(i,s){for(var o=r.F.U.rev15,a=15-s,l=0;l<i.length;l+=2){var c=i[l]<<s-i[l+1];i[l]=o[c]>>>a}},r.F._putsE=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8},r.F._putsF=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8,i[a+2]|=o>>>16},r.F._bitsE=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<o)-1},r.F._bitsF=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<o)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var o=s;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,i.rev15[s]=(o>>>16|o<<16)>>>17}function a(l,c,u){for(;c--!=0;)l.push(0,u)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),a(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var Dde=Pde({__proto__:null,default:I2},[I2]);const Pi=function(){var t={nextZero(u,d){for(;u[d]!=0;)d++;return d},readUshort:(u,d)=>u[d]<<8|u[d+1],writeUshort(u,d,f){u[d]=f>>8&255,u[d+1]=255&f},readUint:(u,d)=>16777216*u[d]+(u[d+1]<<16|u[d+2]<<8|u[d+3]),writeUint(u,d,f){u[d]=f>>24&255,u[d+1]=f>>16&255,u[d+2]=f>>8&255,u[d+3]=255&f},readASCII(u,d,f){let p="";for(let m=0;m<f;m++)p+=String.fromCharCode(u[d+m]);return p},writeASCII(u,d,f){for(let p=0;p<f.length;p++)u[d+p]=f.charCodeAt(p)},readBytes(u,d,f){const p=[];for(let m=0;m<f;m++)p.push(u[d+m]);return p},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,d,f){let p,m="";for(let y=0;y<f;y++)m+=`%${t.pad(u[d+y].toString(16))}`;try{p=decodeURIComponent(m)}catch{return t.readASCII(u,d,f)}return p}};function e(u,d,f,p){const m=d*f,y=s(p),x=Math.ceil(d*y/8),g=new Uint8Array(4*m),w=new Uint32Array(g.buffer),{ctype:_}=p,{depth:E}=p,b=t.readUshort;if(_==6){const j=m<<2;if(E==8)for(var C=0;C<j;C+=4)g[C]=u[C],g[C+1]=u[C+1],g[C+2]=u[C+2],g[C+3]=u[C+3];if(E==16)for(C=0;C<j;C++)g[C]=u[C<<1]}else if(_==2){const j=p.tabs.tRNS;if(j==null){if(E==8)for(C=0;C<m;C++){var S=3*C;w[C]=255<<24|u[S+2]<<16|u[S+1]<<8|u[S]}if(E==16)for(C=0;C<m;C++)S=6*C,w[C]=255<<24|u[S+4]<<16|u[S+2]<<8|u[S]}else{var I=j[0];const F=j[1],q=j[2];if(E==8)for(C=0;C<m;C++){var T=C<<2;S=3*C,w[C]=255<<24|u[S+2]<<16|u[S+1]<<8|u[S],u[S]==I&&u[S+1]==F&&u[S+2]==q&&(g[T+3]=0)}if(E==16)for(C=0;C<m;C++)T=C<<2,S=6*C,w[C]=255<<24|u[S+4]<<16|u[S+2]<<8|u[S],b(u,S)==I&&b(u,S+2)==F&&b(u,S+4)==q&&(g[T+3]=0)}}else if(_==3){const j=p.tabs.PLTE,F=p.tabs.tRNS,q=F?F.length:0;if(E==1)for(var R=0;R<f;R++){var k=R*x,L=R*d;for(C=0;C<d;C++){T=L+C<<2;var M=3*(N=u[k+(C>>3)]>>7-((7&C)<<0)&1);g[T]=j[M],g[T+1]=j[M+1],g[T+2]=j[M+2],g[T+3]=N<q?F[N]:255}}if(E==2)for(R=0;R<f;R++)for(k=R*x,L=R*d,C=0;C<d;C++)T=L+C<<2,M=3*(N=u[k+(C>>2)]>>6-((3&C)<<1)&3),g[T]=j[M],g[T+1]=j[M+1],g[T+2]=j[M+2],g[T+3]=N<q?F[N]:255;if(E==4)for(R=0;R<f;R++)for(k=R*x,L=R*d,C=0;C<d;C++)T=L+C<<2,M=3*(N=u[k+(C>>1)]>>4-((1&C)<<2)&15),g[T]=j[M],g[T+1]=j[M+1],g[T+2]=j[M+2],g[T+3]=N<q?F[N]:255;if(E==8)for(C=0;C<m;C++){var N;T=C<<2,M=3*(N=u[C]),g[T]=j[M],g[T+1]=j[M+1],g[T+2]=j[M+2],g[T+3]=N<q?F[N]:255}}else if(_==4){if(E==8)for(C=0;C<m;C++){T=C<<2;var $=u[P=C<<1];g[T]=$,g[T+1]=$,g[T+2]=$,g[T+3]=u[P+1]}if(E==16)for(C=0;C<m;C++){var P;T=C<<2,$=u[P=C<<2],g[T]=$,g[T+1]=$,g[T+2]=$,g[T+3]=u[P+2]}}else if(_==0)for(I=p.tabs.tRNS?p.tabs.tRNS:-1,R=0;R<f;R++){const j=R*x,F=R*d;if(E==1)for(var A=0;A<d;A++){var D=($=255*(u[j+(A>>>3)]>>>7-(7&A)&1))==255*I?0:255;w[F+A]=D<<24|$<<16|$<<8|$}else if(E==2)for(A=0;A<d;A++)D=($=85*(u[j+(A>>>2)]>>>6-((3&A)<<1)&3))==85*I?0:255,w[F+A]=D<<24|$<<16|$<<8|$;else if(E==4)for(A=0;A<d;A++)D=($=17*(u[j+(A>>>1)]>>>4-((1&A)<<2)&15))==17*I?0:255,w[F+A]=D<<24|$<<16|$<<8|$;else if(E==8)for(A=0;A<d;A++)D=($=u[j+A])==I?0:255,w[F+A]=D<<24|$<<16|$<<8|$;else if(E==16)for(A=0;A<d;A++)$=u[j+(A<<1)],D=b(u,j+(A<<1))==I?0:255,w[F+A]=D<<24|$<<16|$<<8|$}return g}function n(u,d,f,p){const m=s(u),y=Math.ceil(f*m/8),x=new Uint8Array((y+1+u.interlace)*p);return d=u.tabs.CgBI?i(d,x):r(d,x),u.interlace==0?d=o(d,u,0,f,p):u.interlace==1&&(d=function(w,_){const E=_.width,b=_.height,C=s(_),S=C>>3,I=Math.ceil(E*C/8),T=new Uint8Array(b*I);let R=0;const k=[0,0,4,0,2,0,1],L=[0,4,0,2,0,1,0],M=[8,8,8,4,4,2,2],N=[8,8,4,4,2,2,1];let $=0;for(;$<7;){const A=M[$],D=N[$];let j=0,F=0,q=k[$];for(;q<b;)q+=A,F++;let W=L[$];for(;W<E;)W+=D,j++;const B=Math.ceil(j*C/8);o(w,_,R,j,F);let U=0,V=k[$];for(;V<b;){let G=L[$],oe=R+U*B<<3;for(;G<E;){var P;if(C==1&&(P=(P=w[oe>>3])>>7-(7&oe)&1,T[V*I+(G>>3)]|=P<<7-((7&G)<<0)),C==2&&(P=(P=w[oe>>3])>>6-(7&oe)&3,T[V*I+(G>>2)]|=P<<6-((3&G)<<1)),C==4&&(P=(P=w[oe>>3])>>4-(7&oe)&15,T[V*I+(G>>1)]|=P<<4-((1&G)<<2)),C>=8){const ce=V*I+G*S;for(let te=0;te<S;te++)T[ce+te]=w[(oe>>3)+te]}oe+=C,G+=D}U++,V+=A}j*F!=0&&(R+=F*(1+B)),$+=1}return T}(d,u)),d}function r(u,d){return i(new Uint8Array(u.buffer,2,u.length-6),d)}var i=function(){const u={H:{}};return u.H.N=function(d,f){const p=Uint8Array;let m,y,x=0,g=0,w=0,_=0,E=0,b=0,C=0,S=0,I=0;if(d[0]==3&&d[1]==0)return f||new p(0);const T=u.H,R=T.b,k=T.e,L=T.R,M=T.n,N=T.A,$=T.Z,P=T.m,A=f==null;for(A&&(f=new p(d.length>>>2<<5));x==0;)if(x=R(d,I,1),g=R(d,I+1,2),I+=3,g!=0){if(A&&(f=u.H.W(f,S+(1<<17))),g==1&&(m=P.J,y=P.h,b=511,C=31),g==2){w=k(d,I,5)+257,_=k(d,I+5,5)+1,E=k(d,I+10,4)+4,I+=14;let j=1;for(var D=0;D<38;D+=2)P.Q[D]=0,P.Q[D+1]=0;for(D=0;D<E;D++){const W=k(d,I+3*D,3);P.Q[1+(P.X[D]<<1)]=W,W>j&&(j=W)}I+=3*E,M(P.Q,j),N(P.Q,j,P.u),m=P.w,y=P.d,I=L(P.u,(1<<j)-1,w+_,d,I,P.v);const F=T.V(P.v,0,w,P.C);b=(1<<F)-1;const q=T.V(P.v,w,_,P.D);C=(1<<q)-1,M(P.C,F),N(P.C,F,m),M(P.D,q),N(P.D,q,y)}for(;;){const j=m[$(d,I)&b];I+=15&j;const F=j>>>4;if(!(F>>>8))f[S++]=F;else{if(F==256)break;{let q=S+F-254;if(F>264){const G=P.q[F-257];q=S+(G>>>3)+k(d,I,7&G),I+=7&G}const W=y[$(d,I)&C];I+=15&W;const B=W>>>4,U=P.c[B],V=(U>>>4)+R(d,I,15&U);for(I+=15&U;S<q;)f[S]=f[S++-V],f[S]=f[S++-V],f[S]=f[S++-V],f[S]=f[S++-V];S=q}}}}else{7&I&&(I+=8-(7&I));const j=4+(I>>>3),F=d[j-4]|d[j-3]<<8;A&&(f=u.H.W(f,S+F)),f.set(new p(d.buffer,d.byteOffset+j,F),S),I=j+F<<3,S+=F}return f.length==S?f:f.slice(0,S)},u.H.W=function(d,f){const p=d.length;if(f<=p)return d;const m=new Uint8Array(p<<1);return m.set(d,0),m},u.H.R=function(d,f,p,m,y,x){const g=u.H.e,w=u.H.Z;let _=0;for(;_<p;){const E=d[w(m,y)&f];y+=15&E;const b=E>>>4;if(b<=15)x[_]=b,_++;else{let C=0,S=0;b==16?(S=3+g(m,y,2),y+=2,C=x[_-1]):b==17?(S=3+g(m,y,3),y+=3):b==18&&(S=11+g(m,y,7),y+=7);const I=_+S;for(;_<I;)x[_]=C,_++}}return y},u.H.V=function(d,f,p,m){let y=0,x=0;const g=m.length>>>1;for(;x<p;){const w=d[x+f];m[x<<1]=0,m[1+(x<<1)]=w,w>y&&(y=w),x++}for(;x<g;)m[x<<1]=0,m[1+(x<<1)]=0,x++;return y},u.H.n=function(d,f){const p=u.H.m,m=d.length;let y,x,g,w;const _=p.j;for(var E=0;E<=f;E++)_[E]=0;for(E=1;E<m;E+=2)_[d[E]]++;const b=p.K;for(y=0,_[0]=0,x=1;x<=f;x++)y=y+_[x-1]<<1,b[x]=y;for(g=0;g<m;g+=2)w=d[g+1],w!=0&&(d[g]=b[w],b[w]++)},u.H.A=function(d,f,p){const m=d.length,y=u.H.m.r;for(let x=0;x<m;x+=2)if(d[x+1]!=0){const g=x>>1,w=d[x+1],_=g<<4|w,E=f-w;let b=d[x]<<E;const C=b+(1<<E);for(;b!=C;)p[y[b]>>>15-f]=_,b++}},u.H.l=function(d,f){const p=u.H.m.r,m=15-f;for(let y=0;y<d.length;y+=2){const x=d[y]<<f-d[y+1];d[y]=p[x]>>>m}},u.H.M=function(d,f,p){p<<=7&f;const m=f>>>3;d[m]|=p,d[m+1]|=p>>>8},u.H.I=function(d,f,p){p<<=7&f;const m=f>>>3;d[m]|=p,d[m+1]|=p>>>8,d[m+2]|=p>>>16},u.H.e=function(d,f,p){return(d[f>>>3]|d[1+(f>>>3)]<<8)>>>(7&f)&(1<<p)-1},u.H.b=function(d,f,p){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16)>>>(7&f)&(1<<p)-1},u.H.Z=function(d,f){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16)>>>(7&f)},u.H.i=function(d,f){return(d[f>>>3]|d[1+(f>>>3)]<<8|d[2+(f>>>3)]<<16|d[3+(f>>>3)]<<24)>>>(7&f)},u.H.m=function(){const d=Uint16Array,f=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new f(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new f(286),Y:new f(30),a:new f(19),t:new f(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=u.H.m;for(var f=0;f<32768;f++){let m=f;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,d.r[f]=(m>>>16|m<<16)>>>17}function p(m,y,x){for(;y--!=0;)m.push(0,x)}for(f=0;f<32;f++)d.q[f]=d.S[f]<<3|d.T[f],d.c[f]=d.p[f]<<4|d.z[f];p(d._,144,8),p(d._,112,9),p(d._,24,7),p(d._,8,8),u.H.n(d._,9),u.H.A(d._,9,d.J),u.H.l(d._,9),p(d.$,32,5),u.H.n(d.$,5),u.H.A(d.$,5,d.h),u.H.l(d.$,5),p(d.Q,19,0),p(d.C,286,0),p(d.D,30,0),p(d.v,320,0)}(),u.H.N}();function s(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function o(u,d,f,p,m){let y=s(d);const x=Math.ceil(p*y/8);let g,w;y=Math.ceil(y/8);let _=u[f],E=0;if(_>1&&(u[f]=[0,0,1][_-2]),_==3)for(E=y;E<x;E++)u[E+1]=u[E+1]+(u[E+1-y]>>>1)&255;for(let b=0;b<m;b++)if(g=f+b*x,w=g+b+1,_=u[w-1],E=0,_==0)for(;E<x;E++)u[g+E]=u[w+E];else if(_==1){for(;E<y;E++)u[g+E]=u[w+E];for(;E<x;E++)u[g+E]=u[w+E]+u[g+E-y]}else if(_==2)for(;E<x;E++)u[g+E]=u[w+E]+u[g+E-x];else if(_==3){for(;E<y;E++)u[g+E]=u[w+E]+(u[g+E-x]>>>1);for(;E<x;E++)u[g+E]=u[w+E]+(u[g+E-x]+u[g+E-y]>>>1)}else{for(;E<y;E++)u[g+E]=u[w+E]+a(0,u[g+E-x],0);for(;E<x;E++)u[g+E]=u[w+E]+a(u[g+E-y],u[g+E-x],u[g+E-y-x])}return u}function a(u,d,f){const p=u+d-f,m=p-u,y=p-d,x=p-f;return m*m<=y*y&&m*m<=x*x?u:y*y<=x*x?d:f}function l(u,d,f){f.width=t.readUint(u,d),d+=4,f.height=t.readUint(u,d),d+=4,f.depth=u[d],d++,f.ctype=u[d],d++,f.compress=u[d],d++,f.filter=u[d],d++,f.interlace=u[d],d++}function c(u,d,f,p,m,y,x,g,w){const _=Math.min(d,m),E=Math.min(f,y);let b=0,C=0;for(let $=0;$<E;$++)for(let P=0;P<_;P++)if(x>=0&&g>=0?(b=$*d+P<<2,C=(g+$)*m+x+P<<2):(b=(-g+$)*d-x+P<<2,C=$*m+P<<2),w==0)p[C]=u[b],p[C+1]=u[b+1],p[C+2]=u[b+2],p[C+3]=u[b+3];else if(w==1){var S=u[b+3]*.00392156862745098,I=u[b]*S,T=u[b+1]*S,R=u[b+2]*S,k=p[C+3]*(1/255),L=p[C]*k,M=p[C+1]*k,N=p[C+2]*k;const A=1-S,D=S+k*A,j=D==0?0:1/D;p[C+3]=255*D,p[C+0]=(I+L*A)*j,p[C+1]=(T+M*A)*j,p[C+2]=(R+N*A)*j}else if(w==2)S=u[b+3],I=u[b],T=u[b+1],R=u[b+2],k=p[C+3],L=p[C],M=p[C+1],N=p[C+2],S==k&&I==L&&T==M&&R==N?(p[C]=0,p[C+1]=0,p[C+2]=0,p[C+3]=0):(p[C]=I,p[C+1]=T,p[C+2]=R,p[C+3]=S);else if(w==3){if(S=u[b+3],I=u[b],T=u[b+1],R=u[b+2],k=p[C+3],L=p[C],M=p[C+1],N=p[C+2],S==k&&I==L&&T==M&&R==N)continue;if(S<220&&k>20)return!1}return!0}return{decode:function(d){const f=new Uint8Array(d);let p=8;const m=t,y=m.readUshort,x=m.readUint,g={tabs:{},frames:[]},w=new Uint8Array(f.length);let _,E=0,b=0;const C=[137,80,78,71,13,10,26,10];for(var S=0;S<8;S++)if(f[S]!=C[S])throw"The input is not a PNG file!";for(;p<f.length;){const $=m.readUint(f,p);p+=4;const P=m.readASCII(f,p,4);if(p+=4,P=="IHDR")l(f,p,g);else if(P=="iCCP"){for(var I=p;f[I]!=0;)I++;m.readASCII(f,p,I-p),f[I+1];const A=f.slice(I+2,p+$);let D=null;try{D=r(A)}catch{D=i(A)}g.tabs[P]=D}else if(P=="CgBI")g.tabs[P]=f.slice(p,p+4);else if(P=="IDAT"){for(S=0;S<$;S++)w[E+S]=f[p+S];E+=$}else if(P=="acTL")g.tabs[P]={num_frames:x(f,p),num_plays:x(f,p+4)},_=new Uint8Array(f.length);else if(P=="fcTL"){b!=0&&((N=g.frames[g.frames.length-1]).data=n(g,_.slice(0,b),N.rect.width,N.rect.height),b=0);const A={x:x(f,p+12),y:x(f,p+16),width:x(f,p+4),height:x(f,p+8)};let D=y(f,p+22);D=y(f,p+20)/(D==0?100:D);const j={rect:A,delay:Math.round(1e3*D),dispose:f[p+24],blend:f[p+25]};g.frames.push(j)}else if(P=="fdAT"){for(S=0;S<$-4;S++)_[b+S]=f[p+S+4];b+=$-4}else if(P=="pHYs")g.tabs[P]=[m.readUint(f,p),m.readUint(f,p+4),f[p+8]];else if(P=="cHRM")for(g.tabs[P]=[],S=0;S<8;S++)g.tabs[P].push(m.readUint(f,p+4*S));else if(P=="tEXt"||P=="zTXt"){g.tabs[P]==null&&(g.tabs[P]={});var T=m.nextZero(f,p),R=m.readASCII(f,p,T-p),k=p+$-T-1;if(P=="tEXt")M=m.readASCII(f,T+1,k);else{var L=r(f.slice(T+2,T+2+k));M=m.readUTF8(L,0,L.length)}g.tabs[P][R]=M}else if(P=="iTXt"){g.tabs[P]==null&&(g.tabs[P]={}),T=0,I=p,T=m.nextZero(f,I),R=m.readASCII(f,I,T-I);const A=f[I=T+1];var M;f[I+1],I+=2,T=m.nextZero(f,I),m.readASCII(f,I,T-I),I=T+1,T=m.nextZero(f,I),m.readUTF8(f,I,T-I),k=$-((I=T+1)-p),A==0?M=m.readUTF8(f,I,k):(L=r(f.slice(I,I+k)),M=m.readUTF8(L,0,L.length)),g.tabs[P][R]=M}else if(P=="PLTE")g.tabs[P]=m.readBytes(f,p,$);else if(P=="hIST"){const A=g.tabs.PLTE.length/3;for(g.tabs[P]=[],S=0;S<A;S++)g.tabs[P].push(y(f,p+2*S))}else if(P=="tRNS")g.ctype==3?g.tabs[P]=m.readBytes(f,p,$):g.ctype==0?g.tabs[P]=y(f,p):g.ctype==2&&(g.tabs[P]=[y(f,p),y(f,p+2),y(f,p+4)]);else if(P=="gAMA")g.tabs[P]=m.readUint(f,p)/1e5;else if(P=="sRGB")g.tabs[P]=f[p];else if(P=="bKGD")g.ctype==0||g.ctype==4?g.tabs[P]=[y(f,p)]:g.ctype==2||g.ctype==6?g.tabs[P]=[y(f,p),y(f,p+2),y(f,p+4)]:g.ctype==3&&(g.tabs[P]=f[p]);else if(P=="IEND")break;p+=$,m.readUint(f,p),p+=4}var N;return b!=0&&((N=g.frames[g.frames.length-1]).data=n(g,_.slice(0,b),N.rect.width,N.rect.height)),g.data=n(g,w,g.width,g.height),delete g.compress,delete g.interlace,delete g.filter,g},toRGBA8:function(d){const f=d.width,p=d.height;if(d.tabs.acTL==null)return[e(d.data,f,p,d).buffer];const m=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const y=f*p*4,x=new Uint8Array(y),g=new Uint8Array(y),w=new Uint8Array(y);for(let E=0;E<d.frames.length;E++){const b=d.frames[E],C=b.rect.x,S=b.rect.y,I=b.rect.width,T=b.rect.height,R=e(b.data,I,T,d);if(E!=0)for(var _=0;_<y;_++)w[_]=x[_];if(b.blend==0?c(R,I,T,x,f,p,C,S,0):b.blend==1&&c(R,I,T,x,f,p,C,S,1),m.push(x.buffer.slice(0)),b.dispose!=0){if(b.dispose==1)c(g,I,T,x,f,p,C,S,0);else if(b.dispose==2)for(_=0;_<y;_++)x[_]=w[_]}}return m},_paeth:a,_copyTile:c,_bin:t}}();(function(){const{_copyTile:t}=Pi,{_bin:e}=Pi,n=Pi._paeth;var r={table:function(){const I=new Uint32Array(256);for(let T=0;T<256;T++){let R=T;for(let k=0;k<8;k++)1&R?R=3988292384^R>>>1:R>>>=1;I[T]=R}return I}(),update(I,T,R,k){for(let L=0;L<k;L++)I=r.table[255&(I^T[R+L])]^I>>>8;return I},crc:(I,T,R)=>4294967295^r.update(4294967295,I,T,R)};function i(I,T,R,k){T[R]+=I[0]*k>>4,T[R+1]+=I[1]*k>>4,T[R+2]+=I[2]*k>>4,T[R+3]+=I[3]*k>>4}function s(I){return Math.max(0,Math.min(255,I))}function o(I,T){const R=I[0]-T[0],k=I[1]-T[1],L=I[2]-T[2],M=I[3]-T[3];return R*R+k*k+L*L+M*M}function a(I,T,R,k,L,M,N){N==null&&(N=1);const $=k.length,P=[];for(var A=0;A<$;A++){const V=k[A];P.push([V>>>0&255,V>>>8&255,V>>>16&255,V>>>24&255])}for(A=0;A<$;A++){let V=4294967295;for(var D=0,j=0;j<$;j++){var F=o(P[A],P[j]);j!=A&&F<V&&(V=F,D=j)}}const q=new Uint32Array(L.buffer),W=new Int16Array(T*R*4),B=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(A=0;A<B.length;A++)B[A]=255*((B[A]+.5)/16-.5);for(let V=0;V<R;V++)for(let G=0;G<T;G++){var U;A=4*(V*T+G),N!=2?U=[s(I[A]+W[A]),s(I[A+1]+W[A+1]),s(I[A+2]+W[A+2]),s(I[A+3]+W[A+3])]:(F=B[4*(3&V)+(3&G)],U=[s(I[A]+F),s(I[A+1]+F),s(I[A+2]+F),s(I[A+3]+F)]),D=0;let oe=16777215;for(j=0;j<$;j++){const me=o(U,P[j]);me<oe&&(oe=me,D=j)}const ce=P[D],te=[U[0]-ce[0],U[1]-ce[1],U[2]-ce[2],U[3]-ce[3]];N==1&&(G!=T-1&&i(te,W,A+4,7),V!=R-1&&(G!=0&&i(te,W,A+4*T-4,3),i(te,W,A+4*T,5),G!=T-1&&i(te,W,A+4*T+4,1))),M[A>>2]=D,q[A>>2]=k[D]}}function l(I,T,R,k,L){L==null&&(L={});const{crc:M}=r,N=e.writeUint,$=e.writeUshort,P=e.writeASCII;let A=8;const D=I.frames.length>1;let j,F=!1,q=33+(D?20:0);if(L.sRGB!=null&&(q+=13),L.pHYs!=null&&(q+=21),L.iCCP!=null&&(j=pako.deflate(L.iCCP),q+=21+j.length+4),I.ctype==3){for(var W=I.plte.length,B=0;B<W;B++)I.plte[B]>>>24!=255&&(F=!0);q+=8+3*W+4+(F?8+1*W+4:0)}for(var U=0;U<I.frames.length;U++)D&&(q+=38),q+=(ce=I.frames[U]).cimg.length+12,U!=0&&(q+=4);q+=12;const V=new Uint8Array(q),G=[137,80,78,71,13,10,26,10];for(B=0;B<8;B++)V[B]=G[B];if(N(V,A,13),A+=4,P(V,A,"IHDR"),A+=4,N(V,A,T),A+=4,N(V,A,R),A+=4,V[A]=I.depth,A++,V[A]=I.ctype,A++,V[A]=0,A++,V[A]=0,A++,V[A]=0,A++,N(V,A,M(V,A-17,17)),A+=4,L.sRGB!=null&&(N(V,A,1),A+=4,P(V,A,"sRGB"),A+=4,V[A]=L.sRGB,A++,N(V,A,M(V,A-5,5)),A+=4),L.iCCP!=null){const te=13+j.length;N(V,A,te),A+=4,P(V,A,"iCCP"),A+=4,P(V,A,"ICC profile"),A+=11,A+=2,V.set(j,A),A+=j.length,N(V,A,M(V,A-(te+4),te+4)),A+=4}if(L.pHYs!=null&&(N(V,A,9),A+=4,P(V,A,"pHYs"),A+=4,N(V,A,L.pHYs[0]),A+=4,N(V,A,L.pHYs[1]),A+=4,V[A]=L.pHYs[2],A++,N(V,A,M(V,A-13,13)),A+=4),D&&(N(V,A,8),A+=4,P(V,A,"acTL"),A+=4,N(V,A,I.frames.length),A+=4,N(V,A,L.loop!=null?L.loop:0),A+=4,N(V,A,M(V,A-12,12)),A+=4),I.ctype==3){for(N(V,A,3*(W=I.plte.length)),A+=4,P(V,A,"PLTE"),A+=4,B=0;B<W;B++){const te=3*B,me=I.plte[B],de=255&me,ae=me>>>8&255,ve=me>>>16&255;V[A+te+0]=de,V[A+te+1]=ae,V[A+te+2]=ve}if(A+=3*W,N(V,A,M(V,A-3*W-4,3*W+4)),A+=4,F){for(N(V,A,W),A+=4,P(V,A,"tRNS"),A+=4,B=0;B<W;B++)V[A+B]=I.plte[B]>>>24&255;A+=W,N(V,A,M(V,A-W-4,W+4)),A+=4}}let oe=0;for(U=0;U<I.frames.length;U++){var ce=I.frames[U];D&&(N(V,A,26),A+=4,P(V,A,"fcTL"),A+=4,N(V,A,oe++),A+=4,N(V,A,ce.rect.width),A+=4,N(V,A,ce.rect.height),A+=4,N(V,A,ce.rect.x),A+=4,N(V,A,ce.rect.y),A+=4,$(V,A,k[U]),A+=2,$(V,A,1e3),A+=2,V[A]=ce.dispose,A++,V[A]=ce.blend,A++,N(V,A,M(V,A-30,30)),A+=4);const te=ce.cimg;N(V,A,(W=te.length)+(U==0?0:4)),A+=4;const me=A;P(V,A,U==0?"IDAT":"fdAT"),A+=4,U!=0&&(N(V,A,oe++),A+=4),V.set(te,A),A+=W,N(V,A,M(V,me,A-me)),A+=4}return N(V,A,0),A+=4,P(V,A,"IEND"),A+=4,N(V,A,M(V,A-4,4)),A+=4,V.buffer}function c(I,T,R){for(let k=0;k<I.frames.length;k++){const L=I.frames[k];L.rect.width;const M=L.rect.height,N=new Uint8Array(M*L.bpl+M);L.cimg=p(L.img,M,L.bpp,L.bpl,N,T,R)}}function u(I,T,R,k,L){const M=L[0],N=L[1],$=L[2],P=L[3],A=L[4],D=L[5];let j=6,F=8,q=255;for(var W=0;W<I.length;W++){const vt=new Uint8Array(I[W]);for(var B=vt.length,U=0;U<B;U+=4)q&=vt[U+3]}const V=q!=255,G=function($e,Ve,ut,dt,Ne,At){const We=[];for(var be=0;be<$e.length;be++){const ne=new Uint8Array($e[be]),Qe=new Uint32Array(ne.buffer);var kt;let Ue=0,se=0,Ae=Ve,at=ut,wr=dt?1:0;if(be!=0){const ho=At||dt||be==1||We[be-2].dispose!=0?1:2;let fo=0,PC=1e9;for(let ad=0;ad<ho;ad++){var ln=new Uint8Array($e[be-1-ad]);const LM=new Uint32Array($e[be-1-ad]);let po=Ve,mo=ut,Yl=-1,ld=-1;for(let Ta=0;Ta<ut;Ta++)for(let Sa=0;Sa<Ve;Sa++)Qe[Le=Ta*Ve+Sa]!=LM[Le]&&(Sa<po&&(po=Sa),Sa>Yl&&(Yl=Sa),Ta<mo&&(mo=Ta),Ta>ld&&(ld=Ta));Yl==-1&&(po=mo=Yl=ld=0),Ne&&((1&po)==1&&po--,(1&mo)==1&&mo--);const NC=(Yl-po+1)*(ld-mo+1);NC<PC&&(PC=NC,fo=ad,Ue=po,se=mo,Ae=Yl-po+1,at=ld-mo+1)}ln=new Uint8Array($e[be-1-fo]),fo==1&&(We[be-1].dispose=2),kt=new Uint8Array(Ae*at*4),t(ln,Ve,ut,kt,Ae,at,-Ue,-se,0),wr=t(ne,Ve,ut,kt,Ae,at,-Ue,-se,3)?1:0,wr==1?f(ne,Ve,ut,kt,{x:Ue,y:se,width:Ae,height:at}):t(ne,Ve,ut,kt,Ae,at,-Ue,-se,0)}else kt=ne.slice(0);We.push({rect:{x:Ue,y:se,width:Ae,height:at},img:kt,blend:wr,dispose:0})}if(dt)for(be=0;be<We.length;be++){if((ye=We[be]).blend==1)continue;const ne=ye.rect,Qe=We[be-1].rect,Ue=Math.min(ne.x,Qe.x),se=Math.min(ne.y,Qe.y),Ae={x:Ue,y:se,width:Math.max(ne.x+ne.width,Qe.x+Qe.width)-Ue,height:Math.max(ne.y+ne.height,Qe.y+Qe.height)-se};We[be-1].dispose=1,be-1!=0&&d($e,Ve,ut,We,be-1,Ae,Ne),d($e,Ve,ut,We,be,Ae,Ne)}let Wn=0;if($e.length!=1)for(var Le=0;Le<We.length;Le++){var ye;Wn+=(ye=We[Le]).rect.width*ye.rect.height}return We}(I,T,R,M,N,$),oe={},ce=[],te=[];if(k!=0){const vt=[];for(U=0;U<G.length;U++)vt.push(G[U].img.buffer);const $e=function(Ne){let At=0;for(var We=0;We<Ne.length;We++)At+=Ne[We].byteLength;const be=new Uint8Array(At);let kt=0;for(We=0;We<Ne.length;We++){const ln=new Uint8Array(Ne[We]),Wn=ln.length;for(let Le=0;Le<Wn;Le+=4){let ye=ln[Le],ne=ln[Le+1],Qe=ln[Le+2];const Ue=ln[Le+3];Ue==0&&(ye=ne=Qe=0),be[kt+Le]=ye,be[kt+Le+1]=ne,be[kt+Le+2]=Qe,be[kt+Le+3]=Ue}kt+=Wn}return be.buffer}(vt),Ve=y($e,k);for(U=0;U<Ve.plte.length;U++)ce.push(Ve.plte[U].est.rgba);let ut=0;for(U=0;U<G.length;U++){const dt=(de=G[U]).img.length;var me=new Uint8Array(Ve.inds.buffer,ut>>2,dt>>2);te.push(me);const Ne=new Uint8Array(Ve.abuf,ut,dt);D&&a(de.img,de.rect.width,de.rect.height,ce,Ne,me),de.img.set(Ne),ut+=dt}}else for(W=0;W<G.length;W++){var de=G[W];const vt=new Uint32Array(de.img.buffer);var ae=de.rect.width;for(B=vt.length,me=new Uint8Array(B),te.push(me),U=0;U<B;U++){const $e=vt[U];if(U!=0&&$e==vt[U-1])me[U]=me[U-1];else if(U>ae&&$e==vt[U-ae])me[U]=me[U-ae];else{let Ve=oe[$e];if(Ve==null&&(oe[$e]=Ve=ce.length,ce.push($e),ce.length>=300))break;me[U]=Ve}}}const ve=ce.length;for(ve<=256&&A==0&&(F=ve<=2?1:ve<=4?2:ve<=16?4:8,F=Math.max(F,P)),W=0;W<G.length;W++){(de=G[W]).rect.x,de.rect.y,ae=de.rect.width;const vt=de.rect.height;let $e=de.img;new Uint32Array($e.buffer);let Ve=4*ae,ut=4;if(ve<=256&&A==0){Ve=Math.ceil(F*ae/8);var Te=new Uint8Array(Ve*vt);const dt=te[W];for(let Ne=0;Ne<vt;Ne++){U=Ne*Ve;const At=Ne*ae;if(F==8)for(var Ie=0;Ie<ae;Ie++)Te[U+Ie]=dt[At+Ie];else if(F==4)for(Ie=0;Ie<ae;Ie++)Te[U+(Ie>>1)]|=dt[At+Ie]<<4-4*(1&Ie);else if(F==2)for(Ie=0;Ie<ae;Ie++)Te[U+(Ie>>2)]|=dt[At+Ie]<<6-2*(3&Ie);else if(F==1)for(Ie=0;Ie<ae;Ie++)Te[U+(Ie>>3)]|=dt[At+Ie]<<7-1*(7&Ie)}$e=Te,j=3,ut=1}else if(V==0&&G.length==1){Te=new Uint8Array(ae*vt*3);const dt=ae*vt;for(U=0;U<dt;U++){const Ne=3*U,At=4*U;Te[Ne]=$e[At],Te[Ne+1]=$e[At+1],Te[Ne+2]=$e[At+2]}$e=Te,j=2,ut=3,Ve=3*ae}de.img=$e,de.bpl=Ve,de.bpp=ut}return{ctype:j,depth:F,plte:ce,frames:G}}function d(I,T,R,k,L,M,N){const $=Uint8Array,P=Uint32Array,A=new $(I[L-1]),D=new P(I[L-1]),j=L+1<I.length?new $(I[L+1]):null,F=new $(I[L]),q=new P(F.buffer);let W=T,B=R,U=-1,V=-1;for(let oe=0;oe<M.height;oe++)for(let ce=0;ce<M.width;ce++){const te=M.x+ce,me=M.y+oe,de=me*T+te,ae=q[de];ae==0||k[L-1].dispose==0&&D[de]==ae&&(j==null||j[4*de+3]!=0)||(te<W&&(W=te),te>U&&(U=te),me<B&&(B=me),me>V&&(V=me))}U==-1&&(W=B=U=V=0),N&&((1&W)==1&&W--,(1&B)==1&&B--),M={x:W,y:B,width:U-W+1,height:V-B+1};const G=k[L];G.rect=M,G.blend=1,G.img=new Uint8Array(M.width*M.height*4),k[L-1].dispose==0?(t(A,T,R,G.img,M.width,M.height,-M.x,-M.y,0),f(F,T,R,G.img,M)):t(F,T,R,G.img,M.width,M.height,-M.x,-M.y,0)}function f(I,T,R,k,L){t(I,T,R,k,L.width,L.height,-L.x,-L.y,2)}function p(I,T,R,k,L,M,N){const $=[];let P,A=[0,1,2,3,4];M!=-1?A=[M]:(T*k>5e5||R==1)&&(A=[0]),N&&(P={level:0});const D=Dde;for(var j=0;j<A.length;j++){for(let W=0;W<T;W++)m(L,I,W,k,R,A[j]);$.push(D.deflate(L,P))}let F,q=1e9;for(j=0;j<$.length;j++)$[j].length<q&&(F=j,q=$[j].length);return $[F]}function m(I,T,R,k,L,M){const N=R*k;let $=N+R;if(I[$]=M,$++,M==0)if(k<500)for(var P=0;P<k;P++)I[$+P]=T[N+P];else I.set(new Uint8Array(T.buffer,N,k),$);else if(M==1){for(P=0;P<L;P++)I[$+P]=T[N+P];for(P=L;P<k;P++)I[$+P]=T[N+P]-T[N+P-L]+256&255}else if(R==0){for(P=0;P<L;P++)I[$+P]=T[N+P];if(M==2)for(P=L;P<k;P++)I[$+P]=T[N+P];if(M==3)for(P=L;P<k;P++)I[$+P]=T[N+P]-(T[N+P-L]>>1)+256&255;if(M==4)for(P=L;P<k;P++)I[$+P]=T[N+P]-n(T[N+P-L],0,0)+256&255}else{if(M==2)for(P=0;P<k;P++)I[$+P]=T[N+P]+256-T[N+P-k]&255;if(M==3){for(P=0;P<L;P++)I[$+P]=T[N+P]+256-(T[N+P-k]>>1)&255;for(P=L;P<k;P++)I[$+P]=T[N+P]+256-(T[N+P-k]+T[N+P-L]>>1)&255}if(M==4){for(P=0;P<L;P++)I[$+P]=T[N+P]+256-n(0,T[N+P-k],0)&255;for(P=L;P<k;P++)I[$+P]=T[N+P]+256-n(T[N+P-L],T[N+P-k],T[N+P-L-k])&255}}}function y(I,T){const R=new Uint8Array(I),k=R.slice(0),L=new Uint32Array(k.buffer),M=x(k,T),N=M[0],$=M[1],P=R.length,A=new Uint8Array(P>>2);let D;if(R.length<2e7)for(var j=0;j<P;j+=4)D=g(N,F=R[j]*(1/255),q=R[j+1]*(1/255),W=R[j+2]*(1/255),B=R[j+3]*(1/255)),A[j>>2]=D.ind,L[j>>2]=D.est.rgba;else for(j=0;j<P;j+=4){var F=R[j]*.00392156862745098,q=R[j+1]*(1/255),W=R[j+2]*(1/255),B=R[j+3]*(1/255);for(D=N;D.left;)D=w(D.est,F,q,W,B)<=0?D.left:D.right;A[j>>2]=D.ind,L[j>>2]=D.est.rgba}return{abuf:k.buffer,inds:A,plte:$}}function x(I,T,R){R==null&&(R=1e-4);const k=new Uint32Array(I.buffer),L={i0:0,i1:I.length,bst:null,est:null,tdst:0,left:null,right:null};L.bst=b(I,L.i0,L.i1),L.est=C(L.bst);const M=[L];for(;M.length<T;){let $=0,P=0;for(var N=0;N<M.length;N++)M[N].est.L>$&&($=M[N].est.L,P=N);if($<R)break;const A=M[P],D=_(I,k,A.i0,A.i1,A.est.e,A.est.eMq255);if(A.i0>=D||A.i1<=D){A.est.L=0;continue}const j={i0:A.i0,i1:D,bst:null,est:null,tdst:0,left:null,right:null};j.bst=b(I,j.i0,j.i1),j.est=C(j.bst);const F={i0:D,i1:A.i1,bst:null,est:null,tdst:0,left:null,right:null};for(F.bst={R:[],m:[],N:A.bst.N-j.bst.N},N=0;N<16;N++)F.bst.R[N]=A.bst.R[N]-j.bst.R[N];for(N=0;N<4;N++)F.bst.m[N]=A.bst.m[N]-j.bst.m[N];F.est=C(F.bst),A.left=j,A.right=F,M[P]=j,M.push(F)}for(M.sort(($,P)=>P.bst.N-$.bst.N),N=0;N<M.length;N++)M[N].ind=N;return[L,M]}function g(I,T,R,k,L){if(I.left==null)return I.tdst=function(j,F,q,W,B){const U=F-j[0],V=q-j[1],G=W-j[2],oe=B-j[3];return U*U+V*V+G*G+oe*oe}(I.est.q,T,R,k,L),I;const M=w(I.est,T,R,k,L);let N=I.left,$=I.right;M>0&&(N=I.right,$=I.left);const P=g(N,T,R,k,L);if(P.tdst<=M*M)return P;const A=g($,T,R,k,L);return A.tdst<P.tdst?A:P}function w(I,T,R,k,L){const{e:M}=I;return M[0]*T+M[1]*R+M[2]*k+M[3]*L-I.eMq}function _(I,T,R,k,L,M){for(k-=4;R<k;){for(;E(I,R,L)<=M;)R+=4;for(;E(I,k,L)>M;)k-=4;if(R>=k)break;const N=T[R>>2];T[R>>2]=T[k>>2],T[k>>2]=N,R+=4,k-=4}for(;E(I,R,L)>M;)R-=4;return R+4}function E(I,T,R){return I[T]*R[0]+I[T+1]*R[1]+I[T+2]*R[2]+I[T+3]*R[3]}function b(I,T,R){const k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],L=[0,0,0,0],M=R-T>>2;for(let N=T;N<R;N+=4){const $=I[N]*.00392156862745098,P=I[N+1]*(1/255),A=I[N+2]*(1/255),D=I[N+3]*(1/255);L[0]+=$,L[1]+=P,L[2]+=A,L[3]+=D,k[0]+=$*$,k[1]+=$*P,k[2]+=$*A,k[3]+=$*D,k[5]+=P*P,k[6]+=P*A,k[7]+=P*D,k[10]+=A*A,k[11]+=A*D,k[15]+=D*D}return k[4]=k[1],k[8]=k[2],k[9]=k[6],k[12]=k[3],k[13]=k[7],k[14]=k[11],{R:k,m:L,N:M}}function C(I){const{R:T}=I,{m:R}=I,{N:k}=I,L=R[0],M=R[1],N=R[2],$=R[3],P=k==0?0:1/k,A=[T[0]-L*L*P,T[1]-L*M*P,T[2]-L*N*P,T[3]-L*$*P,T[4]-M*L*P,T[5]-M*M*P,T[6]-M*N*P,T[7]-M*$*P,T[8]-N*L*P,T[9]-N*M*P,T[10]-N*N*P,T[11]-N*$*P,T[12]-$*L*P,T[13]-$*M*P,T[14]-$*N*P,T[15]-$*$*P],D=A,j=S;let F=[Math.random(),Math.random(),Math.random(),Math.random()],q=0,W=0;if(k!=0)for(let U=0;U<16&&(F=j.multVec(D,F),W=Math.sqrt(j.dot(F,F)),F=j.sml(1/W,F),!(U!=0&&Math.abs(W-q)<1e-9));U++)q=W;const B=[L*P,M*P,N*P,$*P];return{Cov:A,q:B,e:F,L:q,eMq255:j.dot(j.sml(255,B),F),eMq:j.dot(F,B),rgba:(Math.round(255*B[3])<<24|Math.round(255*B[2])<<16|Math.round(255*B[1])<<8|Math.round(255*B[0])<<0)>>>0}}var S={multVec:(I,T)=>[I[0]*T[0]+I[1]*T[1]+I[2]*T[2]+I[3]*T[3],I[4]*T[0]+I[5]*T[1]+I[6]*T[2]+I[7]*T[3],I[8]*T[0]+I[9]*T[1]+I[10]*T[2]+I[11]*T[3],I[12]*T[0]+I[13]*T[1]+I[14]*T[2]+I[15]*T[3]],dot:(I,T)=>I[0]*T[0]+I[1]*T[1]+I[2]*T[2]+I[3]*T[3],sml:(I,T)=>[I*T[0],I*T[1],I*T[2],I*T[3]]};Pi.encode=function(T,R,k,L,M,N,$){L==null&&(L=0),$==null&&($=!1);const P=u(T,R,k,L,[!1,!1,!1,0,$,!1]);return c(P,-1),l(P,R,k,M,N)},Pi.encodeLL=function(T,R,k,L,M,N,$,P){const A={ctype:0+(L==1?0:2)+(M==0?0:4),depth:N,frames:[]},D=(L+M)*N,j=D*R;for(let F=0;F<T.length;F++)A.frames.push({rect:{x:0,y:0,width:R,height:k},img:new Uint8Array(T[F]),blend:0,dispose:1,bpp:Math.ceil(D/8),bpl:Math.ceil(j/8)});return c(A,0,!0),l(A,R,k,$,P)},Pi.encode.compress=u,Pi.encode.dither=a,Pi.quantize=y,Pi.quantize.getKDtree=x,Pi.quantize.getNearest=g})();const xD={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,s=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(s.data.buffer),a=(32*n+31)/32<<2,l=a*r,c=122+l,u=new ArrayBuffer(c),d=new DataView(u),f=1<<20;let p,m,y,x,g=f,w=0,_=0,E=0;function b(I){d.setUint16(_,I,!0),_+=2}function C(I){d.setUint32(_,I,!0),_+=4}function S(I){_+=I}b(19778),C(c),S(4),C(122),C(108),C(n),C(-r>>>0),b(1),b(32),C(3),C(l),C(2835),C(2835),S(8),C(16711680),C(65280),C(255),C(4278190080),C(1466527264),function I(){for(;w<r&&g>0;){for(x=122+w*a,p=0;p<i;)g--,m=o[E++],y=m>>>24,d.setUint32(x+p,m<<8|y),p+=4;w++}E<o.length?(g=f,setTimeout(I,xD._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Ir={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Mde={[Ir.CHROME]:16384,[Ir.FIREFOX]:11180,[Ir.DESKTOP_SAFARI]:16384,[Ir.IE]:8192,[Ir.IOS]:4096,[Ir.ETC]:8192};const fC=typeof window<"u",ED=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,b2=fC&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Ode=(fC||ED)&&(b2&&b2.getOriginalSymbol(window,"File")||typeof File<"u"&&File),CD=(fC||ED)&&(b2&&b2.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function pC(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),s=i[0].match(/:(.*?);/)[1],o=globalThis.atob(i[1]);let a=o.length;const l=new Uint8Array(a);for(;a--;)l[a]=o.charCodeAt(a);const c=new Blob([l],{type:s});c.name=e,c.lastModified=n,r(c)})}function ID(t){return new Promise((e,n)=>{const r=new CD;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function bD(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function Za(){if(Za.cachedResult!==void 0)return Za.cachedResult;let t=Ir.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Ir.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Ir.IOS:/Safari/i.test(e)?t=Ir.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Ir.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Ir.IE),Za.cachedResult=t,Za.cachedResult}function TD(t,e){const n=Za(),r=Mde[n];let i=t,s=e,o=i*s;const a=i>s?s/i:i/s;for(;o>r*r;){const l=(r+i)/2,c=(r+s)/2;l<c?(s=c,i=c*a):(s=l*a,i=l),o=i*s}return{width:i,height:s}}function nv(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function SD(t,e){const{width:n,height:r}=TD(t.width,t.height),[i,s]=nv(n,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(t,0,0,i.width,i.height),i}function Qp(){return Qp.cachedResult!==void 0||(Qp.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Qp.cachedResult}function T2(t,e={}){return new Promise(function(n,r){let i,s;var o=function(){try{return s=SD(i,e.fileType||t.type),n([i,s])}catch(l){return r(l)}},a=function(l){try{var c=function(u){try{throw u}catch(d){return r(d)}};try{let u;return ID(t).then(function(d){try{return u=d,bD(u).then(function(f){try{return i=f,function(){try{return o()}catch(p){return r(p)}}()}catch(p){return c(p)}},c)}catch(f){return c(f)}},c)}catch(u){c(u)}}catch(u){return r(u)}};try{if(Qp()||[Ir.DESKTOP_SAFARI,Ir.MOBILE_SAFARI].includes(Za()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,o()}catch{return a()}},a)}catch{a()}})}function S2(t,e,n,r,i=1){return new Promise(function(s,o){let a;if(e==="image/png"){let d,f,p;return d=t.getContext("2d"),{data:f}=d.getImageData(0,0,t.width,t.height),p=Pi.encode([f.buffer],t.width,t.height,4096*i),a=new Blob([p],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let d=function(){return l.call(this)};var c=d;if(e==="image/bmp")return new Promise(f=>xD.toBlob(t,f)).then((function(f){try{return a=f,a.name=n,a.lastModified=r,d.call(this)}catch(p){return o(p)}}).bind(this),o);{let f=function(){return d.call(this)};var u=f;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(p){try{return a=p,a.name=n,a.lastModified=r,f.call(this)}catch(m){return o(m)}}).bind(this),o);{let p;return p=t.toDataURL(e,i),pC(p,n,r).then((function(m){try{return a=m,f.call(this)}catch(y){return o(y)}}).bind(this),o)}}}function l(){return s(a)}})}function Ji(t){t.width=0,t.height=0}function Pc(){return new Promise(function(t,e){let n,r,i,s;return Pc.cachedResult!==void 0?t(Pc.cachedResult):pC("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,T2(n).then(function(a){try{return r=a[1],S2(r,n.type,n.name,n.lastModified).then(function(l){try{return i=l,Ji(r),T2(i).then(function(c){try{return s=c[0],Pc.cachedResult=s.width===1&&s.height===2,t(Pc.cachedResult)}catch(u){return e(u)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function RD(t){return new Promise((e,n)=>{const r=new CD;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const o=s.byteLength;let a=2;for(;a<o;){if(s.getUint16(a+2,!1)<=8)return e(-1);const l=s.getUint16(a,!1);if(a+=2,l==65505){if(s.getUint32(a+=2,!1)!=1165519206)return e(-1);const c=s.getUint16(a+=6,!1)==18761;a+=s.getUint32(a+4,c);const u=s.getUint16(a,c);a+=2;for(let d=0;d<u;d++)if(s.getUint16(a+12*d,c)==274)return e(s.getUint16(a+12*d+8,c))}else{if((65280&l)!=65280)break;a+=s.getUint16(a,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function AD(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let s,o=t;return isFinite(i)&&(n>i||r>i)&&([o,s]=nv(n,r),n>r?(o.width=i,o.height=r/n*i):(o.width=n/r*i,o.height=i),s.drawImage(t,0,0,o.width,o.height),Ji(t)),o}function kD(t,e){const{width:n}=t,{height:r}=t,[i,s]=nv(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,r),Ji(t),i}function rR(t,e,n=0){return new Promise(function(r,i){let s,o,a,l,c,u,d,f,p,m,y,x,g,w,_,E,b,C,S,I;function T(k=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=k,e.onProgress(Math.min(s,100))}function R(k){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(k,s),100),e.onProgress(s)}return s=n,o=e.maxIteration||10,a=1024*e.maxSizeMB*1024,T(),T2(t,e).then((function(k){try{return[,l]=k,T(),c=AD(l,e),T(),new Promise(function(L,M){var N;if(!(N=e.exifOrientation))return RD(t).then((function(P){try{return N=P,$.call(this)}catch(A){return M(A)}}).bind(this),M);function $(){return L(N)}return $.call(this)}).then((function(L){try{return u=L,T(),Pc().then((function(M){try{return d=M?c:kD(c,u),T(),f=e.initialQuality||1,p=e.fileType||t.type,S2(d,p,t.name,t.lastModified,f).then((function(N){try{{let D=function(){if(o--&&(_>a||_>g)){let F,q;return F=I?.95*S.width:S.width,q=I?.95*S.height:S.height,[b,C]=nv(F,q),C.drawImage(S,0,0,F,q),f*=p==="image/png"?.85:.95,S2(b,p,t.name,t.lastModified,f).then(function(W){try{return E=W,Ji(S),S=b,_=E.size,R(Math.min(99,Math.floor((w-_)/(w-a)*100))),D}catch(B){return i(B)}},i)}return[1]},j=function(){return Ji(S),Ji(b),Ji(c),Ji(d),Ji(l),R(100),r(E)};var P=D,A=j;if(m=N,T(),y=m.size>a,x=m.size>t.size,!y&&!x)return R(100),r(m);var $;return g=t.size,w=m.size,_=w,S=d,I=!e.alwaysKeepResolution&&y,($=(function(F){for(;F;){if(F.then)return void F.then($,i);try{if(F.pop){if(F.length)return F.pop()?j.call(this):F;F=D}else F=F.call(this)}catch(q){return i(q)}}}).bind(this))(D)}}catch(D){return i(D)}}).bind(this),i)}catch(N){return i(N)}}).bind(this),i)}catch(M){return i(M)}}).bind(this),i)}catch(L){return i(L)}}).bind(this),i)})}const $de=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Sy;function jde(t,e){return new Promise((n,r)=>{Sy||(Sy=function(o){const a=[];return typeof o=="function"?a.push(`(${o})()`):a.push(o),URL.createObjectURL(new Blob(a))}($de));const i=new Worker(Sy);i.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)i.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void i.terminate();n(o.data.file),i.terminate()}else e.onProgress(o.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function vn(t,e){return new Promise(function(n,r){let i,s,o,a,l,c;if(i={...e},o=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=p=>{o=p,typeof a=="function"&&a(o)},!(t instanceof Blob||t instanceof Ode))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||c)return rR(t,i).then((function(p){try{return s=p,f.call(this)}catch(m){return r(m)}}).bind(this),r);var u=(function(){try{return f.call(this)}catch(p){return r(p)}}).bind(this),d=function(p){try{return rR(t,i).then(function(m){try{return s=m,u()}catch(y){return r(y)}},r)}catch(m){return r(m)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",jde(t,i).then(function(p){try{return s=p,u()}catch{return d()}},d)}catch{d()}function f(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(s=wD(t,s))}catch{}return n(s)}})}vn.getDataUrlFromFile=ID,vn.getFilefromDataUrl=pC,vn.loadImage=bD,vn.drawImageInCanvas=SD,vn.drawFileInCanvas=T2,vn.canvasToFile=S2,vn.getExifOrientation=RD,vn.handleMaxWidthOrHeight=AD,vn.followExifOrientation=kD,vn.cleanupCanvasMemory=Ji,vn.isAutoOrientationInBrowser=Pc,vn.approximateBelowMaximumCanvasSizeOfBrowser=TD,vn.copyExifWithoutOrientation=wD,vn.getBrowserName=Za,vn.version="2.0.2";const Fde=({options:t,setValue:e,label:n,gender:r})=>{const[i,s]=v.useState(r),o=a=>{s(a.target.value)};return v.useEffect(()=>{e(i)},[i]),v.useEffect(()=>{s(r)},[r]),h.jsx(uD,{size:"small",variant:"standard",id:n,labelId:n,value:i,onChange:o,label:n,displayEmpty:!0,children:t.map(a=>h.jsx(Ice,{value:a.value,children:a.label},a.value))})};var iR="__sak";function PD(){var t;return t={},t["dependent-sdk-initialized-before-auth"]="Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",t}var Vde=PD,ax=new ya("auth","Firebase",PD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xc=new $f("@firebase/auth");function Ude(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Xc.logLevel<=He.WARN&&Xc.warn.apply(Xc,Fn(["Auth (".concat(qi,"): ").concat(t)],e,!1))}function Yp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Xc.logLevel<=He.ERROR&&Xc.error.apply(Xc,Fn(["Auth (".concat(qi,"): ").concat(t)],e,!1))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];throw gC.apply(void 0,Fn([t],e,!1))}function mC(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return gC.apply(void 0,Fn([t],e,!1))}function zde(t,e,n){var r,i=Je(Je({},Vde()),(r={},r[e]=n,r)),s=new ya("auth","Firebase",i);return s.create(e,{appName:t.name})}function gC(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(typeof t!="string"){var i=n[0],s=Fn([],n.slice(1),!0);return s[0]&&(s[0].appName=t.name),(e=t._errorFactory).create.apply(e,Fn([i],s,!1))}return ax.create.apply(ax,Fn([t],n,!1))}function Be(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!t)throw gC.apply(void 0,Fn([e],n,!1))}function Vs(t){var e="INTERNAL ASSERTION FAILED: "+t;throw Yp(e),new Error(e)}function Ru(t,e){t||Vs(e)}function Bde(){return sR()==="http:"||sR()==="https:"}function sR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wde(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Bde()||y6()||"connection"in navigator)?navigator.onLine:!0}function Hde(){if(typeof navigator>"u")return null;var t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qde=function(){function t(e,n){this.shortDelay=e,this.longDelay=n,Ru(n>e,"Short delay should be less than long delay!"),this.isMobile=J2()||v3()}return t.prototype.get=function(){return Wde()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gde(t,e){Ru(t.emulator,"Emulator should always be set here");var n=t.emulator.url;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ND=function(){function t(){}return t.initialize=function(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)},t.fetch=function(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.headers=function(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.response=function(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,Kde=(Se={},Se.CREDENTIAL_MISMATCH="custom-token-mismatch",Se.MISSING_CUSTOM_TOKEN="internal-error",Se.INVALID_IDENTIFIER="invalid-email",Se.MISSING_CONTINUE_URI="internal-error",Se.INVALID_PASSWORD="wrong-password",Se.MISSING_PASSWORD="missing-password",Se.INVALID_LOGIN_CREDENTIALS="invalid-credential",Se.EMAIL_EXISTS="email-already-in-use",Se.PASSWORD_LOGIN_DISABLED="operation-not-allowed",Se.INVALID_IDP_RESPONSE="invalid-credential",Se.INVALID_PENDING_TOKEN="invalid-credential",Se.FEDERATED_USER_ID_ALREADY_LINKED="credential-already-in-use",Se.MISSING_REQ_TYPE="internal-error",Se.EMAIL_NOT_FOUND="user-not-found",Se.RESET_PASSWORD_EXCEED_LIMIT="too-many-requests",Se.EXPIRED_OOB_CODE="expired-action-code",Se.INVALID_OOB_CODE="invalid-action-code",Se.MISSING_OOB_CODE="internal-error",Se.CREDENTIAL_TOO_OLD_LOGIN_AGAIN="requires-recent-login",Se.INVALID_ID_TOKEN="invalid-user-token",Se.TOKEN_EXPIRED="user-token-expired",Se.USER_NOT_FOUND="user-token-expired",Se.TOO_MANY_ATTEMPTS_TRY_LATER="too-many-requests",Se.PASSWORD_DOES_NOT_MEET_REQUIREMENTS="password-does-not-meet-requirements",Se.INVALID_CODE="invalid-verification-code",Se.INVALID_SESSION_INFO="invalid-verification-id",Se.INVALID_TEMPORARY_PROOF="invalid-credential",Se.MISSING_SESSION_INFO="missing-verification-id",Se.SESSION_EXPIRED="code-expired",Se.MISSING_ANDROID_PACKAGE_NAME="missing-android-pkg-name",Se.UNAUTHORIZED_DOMAIN="unauthorized-continue-uri",Se.INVALID_OAUTH_CLIENT_ID="invalid-oauth-client-id",Se.ADMIN_ONLY_OPERATION="admin-restricted-operation",Se.INVALID_MFA_PENDING_CREDENTIAL="invalid-multi-factor-session",Se.MFA_ENROLLMENT_NOT_FOUND="multi-factor-info-not-found",Se.MISSING_MFA_ENROLLMENT_ID="missing-multi-factor-info",Se.MISSING_MFA_PENDING_CREDENTIAL="missing-multi-factor-session",Se.SECOND_FACTOR_EXISTS="second-factor-already-in-use",Se.SECOND_FACTOR_LIMIT_EXCEEDED="maximum-second-factor-count-exceeded",Se.BLOCKING_FUNCTION_ERROR_RESPONSE="internal-error",Se.RECAPTCHA_NOT_ENABLED="recaptcha-not-enabled",Se.MISSING_RECAPTCHA_TOKEN="missing-recaptcha-token",Se.INVALID_RECAPTCHA_TOKEN="invalid-recaptcha-token",Se.INVALID_RECAPTCHA_ACTION="invalid-recaptcha-action",Se.MISSING_CLIENT_TYPE="missing-client-type",Se.MISSING_RECAPTCHA_VERSION="missing-recaptcha-version",Se.INVALID_RECAPTCHA_VERSION="invalid-recaptcha-version",Se.INVALID_REQ_TYPE="invalid-req-type",Se);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qde=new qde(3e4,6e4);function Is(t,e){return t.tenantId&&!e.tenantId?Je(Je({},e),{tenantId:t.tenantId}):e}function Gl(t,e,n,r,i){return i===void 0&&(i={}),Y(this,void 0,void 0,function(){var s=this;return X(this,function(o){return[2,LD(t,i,function(){return Y(s,void 0,void 0,function(){var a,l,c,u;return X(this,function(d){switch(d.label){case 0:return a={},l={},r&&(e==="GET"?l=r:a={body:JSON.stringify(r)}),c=so(Je({key:t.config.apiKey},l)).slice(1),[4,t._getAdditionalHeaders()];case 1:return u=d.sent(),u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),[2,ND.fetch()(DD(t,t.config.apiHost,n,c),Je({method:e,headers:u,referrerPolicy:"no-referrer"},a))]}})})})]})})}function LD(t,e,n){return Y(this,void 0,void 0,function(){var r,i,s,o,a,l,c,u,d,f;return X(this,function(p){switch(p.label){case 0:t._canInitEmulator=!1,r=Je(Je({},Kde),e),p.label=1;case 1:return p.trys.push([1,4,,5]),i=new Xde(t),[4,Promise.race([n(),i.promise])];case 2:return s=p.sent(),i.clearNetworkTimeout(),[4,s.json()];case 3:if(o=p.sent(),"needConfirmation"in o)throw Xd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return[2,o];if(a=s.ok?o.errorMessage:o.error.message,l=a.split(" : "),c=l[0],u=l[1],c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xd(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Xd(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Xd(t,"user-disabled",o);if(d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-"),u)throw zde(t,d,u);return ro(t,d),[3,5];case 4:if(f=p.sent(),f instanceof ri)throw f;return ro(t,"network-request-failed",{message:String(f)}),[3,5];case 5:return[2]}})})}function Kl(t,e,n,r,i){return i===void 0&&(i={}),Y(this,void 0,void 0,function(){var s;return X(this,function(o){switch(o.label){case 0:return[4,Gl(t,e,n,r,i)];case 1:return s=o.sent(),"mfaPendingCredential"in s&&ro(t,"multi-factor-auth-required",{_serverResponse:s}),[2,s]}})})}function DD(t,e,n,r){var i="".concat(e).concat(n,"?").concat(r);return t.config.emulator?Gde(t.config,i):"".concat(t.config.apiScheme,"://").concat(i)}function Yde(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Xde=function(){function t(e){var n=this;this.auth=e,this.timer=null,this.promise=new Promise(function(r,i){n.timer=setTimeout(function(){return i(mC(n.auth,"network-request-failed"))},Qde.get())})}return t.prototype.clearNetworkTimeout=function(){clearTimeout(this.timer)},t}();function Xd(t,e,n){var r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=mC(t,e,r);return i.customData._tokenResponse=n,i}function oR(t){return t!==void 0&&t.enterprise!==void 0}var Jde=function(){function t(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}return t.prototype.getProviderEnforcementState=function(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(var n=0,r=this.recaptchaEnforcementState;n<r.length;n++){var i=r[n];if(i.provider&&i.provider===e)return Yde(i.enforcementState)}return null},t.prototype.isProviderEnabled=function(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"},t}();function Zde(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Gl(t,"GET","/v2/recaptchaConfig",Is(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ehe(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Gl(t,"POST","/v1/accounts:delete",e)]})})}function the(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Gl(t,"POST","/v1/accounts:lookup",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(t){if(t)try{var e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function nhe(t,e){return e===void 0&&(e=!1),Y(this,void 0,void 0,function(){var n,r,i,s,o;return X(this,function(a){switch(a.label){case 0:return n=Ze(t),[4,n.getIdToken(e)];case 1:return r=a.sent(),i=vC(r),Be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error"),s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider,[2,{claims:i,token:r,authTime:Ih(Ry(i.auth_time)),issuedAtTime:Ih(Ry(i.iat)),expirationTime:Ih(Ry(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}]}})})}function Ry(t){return Number(t)*1e3}function vC(t){var e=t.split("."),n=e[0],r=e[1],i=e[2];if(n===void 0||r===void 0||i===void 0)return Yp("JWT malformed, contained fewer than 3 sections"),null;try{var s=qh(r);return s?JSON.parse(s):(Yp("Failed to decode base64 JWT payload"),null)}catch(o){return Yp("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function rhe(t){var e=vC(t);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t,e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(i.label){case 0:if(n)return[2,e];i.label=1;case 1:return i.trys.push([1,3,,6]),[4,e];case 2:return[2,i.sent()];case 3:return r=i.sent(),r instanceof ri&&ihe(r)?t.auth.currentUser!==t?[3,5]:[4,t.auth.signOut()]:[3,5];case 4:i.sent(),i.label=5;case 5:throw r;case 6:return[2]}})})}function ihe(t){var e=t.code;return e==="auth/".concat("user-disabled")||e==="auth/".concat("user-token-expired")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var she=function(){function t(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return t.prototype._start=function(){this.isRunning||(this.isRunning=!0,this.schedule())},t.prototype._stop=function(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))},t.prototype.getInterval=function(e){var n;if(e){var r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;var i=(n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0,r=i-Date.now()-3e5;return Math.max(0,r)}},t.prototype.schedule=function(e){var n=this;if(e===void 0&&(e=!1),!!this.isRunning){var r=this.getInterval(e);this.timerId=setTimeout(function(){return Y(n,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,this.iteration()];case 1:return i.sent(),[2]}})})},r)}},t.prototype.iteration=function(){return Y(this,void 0,void 0,function(){var e;return X(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.user.getIdToken(!0)];case 1:return n.sent(),[3,3];case 2:return e=n.sent(),(e==null?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),[2];case 3:return this.schedule(),[2]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MD=function(){function t(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}return t.prototype._initializeTime=function(){this.lastSignInTime=Ih(this.lastLoginAt),this.creationTime=Ih(this.createdAt)},t.prototype._copy=function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()},t.prototype.toJSON=function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t){var e;return Y(this,void 0,void 0,function(){var n,r,i,s,o,a,l,c,u,d;return X(this,function(f){switch(f.label){case 0:return n=t.auth,[4,t.getIdToken()];case 1:return r=f.sent(),[4,Rf(t,the(n,{idToken:r}))];case 2:return i=f.sent(),Be(i==null?void 0:i.users.length,n,"internal-error"),s=i.users[0],t._notifyReloadListener(s),o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?lhe(s.providerUserInfo):[],a=ahe(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new MD(s.createdAt,s.lastLoginAt),isAnonymous:u},Object.assign(t,d),[2]}})})}function ohe(t){return Y(this,void 0,void 0,function(){var e;return X(this,function(n){switch(n.label){case 0:return e=Ze(t),[4,R2(e)];case 1:return n.sent(),[4,e.auth._persistUserIfCurrent(e)];case 2:return n.sent(),e.auth._notifyListenersIfCurrent(e),[2]}})})}function ahe(t,e){var n=t.filter(function(r){return!e.some(function(i){return i.providerId===r.providerId})});return Fn(Fn([],n,!0),e,!0)}function lhe(t){return t.map(function(e){var n=e.providerId,r=Vu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function che(t,e){return Y(this,void 0,void 0,function(){var n,r=this;return X(this,function(i){switch(i.label){case 0:return[4,LD(t,{},function(){return Y(r,void 0,void 0,function(){var s,o,a,l,c,u;return X(this,function(d){switch(d.label){case 0:return s=so({grant_type:"refresh_token",refresh_token:e}).slice(1),o=t.config,a=o.tokenApiHost,l=o.apiKey,c=DD(t,a,"/v1/token","key=".concat(l)),[4,t._getAdditionalHeaders()];case 1:return u=d.sent(),u["Content-Type"]="application/x-www-form-urlencoded",[2,ND.fetch()(c,{method:"POST",headers:u,body:s})]}})})})];case 1:return n=i.sent(),[2,{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}]}})})}function uhe(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Gl(t,"POST","/v2/accounts:revokeToken",Is(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aR=function(){function t(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object.defineProperty(t.prototype,"isExpired",{get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4},enumerable:!1,configurable:!0}),t.prototype.updateFromServerResponse=function(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");var n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rhe(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)},t.prototype.getToken=function(e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){return X(this,function(r){switch(r.label){case 0:return Be(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?[2,this.accessToken]:this.refreshToken?[4,this.refresh(e,this.refreshToken)]:[3,2];case 1:return r.sent(),[2,this.accessToken];case 2:return[2,null]}})})},t.prototype.clearRefreshToken=function(){this.refreshToken=null},t.prototype.refresh=function(e,n){return Y(this,void 0,void 0,function(){var r,i,s,o;return X(this,function(a){switch(a.label){case 0:return[4,che(e,n)];case 1:return r=a.sent(),i=r.accessToken,s=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,s,Number(o)),[2]}})})},t.prototype.updateTokensAndExpiration=function(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3},t.fromJSON=function(e,n){var r=n.refreshToken,i=n.accessToken,s=n.expirationTime,o=new t;return r&&(Be(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Be(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Be(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o},t.prototype.toJSON=function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}},t.prototype._assign=function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime},t.prototype._clone=function(){return Object.assign(new t,this.toJSON())},t.prototype._performRefresh=function(){return Vs("not implemented")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t,e){Be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var lx=function(){function t(e){var n=e.uid,r=e.auth,i=e.stsTokenManager,s=Vu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new she(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?Fn([],s.providerData,!0):[],this.metadata=new MD(s.createdAt||void 0,s.lastLoginAt||void 0)}return t.prototype.getIdToken=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return[4,Rf(this,this.stsTokenManager.getToken(this.auth,e))];case 1:return n=r.sent(),Be(n,this.auth,"internal-error"),this.accessToken===n?[3,3]:(this.accessToken=n,[4,this.auth._persistUserIfCurrent(this)]);case 2:r.sent(),this.auth._notifyListenersIfCurrent(this),r.label=3;case 3:return[2,n]}})})},t.prototype.getIdTokenResult=function(e){return nhe(this,e)},t.prototype.reload=function(){return ohe(this)},t.prototype._assign=function(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(function(n){return Je({},n)}),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))},t.prototype._clone=function(e){var n=new t(Je(Je({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n},t.prototype._onReload=function(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)},t.prototype._notifyReloadListener=function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e},t.prototype._startProactiveRefresh=function(){this.proactiveRefresh._start()},t.prototype._stopProactiveRefresh=function(){this.proactiveRefresh._stop()},t.prototype._updateTokensIfNecessary=function(e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(i.label){case 0:return r=!1,e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n?[4,R2(this)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[4,this.auth._persistUserIfCurrent(this)];case 3:return i.sent(),r&&this.auth._notifyListenersIfCurrent(this),[2]}})})},t.prototype.delete=function(){return Y(this,void 0,void 0,function(){var e;return X(this,function(n){switch(n.label){case 0:return[4,this.getIdToken()];case 1:return e=n.sent(),[4,Rf(this,ehe(this.auth,{idToken:e}))];case 2:return n.sent(),this.stsTokenManager.clearRefreshToken(),[2,this.auth.signOut()]}})})},t.prototype.toJSON=function(){return Je(Je({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(e){return Je({},e)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})},Object.defineProperty(t.prototype,"refreshToken",{get:function(){return this.stsTokenManager.refreshToken||""},enumerable:!1,configurable:!0}),t._fromJSON=function(e,n){var r,i,s,o,a,l,c,u,d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,_=n.uid,E=n.emailVerified,b=n.isAnonymous,C=n.providerData,S=n.stsTokenManager;Be(_&&S,e,"internal-error");var I=aR.fromJSON(this.name,S);Be(typeof _=="string",e,"internal-error"),Eo(d,e.name),Eo(f,e.name),Be(typeof E=="boolean",e,"internal-error"),Be(typeof b=="boolean",e,"internal-error"),Eo(p,e.name),Eo(m,e.name),Eo(y,e.name),Eo(x,e.name),Eo(g,e.name),Eo(w,e.name);var T=new t({uid:_,auth:e,email:f,emailVerified:E,displayName:d,isAnonymous:b,photoURL:m,phoneNumber:p,tenantId:y,stsTokenManager:I,createdAt:g,lastLoginAt:w});return C&&Array.isArray(C)&&(T.providerData=C.map(function(R){return Je({},R)})),x&&(T._redirectEventId=x),T},t._fromIdTokenResponse=function(e,n,r){return r===void 0&&(r=!1),Y(this,void 0,void 0,function(){var i,s;return X(this,function(o){switch(o.label){case 0:return i=new aR,i.updateFromServerResponse(n),s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r}),[4,R2(s)];case 1:return o.sent(),[2,s]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lR=new Map;function Vo(t){Ru(t instanceof Function,"Expected a class definition");var e=lR.get(t);return e?(Ru(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dhe=function(){function t(){this.type="NONE",this.storage={}}return t.prototype._isAvailable=function(){return Y(this,void 0,void 0,function(){return X(this,function(e){return[2,!0]})})},t.prototype._set=function(e,n){return Y(this,void 0,void 0,function(){return X(this,function(r){return this.storage[e]=n,[2]})})},t.prototype._get=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){return n=this.storage[e],[2,n===void 0?null:n]})})},t.prototype._remove=function(e){return Y(this,void 0,void 0,function(){return X(this,function(n){return delete this.storage[e],[2]})})},t.prototype._addListener=function(e,n){},t.prototype._removeListener=function(e,n){},t.type="NONE",t}(),cR=dhe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(t,e,n){return"".concat("firebase",":").concat(t,":").concat(e,":").concat(n)}var uR=function(){function t(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;var i=this.auth,s=i.config,o=i.name;this.fullUserKey=Xp(this.userKey,s.apiKey,o),this.fullPersistenceKey=Xp("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return t.prototype.setCurrentUser=function(e){return this.persistence._set(this.fullUserKey,e.toJSON())},t.prototype.getCurrentUser=function(){return Y(this,void 0,void 0,function(){var e;return X(this,function(n){switch(n.label){case 0:return[4,this.persistence._get(this.fullUserKey)];case 1:return e=n.sent(),[2,e?lx._fromJSON(this.auth,e):null]}})})},t.prototype.removeCurrentUser=function(){return this.persistence._remove(this.fullUserKey)},t.prototype.savePersistenceForRedirect=function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)},t.prototype.setPersistence=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return this.persistence===e?[2]:[4,this.getCurrentUser()];case 1:return n=r.sent(),[4,this.removeCurrentUser()];case 2:return r.sent(),this.persistence=e,n?[2,this.setCurrentUser(n)]:[2]}})})},t.prototype.delete=function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)},t.create=function(e,n,r){return r===void 0&&(r="authUser"),Y(this,void 0,void 0,function(){var i,s,o,a,l,c,u,d,f,p,m=this;return X(this,function(y){switch(y.label){case 0:return n.length?[4,Promise.all(n.map(function(x){return Y(m,void 0,void 0,function(){return X(this,function(g){switch(g.label){case 0:return[4,x._isAvailable()];case 1:return g.sent()?[2,x]:[2,void 0]}})})}))]:[2,new t(Vo(cR),e,r)];case 1:i=y.sent().filter(function(x){return x}),s=i[0]||Vo(cR),o=Xp(r,e.config.apiKey,e.name),a=null,l=0,c=n,y.label=2;case 2:if(!(l<c.length))return[3,7];u=c[l],y.label=3;case 3:return y.trys.push([3,5,,6]),[4,u._get(o)];case 4:return d=y.sent(),d?(f=lx._fromJSON(e,d),u!==s&&(a=f),s=u,[3,7]):[3,6];case 5:return y.sent(),[3,6];case 6:return l++,[3,2];case 7:return p=i.filter(function(x){return x._shouldAllowMigration}),!s._shouldAllowMigration||!p.length?[2,new t(s,e,r)]:(s=p[0],a?[4,s._set(o,a.toJSON())]:[3,9]);case 8:y.sent(),y.label=9;case 9:return[4,Promise.all(n.map(function(x){return Y(m,void 0,void 0,function(){return X(this,function(g){switch(g.label){case 0:if(x===s)return[3,4];g.label=1;case 1:return g.trys.push([1,3,,4]),[4,x._remove(o)];case 2:return g.sent(),[3,4];case 3:return g.sent(),[3,4];case 4:return[2]}})})}))];case 10:return y.sent(),[2,new t(s,e,r)]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(t){var e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($D(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hhe(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FD(e))return"Blackberry";if(VD(e))return"Webos";if(OD(e))return"Safari";if((e.includes("chrome/")||fhe(e))&&!e.includes("edge/"))return"Chrome";if(jD(e))return"Android";var n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);return(r==null?void 0:r.length)===2?r[1]:"Other"}function hhe(t){return t===void 0&&(t=ct()),/firefox\//i.test(t)}function OD(t){t===void 0&&(t=ct());var e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fhe(t){return t===void 0&&(t=ct()),/crios\//i.test(t)}function $D(t){return t===void 0&&(t=ct()),/iemobile/i.test(t)}function jD(t){return t===void 0&&(t=ct()),/android/i.test(t)}function FD(t){return t===void 0&&(t=ct()),/blackberry/i.test(t)}function VD(t){return t===void 0&&(t=ct()),/webos/i.test(t)}function UD(t){return t===void 0&&(t=ct()),/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function phe(){return _6()&&document.documentMode===10}function mhe(t){return t===void 0&&(t=ct()),UD(t)||jD(t)||VD(t)||FD(t)||/windows phone/i.test(t)||$D(t)}function ghe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t,e){e===void 0&&(e=[]);var n;switch(t){case"Browser":n=dR(ct());break;case"Worker":n="".concat(dR(ct()),"-").concat(t);break;default:n=t}var r=e.length?e.join(","):"FirebaseCore-web";return"".concat(n,"/").concat("JsCore","/").concat(qi,"/").concat(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vhe=function(){function t(e){this.auth=e,this.queue=[]}return t.prototype.pushCallback=function(e,n){var r=this,i=function(o){return new Promise(function(a,l){try{var c=e(o);a(c)}catch(u){l(u)}})};i.onAbort=n,this.queue.push(i);var s=this.queue.length-1;return function(){r.queue[s]=function(){return Promise.resolve()}}},t.prototype.runMiddleware=function(e){return Y(this,void 0,void 0,function(){var n,r,i,s,o,a,l,c;return X(this,function(u){switch(u.label){case 0:if(this.auth.currentUser===e)return[2];n=[],u.label=1;case 1:u.trys.push([1,6,,7]),r=0,i=this.queue,u.label=2;case 2:return r<i.length?(s=i[r],[4,s(e)]):[3,5];case 3:u.sent(),s.onAbort&&n.push(s.onAbort),u.label=4;case 4:return r++,[3,2];case 5:return[3,7];case 6:for(o=u.sent(),n.reverse(),a=0,l=n;a<l.length;a++){c=l[a];try{c()}catch{}}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o==null?void 0:o.message});case 7:return[2]}})})},t}();/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yhe(t,e){return e===void 0&&(e={}),Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Gl(t,"GET","/v2/passwordPolicy",Is(t,e))]})})}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _he=6,whe=function(){function t(e){var n,r,i,s,o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:_he,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}return t.prototype.validatePassword=function(e){var n,r,i,s,o,a,l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l},t.prototype.validatePasswordLengthOptions=function(e,n){var r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)},t.prototype.validatePasswordCharacterOptions=function(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(var r,i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))},t.prototype.updatePasswordCharacterOptionsStatuses=function(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xhe=function(){function t(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hR(this),this.idTokenSubscription=new hR(this),this.beforeStateQueue=new vhe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ax,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}return t.prototype._initializeWithPersistence=function(e,n){var r=this;return n&&(this._popupRedirectResolver=Vo(n)),this._initializationPromise=this.queue(function(){return Y(r,void 0,void 0,function(){var i,s,o;return X(this,function(a){switch(a.label){case 0:return this._deleted?[2]:(i=this,[4,uR.create(this,e)]);case 1:if(i.persistenceManager=a.sent(),this._deleted)return[2];if(!(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively))return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this._popupRedirectResolver._initialize(this)];case 3:return a.sent(),[3,5];case 4:return a.sent(),[3,5];case 5:return[4,this.initializeCurrentUser(n)];case 6:return a.sent(),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,this._deleted?[2]:(this._isInitialized=!0,[2])}})})}),this._initializationPromise},t.prototype._onStorageEvent=function(){return Y(this,void 0,void 0,function(){var e;return X(this,function(n){switch(n.label){case 0:return this._deleted?[2]:[4,this.assertedPersistence.getCurrentUser()];case 1:return e=n.sent(),!this.currentUser&&!e?[2]:this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),[4,this.currentUser.getIdToken()]):[3,3];case 2:return n.sent(),[2];case 3:return[4,this._updateCurrentUser(e,!0)];case 4:return n.sent(),[2]}})})},t.prototype.initializeCurrentUser=function(e){var n;return Y(this,void 0,void 0,function(){var r,i,s,o,a,l,c;return X(this,function(u){switch(u.label){case 0:return[4,this.assertedPersistence.getCurrentUser()];case 1:return r=u.sent(),i=r,s=!1,e&&this.config.authDomain?[4,this.getOrInitRedirectPersistenceManager()]:[3,4];case 2:return u.sent(),o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,[4,this.tryRedirectSignIn(e)];case 3:l=u.sent(),(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0),u.label=4;case 4:if(!i)return[2,this.directlySetCurrentUser(null)];if(i._redirectEventId)return[3,9];if(!s)return[3,8];u.label=5;case 5:return u.trys.push([5,7,,8]),[4,this.beforeStateQueue.runMiddleware(i)];case 6:return u.sent(),[3,8];case 7:return c=u.sent(),i=r,this._popupRedirectResolver._overrideRedirectResult(this,function(){return Promise.reject(c)}),[3,8];case 8:return i?[2,this.reloadAndSetCurrentUserOrClear(i)]:[2,this.directlySetCurrentUser(null)];case 9:return Be(this._popupRedirectResolver,this,"argument-error"),[4,this.getOrInitRedirectPersistenceManager()];case 10:return u.sent(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?[2,this.directlySetCurrentUser(i)]:[2,this.reloadAndSetCurrentUserOrClear(i)]}})})},t.prototype.tryRedirectSignIn=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:n=null,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,this._popupRedirectResolver._completeRedirectFn(this,e,!0)];case 2:return n=r.sent(),[3,5];case 3:return r.sent(),[4,this._setRedirectUser(null)];case 4:return r.sent(),[3,5];case 5:return[2,n]}})})},t.prototype.reloadAndSetCurrentUserOrClear=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,R2(e)];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),(n==null?void 0:n.code)!=="auth/".concat("network-request-failed")?[2,this.directlySetCurrentUser(null)]:[3,3];case 3:return[2,this.directlySetCurrentUser(e)]}})})},t.prototype.useDeviceLanguage=function(){this.languageCode=Hde()},t.prototype._delete=function(){return Y(this,void 0,void 0,function(){return X(this,function(e){return this._deleted=!0,[2]})})},t.prototype.updateCurrentUser=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){return n=e?Ze(e):null,n&&Be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),[2,this._updateCurrentUser(n&&n._clone(this))]})})},t.prototype._updateCurrentUser=function(e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r=this;return X(this,function(i){switch(i.label){case 0:return this._deleted?[2]:(e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n?[3,2]:[4,this.beforeStateQueue.runMiddleware(e)]);case 1:i.sent(),i.label=2;case 2:return[2,this.queue(function(){return Y(r,void 0,void 0,function(){return X(this,function(s){switch(s.label){case 0:return[4,this.directlySetCurrentUser(e)];case 1:return s.sent(),this.notifyAuthListeners(),[2]}})})})]}})})},t.prototype.signOut=function(){return Y(this,void 0,void 0,function(){return X(this,function(e){switch(e.label){case 0:return[4,this.beforeStateQueue.runMiddleware(null)];case 1:return e.sent(),this.redirectPersistenceManager||this._popupRedirectResolver?[4,this._setRedirectUser(null)]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2,this._updateCurrentUser(null,!0)]}})})},t.prototype.setPersistence=function(e){var n=this;return this.queue(function(){return Y(n,void 0,void 0,function(){return X(this,function(r){switch(r.label){case 0:return[4,this.assertedPersistence.setPersistence(Vo(e))];case 1:return r.sent(),[2]}})})})},t.prototype._getRecaptchaConfig=function(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]},t.prototype.validatePassword=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return this._getPasswordPolicyInternal()?[3,2]:[4,this._updatePasswordPolicy()];case 1:r.sent(),r.label=2;case 2:return n=this._getPasswordPolicyInternal(),n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?[2,Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{}))]:[2,n.validatePassword(e)]}})})},t.prototype._getPasswordPolicyInternal=function(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]},t.prototype._updatePasswordPolicy=function(){return Y(this,void 0,void 0,function(){var e,n;return X(this,function(r){switch(r.label){case 0:return[4,yhe(this)];case 1:return e=r.sent(),n=new whe(e),this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n,[2]}})})},t.prototype._getPersistence=function(){return this.assertedPersistence.persistence.type},t.prototype._updateErrorMap=function(e){this._errorFactory=new ya("auth","Firebase",e())},t.prototype.onAuthStateChanged=function(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)},t.prototype.beforeAuthStateChanged=function(e,n){return this.beforeStateQueue.pushCallback(e,n)},t.prototype.onIdTokenChanged=function(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)},t.prototype.authStateReady=function(){var e=this;return new Promise(function(n,r){if(e.currentUser)n();else var i=e.onAuthStateChanged(function(){i(),n()},r)})},t.prototype.revokeAccessToken=function(e){return Y(this,void 0,void 0,function(){var n,r;return X(this,function(i){switch(i.label){case 0:return this.currentUser?[4,this.currentUser.getIdToken()]:[3,3];case 1:return n=i.sent(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n},this.tenantId!=null&&(r.tenantId=this.tenantId),[4,uhe(this,r)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.toJSON=function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}},t.prototype._setRedirectUser=function(e,n){return Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(i.label){case 0:return[4,this.getOrInitRedirectPersistenceManager(n)];case 1:return r=i.sent(),[2,e===null?r.removeCurrentUser():r.setCurrentUser(e)]}})})},t.prototype.getOrInitRedirectPersistenceManager=function(e){return Y(this,void 0,void 0,function(){var n,r,i;return X(this,function(s){switch(s.label){case 0:return this.redirectPersistenceManager?[3,3]:(n=e&&Vo(e)||this._popupRedirectResolver,Be(n,this,"argument-error"),r=this,[4,uR.create(this,[Vo(n._redirectPersistence)],"redirectUser")]);case 1:return r.redirectPersistenceManager=s.sent(),i=this,[4,this.redirectPersistenceManager.getCurrentUser()];case 2:i.redirectUser=s.sent(),s.label=3;case 3:return[2,this.redirectPersistenceManager]}})})},t.prototype._redirectUserForId=function(e){var n,r;return Y(this,void 0,void 0,function(){var i=this;return X(this,function(s){switch(s.label){case 0:return this._isInitialized?[4,this.queue(function(){return Y(i,void 0,void 0,function(){return X(this,function(o){return[2]})})})]:[3,2];case 1:s.sent(),s.label=2;case 2:return((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?[2,this._currentUser]:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?[2,this.redirectUser]:[2,null]}})})},t.prototype._persistUserIfCurrent=function(e){return Y(this,void 0,void 0,function(){var n=this;return X(this,function(r){return e===this.currentUser?[2,this.queue(function(){return Y(n,void 0,void 0,function(){return X(this,function(i){return[2,this.directlySetCurrentUser(e)]})})})]:[2]})})},t.prototype._notifyListenersIfCurrent=function(e){e===this.currentUser&&this.notifyAuthListeners()},t.prototype._key=function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)},t.prototype._startProactiveRefresh=function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()},t.prototype._stopProactiveRefresh=function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()},Object.defineProperty(t.prototype,"_currentUser",{get:function(){return this.currentUser},enumerable:!1,configurable:!0}),t.prototype.notifyAuthListeners=function(){var e,n;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}},t.prototype.registerStateListener=function(e,n,r,i){var s=this;if(this._deleted)return function(){};var o=typeof n=="function"?n:n.next.bind(n),a=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(l,this,"internal-error"),l.then(function(){a||o(s.currentUser)}),typeof n=="function"){var c=e.addObserver(n,r,i);return function(){a=!0,c()}}else{var u=e.addObserver(n);return function(){a=!0,u()}}},t.prototype.directlySetCurrentUser=function(e){return Y(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?[4,this.assertedPersistence.setCurrentUser(e)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.assertedPersistence.removeCurrentUser()];case 3:n.sent(),n.label=4;case 4:return[2]}})})},t.prototype.queue=function(e){return this.operations=this.operations.then(e,e),this.operations},Object.defineProperty(t.prototype,"assertedPersistence",{get:function(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager},enumerable:!1,configurable:!0}),t.prototype._logFramework=function(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zD(this.config.clientPlatform,this._getFrameworks()))},t.prototype._getFrameworks=function(){return this.frameworks},t.prototype._getAdditionalHeaders=function(){var e;return Y(this,void 0,void 0,function(){var n,r,i,s;return X(this,function(o){switch(o.label){case 0:return n=(s={},s["X-Client-Version"]=this.clientVersion,s),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),[4,(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader()];case 1:return r=o.sent(),r&&(n["X-Firebase-Client"]=r),[4,this._getAppCheckToken()];case 2:return i=o.sent(),i&&(n["X-Firebase-AppCheck"]=i),[2,n]}})})},t.prototype._getAppCheckToken=function(){var e;return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return[4,(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken()];case 1:return n=r.sent(),n!=null&&n.error&&Ude("Error while retrieving App Check token: ".concat(n.error)),[2,n==null?void 0:n.token]}})})},t}();function BD(t){return Ze(t)}var hR=function(){function t(e){var n=this;this.auth=e,this.observer=null,this.addObserver=I6(function(r){return n.observer=r})}return Object.defineProperty(t.prototype,"next",{get:function(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WD={loadJS:function(){return Y(this,void 0,void 0,function(){return X(this,function(t){throw new Error("Unable to load external scripts")})})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ehe(t){return WD.loadJS(t)}function Che(){return WD.recaptchaEnterpriseScript}var Ihe="recaptcha-enterprise",bhe="NO_RECAPTCHA",The=function(){function t(e){this.type=Ihe,this.auth=BD(e)}return t.prototype.verify=function(e,n){return e===void 0&&(e="verify"),n===void 0&&(n=!1),Y(this,void 0,void 0,function(){function r(o){return Y(this,void 0,void 0,function(){var a=this;return X(this,function(l){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return[2,o._agentRecaptchaConfig.siteKey];if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return[2,o._tenantRecaptchaConfigs[o.tenantId].siteKey]}return[2,new Promise(function(c,u){return Y(a,void 0,void 0,function(){return X(this,function(d){return Zde(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(function(f){if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{var p=new Jde(f);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(function(f){u(f)}),[2]})})})]})})}function i(o,a,l){var c=window.grecaptcha;oR(c)?c.enterprise.ready(function(){c.enterprise.execute(o,{action:e}).then(function(u){a(u)}).catch(function(){a(bhe)})}):l(Error("No reCAPTCHA enterprise script loaded."))}var s=this;return X(this,function(o){return[2,new Promise(function(a,l){r(s.auth).then(function(c){if(!n&&oR(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}var u=Che();u.length!==0&&(u+=c),Ehe(u).then(function(){i(c,a,l)}).catch(function(d){l(d)})}}).catch(function(c){l(c)})})]})})},t}();function fR(t,e,n,r){return r===void 0&&(r=!1),Y(this,void 0,void 0,function(){var i,s,o;return X(this,function(a){switch(a.label){case 0:i=new The(t),a.label=1;case 1:return a.trys.push([1,3,,5]),[4,i.verify(n)];case 2:return s=a.sent(),[3,5];case 3:return a.sent(),[4,i.verify(n,!0)];case 4:return s=a.sent(),[3,5];case 5:return o=Je({},e),r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),[2,o]}})})}function pR(t,e,n,r){var i;return Y(this,void 0,void 0,function(){var s,o=this;return X(this,function(a){switch(a.label){case 0:return!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")?[4,fR(t,e,n,n==="getOobCode")]:[3,2];case 1:return s=a.sent(),[2,r(t,s)];case 2:return[2,r(t,e).catch(function(l){return Y(o,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return l.code!=="auth/".concat("missing-recaptcha-token")?[3,2]:(console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),[4,fR(t,e,n,n==="getOobCode")]);case 1:return c=u.sent(),[2,r(t,c)];case 2:return[2,Promise.reject(l)]}})})})]}})})}function She(t,e){var n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E0=function(){function t(e,n){this.providerId=e,this.signInMethod=n}return t.prototype.toJSON=function(){return Vs("not implemented")},t.prototype._getIdTokenResponse=function(e){return Vs("not implemented")},t.prototype._linkToIdToken=function(e,n){return Vs("not implemented")},t.prototype._getReauthenticationResolver=function(e){return Vs("not implemented")},t}();function Rhe(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Gl(t,"POST","/v1/accounts:signUp",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ahe(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Kl(t,"POST","/v1/accounts:signInWithPassword",Is(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function khe(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Kl(t,"POST","/v1/accounts:signInWithEmailLink",Is(t,e))]})})}function Phe(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Kl(t,"POST","/v1/accounts:signInWithEmailLink",Is(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mR=function(t){Vt(e,t);function e(n,r,i,s){s===void 0&&(s=null);var o=t.call(this,"password",i)||this;return o._email=n,o._password=r,o._tenantId=s,o}return e._fromEmailAndPassword=function(n,r){return new e(n,r,"password")},e._fromEmailAndCode=function(n,r,i){return i===void 0&&(i=null),new e(n,r,"emailLink",i)},e.prototype.toJSON=function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null},e.prototype._getIdTokenResponse=function(n){return Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(this.signInMethod){case"password":return r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,pR(n,r,"signInWithPassword",Ahe)];case"emailLink":return[2,khe(n,{email:this._email,oobCode:this._password})];default:ro(n,"internal-error")}return[2]})})},e.prototype._linkToIdToken=function(n,r){return Y(this,void 0,void 0,function(){var i;return X(this,function(s){switch(this.signInMethod){case"password":return i={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,pR(n,i,"signUpPassword",Rhe)];case"emailLink":return[2,Phe(n,{idToken:r,email:this._email,oobCode:this._password})];default:ro(n,"internal-error")}return[2]})})},e.prototype._getReauthenticationResolver=function(n){return this._getIdTokenResponse(n)},e}(E0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Kl(t,"POST","/v1/accounts:signInWithIdp",Is(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nhe="http://localhost",Au=function(t){Vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.pendingToken=null,n}return e._fromParams=function(n){var r=new e(n.providerId,n.signInMethod);return n.idToken||n.accessToken?(n.idToken&&(r.idToken=n.idToken),n.accessToken&&(r.accessToken=n.accessToken),n.nonce&&!n.pendingToken&&(r.nonce=n.nonce),n.pendingToken&&(r.pendingToken=n.pendingToken)):n.oauthToken&&n.oauthTokenSecret?(r.accessToken=n.oauthToken,r.secret=n.oauthTokenSecret):ro("argument-error"),r},e.prototype.toJSON=function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,i=r.providerId,s=r.signInMethod,o=Vu(r,["providerId","signInMethod"]);if(!i||!s)return null;var a=new e(i,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a},e.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return Ws(n,r)},e.prototype._linkToIdToken=function(n,r){var i=this.buildRequest();return i.idToken=r,Ws(n,i)},e.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,Ws(n,r)},e.prototype.buildRequest=function(){var n={requestUri:Nhe,returnSecureToken:!0};if(this.pendingToken)n.pendingToken=this.pendingToken;else{var r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),n.postBody=so(r)}return n},e}(E0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ay;function Lhe(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Kl(t,"POST","/v1/accounts:signInWithPhoneNumber",Is(t,e))]})})}function Dhe(t,e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return[4,Kl(t,"POST","/v1/accounts:signInWithPhoneNumber",Is(t,e))];case 1:if(n=r.sent(),n.temporaryProof)throw Xd(t,"account-exists-with-different-credential",n);return[2,n]}})})}var Mhe=(Ay={},Ay.USER_NOT_FOUND="user-not-found",Ay);function Ohe(t,e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){return n=Je(Je({},e),{operation:"REAUTH"}),[2,Kl(t,"POST","/v1/accounts:signInWithPhoneNumber",Is(t,n),Mhe)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Vt(e,t);function e(n){var r=t.call(this,"phone","phone")||this;return r.params=n,r}return e._fromVerification=function(n,r){return new e({verificationId:n,verificationCode:r})},e._fromTokenResponse=function(n,r){return new e({phoneNumber:n,temporaryProof:r})},e.prototype._getIdTokenResponse=function(n){return Lhe(n,this._makeVerificationRequest())},e.prototype._linkToIdToken=function(n,r){return Dhe(n,Je({idToken:r},this._makeVerificationRequest()))},e.prototype._getReauthenticationResolver=function(n){return Ohe(n,this._makeVerificationRequest())},e.prototype._makeVerificationRequest=function(){var n=this.params,r=n.temporaryProof,i=n.phoneNumber,s=n.verificationId,o=n.verificationCode;return r&&i?{temporaryProof:r,phoneNumber:i}:{sessionInfo:s,code:o}},e.prototype.toJSON=function(){var n={providerId:this.providerId};return this.params.phoneNumber&&(n.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(n.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(n.verificationCode=this.params.verificationCode),this.params.verificationId&&(n.verificationId=this.params.verificationId),n},e.fromJSON=function(n){typeof n=="string"&&(n=JSON.parse(n));var r=n,i=r.verificationId,s=r.verificationCode,o=r.phoneNumber,a=r.temporaryProof;return!s&&!i&&!o&&!a?null:new e({verificationId:i,verificationCode:s,phoneNumber:o,temporaryProof:a})},e})(E0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $he(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jhe(t){var e=ns(rs(t)).link,n=e?ns(rs(e)).deep_link_id:null,r=ns(rs(t)).deep_link_id,i=r?ns(rs(r)).link:null;return i||r||n||e||t}var Fhe=function(){function t(e){var n,r,i,s,o,a,l=ns(rs(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=$he((i=l.mode)!==null&&i!==void 0?i:null);Be(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}return t.parseLink=function(e){var n=jhe(e);try{return new t(n)}catch{return null}},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vhe=function(){function t(){this.providerId=t.PROVIDER_ID}return t.credential=function(e,n){return mR._fromEmailAndPassword(e,n)},t.credentialWithLink=function(e,n){var r=Fhe.parseLink(n);return Be(r,"argument-error"),mR._fromEmailAndCode(e,r.code,r.tenantId)},t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HD=function(){function t(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}return t.prototype.setDefaultLanguage=function(e){this.defaultLanguageCode=e},t.prototype.setCustomParameters=function(e){return this.customParameters=e,this},t.prototype.getCustomParameters=function(){return this.customParameters},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C0=function(t){Vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.scopes=[],n}return e.prototype.addScope=function(n){return this.scopes.includes(n)||this.scopes.push(n),this},e.prototype.getScopes=function(){return Fn([],this.scopes,!0)},e}(HD);(function(t){Vt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.credentialFromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;return Be("providerId"in r&&"signInMethod"in r,"argument-error"),Au._fromParams(r)},e.prototype.credential=function(n){return this._credential(Je(Je({},n),{nonce:n.rawNonce}))},e.prototype._credential=function(n){return Be(n.idToken||n.accessToken,"argument-error"),Au._fromParams(Je(Je({},n),{providerId:this.providerId,signInMethod:this.providerId}))},e.credentialFromResult=function(n){return e.oauthCredentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.oauthCredentialFromTaggedObject(n.customData||{})},e.oauthCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthIdToken,o=i.oauthAccessToken,a=i.oauthTokenSecret,l=i.pendingToken,c=i.nonce,u=i.providerId;if(!o&&!a&&!s&&!l||!u)return null;try{return new e(u)._credential({idToken:s,accessToken:o,nonce:c,pendingToken:l})}catch{return null}},e})(C0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Vt(e,t);function e(){return t.call(this,"facebook.com")||this}return e.credential=function(n){return Au._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:n})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return e.credential(r.oauthAccessToken)}catch{return null}},e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(C0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Vt(e,t);function e(){var n=t.call(this,"google.com")||this;return n.addScope("profile"),n}return e.credential=function(n,r){return Au._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthIdToken,o=i.oauthAccessToken;if(!s&&!o)return null;try{return e.credential(s,o)}catch{return null}},e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(C0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Vt(e,t);function e(){return t.call(this,"github.com")||this}return e.credential=function(n){return Au._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:n})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return e.credential(r.oauthAccessToken)}catch{return null}},e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})(C0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uhe="http://localhost",gR=function(t){Vt(e,t);function e(n,r){var i=t.call(this,n,n)||this;return i.pendingToken=r,i}return e.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return Ws(n,r)},e.prototype._linkToIdToken=function(n,r){var i=this.buildRequest();return i.idToken=r,Ws(n,i)},e.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,Ws(n,r)},e.prototype.toJSON=function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,i=r.providerId,s=r.signInMethod,o=r.pendingToken;return!i||!s||!o||i!==s?null:new e(i,o)},e._create=function(n,r){return new e(n,r)},e.prototype.buildRequest=function(){return{requestUri:Uhe,returnSecureToken:!0,pendingToken:this.pendingToken}},e}(E0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zhe="saml.";(function(t){Vt(e,t);function e(n){return Be(n.startsWith(zhe),"argument-error"),t.call(this,n)||this}return e.credentialFromResult=function(n){return e.samlCredentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.samlCredentialFromTaggedObject(n.customData||{})},e.credentialFromJSON=function(n){var r=gR.fromJSON(n);return Be(r,"argument-error"),r},e.samlCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.pendingToken,o=i.providerId;if(!s||!o)return null;try{return gR._create(o,s)}catch{return null}},e})(HD);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Vt(e,t);function e(){return t.call(this,"twitter.com")||this}return e.credential=function(n,r){return Au._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:r})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthAccessToken,o=i.oauthTokenSecret;if(!s||!o)return null;try{return e.credential(s,o)}catch{return null}},e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})(C0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yC=function(){function t(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}return t._fromIdTokenResponse=function(e,n,r,i){return i===void 0&&(i=!1),Y(this,void 0,void 0,function(){var s,o,a;return X(this,function(l){switch(l.label){case 0:return[4,lx._fromIdTokenResponse(e,r,i)];case 1:return s=l.sent(),o=vR(r),a=new t({user:s,providerId:o,_tokenResponse:r,operationType:n}),[2,a]}})})},t._forOperation=function(e,n,r){return Y(this,void 0,void 0,function(){var i;return X(this,function(s){switch(s.label){case 0:return[4,e._updateTokensIfNecessary(r,!0)];case 1:return s.sent(),i=vR(r),[2,new t({user:e,providerId:i,_tokenResponse:r,operationType:n})]}})})},t}();function vR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bhe=function(t){Vt(e,t);function e(n,r,i,s){var o=this,a;return o=t.call(this,r.code,r.message)||this,o.operationType=i,o.user=s,Object.setPrototypeOf(o,e.prototype),o.customData={appName:n.name,tenantId:(a=n.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return e._fromErrorAndOperation=function(n,r,i,s){return new e(n,r,i,s)},e}(ri);function qD(t,e,n,r){var i=e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t);return i.catch(function(s){throw s.code==="auth/".concat("multi-factor-auth-required")?Bhe._fromErrorAndOperation(t,s,e,r):s})}function Whe(t,e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r,i,s,o,a,l;return X(this,function(c){switch(c.label){case 0:return i=Rf,s=[t],a=(o=e)._linkToIdToken,l=[t.auth],[4,t.getIdToken()];case 1:return[4,i.apply(void 0,s.concat([a.apply(o,l.concat([c.sent()])),n]))];case 2:return r=c.sent(),[2,yC._forOperation(t,"link",r)]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hhe(t,e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r,i,s,o,a,l;return X(this,function(c){switch(c.label){case 0:r=t.auth,i="reauthenticate",c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Rf(t,qD(r,i,e,t),n)];case 2:return s=c.sent(),Be(s.idToken,r,"internal-error"),o=vC(s.idToken),Be(o,r,"internal-error"),a=o.sub,Be(t.uid===a,r,"user-mismatch"),[2,yC._forOperation(t,i,s)];case 3:throw l=c.sent(),(l==null?void 0:l.code)==="auth/".concat("user-not-found")&&ro(r,"user-mismatch"),l;case 4:return[2]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qhe(t,e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r,i,s;return X(this,function(o){switch(o.label){case 0:return r="signIn",[4,qD(t,r,e)];case 1:return i=o.sent(),[4,yC._fromIdTokenResponse(t,r,i)];case 2:return s=o.sent(),n?[3,4]:[4,t._updateCurrentUser(s.user)];case 3:o.sent(),o.label=4;case 4:return[2,s]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GD=function(){function t(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return t._fromServerResponse=function(e,n){return"phoneInfo"in n?Ghe._fromServerResponse(e,n):"totpInfo"in n?Khe._fromServerResponse(e,n):ro(e,"internal-error")},t}(),Ghe=function(t){Vt(e,t);function e(n){var r=t.call(this,"phone",n)||this;return r.phoneNumber=n.phoneInfo,r}return e._fromServerResponse=function(n,r){return new e(r)},e}(GD),Khe=function(t){Vt(e,t);function e(n){return t.call(this,"totp",n)||this}return e._fromServerResponse=function(n,r){return new e(r)},e}(GD),_C=function(){function t(e,n,r){r===void 0&&(r={}),this.isNewUser=e,this.providerId=n,this.profile=r}return t}(),KD=function(t){Vt(e,t);function e(n,r,i,s){var o=t.call(this,n,r,i)||this;return o.username=s,o}return e}(_C);(function(t){Vt(e,t);function e(n,r){return t.call(this,n,"facebook.com",r)||this}return e})(_C);(function(t){Vt(e,t);function e(n,r){return t.call(this,n,"github.com",r,typeof(r==null?void 0:r.login)=="string"?r==null?void 0:r.login:null)||this}return e})(KD);(function(t){Vt(e,t);function e(n,r){return t.call(this,n,"google.com",r)||this}return e})(_C);(function(t){Vt(e,t);function e(n,r,i){return t.call(this,n,"twitter.com",r,i)||this}return e})(KD);var yR="@firebase/auth",_R="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qhe=function(){function t(e){this.auth=e,this.internalListeners=new Map}return t.prototype.getUid=function(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null},t.prototype.getToken=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return this.assertAuthConfigured(),[4,this.auth._initializationPromise];case 1:return r.sent(),this.auth.currentUser?[4,this.auth.currentUser.getIdToken(e)]:[2,null];case 2:return n=r.sent(),[2,{accessToken:n}]}})})},t.prototype.addAuthTokenListener=function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var n=this.auth.onIdTokenChanged(function(r){e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}},t.prototype.removeAuthTokenListener=function(e){this.assertAuthConfigured();var n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())},t.prototype.assertAuthConfigured=function(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")},t.prototype.updateProactiveRefresh=function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yhe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xhe(t){gs(new Bi("auth",function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),a=i.options,l=a.apiKey,c=a.authDomain;Be(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});var u={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zD(t)},d=new xhe(i,s,o,u);return She(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,n,r){var i=e.getProvider("auth-internal");i.initialize()})),gs(new Bi("auth-internal",function(e){var n=BD(e.getProvider("auth").getImmediate());return function(r){return new Qhe(r)}(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(yR,_R,Yhe(t)),Lr(yR,_R,"esm5")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QD=function(){function t(e,n){this.storageRetriever=e,this.type=n}return t.prototype._isAvailable=function(){try{return this.storage?(this.storage.setItem(iR,"1"),this.storage.removeItem(iR),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}},t.prototype._set=function(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()},t.prototype._get=function(e){var n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)},t.prototype._remove=function(e){return this.storage.removeItem(e),Promise.resolve()},Object.defineProperty(t.prototype,"storage",{get:function(){return this.storageRetriever()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jhe(){var t=ct();return OD(t)||UD(t)}var Zhe=1e3,efe=10;(function(t){Vt(e,t);function e(){var n=t.call(this,function(){return window.localStorage},"LOCAL")||this;return n.boundEventHandler=function(r,i){return n.onStorageEvent(r,i)},n.listeners={},n.localCache={},n.pollTimer=null,n.safariLocalStorageNotSynced=Jhe()&&ghe(),n.fallbackToPolling=mhe(),n._shouldAllowMigration=!0,n}return e.prototype.forAllChangedKeys=function(n){for(var r=0,i=Object.keys(this.listeners);r<i.length;r++){var s=i[r],o=this.storage.getItem(s),a=this.localCache[s];o!==a&&n(s,a,o)}},e.prototype.onStorageEvent=function(n,r){var i=this;if(r===void 0&&(r=!1),!n.key){this.forAllChangedKeys(function(c,u,d){i.notifyListeners(c,d)});return}var s=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var o=this.storage.getItem(s);if(n.newValue!==o)n.newValue!==null?this.storage.setItem(s,n.newValue):this.storage.removeItem(s);else if(this.localCache[s]===n.newValue&&!r)return}var a=function(){var c=i.storage.getItem(s);!r&&i.localCache[s]===c||i.notifyListeners(s,c)},l=this.storage.getItem(s);phe()&&l!==n.newValue&&n.newValue!==n.oldValue?setTimeout(a,efe):a()},e.prototype.notifyListeners=function(n,r){this.localCache[n]=r;var i=this.listeners[n];if(i)for(var s=0,o=Array.from(i);s<o.length;s++){var a=o[s];a(r&&JSON.parse(r))}},e.prototype.startPolling=function(){var n=this;this.stopPolling(),this.pollTimer=setInterval(function(){n.forAllChangedKeys(function(r,i,s){n.onStorageEvent(new StorageEvent("storage",{key:r,oldValue:i,newValue:s}),!0)})},Zhe)},e.prototype.stopPolling=function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)},e.prototype.attachListener=function(){window.addEventListener("storage",this.boundEventHandler)},e.prototype.detachListener=function(){window.removeEventListener("storage",this.boundEventHandler)},e.prototype._addListener=function(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)},e.prototype._removeListener=function(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())},e.prototype._set=function(n,r){return Y(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,t.prototype._set.call(this,n,r)];case 1:return i.sent(),this.localCache[n]=JSON.stringify(r),[2]}})})},e.prototype._get=function(n){return Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(i.label){case 0:return[4,t.prototype._get.call(this,n)];case 1:return r=i.sent(),this.localCache[n]=JSON.stringify(r),[2,r]}})})},e.prototype._remove=function(n){return Y(this,void 0,void 0,function(){return X(this,function(r){switch(r.label){case 0:return[4,t.prototype._remove.call(this,n)];case 1:return r.sent(),delete this.localCache[n],[2]}})})},e.type="LOCAL",e})(QD);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Vt(e,t);function e(){return t.call(this,function(){return window.sessionStorage},"SESSION")||this}return e.prototype._addListener=function(n,r){},e.prototype._removeListener=function(n,r){},e.type="SESSION",e})(QD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wC=function(t){Vt(e,t);function e(n){var r=t.call(this,"custom","custom")||this;return r.params=n,r}return e.prototype._getIdTokenResponse=function(n){return Ws(n,this._buildIdpRequest())},e.prototype._linkToIdToken=function(n,r){return Ws(n,this._buildIdpRequest(r))},e.prototype._getReauthenticationResolver=function(n){return Ws(n,this._buildIdpRequest())},e.prototype._buildIdpRequest=function(n){var r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return n&&(r.idToken=n),r},e}(E0);function tfe(t){return qhe(t.auth,new wC(t),t.bypassAuthState)}function nfe(t){var e=t.auth,n=t.user;return Be(n,e,"internal-error"),Hhe(n,new wC(t),t.bypassAuthState)}function rfe(t){return Y(this,void 0,void 0,function(){var e,n;return X(this,function(r){return e=t.auth,n=t.user,Be(n,e,"internal-error"),[2,Whe(n,new wC(t),t.bypassAuthState)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ife=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return t.prototype.execute=function(){var e=this;return new Promise(function(n,r){return Y(e,void 0,void 0,function(){var i,s;return X(this,function(o){switch(o.label){case 0:this.pendingPromise={resolve:n,reject:r},o.label=1;case 1:return o.trys.push([1,4,,5]),i=this,[4,this.resolver._initialize(this.auth)];case 2:return i.eventManager=o.sent(),[4,this.onExecution()];case 3:return o.sent(),this.eventManager.registerConsumer(this),[3,5];case 4:return s=o.sent(),this.reject(s),[3,5];case 5:return[2]}})})})},t.prototype.onAuthEvent=function(e){return Y(this,void 0,void 0,function(){var n,r,i,s,o,a,l,c,u;return X(this,function(d){switch(d.label){case 0:if(n=e.urlResponse,r=e.sessionId,i=e.postBody,s=e.tenantId,o=e.error,a=e.type,o)return this.reject(o),[2];l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},d.label=1;case 1:return d.trys.push([1,3,,4]),c=this.resolve,[4,this.getIdpTask(a)(l)];case 2:return c.apply(this,[d.sent()]),[3,4];case 3:return u=d.sent(),this.reject(u),[3,4];case 4:return[2]}})})},t.prototype.onError=function(e){this.reject(e)},t.prototype.getIdpTask=function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tfe;case"linkViaPopup":case"linkViaRedirect":return rfe;case"reauthViaPopup":case"reauthViaRedirect":return nfe;default:ro(this.auth,"internal-error")}},t.prototype.resolve=function(e){Ru(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()},t.prototype.reject=function(e){Ru(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()},t.prototype.unregisterAndCleanUp=function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sfe="pendingRedirect",ky=new Map;(function(t){Vt(e,t);function e(n,r,i){i===void 0&&(i=!1);var s=t.call(this,n,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,i)||this;return s.eventId=null,s}return e.prototype.execute=function(){return Y(this,void 0,void 0,function(){var n,r,i,s,o;return X(this,function(a){switch(a.label){case 0:if(n=ky.get(this.auth._key()),n)return[3,8];a.label=1;case 1:return a.trys.push([1,6,,7]),[4,ofe(this.resolver,this.auth)];case 2:return r=a.sent(),r?[4,t.prototype.execute.call(this)]:[3,4];case 3:return s=a.sent(),[3,5];case 4:s=null,a.label=5;case 5:return i=s,n=function(){return Promise.resolve(i)},[3,7];case 6:return o=a.sent(),n=function(){return Promise.reject(o)},[3,7];case 7:ky.set(this.auth._key(),n),a.label=8;case 8:return this.bypassAuthState||ky.set(this.auth._key(),function(){return Promise.resolve(null)}),[2,n()]}})})},e.prototype.onAuthEvent=function(n){return Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(i.label){case 0:return n.type==="signInViaRedirect"?[2,t.prototype.onAuthEvent.call(this,n)]:n.type==="unknown"?(this.resolve(null),[2]):n.eventId?[4,this.auth._redirectUserForId(n.eventId)]:[3,2];case 1:if(r=i.sent(),r)return this.user=r,[2,t.prototype.onAuthEvent.call(this,n)];this.resolve(null),i.label=2;case 2:return[2]}})})},e.prototype.onExecution=function(){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2]})})},e.prototype.cleanUp=function(){},e})(ife);function ofe(t,e){return Y(this,void 0,void 0,function(){var n,r,i;return X(this,function(s){switch(s.label){case 0:return n=lfe(e),r=afe(t),[4,r._isAvailable()];case 1:return s.sent()?[4,r._get(n)]:[2,!1];case 2:return i=s.sent()==="true",[4,r._remove(n)];case 3:return s.sent(),[2,i]}})})}function afe(t){return Vo(t._redirectPersistence)}function lfe(t){return Xp(sfe,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cfe=10*60*1e3,ufe=function(){function t(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return t.prototype.registerConsumer=function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)},t.prototype.unregisterConsumer=function(e){this.consumers.delete(e)},t.prototype.onEvent=function(e){var n=this;if(this.hasEventBeenHandled(e))return!1;var r=!1;return this.consumers.forEach(function(i){n.isEventForConsumer(e,i)&&(r=!0,n.sendToConsumer(e,i),n.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dfe(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r},t.prototype.sendToConsumer=function(e,n){var r;if(e.error&&!YD(e)){var i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mC(this.auth,i))}else n.onAuthEvent(e)},t.prototype.isEventForConsumer=function(e,n){var r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r},t.prototype.hasEventBeenHandled=function(e){return Date.now()-this.lastProcessedEventTime>=cfe&&this.cachedEventUids.clear(),this.cachedEventUids.has(wR(e))},t.prototype.saveEventToCache=function(e){this.cachedEventUids.add(wR(e)),this.lastProcessedEventTime=Date.now()},t}();function wR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(function(e){return e}).join("-")}function YD(t){var e=t.type,n=t.error;return e==="unknown"&&(n==null?void 0:n.code)==="auth/".concat("no-auth-event")}function dfe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YD(t);default:return!1}}(function(t){Vt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.passiveListeners=new Set,n.initPromise=new Promise(function(r){n.resolveInialized=r}),n}return e.prototype.addPassiveListener=function(n){this.passiveListeners.add(n)},e.prototype.removePassiveListener=function(n){this.passiveListeners.delete(n)},e.prototype.resetRedirect=function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1},e.prototype.onEvent=function(n){return this.resolveInialized(),this.passiveListeners.forEach(function(r){return r(n)}),t.prototype.onEvent.call(this,n)},e.prototype.initialized=function(){return Y(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),[2]}})})},e})(ufe);Xhe("Cordova");const hfe=({openChangePassword:t,setOpenChangePassword:e,openMessage:n})=>{v.useContext(ee);const[r,i]=v.useState(""),[s,o]=v.useState(""),a=async()=>{const d=Cr.currentUser;r.trim()&&s.trim()?await l(d):n("Enter both old and new password")},l=async d=>{try{const f=Vhe.credential(d.email,r);await Zz(d,f),await iB(d,s),n("Your password is changed successfully"),e(!1)}catch(f){f.code==="auth/invalid-credentail"?n("Your old password is wrong"):n(`Re-authentication failed: ${f.message}`)}},c=()=>{try{a()}catch(d){n(d.message)}},u=async()=>{try{await tB(Cr,Cr.currentUser.email),n("Password rest email was sent to "+Cr.currentUser.email)}catch(d){n(d.message)}};return h.jsxs(Cs,{open:t,onClose:()=>e(!1),children:[h.jsxs(Fe,{m:2,children:[h.jsxs(Fe,{mb:2,children:[h.jsx(It,{variant:"h6",children:"Change your account password"}),h.jsx(It,{variant:"caption",children:"Only change the password if you need to and keep your password"})]}),h.jsxs(Mr,{gap:2,children:[h.jsx(zr,{type:"password",size:"small",label:"Enter old password",value:r,onChange:d=>i(d.target.value)}),h.jsx(zr,{type:"password",size:"small",label:"Enter new password",value:s,onChange:d=>o(d.target.value)})]}),h.jsx(Pe,{size:"small",onClick:c,variant:"outlined",sx:{mt:1},children:"Change"})]}),h.jsx(Fe,{pb:2,pl:2,pr:2,children:h.jsxs(It,{variant:"caption",children:["If you forgot your password,"," ",h.jsxs(Pe,{onClick:u,sx:{textDecoration:"underline"},size:"small",children:[" ","click here"]})," ","to reset."]})})]})},ffe=({openViewPassword:t,setOpenViewPassword:e})=>{const{userData:n}=v.useContext(ee),[r,i]=v.useState(!1),s=()=>{var o;return(o=n==null?void 0:n.password)!=null&&o.trim()?n==null?void 0:n.password:"You logged in with Google. So, your passwod is just blank."};return h.jsx(Cs,{open:t,onClose:()=>e(!1),children:h.jsxs(Fe,{m:3,children:[h.jsx(It,{variant:"h6",mb:2,children:"Your account password"}),h.jsxs(Mr,{gap:2,children:[h.jsx(It,{children:r?s():"*************"}),h.jsx(Pe,{onClick:()=>i(!r),size:"small",sx:{textDecoration:"underline"},children:r?"Hide":"View"})]})]})})},pfe=()=>{var B;const{userData:t,theme:e,setHeaderTitle:n,setSnackbarOpen:r,setSnackbarMessage:i,setUserId:s}=v.useContext(ee),[o,a]=v.useState((t==null?void 0:t.name)||""),[l,c]=v.useState((t==null?void 0:t.gender)||""),[u,d]=v.useState(null),[f,p]=v.useState(!1),[m,y]=v.useState(!1),[x,g]=v.useState(!0),w=v.useRef(null),_=_e(Ee,"users",Tr.get("userId")),E=(t==null?void 0:t.nameChangeCount)||0,b=(B=t==null?void 0:t.lastNameChangeDate)==null?void 0:B.toDate(),C=new Date,S=C.getMonth()===(b==null?void 0:b.getMonth())&&C.getFullYear()===(b==null?void 0:b.getFullYear()),[I,T]=v.useState(!1),[R,k]=v.useState(!1),[L,M]=v.useState(null);v.useEffect(()=>{lB(Cr,U=>{U&&(M(U),g(!1))})},[Cr]);const N=xn(),$=U=>{r(!0),i(U)};s1(w,p);const P=()=>(t==null?void 0:t.gender)!==l;v.useEffect(()=>{n("Settings")},[]),v.useEffect(()=>{(async()=>{!S&&(t!=null&&t.name)&&await cr(_,{nameChangeCount:0,lastNameChangeDate:C})})()},[t]);const A=async(U,V)=>{if(o.trim())try{await cr(_,U),$(V)}catch(G){$(G.message)}},D=()=>{const U=new Date;if(S)if(E<3){const V={name:o.trim(),nameChangeCount:E+1,lastNameChangeDate:U};A(V,"Updated name successfully!")}else $("You can only change your name 3 times per month!");else{const V={name:o.trim(),nameChangeCount:1,lastNameChangeDate:U};A(V,"Updated name successfully!")}};v.useEffect(()=>{a(t==null?void 0:t.name),c(t==null?void 0:t.gender)},[t]);const j=async()=>{const U=await vn(u,{maxSizeMB:.3,maxWidthOrHeight:300,useWebWorker:!0}),V=Fo(Xa,`profile/${t==null?void 0:t.uid}/${t==null?void 0:t.name}-${u.name}`);try{const G=_e(Ee,"users",t==null?void 0:t.uid);$("Uploading image...");const oe=await hf(V,U),te={image:await ff(oe.ref)};await cr(G,te),d(null),$("Updated profile picture successfully!")}catch(G){$(G.message)}},F=async()=>{try{await cr(_,{gender:l}),$("Updated gender successfully!")}catch(U){$("Error updating gender: "+U.message)}},q=()=>{u&&j(),(o==null?void 0:o.trim())!==(t==null?void 0:t.name)&&D(),P()&&F()},W=async()=>{try{await eP(Cr),Tr.remove("userId"),s(null),N("/login")}catch(U){console.log(U.message)}};return h.jsxs("div",{className:"Settings m-2",children:[I&&h.jsx(hfe,{openChangePassword:I,setOpenChangePassword:T,openMessage:$}),R&&h.jsx(ffe,{openViewPassword:R,setOpenViewPassword:k}),h.jsx(no,{data:{value:m,yesButton:W,noButton:()=>{y(!1)},text:"Are you sure to log out ?",setValue:y}}),h.jsx(_r,{}),h.jsxs(Fe,{className:"",children:[h.jsx(It,{sx:{fontWeight:600,mt:2,mb:1},children:"My Account"}),h.jsxs(Fe,{className:"border border-slate-300 rounded-md shadow-lg",children:[h.jsxs(Fe,{className:"p-2 flex flex-col items-center",children:[h.jsxs("label",{className:"relative size-20 ",htmlFor:"imageInput",children:[t?h.jsx(si,{className:"hover:opacity-70 cursor-pointer",name:(t==null?void 0:t.name)||o||"User",image:u?URL.createObjectURL(u):t==null?void 0:t.image,size:"size-full",fontSize:"text-3xl"}):h.jsx(pe,{variant:"circular",width:"100%",height:"100%"}),h.jsx("input",{type:"file",accept:"image/*",id:"imageInput",className:"hidden ",onChange:U=>d(U.target.files[0])})]}),h.jsxs("div",{ref:w,className:"flex mt-2 gap-x-2 items-center",children:[f?h.jsx(zr,{size:"small",variant:"standard",label:"Full Name",autoFocus:!0,value:o,onChange:U=>a(U.target.value),className:`pl-1 pr-1 w-auto font-bold ${e==="light"?"outline-none bg-slate-200/60":"bg-slate-500/70 outline-none"}`,placeholder:"Enter your full name"}):h.jsx(h.Fragment,{children:t?h.jsx(It,{className:"font-bold",children:o||(t==null?void 0:t.name)||"Username"}):h.jsx(pe,{height:40,width:150})}),t?h.jsx(Rt,{size:"small",onClick:()=>{p(!f)},className:" p-1  cursor-pointer ",children:h.jsx(tv,{sx:{width:20,height:20}})}):h.jsx(pe,{variant:"circular",height:20,width:20})]}),t?h.jsx(It,{x:{fontSize:"0.8rem"},className:"text-slate-500",children:(t==null?void 0:t.email)||"example@gmail.com"}):h.jsx(pe,{height:30,width:120}),t?h.jsxs(It,{sx:{fontSize:"0.8rem"},className:"text-slate-500",children:["User ID: ",(t==null?void 0:t.uid)||"user12345"," ",h.jsx(Rt,{size:"small",onClick:()=>{navigator.clipboard.writeText(t==null?void 0:t.uid),$("UID copied to the clipboard")},className:" p-1  cursor-pointer",children:h.jsx(Zue,{sx:{width:20,height:20}})})]}):h.jsx(pe,{height:30,width:180}),t?h.jsx(Pe,{startIcon:h.jsx(pD,{}),onClick:()=>y(!0),sx:{mt:2},variant:"outlined",children:"Log Out"}):h.jsx(pe,{width:90,height:55})]}),h.jsx(Fe,{className:"p-2 flex justify-center border-t border-slate-200",children:h.jsxs(Mr,{direction:"row",sx:{width:"50%",alignItems:"center",justifyContent:"space-between"},children:[t?h.jsx(It,{variant:"subtitle1",children:"Gender"}):h.jsx(pe,{height:45,width:70}),t?h.jsx(Fde,{label:"Gender",gender:l,options:[{value:"male",label:"Male"},{value:"female",label:"Female"}],setValue:c}):h.jsx(pe,{height:45,width:70})]})}),L&&h.jsx(h.Fragment,{children:h.jsx(Fe,{className:"p-2 flex justify-center border-t border-b border-slate-200",children:h.jsxs(Mr,{direction:"row",sx:{width:"50%",alignItems:"center",justifyContent:"space-between"},children:[t?h.jsx(It,{variant:"subtitle1",children:"Password"}):h.jsx(pe,{height:45,width:70}),t?h.jsx(Mr,{direction:"row",children:h.jsx(Pe,{size:"small",sx:{textDecoration:"underline"},className:" text-blue",onClick:()=>T(!0),variant:"text",children:"Change"})}):h.jsx(pe,{height:45,width:70})]})})}),h.jsx("div",{className:`grid gap-y-2 p-2  ${e==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:h.jsx("div",{children:(t==null?void 0:t.name)&&h.jsxs("p",{className:"text-red-600 font-bold text-sm mb-1",children:["You have changed your name ",`${E} of 3`," ",E>1?"times":"time"," this month!"]})})})]})]}),h.jsx("div",{className:"flex gap-x-2 mt-2",children:P()||u||(o==null?void 0:o.trim())!==(t==null?void 0:t.name)?h.jsx(Pe,{variant:"outlined",onClick:q,startIcon:h.jsx("img",{className:"size-7",src:rn("save")}),children:"Update"}):""})]})},xR=({data:t})=>{const{text:e,onChangeFn:n,value:r,placeholder:i}=t,{theme:s}=v.useContext(ee);return h.jsxs("div",{className:"grid items-center gap-y-2",children:[h.jsx("div",{className:"font-medium",children:e}),h.jsx("input",{onChange:n,value:r,className:`border rounded-md h-10 pl-1 pr-1  w-full outline-2  ${s==="light"?"focus:outline-blue-300 border-gray-300":"border-slate-500/70 outline-none bg-slate-500/70"}`,placeholder:i})]})},mfe=({data:t})=>{const{close:e}=t,{theme:n,userId:r}=v.useContext(ee),[i,s]=v.useState(""),[o,a]=v.useState(""),l=i.trim(),c=Oe(Ee,"tests"),u=async p=>{try{await ua(c,p)}catch(m){console.log(m.message)}},d=()=>{const p={uid:r,isUploaded:!1,name:i,description:o,quizzes:[],gradingRules:[],time:ur()};u(p),e()},f=()=>{l&&d()};return v.useEffect(()=>(Pl("hidden"),()=>{Pl("auto")}),[]),h.jsx("div",{className:"fixed flex items-center z-20 bg-black/60 justify-center top-0 left-0 right-0 bottom-0",children:h.jsxs("div",{className:`border w-4/5 sm:w-4/5 md:w-3/5 lg:w-2/5 rounded-md p-10 pb-5 grid gap-y-5 ${n==="light"?"bg-white border-gray-300":"bg-slate-600 border-slate-500/70 text-white"}`,children:[h.jsxs("div",{className:"grid gap-y-2",children:[h.jsx(xR,{data:{text:"Name",onChangeFn:p=>s(p.target.value),value:i,placeholder:"Type test name here"}}),h.jsx(xR,{data:{text:"Description",onChangeFn:p=>a(p.target.value),value:o,placeholder:"Type description here"}})]}),h.jsxs("div",{className:"flex items-center gap-x-3 justify-center",children:[h.jsx(Su,{data:{clickFn:f,text:"Save",image:"save"}}),h.jsx(Su,{data:{clickFn:e,text:"Cancel"}})]})]})})},gfe=({data:t})=>{const{options:e,value:n,setValue:r}=t,{theme:i}=v.useContext(ee),[s,o]=v.useState(!1),a=v.useRef(null);s1(a,o);const l=()=>{o(!s)},c=u=>{r(u)};return h.jsxs("div",{ref:a,className:"w-full relative font-padauk",children:[h.jsxs("button",{onClick:l,className:`border flex items-center rounded-lg justify-between h-10 w-full cursor-pointer hover:border-blue-500 shadow-sm gap-x-2 px-2 ${i==="light"?"border-gray-300 hover:bg-gray-50":"hover:bg-slate-500/70 text-white border-slate-500/70"}`,children:[h.jsx("span",{children:n||"Select correct answer"}),h.jsx("img",{className:"h-6 w-6",src:rn(s?"up":"down")})]}),s&&e.length!==0?h.jsx("div",{className:`absolute grid gap-y-1 min-w-full p-2 rounded-md border -top-40 ${i==="light"?"border-gray-200 bg-white":"text-white bg-slate-500/70 border-slate-500/70"}`,children:e.map(u=>h.jsx("div",{onClick:()=>{l(),c(u)},className:`p-1 cursor-pointer rounded-lg transition-all ${i==="light"?`${u===n?"bg-black font-medium text-white ":"hover:bg-gray-200"}`:`${u===n?"bg-slate-600 font-medium text-white ":"hover:bg-slate-600"}`}`,children:u},`choice-${u}`))}):""]})},Do=({data:t})=>{const{choice:e,handleFn:n,value:r,placeholder:i}=t,{theme:s}=v.useContext(ee);return h.jsxs("div",{className:"grid gap-y-2 font-padauk",children:[h.jsx("div",{className:`font-medium ${s==="light"?"":"text-white"}`,children:e}),h.jsx("input",{onChange:o=>n(e,o),value:r,className:` w-full border rounded-md h-10 pl-1 pr-1  ${s==="light"?"focus:outline-blue-500 border-gray-300":"text-white outline-none border-slate-500/70 bg-slate-600"}`,placeholder:i})]})},vfe=({data:t})=>{const{cancel:e,quizzes:n,setQuizzes:r,editData:i,clearEditData:s}=t,{theme:o}=v.useContext(ee),[a,l]=v.useState(i?i.question:""),[c,u]=v.useState(i?i.choices[0]:""),[d,f]=v.useState(i?i.choices[1]:""),[p,m]=v.useState(i?i.choices[2]:""),[y,x]=v.useState(i?i.choices[3]:""),[g,w]=v.useState(i?i.answer:"");let _=[];const E=c.trim()&&d.trim()&&p.trim()&&y.trim(),b=a.trim()&&c.trim()&&d.trim()&&p.trim()&&y.trim()&&g.trim();E&&(_=[c,d,p,y]);const C=(L,M)=>{L.toLowerCase()==="question"?l(M.target.value):w(M.target.value)},S=()=>{let L,M;b&&(L={id:n.length===0?1:n[n.length-1].id+1,question:a,choices:_,answer:g},M=[...n,L],r(M),_h(),e())},I=()=>{const L=i.id,M={id:L,question:a,choices:_,answer:g},N=n.map($=>L===$.id?M:$);r(N),e(),s()},T=(L,M)=>{L.toLowerCase()==="choice 1"?u(M.target.value):L.toLowerCase()==="choice 2"?f(M.target.value):L.toLowerCase()==="choice 3"?m(M.target.value):x(M.target.value)},R=()=>{i?I():S()},k=()=>{e(),s()};return v.useEffect(()=>(Pl("hidden"),()=>{Pl("auto")}),[]),h.jsx("div",{className:"fixed flex items-center z-20 bg-black/60 justify-center top-0 left-0 right-0 bottom-0",children:h.jsxs("div",{className:`border w-5/6 sm:w-4/5 md:w-3/5 lg:w-2/5 grid gap-y-2  p-3  top-0 left-0 right-0 bottom-0 rounded-lg relative ${o==="light"?"bg-white border-gray-200":"text-white border-slate-500/70 bg-slate-600"}`,children:[h.jsx("div",{className:`top-1 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center ${o==="light"?"bg-black border-gray-200":"bg-slate-500/70 border-slate-600"}`,children:i?i.number:n.length+1}),h.jsxs("div",{className:"grid gap-y-2",children:[h.jsx(Do,{data:{handleFn:C,value:a,choice:"Question",placeholder:"Enter question"}}),h.jsx(Do,{data:{handleFn:T,value:c,choice:"Choice 1",placeholder:"Enter choice 1"}}),h.jsx(Do,{data:{handleFn:T,value:d,choice:"Choice 2",placeholder:"Enter choice 2"}}),h.jsx(Do,{data:{handleFn:T,value:p,choice:"Choice 3",placeholder:"Enter choice 3"}}),h.jsx(Do,{data:{handleFn:T,value:y,choice:"Choice 4",placeholder:"Enter choice 4"}}),h.jsxs("div",{className:"flex items-center gap-x-5",children:[h.jsx("div",{className:"font-medium",children:"Answer"}),h.jsx(gfe,{data:{options:_,value:g,setValue:w}})]})]}),h.jsxs("div",{className:"flex justify-end gap-x-2",children:[h.jsx(Su,{data:{clickFn:R,text:"Save",image:"save"}}),h.jsx(Su,{data:{clickFn:k,text:"Cancel"}})]})]})})},yfe=({data:t})=>{const{theme:e}=v.useContext(ee),{testName:n,numbers:r,changePage:i}=t;return h.jsx("div",{className:`text-lg p-1 font-medium sticky top-0 z-10 flex justify-between items-center ${e==="light"?"":"text-white"}`,children:h.jsxs("div",{className:"flex items-center gap-x-2",children:[h.jsx(Gr,{data:{clickFn:()=>i("test"),image:"back"}}),h.jsxs("div",{children:[n,h.jsxs("span",{className:"text-sm",children:[" • "," ",r," ",r>1?"questions":"question"]})]})]})})},_fe=({data:t})=>{const{quizzes:e,editQuestion:n,askToDelete:r,add:i,changePage:s}=t,{theme:o}=v.useContext(ee);return h.jsxs("div",{className:"grid gap-y-2",children:[h.jsx("div",{className:`pl-1 font-medium ${o==="light"?"":"text-white"}`,children:"Questions"}),e.map((a,l)=>h.jsxs("div",{className:`border font-padauk p-2 relative ${o==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[h.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-x-2",children:[h.jsx(Gr,{data:{clickFn:()=>n(a,l),image:"edit"}}),h.jsx(Gr,{data:{clickFn:()=>r(a.id),image:"trash"}})]}),h.jsxs("div",{className:"flex items-center justify-between gap-x-2",children:[h.jsx("div",{className:"overflow-x-auto p-0.5 flex-1",children:a.question}),h.jsx("div",{className:`top-0 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center ${o==="light"?"bg-black border-gray-200":"bg-slate-500/70 border-slate-600"}`,children:l+1})]}),h.jsx("div",{className:"pl-2 pt-2 grid gap-y-1",children:a.choices.map((c,u)=>h.jsxs("div",{className:"flex gap-x-2",children:[h.jsx("div",{className:`w-8 flex h-8 items-center  justify-center text-white font-medium rounded-md ${o==="light"?"bg-black":"bg-slate-500/70"}`,children:u+1}),h.jsx("div",{className:"flex-1",children:c})]},`choice-${l}-${u}`))})]},`question-${l}`)),h.jsx("div",{className:"flex justify-center sticky bottom-5",children:h.jsx(Gr,{data:{clickFn:i,image:"add"}})})]})},wfe=({data:t})=>{const{currentTest:e,setCurrentTest:n,setIsRulesAdding:r,setEditData:i}=t,{theme:s}=v.useContext(ee),{gradingRules:o}=e,[a,l]=v.useState(null),c=m=>{const y=o.filter(g=>g.id!==m),x={...e,gradingRules:y};n(x)},u=m=>{l(m)},d=m=>{i(m),r(!0)},f=()=>{c(a),l(null)},p=()=>{l(null)};return h.jsxs("div",{className:"grid gap-y-3",children:[h.jsx("div",{className:`pl-1 font-medium ${s==="light"?"":"text-white"}`,children:"Grading Rules"}),h.jsx(no,{data:{value:a,setValue:l,yesButton:f,noButton:p,text:"Are you sure to delete?"}}),o.map((m,y)=>h.jsxs("div",{className:`flex font-padauk items-center justify-between border  p-2 ${s==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[h.jsxs("div",{className:"grid flex-1 grid-cols-3 justify-between mr-10",children:[h.jsx(Py,{data:{text:"From",value:m.from}}),h.jsx(Py,{data:{text:"To",value:m.to}}),h.jsx(Py,{data:{text:"Level",value:m.level}})]}),h.jsxs("div",{className:"flex items-center gap-x-1 h-full ",children:[h.jsx(Gr,{data:{clickFn:()=>d(m),image:"edit"}}),h.jsx(Gr,{data:{clickFn:()=>u(m.id),image:"trash"}})]})]},`rule-${y}-${m.from}-${m.to}-${m.level}`)),h.jsx("div",{className:"flex justify-center sticky bottom-5",children:h.jsx(Gr,{data:{clickFn:()=>r(!0),image:"add"}})})]})},Py=({data:t})=>{const{text:e,value:n}=t,{theme:r}=v.useContext(ee);return h.jsxs("div",{className:"grid gap-y-1",children:[h.jsx("div",{className:"font-medium",children:e}),h.jsx("div",{className:`font-medium max-h-10 ${r==="light"?"text-slate-600":"text-white"}`,children:typeof n=="string"?ba(n,15):n})]})},xfe=({data:t})=>{const{currentTest:e,setCurrentTest:n,editData:r,setEditData:i,setIsRulesAdding:s}=t,{theme:o}=v.useContext(ee),{gradingRules:a}=e,[l,c]=v.useState(r?r.from:null),[u,d]=v.useState(r?r.to:null),[f,p]=v.useState(r?r.level:""),m=l&&u&&f.trim(),y=()=>{const E={id:a.length===0?1:a[a.length-1].id+1,from:Number(l),to:Number(u),level:f},b={...e,gradingRules:[...a,E]};n(b)},x=()=>{const E=r.id,b={id:E,from:Number(l),to:Number(u),level:f},C=a.map(I=>E===I.id?b:I),S={...e,gradingRules:C};n(S)},g=()=>{s(!1),i(null)},w=()=>{m&&(r?x():y(),g())},_=(E,b)=>{const C=b.target.value;E.toLowerCase()==="from"?c(C):E.toLowerCase()==="to"?d(C):p(C)};return v.useEffect(()=>(Pl("hidden"),()=>{Pl("auto")}),[]),h.jsx("div",{className:"fixed z-20 bg-black/50 top-0 right-0 left-0 bottom-0 flex justify-center items-center",children:h.jsxs("div",{className:`border w-5/6 sm:w-4/5 md:w-3/5 lg:w-2/5 grid gap-y-2 p-3  top-0 left-0 right-0 bottom-0 rounded-lg relative ${o==="light"?"border-gray-200 bg-white":"text-white bg-slate-600 border-slate-500/70"}`,children:[h.jsx(Do,{data:{handleFn:_,value:l!==null?l:"",choice:"From",placeholder:"Enter 'from' value"}}),h.jsx(Do,{data:{handleFn:_,value:u!==null?u:"",choice:"To",placeholder:"Enter 'to' value"}}),h.jsx(Do,{data:{handleFn:_,value:f,choice:"Level",placeholder:"Enter level"}}),h.jsxs("div",{className:"flex justify-end gap-x-2",children:[h.jsx(Su,{data:{clickFn:w,text:"Save",image:"save"}}),h.jsx(Su,{data:{clickFn:g,text:"Cancel"}})]})]})})},ER=({data:t})=>{const{currentTest:e,setCurrentTest:n,title:r}=t,{theme:i}=v.useContext(ee),{description:s,name:o}=e,[a,l]=v.useState(r==="Description"?s:o),[c,u]=v.useState(!1),d=y=>{l(y.target.value)},f=()=>{if(r==="Description"){const y={...e,description:a};n(y)}else{const y={...e,name:a};n(y)}},p=()=>{f(),u(!1)},m=()=>{u(!1),l(r==="Description"?s:o)};return h.jsxs("div",{className:"grid gap-y-2",children:[h.jsx("div",{className:`font-medium ${i==="light"?"":"text-white"}`,children:r}),c?h.jsx("textarea",{autoFocus:!0,placeholder:`Type ${r.toLowerCase()} here`,onChange:d,className:`p-1 border border-gray-200 outline-none ${i==="light"?"":"text-white bg-slate-600"}`,value:a}):h.jsx("div",{className:`text-gray-500 p-1 ${i==="light"?"":"text-white"}`,children:a||"No description"}),c?h.jsxs("div",{className:"flex gap-x-2",children:[h.jsx(Gr,{data:{clickFn:p,image:"save"}}),h.jsx(Gr,{data:{clickFn:m,image:"falseIcon"}})]}):h.jsx(Gr,{data:{clickFn:()=>u(!0),image:"edit"}})]})},Efe=({data:t})=>{v.useContext(ee);const{setPage:e,currentTest:n,setCurrentTest:r}=t,[i,s]=v.useState(!1),[o,a]=v.useState(!1),[l,c]=v.useState(n.quizzes),[u,d]=v.useState(null),[f,p]=v.useState(null),m=async(k,L)=>{try{const M=_e(Ee,"tests",k);await cr(M,L)}catch(M){console.log(M.message)}};v.useEffect(()=>{y()},[n,l]);const y=()=>{m(n.id,{...n,quizzes:l})},x=()=>{s(!0)},g=()=>{s(!1),p(null)},w=k=>{p(k)},_=()=>{C(f),p(null)},E=()=>{p(null)},b=k=>{e(k)},C=k=>{const L=l.filter(M=>M.id!==k);c(L)},S=(k,L)=>{const M={...k,number:L+1};d(M),x()},I=()=>{d(null)},T={testName:n.name,numbers:l.length,changePage:b},R={quizzes:l,editQuestion:S,askToDelete:w,add:x};return h.jsxs("div",{className:"grid gap-y-2 z-65 p-5",children:[h.jsx(yfe,{data:T}),h.jsx(kc,{}),h.jsx(ER,{data:{title:"Test Name",currentTest:n,setCurrentTest:r}}),h.jsx(ER,{data:{title:"Description",currentTest:n,setCurrentTest:r}}),h.jsx(kc,{}),h.jsx(wfe,{data:{currentTest:n,setEditData:d,setCurrentTest:r,setIsRulesAdding:a}}),h.jsx(kc,{}),h.jsx(_fe,{data:R}),i&&h.jsx(vfe,{data:{cancel:g,setQuizzes:c,quizzes:l,editData:u,clearEditData:I}}),o&&h.jsx(xfe,{data:{currentTest:n,setCurrentTest:r,editData:u,setEditData:d,setIsRulesAdding:a}}),h.jsx(no,{data:{value:f,setValue:p,yesButton:_,noButton:E,text:"Are you sure to delete ?"}}),h.jsx(kc,{})]})},xC=({text:t,length:e})=>{const n=xn(),{theme:r}=v.useContext(ee);return h.jsxs("div",{className:`flex items-center gap-x-1 mb-2 ${r==="light"?"":"text-white"}`,children:[h.jsx(Rt,{onClick:()=>n("/app/admin"),children:h.jsx(id,{})}),h.jsxs("p",{children:[t," (",e,")"]})]})},XD=({options:t,handleClick:e,message:n,chatId:r,isComment:i,messageOption:s,setMessageOption:o,isOpened:a})=>{const{userId:l}=v.useContext(ee),c=[{name:"like",image:"facebookLike"},{name:"love",image:"facebookLove"},{name:"haha",image:"facebookHaha"},{name:"wow",image:"facebookWow"},{name:"sad",image:"facebookSad"},{name:"angry",image:"facebookAngry"}],u=async f=>{const p=_e(Oe(_e(Oe(_e(Ee,"chats",r),"messages"),n.id),"reactedBy"),l);await _u(p,{uid:l,reactionType:f})},d=()=>i?a:!!s;return h.jsx(Cs,{open:d,onClose:e,children:h.jsxs("div",{className:"m-5 md:w-[450px] lg:w-[500px] ",children:[i?h.jsx("div",{className:"p-2 rounded-md bg-slate-50 pl-4 text-lg font-bold",children:"More options"}):h.jsx("div",{className:" flex gap-x-1 rounded-md p-1",children:c.map(f=>h.jsx(Rt,{onClick:()=>{e(),u(f.name)},children:h.jsx("img",{className:"w-6",src:rn(f.image)})},f.name))}),h.jsx("div",{className:"grid gap-y-1",children:t.map(f=>{if(f)return h.jsxs("button",{className:"flex items-center gap-x-1 p-2 hover:bg-slate-100",onClick:()=>{f.onClick(),e()},children:[f.icon,h.jsx("p",{children:f.text})]},f.text)})})]})})},EC=({options:t,left:e="-left-[102px]",message:n,chatId:r,isComment:i})=>{const[s,o]=v.useState(!1),a=v.useRef(null);return s1(a,o),h.jsxs(h.Fragment,{children:[h.jsx(Rt,{onClick:()=>o(!0),children:h.jsx(mD,{})}),s&&h.jsx(XD,{handleClick:()=>{o(!1)},moreOptionRef:a,options:t,message:n,chatId:r,isComment:i,isOpened:s})]})},Cfe=()=>{const[t,e]=v.useState("test"),{theme:n,tests:r,setTests:i,setHeaderTitle:s}=v.useContext(ee),[o,a]=v.useState({}),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,p]=v.useState(null),m=Oe(Ee,"tests"),[y,x]=v.useState(!0),[g,w]=v.useState(!1),[_,E]=v.useState(null);ql(m,[],i,x,w,!1,E),v.useEffect(()=>{s("Admin - Tests")},[t]),v.useEffect(()=>(wi(),wi()),[]);const b=N=>{a(N),e("editTest")},C=N=>{p(N),d(!0)},S=async N=>{const $=_e(Ee,"tests",N.id);await cr($,{isUploaded:!N.isUploaded})},I=()=>{L(f),p(null),d(!1)},T=()=>{d(!1)},R=()=>{c(!0)},k=()=>{c(!1)},L=async N=>{try{const $=_e(Ee,"tests",N);await ca($)}catch($){console.log($.message)}},M=()=>{switch(t){case"test":return h.jsxs("div",{className:"p-5 grid gap-y-2",children:[h.jsx("div",{className:"flex justify-between",children:h.jsx(xC,{text:"Tests",length:r.length})}),l&&h.jsx(mfe,{data:{close:k}}),h.jsx(no,{data:{value:u,setValue:d,yesButton:I,noButton:T,text:"Are you sure to delete ?"}}),h.jsx("div",{className:"grid border border-slate-200 shadow-md rounded-md overflow-hidden",children:r.map((N,$)=>h.jsxs("div",{className:`cursor-pointer hover:bg-slate-100 ${$===0&&"border-t-0"} flex items-center border border-t p-2  min-h-[100px] ${n==="light"?"border-slate-200":"border-slate-500/70 text-white"}`,children:[h.jsxs("div",{onClick:()=>{b(N)},className:"flex flex-1 gap-x-2 items-center",children:[h.jsx("input",{checked:N.isUploaded,onChange:()=>S(N),className:"size-6",type:"checkbox"}),h.jsxs("div",{children:[h.jsx("div",{className:"font-medium",children:N.name}),h.jsxs("div",{className:`text-sm ${n==="light"?"text-gray-500":"text-white"}`,children:[N.quizzes.length,N.quizzes.length>1?" questions":" question",N.isUploaded?" (Uploaded)":" (Not uploaded)"]})]})]}),h.jsx("div",{className:"flex gap-x-2",children:h.jsx(EC,{isComment:!0,options:[{text:"Delete",icon:h.jsx(x0,{}),onClick:()=>C(N.id)}]})})]},` tests-${N.id}`))}),h.jsx("div",{children:h.jsx(Pe,{variant:"outlined",startIcon:h.jsx(ms,{name:"add"}),onClick:R,children:"New test"})})]});case"editTest":return h.jsx(Efe,{data:{setPage:e,currentTest:o,setCurrentTest:a}})}};return y?h.jsx(_r,{text:"Loading tests..."}):g?h.jsx(Nt,{text:"No test available"}):_?h.jsx(Nt,{text:_}):M()};function Ai(t,e,n="timestamp",r="older"){var o,a;const i=new Date((o=t[n])!=null&&o.seconds?t[n].seconds*1e3:t[n]),s=new Date((a=e[n])!=null&&a.seconds?e[n].seconds*1e3:e[n]);return r==="older"?i-s:s-i}const Ife=["January","February","March","April","May","June","July","August","September","October","November","December"],bfe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function A2(t){const e=new Date().getTime(),n=new Date,r=e-t,i=Math.floor(r/1e3),s=Math.floor(i/60),o=Math.floor(s/60),a=Math.floor(o/24),l=Math.floor(a/7),c=Math.floor(a/30),u=Math.floor(c/12),d=new Date(t),f=d.getFullYear(),p=d.getMonth(),m=d.getDate(),y=bfe[d.getDay()],g=!(n.getDay()===d.getDay()&&n.getMonth()===d.getMonth()&&n.getFullYear()===d.getFullYear())&&d.getDay()===n.getDay()-1,w=Ife[p],_=`${w} ${m}, ${f}`,E=d.toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0});if(u>0)return`${E} • ${_}`;if(c>0)return`${E} • ${w} ${m}`;if(l>0)return`${y}, ${E} • ${w} ${m}`;if(a>0)return`${g?"Yesterday":y}, ${E}`;if(o>0)return`${g?"Yesterday, ":""}${E}`;if(s>0)return E;if(i>0)return E}function Zr(t){return t!=null&&t.seconds?t.seconds*1e3:t}const Tfe=({password:t})=>{const[e,n]=v.useState(!1);return h.jsxs("div",{children:["Password: ",e?t:"*********"," ",h.jsx("span",{onClick:()=>n(!e),className:"cursor-pointer text-blue-500 underline",children:e?"hide":"show"})]})},Sfe=()=>{const{users:t,theme:e,setHeaderTitle:n,userId:r,setUsers:i,setUserId:s}=v.useContext(ee),o=Oe(Ee,"users"),[a,l]=v.useState(!0),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>(wi(),wi()),[]),v.useEffect(()=>{n("Admin - Users")},[]);const p=xn(),m=x=>{s(x.uid),p("/app")},y=async x=>{const g=_e(Ee,"users",x.uid);await cr(g,{isAdmin:!x.isAdmin})};return ql(o,[],i,l,u,!0,f),a?h.jsx(_r,{isLoading:a,text:"Loading users..."}):c?h.jsx(Nt,{text:"No users available"}):d?h.jsx(Nt,{text:d}):h.jsxs("div",{className:"mt-2 p-5",children:[h.jsx(xC,{text:"Users",length:t==null?void 0:t.length}),h.jsx("div",{className:"mt-2 overflow-hidden grid border border-slate-200 shadow-md rounded-md",children:t.sort((x,g)=>Ai(x,g,"createdAt","older")).map((x,g)=>h.jsxs("div",{className:` hover:border-slate-200 ${g===0&&"border-t-0"} border-t p-2   ${e==="light"?`hover:bg-slate-50 ${r===x.uid?"bg-slate-50 border-blue-300 ":"border-gray-200"}`:`hover:bg-slate-500/70 text-white ${r===x.uid?" border-blue-300 bg-slate-500/70":"border-slate-500/70 "}`}`,children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{className:"flex w-5/6 gap-x-2 items-center",children:[h.jsx(si,{image:x.image,name:x.name}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"font-medium",children:[x.name," ",h.jsxs("span",{className:`${x!=null&&x.isAdmin?"text-blue-500":"text-white"}`,children:["(",x!=null&&x.isAdmin?"admin":"user",")"," ",r===x.uid?"(You)":""]})]}),h.jsx("div",{className:"text-md ",children:x.email}),h.jsxs("div",{className:"text-md",children:["Created: ",A2(Zr(x.createdAt))]}),h.jsxs("div",{className:"text-md font-medium text-lime-600",children:["UID : ",x.uid]}),h.jsx(Tfe,{password:x.password})]})]}),r!==x.uid&&h.jsx(Rt,{onClick:()=>m(x),children:h.jsx(vD,{})})]}),r!==x.uid&&h.jsx(Pe,{onClick:()=>y(x),size:"small",startIcon:h.jsx(ms,{name:"admin"}),children:x.isAdmin?"Remove from admin":"Set as admin"})]},x.uid))})]})},Rfe=["January","February","March","April","May","June","July","August","September","October","November","December"];function sd(t){const n=new Date().getTime()-t,r=Math.floor(n/1e3),i=Math.floor(r/60),s=Math.floor(i/60),o=Math.floor(s/24),a=Math.floor(o/7),l=Math.floor(o/30),c=Math.floor(l/12),u=new Date(t),d=u.getFullYear(),f=u.getMonth(),p=u.getDate(),m=`${Rfe[f]} ${p}, ${d}`;if(c>0)return m;if(l>0)return`${m}`;if(a>0)return`${m}`;if(o>0)return`${o} ${o===1?"day":"days"} ago`;if(s>0)return`${s} ${s===1?"hour":"hours"} ago`;if(i>0)return`${i} ${i===1?"minute":"minutes"} ago`;if(r>0)return`${r} ${r===1?"second":"seconds"} ago`}const Afe=({message:t,bgColor:e="bg-slate-200"})=>h.jsx("div",{className:"z-30 fixed flex justify-center bottom-5 left-0 right-0 ",children:h.jsx("div",{className:`${e} font-bold p-3 rounded-lg`,children:t})}),kfe=({data:t})=>{const{links:e,setLinks:n,setIsLinkAdding:r,isLinkAdding:i}=t,[s,o]=v.useState(""),[a,l]=v.useState(""),c=s.trim()&&a.trim(),u=()=>{if(c){const d={id:e.length===0?1:e[e.length-1].id+1,title:s.trim(),link:a.trim()},f=[...e,d];n(f),r(!1)}};return h.jsx(Cs,{open:i,onClose:()=>r(!1),children:h.jsxs(Fe,{m:4,children:[h.jsxs("div",{className:"grid gap-y-2",children:[h.jsx(zr,{size:"small",value:s,onChange:d=>o(d.target.value),placeholder:"Enter title..."}),h.jsx(zr,{size:"small",value:a,onChange:d=>l(d.target.value),placeholder:"Enter link..."})]}),h.jsx("div",{className:"mt-2",children:h.jsx(Pe,{variant:"outlined",startIcon:h.jsx(lde,{}),onClick:u,children:"Add Link"})})]})})},Pfe=()=>{const{users:t,theme:e,posts:n,setPosts:r,setHeaderTitle:i,userId:s}=v.useContext(ee),o=Oe(Ee,"posts"),[a,l]=v.useState(!0),[c,u]=v.useState(!1),[d,f]=v.useState(null),[p,m]=v.useState("posts"),[y,x]=v.useState(null),[g,w]=v.useState(!1);v.useEffect(()=>{i("Admin - Posts")},[]),ql(o,[],r,l,u,!1,f);const _=async()=>{const b=_e(Ee,"posts",g);await ca(b)};if(a)return h.jsx(_r,{text:"Loading posts..."});if(c)return h.jsx(Nt,{text:"No posts available"});if(d)return h.jsx(Nt,{text:d});const E=()=>{switch(p){case"posts":return h.jsxs("div",{className:"grid gap-y-2",children:[h.jsx(no,{data:{yesButton:_,noButton:()=>w(!1),text:"Are you sure to delete this post?",setValue:w,value:g}}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx(xC,{text:"Posts",length:n.length}),h.jsx(Pe,{size:"small",sx:{textDecoration:"underline"},onClick:()=>m("createPost"),children:"Create a post"})]}),h.jsx("div",{className:"grid border shadow-md rounded-md border-slate-200 mb-2",children:n.sort((b,C)=>Ai(b,C,"time","newer")).map((b,C)=>{var S,I,T;return t.forEach(R=>{R.uid,b.uid}),h.jsxs(Fe,{className:`${C===0&&"border-t-0"} overflow-hidden hover:bg-slate-100 cursor-pointer p-2 border-t   min-h-20 flex items-center  ${e==="light"?"border-slate-200":"border-slate-500/70 text-white"}`,children:[h.jsxs("div",{className:"flex-1",children:[h.jsx(Nfe,{post:b}),h.jsx("p",{className:"mb-2 break-words whitespace-normal",children:ba(b.description,25)}),h.jsxs("div",{className:"flex items-center gap-x-1",children:[b.images.length!==0&&h.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[h.jsx(ms,{name:"image"}),h.jsxs("span",{children:[b.images.length," ",b.images.length<=1?"image":"images"]})]}),b.files.length!==0&&h.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[h.jsx(ms,{name:"file"}),h.jsxs("span",{children:[b.files.length," ",b.files.length<=1?"file":"files"]})]}),b.links&&((S=b==null?void 0:b.links)==null?void 0:S.length)!==0&&h.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[h.jsx(ms,{name:"link"}),h.jsxs("span",{children:[(I=b==null?void 0:b.links)==null?void 0:I.length," ",((T=b==null?void 0:b.links)==null?void 0:T.length)<=1?"link":"links"]})]}),b.draft&&h.jsx("div",{className:`p-1 min-h-9 flex items-center gap-x-1 rounded-md ${e==="light"?"bg-green-100":"bg-slate-500/70"}`,children:h.jsx("span",{className:"font-bold text-red-500",children:"(Draft)"})})]})]}),h.jsx("div",{className:"flex items-center gap-x-1",children:h.jsx(EC,{isComment:!0,options:[{text:"Edit",icon:h.jsx(tv,{}),onClick:()=>{x(b),m("createPost")}},{text:"Delete",icon:h.jsx(x0,{}),onClick:()=>w(b.id)}]})})]},`post-${b.id}`)})})]});case"createPost":return h.jsx(Lfe,{setPage:m,postData:y,setPostData:x})}};return h.jsx("div",{className:"m-5",children:E()})},Nfe=({post:t})=>{const{users:e,theme:n}=v.useContext(ee),[r,i]=v.useState(null),[s,o]=v.useState(!0);return Bn(t.uid,e,i,o,[],1200),h.jsxs("div",{className:"top-section flex mb-2 gap-x-2",children:[s?h.jsx(pe,{variant:"circular",width:40,height:40}):h.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:r==null?void 0:r.image}),h.jsxs("div",{children:[s?h.jsx(pe,{height:40,width:120}):h.jsx("div",{className:"font-medium",children:r==null?void 0:r.name}),h.jsx("div",{className:` text-sm ${n==="light"?"text-gray-500":"text-white"}`,children:sd(Zr(t.time))})]})]})},Lfe=({setPage:t,postData:e,setPostData:n})=>{const{theme:r}=v.useContext(ee),[i,s]=v.useState(e?e.images:[]),[o,a]=v.useState(null),[l,c]=v.useState(e?e.description:""),[u,d]=v.useState(e?e==null?void 0:e.files:[]),[f,p]=v.useState(e?(e==null?void 0:e.links)||[]:[]),[m,y]=v.useState(!1),x=l.trim()||i.length!==0||u.length!==0||f.length!==0,g=async(R=!1)=>{try{const k=Oe(Ee,"posts");await ua(k,{uid:userId,time:ur(),editedTime:ur(),description:l,images:i,files:u,links:f,draft:R}),t("posts")}catch(k){console.log(k.message)}},w=async()=>{try{const R=_e(Ee,"posts",e.id);await cr(R,{editedTime:ur(),description:l,images:i,files:u,links:f,draft:!1}),t("posts")}catch(R){console.log(R.message)}},_=async()=>{try{if(e){const R=_e(Ee,"posts",e.id);await cr(R,{editedTime:ur(),description:l,images:i,files:u,links:f,draft:!0})}else g(!0);t("posts")}catch(R){console.log(R.message)}},E=async R=>{try{const k=await vn(R,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),L=`posts/${userId}/${R.name}`,M=Fo(Xa,L);a("Uploading image...");const N=await hf(M,k),$=await ff(N.ref),P=[...i,{name:R.name,path:L,imageURL:$}];s(P),a("Uploaded image"),setTimeout(()=>{a(null)},3e3)}catch(k){a(k.message),setTimeout(()=>{a(null)},3e3)}},b=async R=>{try{const k=`posts/${userId}/${R.name}`,L=Fo(Xa,k);a("Uploading file...");const M=await hf(L,R),N=await ff(M.ref),$=[...u,{name:R.name,path:k,fileURL:N,size:R.size}];d($),a("Uploaded file"),setTimeout(()=>{a(null)},3e3)}catch(k){a(k.message),setTimeout(()=>{a(null)},3e3)}},C=async(R,k)=>{const L=i.filter(N=>k!==N.imageURL);s(L);const M=Fo(Xa,R);await Aw(M)},S=async(R,k)=>{const L=u.filter(N=>k!==N.fileURL);d(L);const M=Fo(Xa,R);await Aw(M)},I=R=>{const k=f.filter(L=>R!==L.id);p(k)},T=R=>{document.getElementById(R).click()};return h.jsxs("div",{children:[h.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[o&&h.jsx(Afe,{message:o}),h.jsxs("div",{className:"flex gap-x-1 items-center",children:[h.jsx(Rt,{onClick:()=>{t("posts"),n(null)},children:h.jsx(id,{})}),h.jsx("div",{className:r==="light"?"":"text-white",children:e?"Edit post":"Create a post"})]}),h.jsxs("div",{className:"flex items-center gap-x-1",children:[h.jsx(Pe,{size:"small",sx:{textDecoration:"underline"},onClick:()=>{x&&_()},startIcon:h.jsx(tde,{}),children:"Draft"}),h.jsx(Pe,{size:"small",sx:{textDecoration:"underline"},onClick:()=>{x?(e?w():g(),n(null)):a("Create a post first!")},startIcon:h.jsx(yde,{}),children:e?"Save":"Publish"})]})]}),h.jsxs("div",{className:"mb-2",children:[h.jsx("textarea",{value:l,onChange:R=>c(R.target.value),className:`w-full p-2 resize-none border min-h-28 ${r==="light"?"border-slate-300  focus:outline-blue-500":"border-slate-500/70 outline-none bg-slate-600 text-white"}`,placeholder:"Write description here"}),h.jsx("input",{className:"hidden",id:"imagesInput",type:"file",accept:"image/*",onChange:R=>E(R.target.files[0])}),h.jsx("input",{className:"hidden",id:"filesInput",type:"file",onChange:R=>b(R.target.files[0])}),h.jsxs("div",{className:"flex justify-start gap-x-2 mt-1",children:[h.jsx(Pe,{size:"small",onClick:()=>T("imagesInput"),variant:"outlined",startIcon:h.jsx(fD,{}),children:"Image"}),h.jsx(Pe,{size:"small",onClick:()=>T("filesInput"),variant:"outlined",startIcon:h.jsx(sde,{}),children:"File"}),h.jsx(Pe,{onClick:()=>{y(!0)},variant:"outlined",startIcon:h.jsx(cde,{}),children:"Link"}),h.jsx(kfe,{data:{links:f,setLinks:p,setIsLinkAdding:y,isLinkAdding:m}})]})]}),i.length!==0&&h.jsx("div",{className:"grid gap-y-2",children:i.map(R=>h.jsxs("div",{className:"relative min-h-20",children:[h.jsx("img",{alt:R.name,className:"size-full",src:R.imageURL}),h.jsx("div",{className:"absolute top-1 right-1",children:h.jsx(Gr,{data:{clickFn:()=>C(R.path,R.imageURL),image:"falseIcon"}})})]},R.imageURL))}),u.length!==0&&h.jsx("div",{className:"grid gap-y-1 mt-2",children:u.map(R=>h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:`p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${r==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[h.jsx("img",{className:"w-7 ",src:rn("download")}),h.jsxs("div",{children:[h.jsx("p",{className:"underline text-blue-600",children:R.name}),(R==null?void 0:R.size)&&h.jsxs("p",{children:[(R.size/(1024*1024)).toFixed(2)," MB"]})]})]}),h.jsx("div",{className:"absolute top-1 right-1",children:h.jsx(Gr,{data:{clickFn:()=>S(R.path,R.fileURL),image:"falseIcon"}})})]},R.fileURL))}),f.length!==0&&h.jsx("div",{className:"grid gap-y-1 mt-2",children:f.map(R=>h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:`p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${r==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[h.jsx("img",{className:"w-7 ",src:rn("link")}),h.jsx("div",{children:h.jsx("p",{className:"underline text-blue-600",children:R.title})})]}),h.jsx("div",{className:"absolute top-1 right-1",children:h.jsx(Gr,{data:{image:"falseIcon",clickFn:()=>I(R.id)}})})]},R.link))})]})},Dfe=()=>h.jsxs("div",{className:"flex gap-x-2 rounded-md p-2 items-center",children:[h.jsx("div",{children:h.jsx(pe,{variant:"circular",width:40,height:40})}),h.jsxs("div",{className:"grid gap-y-2  flex-1 ",children:[h.jsx(pe,{variant:"text",width:200}),h.jsx(pe,{variant:"rectangular",height:55,width:"90%"})]})]}),Mfe=()=>{const{setHeaderTitle:t,notiCount:e,setNotiCount:n}=v.useContext(ee),r=5,[i,s]=v.useState([]),[o,a]=v.useState(null),[l,c]=v.useState(!0),[u,d]=v.useState(!1),[f,p]=v.useState(null),m=async()=>{c(!0);const y=Oe(Ee,"notifications");let x=gr(y,yu("timestamp","desc"),Xs(r));o&&(x=gr(x,Wg(o)));try{const g=await Ca(x);if(Bs(y,n),g.empty)d(!0);else{const w=g.docs.map(_=>({id:_.id,..._.data()}));s([...i,...w]),a(g.docs[g.docs.length-1]),wn(c)}}catch(g){const w="Error fetching notifications: "+g.message;console.log(w),c(!1),p(w)}};return v.useEffect(()=>{m()},[]),v.useEffect(()=>{t("Notifications")},[]),l?h.jsx(_r,{isLoading:l,text:"Loading notifications..."}):u?h.jsx(Nt,{text:"No notifications available"}):f?h.jsx(Nt,{text:f}):h.jsxs(Fe,{className:"m-2",children:[h.jsxs(Fe,{className:"border overflow-hidden shadow-md border-slate-200 rounded-md",children:[i.map((y,x)=>h.jsx(Ofe,{length:i.length,notification:y,index:x},y.id)),l&&h.jsx(Fe,{className:"flex justify-center",children:h.jsxs(Fe,{children:[h.jsx("div",{className:"mb-2",children:"Loading..."}),h.jsx(Aoe,{})]})})]}),e>r&&e>i.length?h.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:h.jsx(Pe,{size:"small",onClick:m,children:"load more"})}):""]})},Ofe=({notification:t,index:e,length:n})=>{let r;const{type:i,description:s,timestamp:o,testName:a,comment:l}=t,c=`${i[0]} ${i[1]}`,{theme:u,users:d}=v.useContext(ee),[f,p]=v.useState(null),[m,y]=v.useState(!0);switch(Bn(t.uid,d,p,y),c){case"like post":r="liked a post";break;case"like test":r="liked a test";break;case"comment post":r="commented on a post";break;case"comment test":r="commented on a test";break;case"added post":r="added a post";break;case"added test":r="added a test";break;case"took test":r="took a test";break}return m?h.jsx(Dfe,{}):h.jsxs("div",{className:`cursor-pointer flex items-center border-t ${e===0&&"border-t-0"} gap-x-2 p-2 ${e===n-1&&"border-b"}  ${u==="light"?"border-slate-200 bg-white shadow-gray-200":"border-slate-500/70 bg-slate-500/70 text-white shadow-slate-500 "}`,children:[h.jsx("div",{children:h.jsx("img",{className:"size-10 object-cover rounded-full object-center bg-cover",src:f==null?void 0:f.image})}),h.jsxs("div",{children:[h.jsxs("p",{children:[h.jsx("b",{children:f?f==null?void 0:f.name:"Unknown User"})," ",r]}),s&&h.jsx("p",{children:ba(s,30)}),a&&h.jsx("p",{children:a}),l&&h.jsx("p",{children:l}),h.jsx("p",{children:sd(Zr(o))})]})]})},$fe=({isCreating:t,setIsCreating:e})=>{const[n,r]=v.useState(""),{userId:i}=v.useContext(ee),s=async()=>{if(!n.trim())return;const o=Oe(Ee,"chats"),a=await ua(o,{name:n,image:null,lastMessage:{}}),l=Oe(_e(o,a.id),"members");await ua(l,{uid:i,joinedAt:ur()})};return h.jsx(Cs,{open:t,onClose:()=>e(!1),children:h.jsxs(Fe,{className:"m-5 ",children:[h.jsx("div",{className:"mb-2 font-bold",children:"Group Name"}),h.jsxs(Mr,{direction:"row",gap:1,children:[h.jsx(zr,{size:"small",placeholder:"Enter a name",value:n,onChange:o=>r(o.target.value)}),h.jsx(Pe,{onClick:()=>{n.trim()&&(s(),e(!1))},variant:"outlined",size:"small",children:"Create"})]})]})})};var Dt="-ms-",bh="-moz-",gt="-webkit-",JD="comm",rv="rule",CC="decl",jfe="@import",ZD="@keyframes",Ffe="@layer",eM=Math.abs,IC=String.fromCharCode,cx=Object.assign;function Vfe(t,e){return Tn(t,0)^45?(((e<<2^Tn(t,0))<<2^Tn(t,1))<<2^Tn(t,2))<<2^Tn(t,3):0}function tM(t){return t.trim()}function Rs(t,e){return(t=e.exec(t))?t[0]:t}function ze(t,e,n){return t.replace(e,n)}function Jp(t,e,n){return t.indexOf(e,n)}function Tn(t,e){return t.charCodeAt(e)|0}function ku(t,e,n){return t.slice(e,n)}function Zi(t){return t.length}function nM(t){return t.length}function Jd(t,e){return e.push(t),t}function Ufe(t,e){return t.map(e).join("")}function CR(t,e){return t.filter(function(n){return!Rs(n,e)})}var iv=1,Pu=1,rM=0,bi=0,fn=0,od="";function sv(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:iv,column:Pu,length:o,return:"",siblings:a}}function Co(t,e){return cx(sv("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function uc(t){for(;t.root;)t=Co(t.root,{children:[t]});Jd(t,t.siblings)}function zfe(){return fn}function Bfe(){return fn=bi>0?Tn(od,--bi):0,Pu--,fn===10&&(Pu=1,iv--),fn}function Ui(){return fn=bi<rM?Tn(od,bi++):0,Pu++,fn===10&&(Pu=1,iv++),fn}function ll(){return Tn(od,bi)}function Zp(){return bi}function ov(t,e){return ku(od,t,e)}function ux(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Wfe(t){return iv=Pu=1,rM=Zi(od=t),bi=0,[]}function Hfe(t){return od="",t}function Ny(t){return tM(ov(bi-1,dx(t===91?t+2:t===40?t+1:t)))}function qfe(t){for(;(fn=ll())&&fn<33;)Ui();return ux(t)>2||ux(fn)>3?"":" "}function Gfe(t,e){for(;--e&&Ui()&&!(fn<48||fn>102||fn>57&&fn<65||fn>70&&fn<97););return ov(t,Zp()+(e<6&&ll()==32&&Ui()==32))}function dx(t){for(;Ui();)switch(fn){case t:return bi;case 34:case 39:t!==34&&t!==39&&dx(fn);break;case 40:t===41&&dx(t);break;case 92:Ui();break}return bi}function Kfe(t,e){for(;Ui()&&t+fn!==57;)if(t+fn===84&&ll()===47)break;return"/*"+ov(e,bi-1)+"*"+IC(t===47?t:Ui())}function Qfe(t){for(;!ux(ll());)Ui();return ov(t,bi)}function Yfe(t){return Hfe(em("",null,null,null,[""],t=Wfe(t),0,[0],t))}function em(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,f=0,p=0,m=0,y=1,x=1,g=1,w=0,_="",E=i,b=s,C=r,S=_;x;)switch(m=w,w=Ui()){case 40:if(m!=108&&Tn(S,d-1)==58){Jp(S+=ze(Ny(w),"&","&\f"),"&\f",eM(c?a[c-1]:0))!=-1&&(g=-1);break}case 34:case 39:case 91:S+=Ny(w);break;case 9:case 10:case 13:case 32:S+=qfe(m);break;case 92:S+=Gfe(Zp()-1,7);continue;case 47:switch(ll()){case 42:case 47:Jd(Xfe(Kfe(Ui(),Zp()),e,n,l),l);break;default:S+="/"}break;case 123*y:a[c++]=Zi(S)*g;case 125*y:case 59:case 0:switch(w){case 0:case 125:x=0;case 59+u:g==-1&&(S=ze(S,/\f/g,"")),p>0&&Zi(S)-d&&Jd(p>32?bR(S+";",r,n,d-1,l):bR(ze(S," ","")+";",r,n,d-2,l),l);break;case 59:S+=";";default:if(Jd(C=IR(S,e,n,c,u,i,a,_,E=[],b=[],d,s),s),w===123)if(u===0)em(S,e,C,C,E,s,d,a,b);else switch(f===99&&Tn(S,3)===110?100:f){case 100:case 108:case 109:case 115:em(t,C,C,r&&Jd(IR(t,C,C,0,0,i,a,_,i,E=[],d,b),b),i,b,d,a,r?E:b);break;default:em(S,C,C,C,[""],b,0,a,b)}}c=u=p=0,y=g=1,_=S="",d=o;break;case 58:d=1+Zi(S),p=m;default:if(y<1){if(w==123)--y;else if(w==125&&y++==0&&Bfe()==125)continue}switch(S+=IC(w),w*y){case 38:g=u>0?1:(S+="\f",-1);break;case 44:a[c++]=(Zi(S)-1)*g,g=1;break;case 64:ll()===45&&(S+=Ny(Ui())),f=ll(),u=d=Zi(_=S+=Qfe(Zp())),w++;break;case 45:m===45&&Zi(S)==2&&(y=0)}}return s}function IR(t,e,n,r,i,s,o,a,l,c,u,d){for(var f=i-1,p=i===0?s:[""],m=nM(p),y=0,x=0,g=0;y<r;++y)for(var w=0,_=ku(t,f+1,f=eM(x=o[y])),E=t;w<m;++w)(E=tM(x>0?p[w]+" "+_:ze(_,/&\f/g,p[w])))&&(l[g++]=E);return sv(t,e,n,i===0?rv:a,l,c,u,d)}function Xfe(t,e,n,r){return sv(t,e,n,JD,IC(zfe()),ku(t,2,-2),0,r)}function bR(t,e,n,r,i){return sv(t,e,n,CC,ku(t,0,r),ku(t,r+1,-1),r,i)}function iM(t,e,n){switch(Vfe(t,e)){case 5103:return gt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gt+t+t;case 4789:return bh+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return gt+t+bh+t+Dt+t+t;case 5936:switch(Tn(t,e+11)){case 114:return gt+t+Dt+ze(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return gt+t+Dt+ze(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return gt+t+Dt+ze(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return gt+t+Dt+t+t;case 6165:return gt+t+Dt+"flex-"+t+t;case 5187:return gt+t+ze(t,/(\w+).+(:[^]+)/,gt+"box-$1$2"+Dt+"flex-$1$2")+t;case 5443:return gt+t+Dt+"flex-item-"+ze(t,/flex-|-self/g,"")+(Rs(t,/flex-|baseline/)?"":Dt+"grid-row-"+ze(t,/flex-|-self/g,""))+t;case 4675:return gt+t+Dt+"flex-line-pack"+ze(t,/align-content|flex-|-self/g,"")+t;case 5548:return gt+t+Dt+ze(t,"shrink","negative")+t;case 5292:return gt+t+Dt+ze(t,"basis","preferred-size")+t;case 6060:return gt+"box-"+ze(t,"-grow","")+gt+t+Dt+ze(t,"grow","positive")+t;case 4554:return gt+ze(t,/([^-])(transform)/g,"$1"+gt+"$2")+t;case 6187:return ze(ze(ze(t,/(zoom-|grab)/,gt+"$1"),/(image-set)/,gt+"$1"),t,"")+t;case 5495:case 3959:return ze(t,/(image-set\([^]*)/,gt+"$1$`$1");case 4968:return ze(ze(t,/(.+:)(flex-)?(.*)/,gt+"box-pack:$3"+Dt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+gt+t+t;case 4200:if(!Rs(t,/flex-|baseline/))return Dt+"grid-column-align"+ku(t,e)+t;break;case 2592:case 3360:return Dt+ze(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Rs(r.props,/grid-\w+-end/)})?~Jp(t+(n=n[e].value),"span",0)?t:Dt+ze(t,"-start","")+t+Dt+"grid-row-span:"+(~Jp(n,"span",0)?Rs(n,/\d+/):+Rs(n,/\d+/)-+Rs(t,/\d+/))+";":Dt+ze(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Rs(r.props,/grid-\w+-start/)})?t:Dt+ze(ze(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ze(t,/(.+)-inline(.+)/,gt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Zi(t)-1-e>6)switch(Tn(t,e+1)){case 109:if(Tn(t,e+4)!==45)break;case 102:return ze(t,/(.+:)(.+)-([^]+)/,"$1"+gt+"$2-$3$1"+bh+(Tn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Jp(t,"stretch",0)?iM(ze(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return ze(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return Dt+i+":"+s+c+(o?Dt+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(Tn(t,e+6)===121)return ze(t,":",":"+gt)+t;break;case 6444:switch(Tn(t,Tn(t,14)===45?18:11)){case 120:return ze(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+gt+(Tn(t,14)===45?"inline-":"")+"box$3$1"+gt+"$2$3$1"+Dt+"$2box$3")+t;case 100:return ze(t,":",":"+Dt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ze(t,"scroll-","scroll-snap-")+t}return t}function k2(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function Jfe(t,e,n,r){switch(t.type){case Ffe:if(t.children.length)break;case jfe:case CC:return t.return=t.return||t.value;case JD:return"";case ZD:return t.return=t.value+"{"+k2(t.children,r)+"}";case rv:if(!Zi(t.value=t.props.join(",")))return""}return Zi(n=k2(t.children,r))?t.return=t.value+"{"+n+"}":""}function Zfe(t){var e=nM(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function e0e(t){return function(e){e.root||(e=e.return)&&t(e)}}function t0e(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case CC:t.return=iM(t.value,t.length,n);return;case ZD:return k2([Co(t,{value:ze(t.value,"@","@"+gt)})],r);case rv:if(t.length)return Ufe(n=t.props,function(i){switch(Rs(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":uc(Co(t,{props:[ze(i,/:(read-\w+)/,":"+bh+"$1")]})),uc(Co(t,{props:[i]})),cx(t,{props:CR(n,r)});break;case"::placeholder":uc(Co(t,{props:[ze(i,/:(plac\w+)/,":"+gt+"input-$1")]})),uc(Co(t,{props:[ze(i,/:(plac\w+)/,":"+bh+"$1")]})),uc(Co(t,{props:[ze(i,/:(plac\w+)/,Dt+"input-$1")]})),uc(Co(t,{props:[i]})),cx(t,{props:CR(n,r)});break}return""})}}var n0e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Fr={},Nu=typeof process<"u"&&Fr!==void 0&&(Fr.REACT_APP_SC_ATTR||Fr.SC_ATTR)||"data-styled",sM="active",oM="data-styled-version",av="6.1.11",bC=`/*!sc*/
`,TC=typeof window<"u"&&"HTMLElement"in window,r0e=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Fr!==void 0&&Fr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Fr.REACT_APP_SC_DISABLE_SPEEDY!==""?Fr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Fr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Fr!==void 0&&Fr.SC_DISABLE_SPEEDY!==void 0&&Fr.SC_DISABLE_SPEEDY!==""&&Fr.SC_DISABLE_SPEEDY!=="false"&&Fr.SC_DISABLE_SPEEDY),lv=Object.freeze([]),Lu=Object.freeze({});function i0e(t,e,n){return n===void 0&&(n=Lu),t.theme!==n.theme&&t.theme||e||n.theme}var aM=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),s0e=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,o0e=/(^-|-$)/g;function TR(t){return t.replace(s0e,"-").replace(o0e,"")}var a0e=/(a)(d)/gi,pp=52,SR=function(t){return String.fromCharCode(t+(t>25?39:97))};function hx(t){var e,n="";for(e=Math.abs(t);e>pp;e=e/pp|0)n=SR(e%pp)+n;return(SR(e%pp)+n).replace(a0e,"$1-$2")}var Ly,lM=5381,Nc=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},cM=function(t){return Nc(lM,t)};function uM(t){return hx(cM(t)>>>0)}function l0e(t){return t.displayName||t.name||"Component"}function Dy(t){return typeof t=="string"&&!0}var dM=typeof Symbol=="function"&&Symbol.for,hM=dM?Symbol.for("react.memo"):60115,c0e=dM?Symbol.for("react.forward_ref"):60112,u0e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},d0e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},fM={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},h0e=((Ly={})[c0e]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ly[hM]=fM,Ly);function RR(t){return("type"in(e=t)&&e.type.$$typeof)===hM?fM:"$$typeof"in t?h0e[t.$$typeof]:u0e;var e}var f0e=Object.defineProperty,p0e=Object.getOwnPropertyNames,AR=Object.getOwnPropertySymbols,m0e=Object.getOwnPropertyDescriptor,g0e=Object.getPrototypeOf,kR=Object.prototype;function pM(t,e,n){if(typeof e!="string"){if(kR){var r=g0e(e);r&&r!==kR&&pM(t,r,n)}var i=p0e(e);AR&&(i=i.concat(AR(e)));for(var s=RR(t),o=RR(e),a=0;a<i.length;++a){var l=i[a];if(!(l in d0e||n&&n[l]||o&&l in o||s&&l in s)){var c=m0e(e,l);try{f0e(t,l,c)}catch{}}}}return t}function Du(t){return typeof t=="function"}function SC(t){return typeof t=="object"&&"styledComponentId"in t}function el(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function fx(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function Af(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function px(t,e,n){if(n===void 0&&(n=!1),!n&&!Af(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=px(t[r],e[r]);else if(Af(e))for(var r in e)t[r]=px(t[r],e[r]);return t}function RC(t,e){Object.defineProperty(t,"toString",{value:e})}function I0(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var v0e=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw I0(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(bC);return n},t}(),tm=new Map,P2=new Map,nm=1,mp=function(t){if(tm.has(t))return tm.get(t);for(;P2.has(nm);)nm++;var e=nm++;return tm.set(t,e),P2.set(e,t),e},y0e=function(t,e){nm=e+1,tm.set(t,e),P2.set(e,t)},_0e="style[".concat(Nu,"][").concat(oM,'="').concat(av,'"]'),w0e=new RegExp("^".concat(Nu,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),x0e=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},E0e=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(bC),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(w0e);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(y0e(u,c),x0e(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function C0e(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var mM=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Nu,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Nu,sM),r.setAttribute(oM,av);var o=C0e();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},I0e=function(){function t(e){this.element=mM(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw I0(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),b0e=function(){function t(e){this.element=mM(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),T0e=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),PR=TC,S0e={isServer:!TC,useCSSOMInjection:!r0e},gM=function(){function t(e,n,r){e===void 0&&(e=Lu),n===void 0&&(n={});var i=this;this.options=Je(Je({},S0e),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&TC&&PR&&(PR=!1,function(s){for(var o=document.querySelectorAll(_0e),a=0,l=o.length;a<l;a++){var c=o[a];c&&c.getAttribute(Nu)!==sM&&(E0e(s,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),RC(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(d){var f=function(g){return P2.get(g)}(d);if(f===void 0)return"continue";var p=s.names.get(f),m=o.getGroup(d);if(p===void 0||m.length===0)return"continue";var y="".concat(Nu,".g").concat(d,'[id="').concat(f,'"]'),x="";p!==void 0&&p.forEach(function(g){g.length>0&&(x+="".concat(g,","))}),l+="".concat(m).concat(y,'{content:"').concat(x,'"}').concat(bC)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return mp(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Je(Je({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new T0e(i):r?new I0e(i):new b0e(i)}(this.options),new v0e(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(mp(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(mp(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(mp(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),R0e=/&/g,A0e=/^\s*\/\/.*$/gm;function vM(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=vM(n.children,e)),n})}function k0e(t){var e,n,r,i=t===void 0?Lu:t,s=i.options,o=s===void 0?Lu:s,a=i.plugins,l=a===void 0?lv:a,c=function(f,p,m){return m.startsWith(n)&&m.endsWith(n)&&m.replaceAll(n,"").length>0?".".concat(e):f},u=l.slice();u.push(function(f){f.type===rv&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(R0e,n).replace(r,c))}),o.prefix&&u.push(t0e),u.push(Jfe);var d=function(f,p,m,y){p===void 0&&(p=""),m===void 0&&(m=""),y===void 0&&(y="&"),e=y,n=p,r=new RegExp("\\".concat(n,"\\b"),"g");var x=f.replace(A0e,""),g=Yfe(m||p?"".concat(m," ").concat(p," { ").concat(x," }"):x);o.namespace&&(g=vM(g,o.namespace));var w=[];return k2(g,Zfe(u.concat(e0e(function(_){return w.push(_)})))),w};return d.hash=l.length?l.reduce(function(f,p){return p.name||I0(15),Nc(f,p.name)},lM).toString():"",d}var P0e=new gM,mx=k0e(),yM=ar.createContext({shouldForwardProp:void 0,styleSheet:P0e,stylis:mx});yM.Consumer;ar.createContext(void 0);function NR(){return v.useContext(yM)}var _M=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=mx);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,RC(this,function(){throw I0(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=mx),this.name+e.hash},t}(),N0e=function(t){return t>="A"&&t<="Z"};function LR(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;N0e(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var wM=function(t){return t==null||t===!1||t===""},xM=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!wM(s)&&(Array.isArray(s)&&s.isCss||Du(s)?r.push("".concat(LR(i),":"),s,";"):Af(s)?r.push.apply(r,Fn(Fn(["".concat(i," {")],xM(s),!1),["}"],!1)):r.push("".concat(LR(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in n0e||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function cl(t,e,n,r){if(wM(t))return[];if(SC(t))return[".".concat(t.styledComponentId)];if(Du(t)){if(!Du(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return cl(i,e,n,r)}var s;return t instanceof _M?n?(t.inject(n,r),[t.getName(r)]):[t]:Af(t)?xM(t):Array.isArray(t)?Array.prototype.concat.apply(lv,t.map(function(o){return cl(o,e,n,r)})):[t.toString()]}function L0e(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Du(n)&&!SC(n))return!1}return!0}var D0e=cM(av),M0e=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&L0e(e),this.componentId=n,this.baseHash=Nc(D0e,n),this.baseStyle=r,gM.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=el(i,this.staticRulesId);else{var s=fx(cl(this.rules,e,n,r)),o=hx(Nc(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=el(i,o),this.staticRulesId=o}else{for(var l=Nc(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var f=fx(cl(d,e,n,r));l=Nc(l,f+u),c+=f}}if(c){var p=hx(l>>>0);n.hasNameForId(this.componentId,p)||n.insertRules(this.componentId,p,r(c,".".concat(p),void 0,this.componentId)),i=el(i,p)}}return i},t}(),EM=ar.createContext(void 0);EM.Consumer;var My={};function O0e(t,e,n){var r=SC(t),i=t,s=!Dy(t),o=e.attrs,a=o===void 0?lv:o,l=e.componentId,c=l===void 0?function(E,b){var C=typeof E!="string"?"sc":TR(E);My[C]=(My[C]||0)+1;var S="".concat(C,"-").concat(uM(av+C+My[C]));return b?"".concat(b,"-").concat(S):S}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(E){return Dy(E)?"styled.".concat(E):"Styled(".concat(l0e(E),")")}(t):u,f=e.displayName&&e.componentId?"".concat(TR(e.displayName),"-").concat(e.componentId):e.componentId||c,p=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,m=e.shouldForwardProp;if(r&&i.shouldForwardProp){var y=i.shouldForwardProp;if(e.shouldForwardProp){var x=e.shouldForwardProp;m=function(E,b){return y(E,b)&&x(E,b)}}else m=y}var g=new M0e(n,f,r?i.componentStyle:void 0);function w(E,b){return function(C,S,I){var T=C.attrs,R=C.componentStyle,k=C.defaultProps,L=C.foldedComponentIds,M=C.styledComponentId,N=C.target,$=ar.useContext(EM),P=NR(),A=C.shouldForwardProp||P.shouldForwardProp,D=i0e(S,$,k)||Lu,j=function(V,G,oe){for(var ce,te=Je(Je({},G),{className:void 0,theme:oe}),me=0;me<V.length;me+=1){var de=Du(ce=V[me])?ce(te):ce;for(var ae in de)te[ae]=ae==="className"?el(te[ae],de[ae]):ae==="style"?Je(Je({},te[ae]),de[ae]):de[ae]}return G.className&&(te.className=el(te.className,G.className)),te}(T,S,D),F=j.as||N,q={};for(var W in j)j[W]===void 0||W[0]==="$"||W==="as"||W==="theme"&&j.theme===D||(W==="forwardedAs"?q.as=j.forwardedAs:A&&!A(W,F)||(q[W]=j[W]));var B=function(V,G){var oe=NR(),ce=V.generateAndInjectStyles(G,oe.styleSheet,oe.stylis);return ce}(R,j),U=el(L,M);return B&&(U+=" "+B),j.className&&(U+=" "+j.className),q[Dy(F)&&!aM.has(F)?"class":"className"]=U,q.ref=I,v.createElement(F,q)}(_,E,b)}w.displayName=d;var _=ar.forwardRef(w);return _.attrs=p,_.componentStyle=g,_.displayName=d,_.shouldForwardProp=m,_.foldedComponentIds=r?el(i.foldedComponentIds,i.styledComponentId):"",_.styledComponentId=f,_.target=r?i.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(E){this._foldedDefaultProps=r?function(b){for(var C=[],S=1;S<arguments.length;S++)C[S-1]=arguments[S];for(var I=0,T=C;I<T.length;I++)px(b,T[I],!0);return b}({},i.defaultProps,E):E}}),RC(_,function(){return".".concat(_.styledComponentId)}),s&&pM(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function DR(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var MR=function(t){return Object.assign(t,{isCss:!0})};function CM(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Du(t)||Af(t))return MR(cl(DR(lv,Fn([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?cl(r):MR(cl(DR(r,e)))}function gx(t,e,n){if(n===void 0&&(n=Lu),!e)throw I0(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,CM.apply(void 0,Fn([i],s,!1)))};return r.attrs=function(i){return gx(t,e,Je(Je({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return gx(t,e,Je(Je({},n),i))},r}var IM=function(t){return gx(O0e,t)},Ql=IM;aM.forEach(function(t){Ql[t]=IM(t)});function AC(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=fx(CM.apply(void 0,Fn([t],e,!1))),i=uM(r);return new _M(i,r)}Ql.div`
  display: ${t=>t.$visible?"flex":"none"};
`;const Ni=242.776657104492,$0e=1.6,j0e=AC`
12.5% {
  stroke-dasharray: ${Ni*.14}px, ${Ni}px;
  stroke-dashoffset: -${Ni*.11}px;
}
43.75% {
  stroke-dasharray: ${Ni*.35}px, ${Ni}px;
  stroke-dashoffset: -${Ni*.35}px;
}
100% {
  stroke-dasharray: ${Ni*.01}px, ${Ni}px;
  stroke-dashoffset: -${Ni*.99}px;
}
`;Ql.path`
  stroke-dasharray: ${Ni*.01}px, ${Ni};
  stroke-dashoffset: 0;
  animation: ${j0e} ${$0e}s linear infinite;
`;const F0e=AC`
to {
   transform: rotate(360deg);
 }
`;Ql.svg`
  animation: ${F0e} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`;Ql.polyline`
  stroke-width: ${t=>t.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const V0e=AC`
to {
   stroke-dashoffset: 136;
 }
`;Ql.polygon`
  stroke-dasharray: 17;
  animation: ${V0e} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`;Ql.svg`
  transform-origin: 50% 65%;
`;const U0e=({chat:t,index:e,chats:n})=>{var w;const[r,i]=v.useState(null),{newMessages:s}=v.useContext(ee),[o,a]=v.useState(!0),[l,c]=v.useState(null),u=xn(),[d,f]=v.useState(!0),[p,m]=v.useState(!1),[y,x]=v.useState(null),g=async()=>{a(!0);const _=Oe(_e(Oe(Ee,"chats"),t.id),"messages");console.log("fetching message counts..."),await Bs(_,i),wn(a)};return v.useEffect(()=>{const E=(()=>{const b=Oe(Ee,"chats"),C=Oe(_e(b,t.id),"messages"),S=gr(C,yu("timestamp","desc"),Xs(1));return Es(S,T=>{if(f(!0),console.log("fetching last message..."),T.empty)m(!0),wn(f,300);else{const R=T.docs.map(k=>({id:k.id,...k.data()}));c(R[0]),g(),wn(f,300)}},T=>{x("Error fetching last message: "+T.message),wn(f,300)})})();return()=>{E&&E()}},[t.id]),h.jsxs(Fe,{className:`flex min-h-[100px] gap-x-[2px] items-center cursor-pointer p-1 relative hover:bg-slate-100 border-t ${e===0&&"border-t-0"} ${e===n.length-1&&"border-b"}  border-slate-200`,onClick:()=>u(`/app/chatroom/${t.id}`),children:[h.jsx(Fe,{className:"flex items-start h-full mt-3",children:h.jsx("img",{alt:t.name,src:((w=t.image)==null?void 0:w.URL)||"images/sea-logo.jpg",className:"size-[48px] rounded-[8px] object-center object-cover mr-1"})}),h.jsxs(Fe,{className:"grid items-start h-full",children:[h.jsxs(It,{variant:"h6",children:[t.name,h.jsx(z0e,{messageCounts:r})]}),h.jsxs(Fe,{container:!0,sx:{display:"grid"},children:[h.jsx(Fe,{item:!0,sx:{display:"flex",columnGap:"4px",alignItems:"center"},children:h.jsx(W0e,{lastMessage:l})}),h.jsx(B0e,{lastMessage:l,isMessageEmpty:p,isMessageLoading:d,messageError:y}),h.jsx(H0e,{chat:t})]})]}),!o1(s,t.id)&&h.jsx("div",{className:"absolute shadow-md right-1 top-1 bg-red-500 size-4 rounded-full"})]})},z0e=({messageCounts:t})=>t?h.jsxs("div",{className:"mb-2 flex items-center rounded-md justify-start pr-1 font-[600]  min-h-6 min-w-6 text-sm top-0  text-slate-400 ",children:[t," messages"]}):h.jsx(pe,{width:120}),B0e=({lastMessage:t,isMessageLoading:e,isMessageEmpty:n,messageError:r})=>{var i,s;return e?h.jsxs("div",{children:[h.jsx(pe,{width:"70%"}),h.jsx(pe,{width:"60%"})]}):n?h.jsx(It,{color:"warning",children:"No messages yet"}):r?h.jsx(It,{color:"warning",children:r}):h.jsxs(Fe,{sx:{marginTop:"2px",display:"grid"},children:[h.jsx(It,{size:"small",variant:"caption",color:"textSecondary",children:ba(t==null?void 0:t.content,30)}),(t==null?void 0:t.image)&&h.jsx("img",{alt:(i=t==null?void 0:t.image)==null?void 0:i.name,className:"w-12",src:(s=t==null?void 0:t.image)==null?void 0:s.URL}),h.jsxs(It,{size:"small",variant:"caption",color:"textSecondary",children:[(t==null?void 0:t.editedTime)&&"edited ",A2(Zr(t!=null&&t.editedTime?t.editedTime:t==null?void 0:t.timestamp))]})]})},W0e=({lastMessage:t})=>{const{users:e}=v.useContext(ee),[n,r]=v.useState(null),[i,s]=v.useState(!0);return Bn(t==null?void 0:t.senderId,e,r,s,[t]),i?h.jsxs("div",{className:"flex items-center gap-x-1",children:[h.jsx(pe,{variant:"circular",height:30,width:30}),h.jsx(pe,{height:30,width:100})]}):h.jsxs(h.Fragment,{children:[h.jsx(si,{size:"size-5",fontSize:"text-sm",name:n==null?void 0:n.name,image:n==null?void 0:n.image}),h.jsx(It,{size:"small",fontWeight:"bold",variant:"caption",color:"textSecondary",children:n==null?void 0:n.name})]})},H0e=({chat:t})=>{const e=_e(Ee,"chats",t.id),n=Oe(e,"typingUsers"),[r,i]=v.useState([]);if(v.useEffect(()=>{const o=Es(n,l=>{const c=l.docs.map(u=>({uid:u.id,...u.data()}));i(c)});return()=>{o&&o()}},[]),r.length>0)return h.jsx("div",{children:r.sort((s,o)=>Ai(s,o,"timestamp","older")).map(s=>h.jsx(q0e,{typingUser:s},`typing-users-${s.uid}`))})},q0e=({typingUser:t})=>{const{users:e}=v.useContext(ee),[n,r]=v.useState(null),[i,s]=v.useState();return Bn(t.uid,e,r,s),h.jsx("div",{className:"flex items-center gap-x-1  p-1",children:i?h.jsx(pe,{width:30,height:30}):h.jsxs(h.Fragment,{children:[h.jsx(si,{size:"size-5",fontSize:"text-sm",name:n==null?void 0:n.name,image:n==null?void 0:n.image}),h.jsx(pe,{height:35,width:120})]})})},G0e=()=>{const{setHeaderTitle:t,chats:e,setChats:n,myChats:r,setMyChats:i}=v.useContext(ee),s=Oe(Ee,"chats"),[o,a]=v.useState(!0),[l,c]=v.useState(!1),[u,d]=v.useState(null);return ql(s,[],n,a,c,!1,d,500),v.useEffect(()=>{t("Chat Room")},[]),o?h.jsx(_r,{isLoading:o,text:"Loading chat rooms..."}):l?h.jsx(Nt,{text:"No chat rooms available"}):u?h.jsx(Nt,{text:u}):h.jsx(K0e,{myChats:r,setMyChats:i})},K0e=({myChats:t,setMyChats:e})=>{const{chats:n,userData:r,userId:i}=v.useContext(ee),[s,o]=v.useState(!1),[a,l]=v.useState(0),c=async(u,d)=>{const f=Oe(Ee,"chats"),p=Oe(_e(f,u),"members"),m=gr(p,Bg("uid","==",d),Xs(1));return console.log("Checking if a member..."),!(await Ca(m)).empty};return v.useEffect(()=>{(async()=>{const d=await Promise.all(n.map(async f=>{const p=await c(f.id,i);return p&&l(a+1),p?f:null}));e(d.filter(f=>f!==null))})()},[n]),a?h.jsxs(h.Fragment,{children:[h.jsx($fe,{isCreating:s,setIsCreating:o}),h.jsxs("div",{className:"m-5 overflow-hidden grid border border-slate-200 rounded-md shadow-md ",children:[t.map((u,d)=>h.jsx(U0e,{chat:u,index:d,chats:n},u.id)),(r==null?void 0:r.isAdmin)&&h.jsx(Fe,{className:"m-2",children:h.jsx(Pe,{size:"small",onClick:()=>o(!0),startIcon:h.jsx(hD,{}),children:"Create group"})})]})]}):h.jsx(Nt,{text:"No chat rooms available for you"})},Q0e=()=>{const{headerTitle:t,setUserId:e,setUserData:n,openSnackbar:r,userId:i}=v.useContext(ee),s=xn(),o=ju(),a=o.pathname!=="/"?o.pathname:"/app";v.useEffect(()=>{document.title="SEA • "+t||"STAR EDUCATION ACADEMY"},[t]),v.useEffect(()=>{const l=Tr.get("userId");if(!l)return;const c=Es(_e(Ee,"users",l),u=>{if(u.exists()){const d={uid:u.id,...u.data()};n(d)}else e(null),Tr.remove("userId"),s("/login"),console.log("No user found..."),r("No user found")},u=>{console.log(u.message),r(u.message)});return()=>c()},[i]),v.useEffect(()=>{const l=Tr.get("userId")||null;l?(e(l),s(a)):s("/login")},[])},Y0e=()=>{const{setHeaderTitle:t}=v.useContext(ee),e={text:"About SEA",image:"about",answer:`SEA stands for Star Education Academy, is an education academy founded by U Aye Kyaw and Daw Sandar Lwin in 2015. At SEA, you can study variety of subjects including
    English Language and four skills,
    Philosophy, Maths and Science.`},n=[{text:"Is my data private ?",answer:"Yes, your data is private."},{text:"Where can I give feedback to developer ?",answer:"You can give feedback at aungnaingthan22@gmail.com"}],r=[{text:"What are updated in the latest version ?",answer:"Updated UI design and fix bugs."},{text:"What is the last update time ?",answer:` Updated on ${sd(1712655376346)}.`}];return d0("help-page"),h0("help-page"),v.useEffect(()=>{t("Help")},[]),h.jsxs(Fe,{className:"m-5 border border-slate-200 rounded-md shadow-md",children:[h.jsx(_r,{}),h.jsx($d,{image:e.image,text:e.text,answer:e.answer}),h.jsx($d,{text:"FAQ",image:"faq",answer:n.map(i=>h.jsx($d,{text:i.text,answer:i.answer},i.text))}),h.jsx($d,{image:"update",text:"Updates",answer:r.map(i=>h.jsx($d,{text:i.text,answer:i.answer},i.text))})]})},$d=({image:t,text:e,answer:n})=>{const[r,i]=v.useState(!1);return h.jsxs("div",{className:" p-2  mb-2 ",children:[h.jsxs("div",{onClick:()=>i(!r),className:"transition-all flex items-center rounded-md min-h-14 justify-between",children:[h.jsxs("div",{className:"flex items-center gap-x-2",children:[t&&h.jsx(X0e,{image:t}),h.jsx("div",{children:e})]}),h.jsx(Rt,{children:h.jsx("img",{className:"w-6",src:rn(r?"up":"down")})})]}),r&&h.jsx("div",{className:"font-medium ",children:n})]})},X0e=({image:t})=>h.jsx("img",{className:"w-7",src:rn(t)}),bM=({image:t,setViewingImage:e,postImage:n=!1})=>{const r=()=>{const i=(t==null?void 0:t.size)/1048576,s=(t==null?void 0:t.size)/1024;return i>1?`${i.toFixed(2)} MB`:isNaN(i)?null:`${s.toFixed(2)} kB`};return h.jsxs(Cs,{open:!!t,onClose:()=>e(!1),children:[h.jsx(Mr,{direction:"row",justifyContent:"end",children:h.jsx(Rt,{onClick:()=>{e(!1)},children:h.jsx(ms,{name:"close"})})}),t?h.jsxs("div",{className:"bg-white m-3 overflow-auto min-h-[200px] min-w-[200px] relative",children:[r()&&h.jsx("p",{className:"border border-gray-200 absolute right-1 bottom-1 bg-slate-300/70 p-1 rounded-lg font-bold ",children:r()}),h.jsx("img",{alt:t.name,className:"h-full ",src:n?t.imageURL:t.URL})]}):h.jsx("div",{className:"bg-white border border-slate-300 rounded-md",children:"Image not available."})]})},J0e=({post:t,setViewingImage:e})=>{const[r,i]=v.useState(4),[s,o]=v.useState(!0),a=t.images.slice(0,r),l=t.images.length-4,c=()=>{o(!1),i(t.images.length)};return a.map((u,d)=>h.jsxs(Ch,{item:!0,xs:4,sm:3,md:3,className:"relative cursor-pointer",children:[h.jsx("img",{onClick:()=>e(u),className:"w-full  ",src:u.imageURL,alt:u.name}),h.jsx("div",{className:"z-20 absolute right-1 top-1"}),d+1===4&&s&&l?h.jsx("div",{onClick:c,className:"z-10 absolute top-0 right-0 left-0 bottom-0 flex cursor-pointer items-center justify-center",children:h.jsxs("div",{className:"font-medium text-6xl text-white",children:["+",l]})}):""]},`post-${t.id}-image-${u.imageURL}`))},Z0e=({files:t})=>h.jsxs("div",{className:"grid mt-2",children:[h.jsx("p",{className:"p-2 font-bold",children:"Files"}),t.map((e,n)=>h.jsx("a",{href:e.fileURL,download:e.name,target:"_blank",children:h.jsxs("div",{className:`p-1 hover:bg-slate-50 cursor-pointer min-h-14 flex gap-x-1 items-center font-bold border-slate-300 border-t ${n===t.length-1&&"border-b"} border-slate-200 text-blue-600`,children:[h.jsx(ms,{name:"download"}),h.jsxs("div",{children:[h.jsx("p",{className:"underline",children:e.name}),(e==null?void 0:e.size)&&h.jsxs("p",{children:[(e.size/(1024*1024)).toFixed(2)," MB"]})]})]})},`${n}-${e.fileURL}`))]}),epe=({links:t})=>h.jsxs("div",{className:"grid gap-y-2 mt-2",children:[h.jsx("p",{className:"p-2 font-bold",children:"Links"}),t.map((e,n)=>h.jsx("a",{href:e.link,target:"_blank",children:h.jsxs("div",{className:`p-1 hover:bg-slate-50 cursor-pointer min-h-14 flex gap-x-1 items-center font-bold border-slate-300 border-t ${n===t.length-1&&"border-b"} border-slate-200 text-blue-600`,children:[h.jsx(ms,{name:"link"}),h.jsx("div",{children:h.jsx("p",{className:"underline",children:e.title})})]})},`${n}-${e.link}`))]});async function kC(t,e,n,r=null){const i=Tr.get("userId");try{const s=Oe(Ee,"notifications"),o={uid:i,type:t,[e]:n,isReadBy:[],timestamp:ur(),comment:r};await ua(s,o)}catch(s){console.log(s.message)}}const b0=()=>h.jsxs("div",{className:"flex gap-x-2 items-center",children:[h.jsx(pe,{variant:"circular",height:40,width:40}),h.jsx(pe,{variant:"text",height:40,width:"200px"})]}),TM=({post:t,collectionName:e})=>{const{id:n}=t,[r,i]=v.useState(null),[s,o]=v.useState(null),{theme:a,userId:l}=v.useContext(ee),[c,u]=v.useState(!1),[d,f]=v.useState(!1),p=e==="posts",m=Oe(_e(Ee,e,n),"comments"),y=Oe(_e(Ee,e,n),"likes"),[x,g]=v.useState(!1),w=async(E,b)=>{const C=Oe(_e(Ee,e,n),E);console.log("Fetching counts...");const S=await a8(C);b(S.data().count)};v.useEffect(()=>{(async()=>{await w("likes",i),await w("comments",o)})()},[]),v.useEffect(()=>{(async()=>{const b=gr(y,Bg("uid","==",l)),C=await Ca(b);g(!C.empty)})()},[]);const _=async()=>{try{const E=async()=>{await w("likes",i)},b=_e(y,l),C={uid:l,timestamp:ur()};x?(g(!1),await ca(b),E()):(g(!0),await _u(b,C),E(),kC(["like",p?"post":"test"],p?"description":"testName",p?t.description:t.name))}catch(E){console.log(E.message)}};return h.jsxs("div",{className:"mt-2",children:[h.jsxs("div",{className:"transition-all mb-1 flex justify-between pl-2 pr-2",children:[h.jsx(Pe,{size:"small",sx:{textDecoration:"underline",textTransform:"capitalize"},variant:c?"outlined":"text",onClick:()=>{u(!c),f(!1)},children:h.jsxs("span",{children:[r||0," ",r>1?"Likes":"Like"]})}),h.jsxs(Pe,{size:"small",variant:d?"outlined":"text",sx:{textDecoration:"underline",textTransform:"capitalize"},onClick:()=>{f(!d),u(!1)},children:[s||0," ",s>1?"Comments":"Comment"]})]}),h.jsxs("div",{className:`p-2 shadow-lg border-t border-b pt-2 flex gap-x-2 ${a==="light"?"border-t-slate-300":"border-t-slate-500/70"}`,children:[h.jsx(Rt,{size:"small",sx:{textTransform:"capitalize"},color:a!=="light"?"warning":"primary",onClick:_,children:x?h.jsx(rde,{}):h.jsx(ide,{})}),h.jsx(Pe,{size:"small",sx:{textTransform:"capitalize"},color:a!=="light"?"warning":"primary",onClick:()=>{f(!d),u(!1)},startIcon:h.jsx(Xue,{}),children:"Comment"})]}),c&&h.jsx(tpe,{isLikesOpen:c,setIsLikesOpen:u,likesRef:y,likeCounts:r}),d&&h.jsx(rpe,{isPost:p,post:t,commentsRef:m,collectionName:e,commentCounts:s,setCommentCounts:o,getCounts:w,isCommentsOpen:d,setIsCommentsOpen:f})]})},tpe=({likesRef:t,likeCounts:e,isLikesOpen:n,setIsLikesOpen:r})=>{const[s,o]=v.useState([]),[a,l]=v.useState(null),[c,u]=v.useState(!0),d=async()=>{let f=gr(t,yu("timestamp","desc"),Xs(5));a&&(f=gr(f,Wg(a)));const p=await Ca(f),m=p.docs.map(y=>({id:y.id,...y.data()}));o([...s,...m]),u(!1),l(p.docs[p.docs.length-1])};return v.useEffect(()=>{d()},[]),h.jsx(dC,{anchor:"bottom",open:n,onClose:()=>r(!1),sx:{"& .MuiDrawer-paper":{backgroundColor:"transparent"}},children:h.jsxs(Fe,{sx:{backgroundColor:"white",width:{xs:"100%",sm:"75%",md:"60%",lg:"50%"},margin:"auto",textAlign:"center",borderRadius:2},children:[h.jsx(Mr,{direction:"row",sx:{display:"flex",justifyContent:"end",p:1,borderBottom:"1px dashed gray",mb:3},children:h.jsx(Pe,{onClick:()=>r(!1),variant:"text",sx:{textDecoration:"underline"},children:"Close"})}),s.length===0&&h.jsx("div",{className:"flex items-center justify-center ",children:"No likes yet..."}),c?h.jsx(Fe,{className:"text-center",children:"Loading..."}):h.jsxs("div",{className:"m-2 grid gap-y-2 ",children:[s.sort((f,p)=>Ai(f,p,"timestamp","newer")).map((f,p)=>h.jsx(npe,{like:f},`user-${f.uid}-${p}`)),h.jsx(Mr,{direction:"row",justifyContent:"center",children:e>5&&s.length<e&&s.length>0?h.jsx(Pe,{size:"small",onClick:d,children:"Load More"}):""})]})]})})},npe=({like:t})=>{const{users:e}=v.useContext(ee),[n,r]=v.useState(null),[i,s]=v.useState();return Bn(t.uid,e,r,s),i?h.jsx(b0,{}):h.jsxs("div",{className:"flex gap-x-2 items-center",children:[h.jsx(si,{image:n?n.image:"images/sea-logo.jpg",name:n&&n.name}),h.jsx("div",{children:n?n.name:"Unknown User"})]})},rpe=({post:t,isPost:e,commentsRef:n,setCommentCounts:r,getCounts:i,isCommentsOpen:s,setIsCommentsOpen:o})=>{const[a,l]=v.useState(""),[c,u]=v.useState([]),{theme:d,userId:f}=v.useContext(ee),[p,m]=v.useState(null),y=()=>{const _=gr(n,yu("timestamp","desc"));return Es(_,b=>{i("comments",r),b.empty?u([]):u(b.docs.map(C=>({id:C.id,...C.data()})).sort((C,S)=>Ai(C,S,"timestamp")))})};v.useEffect(()=>{const _=y();return()=>{_&&_()}},[]);const x=async()=>{if(a.trim()){const _={uid:f,text:a.trim(),timestamp:ur()};await ua(n,_),l(""),kC(["comment",e?"post":"test"],e?"description":"testName",e?t.description:t.name,a.trim())}},g=async()=>{const _=_e(n,p);if(a.trim()){const E={text:a.trim(),editedTime:ur()};await cr(_,E),l(""),m(null)}},w=async _=>{const E=_e(n,_);try{await ca(E)}catch(b){console.log(b.message)}};return h.jsx(dC,{variant:"temporary",transitionDuration:{enter:500,exit:300},anchor:"bottom",open:s,onClose:()=>o(!1),className:"mt-2 p-2",sx:{"& .MuiDrawer-paper":{backgroundColor:"transparent"}},children:h.jsxs(Fe,{sx:{backgroundColor:"white",width:{xs:"100%",sm:"75%",md:"60%",lg:"50%"},margin:"auto",textAlign:"center",borderRadius:2},children:[h.jsx(Mr,{direction:"row",sx:{display:"flex",justifyContent:"end",p:1,borderBottom:"1px dashed gray",mb:3},children:h.jsx(Pe,{onClick:()=>o(!1),variant:"text",sx:{textDecoration:"underline"},children:"Close"})}),c.length===0&&h.jsx("div",{className:"flex items-center justify-center ",children:"No comments yet..."}),h.jsx("div",{className:"grid gap-y-2 m-2",children:c.map(_=>{const E=_.uid===f,b=E&&{text:"Edit",icon:"editPencil",onClick:()=>{m(_.id),l(_.text)}};return h.jsx(ipe,{comment:_,editOption:b,yourComment:E,deleteComment:w},`${_.uid}-${_.id}`)})}),h.jsxs("div",{className:"mt-2 flex gap-x-1 m-2",children:[h.jsx("input",{autoFocus:!0,onChange:_=>l(_.target.value),value:a,className:`h-10 flex-1 rounded-lg pl-2 border-slate-200 shadow-md border ${d==="light"?"border-gray-300 focus:outline-blue-500":"outline-none bg-slate-500/70 border-slate-500/70"}`,placeholder:"Write a comment..."}),h.jsxs("div",{className:"flex gap-x-1",children:[p&&h.jsx(Rt,{onClick:()=>{m(null),l("")},children:h.jsx(ms,{name:"falseIcon"})}),h.jsx(Rt,{onClick:()=>{a.trim()&&(p?g():x())},children:h.jsx(ms,{name:"send"})})]})]})]})})},ipe=({comment:t,editOption:e,yourComment:n,deleteComment:r})=>{const{users:i,theme:s,userData:o}=v.useContext(ee),[a,l]=v.useState(null),[c,u]=v.useState();return Bn(t.uid,i,l,u),h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex gap-x-1",children:[h.jsx("div",{children:c?h.jsx(pe,{variant:"circular",height:40,width:40}):h.jsx(si,{image:a&&a.image,name:a&&a.name})}),h.jsxs("div",{className:"max-w-[250px]",children:[h.jsxs("div",{className:`p-2 border  shadow-md border-slate-200 rounded-lg ${s==="light"?"bg-slate-100":"bg-slate-500/70 text-white"}`,children:[c?h.jsx(pe,{height:40,width:120}):h.jsx("div",{className:"font-bold text-left",children:a?a.name:"Unknown User"}),c?h.jsx(pe,{sx:{mt:-1},height:60,width:200}):h.jsx("div",{className:"text-left",children:t.text})]}),h.jsx("div",{className:`text-sm text-left mt-1 ${s==="light"?"text-gray-600":"text-white"}`,children:t!=null&&t.editedTime?h.jsxs("span",{children:["edited ",A2(Zr(t.editedTime))]}):h.jsx("span",{children:A2(Zr(t.timestamp))})})]})]}),n||o!=null&&o.isAdmin?h.jsx(EC,{options:[e,{text:"Delete",icon:h.jsx(x0,{}),onClick:()=>r(t.id)}],isComment:!0}):""]})},SM=()=>h.jsxs("div",{className:"border border-slate rounded-md shadow-md",children:[h.jsxs("div",{className:"flex gap-x-2 pl-2 pr-2 items-center",children:[h.jsx(pe,{variant:"circular",width:35,height:35}),h.jsx(pe,{width:"40%",height:50,variant:"text"})]}),h.jsxs("div",{className:"pl-2 pr-2",children:[h.jsx(pe,{width:"100%"}),h.jsx(pe,{width:"60%"})]}),h.jsxs("div",{className:"flex gap-x-1 pl-2 pr-2",children:[h.jsx(pe,{height:100,width:"20%"}),h.jsx(pe,{height:100,width:"20%"}),h.jsx(pe,{height:100,width:"20%"})]}),h.jsxs("div",{className:"flex items-center gap-x-2 pl-2 pr-2 pb-1",children:[h.jsx(pe,{width:70,animation:"wave",variant:"rounded",height:30}),h.jsx(pe,{width:70,animation:"wave",variant:"rounded",height:30})]})]}),spe=({post:t,setViewingImage:e})=>{var l,c;const{theme:n,users:r}=v.useContext(ee),[i,s]=v.useState(null),[o,a]=v.useState(!0);return Bn(t.uid,r,s,a,[],1200),o?h.jsx(SM,{}):h.jsxs(Fe,{className:"border border-slate-300 shadow-lg rounded-md",sx:{width:"full",backgroundColor:"white",color:n!=="light"?"white":"black"},children:[h.jsxs(Fe,{className:"top-section flex gap-x-2 mb-2 p-2",children:[h.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:i?i.image:"images/sea-logo.jpg"}),h.jsxs("div",{children:[h.jsx("div",{className:"font-medium",children:i?i.name:"Unknown User"}),h.jsx("div",{className:` text-sm ${n==="light"?"text-gray-500":"text-white"}`,children:sd(Zr(t.time))})]})]}),(t==null?void 0:t.description)&&h.jsx("p",{className:"mb-2 p-2 break-words whitespace-pre-wrap",children:t.description}),t.images.length!==0?h.jsx(Ch,{container:!0,spacing:1,className:" p-0",sx:{p:1},children:h.jsx(J0e,{post:t,setViewingImage:e})}):"",t.files&&((l=t==null?void 0:t.files)==null?void 0:l.length)!==0&&h.jsx(Z0e,{files:t.files}),(t==null?void 0:t.links)&&((c=t==null?void 0:t.links)==null?void 0:c.length)!==0&&h.jsx(epe,{links:t.links}),h.jsx(TM,{post:t,collectionName:"posts"})]})},ope=()=>{const{posts:t,setPosts:e,setHeaderTitle:n}=v.useContext(ee),r=Oe(Ee,"posts"),[i,s]=v.useState(!0),[o,a]=v.useState(!1),[l,c]=v.useState(null),[u,d]=v.useState(null);return v.useEffect(()=>{n("STAR EDUCATION ACADEMY")},[]),ql(r,[],e,s,a,!1,c,500),d0("posts-page"),h0("posts-page"),i?h.jsx(_r,{isLoading:i,text:"Loading posts..."}):o?h.jsx(Nt,{text:"No posts available"}):l?h.jsx(Nt,{text:l}):h.jsxs("div",{className:"grid gap-y-6 m-2",children:[u&&h.jsx(bM,{image:u,setViewingImage:d,postImage:!0}),t.sort((f,p)=>Ai(f,p,"time","newer")).map(f=>h.jsx(spe,{setViewingImage:d,post:f},f.id))]})},RM=()=>h.jsxs("div",{className:"border border-slate rounded-md shadow-md",children:[h.jsxs("div",{className:"flex gap-x-2 pl-2 pr-2 items-center",children:[h.jsx(pe,{variant:"circular",width:35,height:35}),h.jsx(pe,{width:"40%",height:50,variant:"text"})]}),h.jsxs("div",{className:"pl-2 pr-2",children:[h.jsx(pe,{width:"100%"}),h.jsx(pe,{width:"60%"})]}),h.jsx("div",{className:"flex gap-x-1 justify-center pl-2 pr-2",children:h.jsx(pe,{height:100,width:"30%"})}),h.jsxs("div",{className:"flex items-center gap-x-2 pl-2 pr-2 pb-1",children:[h.jsx(pe,{width:70,animation:"wave",variant:"rounded",height:30}),h.jsx(pe,{width:70,animation:"wave",variant:"rounded",height:30})]})]}),ape=()=>{const{tests:t,setTests:e,setHeaderTitle:n,theme:r,startTimer:i}=v.useContext(ee);xn();const s=Oe(Ee,"tests"),[o,a]=v.useState(!0),[l,c]=v.useState(!1),[u,d]=v.useState(null);ql(s,[],e,a,c,!1,d,500),v.useEffect(()=>{n("Tests")},[]);const f=()=>{i()};return d0("tests-page"),h0("tests-page"),o?h.jsx(_r,{isLoading:o,text:"Loading tests..."}):l?h.jsx(Nt,{text:"No tests available"}):u?h.jsx(Nt,{text:u}):h.jsx("div",{className:"grid gap-y-6 mb-2 m-2",children:t.sort((p,m)=>Ai(p,m,"timestamp","newer")).map(p=>h.jsx(lpe,{takeTest:f,t:p},p.id))})},lpe=({t,takeTest:e})=>{const{theme:n,users:r}=v.useContext(ee),[i,s]=v.useState(null),[o,a]=v.useState(!0),l=xn();return Bn(t.uid,r,s,a),o?h.jsx(RM,{}):h.jsxs("div",{className:`flex flex-col justify-between min-h-60 border shadow-lg rounded-md bg-gradient-to-tr ${n==="light"?"border-slate-300 ":"border-slate-300 text-white shadow-slate-500"}`,children:[h.jsxs("div",{className:"flex gap-x-2 mb-2 p-2",children:[h.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:i==null?void 0:i.image}),h.jsxs("div",{children:[h.jsx("div",{className:"font-bold",children:i==null?void 0:i.name}),h.jsx("div",{className:` text-sm ${n==="light"?"text-gray-500 ":"text-white"}`,children:sd(Zr(t.time))})]}),h.jsxs("span",{className:`rounded-md border border-slate-200 text-sm text-gray-400 flex items-center p-1 ${n==="light"?"bg-slate-100 ":"bg-slate-500/70  "}`,children:[t.quizzes.length,t.quizzes.length>1?" questions":" question"]})]}),t.image&&h.jsx("div",{className:"m-2 flex justify-center p-2",children:h.jsx("img",{className:"h-[250px]",src:`images/tests/${t.image}`})}),h.jsxs("div",{className:`p-2 rounded-bl-lg rounded-br-lg border-t shadow-t-md ${n==="light"?"border-t-slate-300":"border-t-slate-500/70"}`,children:[h.jsx("div",{className:"font-medium text-lg",children:t.name}),h.jsx("p",{className:" mb-2 break-words white-space-pre-wrap",children:t.description.trim()||"No description"}),h.jsx(Pe,{sx:{textDecoration:"underline"},size:"small",onClick:()=>{e(),l(`/app/tests/${t.id}`)},children:"Take the test"})]}),h.jsx(TM,{post:t,collectionName:"tests"})]})},cpe=({data:t})=>{const{pageTitle:e,currentPage:n,totalPage:r,percentage:i,answerLength:s,questionsLength:o}=t,{stopTest:a,formattedTime:l,theme:c}=v.useContext(ee),u=xn(),[d,f]=v.useState(!1),p=()=>{a(),f(!1),u("/app/tests")},m=()=>{f(!1)};return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:" font-medium text-lg flex items-center justify-start",children:[h.jsx(Rt,{onClick:()=>f(!0),children:h.jsx(id,{})}),h.jsx("div",{className:`ml-2 ${c==="light"?"":"text-white"}`,children:e}),h.jsx(no,{data:{value:d,yesButton:p,noButton:m,text:"Are you sure to stop the test ?",setValue:f}})]}),h.jsxs("div",{className:`flex justify-between items-center sticky left-0 pt-1 right-0 z-10 ${c==="light"?"":"text-white"}`,children:[h.jsxs("div",{children:["Page ",n," of ",r]}),h.jsxs("div",{className:`w-2/3 border h-7 relative ${c==="light"?"border-gray-300":"border-slate-500/70"}`,children:[h.jsx("div",{style:{width:`${i}%`},className:`text-center h-full ${c==="light"?"bg-lime-200":"bg-slate-500/70"}`}),h.jsxs("div",{className:"absolute top-0 left-2 font-medium",children:[s," ","/"," ",o]})]}),h.jsx("div",{className:"min-h-12 font-medium fixed right-0 top-1/4 h-10 min-w-20 bg-lime-200/50 backdrop-blur-lg flex items-center justify-center rounded-bl-lg rounded-tl-lg border-r-4 border-r-blue-400",children:l})]})]})},upe=({data:t})=>{const{currentQuestions:e,chooseAnswer:n,answeredQuestions:r}=t,{theme:i}=v.useContext(ee);return h.jsx("div",{children:e==null?void 0:e.map((s,o)=>h.jsxs("div",{children:[h.jsxs("div",{className:`grid gap-y-2 ${i==="light"?"":"text-white"}`,children:[h.jsxs("div",{className:"flex gap-x-3 items-center",children:[h.jsx("div",{className:"bg-blue-600 rounded-sm shadow-lg h-9 w-9 text-white font-bold flex justify-center items-center ",children:s.id}),h.jsx("div",{className:"flex-1 font-padauk",children:s.question})]}),h.jsx("div",{className:"grid gap-y-2",children:s.choices.map((a,l)=>{let c,u=!1;return r.forEach(d=>{s.id===d.id&&(c=d)}),(c==null?void 0:c.userAnswer)===a&&(u=!0),h.jsxs("div",{onClick:()=>{n(s.id,a)},className:`border  h-12 flex gap-x-3 p-2 cursor-pointer items-center rounded-lg font-padauk ${i==="light"?`${u?"border-blue-500 border-dotted font-bold bg-lime-50":"border-lime-200 hover:bg-slate-50"}`:`${u?"border-slate-500/70 border-dotted font-bold bg-slate-500/70":"border-slate-500/70 hover:bg-slate-500/70"}`}`,children:[h.jsx("input",{onChange:()=>{n(s.id,a)},className:"h-5 w-5",name:`question-${s.id}`,type:"radio",checked:!!u}),h.jsx("div",{children:a})]},`choice-${s.id}-${l}-${a}`)})})]}),h.jsx(dpe,{})]},`question-${s.id}-${o}-${s.question}`))})},dpe=()=>h.jsx("div",{className:" border border-dashed border-gray-500 mb-7 mt-7"}),hpe=()=>(v.useContext(ee),h.jsxs("div",{className:"flex gap-x-2 items-center",children:[h.jsx("img",{className:"w-8 ",src:rn("error")}),h.jsx("div",{className:"text-red-600 font-bold",children:"You need to answer all questions before proceeding!"})]}));function fpe(t,e,n){const r=e.name,i=ppe(t,e.quizzes),s=mpe(i),o=t.length,a=e.gradingRules.length!==0?gpe(s,e.gradingRules)||"There is an error in your grading rules":"Level is not defined",l=vpe(),c=ype();return{testName:r,results:i,score:s,totalScore:o,level:a,date:l,time:c,timeTaken:n}}function ppe(t,e){return e.map(r=>{const{id:i,question:s,answer:o}=r;let a;t.forEach(c=>{i===c.id&&(a=c)});const{userAnswer:l}=a;return l===r.answer?{id:i,question:s,userAnswer:l,answer:o,isTrue:!0}:{id:i,question:s,userAnswer:l,answer:o,isTrue:!1}})}function mpe(t){let e=0;return t.forEach(n=>{n.isTrue&&e++}),e}function gpe(t,e){let n;try{e.forEach(r=>{t>=Number(r.from)&&t<=Number(r.to)&&(n=r.level)})}catch(r){console.log(r.message)}return n}function vpe(){const t=new Date,e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return`${e}/${n}/${r}`}function ype(){const t=new Date;let e=t.getHours();const n=t.getMinutes(),r=e>12?"PM":"AM";e=e%12||12;const i=n<10?`0${n}`:n;return`${e}:${i} ${r}`}const _pe=({data:t})=>{const{nextPage:e,prevPage:n,isEnded:r,startIndex:i,currentTest:s,answeredQuestions:o}=t,{formattedTime:a,stopTest:l,userId:c}=v.useContext(ee),u=xn(),d=async()=>{try{const p=Oe(_e(Ee,"users",c),"history"),m=fpe(o,s,a),y=await ua(p,m),x=(await la(y)).id;u(`/app/history/${x}`)}catch(p){console.log(p.message)}},f=()=>{d(),l(),kC(["took","test"],"testName",s.name)};return h.jsxs("div",{className:"flex justify-center gap-x-5",children:[i!==0&&h.jsx(Pe,{variant:"outlined",size:"small",onClick:n,startIcon:h.jsx(id,{}),children:"Previous"}),r?h.jsx(Pe,{variant:"outlined",size:"small",onClick:f,startIcon:h.jsx(ede,{}),children:"Finish"}):h.jsx(Pe,{variant:"outlined",size:"small",onClick:e,startIcon:h.jsx(Yue,{}),children:"Next"})]})},wpe=()=>{var $,P;v.useContext(ee);const{testId:t}=Of(),[e,n]=v.useState([]),[r,i]=v.useState(null),[s,o]=v.useState(!0),[a,l]=v.useState(!1),[c,u]=v.useState(null),[d,f]=v.useState(!1);v.useEffect(()=>{(async()=>{try{o(!0);const D=_e(Ee,"tests",t),j=await la(D);j.exists()?(i(j.data()),wn(o,1200)):(wn(o),l(!0))}catch(D){wn(o,1200),u("Failed to fetch current test: "+D.message)}})()},[]);const p=e==null?void 0:e.length,m=($=r==null?void 0:r.quizzes)==null?void 0:$.length,[y,x]=v.useState(0),[g,w]=v.useState(!1),[_,E]=v.useState(!1),b=10;let C=(P=r==null?void 0:r.quizzes)==null?void 0:P.slice(y,y+b);const S=r==null?void 0:r.name,I=Math.ceil(m/b),T=Math.ceil((y+b)/b),R=Math.round(p/m*100);v.useEffect(()=>(wi(),wi()),[]),v.useEffect(()=>{p===m&&y+b>=m?w(!0):w(!1)},[y,e]),v.useEffect(()=>{p>=y+b?E(!0):E(!1)},[e,y]);const N={pageTitle:S,currentPage:T,totalPage:I,percentage:R,answerLength:p,questionsLength:m,answeredQuestions:e,currentQuestions:C,isEnded:g,chooseAnswer:(A,D)=>{const j=SZ(A,e);n(j?e.map(F=>A===F.id?{id:A,userAnswer:D}:F):[...e,{id:A,userAnswer:D}])},nextPage:()=>{_?(x(y+b),p<=y+b&&wi()):RZ(f)},prevPage:()=>{x(Math.max(y-b,0))},startIndex:y,currentTest:r};return s?h.jsx(_r,{isLoading:s,text:"Loading test..."}):a?h.jsx(Nt,{text:"No test available"}):c?h.jsx(Nt,{text:d}):h.jsxs("div",{className:"p-3 grid gap-y-3",children:[h.jsx(cpe,{data:N}),h.jsx(upe,{data:N}),d&&h.jsx(hpe,{}),h.jsx(_pe,{data:N})]})},xpe=({members:t,isUserOnline:e})=>{const{users:n,theme:r}=v.useContext(ee);return h.jsxs("div",{className:`p-2 grid gap-y-2 ${r==="light"?"":"text-white"}`,children:[h.jsx("p",{className:"text-lg font-bold",children:"Members"}),h.jsx(Fe,{className:"border rounded-md shadow-lg border-slate-200",children:t.sort((i,s)=>Ai(i,s,"joinedAt","newer")).map((i,s)=>h.jsx("div",{className:`p-2 flex gap-x-2 items-center border-t ${t.length===s&&"border-b"} ${s===0&&"border-t-0"} ${r==="light"?"border-slate-200":"bg-slate-500/70 border-slate-500"}`,children:h.jsx(Epe,{member:i})},i.uid+i.joinedAt))})]})},Epe=({member:t})=>{const{users:e}=v.useContext(ee),[n,r]=v.useState(null),[i,s]=v.useState(!0),[o,a]=v.useState("offline"),[l,c]=v.useState(null);return S5(t.uid,a,c),Bn(t.uid,e,r,s),i?h.jsx(b0,{}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative",children:[h.jsx(si,{image:n==null?void 0:n.image,name:n==null?void 0:n.name}),h.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${o==="online"?"bg-green-500":"bg-gray-500"}`})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{children:n==null?void 0:n.name}),h.jsx("p",{className:`text-sm ${o==="online"?"text-blue-500":"text-gray-500"}`,children:o==="online"?"Online":NZ(l)})]})]})},AM=({pageName:t,setSubPage:e,currentChat:n,infoPage:r,memberCounts:i})=>{var o;const s=xn();return h.jsx(zL,{sx:{background:"white"},children:h.jsxs(dD,{className:"h-[70px] bg-white z-30 p-2 min-h-10 pb-2 flex items-center justify-between gap-x-1 border-b ",children:[h.jsxs("div",{className:"flex items-center gap-x-1",children:[h.jsx("div",{children:h.jsx(Rt,{onClick:()=>{r?e(t):s("/app/chatroom")},children:h.jsx(Que,{})})}),h.jsxs("div",{onClick:()=>e(t),className:"cursor-pointer",children:[h.jsx("p",{className:"text-lg text-black font-bold",children:n.name}),i?h.jsxs("p",{className:"text-sm text-black",children:[i," ",i<=1?"member":"members"]}):h.jsx(pe,{height:40,width:100})]})]}),h.jsx("button",{onClick:()=>e(t),children:h.jsx("img",{src:((o=n==null?void 0:n.image)==null?void 0:o.URL)||"images/sea-logo.jpg",alt:"group-image",className:"size-12 rounded-full object-center object-cover "})})]})})},Cpe=({setSubPage:t,currentChat:e,memberCounts:n,setMemberCounts:r,members:i,setMembers:s})=>{var S;const{chatId:o}=Of(),{theme:a,users:l,userData:c}=v.useContext(ee),u=_e(Ee,"chats",o),[d,f]=v.useState(""),[p,m]=v.useState(null),y=_e(Ee,"chats",o),x=Oe(y,"members");v.useEffect(()=>{f(e.name)},[e]);const g=I=>{let T=!1;return i.forEach(R=>{R.uid===I&&(T=!0)}),T},w=async I=>{let T=!1;const R=gr(x,Bg("uid","==",I),Xs(1));return console.log("Checking if a member..."),T=!(await Ca(R)).empty,T};v.useEffect(()=>Es(x,k=>{k.empty||((async()=>await Bs(x,r))(),s(k.docs.map(M=>({...M.data(),id:M.id}))))}),[]);const _=async I=>{try{const T=_e(x,I);await w(I)||await _u(T,{uid:I,joinedAt:ur()})}catch(T){console.log(T.message)}},E=async I=>{try{const T=_e(x,I);await ca(T)}catch(T){console.log(T.message)}},b=async()=>{if(!p)return;const I=`chats/${e.id}/groupImage-${p.name}`,T=Fo(storage,I),R=await vn(p,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),k=await hf(T,R),L=await ff(k.ref),M={name:p.name,path:I,URL:L,size:R.size};await cr(u,{image:M})},C=async()=>{d.trim()&&await cr(u,{name:d})};if(v.useEffect(()=>{b()},[p]),v.useEffect(()=>{scrollTo({top:0})},[]),e)return h.jsxs("div",{className:"",children:[h.jsx(AM,{pageName:"chat",infoPage:!0,setSubPage:t,currentChat:e,memberCounts:n}),(c==null?void 0:c.isAdmin)&&h.jsxs("div",{className:"p-2 m-1 mt-4 shadow-lg  border border-slate-300 rounded-md",children:[h.jsx("input",{id:"imageInput",className:"hidden",type:"file",accept:"image/*",onChange:I=>m(I.target.files[0])}),h.jsxs("div",{className:"relative size-24",children:[h.jsx("img",{src:(S=e==null?void 0:e.image)==null?void 0:S.URL,className:"size-24 rounded-full object-cover object-center bg-cover"}),h.jsx("label",{htmlFor:"imageInput",className:` p-1 size-7 rounded-full absolute -bottom-1 -right-1 cursor-pointer ${a==="light"?"bg-gray-200":"bg-slate-500/70"}`,children:h.jsx(tv,{sx:{width:20,height:20}})})]}),h.jsxs("div",{className:`mt-2 ${a==="light"?"":"text-white"}`,children:[h.jsx("p",{children:"Group Name"}),h.jsx(zr,{size:"small",value:d,onChange:I=>f(I.target.value),placeholder:"Enter group name..."}),h.jsx(Rt,{onClick:C,children:h.jsx(pde,{})})]})]}),i&&h.jsx(xpe,{members:i}),(c==null?void 0:c.isAdmin)&&h.jsxs("div",{className:`p-2 grid gap-y-2 ${a==="light"?"":"text-white"}`,children:[h.jsx("p",{className:"text-lg font-bold",children:"Manage Members"}),h.jsx(Fe,{className:"border rounded-md shadow-lg border-slate-200",children:l.sort((I,T)=>Ai(I,T,"createdAt","newer")).map((I,T)=>h.jsx(Ipe,{user:I,i:T,members:i,addMember:_,removeMember:E,isAMember:g},I.name+" "+I.image+T))})]})]})},Ipe=({user:t,i:e,members:n,isAMember:r,removeMember:i,addMember:s})=>{const[o,a]=v.useState("offline"),[l,c]=v.useState(null);return S5(t.uid,a,c),h.jsxs("div",{className:`p-2 flex justify-between gap-x-2 items-center border-t border-slate-200 ${(n==null?void 0:n.length)===e&&"border-b"} ${e===0&&"border-t-0"} `,children:[h.jsxs("div",{className:"flex gap-x-2 items-center",children:[h.jsxs("div",{className:"relative",children:[h.jsx(si,{image:t.image,name:t.name}),h.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${o==="online"?"bg-green-500":"bg-gray-500"}`})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{children:t.name}),h.jsx("p",{className:`text-sm ${o==="online"?"text-blue-500":"text-gray-500"}`,children:o==="online"?"Online":sd(Zr(l))})]})]}),h.jsx("div",{children:r(t.uid)?!t.isAdmin&&h.jsx(Rt,{size:"small",onClick:()=>i(t.uid),children:h.jsx(x0,{})}):h.jsx(Rt,{size:"small",onClick:()=>s(t.uid),children:h.jsx(hD,{})})})]})},bpe=[{name:"like",image:"facebookLike"},{name:"love",image:"facebookLove"},{name:"haha",image:"facebookHaha"},{name:"wow",image:"facebookWow"},{name:"sad",image:"facebookSad"},{name:"angry",image:"facebookAngry"}],Tpe=({chatId:t,message:e,setReactedUsers:n})=>{v.useState(!1);const[r,i]=v.useState([]),s=Oe(_e(Oe(_e(Ee,"chats",t),"messages"),e.id),"reactedBy"),{userId:o}=v.useContext(ee),a=()=>Es(s,f=>{if(f.empty)i([]);else{const p=f.docs.map(m=>m.data());i(p)}});v.useEffect(()=>{const d=a();return()=>{d&&d()}},[]);const l=async()=>{const d=_e(s,o);await ca(d)},c=d=>{let f=!1;return r.forEach(p=>{p.reactionType===d&&(f=!0)}),f},u=bpe.filter(d=>c(d.name));if(r.length!==0)return h.jsx("div",{children:h.jsxs("button",{onClick:()=>n({reactedBy:r,removeReaction:l}),className:"mt-2 border border-gray-200 bg-white p-1 rounded-lg flex justify-center items-center text-sm",children:[u.map((d,f)=>h.jsx("img",{className:"w-4 ml-[-3px]",src:rn(d.image)},`reaction-${d.name}-${f}`)),h.jsx("span",{className:"ml-1",children:r.length})]})})};function vx(t){return new Date(t).toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0})}const Spe=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Rpe=/[\0-\x1F\x7F-\x9F]/,Ape=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,kpe=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/;function Ppe(t){const e={};t=t||{},e.src_Any=Spe.source,e.src_Cc=Rpe.source,e.src_Z=kpe.source,e.src_P=Ape.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><｜]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function yx(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){t[r]=n[r]})}),t}function cv(t){return Object.prototype.toString.call(t)}function Npe(t){return cv(t)==="[object String]"}function Lpe(t){return cv(t)==="[object Object]"}function Dpe(t){return cv(t)==="[object RegExp]"}function OR(t){return cv(t)==="[object Function]"}function Mpe(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const kM={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function Ope(t){return Object.keys(t||{}).reduce(function(e,n){return e||kM.hasOwnProperty(n)},!1)}const $pe={"http:":{validate:function(t,e,n){const r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},jpe="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Fpe="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function Vpe(t){t.__index__=-1,t.__text_cache__=""}function Upe(t){return function(e,n){const r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}function $R(){return function(t,e){e.normalize(t)}}function N2(t){const e=t.re=Ppe(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(jpe),n.push(e.src_xn),e.src_tlds=n.join("|");function r(a){return a.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");const i=[];t.__compiled__={};function s(a,l){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+l)}Object.keys(t.__schemas__).forEach(function(a){const l=t.__schemas__[a];if(l===null)return;const c={validate:null,link:null};if(t.__compiled__[a]=c,Lpe(l)){Dpe(l.validate)?c.validate=Upe(l.validate):OR(l.validate)?c.validate=l.validate:s(a,l),OR(l.normalize)?c.normalize=l.normalize:l.normalize?s(a,l):c.normalize=$R();return}if(Npe(l)){i.push(a);return}s(a,l)}),i.forEach(function(a){t.__compiled__[t.__schemas__[a]]&&(t.__compiled__[a].validate=t.__compiled__[t.__schemas__[a]].validate,t.__compiled__[a].normalize=t.__compiled__[t.__schemas__[a]].normalize)}),t.__compiled__[""]={validate:null,normalize:$R()};const o=Object.keys(t.__compiled__).filter(function(a){return a.length>0&&t.__compiled__[a]}).map(Mpe).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+o+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+o+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),Vpe(t)}function zpe(t,e){const n=t.__index__,r=t.__last_index__,i=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=i,this.text=i,this.url=i}function _x(t,e){const n=new zpe(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function ei(t,e){if(!(this instanceof ei))return new ei(t,e);e||Ope(t)&&(e=t,t={}),this.__opts__=yx({},kM,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=yx({},$pe,t),this.__compiled__={},this.__tlds__=Fpe,this.__tlds_replaced__=!1,this.re={},N2(this)}ei.prototype.add=function(e,n){return this.__schemas__[e]=n,N2(this),this};ei.prototype.set=function(e){return this.__opts__=yx(this.__opts__,e),this};ei.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,r,i,s,o,a,l,c,u;if(this.re.schema_test.test(e)){for(l=this.re.schema_search,l.lastIndex=0;(n=l.exec(e))!==null;)if(s=this.testSchemaAt(e,n[2],l.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(o=r.index+r[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(u=e.indexOf("@"),u>=0&&(i=e.match(this.re.email_fuzzy))!==null&&(o=i.index+i[1].length,a=i.index+i[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a))),this.__index__>=0};ei.prototype.pretest=function(e){return this.re.pretest.test(e)};ei.prototype.testSchemaAt=function(e,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,r,this):0};ei.prototype.match=function(e){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(_x(this,r)),r=this.__last_index__);let i=r?e.slice(r):e;for(;this.test(i);)n.push(_x(this,r)),i=i.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};ei.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const r=this.testSchemaAt(e,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,_x(this,0)):null};ei.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,i,s){return r!==s[i-1]}).reverse(),N2(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,N2(this),this)};ei.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};ei.prototype.onCompile=function(){};const Bpe=({message:t,messages:e,deleteMessage:n,setMessage:r,setImageObject:i,setEditMessageObject:s,setViewingImage:o,setReplyMessage:a,chatId:l,messagesRef:c,messageIndex:u,viewingOldMessages:d,setSeenUsers:f,setMessageOption:p,setReactedUsers:m,index:y})=>{var N;const{theme:x,userData:g,userId:w}=v.useContext(ee),_=w===t.senderId,E=(t==null?void 0:t.seenBy)&&t.seenBy.length>0,b=v.useRef(!1),[C,S]=v.useState(!1),I=$=>{S($)},T={...t,index:u},R=_?{text:"Edit",icon:h.jsx(tv,{}),onClick:()=>{s(T),r(t.content),i(t==null?void 0:t.image),a(t==null?void 0:t.reply)}}:null,k=_||g!=null&&g.isAdmin?{text:"Delete",icon:h.jsx(x0,{}),onClick:()=>{n(t,u)}}:null,L=()=>{let $=!1;return((t==null?void 0:t.seenBy)||[]).forEach(A=>{w===A.uid&&($=!0)}),$},M=()=>y>=e.length-5&&y<=e.length-1;return v.useEffect(()=>{t&&(async()=>{const P=_e(c,t.id);if(!b.current&&(console.log(!L()),!L()&&!_&&M()&&!d))try{await cr(P,{seenBy:Sw({uid:w,timestamp:new Date().getTime()})}),b.current=!0}catch(A){console.error("Error marking message as seen: ",A)}})()},[]),h.jsxs("div",{onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),className:`hover:bg-slate-100 rounded-md border border-dashed border-slate-200 border-r-0 border-l-0  flex mb-2 gap-x-2 pt-2 pb-2   ${_?"flex-row-reverse":""} `,children:[h.jsx(Wpe,{senderId:t.senderId}),h.jsx("div",{className:`grid gap-y-1 whitespace-pre-wrap ${x==="light"?"":"text-white"}`,children:h.jsxs("div",{className:`flex  items-start gap-x-1 ${_?"flex-row-reverse justify-start":""}`,children:[h.jsx("div",{className:"relative",children:h.jsxs("div",{className:`max-w-[300px] grid min-w-20 break-words whitespace-pre-wrap text-wrap rounded-[10px] kkborder border-slate-200 p-3  ${x==="light"?`${_?" dfbg-blue-300 justify-start":"fdbg-white  "}`:`${_?" fdbg-blue-300":"fdbg-white  text-black "}`}`,children:[h.jsx(Hpe,{senderId:t.senderId,isYourMessage:_}),(t==null?void 0:t.reply)&&h.jsx(qpe,{message:t,setViewingImage:o}),h.jsx(PM,{content:t.content,isYourMessage:_}),(t==null?void 0:t.image)&&h.jsx("img",{onClick:()=>{o(t.image)},className:"cursor-pointer border mt-1 mb-1 rounded-md border-slate-200 overflow-hidden w-[200px] min-h-[100px]",alt:t.image.name,src:t.image.URL}),h.jsx(Tpe,{chatId:l,message:t,setReactedUsers:m}),h.jsx("div",{className:`flex  ${_?"flex-row-reverse":""} gap-x-1 items-center mt-1`,children:h.jsxs("p",{className:`border border-slate-200 shadow-md rounded-md mt-1 p-1 text-sm text-gray-400 text-sm flex gap-x-1 items-center ${_?"text-right":"text-left"}`,children:[t!=null&&t.editedTime?h.jsxs("span",{children:["edited ",vx(Zr(t.editedTime))]}):h.jsx("span",{children:vx(Zr(t.timestamp))}),E?h.jsxs("button",{onClick:()=>{f(t.seenBy)},className:"flex gap-x-1 items-center",children:[h.jsx("img",{className:"w-4",src:rn("eye")}),(N=t==null?void 0:t.seenBy)==null?void 0:N.length]}):""]})})]})}),C&&h.jsx(Rt,{onClick:()=>p({...t,options:[R,k,{text:"Reply",icon:h.jsx(fde,{}),onClick:()=>a(t)}]}),children:h.jsx(mD,{})})]})})]})},PM=({content:t,isYourMessage:e=!1})=>{const n=new ei;n.tlds("onion",!0),n.set({fuzzyLink:!0});const r=n.match(t),i=(s,o=30)=>s.length>o?s.slice(0,o)+"...":s;return r&&r.forEach(s=>{const o=s.url.startsWith("http")?s.url:`https://${s.url}`;t=t.replace(s.url,`<a href="${o}" style="text-decoration: underline; color: blue;" target="_blank" rel="noopener norefereer">${i(o)}<a>`)}),h.jsx("div",{className:`w-full max-w-full break-words  ${e?"text-right":"text-left"}`,dangerouslySetInnerHTML:{__html:t}})},Wpe=({senderId:t})=>{const{users:e}=v.useContext(ee),[n,r]=v.useState(null),[i,s]=v.useState(!0);Bn(t,e,r,s);const[o,a]=v.useState("offline"),[l,c]=v.useState(null);return S5(t,a,c),i?h.jsx(pe,{variant:"circular",height:40,width:40}):h.jsxs("div",{className:"size-10  relative",children:[h.jsx(si,{name:n&&n.name,image:n&&n.image}),h.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${o==="online"?"bg-green-500":"bg-gray-500"}`})]})},Hpe=({senderId:t,isYourMessage:e})=>{const{users:n}=v.useContext(ee),[r,i]=v.useState(null),[s,o]=v.useState(!0);return Bn(t,n,i,o),s?h.jsx("div",{className:`-mt-3 ${e?"text-right":"text-left"}`,children:h.jsx(pe,{height:40,width:120})}):h.jsx("p",{className:`font-bold mb-2 ${e?"text-right":"text-left"} `,children:r!=null&&r.name?r.name:"Unknown User"})},qpe=({message:t,setViewingImage:e})=>{const{users:n,theme:r}=v.useContext(ee),{senderId:i,content:s,image:o}=t.reply,[a,l]=v.useState(!0),[c,u]=v.useState(!1),[d,f]=v.useState(null);return Bn(i,n,f,l),h.jsxs("div",{className:`mb-1 border-l-4 p-1 rounded-md border-l-green-500  ${r==="light"?"bg-green-200":"bg-green-300"}`,children:[a?h.jsx(pe,{width:120,height:40}):h.jsx("p",{className:"font-bold ",children:d==null?void 0:d.name}),s&&h.jsxs("p",{className:"w-full max-w-full break-words",children:[h.jsx(PM,{content:c?s:ba(s,25)}),s.length>=25&&h.jsx("span",{onClick:()=>{u(!c)},className:"font-bold text-blue-400 cursor-pointer",children:c?" see less":" see more"})]}),o&&h.jsx("img",{onClick:()=>{e(o)},className:"cursor-pointer border mt-1 mb-1 rounded-md border-slate-200 overflow-hidden w-[200px] min-h-[100px]",alt:o.name,src:o.URL})]})},Gpe=({setIsRulesOpen:t,isRulesOpen:e,rules:n=["ရိုသေလေးစားမှုရှိပါ - Group ထဲတွင် ရှိသောသူများအားလုံးကို လေးစားရမည်။ မသင့်တော်သော စကားလုံးများ၊ အခြားသူများကို ထိခိုက်စေနိုင်သော စကားလုံးများကို မပြောရ။","No spamming - တူညီသော မက်ဆေ့ချ်များ၊ လင့်ခ် (link) များနှင့်၊ အမြောက်အများသော emoji များ ပို့ခြင်းကို မပြုရ။","Privacy ရှိပါ - တစ်စုံတစ်ဦး၏ ကိုယ်ရေးကိုယ်တာ အချက်အလက်များကို ခွင့်ပြုချက်မရှိဘဲ မမျှဝေရ။ လူတိုင်း၏ ကိုယ်ရေးကိုယ်တာကို လေးစားပါ။","အထက်ပါ စည်းမျဉ်းစည်းကမ်းများ (rules) ထဲမှ တစ်ခုခုကို ချိုးဖောက်ပါက Group ထဲမှ ရက်အကန့်အသတ်ဖြင့် သော်လည်းကောင်း၊ ရာသတ်ပန် သော်လည်းကောင်း ထုတ်ပယ်မည် (သို့မဟုတ်) ထိုက်တန်သော အပြစ်တစ်ခုခုကို ခံယူရမည်။"]})=>h.jsx(Cs,{open:e,onClose:()=>t(!1),children:n?h.jsxs("div",{className:"p-2 max-h-[80%] overflow-auto",children:[h.jsx("p",{className:"font-bold mb-1",children:"Group Rules"}),n.map((r,i)=>h.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[h.jsx("p",{className:"size-10 flex items-center justify-center rounded-full bg-gray-300",children:i+1}),h.jsx("p",{className:"flex-1",children:r})]},`${i}-${r}`))]}):h.jsx("div",{className:"p-2",children:"No rules"})}),Kpe=({typingUsersRef:t,viewingOldMessages:e})=>{const{theme:n,userId:r}=v.useContext(ee),[i,s]=v.useState([]);if(v.useEffect(()=>{const a=Es(t,c=>{console.log("fetching typing users...");const u=c.docs.map(d=>({uid:d.id,...d.data()}));s(u)},c=>{console.log("Error fetching typing users: ",c.message)});return()=>{a&&a()}},[]),v.useEffect(()=>{!e&&i.length!==0&&_h()},[i]),i.length>0)return h.jsx("div",{className:"",children:h.jsx("div",{className:"grid gap-y-1",children:i.sort((o,a)=>Ai(o,a,"timestamp","older")).map(o=>{const a=r===o.uid;return h.jsxs("div",{className:`flex mb-2 gap-x-2 ${a?"flex-row-reverse":""} `,children:[h.jsx(Qpe,{typingUser:o}),h.jsxs("div",{className:`grid gap-y-1 whitespace-pre-wrap ${n==="light"?"":"text-white"}`,children:[h.jsx(Ype,{isYourMessage:a,typingUser:o}),h.jsx("div",{className:`flex items-start gap-x-1 ${a?"flex-row-reverse justify-start":""}`,children:h.jsxs("div",{children:[h.jsx(pe,{height:40,width:150}),h.jsx(pe,{sx:{mt:-1},height:30,width:100})]})})]})]},`typingUsers-${o.uid}`)})})})},Qpe=({typingUser:t})=>{const{users:e}=v.useContext(ee),[n,r]=v.useState(null),[i,s]=v.useState(!0);return Bn(t.uid,e,r,s),h.jsxs("div",{className:"size-10 relative",children:[i?h.jsx(pe,{width:40,height:40}):h.jsx(si,{name:n==null?void 0:n.name,image:n==null?void 0:n.image}),h.jsx("div",{className:"absolute bottom-0 right-0 size-3 rounded-full bg-green-500"})]})},Ype=({typingUser:t,isYourMessage:e})=>{const{users:n}=v.useContext(ee),[r,i]=v.useState(null),[s,o]=v.useState(!0);return Bn(t.uid,n,i,o),h.jsx(h.Fragment,{children:s?h.jsx(pe,{height:40,width:120}):h.jsx("p",{className:`font-bold ${e?"text-right":"text-left"} `,children:r==null?void 0:r.name})})},Xpe=["January","February","March","April","May","June","July","August","September","October","November","December"],Jpe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function NM(t){const e=new Date(t),n=new Date,r=e.getFullYear(),i=e.getMonth(),s=e.getDate(),o=Jpe[e.getDay()],a=n.getDay()===e.getDay()&&n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear(),l=!a&&e.getDay()===n.getDay()-1;return a?"Today":l?"Yesterday":`${o}, ${Xpe[i]} ${s}, ${r}`}const Zpe=({seenUsers:t,setSeenUsers:e})=>{v.useContext(ee);const n=()=>{const r=t.reduce((i,s)=>{const o=new Date(Zr(s.timestamp)),a=o.getFullYear(),l=o.getMonth(),c=o.getDate(),u=`${a}-${l+1}-${c}`;return i[u]||(i[u]={date:u,users:[]}),i[u].users.push(s),i},{});return Object.values(r)};return h.jsx(Cs,{anchor:"bottom",open:!!t,onClose:()=>e(!1),children:h.jsxs("div",{className:" sm:w-[400px] md:w-[450px] lg:w-[500px]  bg-slate-200 rounded-l-md rounded-r-md ",children:[h.jsx("div",{className:"p-2 rounded-md bg-slate-50 pl-4 text-lg font-bold",children:"Seen by"}),h.jsx("div",{className:"flex flex-col p-2",children:n().map(r=>{const i=new Date(r.date).getTime(),s=NM(i);return h.jsxs(Fe,{children:[h.jsx(Fe,{className:"mb-1",children:s}),r.users.sort((o,a)=>Ai(o,a,"timestamp","older")).map((o,a)=>h.jsx(eme,{seenPerson:o},`seenUser-${o.uid}-${a}`))]},s+"seenUsers")})})]})})},eme=({seenPerson:t})=>{var o;const{users:e}=v.useContext(ee),[n,r]=v.useState(null),[i,s]=v.useState(!0);return Bn(t.uid,e,r,s),i?h.jsx("div",{className:"mb-1 w-[275px]",children:h.jsx(b0,{})}):h.jsxs("div",{className:"flex p-2 justify-between items-center w-full hover:bg-slate-300",children:[h.jsxs("div",{className:"flex items-center gap-x-1",children:[h.jsx(si,{image:n==null?void 0:n.image,name:n==null?void 0:n.name,size:"size-9"}),h.jsx("p",{children:((o=n==null?void 0:n.name)==null?void 0:o.length)>20?ba(n==null?void 0:n.name,20):n==null?void 0:n.name})]}),h.jsx("p",{className:"ml-[4px]",children:vx(t.timestamp)})]})},tme=({reactedBy:t,removeReaction:e,reactedUsers:n,setReactedUsers:r})=>{const{userId:i}=v.useContext(ee),s=o=>({like:"facebookLike",love:"facebookLove",haha:"facebookHaha",wow:"facebookWow",sad:"facebookSad",angry:"facebookAngry"})[o];return h.jsx(Cs,{open:!!t,onClose:()=>r(null),children:h.jsxs("div",{className:"m-2  rounded-l-md rounded-r-md ",children:[h.jsx("div",{className:"p-2 rounded-md pl-4 text-lg font-bold",children:"Reactions"}),h.jsx("div",{className:"flex flex-col p-2  overflow-y-auto",children:t.map((o,a)=>{const l=o.uid===i;return h.jsx(nme,{okToRemove:l,reactedPerson:o,getReactIcon:s,removeReaction:e,close:()=>r(null)},`reactedBy-${o.uid}-${a}`)})})]})})},nme=({getReactIcon:t,reactedPerson:e,okToRemove:n,close:r,removeReaction:i})=>{const{users:s}=v.useContext(ee),[o,a]=v.useState(null),[l,c]=v.useState(!0);return Bn(e.uid,s,a,c),l?h.jsx(b0,{}):h.jsxs("div",{onClick:()=>{n&&(i(),r())},className:`flex justify-between items-center hover:bg-slate-100 ${n?"cursor-pointer":""}`,children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(si,{image:o==null?void 0:o.image,name:o==null?void 0:o.name,size:"size-9"}),h.jsxs("p",{className:"ml-[4px]",children:[o==null?void 0:o.name," ",n?"(Click to remove)":""]})]}),h.jsx("img",{className:"w-6 ",src:rn(t(e.reactionType))})]})},jR=15,rme=()=>{const{userId:t}=v.useContext(ee),{chatId:e}=Of(),[n,r]=v.useState(null),[i,s]=v.useState(!1),o=_e(Ee,"chats",e),[a,l]=v.useState(!0),[c,u]=v.useState(!1),[d,f]=v.useState(null);return v.useEffect(()=>{const p=()=>Es(o,g=>{l(!0),g.exists()?r({...g.data(),id:g.id}):u(!0),l(!1)},g=>{const w="Error fetching the current chat: "+g.message;console.log(w),f(w),l(!1)});(async()=>{try{const x=Oe(o,"members"),g=gr(x,Bg("uid","==",t),Xs(1));console.log("Checking if a member...");const w=await Ca(g);s(!w.empty)}catch(x){console.log(x.message)}})();const y=p();return()=>{y&&y()}},[e,i]),a?h.jsx(_r,{isLoading:a,text:"Loading chat..."}):c?h.jsx(Nt,{text:"No chat available"}):i?d?h.jsx(Nt,{text:d}):h.jsx(ime,{chatId:e,currentChat:n}):h.jsx(Nt,{text:"You are not a member of this chat room"})},ime=({chatId:t,currentChat:e})=>{const{theme:n,userData:r,users:i,newMessages:s,userId:o,setHeaderTitle:a,openSnackbar:l}=v.useContext(ee),[c,u]=v.useState(""),[d,f]=v.useState("chat"),[p,m]=v.useState(null),y=_e(Ee,"chats",t),x=Oe(y,"messages"),[g,w]=v.useState(null),[_,E]=v.useState(!1),[b,C]=v.useState(!1),[S,I]=v.useState(null),[T,R]=v.useState(null),[k,L]=v.useState(null),[M,N]=v.useState(!1),$=Oe(y,"typingUsers"),P=_e($,o),[A,D]=v.useState(!1),[j,F]=v.useState(null),[q,W]=v.useState([]);v.useState([]);const[B,U]=v.useState([]),[V,G]=v.useState(),[oe,ce]=v.useState(null),[te,me]=v.useState(!1),[de,ae]=v.useState([]),[ve,Te]=v.useState(null),[Ie,vt]=v.useState(null),[$e,Ve]=v.useState(null);v.useEffect(()=>{(async()=>{const Qe=_e(Ee,"chats",e.id),Ue=Oe(Qe,"members");await Bs(Ue,Te)})()},[e]),v.useEffect(()=>{a((e==null?void 0:e.name)||"SEA - Chat ")},[]),v.useEffect(()=>{let ne;return c.trim()?D(!0):D(!1),ne=setTimeout(()=>{D(!1)},3e3),()=>{clearTimeout(ne)}},[c]);const ut=async()=>{console.log("I am typing...");try{await _u(P,{timestamp:ur()})}catch(ne){console.error("Error adding user to typing collection: ",ne)}},dt=async()=>{console.log("I am not typing...");try{await ca(P)}catch(ne){console.error("Error removing user from typing collection: ",ne)}};v.useEffect(()=>(A?ut():dt(),()=>{dt()}),[A]);const Ne=ne=>{ne.docs.length>0&&(G(ne.docs[0]),ce(ne.docs[ne.docs.length-1]));const Qe=ne.docs.map(Ue=>({id:Ue.id,...Ue.data()})).sort((Ue,se)=>Ai(Ue,se,"timestamp"));W(Qe)},At=()=>{if(te)return null;const ne=Oe(_e(Ee,"chats",t),"messages");let Qe=gr(ne,yu("timestamp","desc"),Xs(jR));const Ue=Es(Qe,se=>{console.log("Fetching messages..."),Ne(se)});return()=>Ue()};v.useEffect(()=>{const ne=At();return()=>{ne&&ne()}},[t,te]);const We=async ne=>{const Qe=ne==="old"?"desc":"asc";if(!oe)return;const Ue=gr(x,yu("timestamp",Qe),Wg(oe),Xs(jR));console.log("Fetching messages...");const se=await Ca(Ue);Ne(se)};Bn(T==null?void 0:T.senderId,i,L,()=>{},[T]);const be=async ne=>{const Qe=new Date().getTime(),Ue=`chats/${t}/${Qe}-${r==null?void 0:r.name}-${ne==null?void 0:ne.name}`,se=Fo(Xa,Ue);E(!0),C(!0);try{const Ae=await vn(ne,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),at=await hf(se,Ae),wr=await ff(at.ref),ho={name:ne.name,path:Ue,URL:wr,size:Ae.size};w(ho),E(!1),C(!1)}catch(Ae){l(Ae.message),E(!1),C(!1),console.log(Ae.message)}},kt=async ne=>{const Qe=Fo(Xa,ne);await Aw(Qe),w(null)},ln=async()=>{const ne=_e(Oe(Ee,"newMessages"),t);await _u(ne,{seenBy:Sw(o)})};v.useEffect(()=>{(async()=>{const Qe=_e(Oe(Ee,"newMessages"),t);o1(s,t)||await cr(Qe,{seenBy:Sw(o)})})()},[q]);const Wn=async()=>{try{const ne={senderId:o,content:c.trim(),timestamp:ur(),image:g||null,reply:T||null,seenBy:[]};C(!0),await ua(x,ne),ln(),u(""),w(null),_h(),C(!1),R(null),L(null),D(!1)}catch(ne){C(!0),l(ne.message),console.log(ne.message)}},Le=async()=>{try{const ne=_e(x,p.id),Qe={senderId:o,content:c.trim(),editedTime:ur(),image:g||null,reply:T||null};C(!0),await cr(ne,Qe),ln(),Le&&u(""),w(null),m(null),C(!1),R(null),L(null)}catch(ne){console.log(ne.message)}},ye=async(ne,Qe)=>{const Ue=_e(x,ne.id);await ca(Ue),te&&We("old")};return v.useEffect(()=>{U((()=>{if(q.length>0){const Qe=q.reduce((Ue,se)=>{const Ae=new Date(Zr(se.timestamp)),at=Ae.getFullYear(),wr=Ae.getMonth(),ho=Ae.getDate(),fo=`${at}-${wr+1}-${ho}`;return Ue[fo]||(Ue[fo]={date:fo,messages:[]}),Ue[fo].messages.push(se),Ue},{});return Object.values(Qe)}else return})())},[q]),d==="info"?h.jsx(Cpe,{setSubPage:f,currentChat:e,memberCounts:ve,setMemberCounts:Te,members:de,setMembers:ae}):h.jsxs("div",{className:"",children:[h.jsx(sme,{}),$e&&h.jsx(tme,{reactedBy:$e.reactedBy,removeReaction:$e.removeReaction,reactedUsers:$e,setReactedUsers:Ve}),Ie&&h.jsx(XD,{handleClick:()=>{vt(null)},messageOption:Ie,setMessageOption:vt,options:Ie.options,message:Ie,chatId:t,isComment:!1}),S&&h.jsx(bM,{image:S,setViewingImage:I}),M&&h.jsx(Gpe,{isRulesOpen:M,setIsRulesOpen:N,rules:e==null?void 0:e.rules}),j&&h.jsx(Zpe,{seenUsers:j,setSeenUsers:F}),h.jsx(AM,{pageName:"info",setSubPage:f,currentChat:e,memberCounts:ve}),h.jsxs("div",{id:"message-container",className:"p-2 gap-y-3 mb-[55px]",children:[h.jsx("div",{className:"flex justify-center mb-2",children:h.jsx(Pe,{sx:{textTransform:"capitalize",mt:1},variant:"text",size:"small",onClick:()=>{We("old"),_h(),me(!0)},children:"Older messages"})}),h.jsx(Fe,{children:B==null?void 0:B.map((ne,Qe)=>{const Ue=new Date(ne.date).getTime(),se=NM(Ue);return h.jsxs(Fe,{children:[h.jsx(Fe,{className:"z-10 sticky top-[71px] bg-white/50 backdrop-blur-md  p-2 rounded-md",children:se}),ne.messages.map((Ae,at)=>h.jsx(Bpe,{editMessage:Le,setEditMessageObject:m,deleteMessage:ye,message:Ae,setMessage:u,setImageObject:w,setViewingImage:I,setReplyMessage:R,chatId:t,messagesRef:x,groupIndex:Qe,messageIndex:at,viewingOldMessages:te,setSeenUsers:F,messages:q,setMessageOption:vt,setReactedUsers:Ve,index:at},`${at}-${Ae.id}`))]},ne.date)})}),te?h.jsxs("div",{className:"flex gap-x-1 justify-center mt-1 mb-2",children:[h.jsx(Pe,{size:"small",sx:{textTransform:"capitalize"},onClick:async()=>{await We("new"),wi()},children:"Newer messages"}),h.jsx(Pe,{size:"small",variant:"text",sx:{textTransform:"capitalize"},onClick:()=>{At(),me(!1),_h()},children:"Latest messages"})]}):"",h.jsx(Kpe,{typingUsersRef:$,viewingOldMessages:te})]}),h.jsxs(Fe,{className:`fixed z-30 bottom-0 border-t border-t-slate-100 shadow-t-md right-0 left-0 p-2 min-h-[80px] flex flex-col items-center  ${n==="light"?" bg-white":" bg-slate-500 text-white"}`,children:[h.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 pt-0 md:w-2/3 lg:w-1/2",children:h.jsx(Pe,{size:"small",sx:{textDecoration:"underline"},onClick:()=>N(!0),className:"text-sm underline text-blue-300",children:"Group Rules"})}),p&&h.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[h.jsx("p",{children:"Editing a message"}),h.jsx(Rt,{onClick:()=>{m(null),u(""),w(null),R(null),L(null)},children:h.jsx(ox,{})})]}),T&&h.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("p",{className:"font-bold",children:["Reply to ",k==null?void 0:k.name]}),h.jsx("p",{children:ba(T==null?void 0:T.content,25)})]}),h.jsx(Rt,{onClick:()=>{R(null),L(null)},children:h.jsx(ox,{})})]}),_&&h.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:h.jsx("p",{children:"Uploading image..."})}),g&&h.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[h.jsxs("div",{className:"flex flex-1 items-center gap-x-1",children:[h.jsx("img",{src:g.URL,className:"h-10 rounded-sm"}),h.jsx("p",{children:g.name})]}),h.jsx("button",{onClick:()=>{kt(g.path),w(null)},className:"rounded-full shadow-sm p-1",children:h.jsx("img",{className:"w-6",src:rn("falseIcon")})})]}),h.jsxs("div",{className:`border shadow-sm w-full md:w-2/3 lg:w-1/2 p-1 rounded-[12px] flex items-center justify-between ${n==="light"?"border-slate-200":"border-slate-600"}`,children:[h.jsx("input",{id:"imageFile",className:"hidden",type:"file",onChange:ne=>{be(ne.target.files[0])},accept:"image/*"}),h.jsx("label",{htmlFor:"imageFile",className:"p-1 cursor-pointer rounded-md",children:h.jsx(fD,{sx:{width:28}})}),h.jsx(zr,{sx:{"& .MuiOutlinedInput-root":{"& fieldset":{border:"none"}}},value:c,onChange:ne=>u(ne.target.value),multiline:!0,maxRows:6,fullWidth:!0,placeholder:"Enter a message..."}),h.jsx(Rt,{disabled:b,sx:{color:"black"},onClick:()=>{!b&&(c.trim()||g)&&(p?Le():Wn())},children:h.jsx(mde,{})})]})]})]})},sme=()=>{d0("chat-page"),h0("chat-page")},ome=()=>h.jsxs("div",{className:"m-3 grid gap-y-2",children:[h.jsx(SM,{}),h.jsx(RM,{}),h.jsx(b0,{}),h.jsx(_D,{})]}),ame=()=>{const t=Tr.get("userId");return v.useEffect(()=>{if(t){const e=Ww(qw,`/status/${t}`),n={status:"online",lastChanged:new Date().getTime()},r={status:"offline",lastChanged:new Date().getTime()},i=Ww(qw,".info/connected");M7(i,s=>{s.val()===!0&&hZ(e,n),dZ(e).set(r)})}},[]),null},ee=v.createContext();function lme(){var de,ae,ve;const t=$7("sea-localStorage"),[e,n]=v.useState("light"),[r,i]=v.useState("light"),[s,o]=v.useState(((de=t==null?void 0:t.timer)==null?void 0:de.seconds)||0),[a,l]=v.useState(((ae=t==null?void 0:t.timer)==null?void 0:ae.minutes)||0),[c,u]=v.useState(((ve=t==null?void 0:t.timer)==null?void 0:ve.hours)||0),[d,f]=v.useState(null),[p,m]=v.useState([]),[y,x]=v.useState(null),[g,w]=v.useState(null),[_,E]=v.useState(null),[b,C]=v.useState(!1),[S,I]=v.useState(""),[T,R]=v.useState(!1),[k,L]=v.useState([]),[M,N]=v.useState([]),[$,P]=v.useState([]),[A,D]=v.useState(null),[j,F]=v.useState([]),[q,W]=v.useState(!1),[B,U]=v.useState(""),V=Te=>{W(!0),U(Te)},G=Y5({palette:{mode:e}});ql(Oe(Ee,"newMessages"),[],P,()=>{},()=>{});const oe=()=>{},ce=()=>{o(0),l(0),u(0)},te=()=>{ce()};v.useEffect(()=>{O7("seaacademy-theme-data",r)},[r]);const me=`${c}:${D4(a)}:${D4(s)}`;return v.useEffect(()=>{const Te=setInterval(()=>{s<59?o(s+1):(o(0),l(a+1)),a===59&&(l(0),u(c+1))},1e3);return()=>{clearInterval(Te)}},[s]),h.jsx(ee.Provider,{value:{myChats:j,setMyChats:F,stopTest:te,seaLocalStorage:t,formattedTime:me,startTimer:ce,seconds:s,minutes:a,hours:c,inspecting:b,userData:d,setUserData:f,users:p,setUsers:m,headerTitle:S,setHeaderTitle:I,theme:r,refreshUserData:oe,isOnline:T,setIsOnline:R,userId:y,setUserId:x,setInspecting:C,posts:k,setPosts:L,tests:M,setTests:N,history,chats:A,setChats:D,newMessages:$,notiCount:_,setNotiCount:E,historyCount:g,setHistoryCount:w,snackbarOpen:q,setSnackbarOpen:W,snackbarMessage:B,setSnackbarMessage:U,openSnackbar:V},children:h.jsx(Eie,{theme:G,children:h.jsxs(Fe,{className:"transition-all duration-300 App font-padauk flex flex-col items-center min-h-screen bgdf-[#e3f2fd]",children:[h.jsx(Tue,{open:q,onClose:()=>W(!1),autoHideDuration:4e3,message:B}),h.jsxs(tF,{children:[h.jsx(ame,{}),h.jsx(Q0e,{}),S!=="Chat"&&h.jsx(Cde,{}),h.jsx(Tde,{}),h.jsx("div",{className:"flex-1 w-full h-full md:w-4/5 lg:w-3/5 ",children:h.jsxs(Kj,{children:[h.jsx(cn,{exact:!0,path:"/test",element:h.jsx(ome,{})}),h.jsx(cn,{exact:!0,path:"/login",element:h.jsx(Ade,{})}),y&&h.jsxs(h.Fragment,{children:[h.jsx(cn,{exact:!0,path:"/app",element:h.jsx(ope,{})}),h.jsx(cn,{exact:!0,path:"/app/tests",element:h.jsx(ape,{})}),h.jsx(cn,{exact:!0,path:"/app/tests/:testId",element:h.jsx(wpe,{})}),h.jsx(cn,{exact:!0,path:"/app/history",element:h.jsx(tR,{})}),h.jsx(cn,{exact:!0,path:"/app/history/:resultId",element:h.jsx(_de,{})}),h.jsx(cn,{exact:!0,path:"/app/help",element:h.jsx(Y0e,{})}),h.jsx(cn,{exact:!0,path:"/app/history/:resultId/reviews",element:h.jsx(Ide,{})}),h.jsx(cn,{path:"/app/history",element:h.jsx(tR,{})}),h.jsx(cn,{path:"/app/chatroom",element:h.jsx(G0e,{})}),h.jsx(cn,{path:"/app/chatroom/:chatId",element:h.jsx(rme,{})}),h.jsx(cn,{path:"/app/notifications",element:h.jsx(Mfe,{})}),(d==null?void 0:d.isAdmin)&&h.jsxs(h.Fragment,{children:[h.jsx(cn,{path:"/app/admin",element:h.jsx(Sde,{})}),h.jsx(cn,{path:"/app/admin/tests",element:h.jsx(Cfe,{})}),h.jsx(cn,{path:"/app/admin/users",element:h.jsx(Sfe,{})}),h.jsx(cn,{path:"/app/admin/posts",element:h.jsx(Pfe,{})})]}),h.jsx(cn,{exact:!0,path:"/app/settings",element:h.jsx(pfe,{})})]}),h.jsx(cn,{path:"*",element:h.jsx(yD,{title:"No page found!",text:"No page found!"})})]})}),S!=="Chat Room"&&h.jsx(Rde,{})]})]})})})}Oy.createRoot(document.getElementById("root")).render(h.jsx(h.Fragment,{children:h.jsx(lme,{})}));
