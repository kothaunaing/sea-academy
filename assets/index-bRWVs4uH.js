var vV=Object.defineProperty;var wV=(t,e,n)=>e in t?vV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var E1=(t,e,n)=>(wV(t,typeof e!="symbol"?e+"":e,n),n);function EV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function vP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ws(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var wP={exports:{}},pm={},EP={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh=Symbol.for("react.element"),TV=Symbol.for("react.portal"),IV=Symbol.for("react.fragment"),SV=Symbol.for("react.strict_mode"),CV=Symbol.for("react.profiler"),RV=Symbol.for("react.provider"),kV=Symbol.for("react.context"),PV=Symbol.for("react.forward_ref"),xV=Symbol.for("react.suspense"),AV=Symbol.for("react.memo"),bV=Symbol.for("react.lazy"),T1=Symbol.iterator;function DV(t){return t===null||typeof t!="object"?null:(t=T1&&t[T1]||t["@@iterator"],typeof t=="function"?t:null)}var TP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IP=Object.assign,SP={};function ql(t,e,n){this.props=t,this.context=e,this.refs=SP,this.updater=n||TP}ql.prototype.isReactComponent={};ql.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ql.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function CP(){}CP.prototype=ql.prototype;function gw(t,e,n){this.props=t,this.context=e,this.refs=SP,this.updater=n||TP}var _w=gw.prototype=new CP;_w.constructor=gw;IP(_w,ql.prototype);_w.isPureReactComponent=!0;var I1=Array.isArray,RP=Object.prototype.hasOwnProperty,yw={current:null},kP={key:!0,ref:!0,__self:!0,__source:!0};function PP(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)RP.call(e,r)&&!kP.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:xh,type:t,key:s,ref:o,props:i,_owner:yw.current}}function NV(t,e){return{$$typeof:xh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vw(t){return typeof t=="object"&&t!==null&&t.$$typeof===xh}function OV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var S1=/\/+/g;function O_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?OV(""+t.key):e.toString(36)}function hf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xh:case TV:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+O_(o,0):r,I1(i)?(n="",t!=null&&(n=t.replace(S1,"$&/")+"/"),hf(i,e,n,"",function(u){return u})):i!=null&&(vw(i)&&(i=NV(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(S1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",I1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+O_(s,a);o+=hf(s,e,n,l,i)}else if(l=DV(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+O_(s,a++),o+=hf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Cd(t,e,n){if(t==null)return t;var r=[],i=0;return hf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function MV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _n={current:null},df={transition:null},LV={ReactCurrentDispatcher:_n,ReactCurrentBatchConfig:df,ReactCurrentOwner:yw};he.Children={map:Cd,forEach:function(t,e,n){Cd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cd(t,function(){e++}),e},toArray:function(t){return Cd(t,function(e){return e})||[]},only:function(t){if(!vw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=ql;he.Fragment=IV;he.Profiler=CV;he.PureComponent=gw;he.StrictMode=SV;he.Suspense=xV;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LV;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=IP({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=yw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)RP.call(e,l)&&!kP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:xh,type:t.type,key:i,ref:s,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:kV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RV,_context:t},t.Consumer=t};he.createElement=PP;he.createFactory=function(t){var e=PP.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:PV,render:t}};he.isValidElement=vw;he.lazy=function(t){return{$$typeof:bV,_payload:{_status:-1,_result:t},_init:MV}};he.memo=function(t,e){return{$$typeof:AV,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=df.transition;df.transition={};try{t()}finally{df.transition=e}};he.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};he.useCallback=function(t,e){return _n.current.useCallback(t,e)};he.useContext=function(t){return _n.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return _n.current.useDeferredValue(t)};he.useEffect=function(t,e){return _n.current.useEffect(t,e)};he.useId=function(){return _n.current.useId()};he.useImperativeHandle=function(t,e,n){return _n.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return _n.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return _n.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return _n.current.useMemo(t,e)};he.useReducer=function(t,e,n){return _n.current.useReducer(t,e,n)};he.useRef=function(t){return _n.current.useRef(t)};he.useState=function(t){return _n.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return _n.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return _n.current.useTransition()};he.version="18.2.0";EP.exports=he;var E=EP.exports;const de=vP(E),qy=EV({__proto__:null,default:de},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VV=E,FV=Symbol.for("react.element"),$V=Symbol.for("react.fragment"),UV=Object.prototype.hasOwnProperty,BV=VV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jV={key:!0,ref:!0,__self:!0,__source:!0};function xP(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)UV.call(e,r)&&!jV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:FV,type:t,key:s,ref:o,props:i,_owner:BV.current}}pm.Fragment=$V;pm.jsx=xP;pm.jsxs=xP;wP.exports=pm;var k=wP.exports,Gy={},AP={exports:{}},zn={},bP={exports:{}},DP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,z){var G=M.length;M.push(z);e:for(;0<G;){var Ne=G-1>>>1,Qe=M[Ne];if(0<i(Qe,z))M[Ne]=z,M[G]=Qe,G=Ne;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var z=M[0],G=M.pop();if(G!==z){M[0]=G;e:for(var Ne=0,Qe=M.length,oi=Qe>>>1;Ne<oi;){var $t=2*(Ne+1)-1,Nr=M[$t],Dn=$t+1,Ki=M[Dn];if(0>i(Nr,G))Dn<Qe&&0>i(Ki,Nr)?(M[Ne]=Ki,M[Dn]=G,Ne=Dn):(M[Ne]=Nr,M[$t]=G,Ne=$t);else if(Dn<Qe&&0>i(Ki,G))M[Ne]=Ki,M[Dn]=G,Ne=Dn;else break e}}return z}function i(M,z){var G=M.sortIndex-z.sortIndex;return G!==0?G:M.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=M)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function w(M){if(g=!1,y(M),!p)if(n(l)!==null)p=!0,Se(I);else{var z=n(u);z!==null&&it(w,z.startTime-M)}}function I(M,z){p=!1,g&&(g=!1,_(D),D=-1),f=!0;var G=d;try{for(y(z),h=n(l);h!==null&&(!(h.expirationTime>z)||M&&!ae());){var Ne=h.callback;if(typeof Ne=="function"){h.callback=null,d=h.priorityLevel;var Qe=Ne(h.expirationTime<=z);z=t.unstable_now(),typeof Qe=="function"?h.callback=Qe:h===n(l)&&r(l),y(z)}else r(l);h=n(l)}if(h!==null)var oi=!0;else{var $t=n(u);$t!==null&&it(w,$t.startTime-z),oi=!1}return oi}finally{h=null,d=G,f=!1}}var C=!1,S=null,D=-1,K=5,$=-1;function ae(){return!(t.unstable_now()-$<K)}function ge(){if(S!==null){var M=t.unstable_now();$=M;var z=!0;try{z=S(!0,M)}finally{z?Me():(C=!1,S=null)}}else C=!1}var Me;if(typeof m=="function")Me=function(){m(ge)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,le=rt.port2;rt.port1.onmessage=ge,Me=function(){le.postMessage(null)}}else Me=function(){v(ge,0)};function Se(M){S=M,C||(C=!0,Me())}function it(M,z){D=v(function(){M(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,Se(I))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var G=d;d=z;try{return M()}finally{d=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var G=d;d=M;try{return z()}finally{d=G}},t.unstable_scheduleCallback=function(M,z,G){var Ne=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Ne+G:Ne):G=Ne,M){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=G+Qe,M={id:c++,callback:z,priorityLevel:M,startTime:G,expirationTime:Qe,sortIndex:-1},G>Ne?(M.sortIndex=G,e(u,M),n(l)===null&&M===n(u)&&(g?(_(D),D=-1):g=!0,it(w,G-Ne))):(M.sortIndex=Qe,e(l,M),p||f||(p=!0,Se(I))),M},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(M){var z=d;return function(){var G=d;d=z;try{return M.apply(this,arguments)}finally{d=G}}}})(DP);bP.exports=DP;var zV=bP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NP=E,Un=zV;function x(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OP=new Set,Sc={};function sa(t,e){wl(t,e),wl(t+"Capture",e)}function wl(t,e){for(Sc[t]=e,t=0;t<e.length;t++)OP.add(e[t])}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yy=Object.prototype.hasOwnProperty,WV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C1={},R1={};function HV(t){return Yy.call(R1,t)?!0:Yy.call(C1,t)?!1:WV.test(t)?R1[t]=!0:(C1[t]=!0,!1)}function qV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GV(t,e,n,r){if(e===null||typeof e>"u"||qV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qt[t]=new yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qt[e]=new yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qt[t]=new yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qt[t]=new yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qt[t]=new yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qt[t]=new yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qt[t]=new yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qt[t]=new yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qt[t]=new yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ww=/[\-:]([a-z])/g;function Ew(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ww,Ew);qt[e]=new yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ww,Ew);qt[e]=new yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ww,Ew);qt[e]=new yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qt[t]=new yn(t,1,!1,t.toLowerCase(),null,!1,!1)});qt.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qt[t]=new yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Tw(t,e,n,r){var i=qt.hasOwnProperty(e)?qt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GV(e,n,i,r)&&(n=null),r||i===null?HV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $i=NP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rd=Symbol.for("react.element"),Fa=Symbol.for("react.portal"),$a=Symbol.for("react.fragment"),Iw=Symbol.for("react.strict_mode"),Ky=Symbol.for("react.profiler"),MP=Symbol.for("react.provider"),LP=Symbol.for("react.context"),Sw=Symbol.for("react.forward_ref"),Qy=Symbol.for("react.suspense"),Xy=Symbol.for("react.suspense_list"),Cw=Symbol.for("react.memo"),ts=Symbol.for("react.lazy"),VP=Symbol.for("react.offscreen"),k1=Symbol.iterator;function _u(t){return t===null||typeof t!="object"?null:(t=k1&&t[k1]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,M_;function Bu(t){if(M_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);M_=e&&e[1]||""}return`
`+M_+t}var L_=!1;function V_(t,e){if(!t||L_)return"";L_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{L_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bu(t):""}function YV(t){switch(t.tag){case 5:return Bu(t.type);case 16:return Bu("Lazy");case 13:return Bu("Suspense");case 19:return Bu("SuspenseList");case 0:case 2:case 15:return t=V_(t.type,!1),t;case 11:return t=V_(t.type.render,!1),t;case 1:return t=V_(t.type,!0),t;default:return""}}function Jy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $a:return"Fragment";case Fa:return"Portal";case Ky:return"Profiler";case Iw:return"StrictMode";case Qy:return"Suspense";case Xy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LP:return(t.displayName||"Context")+".Consumer";case MP:return(t._context.displayName||"Context")+".Provider";case Sw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cw:return e=t.displayName||null,e!==null?e:Jy(t.type)||"Memo";case ts:e=t._payload,t=t._init;try{return Jy(t(e))}catch{}}return null}function KV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jy(e);case 8:return e===Iw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ns(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QV(t){var e=FP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kd(t){t._valueTracker||(t._valueTracker=QV(t))}function $P(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=FP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zy(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function P1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ns(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function UP(t,e){e=e.checked,e!=null&&Tw(t,"checked",e,!1)}function ev(t,e){UP(t,e);var n=Ns(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tv(t,e.type,n):e.hasOwnProperty("defaultValue")&&tv(t,e.type,Ns(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function x1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tv(t,e,n){(e!=="number"||Wf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ju=Array.isArray;function el(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ns(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function nv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(x(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function A1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(x(92));if(ju(n)){if(1<n.length)throw Error(x(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ns(n)}}function BP(t,e){var n=Ns(e.value),r=Ns(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function b1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pd,zP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pd=Pd||document.createElement("div"),Pd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var tc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XV=["Webkit","ms","Moz","O"];Object.keys(tc).forEach(function(t){XV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tc[e]=tc[t]})});function WP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||tc.hasOwnProperty(t)&&tc[t]?(""+e).trim():e+"px"}function HP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=WP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var JV=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function iv(t,e){if(e){if(JV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(x(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(x(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(x(61))}if(e.style!=null&&typeof e.style!="object")throw Error(x(62))}}function sv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ov=null;function Rw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var av=null,tl=null,nl=null;function D1(t){if(t=Dh(t)){if(typeof av!="function")throw Error(x(280));var e=t.stateNode;e&&(e=vm(e),av(t.stateNode,t.type,e))}}function qP(t){tl?nl?nl.push(t):nl=[t]:tl=t}function GP(){if(tl){var t=tl,e=nl;if(nl=tl=null,D1(t),e)for(t=0;t<e.length;t++)D1(e[t])}}function YP(t,e){return t(e)}function KP(){}var F_=!1;function QP(t,e,n){if(F_)return t(e,n);F_=!0;try{return YP(t,e,n)}finally{F_=!1,(tl!==null||nl!==null)&&(KP(),GP())}}function Rc(t,e){var n=t.stateNode;if(n===null)return null;var r=vm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var lv=!1;if(Pi)try{var yu={};Object.defineProperty(yu,"passive",{get:function(){lv=!0}}),window.addEventListener("test",yu,yu),window.removeEventListener("test",yu,yu)}catch{lv=!1}function ZV(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var nc=!1,Hf=null,qf=!1,uv=null,eF={onError:function(t){nc=!0,Hf=t}};function tF(t,e,n,r,i,s,o,a,l){nc=!1,Hf=null,ZV.apply(eF,arguments)}function nF(t,e,n,r,i,s,o,a,l){if(tF.apply(this,arguments),nc){if(nc){var u=Hf;nc=!1,Hf=null}else throw Error(x(198));qf||(qf=!0,uv=u)}}function oa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function XP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function N1(t){if(oa(t)!==t)throw Error(x(188))}function rF(t){var e=t.alternate;if(!e){if(e=oa(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return N1(i),t;if(s===r)return N1(i),e;s=s.sibling}throw Error(x(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function JP(t){return t=rF(t),t!==null?ZP(t):null}function ZP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ZP(t);if(e!==null)return e;t=t.sibling}return null}var ex=Un.unstable_scheduleCallback,O1=Un.unstable_cancelCallback,iF=Un.unstable_shouldYield,sF=Un.unstable_requestPaint,pt=Un.unstable_now,oF=Un.unstable_getCurrentPriorityLevel,kw=Un.unstable_ImmediatePriority,tx=Un.unstable_UserBlockingPriority,Gf=Un.unstable_NormalPriority,aF=Un.unstable_LowPriority,nx=Un.unstable_IdlePriority,mm=null,Gr=null;function lF(t){if(Gr&&typeof Gr.onCommitFiberRoot=="function")try{Gr.onCommitFiberRoot(mm,t,void 0,(t.current.flags&128)===128)}catch{}}var Ir=Math.clz32?Math.clz32:hF,uF=Math.log,cF=Math.LN2;function hF(t){return t>>>=0,t===0?32:31-(uF(t)/cF|0)|0}var xd=64,Ad=4194304;function zu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=zu(a):(s&=o,s!==0&&(r=zu(s)))}else o=n&~i,o!==0?r=zu(o):s!==0&&(r=zu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ir(e),i=1<<n,r|=t[n],e&=~i;return r}function dF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ir(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=dF(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function cv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rx(){var t=xd;return xd<<=1,!(xd&4194240)&&(xd=64),t}function $_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ah(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ir(e),t[e]=n}function pF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ir(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Pw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ir(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ke=0;function ix(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sx,xw,ox,ax,lx,hv=!1,bd=[],ys=null,vs=null,ws=null,kc=new Map,Pc=new Map,rs=[],mF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function M1(t,e){switch(t){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":kc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function vu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Dh(e),e!==null&&xw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gF(t,e,n,r,i){switch(e){case"focusin":return ys=vu(ys,t,e,n,r,i),!0;case"dragenter":return vs=vu(vs,t,e,n,r,i),!0;case"mouseover":return ws=vu(ws,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return kc.set(s,vu(kc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pc.set(s,vu(Pc.get(s)||null,t,e,n,r,i)),!0}return!1}function ux(t){var e=mo(t.target);if(e!==null){var n=oa(e);if(n!==null){if(e=n.tag,e===13){if(e=XP(n),e!==null){t.blockedOn=e,lx(t.priority,function(){ox(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ff(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=dv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ov=r,n.target.dispatchEvent(r),ov=null}else return e=Dh(n),e!==null&&xw(e),t.blockedOn=n,!1;e.shift()}return!0}function L1(t,e,n){ff(t)&&n.delete(e)}function _F(){hv=!1,ys!==null&&ff(ys)&&(ys=null),vs!==null&&ff(vs)&&(vs=null),ws!==null&&ff(ws)&&(ws=null),kc.forEach(L1),Pc.forEach(L1)}function wu(t,e){t.blockedOn===e&&(t.blockedOn=null,hv||(hv=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,_F)))}function xc(t){function e(i){return wu(i,t)}if(0<bd.length){wu(bd[0],t);for(var n=1;n<bd.length;n++){var r=bd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ys!==null&&wu(ys,t),vs!==null&&wu(vs,t),ws!==null&&wu(ws,t),kc.forEach(e),Pc.forEach(e),n=0;n<rs.length;n++)r=rs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<rs.length&&(n=rs[0],n.blockedOn===null);)ux(n),n.blockedOn===null&&rs.shift()}var rl=$i.ReactCurrentBatchConfig,Kf=!0;function yF(t,e,n,r){var i=ke,s=rl.transition;rl.transition=null;try{ke=1,Aw(t,e,n,r)}finally{ke=i,rl.transition=s}}function vF(t,e,n,r){var i=ke,s=rl.transition;rl.transition=null;try{ke=4,Aw(t,e,n,r)}finally{ke=i,rl.transition=s}}function Aw(t,e,n,r){if(Kf){var i=dv(t,e,n,r);if(i===null)K_(t,e,r,Qf,n),M1(t,r);else if(gF(i,t,e,n,r))r.stopPropagation();else if(M1(t,r),e&4&&-1<mF.indexOf(t)){for(;i!==null;){var s=Dh(i);if(s!==null&&sx(s),s=dv(t,e,n,r),s===null&&K_(t,e,r,Qf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else K_(t,e,r,null,n)}}var Qf=null;function dv(t,e,n,r){if(Qf=null,t=Rw(r),t=mo(t),t!==null)if(e=oa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=XP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qf=t,null}function cx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oF()){case kw:return 1;case tx:return 4;case Gf:case aF:return 16;case nx:return 536870912;default:return 16}default:return 16}}var ds=null,bw=null,pf=null;function hx(){if(pf)return pf;var t,e=bw,n=e.length,r,i="value"in ds?ds.value:ds.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return pf=i.slice(t,1<r?1-r:void 0)}function mf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dd(){return!0}function V1(){return!1}function Wn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dd:V1,this.isPropagationStopped=V1,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dd)},persist:function(){},isPersistent:Dd}),e}var Gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dw=Wn(Gl),bh=tt({},Gl,{view:0,detail:0}),wF=Wn(bh),U_,B_,Eu,gm=tt({},bh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Eu&&(Eu&&t.type==="mousemove"?(U_=t.screenX-Eu.screenX,B_=t.screenY-Eu.screenY):B_=U_=0,Eu=t),U_)},movementY:function(t){return"movementY"in t?t.movementY:B_}}),F1=Wn(gm),EF=tt({},gm,{dataTransfer:0}),TF=Wn(EF),IF=tt({},bh,{relatedTarget:0}),j_=Wn(IF),SF=tt({},Gl,{animationName:0,elapsedTime:0,pseudoElement:0}),CF=Wn(SF),RF=tt({},Gl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kF=Wn(RF),PF=tt({},Gl,{data:0}),$1=Wn(PF),xF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bF[t])?!!e[t]:!1}function Nw(){return DF}var NF=tt({},bh,{key:function(t){if(t.key){var e=xF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nw,charCode:function(t){return t.type==="keypress"?mf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OF=Wn(NF),MF=tt({},gm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U1=Wn(MF),LF=tt({},bh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nw}),VF=Wn(LF),FF=tt({},Gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),$F=Wn(FF),UF=tt({},gm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BF=Wn(UF),jF=[9,13,27,32],Ow=Pi&&"CompositionEvent"in window,rc=null;Pi&&"documentMode"in document&&(rc=document.documentMode);var zF=Pi&&"TextEvent"in window&&!rc,dx=Pi&&(!Ow||rc&&8<rc&&11>=rc),B1=" ",j1=!1;function fx(t,e){switch(t){case"keyup":return jF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function px(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ua=!1;function WF(t,e){switch(t){case"compositionend":return px(e);case"keypress":return e.which!==32?null:(j1=!0,B1);case"textInput":return t=e.data,t===B1&&j1?null:t;default:return null}}function HF(t,e){if(Ua)return t==="compositionend"||!Ow&&fx(t,e)?(t=hx(),pf=bw=ds=null,Ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dx&&e.locale!=="ko"?null:e.data;default:return null}}var qF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function z1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qF[t.type]:e==="textarea"}function mx(t,e,n,r){qP(r),e=Xf(e,"onChange"),0<e.length&&(n=new Dw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ic=null,Ac=null;function GF(t){Rx(t,0)}function _m(t){var e=za(t);if($P(e))return t}function YF(t,e){if(t==="change")return e}var gx=!1;if(Pi){var z_;if(Pi){var W_="oninput"in document;if(!W_){var W1=document.createElement("div");W1.setAttribute("oninput","return;"),W_=typeof W1.oninput=="function"}z_=W_}else z_=!1;gx=z_&&(!document.documentMode||9<document.documentMode)}function H1(){ic&&(ic.detachEvent("onpropertychange",_x),Ac=ic=null)}function _x(t){if(t.propertyName==="value"&&_m(Ac)){var e=[];mx(e,Ac,t,Rw(t)),QP(GF,e)}}function KF(t,e,n){t==="focusin"?(H1(),ic=e,Ac=n,ic.attachEvent("onpropertychange",_x)):t==="focusout"&&H1()}function QF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _m(Ac)}function XF(t,e){if(t==="click")return _m(e)}function JF(t,e){if(t==="input"||t==="change")return _m(e)}function ZF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kr=typeof Object.is=="function"?Object.is:ZF;function bc(t,e){if(kr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yy.call(e,i)||!kr(t[i],e[i]))return!1}return!0}function q1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function G1(t,e){var n=q1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=q1(n)}}function yx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vx(){for(var t=window,e=Wf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wf(t.document)}return e}function Mw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function e$(t){var e=vx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yx(n.ownerDocument.documentElement,n)){if(r!==null&&Mw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=G1(n,s);var o=G1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var t$=Pi&&"documentMode"in document&&11>=document.documentMode,Ba=null,fv=null,sc=null,pv=!1;function Y1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pv||Ba==null||Ba!==Wf(r)||(r=Ba,"selectionStart"in r&&Mw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sc&&bc(sc,r)||(sc=r,r=Xf(fv,"onSelect"),0<r.length&&(e=new Dw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ba)))}function Nd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ja={animationend:Nd("Animation","AnimationEnd"),animationiteration:Nd("Animation","AnimationIteration"),animationstart:Nd("Animation","AnimationStart"),transitionend:Nd("Transition","TransitionEnd")},H_={},wx={};Pi&&(wx=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function ym(t){if(H_[t])return H_[t];if(!ja[t])return t;var e=ja[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wx)return H_[t]=e[n];return t}var Ex=ym("animationend"),Tx=ym("animationiteration"),Ix=ym("animationstart"),Sx=ym("transitionend"),Cx=new Map,K1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hs(t,e){Cx.set(t,e),sa(e,[t])}for(var q_=0;q_<K1.length;q_++){var G_=K1[q_],n$=G_.toLowerCase(),r$=G_[0].toUpperCase()+G_.slice(1);Hs(n$,"on"+r$)}Hs(Ex,"onAnimationEnd");Hs(Tx,"onAnimationIteration");Hs(Ix,"onAnimationStart");Hs("dblclick","onDoubleClick");Hs("focusin","onFocus");Hs("focusout","onBlur");Hs(Sx,"onTransitionEnd");wl("onMouseEnter",["mouseout","mouseover"]);wl("onMouseLeave",["mouseout","mouseover"]);wl("onPointerEnter",["pointerout","pointerover"]);wl("onPointerLeave",["pointerout","pointerover"]);sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wu));function Q1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nF(r,e,void 0,t),t.currentTarget=null}function Rx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Q1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Q1(i,a,u),s=l}}}if(qf)throw t=uv,qf=!1,uv=null,t}function Ve(t,e){var n=e[vv];n===void 0&&(n=e[vv]=new Set);var r=t+"__bubble";n.has(r)||(kx(e,t,2,!1),n.add(r))}function Y_(t,e,n){var r=0;e&&(r|=4),kx(n,t,r,e)}var Od="_reactListening"+Math.random().toString(36).slice(2);function Dc(t){if(!t[Od]){t[Od]=!0,OP.forEach(function(n){n!=="selectionchange"&&(i$.has(n)||Y_(n,!1,t),Y_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Od]||(e[Od]=!0,Y_("selectionchange",!1,e))}}function kx(t,e,n,r){switch(cx(e)){case 1:var i=yF;break;case 4:i=vF;break;default:i=Aw}n=i.bind(null,e,n,t),i=void 0,!lv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function K_(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=mo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}QP(function(){var u=s,c=Rw(n),h=[];e:{var d=Cx.get(t);if(d!==void 0){var f=Dw,p=t;switch(t){case"keypress":if(mf(n)===0)break e;case"keydown":case"keyup":f=OF;break;case"focusin":p="focus",f=j_;break;case"focusout":p="blur",f=j_;break;case"beforeblur":case"afterblur":f=j_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=F1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=TF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=VF;break;case Ex:case Tx:case Ix:f=CF;break;case Sx:f=$F;break;case"scroll":f=wF;break;case"wheel":f=BF;break;case"copy":case"cut":case"paste":f=kF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=U1}var g=(e&4)!==0,v=!g&&t==="scroll",_=g?d!==null?d+"Capture":null:d;g=[];for(var m=u,y;m!==null;){y=m;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,_!==null&&(w=Rc(m,_),w!=null&&g.push(Nc(m,w,y)))),v)break;m=m.return}0<g.length&&(d=new f(d,p,null,n,c),h.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==ov&&(p=n.relatedTarget||n.fromElement)&&(mo(p)||p[xi]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?mo(p):null,p!==null&&(v=oa(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(g=F1,w="onMouseLeave",_="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(g=U1,w="onPointerLeave",_="onPointerEnter",m="pointer"),v=f==null?d:za(f),y=p==null?d:za(p),d=new g(w,m+"leave",f,n,c),d.target=v,d.relatedTarget=y,w=null,mo(c)===u&&(g=new g(_,m+"enter",p,n,c),g.target=y,g.relatedTarget=v,w=g),v=w,f&&p)t:{for(g=f,_=p,m=0,y=g;y;y=ya(y))m++;for(y=0,w=_;w;w=ya(w))y++;for(;0<m-y;)g=ya(g),m--;for(;0<y-m;)_=ya(_),y--;for(;m--;){if(g===_||_!==null&&g===_.alternate)break t;g=ya(g),_=ya(_)}g=null}else g=null;f!==null&&X1(h,d,f,g,!1),p!==null&&v!==null&&X1(h,v,p,g,!0)}}e:{if(d=u?za(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var I=YF;else if(z1(d))if(gx)I=JF;else{I=QF;var C=KF}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=XF);if(I&&(I=I(t,u))){mx(h,I,n,c);break e}C&&C(t,d,u),t==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&tv(d,"number",d.value)}switch(C=u?za(u):window,t){case"focusin":(z1(C)||C.contentEditable==="true")&&(Ba=C,fv=u,sc=null);break;case"focusout":sc=fv=Ba=null;break;case"mousedown":pv=!0;break;case"contextmenu":case"mouseup":case"dragend":pv=!1,Y1(h,n,c);break;case"selectionchange":if(t$)break;case"keydown":case"keyup":Y1(h,n,c)}var S;if(Ow)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Ua?fx(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(dx&&n.locale!=="ko"&&(Ua||D!=="onCompositionStart"?D==="onCompositionEnd"&&Ua&&(S=hx()):(ds=c,bw="value"in ds?ds.value:ds.textContent,Ua=!0)),C=Xf(u,D),0<C.length&&(D=new $1(D,t,null,n,c),h.push({event:D,listeners:C}),S?D.data=S:(S=px(n),S!==null&&(D.data=S)))),(S=zF?WF(t,n):HF(t,n))&&(u=Xf(u,"onBeforeInput"),0<u.length&&(c=new $1("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=S))}Rx(h,e)})}function Nc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Rc(t,n),s!=null&&r.unshift(Nc(t,s,i)),s=Rc(t,e),s!=null&&r.push(Nc(t,s,i))),t=t.return}return r}function ya(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function X1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Rc(n,s),l!=null&&o.unshift(Nc(n,l,a))):i||(l=Rc(n,s),l!=null&&o.push(Nc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var s$=/\r\n?/g,o$=/\u0000|\uFFFD/g;function J1(t){return(typeof t=="string"?t:""+t).replace(s$,`
`).replace(o$,"")}function Md(t,e,n){if(e=J1(e),J1(t)!==e&&n)throw Error(x(425))}function Jf(){}var mv=null,gv=null;function _v(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yv=typeof setTimeout=="function"?setTimeout:void 0,a$=typeof clearTimeout=="function"?clearTimeout:void 0,Z1=typeof Promise=="function"?Promise:void 0,l$=typeof queueMicrotask=="function"?queueMicrotask:typeof Z1<"u"?function(t){return Z1.resolve(null).then(t).catch(u$)}:yv;function u$(t){setTimeout(function(){throw t})}function Q_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xc(e)}function Es(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function eS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yl=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Yl,Oc="__reactProps$"+Yl,xi="__reactContainer$"+Yl,vv="__reactEvents$"+Yl,c$="__reactListeners$"+Yl,h$="__reactHandles$"+Yl;function mo(t){var e=t[Fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xi]||n[Fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=eS(t);t!==null;){if(n=t[Fr])return n;t=eS(t)}return e}t=n,n=t.parentNode}return null}function Dh(t){return t=t[Fr]||t[xi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function za(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(x(33))}function vm(t){return t[Oc]||null}var wv=[],Wa=-1;function qs(t){return{current:t}}function Ue(t){0>Wa||(t.current=wv[Wa],wv[Wa]=null,Wa--)}function Le(t,e){Wa++,wv[Wa]=t.current,t.current=e}var Os={},on=qs(Os),kn=qs(!1),Mo=Os;function El(t,e){var n=t.type.contextTypes;if(!n)return Os;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Pn(t){return t=t.childContextTypes,t!=null}function Zf(){Ue(kn),Ue(on)}function tS(t,e,n){if(on.current!==Os)throw Error(x(168));Le(on,e),Le(kn,n)}function Px(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(x(108,KV(t)||"Unknown",i));return tt({},n,r)}function ep(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Os,Mo=on.current,Le(on,t),Le(kn,kn.current),!0}function nS(t,e,n){var r=t.stateNode;if(!r)throw Error(x(169));n?(t=Px(t,e,Mo),r.__reactInternalMemoizedMergedChildContext=t,Ue(kn),Ue(on),Le(on,t)):Ue(kn),Le(kn,n)}var di=null,wm=!1,X_=!1;function xx(t){di===null?di=[t]:di.push(t)}function d$(t){wm=!0,xx(t)}function Gs(){if(!X_&&di!==null){X_=!0;var t=0,e=ke;try{var n=di;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}di=null,wm=!1}catch(i){throw di!==null&&(di=di.slice(t+1)),ex(kw,Gs),i}finally{ke=e,X_=!1}}return null}var Ha=[],qa=0,tp=null,np=0,Kn=[],Qn=0,Lo=null,mi=1,gi="";function ro(t,e){Ha[qa++]=np,Ha[qa++]=tp,tp=t,np=e}function Ax(t,e,n){Kn[Qn++]=mi,Kn[Qn++]=gi,Kn[Qn++]=Lo,Lo=t;var r=mi;t=gi;var i=32-Ir(r)-1;r&=~(1<<i),n+=1;var s=32-Ir(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,mi=1<<32-Ir(e)+i|n<<i|r,gi=s+t}else mi=1<<s|n<<i|r,gi=t}function Lw(t){t.return!==null&&(ro(t,1),Ax(t,1,0))}function Vw(t){for(;t===tp;)tp=Ha[--qa],Ha[qa]=null,np=Ha[--qa],Ha[qa]=null;for(;t===Lo;)Lo=Kn[--Qn],Kn[Qn]=null,gi=Kn[--Qn],Kn[Qn]=null,mi=Kn[--Qn],Kn[Qn]=null}var Fn=null,Mn=null,qe=!1,vr=null;function bx(t,e){var n=er(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function rS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fn=t,Mn=Es(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fn=t,Mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Lo!==null?{id:mi,overflow:gi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=er(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fn=t,Mn=null,!0):!1;default:return!1}}function Ev(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tv(t){if(qe){var e=Mn;if(e){var n=e;if(!rS(t,e)){if(Ev(t))throw Error(x(418));e=Es(n.nextSibling);var r=Fn;e&&rS(t,e)?bx(r,n):(t.flags=t.flags&-4097|2,qe=!1,Fn=t)}}else{if(Ev(t))throw Error(x(418));t.flags=t.flags&-4097|2,qe=!1,Fn=t}}}function iS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fn=t}function Ld(t){if(t!==Fn)return!1;if(!qe)return iS(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_v(t.type,t.memoizedProps)),e&&(e=Mn)){if(Ev(t))throw Dx(),Error(x(418));for(;e;)bx(t,e),e=Es(e.nextSibling)}if(iS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mn=Es(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mn=null}}else Mn=Fn?Es(t.stateNode.nextSibling):null;return!0}function Dx(){for(var t=Mn;t;)t=Es(t.nextSibling)}function Tl(){Mn=Fn=null,qe=!1}function Fw(t){vr===null?vr=[t]:vr.push(t)}var f$=$i.ReactCurrentBatchConfig;function _r(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var rp=qs(null),ip=null,Ga=null,$w=null;function Uw(){$w=Ga=ip=null}function Bw(t){var e=rp.current;Ue(rp),t._currentValue=e}function Iv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function il(t,e){ip=t,$w=Ga=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(In=!0),t.firstContext=null)}function ar(t){var e=t._currentValue;if($w!==t)if(t={context:t,memoizedValue:e,next:null},Ga===null){if(ip===null)throw Error(x(308));Ga=t,ip.dependencies={lanes:0,firstContext:t}}else Ga=Ga.next=t;return e}var go=null;function jw(t){go===null?go=[t]:go.push(t)}function Nx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,jw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ai(t,r)}function Ai(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ns=!1;function zw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ox(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Si(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ts(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ai(t,n)}return i=r.interleaved,i===null?(e.next=e,jw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ai(t,n)}function gf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pw(t,n)}}function sS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sp(t,e,n,r){var i=t.updateQueue;ns=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(d=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=tt({},h,d);break e;case 2:ns=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Fo|=o,t.lanes=o,t.memoizedState=h}}function oS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(x(191,i));i.call(r)}}}var Mx=new NP.Component().refs;function Sv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Em={isMounted:function(t){return(t=t._reactInternals)?oa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=fn(),i=Ss(t),s=Si(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ts(t,s,i),e!==null&&(Sr(e,t,i,r),gf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=fn(),i=Ss(t),s=Si(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ts(t,s,i),e!==null&&(Sr(e,t,i,r),gf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fn(),r=Ss(t),i=Si(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ts(t,i,r),e!==null&&(Sr(e,t,r,n),gf(e,t,r))}};function aS(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!bc(n,r)||!bc(i,s):!0}function Lx(t,e,n){var r=!1,i=Os,s=e.contextType;return typeof s=="object"&&s!==null?s=ar(s):(i=Pn(e)?Mo:on.current,r=e.contextTypes,s=(r=r!=null)?El(t,i):Os),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Em,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function lS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Em.enqueueReplaceState(e,e.state,null)}function Cv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Mx,zw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ar(s):(s=Pn(e)?Mo:on.current,i.context=El(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Sv(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Em.enqueueReplaceState(i,i.state,null),sp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Tu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Mx&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,t))}return t}function Vd(t,e){throw t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function uS(t){var e=t._init;return e(t._payload)}function Vx(t){function e(_,m){if(t){var y=_.deletions;y===null?(_.deletions=[m],_.flags|=16):y.push(m)}}function n(_,m){if(!t)return null;for(;m!==null;)e(_,m),m=m.sibling;return null}function r(_,m){for(_=new Map;m!==null;)m.key!==null?_.set(m.key,m):_.set(m.index,m),m=m.sibling;return _}function i(_,m){return _=Cs(_,m),_.index=0,_.sibling=null,_}function s(_,m,y){return _.index=y,t?(y=_.alternate,y!==null?(y=y.index,y<m?(_.flags|=2,m):y):(_.flags|=2,m)):(_.flags|=1048576,m)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,m,y,w){return m===null||m.tag!==6?(m=iy(y,_.mode,w),m.return=_,m):(m=i(m,y),m.return=_,m)}function l(_,m,y,w){var I=y.type;return I===$a?c(_,m,y.props.children,w,y.key):m!==null&&(m.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===ts&&uS(I)===m.type)?(w=i(m,y.props),w.ref=Tu(_,m,y),w.return=_,w):(w=Tf(y.type,y.key,y.props,null,_.mode,w),w.ref=Tu(_,m,y),w.return=_,w)}function u(_,m,y,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=sy(y,_.mode,w),m.return=_,m):(m=i(m,y.children||[]),m.return=_,m)}function c(_,m,y,w,I){return m===null||m.tag!==7?(m=ko(y,_.mode,w,I),m.return=_,m):(m=i(m,y),m.return=_,m)}function h(_,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=iy(""+m,_.mode,y),m.return=_,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Rd:return y=Tf(m.type,m.key,m.props,null,_.mode,y),y.ref=Tu(_,null,m),y.return=_,y;case Fa:return m=sy(m,_.mode,y),m.return=_,m;case ts:var w=m._init;return h(_,w(m._payload),y)}if(ju(m)||_u(m))return m=ko(m,_.mode,y,null),m.return=_,m;Vd(_,m)}return null}function d(_,m,y,w){var I=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return I!==null?null:a(_,m,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Rd:return y.key===I?l(_,m,y,w):null;case Fa:return y.key===I?u(_,m,y,w):null;case ts:return I=y._init,d(_,m,I(y._payload),w)}if(ju(y)||_u(y))return I!==null?null:c(_,m,y,w,null);Vd(_,y)}return null}function f(_,m,y,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return _=_.get(y)||null,a(m,_,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Rd:return _=_.get(w.key===null?y:w.key)||null,l(m,_,w,I);case Fa:return _=_.get(w.key===null?y:w.key)||null,u(m,_,w,I);case ts:var C=w._init;return f(_,m,y,C(w._payload),I)}if(ju(w)||_u(w))return _=_.get(y)||null,c(m,_,w,I,null);Vd(m,w)}return null}function p(_,m,y,w){for(var I=null,C=null,S=m,D=m=0,K=null;S!==null&&D<y.length;D++){S.index>D?(K=S,S=null):K=S.sibling;var $=d(_,S,y[D],w);if($===null){S===null&&(S=K);break}t&&S&&$.alternate===null&&e(_,S),m=s($,m,D),C===null?I=$:C.sibling=$,C=$,S=K}if(D===y.length)return n(_,S),qe&&ro(_,D),I;if(S===null){for(;D<y.length;D++)S=h(_,y[D],w),S!==null&&(m=s(S,m,D),C===null?I=S:C.sibling=S,C=S);return qe&&ro(_,D),I}for(S=r(_,S);D<y.length;D++)K=f(S,_,D,y[D],w),K!==null&&(t&&K.alternate!==null&&S.delete(K.key===null?D:K.key),m=s(K,m,D),C===null?I=K:C.sibling=K,C=K);return t&&S.forEach(function(ae){return e(_,ae)}),qe&&ro(_,D),I}function g(_,m,y,w){var I=_u(y);if(typeof I!="function")throw Error(x(150));if(y=I.call(y),y==null)throw Error(x(151));for(var C=I=null,S=m,D=m=0,K=null,$=y.next();S!==null&&!$.done;D++,$=y.next()){S.index>D?(K=S,S=null):K=S.sibling;var ae=d(_,S,$.value,w);if(ae===null){S===null&&(S=K);break}t&&S&&ae.alternate===null&&e(_,S),m=s(ae,m,D),C===null?I=ae:C.sibling=ae,C=ae,S=K}if($.done)return n(_,S),qe&&ro(_,D),I;if(S===null){for(;!$.done;D++,$=y.next())$=h(_,$.value,w),$!==null&&(m=s($,m,D),C===null?I=$:C.sibling=$,C=$);return qe&&ro(_,D),I}for(S=r(_,S);!$.done;D++,$=y.next())$=f(S,_,D,$.value,w),$!==null&&(t&&$.alternate!==null&&S.delete($.key===null?D:$.key),m=s($,m,D),C===null?I=$:C.sibling=$,C=$);return t&&S.forEach(function(ge){return e(_,ge)}),qe&&ro(_,D),I}function v(_,m,y,w){if(typeof y=="object"&&y!==null&&y.type===$a&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Rd:e:{for(var I=y.key,C=m;C!==null;){if(C.key===I){if(I=y.type,I===$a){if(C.tag===7){n(_,C.sibling),m=i(C,y.props.children),m.return=_,_=m;break e}}else if(C.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===ts&&uS(I)===C.type){n(_,C.sibling),m=i(C,y.props),m.ref=Tu(_,C,y),m.return=_,_=m;break e}n(_,C);break}else e(_,C);C=C.sibling}y.type===$a?(m=ko(y.props.children,_.mode,w,y.key),m.return=_,_=m):(w=Tf(y.type,y.key,y.props,null,_.mode,w),w.ref=Tu(_,m,y),w.return=_,_=w)}return o(_);case Fa:e:{for(C=y.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(_,m.sibling),m=i(m,y.children||[]),m.return=_,_=m;break e}else{n(_,m);break}else e(_,m);m=m.sibling}m=sy(y,_.mode,w),m.return=_,_=m}return o(_);case ts:return C=y._init,v(_,m,C(y._payload),w)}if(ju(y))return p(_,m,y,w);if(_u(y))return g(_,m,y,w);Vd(_,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(_,m.sibling),m=i(m,y),m.return=_,_=m):(n(_,m),m=iy(y,_.mode,w),m.return=_,_=m),o(_)):n(_,m)}return v}var Il=Vx(!0),Fx=Vx(!1),Nh={},Yr=qs(Nh),Mc=qs(Nh),Lc=qs(Nh);function _o(t){if(t===Nh)throw Error(x(174));return t}function Ww(t,e){switch(Le(Lc,e),Le(Mc,t),Le(Yr,Nh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rv(e,t)}Ue(Yr),Le(Yr,e)}function Sl(){Ue(Yr),Ue(Mc),Ue(Lc)}function $x(t){_o(Lc.current);var e=_o(Yr.current),n=rv(e,t.type);e!==n&&(Le(Mc,t),Le(Yr,n))}function Hw(t){Mc.current===t&&(Ue(Yr),Ue(Mc))}var Xe=qs(0);function op(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var J_=[];function qw(){for(var t=0;t<J_.length;t++)J_[t]._workInProgressVersionPrimary=null;J_.length=0}var _f=$i.ReactCurrentDispatcher,Z_=$i.ReactCurrentBatchConfig,Vo=0,Ze=null,Ct=null,bt=null,ap=!1,oc=!1,Vc=0,p$=0;function Yt(){throw Error(x(321))}function Gw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kr(t[n],e[n]))return!1;return!0}function Yw(t,e,n,r,i,s){if(Vo=s,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_f.current=t===null||t.memoizedState===null?y$:v$,t=n(r,i),oc){s=0;do{if(oc=!1,Vc=0,25<=s)throw Error(x(301));s+=1,bt=Ct=null,e.updateQueue=null,_f.current=w$,t=n(r,i)}while(oc)}if(_f.current=lp,e=Ct!==null&&Ct.next!==null,Vo=0,bt=Ct=Ze=null,ap=!1,e)throw Error(x(300));return t}function Kw(){var t=Vc!==0;return Vc=0,t}function Mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ze.memoizedState=bt=t:bt=bt.next=t,bt}function lr(){if(Ct===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=Ct.next;var e=bt===null?Ze.memoizedState:bt.next;if(e!==null)bt=e,Ct=t;else{if(t===null)throw Error(x(310));Ct=t,t={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},bt===null?Ze.memoizedState=bt=t:bt=bt.next=t}return bt}function Fc(t,e){return typeof e=="function"?e(t):e}function ey(t){var e=lr(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=Ct,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Vo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ze.lanes|=c,Fo|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,kr(r,e.memoizedState)||(In=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ze.lanes|=s,Fo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ty(t){var e=lr(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);kr(s,e.memoizedState)||(In=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Ux(){}function Bx(t,e){var n=Ze,r=lr(),i=e(),s=!kr(r.memoizedState,i);if(s&&(r.memoizedState=i,In=!0),r=r.queue,Qw(Wx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,$c(9,zx.bind(null,n,r,i,e),void 0,null),Ot===null)throw Error(x(349));Vo&30||jx(n,e,i)}return i}function jx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zx(t,e,n,r){e.value=n,e.getSnapshot=r,Hx(e)&&qx(t)}function Wx(t,e,n){return n(function(){Hx(e)&&qx(t)})}function Hx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kr(t,n)}catch{return!0}}function qx(t){var e=Ai(t,1);e!==null&&Sr(e,t,1,-1)}function cS(t){var e=Mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fc,lastRenderedState:t},e.queue=t,t=t.dispatch=_$.bind(null,Ze,t),[e.memoizedState,t]}function $c(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Gx(){return lr().memoizedState}function yf(t,e,n,r){var i=Mr();Ze.flags|=t,i.memoizedState=$c(1|e,n,void 0,r===void 0?null:r)}function Tm(t,e,n,r){var i=lr();r=r===void 0?null:r;var s=void 0;if(Ct!==null){var o=Ct.memoizedState;if(s=o.destroy,r!==null&&Gw(r,o.deps)){i.memoizedState=$c(e,n,s,r);return}}Ze.flags|=t,i.memoizedState=$c(1|e,n,s,r)}function hS(t,e){return yf(8390656,8,t,e)}function Qw(t,e){return Tm(2048,8,t,e)}function Yx(t,e){return Tm(4,2,t,e)}function Kx(t,e){return Tm(4,4,t,e)}function Qx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xx(t,e,n){return n=n!=null?n.concat([t]):null,Tm(4,4,Qx.bind(null,e,t),n)}function Xw(){}function Jx(t,e){var n=lr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Zx(t,e){var n=lr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function eA(t,e,n){return Vo&21?(kr(n,e)||(n=rx(),Ze.lanes|=n,Fo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,In=!0),t.memoizedState=n)}function m$(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=Z_.transition;Z_.transition={};try{t(!1),e()}finally{ke=n,Z_.transition=r}}function tA(){return lr().memoizedState}function g$(t,e,n){var r=Ss(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nA(t))rA(e,n);else if(n=Nx(t,e,n,r),n!==null){var i=fn();Sr(n,t,r,i),iA(n,e,r)}}function _$(t,e,n){var r=Ss(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nA(t))rA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,kr(a,o)){var l=e.interleaved;l===null?(i.next=i,jw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Nx(t,e,i,r),n!==null&&(i=fn(),Sr(n,t,r,i),iA(n,e,r))}}function nA(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function rA(t,e){oc=ap=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function iA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pw(t,n)}}var lp={readContext:ar,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},y$={readContext:ar,useCallback:function(t,e){return Mr().memoizedState=[t,e===void 0?null:e],t},useContext:ar,useEffect:hS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,yf(4194308,4,Qx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yf(4194308,4,t,e)},useInsertionEffect:function(t,e){return yf(4,2,t,e)},useMemo:function(t,e){var n=Mr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=g$.bind(null,Ze,t),[r.memoizedState,t]},useRef:function(t){var e=Mr();return t={current:t},e.memoizedState=t},useState:cS,useDebugValue:Xw,useDeferredValue:function(t){return Mr().memoizedState=t},useTransition:function(){var t=cS(!1),e=t[0];return t=m$.bind(null,t[1]),Mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ze,i=Mr();if(qe){if(n===void 0)throw Error(x(407));n=n()}else{if(n=e(),Ot===null)throw Error(x(349));Vo&30||jx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,hS(Wx.bind(null,r,s,t),[t]),r.flags|=2048,$c(9,zx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Mr(),e=Ot.identifierPrefix;if(qe){var n=gi,r=mi;n=(r&~(1<<32-Ir(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=p$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},v$={readContext:ar,useCallback:Jx,useContext:ar,useEffect:Qw,useImperativeHandle:Xx,useInsertionEffect:Yx,useLayoutEffect:Kx,useMemo:Zx,useReducer:ey,useRef:Gx,useState:function(){return ey(Fc)},useDebugValue:Xw,useDeferredValue:function(t){var e=lr();return eA(e,Ct.memoizedState,t)},useTransition:function(){var t=ey(Fc)[0],e=lr().memoizedState;return[t,e]},useMutableSource:Ux,useSyncExternalStore:Bx,useId:tA,unstable_isNewReconciler:!1},w$={readContext:ar,useCallback:Jx,useContext:ar,useEffect:Qw,useImperativeHandle:Xx,useInsertionEffect:Yx,useLayoutEffect:Kx,useMemo:Zx,useReducer:ty,useRef:Gx,useState:function(){return ty(Fc)},useDebugValue:Xw,useDeferredValue:function(t){var e=lr();return Ct===null?e.memoizedState=t:eA(e,Ct.memoizedState,t)},useTransition:function(){var t=ty(Fc)[0],e=lr().memoizedState;return[t,e]},useMutableSource:Ux,useSyncExternalStore:Bx,useId:tA,unstable_isNewReconciler:!1};function Cl(t,e){try{var n="",r=e;do n+=YV(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ny(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Rv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var E$=typeof WeakMap=="function"?WeakMap:Map;function sA(t,e,n){n=Si(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cp||(cp=!0,Lv=r),Rv(t,e)},n}function oA(t,e,n){n=Si(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Rv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Rv(t,e),typeof r!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function dS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new E$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=M$.bind(null,t,e,n),e.then(t,t))}function fS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Si(-1,1),e.tag=2,Ts(n,e,1))),n.lanes|=1),t)}var T$=$i.ReactCurrentOwner,In=!1;function un(t,e,n,r){e.child=t===null?Fx(e,null,n,r):Il(e,t.child,n,r)}function mS(t,e,n,r,i){n=n.render;var s=e.ref;return il(e,i),r=Yw(t,e,n,r,s,i),n=Kw(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bi(t,e,i)):(qe&&n&&Lw(e),e.flags|=1,un(t,e,r,i),e.child)}function gS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!sE(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,aA(t,e,s,r,i)):(t=Tf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:bc,n(o,r)&&t.ref===e.ref)return bi(t,e,i)}return e.flags|=1,t=Cs(s,r),t.ref=e.ref,t.return=e,e.child=t}function aA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(bc(s,r)&&t.ref===e.ref)if(In=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(In=!0);else return e.lanes=t.lanes,bi(t,e,i)}return kv(t,e,n,r,i)}function lA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Ka,Nn),Nn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(Ka,Nn),Nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Le(Ka,Nn),Nn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Le(Ka,Nn),Nn|=r;return un(t,e,i,n),e.child}function uA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kv(t,e,n,r,i){var s=Pn(n)?Mo:on.current;return s=El(e,s),il(e,i),n=Yw(t,e,n,r,s,i),r=Kw(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bi(t,e,i)):(qe&&r&&Lw(e),e.flags|=1,un(t,e,n,i),e.child)}function _S(t,e,n,r,i){if(Pn(n)){var s=!0;ep(e)}else s=!1;if(il(e,i),e.stateNode===null)vf(t,e),Lx(e,n,r),Cv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ar(u):(u=Pn(n)?Mo:on.current,u=El(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&lS(e,o,r,u),ns=!1;var d=e.memoizedState;o.state=d,sp(e,r,o,i),l=e.memoizedState,a!==r||d!==l||kn.current||ns?(typeof c=="function"&&(Sv(e,n,c,r),l=e.memoizedState),(a=ns||aS(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ox(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:_r(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ar(l):(l=Pn(n)?Mo:on.current,l=El(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&lS(e,o,r,l),ns=!1,d=e.memoizedState,o.state=d,sp(e,r,o,i);var p=e.memoizedState;a!==h||d!==p||kn.current||ns?(typeof f=="function"&&(Sv(e,n,f,r),p=e.memoizedState),(u=ns||aS(e,n,u,r,d,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Pv(t,e,n,r,s,i)}function Pv(t,e,n,r,i,s){uA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&nS(e,n,!1),bi(t,e,s);r=e.stateNode,T$.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Il(e,t.child,null,s),e.child=Il(e,null,a,s)):un(t,e,a,s),e.memoizedState=r.state,i&&nS(e,n,!0),e.child}function cA(t){var e=t.stateNode;e.pendingContext?tS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tS(t,e.context,!1),Ww(t,e.containerInfo)}function yS(t,e,n,r,i){return Tl(),Fw(i),e.flags|=256,un(t,e,n,r),e.child}var xv={dehydrated:null,treeContext:null,retryLane:0};function Av(t){return{baseLanes:t,cachePool:null,transitions:null}}function hA(t,e,n){var r=e.pendingProps,i=Xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Le(Xe,i&1),t===null)return Tv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Cm(o,r,0,null),t=ko(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Av(n),e.memoizedState=xv,t):Jw(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return I$(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Cs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Cs(a,s):(s=ko(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Av(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=xv,r}return s=t.child,t=s.sibling,r=Cs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jw(t,e){return e=Cm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fd(t,e,n,r){return r!==null&&Fw(r),Il(e,t.child,null,n),t=Jw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function I$(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ny(Error(x(422))),Fd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Cm({mode:"visible",children:r.children},i,0,null),s=ko(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Il(e,t.child,null,o),e.child.memoizedState=Av(o),e.memoizedState=xv,s);if(!(e.mode&1))return Fd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(x(419)),r=ny(s,r,void 0),Fd(t,e,o,r)}if(a=(o&t.childLanes)!==0,In||a){if(r=Ot,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ai(t,i),Sr(r,t,i,-1))}return iE(),r=ny(Error(x(421))),Fd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=L$.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Mn=Es(i.nextSibling),Fn=e,qe=!0,vr=null,t!==null&&(Kn[Qn++]=mi,Kn[Qn++]=gi,Kn[Qn++]=Lo,mi=t.id,gi=t.overflow,Lo=e),e=Jw(e,r.children),e.flags|=4096,e)}function vS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Iv(t.return,e,n)}function ry(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function dA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(un(t,e,r.children,n),r=Xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vS(t,n,e);else if(t.tag===19)vS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(Xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&op(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ry(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&op(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ry(e,!0,n,null,s);break;case"together":ry(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=Cs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Cs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function S$(t,e,n){switch(e.tag){case 3:cA(e),Tl();break;case 5:$x(e);break;case 1:Pn(e.type)&&ep(e);break;case 4:Ww(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Le(rp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(Xe,Xe.current&1),e.flags|=128,null):n&e.child.childLanes?hA(t,e,n):(Le(Xe,Xe.current&1),t=bi(t,e,n),t!==null?t.sibling:null);Le(Xe,Xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(Xe,Xe.current),r)break;return null;case 22:case 23:return e.lanes=0,lA(t,e,n)}return bi(t,e,n)}var fA,bv,pA,mA;fA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bv=function(){};pA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,_o(Yr.current);var s=null;switch(n){case"input":i=Zy(t,i),r=Zy(t,r),s=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),s=[];break;case"textarea":i=nv(t,i),r=nv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jf)}iv(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ve("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};mA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Iu(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function C$(t,e,n){var r=e.pendingProps;switch(Vw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(e),null;case 1:return Pn(e.type)&&Zf(),Kt(e),null;case 3:return r=e.stateNode,Sl(),Ue(kn),Ue(on),qw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ld(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vr!==null&&($v(vr),vr=null))),bv(t,e),Kt(e),null;case 5:Hw(e);var i=_o(Lc.current);if(n=e.type,t!==null&&e.stateNode!=null)pA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(x(166));return Kt(e),null}if(t=_o(Yr.current),Ld(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Fr]=e,r[Oc]=s,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<Wu.length;i++)Ve(Wu[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":P1(r,s),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ve("invalid",r);break;case"textarea":A1(r,s),Ve("invalid",r)}iv(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Md(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Md(r.textContent,a,t),i=["children",""+a]):Sc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ve("scroll",r)}switch(n){case"input":kd(r),x1(r,s,!0);break;case"textarea":kd(r),b1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Jf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Fr]=e,t[Oc]=r,fA(t,e,!1,!1),e.stateNode=t;e:{switch(o=sv(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),i=r;break;case"iframe":case"object":case"embed":Ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wu.length;i++)Ve(Wu[i],t);i=r;break;case"source":Ve("error",t),i=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),i=r;break;case"details":Ve("toggle",t),i=r;break;case"input":P1(t,r),i=Zy(t,r),Ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":A1(t,r),i=nv(t,r),Ve("invalid",t);break;default:i=r}iv(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?HP(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zP(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Cc(t,l):typeof l=="number"&&Cc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Sc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ve("scroll",t):l!=null&&Tw(t,s,l,o))}switch(n){case"input":kd(t),x1(t,r,!1);break;case"textarea":kd(t),b1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ns(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?el(t,!!r.multiple,s,!1):r.defaultValue!=null&&el(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kt(e),null;case 6:if(t&&e.stateNode!=null)mA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(x(166));if(n=_o(Lc.current),_o(Yr.current),Ld(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fr]=e,(s=r.nodeValue!==n)&&(t=Fn,t!==null))switch(t.tag){case 3:Md(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Md(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fr]=e,e.stateNode=r}return Kt(e),null;case 13:if(Ue(Xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&Mn!==null&&e.mode&1&&!(e.flags&128))Dx(),Tl(),e.flags|=98560,s=!1;else if(s=Ld(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(x(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(x(317));s[Fr]=e}else Tl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kt(e),s=!1}else vr!==null&&($v(vr),vr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?kt===0&&(kt=3):iE())),e.updateQueue!==null&&(e.flags|=4),Kt(e),null);case 4:return Sl(),bv(t,e),t===null&&Dc(e.stateNode.containerInfo),Kt(e),null;case 10:return Bw(e.type._context),Kt(e),null;case 17:return Pn(e.type)&&Zf(),Kt(e),null;case 19:if(Ue(Xe),s=e.memoizedState,s===null)return Kt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Iu(s,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=op(t),o!==null){for(e.flags|=128,Iu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(Xe,Xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&pt()>Rl&&(e.flags|=128,r=!0,Iu(s,!1),e.lanes=4194304)}else{if(!r)if(t=op(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Iu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qe)return Kt(e),null}else 2*pt()-s.renderingStartTime>Rl&&n!==1073741824&&(e.flags|=128,r=!0,Iu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=pt(),e.sibling=null,n=Xe.current,Le(Xe,r?n&1|2:n&1),e):(Kt(e),null);case 22:case 23:return rE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nn&1073741824&&(Kt(e),e.subtreeFlags&6&&(e.flags|=8192)):Kt(e),null;case 24:return null;case 25:return null}throw Error(x(156,e.tag))}function R$(t,e){switch(Vw(e),e.tag){case 1:return Pn(e.type)&&Zf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sl(),Ue(kn),Ue(on),qw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hw(e),null;case 13:if(Ue(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));Tl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(Xe),null;case 4:return Sl(),null;case 10:return Bw(e.type._context),null;case 22:case 23:return rE(),null;case 24:return null;default:return null}}var $d=!1,Jt=!1,k$=typeof WeakSet=="function"?WeakSet:Set,B=null;function Ya(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function Dv(t,e,n){try{n()}catch(r){at(t,e,r)}}var wS=!1;function P$(t,e){if(mv=Kf,t=vx(),Mw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gv={focusedElem:t,selectionRange:n},Kf=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,_=e.stateNode,m=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:_r(e.type,g),v);_.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(w){at(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return p=wS,wS=!1,p}function ac(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Dv(e,n,s)}i=i.next}while(i!==r)}}function Im(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Nv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gA(t){var e=t.alternate;e!==null&&(t.alternate=null,gA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fr],delete e[Oc],delete e[vv],delete e[c$],delete e[h$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _A(t){return t.tag===5||t.tag===3||t.tag===4}function ES(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_A(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ov(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jf));else if(r!==4&&(t=t.child,t!==null))for(Ov(t,e,n),t=t.sibling;t!==null;)Ov(t,e,n),t=t.sibling}function Mv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Mv(t,e,n),t=t.sibling;t!==null;)Mv(t,e,n),t=t.sibling}var Ut=null,yr=!1;function Qi(t,e,n){for(n=n.child;n!==null;)yA(t,e,n),n=n.sibling}function yA(t,e,n){if(Gr&&typeof Gr.onCommitFiberUnmount=="function")try{Gr.onCommitFiberUnmount(mm,n)}catch{}switch(n.tag){case 5:Jt||Ya(n,e);case 6:var r=Ut,i=yr;Ut=null,Qi(t,e,n),Ut=r,yr=i,Ut!==null&&(yr?(t=Ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(yr?(t=Ut,n=n.stateNode,t.nodeType===8?Q_(t.parentNode,n):t.nodeType===1&&Q_(t,n),xc(t)):Q_(Ut,n.stateNode));break;case 4:r=Ut,i=yr,Ut=n.stateNode.containerInfo,yr=!0,Qi(t,e,n),Ut=r,yr=i;break;case 0:case 11:case 14:case 15:if(!Jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Dv(n,e,o),i=i.next}while(i!==r)}Qi(t,e,n);break;case 1:if(!Jt&&(Ya(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,e,a)}Qi(t,e,n);break;case 21:Qi(t,e,n);break;case 22:n.mode&1?(Jt=(r=Jt)||n.memoizedState!==null,Qi(t,e,n),Jt=r):Qi(t,e,n);break;default:Qi(t,e,n)}}function TS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new k$),e.forEach(function(r){var i=V$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ut=a.stateNode,yr=!1;break e;case 3:Ut=a.stateNode.containerInfo,yr=!0;break e;case 4:Ut=a.stateNode.containerInfo,yr=!0;break e}a=a.return}if(Ut===null)throw Error(x(160));yA(s,o,i),Ut=null,yr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){at(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vA(e,t),e=e.sibling}function vA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gr(e,t),Or(t),r&4){try{ac(3,t,t.return),Im(3,t)}catch(g){at(t,t.return,g)}try{ac(5,t,t.return)}catch(g){at(t,t.return,g)}}break;case 1:gr(e,t),Or(t),r&512&&n!==null&&Ya(n,n.return);break;case 5:if(gr(e,t),Or(t),r&512&&n!==null&&Ya(n,n.return),t.flags&32){var i=t.stateNode;try{Cc(i,"")}catch(g){at(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&UP(i,s),sv(a,o);var u=sv(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?HP(i,h):c==="dangerouslySetInnerHTML"?zP(i,h):c==="children"?Cc(i,h):Tw(i,c,h,u)}switch(a){case"input":ev(i,s);break;case"textarea":BP(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?el(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?el(i,!!s.multiple,s.defaultValue,!0):el(i,!!s.multiple,s.multiple?[]:"",!1))}i[Oc]=s}catch(g){at(t,t.return,g)}}break;case 6:if(gr(e,t),Or(t),r&4){if(t.stateNode===null)throw Error(x(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){at(t,t.return,g)}}break;case 3:if(gr(e,t),Or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xc(e.containerInfo)}catch(g){at(t,t.return,g)}break;case 4:gr(e,t),Or(t);break;case 13:gr(e,t),Or(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(tE=pt())),r&4&&TS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Jt=(u=Jt)||c,gr(e,t),Jt=u):gr(e,t),Or(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(B=t,c=t.child;c!==null;){for(h=B=c;B!==null;){switch(d=B,f=d.child,d.tag){case 0:case 11:case 14:case 15:ac(4,d,d.return);break;case 1:Ya(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){at(r,n,g)}}break;case 5:Ya(d,d.return);break;case 22:if(d.memoizedState!==null){SS(h);continue}}f!==null?(f.return=d,B=f):SS(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=WP("display",o))}catch(g){at(t,t.return,g)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){at(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gr(e,t),Or(t),r&4&&TS(t);break;case 21:break;default:gr(e,t),Or(t)}}function Or(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_A(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cc(i,""),r.flags&=-33);var s=ES(t);Mv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ES(t);Ov(t,a,o);break;default:throw Error(x(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function x$(t,e,n){B=t,wA(t)}function wA(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var i=B,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||$d;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Jt;a=$d;var u=Jt;if($d=o,(Jt=l)&&!u)for(B=i;B!==null;)o=B,l=o.child,o.tag===22&&o.memoizedState!==null?CS(i):l!==null?(l.return=o,B=l):CS(i);for(;s!==null;)B=s,wA(s),s=s.sibling;B=i,$d=a,Jt=u}IS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,B=s):IS(t)}}function IS(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jt||Im(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_r(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&oS(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}oS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&xc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}Jt||e.flags&512&&Nv(e)}catch(d){at(e,e.return,d)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function SS(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function CS(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Im(4,e)}catch(l){at(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){at(e,i,l)}}var s=e.return;try{Nv(e)}catch(l){at(e,s,l)}break;case 5:var o=e.return;try{Nv(e)}catch(l){at(e,o,l)}}}catch(l){at(e,e.return,l)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var A$=Math.ceil,up=$i.ReactCurrentDispatcher,Zw=$i.ReactCurrentOwner,rr=$i.ReactCurrentBatchConfig,_e=0,Ot=null,Tt=null,Wt=0,Nn=0,Ka=qs(0),kt=0,Uc=null,Fo=0,Sm=0,eE=0,lc=null,Tn=null,tE=0,Rl=1/0,ci=null,cp=!1,Lv=null,Is=null,Ud=!1,fs=null,hp=0,uc=0,Vv=null,wf=-1,Ef=0;function fn(){return _e&6?pt():wf!==-1?wf:wf=pt()}function Ss(t){return t.mode&1?_e&2&&Wt!==0?Wt&-Wt:f$.transition!==null?(Ef===0&&(Ef=rx()),Ef):(t=ke,t!==0||(t=window.event,t=t===void 0?16:cx(t.type)),t):1}function Sr(t,e,n,r){if(50<uc)throw uc=0,Vv=null,Error(x(185));Ah(t,n,r),(!(_e&2)||t!==Ot)&&(t===Ot&&(!(_e&2)&&(Sm|=n),kt===4&&is(t,Wt)),xn(t,r),n===1&&_e===0&&!(e.mode&1)&&(Rl=pt()+500,wm&&Gs()))}function xn(t,e){var n=t.callbackNode;fF(t,e);var r=Yf(t,t===Ot?Wt:0);if(r===0)n!==null&&O1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&O1(n),e===1)t.tag===0?d$(RS.bind(null,t)):xx(RS.bind(null,t)),l$(function(){!(_e&6)&&Gs()}),n=null;else{switch(ix(r)){case 1:n=kw;break;case 4:n=tx;break;case 16:n=Gf;break;case 536870912:n=nx;break;default:n=Gf}n=PA(n,EA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function EA(t,e){if(wf=-1,Ef=0,_e&6)throw Error(x(327));var n=t.callbackNode;if(sl()&&t.callbackNode!==n)return null;var r=Yf(t,t===Ot?Wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dp(t,r);else{e=r;var i=_e;_e|=2;var s=IA();(Ot!==t||Wt!==e)&&(ci=null,Rl=pt()+500,Ro(t,e));do try{N$();break}catch(a){TA(t,a)}while(!0);Uw(),up.current=s,_e=i,Tt!==null?e=0:(Ot=null,Wt=0,e=kt)}if(e!==0){if(e===2&&(i=cv(t),i!==0&&(r=i,e=Fv(t,i))),e===1)throw n=Uc,Ro(t,0),is(t,r),xn(t,pt()),n;if(e===6)is(t,r);else{if(i=t.current.alternate,!(r&30)&&!b$(i)&&(e=dp(t,r),e===2&&(s=cv(t),s!==0&&(r=s,e=Fv(t,s))),e===1))throw n=Uc,Ro(t,0),is(t,r),xn(t,pt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(x(345));case 2:io(t,Tn,ci);break;case 3:if(is(t,r),(r&130023424)===r&&(e=tE+500-pt(),10<e)){if(Yf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){fn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=yv(io.bind(null,t,Tn,ci),e);break}io(t,Tn,ci);break;case 4:if(is(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ir(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*A$(r/1960))-r,10<r){t.timeoutHandle=yv(io.bind(null,t,Tn,ci),r);break}io(t,Tn,ci);break;case 5:io(t,Tn,ci);break;default:throw Error(x(329))}}}return xn(t,pt()),t.callbackNode===n?EA.bind(null,t):null}function Fv(t,e){var n=lc;return t.current.memoizedState.isDehydrated&&(Ro(t,e).flags|=256),t=dp(t,e),t!==2&&(e=Tn,Tn=n,e!==null&&$v(e)),t}function $v(t){Tn===null?Tn=t:Tn.push.apply(Tn,t)}function b$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!kr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function is(t,e){for(e&=~eE,e&=~Sm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ir(e),r=1<<n;t[n]=-1,e&=~r}}function RS(t){if(_e&6)throw Error(x(327));sl();var e=Yf(t,0);if(!(e&1))return xn(t,pt()),null;var n=dp(t,e);if(t.tag!==0&&n===2){var r=cv(t);r!==0&&(e=r,n=Fv(t,r))}if(n===1)throw n=Uc,Ro(t,0),is(t,e),xn(t,pt()),n;if(n===6)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,io(t,Tn,ci),xn(t,pt()),null}function nE(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(Rl=pt()+500,wm&&Gs())}}function $o(t){fs!==null&&fs.tag===0&&!(_e&6)&&sl();var e=_e;_e|=1;var n=rr.transition,r=ke;try{if(rr.transition=null,ke=1,t)return t()}finally{ke=r,rr.transition=n,_e=e,!(_e&6)&&Gs()}}function rE(){Nn=Ka.current,Ue(Ka)}function Ro(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,a$(n)),Tt!==null)for(n=Tt.return;n!==null;){var r=n;switch(Vw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zf();break;case 3:Sl(),Ue(kn),Ue(on),qw();break;case 5:Hw(r);break;case 4:Sl();break;case 13:Ue(Xe);break;case 19:Ue(Xe);break;case 10:Bw(r.type._context);break;case 22:case 23:rE()}n=n.return}if(Ot=t,Tt=t=Cs(t.current,null),Wt=Nn=e,kt=0,Uc=null,eE=Sm=Fo=0,Tn=lc=null,go!==null){for(e=0;e<go.length;e++)if(n=go[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}go=null}return t}function TA(t,e){do{var n=Tt;try{if(Uw(),_f.current=lp,ap){for(var r=Ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ap=!1}if(Vo=0,bt=Ct=Ze=null,oc=!1,Vc=0,Zw.current=null,n===null||n.return===null){kt=1,Uc=e,Tt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Wt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=fS(o);if(f!==null){f.flags&=-257,pS(f,o,a,s,e),f.mode&1&&dS(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){dS(s,u,e),iE();break e}l=Error(x(426))}}else if(qe&&a.mode&1){var v=fS(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),pS(v,o,a,s,e),Fw(Cl(l,a));break e}}s=l=Cl(l,a),kt!==4&&(kt=2),lc===null?lc=[s]:lc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=sA(s,l,e);sS(s,_);break e;case 1:a=l;var m=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Is===null||!Is.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=oA(s,a,e);sS(s,w);break e}}s=s.return}while(s!==null)}CA(n)}catch(I){e=I,Tt===n&&n!==null&&(Tt=n=n.return);continue}break}while(!0)}function IA(){var t=up.current;return up.current=lp,t===null?lp:t}function iE(){(kt===0||kt===3||kt===2)&&(kt=4),Ot===null||!(Fo&268435455)&&!(Sm&268435455)||is(Ot,Wt)}function dp(t,e){var n=_e;_e|=2;var r=IA();(Ot!==t||Wt!==e)&&(ci=null,Ro(t,e));do try{D$();break}catch(i){TA(t,i)}while(!0);if(Uw(),_e=n,up.current=r,Tt!==null)throw Error(x(261));return Ot=null,Wt=0,kt}function D$(){for(;Tt!==null;)SA(Tt)}function N$(){for(;Tt!==null&&!iF();)SA(Tt)}function SA(t){var e=kA(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,e===null?CA(t):Tt=e,Zw.current=null}function CA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=R$(n,e),n!==null){n.flags&=32767,Tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,Tt=null;return}}else if(n=C$(n,e,Nn),n!==null){Tt=n;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);kt===0&&(kt=5)}function io(t,e,n){var r=ke,i=rr.transition;try{rr.transition=null,ke=1,O$(t,e,n,r)}finally{rr.transition=i,ke=r}return null}function O$(t,e,n,r){do sl();while(fs!==null);if(_e&6)throw Error(x(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(pF(t,s),t===Ot&&(Tt=Ot=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ud||(Ud=!0,PA(Gf,function(){return sl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=rr.transition,rr.transition=null;var o=ke;ke=1;var a=_e;_e|=4,Zw.current=null,P$(t,n),vA(n,t),e$(gv),Kf=!!mv,gv=mv=null,t.current=n,x$(n),sF(),_e=a,ke=o,rr.transition=s}else t.current=n;if(Ud&&(Ud=!1,fs=t,hp=i),s=t.pendingLanes,s===0&&(Is=null),lF(n.stateNode),xn(t,pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cp)throw cp=!1,t=Lv,Lv=null,t;return hp&1&&t.tag!==0&&sl(),s=t.pendingLanes,s&1?t===Vv?uc++:(uc=0,Vv=t):uc=0,Gs(),null}function sl(){if(fs!==null){var t=ix(hp),e=rr.transition,n=ke;try{if(rr.transition=null,ke=16>t?16:t,fs===null)var r=!1;else{if(t=fs,fs=null,hp=0,_e&6)throw Error(x(331));var i=_e;for(_e|=4,B=t.current;B!==null;){var s=B,o=s.child;if(B.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(B=u;B!==null;){var c=B;switch(c.tag){case 0:case 11:case 15:ac(8,c,s)}var h=c.child;if(h!==null)h.return=c,B=h;else for(;B!==null;){c=B;var d=c.sibling,f=c.return;if(gA(c),c===u){B=null;break}if(d!==null){d.return=f,B=d;break}B=f}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}B=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,B=o;else e:for(;B!==null;){if(s=B,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ac(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,B=_;break e}B=s.return}}var m=t.current;for(B=m;B!==null;){o=B;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,B=y;else e:for(o=m;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Im(9,a)}}catch(I){at(a,a.return,I)}if(a===o){B=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,B=w;break e}B=a.return}}if(_e=i,Gs(),Gr&&typeof Gr.onPostCommitFiberRoot=="function")try{Gr.onPostCommitFiberRoot(mm,t)}catch{}r=!0}return r}finally{ke=n,rr.transition=e}}return!1}function kS(t,e,n){e=Cl(n,e),e=sA(t,e,1),t=Ts(t,e,1),e=fn(),t!==null&&(Ah(t,1,e),xn(t,e))}function at(t,e,n){if(t.tag===3)kS(t,t,n);else for(;e!==null;){if(e.tag===3){kS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Is===null||!Is.has(r))){t=Cl(n,t),t=oA(e,t,1),e=Ts(e,t,1),t=fn(),e!==null&&(Ah(e,1,t),xn(e,t));break}}e=e.return}}function M$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=fn(),t.pingedLanes|=t.suspendedLanes&n,Ot===t&&(Wt&n)===n&&(kt===4||kt===3&&(Wt&130023424)===Wt&&500>pt()-tE?Ro(t,0):eE|=n),xn(t,e)}function RA(t,e){e===0&&(t.mode&1?(e=Ad,Ad<<=1,!(Ad&130023424)&&(Ad=4194304)):e=1);var n=fn();t=Ai(t,e),t!==null&&(Ah(t,e,n),xn(t,n))}function L$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),RA(t,n)}function V$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(e),RA(t,n)}var kA;kA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kn.current)In=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return In=!1,S$(t,e,n);In=!!(t.flags&131072)}else In=!1,qe&&e.flags&1048576&&Ax(e,np,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vf(t,e),t=e.pendingProps;var i=El(e,on.current);il(e,n),i=Yw(null,e,r,t,i,n);var s=Kw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pn(r)?(s=!0,ep(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zw(e),i.updater=Em,e.stateNode=i,i._reactInternals=e,Cv(e,r,t,n),e=Pv(null,e,r,!0,s,n)):(e.tag=0,qe&&s&&Lw(e),un(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$$(r),t=_r(r,t),i){case 0:e=kv(null,e,r,t,n);break e;case 1:e=_S(null,e,r,t,n);break e;case 11:e=mS(null,e,r,t,n);break e;case 14:e=gS(null,e,r,_r(r.type,t),n);break e}throw Error(x(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),kv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),_S(t,e,r,i,n);case 3:e:{if(cA(e),t===null)throw Error(x(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Ox(t,e),sp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Cl(Error(x(423)),e),e=yS(t,e,r,n,i);break e}else if(r!==i){i=Cl(Error(x(424)),e),e=yS(t,e,r,n,i);break e}else for(Mn=Es(e.stateNode.containerInfo.firstChild),Fn=e,qe=!0,vr=null,n=Fx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tl(),r===i){e=bi(t,e,n);break e}un(t,e,r,n)}e=e.child}return e;case 5:return $x(e),t===null&&Tv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,_v(r,i)?o=null:s!==null&&_v(r,s)&&(e.flags|=32),uA(t,e),un(t,e,o,n),e.child;case 6:return t===null&&Tv(e),null;case 13:return hA(t,e,n);case 4:return Ww(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Il(e,null,r,n):un(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),mS(t,e,r,i,n);case 7:return un(t,e,e.pendingProps,n),e.child;case 8:return un(t,e,e.pendingProps.children,n),e.child;case 12:return un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Le(rp,r._currentValue),r._currentValue=o,s!==null)if(kr(s.value,o)){if(s.children===i.children&&!kn.current){e=bi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Si(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Iv(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(x(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Iv(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}un(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,il(e,n),i=ar(i),r=r(i),e.flags|=1,un(t,e,r,n),e.child;case 14:return r=e.type,i=_r(r,e.pendingProps),i=_r(r.type,i),gS(t,e,r,i,n);case 15:return aA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),vf(t,e),e.tag=1,Pn(r)?(t=!0,ep(e)):t=!1,il(e,n),Lx(e,r,i),Cv(e,r,i,n),Pv(null,e,r,!0,t,n);case 19:return dA(t,e,n);case 22:return lA(t,e,n)}throw Error(x(156,e.tag))};function PA(t,e){return ex(t,e)}function F$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(t,e,n,r){return new F$(t,e,n,r)}function sE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $$(t){if(typeof t=="function")return sE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sw)return 11;if(t===Cw)return 14}return 2}function Cs(t,e){var n=t.alternate;return n===null?(n=er(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")sE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $a:return ko(n.children,i,s,e);case Iw:o=8,i|=8;break;case Ky:return t=er(12,n,e,i|2),t.elementType=Ky,t.lanes=s,t;case Qy:return t=er(13,n,e,i),t.elementType=Qy,t.lanes=s,t;case Xy:return t=er(19,n,e,i),t.elementType=Xy,t.lanes=s,t;case VP:return Cm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case MP:o=10;break e;case LP:o=9;break e;case Sw:o=11;break e;case Cw:o=14;break e;case ts:o=16,r=null;break e}throw Error(x(130,t==null?t:typeof t,""))}return e=er(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ko(t,e,n,r){return t=er(7,t,r,e),t.lanes=n,t}function Cm(t,e,n,r){return t=er(22,t,r,e),t.elementType=VP,t.lanes=n,t.stateNode={isHidden:!1},t}function iy(t,e,n){return t=er(6,t,null,e),t.lanes=n,t}function sy(t,e,n){return e=er(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function U$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$_(0),this.expirationTimes=$_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function oE(t,e,n,r,i,s,o,a,l){return t=new U$(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=er(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zw(s),t}function B$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xA(t){if(!t)return Os;t=t._reactInternals;e:{if(oa(t)!==t||t.tag!==1)throw Error(x(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(x(171))}if(t.tag===1){var n=t.type;if(Pn(n))return Px(t,n,e)}return e}function AA(t,e,n,r,i,s,o,a,l){return t=oE(n,r,!0,t,i,s,o,a,l),t.context=xA(null),n=t.current,r=fn(),i=Ss(n),s=Si(r,i),s.callback=e??null,Ts(n,s,i),t.current.lanes=i,Ah(t,i,r),xn(t,r),t}function Rm(t,e,n,r){var i=e.current,s=fn(),o=Ss(i);return n=xA(n),e.context===null?e.context=n:e.pendingContext=n,e=Si(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ts(i,e,o),t!==null&&(Sr(t,i,o,s),gf(t,i,o)),o}function fp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function PS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function aE(t,e){PS(t,e),(t=t.alternate)&&PS(t,e)}function j$(){return null}var bA=typeof reportError=="function"?reportError:function(t){console.error(t)};function lE(t){this._internalRoot=t}km.prototype.render=lE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));Rm(t,e,null,null)};km.prototype.unmount=lE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$o(function(){Rm(null,t,null,null)}),e[xi]=null}};function km(t){this._internalRoot=t}km.prototype.unstable_scheduleHydration=function(t){if(t){var e=ax();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rs.length&&e!==0&&e<rs[n].priority;n++);rs.splice(n,0,t),n===0&&ux(t)}};function uE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xS(){}function z$(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=fp(o);s.call(u)}}var o=AA(e,r,t,0,null,!1,!1,"",xS);return t._reactRootContainer=o,t[xi]=o.current,Dc(t.nodeType===8?t.parentNode:t),$o(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=fp(l);a.call(u)}}var l=oE(t,0,!1,null,null,!1,!1,"",xS);return t._reactRootContainer=l,t[xi]=l.current,Dc(t.nodeType===8?t.parentNode:t),$o(function(){Rm(e,l,n,r)}),l}function xm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=fp(o);a.call(l)}}Rm(e,o,t,i)}else o=z$(n,e,t,i,r);return fp(o)}sx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=zu(e.pendingLanes);n!==0&&(Pw(e,n|1),xn(e,pt()),!(_e&6)&&(Rl=pt()+500,Gs()))}break;case 13:$o(function(){var r=Ai(t,1);if(r!==null){var i=fn();Sr(r,t,1,i)}}),aE(t,1)}};xw=function(t){if(t.tag===13){var e=Ai(t,134217728);if(e!==null){var n=fn();Sr(e,t,134217728,n)}aE(t,134217728)}};ox=function(t){if(t.tag===13){var e=Ss(t),n=Ai(t,e);if(n!==null){var r=fn();Sr(n,t,e,r)}aE(t,e)}};ax=function(){return ke};lx=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};av=function(t,e,n){switch(e){case"input":if(ev(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=vm(r);if(!i)throw Error(x(90));$P(r),ev(r,i)}}}break;case"textarea":BP(t,n);break;case"select":e=n.value,e!=null&&el(t,!!n.multiple,e,!1)}};YP=nE;KP=$o;var W$={usingClientEntryPoint:!1,Events:[Dh,za,vm,qP,GP,nE]},Su={findFiberByHostInstance:mo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},H$={bundleType:Su.bundleType,version:Su.version,rendererPackageName:Su.rendererPackageName,rendererConfig:Su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$i.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=JP(t),t===null?null:t.stateNode},findFiberByHostInstance:Su.findFiberByHostInstance||j$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bd.isDisabled&&Bd.supportsFiber)try{mm=Bd.inject(H$),Gr=Bd}catch{}}zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$;zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uE(e))throw Error(x(200));return B$(t,e,null,n)};zn.createRoot=function(t,e){if(!uE(t))throw Error(x(299));var n=!1,r="",i=bA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=oE(t,1,!1,null,null,n,!1,r,i),t[xi]=e.current,Dc(t.nodeType===8?t.parentNode:t),new lE(e)};zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=JP(e),t=t===null?null:t.stateNode,t};zn.flushSync=function(t){return $o(t)};zn.hydrate=function(t,e,n){if(!Pm(e))throw Error(x(200));return xm(null,t,e,!0,n)};zn.hydrateRoot=function(t,e,n){if(!uE(t))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=bA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=AA(e,null,t,1,n??null,i,!1,s,o),t[xi]=e.current,Dc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new km(e)};zn.render=function(t,e,n){if(!Pm(e))throw Error(x(200));return xm(null,t,e,!1,n)};zn.unmountComponentAtNode=function(t){if(!Pm(t))throw Error(x(40));return t._reactRootContainer?($o(function(){xm(null,null,t,!1,function(){t._reactRootContainer=null,t[xi]=null})}),!0):!1};zn.unstable_batchedUpdates=nE;zn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pm(n))throw Error(x(200));if(t==null||t._reactInternals===void 0)throw Error(x(38));return xm(t,e,n,!1,r)};zn.version="18.2.0-next-9e3b772b8-20220608";function DA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DA)}catch(t){console.error(t)}}DA(),AP.exports=zn;var NA=AP.exports;const jd=vP(NA);var AS=NA;Gy.createRoot=AS.createRoot,Gy.hydrateRoot=AS.hydrateRoot;const q$="modulepreload",G$=function(t){return"/"+t},bS={},Ke=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");i=Promise.all(n.map(o=>{if(o=G$(o),o in bS)return;bS[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let h=s.length-1;h>=0;h--){const d=s[h];if(d.href===o&&(!a||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":q$,a||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),a)return new Promise((h,d)=>{c.addEventListener("load",h),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bc(){return Bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bc.apply(this,arguments)}var ps;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ps||(ps={}));const DS="popstate";function Y$(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=aa(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Uv("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:pp(s))}function r(i,s){Am(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Q$(e,n,r,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Am(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function K$(){return Math.random().toString(36).substr(2,8)}function NS(t,e){return{usr:t.state,key:t.key,idx:e}}function Uv(t,e,n,r){return n===void 0&&(n=null),Bc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?aa(e):e,{state:n,key:e&&e.key||r||K$()})}function pp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function aa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Q$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ps.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Bc({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=ps.Pop;let v=c(),_=v==null?null:v-u;u=v,l&&l({action:a,location:g.location,delta:_})}function d(v,_){a=ps.Push;let m=Uv(g.location,v,_);n&&n(m,v),u=c()+1;let y=NS(m,u),w=g.createHref(m);try{o.pushState(y,"",w)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(w)}s&&l&&l({action:a,location:g.location,delta:1})}function f(v,_){a=ps.Replace;let m=Uv(g.location,v,_);n&&n(m,v),u=c();let y=NS(m,u),w=g.createHref(m);o.replaceState(y,"",w),s&&l&&l({action:a,location:g.location,delta:0})}function p(v){let _=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof v=="string"?v:pp(v);return It(_,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,_)}let g={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(DS,h),l=v,()=>{i.removeEventListener(DS,h),l=null}},createHref(v){return e(i,v)},createURL:p,encodeLocation(v){let _=p(v);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:d,replace:f,go(v){return o.go(v)}};return g}var OS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(OS||(OS={}));function X$(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?aa(e):e,i=cE(r.pathname||"/",n);if(i==null)return null;let s=OA(t);J$(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=aU(s[a],cU(i));return o}function OA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(It(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Rs([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(It(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),OA(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:sU(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of MA(s.path))i(s,o,l)}),e}function MA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=MA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function J$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:oU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Z$=/^:[\w-]+$/,eU=3,tU=2,nU=1,rU=10,iU=-2,MS=t=>t==="*";function sU(t,e){let n=t.split("/"),r=n.length;return n.some(MS)&&(r+=iU),e&&(r+=tU),n.filter(i=>!MS(i)).reduce((i,s)=>i+(Z$.test(s)?eU:s===""?nU:rU),r)}function oU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function aU(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=lU({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:Rs([i,c.pathname]),pathnameBase:mU(Rs([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Rs([i,c.pathnameBase]))}return s}function lU(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=uU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:f}=c;if(d==="*"){let g=a[h]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[h];return f&&!p?u[d]=void 0:u[d]=hU(p||"",d),u},{}),pathname:s,pathnameBase:o,pattern:t}}function uU(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Am(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function cU(t){try{return decodeURI(t)}catch(e){return Am(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function hU(t,e){try{return decodeURIComponent(t)}catch(n){return Am(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function cE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function dU(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?aa(t):t;return{pathname:n?n.startsWith("/")?n:fU(n,e):e,search:gU(r),hash:_U(i)}}function fU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function oy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function LA(t,e){let n=pU(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function VA(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=aa(t):(i=Bc({},t),It(!i.pathname||!i.pathname.includes("?"),oy("?","pathname","search",i)),It(!i.pathname||!i.pathname.includes("#"),oy("#","pathname","hash",i)),It(!i.search||!i.search.includes("#"),oy("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=dU(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Rs=t=>t.join("/").replace(/\/\/+/g,"/"),mU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_U=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const FA=["post","put","patch","delete"];new Set(FA);const vU=["get",...FA];new Set(vU);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(this,arguments)}const hE=E.createContext(null),wU=E.createContext(null),la=E.createContext(null),bm=E.createContext(null),Ys=E.createContext({outlet:null,matches:[],isDataRoute:!1}),$A=E.createContext(null);function EU(t,e){let{relative:n}=e===void 0?{}:e;Oh()||It(!1);let{basename:r,navigator:i}=E.useContext(la),{hash:s,pathname:o,search:a}=jA(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Rs([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Oh(){return E.useContext(bm)!=null}function Mh(){return Oh()||It(!1),E.useContext(bm).location}function UA(t){E.useContext(la).static||E.useLayoutEffect(t)}function BA(){let{isDataRoute:t}=E.useContext(Ys);return t?OU():TU()}function TU(){Oh()||It(!1);let t=E.useContext(hE),{basename:e,future:n,navigator:r}=E.useContext(la),{matches:i}=E.useContext(Ys),{pathname:s}=Mh(),o=JSON.stringify(LA(i,n.v7_relativeSplatPath)),a=E.useRef(!1);return UA(()=>{a.current=!0}),E.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=VA(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Rs([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,o,s,t])}function Jre(){let{matches:t}=E.useContext(Ys),e=t[t.length-1];return e?e.params:{}}function jA(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(la),{matches:i}=E.useContext(Ys),{pathname:s}=Mh(),o=JSON.stringify(LA(i,r.v7_relativeSplatPath));return E.useMemo(()=>VA(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function IU(t,e){return SU(t,e)}function SU(t,e,n,r){Oh()||It(!1);let{navigator:i}=E.useContext(la),{matches:s}=E.useContext(Ys),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Mh(),c;if(e){var h;let v=typeof e=="string"?aa(e):e;l==="/"||(h=v.pathname)!=null&&h.startsWith(l)||It(!1),c=v}else c=u;let d=c.pathname||"/",f=l==="/"?d:d.slice(l.length)||"/",p=X$(t,{pathname:f}),g=xU(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Rs([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Rs([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&g?E.createElement(bm.Provider,{value:{location:jc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ps.Pop}},g):g}function CU(){let t=NU(),e=yU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,s)}const RU=E.createElement(CU,null);class kU extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(Ys.Provider,{value:this.props.routeContext},E.createElement($A.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PU(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(hE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Ys.Provider,{value:e},r)}function xU(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));c>=0||It(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:f}=n,p=h.route.loader&&d[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||p){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,d)=>{let f,p=!1,g=null,v=null;n&&(f=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||RU,l&&(u<0&&d===0?(MU("route-fallback",!1),p=!0,v=null):u===d&&(p=!0,v=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,d+1)),m=()=>{let y;return f?y=g:p?y=v:h.route.Component?y=E.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=c,E.createElement(PU,{match:h,routeContext:{outlet:c,matches:_,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?E.createElement(kU,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:m(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):m()},null)}var zA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zA||{}),mp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(mp||{});function AU(t){let e=E.useContext(hE);return e||It(!1),e}function bU(t){let e=E.useContext(wU);return e||It(!1),e}function DU(t){let e=E.useContext(Ys);return e||It(!1),e}function WA(t){let e=DU(),n=e.matches[e.matches.length-1];return n.route.id||It(!1),n.route.id}function NU(){var t;let e=E.useContext($A),n=bU(mp.UseRouteError),r=WA(mp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function OU(){let{router:t}=AU(zA.UseNavigateStable),e=WA(mp.UseNavigateStable),n=E.useRef(!1);return UA(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,jc({fromRouteId:e},s)))},[t,e])}const LS={};function MU(t,e,n){!e&&!LS[t]&&(LS[t]=!0)}function We(t){It(!1)}function LU(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ps.Pop,navigator:s,static:o=!1,future:a}=t;Oh()&&It(!1);let l=e.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:l,navigator:s,static:o,future:jc({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=aa(r));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:p="default"}=r,g=E.useMemo(()=>{let v=cE(c,l);return v==null?null:{location:{pathname:v,search:h,hash:d,state:f,key:p},navigationType:i}},[l,c,h,d,f,p,i]);return g==null?null:E.createElement(la.Provider,{value:u},E.createElement(bm.Provider,{children:n,value:g}))}function VU(t){let{children:e,location:n}=t;return IU(Bv(e),n)}new Promise(()=>{});function Bv(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){n.push.apply(n,Bv(r.props.children,s));return}r.type!==We&&It(!1),!r.props.index||!r.props.children||It(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bv(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(this,arguments)}function FU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $U(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UU(t,e){return t.button===0&&(!e||e==="_self")&&!$U(t)}const BU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],jU="6";try{window.__reactRouterVersion=jU}catch{}const zU="startTransition",VS=qy[zU];function WU(t){let{basename:e,children:n,future:r,window:i}=t,s=E.useRef();s.current==null&&(s.current=Y$({window:i,v5Compat:!0}));let o=s.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=E.useCallback(h=>{u&&VS?VS(()=>l(h)):l(h)},[l,u]);return E.useLayoutEffect(()=>o.listen(c),[o,c]),E.createElement(LU,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const HU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zre=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=e,d=FU(e,BU),{basename:f}=E.useContext(la),p,g=!1;if(typeof u=="string"&&qU.test(u)&&(p=u,HU))try{let y=new URL(window.location.href),w=u.startsWith("//")?new URL(y.protocol+u):new URL(u),I=cE(w.pathname,f);w.origin===y.origin&&I!=null?u=I+w.search+w.hash:g=!0}catch{}let v=EU(u,{relative:i}),_=GU(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function m(y){r&&r(y),y.defaultPrevented||_(y)}return E.createElement("a",jv({},d,{href:p||v,onClick:g||s?r:m,ref:n,target:l}))});var FS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(FS||(FS={}));var $S;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($S||($S={}));function GU(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=BA(),u=Mh(),c=jA(t,{relative:o});return E.useCallback(h=>{if(UU(h,n)){h.preventDefault();let d=r!==void 0?r:pp(u)===pp(c);l(t,{replace:d,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function HA(t,e){localStorage.setItem(t,JSON.stringify(e))}function zv(t){let e=localStorage.getItem(t);try{return JSON.parse(e)}catch{return null}}/*! js-cookie v3.0.5 | MIT */function zd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var YU={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Wv(t,e){function n(i,s,o){if(!(typeof document>"u")){o=zd({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var l=s[a].split("="),u=l.slice(1).join("=");try{var c=decodeURIComponent(l[0]);if(o[c]=t.read(u,c),i===c)break}catch{}}return i?o[i]:o}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",zd({},s,{expires:-1}))},withAttributes:function(i){return Wv(this.converter,zd({},this.attributes,i))},withConverter:function(i){return Wv(zd({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var cc=Wv(YU,{path:"/"}),US={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(t,e){if(!t)throw Kl(e)},Kl=function(t){return new Error("Firebase Database ("+qA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},KU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},dE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new QU;const d=s<<2|a>>4;if(r.push(d),u!==64){const f=a<<4&240|u>>2;if(r.push(f),h!==64){const p=u<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class QU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YA=function(t){const e=GA(t);return dE.encodeByteArray(e,!0)},gp=function(t){return YA(t).replace(/\./g,"")},_p=function(t){try{return dE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(t){return KA(void 0,t)}function KA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!JU(n)||(t[n]=KA(t[n],e[n]));return t}function JU(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=()=>ZU().__FIREBASE_DEFAULTS__,t4=()=>{if(typeof process>"u"||typeof US>"u")return;const t=US.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},n4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_p(t[1]);return e&&JSON.parse(e)},Dm=()=>{try{return e4()||t4()||n4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QA=t=>{var e,n;return(n=(e=Dm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},XA=t=>{const e=QA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},JA=()=>{var t;return(t=Dm())===null||t===void 0?void 0:t.config},ZA=t=>{var e;return(e=Dm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[gp(JSON.stringify(n)),gp(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function r4(){var t;const e=(t=Dm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function i4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s4(){const t=St();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nb(){return qA.NODE_ADMIN===!0}function rb(){return!r4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ib(){try{return typeof indexedDB=="object"}catch{return!1}}function o4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="FirebaseError";class ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=a4,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lh.prototype.create)}}class Lh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?l4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ei(i,a,r)}}function l4(t,e){return t.replace(u4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const u4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t){return JSON.parse(t)}function Nt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=zc(_p(s[0])||""),n=zc(_p(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},c4=function(t){const e=sb(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},h4=function(t){const e=sb(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function kl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function yp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vp(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Pl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(BS(s)&&BS(o)){if(!Pl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function BS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function qu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const d=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let h=0;h<80;h++){h<40?h<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):h<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const d=(i<<5|i>>>27)+u+l+c+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function f4(t,e){const n=new p4(t,e);return n.subscribe.bind(n)}class p4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");m4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ay),i.error===void 0&&(i.error=ay),i.complete===void 0&&(i.complete=ay);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function m4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ay(){}function Uo(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,O(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Nm=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t){return t&&t._delegate?t._delegate:t}class Di{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fi;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v4(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y4(t){return t===so?void 0:t}function v4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const E4={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},T4=oe.INFO,I4={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},S4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=I4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Om{constructor(e){this.name=e,this._logLevel=T4,this._logHandler=S4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const C4=(t,e)=>e.some(n=>t instanceof n);let jS,zS;function R4(){return jS||(jS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k4(){return zS||(zS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ob=new WeakMap,Hv=new WeakMap,ab=new WeakMap,ly=new WeakMap,pE=new WeakMap;function P4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ks(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ob.set(n,t)}).catch(()=>{}),pE.set(e,t),e}function x4(t){if(Hv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Hv.set(t,e)}let qv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ab.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function A4(t){qv=t(qv)}function b4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(uy(this),e,...n);return ab.set(r,e.sort?e.sort():[e]),ks(r)}:k4().includes(t)?function(...e){return t.apply(uy(this),e),ks(ob.get(this))}:function(...e){return ks(t.apply(uy(this),e))}}function D4(t){return typeof t=="function"?b4(t):(t instanceof IDBTransaction&&x4(t),C4(t,R4())?new Proxy(t,qv):t)}function ks(t){if(t instanceof IDBRequest)return P4(t);if(ly.has(t))return ly.get(t);const e=D4(t);return e!==t&&(ly.set(t,e),pE.set(e,t)),e}const uy=t=>pE.get(t);function N4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ks(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ks(o.result),l.oldVersion,l.newVersion,ks(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const O4=["get","getKey","getAll","getAllKeys","count"],M4=["put","add","delete","clear"],cy=new Map;function WS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cy.get(e))return cy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=M4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||O4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return cy.set(e,s),s}A4(t=>({...t,get:(e,n,r)=>WS(e,n)||t.get(e,n,r),has:(e,n)=>!!WS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(V4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function V4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gv="@firebase/app",HS="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new Om("@firebase/app"),F4="@firebase/app-compat",$4="@firebase/analytics-compat",U4="@firebase/analytics",B4="@firebase/app-check-compat",j4="@firebase/app-check",z4="@firebase/auth",W4="@firebase/auth-compat",H4="@firebase/database",q4="@firebase/database-compat",G4="@firebase/functions",Y4="@firebase/functions-compat",K4="@firebase/installations",Q4="@firebase/installations-compat",X4="@firebase/messaging",J4="@firebase/messaging-compat",Z4="@firebase/performance",eB="@firebase/performance-compat",tB="@firebase/remote-config",nB="@firebase/remote-config-compat",rB="@firebase/storage",iB="@firebase/storage-compat",sB="@firebase/firestore",oB="@firebase/firestore-compat",aB="firebase",lB="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="[DEFAULT]",uB={[Gv]:"fire-core",[F4]:"fire-core-compat",[U4]:"fire-analytics",[$4]:"fire-analytics-compat",[j4]:"fire-app-check",[B4]:"fire-app-check-compat",[z4]:"fire-auth",[W4]:"fire-auth-compat",[H4]:"fire-rtdb",[q4]:"fire-rtdb-compat",[G4]:"fire-fn",[Y4]:"fire-fn-compat",[K4]:"fire-iid",[Q4]:"fire-iid-compat",[X4]:"fire-fcm",[J4]:"fire-fcm-compat",[Z4]:"fire-perf",[eB]:"fire-perf-compat",[tB]:"fire-rc",[nB]:"fire-rc-compat",[rB]:"fire-gcs",[iB]:"fire-gcs-compat",[sB]:"fire-fst",[oB]:"fire-fst-compat","fire-js":"fire-js",[aB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=new Map,Kv=new Map;function cB(t,e){try{t.container.addComponent(e)}catch(n){Bo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ms(t){const e=t.name;if(Kv.has(e))return Bo.debug(`There were multiple attempts to register component ${e}.`),!1;Kv.set(e,t);for(const n of wp.values())cB(n,t);return!0}function Vh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ps=new Lh("app","Firebase",hB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=lB;function lb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Yv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ps.create("bad-app-name",{appName:String(i)});if(n||(n=JA()),!n)throw Ps.create("no-options");const s=wp.get(i);if(s){if(Pl(n,s.options)&&Pl(r,s.config))return s;throw Ps.create("duplicate-app",{appName:i})}const o=new w4(i);for(const l of Kv.values())o.addComponent(l);const a=new dB(n,r,o);return wp.set(i,a),a}function mE(t=Yv){const e=wp.get(t);if(!e&&t===Yv&&JA())return lb();if(!e)throw Ps.create("no-app",{appName:t});return e}function ir(t,e,n){var r;let i=(r=uB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bo.warn(a.join(" "));return}Ms(new Di(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB="firebase-heartbeat-database",pB=1,Wc="firebase-heartbeat-store";let hy=null;function ub(){return hy||(hy=N4(fB,pB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ps.create("idb-open",{originalErrorMessage:t.message})})),hy}async function mB(t){try{const n=(await ub()).transaction(Wc),r=await n.objectStore(Wc).get(cb(t));return await n.done,r}catch(e){if(e instanceof ei)Bo.warn(e.message);else{const n=Ps.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bo.warn(n.message)}}}async function qS(t,e){try{const r=(await ub()).transaction(Wc,"readwrite");await r.objectStore(Wc).put(e,cb(t)),await r.done}catch(n){if(n instanceof ei)Bo.warn(n.message);else{const r=Ps.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bo.warn(r.message)}}}function cb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=1024,_B=30*24*60*60*1e3;class yB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=GS();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=_B}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=GS(),{heartbeatsToSend:r,unsentEntries:i}=vB(this._heartbeatsCache.heartbeats),s=gp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function GS(){return new Date().toISOString().substring(0,10)}function vB(t,e=gB){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),YS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),YS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class wB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ib()?o4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function YS(t){return gp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(t){Ms(new Di("platform-logger",e=>new L4(e),"PRIVATE")),Ms(new Di("heartbeat",e=>new yB(e),"PRIVATE")),ir(Gv,HS,t),ir(Gv,HS,"esm2017"),ir("fire-js","")}EB("");var TB="firebase",IB="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir(TB,IB,"app");var Qv=function(t,e){return Qv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Qv(t,e)};function eie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Qv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var KS=function(){return KS=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},KS.apply(this,arguments)};function gE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tie(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function nie(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function rie(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function hb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SB=hb,db=new Lh("auth","Firebase",hb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=new Om("@firebase/auth");function CB(t,...e){Ep.logLevel<=oe.WARN&&Ep.warn(`Auth (${Ks}): ${t}`,...e)}function If(t,...e){Ep.logLevel<=oe.ERROR&&Ep.error(`Auth (${Ks}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,...e){throw _E(t,...e)}function Kr(t,...e){return _E(t,...e)}function fb(t,e,n){const r=Object.assign(Object.assign({},SB()),{[e]:n});return new Lh("auth","Firebase",r).create(e,{appName:t.name})}function RB(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ur(t,"argument-error"),fb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _E(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return db.create(t,...e)}function Y(t,e,...n){if(!t)throw _E(e,...n)}function _i(t){const e="INTERNAL ASSERTION FAILED: "+t;throw If(e),new Error(e)}function Ni(t,e){t||_i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kB(){return QS()==="http:"||QS()==="https:"}function QS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kB()||i4()||"connection"in navigator)?navigator.onLine:!0}function xB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ni(n>e,"Short delay should be less than long delay!"),this.isMobile=fE()||tb()}get(){return PB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(t,e){Ni(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB=new Fh(3e4,6e4);function Ui(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ni(t,e,n,r,i={}){return mb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ql(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),pb.fetch()(gb(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function mb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},AB),e);try{const i=new NB(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Wd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Wd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Wd(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw fb(t,c,u);ur(t,c)}}catch(i){if(i instanceof ei)throw i;ur(t,"network-request-failed",{message:String(i)})}}async function $h(t,e,n,r,i={}){const s=await ni(t,e,n,r,i);return"mfaPendingCredential"in s&&ur(t,"multi-factor-auth-required",{_serverResponse:s}),s}function gb(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?yE(t.config,i):`${t.config.apiScheme}://${i}`}function DB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NB{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kr(this.auth,"network-request-failed")),bB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Kr(t,e,r);return i.customData._tokenResponse=n,i}function XS(t){return t!==void 0&&t.enterprise!==void 0}class OB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return DB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function MB(t,e){return ni(t,"GET","/v2/recaptchaConfig",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LB(t,e){return ni(t,"POST","/v1/accounts:delete",e)}async function VB(t,e){return ni(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FB(t,e=!1){const n=pe(t),r=await n.getIdToken(e),i=vE(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:hc(dy(i.auth_time)),issuedAtTime:hc(dy(i.iat)),expirationTime:hc(dy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function dy(t){return Number(t)*1e3}function vE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return If("JWT malformed, contained fewer than 3 sections"),null;try{const i=_p(n);return i?JSON.parse(i):(If("Failed to decode base64 JWT payload"),null)}catch(i){return If("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function $B(t){const e=vE(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ei&&UB(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function UB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await xl(t,VB(n,{idToken:r}));Y(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?WB(s.providerUserInfo):[],a=zB(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new _b(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function jB(t){const e=pe(t);await Tp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function WB(t){return t.map(e=>{var{providerId:n}=e,r=gE(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HB(t,e){const n=await mb(t,{},async()=>{const r=Ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=gb(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",pb.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qB(t,e){return ni(t,"POST","/v2/accounts:revokeToken",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$B(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Y(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await HB(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Hc;return r&&(Y(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Y(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hc,this.toJSON())}_performRefresh(){return _i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Po{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=gE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _b(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await xl(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FB(this,e)}reload(){return jB(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Po(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Tp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await xl(this,LB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:w,isAnonymous:I,providerData:C,stsTokenManager:S}=n;Y(y&&S,e,"internal-error");const D=Hc.fromJSON(this.name,S);Y(typeof y=="string",e,"internal-error"),Xi(h,e.name),Xi(d,e.name),Y(typeof w=="boolean",e,"internal-error"),Y(typeof I=="boolean",e,"internal-error"),Xi(f,e.name),Xi(p,e.name),Xi(g,e.name),Xi(v,e.name),Xi(_,e.name),Xi(m,e.name);const K=new Po({uid:y,auth:e,email:d,emailVerified:w,displayName:h,isAnonymous:I,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:D,createdAt:_,lastLoginAt:m});return C&&Array.isArray(C)&&(K.providerData=C.map($=>Object.assign({},$))),v&&(K._redirectEventId=v),K}static async _fromIdTokenResponse(e,n,r=!1){const i=new Hc;i.updateFromServerResponse(n);const s=new Po({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Tp(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=new Map;function yi(t){Ni(t instanceof Function,"Expected a class definition");let e=JS.get(t);return e?(Ni(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,JS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yb.type="NONE";const ZS=yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t,e,n){return`firebase:${t}:${e}:${n}`}class ol{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Sf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Sf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Po._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ol(yi(ZS),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||yi(ZS);const o=Sf(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=Po._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ol(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ol(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Eb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ib(e))return"Blackberry";if(Sb(e))return"Webos";if(wE(e))return"Safari";if((e.includes("chrome/")||wb(e))&&!e.includes("edge/"))return"Chrome";if(Tb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vb(t=St()){return/firefox\//i.test(t)}function wE(t=St()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wb(t=St()){return/crios\//i.test(t)}function Eb(t=St()){return/iemobile/i.test(t)}function Tb(t=St()){return/android/i.test(t)}function Ib(t=St()){return/blackberry/i.test(t)}function Sb(t=St()){return/webos/i.test(t)}function Mm(t=St()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GB(t=St()){var e;return Mm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YB(){return s4()&&document.documentMode===10}function Cb(t=St()){return Mm(t)||Tb(t)||Sb(t)||Ib(t)||/windows phone/i.test(t)||Eb(t)}function KB(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t,e=[]){let n;switch(t){case"Browser":n=eC(St());break;case"Worker":n=`${eC(St())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ks}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XB(t,e={}){return ni(t,"GET","/v2/passwordPolicy",Ui(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=6;class ZB{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:JB,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tC(this),this.idTokenSubscription=new tC(this),this.beforeStateQueue=new QB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ol.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Tp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?pe(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XB(this),n=new ZB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yi(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await ol.create(this,[yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&CB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Bi(t){return pe(t)}class tC{constructor(e){this.auth=e,this.observer=null,this.addObserver=f4(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t5(t){Lm=t}function kb(t){return Lm.loadJS(t)}function n5(){return Lm.recaptchaEnterpriseScript}function r5(){return Lm.gapiScript}function i5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const s5="recaptcha-enterprise",o5="NO_RECAPTCHA";class a5{constructor(e){this.type=s5,this.auth=Bi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{MB(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new OB(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;XS(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(o5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&XS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=n5();l.length!==0&&(l+=a),kb(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function nC(t,e,n,r=!1){const i=new a5(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ip(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await nC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await nC(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t,e){const n=Vh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Pl(s,e??{}))return i;ur(i,"already-initialized")}return n.initialize({options:e})}function u5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function c5(t,e,n){const r=Bi(t);Y(r._canInitEmulator,r,"emulator-config-failed"),Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Pb(e),{host:o,port:a}=h5(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||d5()}function Pb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function h5(t){const e=Pb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:rC(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:rC(o)}}}function rC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function d5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _i("not implemented")}_getIdTokenResponse(e){return _i("not implemented")}_linkToIdToken(e,n){return _i("not implemented")}_getReauthenticationResolver(e){return _i("not implemented")}}async function f5(t,e){return ni(t,"POST","/v1/accounts:update",e)}async function p5(t,e){return ni(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5(t,e){return $h(t,"POST","/v1/accounts:signInWithPassword",Ui(t,e))}async function g5(t,e){return ni(t,"POST","/v1/accounts:sendOobCode",Ui(t,e))}async function _5(t,e){return g5(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y5(t,e){return $h(t,"POST","/v1/accounts:signInWithEmailLink",Ui(t,e))}async function v5(t,e){return $h(t,"POST","/v1/accounts:signInWithEmailLink",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends EE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new qc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new qc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ip(e,n,"signInWithPassword",m5);case"emailLink":return y5(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ip(e,r,"signUpPassword",p5);case"emailLink":return v5(e,{idToken:n,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(t,e){return $h(t,"POST","/v1/accounts:signInWithIdp",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="http://localhost";class jo extends EE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new jo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=gE(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new jo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return al(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,al(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,al(e,n)}buildRequest(){const e={requestUri:w5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ql(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function T5(t){const e=Hu(qu(t)).link,n=e?Hu(qu(e)).deep_link_id:null,r=Hu(qu(t)).deep_link_id;return(r?Hu(qu(r)).link:null)||r||n||e||t}class TE{constructor(e){var n,r,i,s,o,a;const l=Hu(qu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=E5((i=l.mode)!==null&&i!==void 0?i:null);Y(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=T5(e);try{return new TE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(){this.providerId=Xl.PROVIDER_ID}static credential(e,n){return qc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=TE.parseLink(n);return Y(r,"argument-error"),qc._fromEmailAndCode(e,r.code,r.tenantId)}}Xl.PROVIDER_ID="password";Xl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends IE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Uh{constructor(){super("facebook.com")}static credential(e){return jo._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Uh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return jo._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return pi.credential(n,r)}catch{return null}}}pi.GOOGLE_SIGN_IN_METHOD="google.com";pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Uh{constructor(){super("github.com")}static credential(e){return jo._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Uh{constructor(){super("twitter.com")}static credential(e,n){return jo._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return as.credential(n,r)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I5(t,e){return $h(t,"POST","/v1/accounts:signUp",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Po._fromIdTokenResponse(e,r,i),o=iC(r);return new zo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=iC(r);return new zo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function iC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp extends ei{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Sp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Sp(e,n,r,i)}}function xb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Sp._fromErrorAndOperation(t,s,e,r):s})}async function S5(t,e,n=!1){const r=await xl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return zo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ab(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await xl(t,xb(r,i,e,t),n);Y(s.idToken,r,"internal-error");const o=vE(s.idToken);Y(o,r,"internal-error");const{sub:a}=o;return Y(t.uid===a,r,"user-mismatch"),zo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ur(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bb(t,e,n=!1){const r="signIn",i=await xb(t,r,e),s=await zo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function C5(t,e){return bb(Bi(t),e)}async function iie(t,e){return Ab(pe(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t,e,n){var r;Y(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Y(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Y(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Y(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Db(t){const e=Bi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sie(t,e,n){const r=Bi(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&R5(r,i,n),await Ip(r,i,"getOobCode",_5)}async function oie(t,e,n){const r=Bi(t),o=await Ip(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",I5).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Db(t),l}),a=await zo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function aie(t,e,n){return C5(pe(t),Xl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Db(t),r})}function lie(t,e){return k5(pe(t),null,e)}async function k5(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await xl(t,f5(r,s));await t._updateTokensIfNecessary(o,!0)}function P5(t,e,n,r){return pe(t).onIdTokenChanged(e,n,r)}function x5(t,e,n){return pe(t).beforeAuthStateChanged(e,n)}function uie(t,e,n,r){return pe(t).onAuthStateChanged(e,n,r)}function cie(t){return pe(t).signOut()}const Cp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cp,"1"),this.storage.removeItem(Cp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(){const t=St();return wE(t)||Mm(t)}const b5=1e3,D5=10;class Ob extends Nb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=A5()&&KB(),this.fallbackToPolling=Cb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);YB()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,D5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},b5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ob.type="LOCAL";const N5=Ob;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb extends Nb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Mb.type="SESSION";const Lb=Mb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Vm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await O5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=SE("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(){return window}function L5(t){Qr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(){return typeof Qr().WorkerGlobalScope<"u"&&typeof Qr().importScripts=="function"}async function V5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $5(){return Vb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="firebaseLocalStorageDb",U5=1,Rp="firebaseLocalStorage",$b="fbase_key";class Bh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fm(t,e){return t.transaction([Rp],e?"readwrite":"readonly").objectStore(Rp)}function B5(){const t=indexedDB.deleteDatabase(Fb);return new Bh(t).toPromise()}function Jv(){const t=indexedDB.open(Fb,U5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rp,{keyPath:$b})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rp)?e(r):(r.close(),await B5(),e(await Jv()))})})}async function sC(t,e,n){const r=Fm(t,!0).put({[$b]:e,value:n});return new Bh(r).toPromise()}async function j5(t,e){const n=Fm(t,!1).get(e),r=await new Bh(n).toPromise();return r===void 0?null:r.value}function oC(t,e){const n=Fm(t,!0).delete(e);return new Bh(n).toPromise()}const z5=800,W5=3;class Ub{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>W5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vm._getInstance($5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await V5(),!this.activeServiceWorker)return;this.sender=new M5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jv();return await sC(e,Cp,"1"),await oC(e,Cp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>j5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>oC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Fm(i,!1).getAll();return new Bh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ub.type="LOCAL";const H5=Ub;new Fh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t,e){return e?yi(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE extends EE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return al(e,this._buildIdpRequest())}_linkToIdToken(e,n){return al(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return al(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function q5(t){return bb(t.auth,new CE(t),t.bypassAuthState)}function G5(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),Ab(n,new CE(t),t.bypassAuthState)}async function Y5(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),S5(n,new CE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return q5;case"linkViaPopup":case"linkViaRedirect":return Y5;case"reauthViaPopup":case"reauthViaRedirect":return G5;default:ur(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=new Fh(2e3,1e4);async function hie(t,e,n){const r=Bi(t);RB(t,e,IE);const i=Bb(r,n);return new yo(r,"signInViaPopup",e,i).executeNotNull()}class yo extends jb{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Y(e,this.auth,"internal-error"),e}async onExecution(){Ni(this.filter.length===1,"Popup operations only handle one event");const e=SE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,K5.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5="pendingRedirect",Cf=new Map;class X5 extends jb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cf.get(this.auth._key());if(!e){try{const r=await J5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cf.set(this.auth._key(),e)}return this.bypassAuthState||Cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J5(t,e){const n=t3(e),r=e3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Z5(t,e){Cf.set(t._key(),e)}function e3(t){return yi(t._redirectPersistence)}function t3(t){return Sf(Q5,t.config.apiKey,t.name)}async function n3(t,e,n=!1){const r=Bi(t),i=Bb(r,e),o=await new X5(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=10*60*1e3;class i3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!s3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r3&&this.cachedEventUids.clear(),this.cachedEventUids.has(aC(e))}saveEventToCache(e){this.cachedEventUids.add(aC(e)),this.lastProcessedEventTime=Date.now()}}function aC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function s3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o3(t,e={}){return ni(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l3=/^https?/;async function u3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await o3(t);for(const n of e)try{if(c3(n))return}catch{}ur(t,"unauthorized-domain")}function c3(t){const e=Xv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!l3.test(n))return!1;if(a3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=new Fh(3e4,6e4);function lC(){const t=Qr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function d3(t){return new Promise((e,n)=>{var r,i,s;function o(){lC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lC(),n(Kr(t,"network-request-failed"))},timeout:h3.get()})}if(!((i=(r=Qr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Qr().gapi)===null||s===void 0)&&s.load)o();else{const a=i5("iframefcb");return Qr()[a]=()=>{gapi.load?o():n(Kr(t,"network-request-failed"))},kb(`${r5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Rf=null,e})}let Rf=null;function f3(t){return Rf=Rf||d3(t),Rf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=new Fh(5e3,15e3),m3="__/auth/iframe",g3="emulator/auth/iframe",_3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v3(t){const e=t.config;Y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yE(e,g3):`https://${t.config.authDomain}/${m3}`,r={apiKey:e.apiKey,appName:t.name,v:Ks},i=y3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ql(r).slice(1)}`}async function w3(t){const e=await f3(t),n=Qr().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:v3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Kr(t,"network-request-failed"),a=Qr().setTimeout(()=>{s(o)},p3.get());function l(){Qr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T3=500,I3=600,S3="_blank",C3="http://localhost";class uC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R3(t,e,n,r=T3,i=I3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},E3),{width:r.toString(),height:i.toString(),top:s,left:o}),u=St().toLowerCase();n&&(a=wb(u)?S3:n),vb(u)&&(e=e||C3,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[f,p])=>`${d}${f}=${p},`,"");if(GB(u)&&a!=="_self")return k3(e||"",a),new uC(null);const h=window.open(e||"",a,c);Y(h,t,"popup-blocked");try{h.focus()}catch{}return new uC(h)}function k3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="__/auth/handler",x3="emulator/auth/handler",A3=encodeURIComponent("fac");async function cC(t,e,n,r,i,s){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ks,eventId:i};if(e instanceof IE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",yp(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof Uh){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${A3}=${encodeURIComponent(l)}`:"";return`${b3(t)}?${Ql(a).slice(1)}${u}`}function b3({config:t}){return t.emulator?yE(t,x3):`https://${t.authDomain}/${P3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="webStorageSupport";class D3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lb,this._completeRedirectFn=n3,this._overrideRedirectResult=Z5}async _openPopup(e,n,r,i){var s;Ni((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await cC(e,n,r,Xv(),i);return R3(e,o,SE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await cC(e,n,r,Xv(),i);return L5(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ni(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await w3(e),r=new i3(e);return n.register("authEvent",i=>(Y(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fy,{type:fy},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[fy];o!==void 0&&n(!!o),ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=u3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Cb()||wE()||Mm()}}const N3=D3;var hC="@firebase/auth",dC="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L3(t){Ms(new Di("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Y(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rb(t)},u=new e5(r,i,s,l);return u5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ms(new Di("auth-internal",e=>{const n=Bi(e.getProvider("auth").getImmediate());return(r=>new O3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ir(hC,dC,M3(t)),ir(hC,dC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3=5*60,F3=ZA("authIdTokenMaxAge")||V3;let fC=null;const $3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>F3)return;const i=n==null?void 0:n.token;fC!==i&&(fC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function U3(t=mE()){const e=Vh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=l5(t,{popupRedirectResolver:N3,persistence:[H5,N5,Lb]}),r=ZA("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const s=$3(r);x5(n,s,()=>s(n.currentUser)),P5(n,o=>s(o))}const i=QA("auth");return i&&c5(n,`http://${i}`),n}function B3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}t5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Kr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",B3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L3("Browser");var j3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V,RE=RE||{},J=j3||self;function $m(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function jh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function z3(t){return Object.prototype.hasOwnProperty.call(t,py)&&t[py]||(t[py]=++W3)}var py="closure_uid_"+(1e9*Math.random()>>>0),W3=0;function H3(t,e,n){return t.call.apply(t.bind,arguments)}function q3(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function tn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?tn=H3:tn=q3,tn.apply(null,arguments)}function Hd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Lt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Qs(){this.s=this.s,this.o=this.o}var G3=0;Qs.prototype.s=!1;Qs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),G3!=0)&&z3(this)};Qs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Wb=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function kE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function pC(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if($m(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function nn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}nn.prototype.h=function(){this.defaultPrevented=!0};var Y3=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};J.addEventListener("test",n,e),J.removeEventListener("test",n,e)}catch{}return t}();function Gc(t){return/^[\s\xa0]*$/.test(t)}function Um(){var t=J.navigator;return t&&(t=t.userAgent)?t:""}function $r(t){return Um().indexOf(t)!=-1}function PE(t){return PE[" "](t),t}PE[" "]=function(){};function K3(t,e){var n=B6;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Q3=$r("Opera"),Al=$r("Trident")||$r("MSIE"),Hb=$r("Edge"),Zv=Hb||Al,qb=$r("Gecko")&&!(Um().toLowerCase().indexOf("webkit")!=-1&&!$r("Edge"))&&!($r("Trident")||$r("MSIE"))&&!$r("Edge"),X3=Um().toLowerCase().indexOf("webkit")!=-1&&!$r("Edge");function Gb(){var t=J.document;return t?t.documentMode:void 0}var e0;e:{var my="",gy=function(){var t=Um();if(qb)return/rv:([^\);]+)(\)|;)/.exec(t);if(Hb)return/Edge\/([\d\.]+)/.exec(t);if(Al)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(X3)return/WebKit\/(\S+)/.exec(t);if(Q3)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(gy&&(my=gy?gy[1]:""),Al){var _y=Gb();if(_y!=null&&_y>parseFloat(my)){e0=String(_y);break e}}e0=my}var t0;if(J.document&&Al){var mC=Gb();t0=mC||parseInt(e0,10)||void 0}else t0=void 0;var J3=t0;function Yc(t,e){if(nn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(qb){e:{try{PE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Z3[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Yc.$.h.call(this)}}Lt(Yc,nn);var Z3={2:"touch",3:"pen",4:"mouse"};Yc.prototype.h=function(){Yc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var zh="closure_listenable_"+(1e6*Math.random()|0),e6=0;function t6(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++e6,this.fa=this.ia=!1}function Bm(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function xE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function n6(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Yb(t){const e={};for(const n in t)e[n]=t[n];return e}const gC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kb(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<gC.length;s++)n=gC[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function jm(t){this.src=t,this.g={},this.h=0}jm.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=r0(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new t6(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function n0(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Wb(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Bm(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function r0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var AE="closure_lm_"+(1e6*Math.random()|0),yy={};function Qb(t,e,n,r,i){if(r&&r.once)return Jb(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Qb(t,e[s],n,r,i);return null}return n=NE(n),t&&t[zh]?t.O(e,n,jh(r)?!!r.capture:!!r,i):Xb(t,e,n,!1,r,i)}function Xb(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=jh(i)?!!i.capture:!!i,a=DE(t);if(a||(t[AE]=a=new jm(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=r6(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Y3||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(eD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function r6(){function t(n){return e.call(t.src,t.listener,n)}const e=i6;return t}function Jb(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Jb(t,e[s],n,r,i);return null}return n=NE(n),t&&t[zh]?t.P(e,n,jh(r)?!!r.capture:!!r,i):Xb(t,e,n,!0,r,i)}function Zb(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Zb(t,e[s],n,r,i);else r=jh(r)?!!r.capture:!!r,n=NE(n),t&&t[zh]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=r0(s,n,r,i),-1<n&&(Bm(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=DE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=r0(e,n,r,i)),(n=-1<t?e[t]:null)&&bE(n))}function bE(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[zh])n0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(eD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=DE(e))?(n0(n,t),n.h==0&&(n.src=null,e[AE]=null)):Bm(t)}}}function eD(t){return t in yy?yy[t]:yy[t]="on"+t}function i6(t,e){if(t.fa)t=!0;else{e=new Yc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&bE(t),t=n.call(r,e)}return t}function DE(t){return t=t[AE],t instanceof jm?t:null}var vy="__closure_events_fn_"+(1e9*Math.random()>>>0);function NE(t){return typeof t=="function"?t:(t[vy]||(t[vy]=function(e){return t.handleEvent(e)}),t[vy])}function Mt(){Qs.call(this),this.i=new jm(this),this.S=this,this.J=null}Lt(Mt,Qs);Mt.prototype[zh]=!0;Mt.prototype.removeEventListener=function(t,e,n,r){Zb(this,t,e,n,r)};function Ht(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new nn(e,t);else if(e instanceof nn)e.target=e.target||t;else{var i=e;e=new nn(r,t),Kb(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=qd(o,r,!0,e)&&i}if(o=e.g=t,i=qd(o,r,!0,e)&&i,i=qd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=qd(o,r,!1,e)&&i}Mt.prototype.N=function(){if(Mt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Bm(n[r]);delete t.g[e],t.h--}}this.J=null};Mt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Mt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function qd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&n0(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var OE=J.JSON.stringify;class s6{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function o6(){var t=ME;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class a6{constructor(){this.h=this.g=null}add(e,n){const r=tD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var tD=new s6(()=>new l6,t=>t.reset());class l6{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function u6(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function c6(t){J.setTimeout(()=>{throw t},0)}let Kc,Qc=!1,ME=new a6,nD=()=>{const t=J.Promise.resolve(void 0);Kc=()=>{t.then(h6)}};var h6=()=>{for(var t;t=o6();){try{t.h.call(t.g)}catch(n){c6(n)}var e=tD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Qc=!1};function zm(t,e){Mt.call(this),this.h=t||1,this.g=e||J,this.j=tn(this.qb,this),this.l=Date.now()}Lt(zm,Mt);V=zm.prototype;V.ga=!1;V.T=null;V.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ht(this,"tick"),this.ga&&(LE(this),this.start()))}};V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function LE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}V.N=function(){zm.$.N.call(this),LE(this),delete this.g};function VE(t,e,n){if(typeof t=="function")n&&(t=tn(t,n));else if(t&&typeof t.handleEvent=="function")t=tn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function rD(t){t.g=VE(()=>{t.g=null,t.i&&(t.i=!1,rD(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class d6 extends Qs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rD(this)}N(){super.N(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xc(t){Qs.call(this),this.h=t,this.g={}}Lt(Xc,Qs);var _C=[];function iD(t,e,n,r){Array.isArray(n)||(n&&(_C[0]=n.toString()),n=_C);for(var i=0;i<n.length;i++){var s=Qb(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function sD(t){xE(t.g,function(e,n){this.g.hasOwnProperty(n)&&bE(e)},t),t.g={}}Xc.prototype.N=function(){Xc.$.N.call(this),sD(this)};Xc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Wm(){this.g=!0}Wm.prototype.Ea=function(){this.g=!1};function f6(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function p6(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Qa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+g6(t,n)+(r?" "+r:"")})}function m6(t,e){t.info(function(){return"TIMEOUT: "+e})}Wm.prototype.info=function(){};function g6(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return OE(n)}catch{return e}}var ua={},yC=null;function Hm(){return yC=yC||new Mt}ua.Ta="serverreachability";function oD(t){nn.call(this,ua.Ta,t)}Lt(oD,nn);function Jc(t){const e=Hm();Ht(e,new oD(e))}ua.STAT_EVENT="statevent";function aD(t,e){nn.call(this,ua.STAT_EVENT,t),this.stat=e}Lt(aD,nn);function dn(t){const e=Hm();Ht(e,new aD(e,t))}ua.Ua="timingevent";function lD(t,e){nn.call(this,ua.Ua,t),this.size=e}Lt(lD,nn);function Wh(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}var qm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},uD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function FE(){}FE.prototype.h=null;function vC(t){return t.h||(t.h=t.i())}function cD(){}var Hh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $E(){nn.call(this,"d")}Lt($E,nn);function UE(){nn.call(this,"c")}Lt(UE,nn);var i0;function Gm(){}Lt(Gm,FE);Gm.prototype.g=function(){return new XMLHttpRequest};Gm.prototype.i=function(){return{}};i0=new Gm;function qh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Xc(this),this.P=_6,t=Zv?125:void 0,this.V=new zm(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hD}function hD(){this.i=null,this.g="",this.h=!1}var _6=45e3,dD={},s0={};V=qh.prototype;V.setTimeout=function(t){this.P=t};function o0(t,e,n){t.L=1,t.A=Km(Oi(e)),t.u=n,t.S=!0,fD(t,null)}function fD(t,e){t.G=Date.now(),Gh(t),t.B=Oi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),ED(n.i,"t",r),t.o=0,n=t.l.J,t.h=new hD,t.g=jD(t.l,n?e:null,!t.u),0<t.O&&(t.M=new d6(tn(t.Pa,t,t.g),t.O)),iD(t.U,t.g,"readystatechange",t.nb),e=t.I?Yb(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Jc(),f6(t.j,t.v,t.B,t.m,t.W,t.u)}V.nb=function(t){t=t.target;const e=this.M;e&&Br(t)==3?e.l():this.Pa(t)};V.Pa=function(t){try{if(t==this.g)e:{const c=Br(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||Zv||this.g&&(this.h.h||this.g.ja()||IC(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?Jc(3):Jc(2)),Ym(this);var n=this.g.da();this.ca=n;t:if(pD(this)){var r=IC(this.g);t="";var i=r.length,s=Br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vo(this),dc(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,p6(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gc(a)){var u=a;break t}}u=null}if(n=u)Qa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,a0(this,n);else{this.i=!1,this.s=3,dn(12),vo(this),dc(this);break e}}this.S?(mD(this,c,o),Zv&&this.i&&c==3&&(iD(this.U,this.V,"tick",this.mb),this.V.start())):(Qa(this.j,this.m,o,null),a0(this,o)),c==4&&vo(this),this.i&&!this.J&&(c==4?FD(this.l,this):(this.i=!1,Gh(this)))}else F6(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,dn(12)):(this.s=0,dn(13)),vo(this),dc(this)}}}catch{}finally{}};function pD(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function mD(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=y6(t,n),i==s0){e==4&&(t.s=4,dn(14),r=!1),Qa(t.j,t.m,null,"[Incomplete Response]");break}else if(i==dD){t.s=4,dn(15),Qa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Qa(t.j,t.m,i,null),a0(t,i);pD(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,dn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),qE(e),e.M=!0,dn(11))):(Qa(t.j,t.m,n,"[Invalid Chunked Response]"),vo(t),dc(t))}V.mb=function(){if(this.g){var t=Br(this.g),e=this.g.ja();this.o<e.length&&(Ym(this),mD(this,t,e),this.i&&t!=4&&Gh(this))}};function y6(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?s0:(n=Number(e.substring(n,r)),isNaN(n)?dD:(r+=1,r+n>e.length?s0:(e=e.slice(r,r+n),t.o=r+n,e)))}V.cancel=function(){this.J=!0,vo(this)};function Gh(t){t.Y=Date.now()+t.P,gD(t,t.P)}function gD(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Wh(tn(t.lb,t),e)}function Ym(t){t.C&&(J.clearTimeout(t.C),t.C=null)}V.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(m6(this.j,this.B),this.L!=2&&(Jc(),dn(17)),vo(this),this.s=2,dc(this)):gD(this,this.Y-t)};function dc(t){t.l.H==0||t.J||FD(t.l,t)}function vo(t){Ym(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,LE(t.V),sD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function a0(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||l0(n.i,t))){if(!t.K&&l0(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)xp(n),Zm(n);else break e;HE(n),dn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Wh(tn(n.ib,n),6e3));if(1>=SD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else wo(n,11)}else if((t.K||n.g==t)&&xp(n),!Gc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(BE(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,$e(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=BD(r,r.J?r.pa:null,r.Y),o.K){CD(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Ym(a),Gh(a)),r.g=o}else LD(r);0<n.j.length&&eg(n)}else u[0]!="stop"&&u[0]!="close"||wo(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?wo(n,7):WE(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Jc(4)}catch{}}function v6(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if($m(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function w6(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if($m(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function _D(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if($m(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=w6(t),r=v6(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var yD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function E6(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function xo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof xo){this.h=t.h,kp(this,t.j),this.s=t.s,this.g=t.g,Pp(this,t.m),this.l=t.l;var e=t.i,n=new Zc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),wC(this,n),this.o=t.o}else t&&(e=String(t).match(yD))?(this.h=!1,kp(this,e[1]||"",!0),this.s=Gu(e[2]||""),this.g=Gu(e[3]||"",!0),Pp(this,e[4]),this.l=Gu(e[5]||"",!0),wC(this,e[6]||"",!0),this.o=Gu(e[7]||"")):(this.h=!1,this.i=new Zc(null,this.h))}xo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Yu(e,EC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Yu(e,EC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Yu(n,n.charAt(0)=="/"?S6:I6,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Yu(n,R6)),t.join("")};function Oi(t){return new xo(t)}function kp(t,e,n){t.j=n?Gu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Pp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function wC(t,e,n){e instanceof Zc?(t.i=e,k6(t.i,t.h)):(n||(e=Yu(e,C6)),t.i=new Zc(e,t.h))}function $e(t,e,n){t.i.set(e,n)}function Km(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Gu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Yu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,T6),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function T6(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var EC=/[#\/\?@]/g,I6=/[#\?:]/g,S6=/[#\?]/g,C6=/[#\?@]/g,R6=/#/g;function Zc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Xs(t){t.g||(t.g=new Map,t.h=0,t.i&&E6(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}V=Zc.prototype;V.add=function(t,e){Xs(this),this.i=null,t=Jl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function vD(t,e){Xs(t),e=Jl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function wD(t,e){return Xs(t),e=Jl(t,e),t.g.has(e)}V.forEach=function(t,e){Xs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};V.ta=function(){Xs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};V.Z=function(t){Xs(this);let e=[];if(typeof t=="string")wD(this,t)&&(e=e.concat(this.g.get(Jl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};V.set=function(t,e){return Xs(this),this.i=null,t=Jl(this,t),wD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};V.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function ED(t,e,n){vD(t,e),0<n.length&&(t.i=null,t.g.set(Jl(t,e),kE(n)),t.h+=n.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Jl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function k6(t,e){e&&!t.j&&(Xs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(vD(this,r),ED(this,i,n))},t)),t.j=e}var P6=class{constructor(t,e){this.g=t,this.map=e}};function TD(t){this.l=t||x6,J.PerformanceNavigationTiming?(t=J.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(J.g&&J.g.Ka&&J.g.Ka()&&J.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var x6=10;function ID(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function SD(t){return t.h?1:t.g?t.g.size:0}function l0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function BE(t,e){t.g?t.g.add(e):t.h=e}function CD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}TD.prototype.cancel=function(){if(this.i=RD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function RD(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return kE(t.i)}var A6=class{stringify(t){return J.JSON.stringify(t,void 0)}parse(t){return J.JSON.parse(t,void 0)}};function b6(){this.g=new A6}function D6(t,e,n){const r=n||"";try{_D(t,function(i,s){let o=i;jh(i)&&(o=OE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function N6(t,e){const n=new Wm;if(J.Image){const r=new Image;r.onload=Hd(Gd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Hd(Gd,n,r,"TestLoadImage: error",!1,e),r.onabort=Hd(Gd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hd(Gd,n,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Gd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Qm(t){this.l=t.ec||null,this.j=t.ob||!1}Lt(Qm,FE);Qm.prototype.g=function(){return new Xm(this.l,this.j)};Qm.prototype.i=function(t){return function(){return t}}({});function Xm(t,e){Mt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=jE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Lt(Xm,Mt);var jE=0;V=Xm.prototype;V.open=function(t,e){if(this.readyState!=jE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,eh(this)};V.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||J).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yh(this)),this.readyState=jE};V.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,eh(this)),this.g&&(this.readyState=3,eh(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kD(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function kD(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}V.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Yh(this):eh(this),this.readyState==3&&kD(this)}};V.Za=function(t){this.g&&(this.response=this.responseText=t,Yh(this))};V.Ya=function(t){this.g&&(this.response=t,Yh(this))};V.ka=function(){this.g&&Yh(this)};function Yh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,eh(t)}V.setRequestHeader=function(t,e){this.v.append(t,e)};V.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function eh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Xm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var O6=J.JSON.parse;function ct(t){Mt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=PD,this.L=this.M=!1}Lt(ct,Mt);var PD="",M6=/^https?$/i,L6=["POST","PUT"];V=ct.prototype;V.Oa=function(t){this.M=t};V.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():i0.g(),this.C=this.u?vC(this.u):vC(i0),this.g.onreadystatechange=tn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){TC(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=J.FormData&&t instanceof J.FormData,!(0<=Wb(L6,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{bD(this),0<this.B&&((this.L=V6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tn(this.ua,this)):this.A=VE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){TC(this,s)}};function V6(t){return Al&&typeof t.timeout=="number"&&t.ontimeout!==void 0}V.ua=function(){typeof RE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ht(this,"timeout"),this.abort(8))};function TC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,xD(t),Jm(t)}function xD(t){t.F||(t.F=!0,Ht(t,"complete"),Ht(t,"error"))}V.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ht(this,"complete"),Ht(this,"abort"),Jm(this))};V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jm(this,!0)),ct.$.N.call(this)};V.La=function(){this.s||(this.G||this.v||this.l?AD(this):this.kb())};V.kb=function(){AD(this)};function AD(t){if(t.h&&typeof RE<"u"&&(!t.C[1]||Br(t)!=4||t.da()!=2)){if(t.v&&Br(t)==4)VE(t.La,0,t);else if(Ht(t,"readystatechange"),Br(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(yD)[1]||null;!i&&J.self&&J.self.location&&(i=J.self.location.protocol.slice(0,-1)),r=!M6.test(i?i.toLowerCase():"")}n=r}if(n)Ht(t,"complete"),Ht(t,"success");else{t.m=6;try{var s=2<Br(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",xD(t)}}finally{Jm(t)}}}}function Jm(t,e){if(t.g){bD(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ht(t,"ready");try{n.onreadystatechange=r}catch{}}}function bD(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}V.isActive=function(){return!!this.g};function Br(t){return t.g?t.g.readyState:0}V.da=function(){try{return 2<Br(this)?this.g.status:-1}catch{return-1}};V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),O6(e)}};function IC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case PD:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function F6(t){const e={};t=(t.g&&2<=Br(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Gc(t[r]))continue;var n=u6(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}n6(e,function(r){return r.join(", ")})}V.Ia=function(){return this.m};V.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function DD(t){let e="";return xE(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function zE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=DD(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):$e(t,e,n))}function Cu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ND(t){this.Ga=0,this.j=[],this.l=new Wm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Cu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Cu("baseRetryDelayMs",5e3,t),this.hb=Cu("retryDelaySeedMs",1e4,t),this.eb=Cu("forwardChannelMaxRetries",2,t),this.xa=Cu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new TD(t&&t.concurrentRequestLimit),this.Ja=new b6,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}V=ND.prototype;V.ra=8;V.H=1;function WE(t){if(OD(t),t.H==3){var e=t.W++,n=Oi(t.I);if($e(n,"SID",t.K),$e(n,"RID",e),$e(n,"TYPE","terminate"),Kh(t,n),e=new qh(t,t.l,e),e.L=2,e.A=Km(Oi(n)),n=!1,J.navigator&&J.navigator.sendBeacon)try{n=J.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&J.Image&&(new Image().src=e.A,n=!0),n||(e.g=jD(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Gh(e)}UD(t)}function Zm(t){t.g&&(qE(t),t.g.cancel(),t.g=null)}function OD(t){Zm(t),t.u&&(J.clearTimeout(t.u),t.u=null),xp(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&J.clearTimeout(t.m),t.m=null)}function eg(t){if(!ID(t.i)&&!t.m){t.m=!0;var e=t.Na;Kc||nD(),Qc||(Kc(),Qc=!0),ME.add(e,t),t.C=0}}function $6(t,e){return SD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Wh(tn(t.Na,t,e),$D(t,t.C)),t.C++,!0)}V.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new qh(this,this.l,t);let s=this.s;if(this.U&&(s?(s=Yb(s),Kb(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=MD(this,i,e),n=Oi(this.I),$e(n,"RID",t),$e(n,"CVER",22),this.F&&$e(n,"X-HTTP-Session-Id",this.F),Kh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(DD(s)))+"&"+e:this.o&&zE(n,this.o,s)),BE(this.i,i),this.bb&&$e(n,"TYPE","init"),this.P?($e(n,"$req",e),$e(n,"SID","null"),i.aa=!0,o0(i,n,null)):o0(i,n,e),this.H=2}}else this.H==3&&(t?SC(this,t):this.j.length==0||ID(this.i)||SC(this))};function SC(t,e){var n;e?n=e.m:n=t.W++;const r=Oi(t.I);$e(r,"SID",t.K),$e(r,"RID",n),$e(r,"AID",t.V),Kh(t,r),t.o&&t.s&&zE(r,t.o,t.s),n=new qh(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=MD(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),BE(t.i,n),o0(n,r,e)}function Kh(t,e){t.na&&xE(t.na,function(n,r){$e(e,r,n)}),t.h&&_D({},function(n,r){$e(e,r,n)})}function MD(t,e,n){n=Math.min(t.j.length,n);var r=t.h?tn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{D6(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function LD(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Kc||nD(),Qc||(Kc(),Qc=!0),ME.add(e,t),t.A=0}}function HE(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Wh(tn(t.Ma,t),$D(t,t.A)),t.A++,!0)}V.Ma=function(){if(this.u=null,VD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Wh(tn(this.jb,this),t)}};V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,dn(10),Zm(this),VD(this))};function qE(t){t.B!=null&&(J.clearTimeout(t.B),t.B=null)}function VD(t){t.g=new qh(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Oi(t.wa);$e(e,"RID","rpc"),$e(e,"SID",t.K),$e(e,"AID",t.V),$e(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&$e(e,"TO",t.qa),$e(e,"TYPE","xmlhttp"),Kh(t,e),t.o&&t.s&&zE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Km(Oi(e)),n.u=null,n.S=!0,fD(n,t)}V.ib=function(){this.v!=null&&(this.v=null,Zm(this),HE(this),dn(19))};function xp(t){t.v!=null&&(J.clearTimeout(t.v),t.v=null)}function FD(t,e){var n=null;if(t.g==e){xp(t),qE(t),t.g=null;var r=2}else if(l0(t.i,e))n=e.F,CD(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Hm(),Ht(r,new lD(r,n)),eg(t)}else LD(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&$6(t,e)||r==2&&HE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:wo(t,5);break;case 4:wo(t,10);break;case 3:wo(t,6);break;default:wo(t,2)}}}function $D(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function wo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=tn(t.pb,t);n||(n=new xo("//www.google.com/images/cleardot.gif"),J.location&&J.location.protocol=="http"||kp(n,"https"),Km(n)),N6(n.toString(),r)}else dn(2);t.H=0,t.h&&t.h.za(e),UD(t),OD(t)}V.pb=function(t){t?(this.l.info("Successfully pinged google.com"),dn(2)):(this.l.info("Failed to ping google.com"),dn(1))};function UD(t){if(t.H=0,t.ma=[],t.h){const e=RD(t.i);(e.length!=0||t.j.length!=0)&&(pC(t.ma,e),pC(t.ma,t.j),t.i.i.length=0,kE(t.j),t.j.length=0),t.h.ya()}}function BD(t,e,n){var r=n instanceof xo?Oi(n):new xo(n);if(r.g!="")e&&(r.g=e+"."+r.g),Pp(r,r.m);else{var i=J.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new xo(null);r&&kp(s,r),e&&(s.g=e),i&&Pp(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&$e(r,n,e),$e(r,"VER",t.ra),Kh(t,r),r}function jD(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ct(new Qm({ob:n})):new ct(t.va),e.Oa(t.J),e}V.isActive=function(){return!!this.h&&this.h.isActive(this)};function zD(){}V=zD.prototype;V.Ba=function(){};V.Aa=function(){};V.za=function(){};V.ya=function(){};V.isActive=function(){return!0};V.Va=function(){};function Ap(){if(Al&&!(10<=Number(J3)))throw Error("Environmental error: no available transport.")}Ap.prototype.g=function(t,e){return new Bn(t,e)};function Bn(t,e){Mt.call(this),this.g=new ND(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Gc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Zl(this)}Lt(Bn,Mt);Bn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;dn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=BD(t,null,t.Y),eg(t)};Bn.prototype.close=function(){WE(this.g)};Bn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=OE(t),t=n);e.j.push(new P6(e.fb++,t)),e.H==3&&eg(e)};Bn.prototype.N=function(){this.g.h=null,delete this.j,WE(this.g),delete this.g,Bn.$.N.call(this)};function WD(t){$E.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Lt(WD,$E);function HD(){UE.call(this),this.status=1}Lt(HD,UE);function Zl(t){this.g=t}Lt(Zl,zD);Zl.prototype.Ba=function(){Ht(this.g,"a")};Zl.prototype.Aa=function(t){Ht(this.g,new WD(t))};Zl.prototype.za=function(t){Ht(this.g,new HD)};Zl.prototype.ya=function(){Ht(this.g,"b")};function U6(){this.blockSize=-1}function Pr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Lt(Pr,U6);Pr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function wy(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Pr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)wy(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){wy(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){wy(this,r),i=0;break}}this.h=i,this.i+=e};Pr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Pe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var B6={};function GE(t){return-128<=t&&128>t?K3(t,function(e){return new Pe([e|0],0>e?-1:0)}):new Pe([t|0],0>t?-1:0)}function jr(t){if(isNaN(t)||!isFinite(t))return ll;if(0>t)return jt(jr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=u0;return new Pe(e,0)}function qD(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return jt(qD(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=jr(Math.pow(e,8)),r=ll,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=jr(Math.pow(e,s)),r=r.R(s).add(jr(o))):(r=r.R(n),r=r.add(jr(o)))}return r}var u0=4294967296,ll=GE(0),c0=GE(1),CC=GE(16777216);V=Pe.prototype;V.ea=function(){if(Zn(this))return-jt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:u0+r)*e,e*=u0}return t};V.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(vi(this))return"0";if(Zn(this))return"-"+jt(this).toString(t);for(var e=jr(Math.pow(t,6)),n=this,r="";;){var i=Dp(n,e).g;n=bp(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,vi(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};V.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function vi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Zn(t){return t.h==-1}V.X=function(t){return t=bp(this,t),Zn(t)?-1:vi(t)?0:1};function jt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Pe(n,~t.h).add(c0)}V.abs=function(){return Zn(this)?jt(this):this};V.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Pe(n,n[n.length-1]&-2147483648?-1:0)};function bp(t,e){return t.add(jt(e))}V.R=function(t){if(vi(this)||vi(t))return ll;if(Zn(this))return Zn(t)?jt(this).R(jt(t)):jt(jt(this).R(t));if(Zn(t))return jt(this.R(jt(t)));if(0>this.X(CC)&&0>t.X(CC))return jr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Yd(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Yd(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Yd(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Yd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Pe(n,0)};function Yd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ru(t,e){this.g=t,this.h=e}function Dp(t,e){if(vi(e))throw Error("division by zero");if(vi(t))return new Ru(ll,ll);if(Zn(t))return e=Dp(jt(t),e),new Ru(jt(e.g),jt(e.h));if(Zn(e))return e=Dp(t,jt(e)),new Ru(jt(e.g),e.h);if(30<t.g.length){if(Zn(t)||Zn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=c0,r=e;0>=r.X(t);)n=RC(n),r=RC(r);var i=va(n,1),s=va(r,1);for(r=va(r,2),n=va(n,2);!vi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=va(r,1),n=va(n,1)}return e=bp(t,i.R(e)),new Ru(i,e)}for(i=ll;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=jr(n),o=s.R(e);Zn(o)||0<o.X(t);)n-=r,s=jr(n),o=s.R(e);vi(s)&&(s=c0),i=i.add(s),t=bp(t,o)}return new Ru(i,t)}V.gb=function(t){return Dp(this,t).h};V.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Pe(n,this.h&t.h)};V.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Pe(n,this.h|t.h)};V.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Pe(n,this.h^t.h)};function RC(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Pe(n,t.h)}function va(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Pe(i,t.h)}Ap.prototype.createWebChannel=Ap.prototype.g;Bn.prototype.send=Bn.prototype.u;Bn.prototype.open=Bn.prototype.m;Bn.prototype.close=Bn.prototype.close;qm.NO_ERROR=0;qm.TIMEOUT=8;qm.HTTP_ERROR=6;uD.COMPLETE="complete";cD.EventType=Hh;Hh.OPEN="a";Hh.CLOSE="b";Hh.ERROR="c";Hh.MESSAGE="d";Mt.prototype.listen=Mt.prototype.O;ct.prototype.listenOnce=ct.prototype.P;ct.prototype.getLastError=ct.prototype.Sa;ct.prototype.getLastErrorCode=ct.prototype.Ia;ct.prototype.getStatus=ct.prototype.da;ct.prototype.getResponseJson=ct.prototype.Wa;ct.prototype.getResponseText=ct.prototype.ja;ct.prototype.send=ct.prototype.ha;ct.prototype.setWithCredentials=ct.prototype.Oa;Pr.prototype.digest=Pr.prototype.l;Pr.prototype.reset=Pr.prototype.reset;Pr.prototype.update=Pr.prototype.j;Pe.prototype.add=Pe.prototype.add;Pe.prototype.multiply=Pe.prototype.R;Pe.prototype.modulo=Pe.prototype.gb;Pe.prototype.compare=Pe.prototype.X;Pe.prototype.toNumber=Pe.prototype.ea;Pe.prototype.toString=Pe.prototype.toString;Pe.prototype.getBits=Pe.prototype.D;Pe.fromNumber=jr;Pe.fromString=qD;var j6=function(){return new Ap},z6=function(){return Hm()},Ey=qm,W6=uD,H6=ua,kC={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Kd=cD,q6=ct,G6=Pr,ul=Pe;const PC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=new Om("@firebase/firestore");function Da(){return Wo.logLevel}function P(t,...e){if(Wo.logLevel<=oe.DEBUG){const n=e.map(YE);Wo.debug(`Firestore (${eu}): ${t}`,...n)}}function hn(t,...e){if(Wo.logLevel<=oe.ERROR){const n=e.map(YE);Wo.error(`Firestore (${eu}): ${t}`,...n)}}function Ho(t,...e){if(Wo.logLevel<=oe.WARN){const n=e.map(YE);Wo.warn(`Firestore (${eu}): ${t}`,...n)}}function YE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(t="Unexpected state"){const e=`FIRESTORE (${eu}) INTERNAL ASSERTION FAILED: `+t;throw hn(e),new Error(e)}function W(t,e){t||j()}function X(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class N extends ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class Q6{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new sr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{P("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(P("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new sr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(P("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(W(typeof r.accessToken=="string"),new Y6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return W(e===null||typeof e=="string"),new cn(e)}}class X6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class J6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new X6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ej{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&P("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,P("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{P("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):P("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(W(typeof n.token=="string"),this.R=n.token,new Z6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=tj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Z(t,e){return t<e?-1:t>e?1:0}function bl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function YD(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new N(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new N(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new N(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new N(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new et(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new et(0,0))}static max(){return new q(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,r){n===void 0?n=0:n>e.length&&j(),r===void 0?r=e.length-n:r>e.length-n&&j(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return th.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof th?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Te extends th{construct(e,n,r){return new Te(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new N(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const nj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends th{construct(e,n,r){return new Je(e,n,r)}static isValidIdentifier(e){return nj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Je(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new N(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new N(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new N(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new N(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Je(n)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.path=e}static fromPath(e){return new L(Te.fromString(e))}static fromName(e){return new L(Te.fromString(e).popFirst(5))}static empty(){return new L(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new L(new Te(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function h0(t){return t.fields.find(e=>e.kind===2)}function oo(t){return t.fields.filter(e=>e.kind!==2)}Np.UNKNOWN_ID=-1;class kf{constructor(e,n){this.fieldPath=e,this.kind=n}}class nh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new nh(0,jn.min())}}function rj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=q.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new jn(i,L.empty(),e)}function KD(t){return new jn(t.readTime,t.key,-1)}class jn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new jn(q.min(),L.empty(),-1)}static max(){return new jn(q.max(),L.empty(),-1)}}function KE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=L.comparator(t.documentKey,e.documentKey),n!==0?n:Z(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(t){if(t.code!==R.FAILED_PRECONDITION||t.message!==QD)throw t;P("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&j(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new T((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof T?n:T.resolve(n)}catch(n){return T.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):T.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):T.reject(n)}static resolve(e){return new T((n,r)=>{n(e)})}static reject(e){return new T((n,r)=>{r(e)})}static waitFor(e){return new T((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=T.resolve(!1);for(const r of e)n=n.next(i=>i?T.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new T((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new T((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new sr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new fc(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=QE(r.target.error);this.V.reject(new fc(e,i))}}static open(e,n,r,i){try{return new tg(n,e.transaction(i,r))}catch(s){throw new fc(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(P("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new sj(n)}}class zr{constructor(e,n,r){this.name=e,this.version=n,this.p=r,zr.S(St())===12.2&&hn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return P("SimpleDb","Removing database:",e),co(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!ib())return!1;if(zr.C())return!0;const e=St(),n=zr.S(e),r=0<n&&n<10,i=zr.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(P("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new fc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new N(R.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new N(R.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new fc(e,o))},i.onupgradeneeded=s=>{P("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{P("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=tg.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),T.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(P("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class ij{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return co(this.k.delete())}}class fc extends N{constructor(e,n){super(R.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Js(t){return t.name==="IndexedDbTransactionError"}class sj{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(P("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(P("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),co(r)}add(e){return P("SimpleDb","ADD",this.store.name,e,e),co(this.store.add(e))}get(e){return co(this.store.get(e)).next(n=>(n===void 0&&(n=null),P("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return P("SimpleDb","DELETE",this.store.name,e),co(this.store.delete(e))}count(){return P("SimpleDb","COUNT",this.store.name),co(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new T((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new T((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){P("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new T((r,i)=>{n.onerror=s=>{const o=QE(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new T((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new ij(a),u=n(a.primaryKey,a.value,l);if(u instanceof T){const c=u.catch(h=>(l.done(),T.reject(h)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>T.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function co(t){return new T((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=QE(r.target.error);n(i)}})}let xC=!1;function QE(t){const e=zr.S(St());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new N("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xC||(xC=!0,setTimeout(()=>{throw r},0)),r}}return t}class oj{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){P("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{P("IndexBackfiller",`Documents written: ${await this.X.te()}`)}catch(n){Js(n)?P("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await ca(n)}await this.ee(6e4)})}}class aj{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let i=n,s=!0;return T.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return P("IndexBackfiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(P("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=KD(s);KE(o,r)>0&&(r=o)}),new jn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}tr._e=-1;function ng(t){return t==null}function rh(t){return t===0&&1/t==-1/0}function lj(t){return typeof t=="number"&&Number.isInteger(t)&&!rh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=AC(e)),e=uj(t.get(n),e);return AC(e)}function uj(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function AC(t){return t+""}function Wr(t){const e=t.length;if(W(e>=2),e===2)return W(t.charAt(0)===""&&t.charAt(1)===""),Te.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&j(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:j()}s=o+2}return new Te(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(t,e){return[t,pn(e)]}function JD(t,e,n){return[t,pn(e),n]}const cj={},hj=["prefixPath","collectionGroup","readTime","documentId"],dj=["prefixPath","collectionGroup","documentId"],fj=["collectionGroup","readTime","prefixPath","documentId"],pj=["canonicalId","targetId"],mj=["targetId","path"],gj=["path","targetId"],_j=["collectionId","parent"],yj=["indexId","uid"],vj=["uid","sequenceNumber"],wj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ej=["indexId","uid","orderedDocumentKey"],Tj=["userId","collectionPath","documentId"],Ij=["userId","collectionPath","largestBatchId"],Sj=["userId","collectionGroup","largestBatchId"],ZD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Cj=[...ZD,"documentOverlays"],eN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],tN=eN,Rj=[...tN,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0 extends XD{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Vt(t,e){const n=X(t);return zr.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ha(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gt=class f0{constructor(e,n){this.comparator=e,this.root=n||xs.EMPTY}insert(e,n){return new f0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xs.BLACK,null,null))}remove(e){return new f0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qd(this.root,e,this.comparator,!0)}},Qd=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},xs=class ui{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ui.RED,this.left=i??ui.EMPTY,this.right=s??ui.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ui(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ui.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ui.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw j();const e=this.left.check();if(e!==this.right.check())throw j();return e+(this.isRed()?0:1)}};xs.EMPTY=null,xs.RED=!0,xs.BLACK=!1;xs.EMPTY=new class{constructor(){this.size=0}get key(){throw j()}get value(){throw j()}get color(){throw j()}get left(){throw j()}get right(){throw j()}copy(e,n,r,i,s){return this}insert(e,n,r){return new xs(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NC(this.data.getIterator())}getIteratorFrom(e){return new NC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new be(this.comparator);return n.data=e,n}}class NC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wa(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Je.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new be(Je.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new rN("Invalid base64 string: "+s):s}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const kj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(t){if(W(!!t),typeof t=="string"){let e=0;const n=kj.exec(t);if(W(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vs(t){return typeof t=="string"?Gt.fromBase64String(t):Gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function XE(t){const e=t.mapValue.fields.__previous_value__;return rg(e)?XE(e):e}function ih(t){const e=Ls(t.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class qo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new qo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof qo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},xf={nullValue:"NULL_VALUE"};function Go(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rg(t)?4:iN(t)?9007199254740991:10:j()}function Jr(t,e){if(t===e)return!0;const n=Go(t);if(n!==Go(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ih(t).isEqual(ih(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ls(i.timestampValue),a=Ls(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Vs(i.bytesValue).isEqual(Vs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return lt(i.geoPointValue.latitude)===lt(s.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return lt(i.integerValue)===lt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=lt(i.doubleValue),a=lt(s.doubleValue);return o===a?rh(o)===rh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return bl(t.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(DC(o)!==DC(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Jr(o[l],a[l])))return!1;return!0}(t,e);default:return j()}}function sh(t,e){return(t.values||[]).find(n=>Jr(n,e))!==void 0}function Fs(t,e){if(t===e)return 0;const n=Go(t),r=Go(e);if(n!==r)return Z(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Z(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=lt(s.integerValue||s.doubleValue),l=lt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return OC(t.timestampValue,e.timestampValue);case 4:return OC(ih(t),ih(e));case 5:return Z(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Vs(s),l=Vs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Z(a[u],l[u]);if(c!==0)return c}return Z(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Z(lt(s.latitude),lt(o.latitude));return a!==0?a:Z(lt(s.longitude),lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Fs(a[u],l[u]);if(c)return c}return Z(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ms.mapValue&&o===ms.mapValue)return 0;if(s===ms.mapValue)return 1;if(o===ms.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=Z(l[h],c[h]);if(d!==0)return d;const f=Fs(a[l[h]],u[c[h]]);if(f!==0)return f}return Z(l.length,c.length)}(t.mapValue,e.mapValue);default:throw j()}}function OC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Z(t,e);const n=Ls(t),r=Ls(e),i=Z(n.seconds,r.seconds);return i!==0?i:Z(n.nanos,r.nanos)}function Dl(t){return p0(t)}function p0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ls(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return L.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=p0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${p0(n.fields[o])}`;return i+"}"}(t.mapValue):j()}function Yo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function m0(t){return!!t&&"integerValue"in t}function oh(t){return!!t&&"arrayValue"in t}function MC(t){return!!t&&"nullValue"in t}function LC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Af(t){return!!t&&"mapValue"in t}function pc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ha(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function iN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function xj(t){return"nullValue"in t?xf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Yo(qo.empty(),L.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:j()}function Aj(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Yo(qo.empty(),L.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?ms:j()}function VC(t,e){const n=Fs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function FC(t,e){const n=Fs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Af(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pc(n)}setAll(e){let n=Je.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=pc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Af(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Af(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ha(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Zt(pc(this.value))}}function sN(t){const e=[];return ha(t.fields,(n,r)=>{const i=new Je([n]);if(Af(r)){const s=sN(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ut(e,0,q.min(),q.min(),q.min(),Zt.empty(),0)}static newFoundDocument(e,n,r,i){return new ut(e,1,n,q.min(),r,i,0)}static newNoDocument(e,n){return new ut(e,2,n,q.min(),q.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new ut(e,3,n,q.min(),q.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n){this.position=e,this.inclusive=n}}function $C(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=L.comparator(L.fromName(o.referenceValue),n.key):r=Fs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function UC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function bj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{}class ue extends oN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Dj(e,n,r):n==="array-contains"?new Mj(e,r):n==="in"?new dN(e,r):n==="not-in"?new Lj(e,r):n==="array-contains-any"?new Vj(e,r):new ue(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Nj(e,r):new Oj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fs(n,this.value)):n!==null&&Go(this.value)===Go(n)&&this.matchesComparison(Fs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return j()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Re extends oN{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Re(e,n)}matches(e){return Nl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Nl(t){return t.op==="and"}function g0(t){return t.op==="or"}function JE(t){return aN(t)&&Nl(t)}function aN(t){for(const e of t.filters)if(e instanceof Re)return!1;return!0}function _0(t){if(t instanceof ue)return t.field.canonicalString()+t.op.toString()+Dl(t.value);if(JE(t))return t.filters.map(e=>_0(e)).join(",");{const e=t.filters.map(n=>_0(n)).join(",");return`${t.op}(${e})`}}function lN(t,e){return t instanceof ue?function(r,i){return i instanceof ue&&r.op===i.op&&r.field.isEqual(i.field)&&Jr(r.value,i.value)}(t,e):t instanceof Re?function(r,i){return i instanceof Re&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&lN(o,i.filters[a]),!0):!1}(t,e):void j()}function uN(t,e){const n=t.filters.concat(e);return Re.create(n,t.op)}function cN(t){return t instanceof ue?function(n){return`${n.field.canonicalString()} ${n.op} ${Dl(n.value)}`}(t):t instanceof Re?function(n){return n.op.toString()+" {"+n.getFilters().map(cN).join(" ,")+"}"}(t):"Filter"}class Dj extends ue{constructor(e,n,r){super(e,n,r),this.key=L.fromName(r.referenceValue)}matches(e){const n=L.comparator(e.key,this.key);return this.matchesComparison(n)}}class Nj extends ue{constructor(e,n){super(e,"in",n),this.keys=hN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Oj extends ue{constructor(e,n){super(e,"not-in",n),this.keys=hN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>L.fromName(r.referenceValue))}class Mj extends ue{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return oh(n)&&sh(n.arrayValue,this.value)}}class dN extends ue{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sh(this.value.arrayValue,n)}}class Lj extends ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(sh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!sh(this.value.arrayValue,n)}}class Vj extends ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!oh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>sh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function y0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Fj(t,e,n,r,i,s,o)}function Ko(t){const e=X(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ng(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Dl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Dl(r)).join(",")),e.ce=n}return e.ce}function Qh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UC(t.startAt,e.startAt)&&UC(t.endAt,e.endAt)}function Op(t){return L.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Mp(t,e){return t.filters.filter(n=>n instanceof ue&&n.field.isEqual(e))}function BC(t,e,n){let r=xf,i=!0;for(const s of Mp(t,e)){let o=xf,a=!0;switch(s.op){case"<":case"<=":o=xj(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=xf}VC({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];VC({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function jC(t,e,n){let r=ms,i=!0;for(const s of Mp(t,e)){let o=ms,a=!0;switch(s.op){case">=":case">":o=Aj(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=ms}FC({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];FC({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function $j(t,e,n,r,i,s,o,a){return new da(t,e,n,r,i,s,o,a)}function Xh(t){return new da(t)}function zC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZE(t){return t.collectionGroup!==null}function cl(t){const e=X(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new be(Je.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new ah(s,r))}),n.has(Je.keyField().canonicalString())||e.le.push(new ah(Je.keyField(),r))}return e.le}function or(t){const e=X(t);return e.he||(e.he=fN(e,cl(t))),e.he}function fN(t,e){if(t.limitType==="F")return y0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ah(i.field,s)});const n=t.endAt?new $s(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $s(t.startAt.position,t.startAt.inclusive):null;return y0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function v0(t,e){const n=t.filters.concat([e]);return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Lp(t,e,n){return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ig(t,e){return Qh(or(t),or(e))&&t.limitType===e.limitType}function pN(t){return`${Ko(or(t))}|lt:${t.limitType}`}function Na(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>cN(i)).join(", ")}]`),ng(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Dl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Dl(i)).join(",")),`Target(${r})`}(or(t))}; limitType=${t.limitType})`}function Jh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):L.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of cl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=$C(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,cl(r),i)||r.endAt&&!function(o,a,l){const u=$C(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,cl(r),i))}(t,e)}function Uj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mN(t){return(e,n)=>{let r=!1;for(const i of cl(t)){const s=Bj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Bj(t,e,n){const r=t.field.isKeyField()?L.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Fs(l,u):j()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return j()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return nN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=new gt(L.comparator);function Ln(){return jj}const gN=new gt(L.comparator);function Ku(...t){let e=gN;for(const n of t)e=e.insert(n.key,n);return e}function _N(t){let e=gN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hr(){return mc()}function yN(){return mc()}function mc(){return new Zs(t=>t.toString(),(t,e)=>t.isEqual(e))}const zj=new gt(L.comparator),Wj=new be(L.comparator);function ie(...t){let e=Wj;for(const n of t)e=e.add(n);return e}const Hj=new be(Z);function qj(){return Hj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function wN(t){return{integerValue:""+t}}function Gj(t,e){return lj(e)?wN(e):vN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this._=void 0}}function Yj(t,e,n){return t instanceof Ol?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&rg(s)&&(s=XE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Qo?TN(t,e):t instanceof Ml?IN(t,e):function(i,s){const o=EN(i,s),a=WC(o)+WC(i.Ie);return m0(o)&&m0(i.Ie)?wN(a):vN(i.serializer,a)}(t,e)}function Kj(t,e,n){return t instanceof Qo?TN(t,e):t instanceof Ml?IN(t,e):n}function EN(t,e){return t instanceof lh?function(r){return m0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ol extends sg{}class Qo extends sg{constructor(e){super(),this.elements=e}}function TN(t,e){const n=SN(e);for(const r of t.elements)n.some(i=>Jr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ml extends sg{constructor(e){super(),this.elements=e}}function IN(t,e){let n=SN(e);for(const r of t.elements)n=n.filter(i=>!Jr(i,r));return{arrayValue:{values:n}}}class lh extends sg{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function WC(t){return lt(t.integerValue||t.doubleValue)}function SN(t){return oh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n){this.field=e,this.transform=n}}function Qj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qo&&i instanceof Qo||r instanceof Ml&&i instanceof Ml?bl(r.elements,i.elements,Jr):r instanceof lh&&i instanceof lh?Jr(r.Ie,i.Ie):r instanceof Ol&&i instanceof Ol}(t.transform,e.transform)}class Xj{constructor(e,n){this.version=e,this.transformResults=n}}class en{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new en}static exists(e){return new en(void 0,e)}static updateTime(e){return new en(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class og{}function CN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ag(t.key,en.none()):new tu(t.key,t.data,en.none());{const n=t.data,r=Zt.empty();let i=new be(Je.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ji(t.key,r,new Sn(i.toArray()),en.none())}}function Jj(t,e,n){t instanceof tu?function(i,s,o){const a=i.value.clone(),l=qC(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ji?function(i,s,o){if(!bf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=qC(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(RN(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function gc(t,e,n,r){return t instanceof tu?function(s,o,a,l){if(!bf(s.precondition,o))return a;const u=s.value.clone(),c=GC(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ji?function(s,o,a,l){if(!bf(s.precondition,o))return a;const u=GC(s.fieldTransforms,l,o),c=o.data;return c.setAll(RN(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return bf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Zj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=EN(r.transform,i||null);s!=null&&(n===null&&(n=Zt.empty()),n.set(r.field,s))}return n||null}function HC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&bl(r,i,(s,o)=>Qj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tu extends og{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ji extends og{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function RN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qC(t,e,n){const r=new Map;W(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Kj(o,a,n[i]))}return r}function GC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Yj(s,o,e))}return r}class ag extends og{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kN extends og{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Jj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yN();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=CN(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,(n,r)=>HC(n,r))&&bl(this.baseMutations,e.baseMutations,(n,r)=>HC(n,r))}}class nT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){W(e.mutations.length===r.length);let i=function(){return zj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new nT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,fe;function nz(t){switch(t){default:return j();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function PN(t){if(t===void 0)return hn("GRPC error has no .code"),R.UNKNOWN;switch(t){case vt.OK:return R.OK;case vt.CANCELLED:return R.CANCELLED;case vt.UNKNOWN:return R.UNKNOWN;case vt.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case vt.INTERNAL:return R.INTERNAL;case vt.UNAVAILABLE:return R.UNAVAILABLE;case vt.UNAUTHENTICATED:return R.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case vt.NOT_FOUND:return R.NOT_FOUND;case vt.ALREADY_EXISTS:return R.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return R.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case vt.ABORTED:return R.ABORTED;case vt.OUT_OF_RANGE:return R.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return R.UNIMPLEMENTED;case vt.DATA_LOSS:return R.DATA_LOSS;default:return j()}}(fe=vt||(vt={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz=new ul([4294967295,4294967295],0);function YC(t){const e=rz().encode(t),n=new G6;return n.update(e),new Uint8Array(n.digest())}function KC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ul([n,r],0),new ul([i,s],0)]}class iT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qu(`Invalid padding: ${n}`);if(r<0)throw new Qu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ul.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(ul.fromNumber(r)));return i.compare(iz)===1&&(i=new ul([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=YC(e),[r,i]=KC(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new iT(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=YC(e),[r,i]=KC(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Qu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Zh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new lg(q.min(),i,new gt(Z),Ln(),ie())}}class Zh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zh(r,n,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class xN{constructor(e,n){this.targetId=e,this.fe=n}}class AN{constructor(e,n,r=Gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class QC{constructor(){this.ge=0,this.pe=JC(),this.ye=Gt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ie(),n=ie(),r=ie();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:j()}}),new Zh(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=JC()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,W(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class sz{constructor(e){this.Be=e,this.ke=new Map,this.qe=Ln(),this.Qe=XC(),this.Ke=new gt(Z)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:j()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Op(s))if(r===0){const o=new L(s.path);this.We(n,o,ut.newNoDocument(o,q.min()))}else W(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Vs(r).toUint8Array()}catch(l){if(l instanceof rN)return Ho("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new iT(o,i,s)}catch(l){return Ho(l instanceof Qu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Op(a.target)){const l=new L(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,ut.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ie();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new lg(e,n,this.Ke,this.qe,r);return this.qe=Ln(),this.Qe=XC(),this.Ke=new gt(Z),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new QC,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new be(Z),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||P("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new QC),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function XC(){return new gt(L.comparator)}function JC(){return new gt(L.comparator)}const oz={asc:"ASCENDING",desc:"DESCENDING"},az={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lz={and:"AND",or:"OR"};class uz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function w0(t,e){return t.useProto3Json||ng(e)?e:{value:e}}function Ll(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cz(t,e){return Ll(t,e.toTimestamp())}function mn(t){return W(!!t),q.fromTimestamp(function(n){const r=Ls(n);return new et(r.seconds,r.nanos)}(t))}function sT(t,e){return E0(t,e).canonicalString()}function E0(t,e){const n=function(i){return new Te(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function DN(t){const e=Te.fromString(t);return W(UN(e)),e}function Vp(t,e){return sT(t.databaseId,e.path)}function Ao(t,e){const n=DN(e);if(n.get(1)!==t.databaseId.projectId)throw new N(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new N(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new L(MN(n))}function NN(t,e){return sT(t.databaseId,e)}function ON(t){const e=DN(t);return e.length===4?Te.emptyPath():MN(e)}function T0(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MN(t){return W(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ZC(t,e,n){return{name:Vp(t,e),fields:n.value.mapValue.fields}}function hz(t,e,n){const r=Ao(t,e.name),i=mn(e.updateTime),s=e.createTime?mn(e.createTime):q.min(),o=new Zt({mapValue:{fields:e.fields}}),a=ut.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function dz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:j()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(W(c===void 0||typeof c=="string"),Gt.fromBase64String(c||"")):(W(c===void 0||c instanceof Uint8Array),Gt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?R.UNKNOWN:PN(u.code);return new N(c,u.message||"")}(o);n=new AN(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ao(t,r.document.name),s=mn(r.document.updateTime),o=r.document.createTime?mn(r.document.createTime):q.min(),a=new Zt({mapValue:{fields:r.document.fields}}),l=ut.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Df(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ao(t,r.document),s=r.readTime?mn(r.readTime):q.min(),o=ut.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Df([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ao(t,r.document),s=r.removedTargetIds||[];n=new Df([],s,i,null)}else{if(!("filter"in e))return j();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new tz(i,s),a=r.targetId;n=new xN(a,o)}}return n}function Fp(t,e){let n;if(e instanceof tu)n={update:ZC(t,e.key,e.value)};else if(e instanceof ag)n={delete:Vp(t,e.key)};else if(e instanceof ji)n={update:ZC(t,e.key,e.data),updateMask:yz(e.fieldMask)};else{if(!(e instanceof kN))return j();n={verify:Vp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ol)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ml)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof lh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw j()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:cz(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:j()}(t,e.precondition)),n}function I0(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?en.updateTime(mn(s.updateTime)):s.exists!==void 0?en.exists(s.exists):en.none()}(e.currentDocument):en.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)W(a.setToServerValue==="REQUEST_TIME"),l=new Ol;else if("appendMissingElements"in a){const c=a.appendMissingElements.values||[];l=new Qo(c)}else if("removeAllFromArray"in a){const c=a.removeAllFromArray.values||[];l=new Ml(c)}else"increment"in a?l=new lh(o,a.increment):j();const u=Je.fromServerFormat(a.fieldPath);return new eT(u,l)}(t,i)):[];if(e.update){e.update.name;const i=Ao(t,e.update.name),s=new Zt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new Sn(u.map(c=>Je.fromServerFormat(c)))}(e.updateMask);return new ji(i,s,o,n,r)}return new tu(i,s,n,r)}if(e.delete){const i=Ao(t,e.delete);return new ag(i,n)}if(e.verify){const i=Ao(t,e.verify);return new kN(i,n)}return j()}function fz(t,e){return t&&t.length>0?(W(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?mn(i.updateTime):mn(s);return o.isEqual(q.min())&&(o=mn(s)),new Xj(o,i.transformResults||[])}(n,e))):[]}function LN(t,e){return{documents:[NN(t,e.path)]}}function oT(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=NN(t,i);const s=function(u){if(u.length!==0)return $N(Re.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:ls(d.field),direction:mz(d.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=w0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function VN(t){let e=ON(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){W(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const d=FN(h);return d instanceof Re&&JE(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(p){return new ah(Oa(p.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,ng(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new $s(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,f=h.values||[];return new $s(f,d)}(n.endAt)),$j(e,i,o,s,a,"F",l,u)}function pz(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return j()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Oa(n.unaryFilter.field);return ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Oa(n.unaryFilter.field);return ue.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Oa(n.unaryFilter.field);return ue.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Oa(n.unaryFilter.field);return ue.create(o,"!=",{nullValue:"NULL_VALUE"});default:return j()}}(t):t.fieldFilter!==void 0?function(n){return ue.create(Oa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return j()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Re.create(n.compositeFilter.filters.map(r=>FN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return j()}}(n.compositeFilter.op))}(t):j()}function mz(t){return oz[t]}function gz(t){return az[t]}function _z(t){return lz[t]}function ls(t){return{fieldPath:t.canonicalString()}}function Oa(t){return Je.fromServerFormat(t.fieldPath)}function $N(t){return t instanceof ue?function(n){if(n.op==="=="){if(LC(n.value))return{unaryFilter:{field:ls(n.field),op:"IS_NAN"}};if(MC(n.value))return{unaryFilter:{field:ls(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LC(n.value))return{unaryFilter:{field:ls(n.field),op:"IS_NOT_NAN"}};if(MC(n.value))return{unaryFilter:{field:ls(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ls(n.field),op:gz(n.op),value:n.value}}}(t):t instanceof Re?function(n){const r=n.getFilters().map(i=>$N(i));return r.length===1?r[0]:{compositeFilter:{op:_z(n.op),filters:r}}}(t):j()}function yz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function UN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n,r,i,s=q.min(),o=q.min(),a=Gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.ct=e}}function vz(t,e){let n;if(e.document)n=hz(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=L.fromSegments(e.noDocument.path),i=Jo(e.noDocument.readTime);n=ut.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return j();{const r=L.fromSegments(e.unknownDocument.path),i=Jo(e.unknownDocument.version);n=ut.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new et(i[0],i[1]);return q.fromTimestamp(s)}(e.readTime)),n}function eR(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:$p(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Vp(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Ll(s,o.version.toTimestamp()),createTime:Ll(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Xo(e.version)};else{if(!e.isUnknownDocument())return j();r.unknownDocument={path:n.path.toArray(),version:Xo(e.version)}}return r}function $p(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Xo(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Jo(t){const e=new et(t.seconds,t.nanoseconds);return q.fromTimestamp(e)}function ho(t,e){const n=(e.baseMutations||[]).map(s=>I0(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>I0(t.ct,s)),i=et.fromMillis(e.localWriteTimeMs);return new tT(e.batchId,i,n,r)}function Xu(t){const e=Jo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Jo(t.lastLimboFreeSnapshotVersion):q.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return W(s.documents.length===1),or(Xh(ON(s.documents[0])))}(t.query):function(s){return or(VN(s))}(t.query),new wi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Gt.fromBase64String(t.resumeToken))}function jN(t,e){const n=Xo(e.snapshotVersion),r=Xo(e.lastLimboFreeSnapshotVersion);let i;i=Op(e.target)?LN(t.ct,e.target):oT(t.ct,e.target).ut;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ko(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function zN(t){const e=VN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lp(e,e.limit,"L"):e}function Ty(t,e){return new rT(e.largestBatchId,I0(t.ct,e.overlayMutation))}function tR(t,e){const n=e.path.lastSegment();return[t,pn(e.path.popLast()),n]}function nR(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Xo(r.readTime),documentKey:pn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{getBundleMetadata(e,n){return rR(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Jo(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return rR(e).put(function(i){return{bundleId:i.id,createTime:Xo(mn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return iR(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:zN(s.bundledQuery),readTime:Jo(s.readTime)}}(r)})}saveNamedQuery(e,n){return iR(e).put(function(i){return{name:i.name,readTime:Xo(mn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function rR(t){return Vt(t,"bundles")}function iR(t){return Vt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new ug(e,r)}getOverlay(e,n){return ku(e).get(tR(this.userId,n)).next(r=>r?Ty(this.serializer,r):null)}getOverlays(e,n){const r=Hr();return T.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new rT(n,o);i.push(this.ht(e,a))}),T.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(pn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(ku(e).H("collectionPathOverlayIndex",a))}),T.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Hr(),s=pn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return ku(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=Ty(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Hr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return ku(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const h=Ty(this.serializer,u);s.size()<i||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):c.done()}).next(()=>s)}ht(e,n){return ku(e).put(function(i,s,o){const[a,l,u]=tR(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Fp(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function ku(t){return Vt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(lt(e.integerValue));else if("doubleValue"in e){const r=lt(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),rh(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Vs(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?iN(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):j()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),L.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}fo.bt=new fo;function Ez(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function sR(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=Ez(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class Tz{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=sR(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=sR(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Iz{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class Sz{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Pu{constructor(){this.Gt=new Tz,this.zt=new Iz(this.Gt),this.jt=new Sz(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new po(this.indexId,this.documentKey,this.arrayValue,r)}}function Ji(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=oR(t.arrayValue,e.arrayValue),n!==0?n:(n=oR(t.directionalValue,e.directionalValue),n!==0?n:L.comparator(t.documentKey,e.documentKey)))}function oR(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.Yt=new be((n,r)=>Je.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(W(e.collectionGroup===this.collectionId),this.en)return!1;const n=h0(e);if(n!==void 0&&!this.nn(n))return!1;const r=oo(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new be(Je.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new kf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new kf(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new kf(r.field,r.dir==="asc"?0:1)));return new Np(Np.UNKNOWN_ID,this.collectionId,n,nh.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t){var e,n;if(W(t instanceof ue||t instanceof Re),t instanceof ue){if(t instanceof dN){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>ue.create(t.field,"==",s)))||[];return Re.create(i,"or")}return t}const r=t.filters.map(i=>WN(i));return Re.create(r,t.op)}function Cz(t){if(t.getFilters().length===0)return[];const e=R0(WN(t));return W(HN(e)),S0(e)||C0(e)?[e]:e.getFilters()}function S0(t){return t instanceof ue}function C0(t){return t instanceof Re&&JE(t)}function HN(t){return S0(t)||C0(t)||function(n){if(n instanceof Re&&g0(n)){for(const r of n.getFilters())if(!S0(r)&&!C0(r))return!1;return!0}return!1}(t)}function R0(t){if(W(t instanceof ue||t instanceof Re),t instanceof ue)return t;if(t.filters.length===1)return R0(t.filters[0]);const e=t.filters.map(r=>R0(r));let n=Re.create(e,t.op);return n=Up(n),HN(n)?n:(W(n instanceof Re),W(Nl(n)),W(n.filters.length>1),n.filters.reduce((r,i)=>aT(r,i)))}function aT(t,e){let n;return W(t instanceof ue||t instanceof Re),W(e instanceof ue||e instanceof Re),n=t instanceof ue?e instanceof ue?function(i,s){return Re.create([i,s],"and")}(t,e):lR(t,e):e instanceof ue?lR(e,t):function(i,s){if(W(i.filters.length>0&&s.filters.length>0),Nl(i)&&Nl(s))return uN(i,s.getFilters());const o=g0(i)?i:s,a=g0(i)?s:i,l=o.filters.map(u=>aT(u,a));return Re.create(l,"or")}(t,e),Up(n)}function lR(t,e){if(Nl(e))return uN(e,t.getFilters());{const n=e.filters.map(r=>aT(t,r));return Re.create(n,"or")}}function Up(t){if(W(t instanceof ue||t instanceof Re),t instanceof ue)return t;const e=t.getFilters();if(e.length===1)return Up(e[0]);if(aN(t))return t;const n=e.map(i=>Up(i)),r=[];return n.forEach(i=>{i instanceof ue?r.push(i):i instanceof Re&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Re.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(){this._n=new lT}addToCollectionParentIndex(e,n){return this._n.add(n),T.resolve()}getCollectionParents(e,n){return T.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return T.resolve()}deleteFieldIndex(e,n){return T.resolve()}deleteAllFieldIndexes(e){return T.resolve()}createTargetIndexes(e,n){return T.resolve()}getDocumentsMatchingTarget(e,n){return T.resolve(null)}getIndexType(e,n){return T.resolve(0)}getFieldIndexes(e,n){return T.resolve([])}getNextCollectionGroupToUpdate(e){return T.resolve(null)}getMinOffset(e,n){return T.resolve(jn.min())}getMinOffsetFromCollectionGroup(e,n){return T.resolve(jn.min())}updateCollectionGroup(e,n,r){return T.resolve()}updateIndexEntries(e,n){return T.resolve()}}class lT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new be(Te.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new be(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new Uint8Array(0);class kz{constructor(e,n){this.databaseId=n,this.an=new lT,this.un=new Zs(r=>Ko(r),(r,i)=>Qh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const s={collectionId:r,parent:pn(i)};return uR(e).put(s)}return T.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[YD(n),""],!1,!0);return uR(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Wr(o.parent))}return r})}addFieldIndex(e,n){const r=xu(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Ta(e);return s.next(a=>{o.put(nR(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=xu(e),i=Ta(e),s=Ea(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=xu(e),r=Ea(e),i=Ta(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return T.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new aR(r).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Ea(e);let i=!0;const s=new Map;return T.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ie();const a=[];return T.forEach(s,(l,u)=>{P("IndexedDbIndexManager",`Using index ${function(y){return`id=${y.indexId}|cg=${y.collectionGroup}|f=${y.fields.map(w=>`${w.fieldPath}:${w.kind}`).join(",")}`}(l)} to execute ${Ko(n)}`);const c=function(y,w){const I=h0(w);if(I===void 0)return null;for(const C of Mp(y,I.fieldPath))switch(C.op){case"array-contains-any":return C.value.arrayValue.values||[];case"array-contains":return[C.value]}return null}(u,l),h=function(y,w){const I=new Map;for(const C of oo(w))for(const S of Mp(y,C.fieldPath))switch(S.op){case"==":case"in":I.set(C.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return I.set(C.fieldPath.canonicalString(),S.value),Array.from(I.values())}return null}(u,l),d=function(y,w){const I=[];let C=!0;for(const S of oo(w)){const D=S.kind===0?BC(y,S.fieldPath,y.startAt):jC(y,S.fieldPath,y.startAt);I.push(D.value),C&&(C=D.inclusive)}return new $s(I,C)}(u,l),f=function(y,w){const I=[];let C=!0;for(const S of oo(w)){const D=S.kind===0?jC(y,S.fieldPath,y.endAt):BC(y,S.fieldPath,y.endAt);I.push(D.value),C&&(C=D.inclusive)}return new $s(I,C)}(u,l),p=this.hn(l,u,d),g=this.hn(l,u,f),v=this.Pn(l,u,h),_=this.In(l.indexId,c,p,d.inclusive,g,f.inclusive,v);return T.forEach(_,m=>r.j(m,n.limit).next(y=>{y.forEach(w=>{const I=L.fromSegments(w.documentKey);o.has(I)||(o=o.add(I),a.push(I))})}))}).next(()=>a)}return T.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=Cz(Re.create(e.filters,"and")).map(r=>y0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let h=0;h<l;++h){const d=n?this.Tn(n[h/u]):Xd,f=this.En(e,d,r[h%u],i),p=this.dn(e,d,s[h%u],o),g=a.map(v=>this.En(e,d,v,!0));c.push(...this.createRange(f,p,g))}return c}En(e,n,r,i){const s=new po(e,L.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){const s=new po(e,L.empty(),n,r);return i?s.Jt():s}ln(e,n){const r=new aR(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.cn(n);return T.forEach(i,s=>this.ln(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new be(Je.comparator),c=!1;for(const h of l.filters)for(const d of h.getFlattenedFilters())d.field.isKeyField()||(d.op==="array-contains"||d.op==="array-contains-any"?c=!0:u=u.add(d.field));for(const h of l.orderBy)h.field.isKeyField()||(u=u.add(h.field));return u.size+(c?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){const r=new Pu;for(const i of oo(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Ht(i.kind);fo.bt.Pt(s,o)}return r.Wt()}Tn(e){const n=new Pu;return fo.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new Pu;return fo.bt.Pt(Yo(this.databaseId,n),r.Ht(function(s){const o=oo(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new Pu);let s=0;for(const o of oo(e)){const a=r[s++];for(const l of i)if(this.Vn(n,o.fieldPath)&&oh(a))i=this.mn(i,o,a);else{const u=l.Ht(o.kind);fo.bt.Pt(a,u)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Pu;l.seed(a.Wt()),fo.bt.Pt(o,l.Ht(n.kind)),s.push(l)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof ue&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=xu(e),i=Ta(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return T.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(c,h){const d=h?new nh(h.sequenceNumber,new jn(Jo(h.readTime),new L(Wr(h.documentKey)),h.largestBatchId)):nh.empty(),f=c.fields.map(([p,g])=>new kf(Je.fromServerFormat(p),g));return new Np(c.indexId,c.collectionGroup,f,d)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Z(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=xu(e),s=Ta(e);return this.gn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>T.forEach(a,l=>s.put(nR(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return T.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?T.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),T.forEach(a,l=>this.pn(e,i,l).next(u=>{const c=this.yn(s,l);return u.isEqual(c)?T.resolve():this.wn(e,s,l,u,c)}))))})}Sn(e,n,r,i){return Ea(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return Ea(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=Ea(e);let s=new be(Ji);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{s=s.add(new po(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let r=new be(Ji);const i=this.An(n,e);if(i==null)return r;const s=h0(n);if(s!=null){const o=e.data.field(s.fieldPath);if(oh(o))for(const a of o.arrayValue.values||[])r=r.add(new po(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new po(n.indexId,e.key,Xd,i));return r}wn(e,n,r,i,s){P("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,c,h,d){const f=l.getIterator(),p=u.getIterator();let g=wa(f),v=wa(p);for(;g||v;){let _=!1,m=!1;if(g&&v){const y=c(g,v);y<0?m=!0:y>0&&(_=!0)}else g!=null?m=!0:_=!0;_?(h(v),v=wa(p)):m?(d(g),g=wa(f)):(g=wa(f),v=wa(p))}}(i,s,Ji,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),T.waitFor(o)}gn(e){let n=1;return Ta(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Ji(o,a)).filter((o,a,l)=>!a||Ji(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Ji(o,e),l=Ji(o,n);if(a===0)i[0]=e.Jt();else if(a>0&&l<0)i.push(o),i.push(o.Jt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Xd,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Xd,[]];s.push(IDBKeyRange.bound(a,l))}return s}Dn(e,n){return Ji(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(cR)}getMinOffset(e,n){return T.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||j())).next(cR)}}function uR(t){return Vt(t,"collectionParents")}function Ea(t){return Vt(t,"indexEntries")}function xu(t){return Vt(t,"indexConfiguration")}function Ta(t){return Vt(t,"indexState")}function cR(t){W(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;KE(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new jn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class En{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(c,h,d)=>(a++,d.delete()));s.push(l.next(()=>{W(a===1)}));const u=[];for(const c of n.mutations){const h=JD(e,c.key.path,n.batchId);s.push(i.delete(h)),u.push(c.key)}return T.waitFor(s).next(()=>u)}function Bp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw j();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(41943040,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class cg{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){W(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new cg(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zi(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Ma(e),o=Zi(e);return o.add({}).next(a=>{W(typeof a=="number");const l=new tT(a,n,r,i),u=function(f,p,g){const v=g.baseMutations.map(m=>Fp(f.ct,m)),_=g.mutations.map(m=>Fp(f.ct,m));return{userId:p,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:v,mutations:_}}(this.serializer,this.userId,l),c=[];let h=new be((d,f)=>Z(d.canonicalString(),f.canonicalString()));for(const d of i){const f=JD(this.userId,d.key.path,a);h=h.add(d.key.path.popLast()),c.push(o.put(u)),c.push(s.put(f,cj))}return h.forEach(d=>{c.push(this.indexManager.addToCollectionParentIndex(e,d))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),T.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return Zi(e).get(n).next(r=>r?(W(r.userId===this.userId),ho(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?T.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Zi(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(W(a.batchId>=r),s=ho(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Zi(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zi(e).W("userMutationsIndex",n).next(r=>r.map(i=>ho(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Pf(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Ma(e).Y({range:i},(o,a,l)=>{const[u,c,h]=o,d=Wr(c);if(u===this.userId&&n.path.isEqual(d))return Zi(e).get(h).next(f=>{if(!f)throw j();W(f.userId===this.userId),s.push(ho(this.serializer,f))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new be(Z);const i=[];return n.forEach(s=>{const o=Pf(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Ma(e).Y({range:a},(u,c,h)=>{const[d,f,p]=u,g=Wr(f);d===this.userId&&s.path.isEqual(g)?r=r.add(p):h.done()});i.push(l)}),T.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Pf(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new be(Z);return Ma(e).Y({range:o},(l,u,c)=>{const[h,d,f]=l,p=Wr(d);h===this.userId&&r.isPrefixOf(p)?p.length===i&&(a=a.add(f)):c.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Zi(e).get(s).next(o=>{if(o===null)throw j();W(o.userId===this.userId),r.push(ho(this.serializer,o))}))}),T.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return qN(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),T.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return T.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Ma(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Wr(s[1]);i.push(l)}else a.done()}).next(()=>{W(i.length===0)})})}containsKey(e,n){return GN(e,this.userId,n)}xn(e){return YN(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function GN(t,e,n){const r=Pf(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Ma(t).Y({range:s,J:!0},(a,l,u)=>{const[c,h,d]=a;c===e&&h===i&&(o=!0),u.done()}).next(()=>o)}function Zi(t){return Vt(t,"mutations")}function Ma(t){return Vt(t,"documentMutations")}function YN(t){return Vt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Zo(0)}static Ln(){return new Zo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Zo(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>q.fromTimestamp(new et(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ia(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(W(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Ia(e).Y((o,a)=>{const l=Xu(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>T.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Ia(e).Y((r,i)=>{const s=Xu(i);n(s)})}Bn(e){return dR(e).get("targetGlobalKey").next(n=>(W(n!==null),n))}kn(e,n){return dR(e).put("targetGlobalKey",n)}qn(e,n){return Ia(e).put(jN(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Ko(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Ia(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=Xu(a);Qh(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=us(e);return n.forEach(o=>{const a=pn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),T.waitFor(i)}removeMatchingKeys(e,n,r){const i=us(e);return T.forEach(n,s=>{const o=pn(s.path);return T.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=us(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=us(e);let s=ie();return i.Y({range:r,J:!0},(o,a,l)=>{const u=Wr(o[1]),c=new L(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=pn(n.path),i=IDBKeyRange.bound([r],[YD(r)],!1,!0);let s=0;return us(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}_t(e,n){return Ia(e).get(n).next(r=>r?Xu(r):null)}}function Ia(t){return Vt(t,"targets")}function dR(t){return Vt(t,"targetGlobal")}function us(t){return Vt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR([t,e],[n,r]){const i=Z(t,n);return i===0?Z(e,r):i}class xz{constructor(e){this.Kn=e,this.buffer=new be(fR),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Az{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){P("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Js(n)?P("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ca(n)}await this.zn(3e5)})}}class bz{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return T.resolve(tr._e);const r=new xz(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(P("LruGarbageCollector","Garbage collection skipped; disabled"),T.resolve(hR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(P("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hR):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(P("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Da()<=oe.DEBUG&&P("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),T.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function Dz(t,e){return new bz(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e,n){this.db=e,this.garbageCollector=Dz(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return Jd(e,r)}removeReference(e,n,r){return Jd(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Jd(e,n)}er(e,n){return function(i,s){let o=!1;return YN(i).Z(a=>GN(i,a,s).next(l=>(l&&(o=!0),T.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Xn(e,(o,a)=>{if(a<=n){const l=this.er(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,q.min()),us(e).delete(function(h){return[0,pn(h.path)]}(o))))});i.push(l)}}).next(()=>T.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Jd(e,n)}Xn(e,n){const r=us(e);let i,s=tr._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==tr._e&&n(new L(Wr(i)),s),s=u,i=l):s=tr._e}).next(()=>{s!==tr._e&&n(new L(Wr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Jd(t,e){return us(t).put(function(r,i){return{targetId:0,path:pn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.changes=new Zs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?T.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return to(e).put(r)}removeEntry(e,n,r){return to(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],$p(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=ut.newInvalidDocument(n);return to(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Au(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:ut.newInvalidDocument(n)};return to(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Au(n))},(i,s)=>{r={document:this.nr(n,s),size:Bp(s)}}).next(()=>r)}getEntries(e,n){let r=Ln();return this.ir(e,n,(i,s)=>{const o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,n){let r=Ln(),i=new gt(L.comparator);return this.ir(e,n,(s,o)=>{const a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,Bp(o))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return T.resolve();let i=new be(gR);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Au(i.first()),Au(i.last())),o=i.getIterator();let a=o.getNext();return to(e).Y({index:"documentKeyIndex",range:s},(l,u,c)=>{const h=L.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&gR(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.U(Au(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),$p(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return to(e).W(IDBKeyRange.bound(a,l,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let c=Ln();for(const h of u){const d=this.nr(L.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);d.isFoundDocument()&&(Jh(n,d)||i.has(d.key))&&(c=c.insert(d.key,d))}return c})}getAllFromCollectionGroup(e,n,r,i){let s=Ln();const o=mR(n,r),a=mR(n,jn.max());return to(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const h=this.nr(L.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(h.key,h),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new Mz(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return pR(e).get("remoteDocumentGlobalKey").next(n=>(W(!!n),n))}tr(e,n){return pR(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=vz(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(q.min())))return r}return ut.newInvalidDocument(e)}}function QN(t){return new Oz(t)}class Mz extends KN{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Zs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new be((s,o)=>Z(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=eR(this.ar.serializer,o);i=i.add(s.path.popLast());const u=Bp(l);r+=u-a.size,n.push(this.ar.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=eR(this.ar.serializer,o.convertToNoDocument(q.min()));n.push(this.ar.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),T.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function pR(t){return Vt(t,"remoteDocumentGlobal")}function to(t){return Vt(t,"remoteDocumentsV14")}function Au(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function mR(t,e){const n=e.documentKey.path.toArray();return[t,$p(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function gR(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Z(n[s],r[s]),i)return i;return i=Z(n.length,r.length),i||(i=Z(n[n.length-2],r[r.length-2]),i||Z(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&gc(r.mutation,i,Sn.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){const i=Hr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ku();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Hr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ln();const o=mc(),a=function(){return mc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ji)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),gc(c.mutation,u,c.mutation.getFieldMask(),et.now())):o.set(u.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new Lz(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=mc();let i=new gt((o,a)=>o-a),s=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Sn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||ie()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=yN();c.forEach(d=>{if(!s.has(d)){const f=CN(n.get(d),r.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return T.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return L.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):T.resolve(Hr());let a=-1,l=s;return o.next(u=>T.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?T.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ie())).next(c=>({batchId:a,changes:_N(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new L(n)).next(r=>{let i=Ku();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ku();return this.indexManager.getCollectionParents(e,s).next(a=>T.forEach(a,l=>{const u=function(h,d){return new da(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,ut.newInvalidDocument(c)))});let a=Ku();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&gc(c.mutation,u,Sn.empty(),et.now()),Jh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return T.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:mn(i.createTime)}}(n)),T.resolve()}getNamedQuery(e,n){return T.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:zN(i.bundledQuery),readTime:mn(i.readTime)}}(n)),T.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(){this.overlays=new gt(L.comparator),this.hr=new Map}getOverlay(e,n){return T.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hr();return T.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),T.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),T.resolve()}getOverlaysForCollection(e,n,r){const i=Hr(),s=n.length+1,o=new L(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return T.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new gt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Hr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Hr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return T.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new rT(n,r));let s=this.hr.get(n);s===void 0&&(s=ie(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.Pr=new be(At.Ir),this.Tr=new be(At.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new At(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new At(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new L(new Te([])),r=new At(n,e),i=new At(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new L(new Te([])),r=new At(n,e),i=new At(n,e+1);let s=ie();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new At(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class At{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return L.comparator(e.key,n.key)||Z(e.pr,n.pr)}static Er(e,n){return Z(e.pr,n.pr)||L.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new be(At.Ir)}checkEmpty(e){return T.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new tT(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new At(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return T.resolve(o)}lookupMutationBatch(e,n){return T.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return T.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return T.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return T.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new At(n,0),i=new At(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),T.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new be(Z);return n.forEach(i=>{const s=new At(i,0),o=new At(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),T.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;L.isDocumentKey(s)||(s=s.child(""));const o=new At(new L(s),0);let a=new be(Z);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),T.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){W(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return T.forEach(n.mutations,i=>{const s=new At(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new At(n,0),i=this.wr.firstAfterOrEqual(r);return T.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,T.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e){this.vr=e,this.docs=function(){return new gt(L.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return T.resolve(r?r.document.mutableCopy():ut.newInvalidDocument(n))}getEntries(e,n){let r=Ln();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ut.newInvalidDocument(i))}),T.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ln();const o=n.path,a=new L(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||KE(KD(c),r)<=0||(i.has(c.key)||Jh(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return T.resolve(s)}getAllFromCollectionGroup(e,n,r,i){j()}Fr(e,n){return T.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Bz(this)}getSize(e){return T.resolve(this.size)}}class Bz extends KN{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),T.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(e){this.persistence=e,this.Mr=new Zs(n=>Ko(n),Qh),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.Or=0,this.Nr=new uT,this.targetCount=0,this.Lr=Zo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),T.resolve()}getLastRemoteSnapshotVersion(e){return T.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return T.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),T.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),T.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,T.resolve()}updateTargetData(e,n){return this.qn(n),T.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,T.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),T.waitFor(s).next(()=>i)}getTargetCount(e){return T.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return T.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),T.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),T.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),T.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return T.resolve(r)}containsKey(e,n){return T.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n){this.Br={},this.overlays={},this.kr=new tr(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new jz(this),this.indexManager=new Rz,this.remoteDocumentCache=function(i){return new Uz(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new BN(n),this.$r=new Vz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Fz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new $z(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){P("MemoryPersistence","Starting transaction:",e);const i=new zz(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return T.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class zz extends XD{constructor(e){super(),this.currentSequenceNumber=e}}class hg{constructor(e){this.persistence=e,this.zr=new uT,this.jr=null}static Hr(e){return new hg(e)}get Jr(){if(this.jr)return this.jr;throw j()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),T.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),T.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),T.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return T.forEach(this.Jr,r=>{const i=L.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,q.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return T.or([()=>T.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e){this.serializer=e}N(e,n,r,i){const s=new tg("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bC,{unique:!0}),l.createObjectStore("documentMutations")}(e),_R(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=T.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),_R(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:q.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").W().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bC,{unique:!0});const h=u.store("mutations"),d=c.map(f=>h.put(f));return T.waitFor(d)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:Tj});u.createIndex("collectionPathOverlayIndex",Ij,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",Sj,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:hj});u.createIndex("documentKeyIndex",dj),u.createIndex("collectionGroupIndex",fj)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:yj}).createIndex("sequenceNumberIndex",vj,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:wj}).createIndex("documentKeyIndex",Ej,{unique:!1})}(e))),o}ei(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=Bp(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>T.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>T.forEach(a,l=>{W(l.userId===s.userId);const u=ho(this.serializer,l);return qN(e,s.userId,u).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new Te(o),u=function(h){return[0,pn(h)]}(l);s.push(n.get(u).next(c=>c?T.resolve():(h=>n.put({targetId:0,path:pn(h),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>T.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:_j});const r=n.store("collectionParents"),i=new lT,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:pn(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new Te(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],u)=>{const c=Wr(a);return s(c.popLast())}))}ri(e){const n=e.store("targets");return n.Y((r,i)=>{const s=Xu(i),o=jN(this.serializer,s);return n.put(o)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(h){return h.document?new L(Te.fromString(h.document.name).popFirst(5)):h.noDocument?L.fromSegments(h.noDocument.path):h.unknownDocument?L.fromSegments(h.unknownDocument.path):j()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>T.waitFor(i))}si(e,n){const r=n.store("mutations"),i=QN(this.serializer),s=new JN(hg.Hr,this.serializer.ct);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:ie();ho(this.serializer,l).keys().forEach(h=>c=c.add(h)),a.set(l.userId,c)}),T.forEach(a,(l,u)=>{const c=new cn(u),h=ug.lt(this.serializer,c),d=s.getIndexManager(c),f=cg.lt(c,this.serializer,d,s.referenceDelegate);return new XN(i,f,h,d).recalculateAndSaveOverlaysForDocumentKeys(new d0(n,tr._e),l).next()})})}}function _R(t){t.createObjectStore("targetDocuments",{keyPath:mj}).createIndex("documentTargetsIndex",gj,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",pj,{unique:!0}),t.createObjectStore("targetGlobal")}const Iy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cT{constructor(e,n,r,i,s,o,a,l,u,c,h=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=u,this.ai=c,this.ui=h,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=d=>Promise.resolve(),!cT.D())throw new N(R.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Nz(this,i),this.Ti=n+"main",this.serializer=new BN(l),this.Ei=new zr(this.Ti,this.ui,new Wz(this.serializer)),this.Qr=new Pz(this.referenceDelegate,this.serializer),this.remoteDocumentCache=QN(this.serializer),this.$r=new wz,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,c===!1&&hn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new N(R.FAILED_PRECONDITION,Iy);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new tr(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Zd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Js(e))return P("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return P("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return bu(e).get("owner").next(n=>T.resolve(this.Si(n)))}bi(e){return Zd(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Vt(n,"clientMetadata");return r.W().next(i=>{const s=this.vi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return T.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?T.resolve(!0):bu(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new N(R.FAILED_PRECONDITION,Iy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Zd(e).W().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&P("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new d0(e,tr._e);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Zd(e).W().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return cg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new kz(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return ug.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){P("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===15?Rj:l===14?tN:l===13?eN:l===12?Cj:l===11?ZD:void j()}(this.ui);let o;return this.Ei.runTransaction(e,i,s,a=>(o=new d0(a,this.kr?this.kr.next():tr._e),n==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw hn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new N(R.FAILED_PRECONDITION,QD);return r(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return bu(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new N(R.FAILED_PRECONDITION,Iy)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bu(e).put("owner",n)}static D(){return zr.D()}yi(e){const n=bu(e);return n.get("owner").next(r=>this.Si(r)?(P("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):T.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(hn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;rb()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return P("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return hn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){hn("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function bu(t){return Vt(t,"owner")}function Zd(t){return Vt(t,"clientMetadata")}function Hz(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ie(),i=ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new hT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return rb()?8:zr.v(St())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new qz;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Da()<=oe.DEBUG&&P("QueryEngine","SDK will not create cache indexes for query:",Na(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),T.resolve()):(Da()<=oe.DEBUG&&P("QueryEngine","Query:",Na(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Da()<=oe.DEBUG&&P("QueryEngine","The SDK decides to create cache indexes for query:",Na(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(n))):T.resolve())}ji(e,n){if(zC(n))return T.resolve(null);let r=or(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Lp(n,null,"F"),r=or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ie(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,Lp(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return zC(n)||i.isEqual(q.min())?T.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?T.resolve(null):(Da()<=oe.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Na(n)),this.es(e,o,n,rj(i,-1)).next(a=>a))})}Zi(e,n){let r=new be(mN(e));return n.forEach((i,s)=>{Jh(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Da()<=oe.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",Na(n)),this.zi.getDocumentsMatchingQuery(e,n,jn.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new gt(Z),this.rs=new Zs(s=>Ko(s),Qh),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XN(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function eO(t,e,n,r){return new Gz(t,e,n,r)}async function tO(t,e){const n=X(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ie();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function Yz(t,e){const n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,d=h.keys();let f=T.resolve();return d.forEach(p=>{f=f.next(()=>c.getEntry(l,p)).next(g=>{const v=u.docVersions.get(p);W(v!==null),g.version.compareTo(v)<0&&(h.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ie();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function nO(t){const e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Kz(t,e){const n=X(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(Gt.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(h,f),function(g,v,_){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(d,f,c)&&a.push(n.Qr.updateTargetData(s,f))});let l=Ln(),u=ie();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Qz(s,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(q.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return T.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function Qz(t,e,n){let r=ie(),i=ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ln();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(q.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):P("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function Xz(t,e){const n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Jz(t,e){const n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,T.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new wi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function k0(t,e,n){const r=X(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Js(o))throw o;P("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function yR(t,e,n){const r=X(t);let i=q.min(),s=ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=X(l),d=h.rs.get(c);return d!==void 0?T.resolve(h.ns.get(d)):h.Qr.getTargetData(u,c)}(r,o,or(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:q.min(),n?s:ie())).next(a=>(Zz(r,Uj(e),a),{documents:a,hs:s})))}function Zz(t,e,n){let r=t.ss.get(e)||q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class vR{constructor(){this.activeTargetIds=qj()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rO{constructor(){this.no=new vR,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new vR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){P("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){P("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef=null;function Sy(){return ef===null?ef=function(){return 268435456+Math.round(2147483648*Math.random())}():ef++,"0x"+ef.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class r9 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=Sy(),l=this.bo(n,r.toUriEncodedString());P("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,l,u,i).then(c=>(P("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ho("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+eu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=t9[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=Sy();return new Promise((o,a)=>{const l=new q6;l.setWithCredentials(!0),l.listenOnce(W6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ey.NO_ERROR:const c=l.getResponseJson();P(Qt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Ey.TIMEOUT:P(Qt,`RPC '${e}' ${s} timed out`),a(new N(R.DEADLINE_EXCEEDED,"Request time out"));break;case Ey.HTTP_ERROR:const h=l.getStatus();if(P(Qt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const p=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(_)>=0?_:R.UNKNOWN}(f.status);a(new N(p,f.message))}else a(new N(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new N(R.UNAVAILABLE,"Connection failed."));break;default:j()}}finally{P(Qt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);P(Qt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=Sy(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=j6(),a=z6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");P(Qt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let d=!1,f=!1;const p=new n9({lo:v=>{f?P(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(P(Qt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),P(Qt,`RPC '${e}' stream ${i} sending:`,v),h.send(v))},ho:()=>h.close()}),g=(v,_,m)=>{v.listen(_,y=>{try{m(y)}catch(w){setTimeout(()=>{throw w},0)}})};return g(h,Kd.EventType.OPEN,()=>{f||P(Qt,`RPC '${e}' stream ${i} transport opened.`)}),g(h,Kd.EventType.CLOSE,()=>{f||(f=!0,P(Qt,`RPC '${e}' stream ${i} transport closed`),p.Vo())}),g(h,Kd.EventType.ERROR,v=>{f||(f=!0,Ho(Qt,`RPC '${e}' stream ${i} transport errored:`,v),p.Vo(new N(R.UNAVAILABLE,"The operation could not be completed")))}),g(h,Kd.EventType.MESSAGE,v=>{var _;if(!f){const m=v.data[0];W(!!m);const y=m,w=y.error||((_=y[0])===null||_===void 0?void 0:_.error);if(w){P(Qt,`RPC '${e}' stream ${i} received error:`,w);const I=w.status;let C=function(K){const $=vt[K];if($!==void 0)return PN($)}(I),S=w.message;C===void 0&&(C=R.INTERNAL,S="Unknown error status: "+I+" with message "+w.message),f=!0,p.Vo(new N(C,S)),h.close()}else P(Qt,`RPC '${e}' stream ${i} received:`,m),p.mo(m)}}),g(a,H6.STAT_EVENT,v=>{v.stat===kC.PROXY?P(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===kC.NOPROXY&&P(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(){return typeof window<"u"?window:null}function Nf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t){return new uz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&P("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new iO(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(hn(n.toString()),hn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new N(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return P("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(P("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class s9 extends sO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=dz(this.serializer,e),r=function(s){if(!("targetChange"in s))return q.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?q.min():o.readTime?mn(o.readTime):q.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=T0(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Op(l)?{documents:LN(s,l)}:{query:oT(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=bN(s,o.resumeToken);const u=w0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(q.min())>0){a.readTime=Ll(s,o.snapshotVersion.toTimestamp());const u=w0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=pz(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=T0(this.serializer),n.removeTarget=e,this.t_(n)}}class o9 extends sO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(W(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=fz(e.writeResults,e.commitTime),r=mn(e.commitTime);return this.listener.T_(r,n)}return W(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=T0(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Fp(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new N(R.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,E0(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new N(R.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,E0(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new N(R.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}async function l9(t,e,n){var r;const i=X(t),{request:s,V_:o,parent:a}=function(h,d,f){const{ut:p,parent:g}=oT(h,d),v={},_=[];let m=0;return f.forEach(y=>{const w="aggregate_"+m++;v[w]=y.alias,y.aggregateType==="count"?_.push({alias:w,count:{}}):y.aggregateType==="avg"?_.push({alias:w,avg:{field:ls(y.fieldPath)}}):y.aggregateType==="sum"&&_.push({alias:w,sum:{field:ls(y.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:_,structuredQuery:p.structuredQuery},parent:p.parent},V_:v,parent:g}}(i.serializer,function(h){const d=X(h);return d.Pe||(d.Pe=fN(d,h.explicitOrderBy)),d.Pe}(e),n);i.connection.wo||delete s.parent;const l=(await i.vo("RunAggregationQuery",i.serializer.databaseId,a,s,1)).filter(c=>!!c.result);W(l.length===1);const u=(r=l[0].result)===null||r===void 0?void 0:r.aggregateFields;return Object.keys(u).reduce((c,h)=>(c[o[h]]=u[h],c),{})}class u9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(hn(n),this.g_=!1):P("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{fa(this)&&(P("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=X(l);u.v_.add(4),await ed(u),u.x_.set("Unknown"),u.v_.delete(4),await fg(u)}(this))})}),this.x_=new u9(r,i)}}async function fg(t){if(fa(t))for(const e of t.F_)await e(!0)}async function ed(t){for(const e of t.F_)await e(!1)}function oO(t,e){const n=X(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),mT(n)?pT(n):nu(n).Jo()&&fT(n,e))}function dT(t,e){const n=X(t),r=nu(n);n.C_.delete(e),r.Jo()&&aO(n,e),n.C_.size===0&&(r.Jo()?r.Xo():fa(n)&&n.x_.set("Unknown"))}function fT(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(q.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nu(t).c_(e)}function aO(t,e){t.O_.Oe(e),nu(t).l_(e)}function pT(t){t.O_=new sz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),nu(t).start(),t.x_.p_()}function mT(t){return fa(t)&&!nu(t).Ho()&&t.C_.size>0}function fa(t){return X(t).v_.size===0}function lO(t){t.O_=void 0}async function h9(t){t.C_.forEach((e,n)=>{fT(t,e)})}async function d9(t,e){lO(t),mT(t)?(t.x_.S_(e),pT(t)):t.x_.set("Unknown")}async function f9(t,e,n){if(t.x_.set("Online"),e instanceof AN&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){P("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jp(t,r)}else if(e instanceof Df?t.O_.$e(e):e instanceof xN?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(q.min()))try{const r=await nO(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.C_.get(u);c&&s.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.C_.get(l);if(!c)return;s.C_.set(l,c.withResumeToken(Gt.EMPTY_BYTE_STRING,c.snapshotVersion)),aO(s,l);const h=new wi(c.target,l,u,c.sequenceNumber);fT(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){P("RemoteStore","Failed to raise snapshot:",r),await jp(t,r)}}async function jp(t,e,n){if(!Js(e))throw e;t.v_.add(1),await ed(t),t.x_.set("Offline"),n||(n=()=>nO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{P("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await fg(t)})}function uO(t,e){return e().catch(n=>jp(t,n,e))}async function td(t){const e=X(t),n=Us(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;p9(e);)try{const i=await Xz(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,m9(e,i)}catch(i){await jp(e,i)}cO(e)&&hO(e)}function p9(t){return fa(t)&&t.D_.length<10}function m9(t,e){t.D_.push(e);const n=Us(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function cO(t){return fa(t)&&!Us(t).Ho()&&t.D_.length>0}function hO(t){Us(t).start()}async function g9(t){Us(t).d_()}async function _9(t){const e=Us(t);for(const n of t.D_)e.I_(n.mutations)}async function y9(t,e,n){const r=t.D_.shift(),i=nT.from(r,e,n);await uO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await td(t)}async function v9(t,e){e&&Us(t).P_&&await async function(r,i){if(function(o){return nz(o)&&o!==R.ABORTED}(i.code)){const s=r.D_.shift();Us(r).Zo(),await uO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await td(r)}}(t,e),cO(t)&&hO(t)}async function ER(t,e){const n=X(t);n.asyncQueue.verifyOperationInProgress(),P("RemoteStore","RemoteStore received new credentials");const r=fa(n);n.v_.add(3),await ed(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await fg(n)}async function w9(t,e){const n=X(t);e?(n.v_.delete(2),await fg(n)):e||(n.v_.add(2),await ed(n),n.x_.set("Unknown"))}function nu(t){return t.N_||(t.N_=function(n,r,i){const s=X(n);return s.R_(),new s9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:h9.bind(null,t),To:d9.bind(null,t),u_:f9.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),mT(t)?pT(t):t.x_.set("Unknown")):(await t.N_.stop(),lO(t))})),t.N_}function Us(t){return t.L_||(t.L_=function(n,r,i){const s=X(n);return s.R_(),new o9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:g9.bind(null,t),To:v9.bind(null,t),E_:_9.bind(null,t),T_:y9.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await td(t)):(await t.L_.stop(),t.D_.length>0&&(P("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new gT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new N(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _T(t,e){if(hn("AsyncQueue",`${e}: ${t}`),Js(t))return new N(R.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||L.comparator(n.key,r.key):(n,r)=>L.comparator(n.key,r.key),this.keyedMap=Ku(),this.sortedSet=new gt(this.comparator)}static emptySet(e){return new hl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new hl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.B_=new gt(L.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):j():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Vl(e,n,hl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ig(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class T9{constructor(){this.queries=new Zs(e=>pN(e),ig),this.onlineState="Unknown",this.W_=new Set}}async function yT(t,e){const n=X(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new E9,r=e.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=_T(o,`Initialization of query '${Na(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&wT(n)}async function vT(t,e){const n=X(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function I9(t,e){const n=X(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.z_(i)&&(r=!0);o.q_=i}}r&&wT(n)}function S9(t,e,n){const r=X(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function wT(t){t.W_.forEach(e=>{e.next()})}var P0,IR;(IR=P0||(P0={})).j_="default",IR.Cache="cache";class ET{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==P0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.key=e}}class fO{constructor(e){this.key=e}}class C9{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=ie(),this.mutatedKeys=ie(),this.ha=mN(e),this.Pa=new hl(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new TR,i=n?n.Pa:this.Pa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),f=Jh(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;d&&f?d.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),v=!0):this.da(d,f)||(r.track({type:2,doc:f}),v=!0,(l&&this.ha(f,l)>0||u&&this.ha(f,u)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),v=!0):d&&!f&&(r.track({type:1,doc:d}),v=!0,(l||u)&&(a=!0)),v&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((c,h)=>function(f,p){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j()}};return g(f)-g(p)}(c.type,h.type)||this.ha(c.doc,h.doc)),this.Aa(r),i=i!=null&&i;const a=n&&!i?this.Ra():[],l=this.la.size===0&&this.current&&!i?1:0,u=l!==this.ca;return this.ca=l,o.length!==0||u?{snapshot:new Vl(this.query,e.Pa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new TR,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=ie(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new fO(r))}),this.la.forEach(r=>{e.has(r)||n.push(new dO(r))}),n}fa(e){this.ua=e.hs,this.la=ie();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Vl.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class R9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class k9{constructor(e){this.key=e,this.pa=!1}}class P9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new Zs(a=>pN(a),ig),this.Sa=new Map,this.ba=new Set,this.Da=new gt(L.comparator),this.Ca=new Map,this.va=new uT,this.Fa={},this.Ma=new Map,this.xa=Zo.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function x9(t,e,n=!0){const r=vO(t);let i;const s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await pO(r,e,n,!0),i}async function A9(t,e){const n=vO(t);await pO(n,e,!0,!1)}async function pO(t,e,n,r){const i=await Jz(t.localStore,or(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await b9(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&oO(t.remoteStore,i),a}async function b9(t,e,n,r,i){t.Na=(h,d,f)=>async function(g,v,_,m){let y=v.view.Ta(_);y.Xi&&(y=await yR(g.localStore,v.query,!1).then(({documents:S})=>v.view.Ta(S,y)));const w=m&&m.targetChanges.get(v.targetId),I=m&&m.targetMismatches.get(v.targetId)!=null,C=v.view.applyChanges(y,g.isPrimaryClient,w,I);return CR(g,v.targetId,C.Va),C.snapshot}(t,h,d,f);const s=await yR(t.localStore,e,!0),o=new C9(e,s.hs),a=o.Ta(s.documents),l=Zh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);CR(t,n,u.Va);const c=new R9(e,n,o);return t.wa.set(e,c),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot}async function D9(t,e,n){const r=X(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!ig(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await k0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&dT(r.remoteStore,i.targetId),x0(r,i.targetId)}).catch(ca)):(x0(r,i.targetId),await k0(r.localStore,i.targetId,!0))}async function N9(t,e){const n=X(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dT(n.remoteStore,r.targetId))}async function O9(t,e,n){const r=wO(t);try{const i=await function(o,a){const l=X(o),u=et.now(),c=a.reduce((f,p)=>f.add(p.key),ie());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Ln(),g=ie();return l.os.getEntries(f,c).next(v=>{p=v,p.forEach((_,m)=>{m.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(v=>{h=v;const _=[];for(const m of a){const y=Zj(m,h.get(m.key).overlayedDocument);y!=null&&_.push(new ji(m.key,y,sN(y.value.mapValue),en.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,_,a)}).next(v=>{d=v;const _=v.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(f,v.batchId,_)})}).then(()=>({batchId:d.batchId,changes:_N(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Fa[o.currentUser.toKey()];u||(u=new gt(Z)),u=u.insert(a,l),o.Fa[o.currentUser.toKey()]=u}(r,i.batchId,n),await nd(r,i.changes),await td(r.remoteStore)}catch(i){const s=_T(i,"Failed to persist write");n.reject(s)}}async function mO(t,e){const n=X(t);try{const r=await Kz(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ca.get(s);o&&(W(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?W(o.pa):i.removedDocuments.size>0&&(W(o.pa),o.pa=!1))}),await nd(n,r,e)}catch(r){await ca(r)}}function SR(t,e,n){const r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((s,o)=>{const a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=X(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.Q_)d.G_(a)&&(u=!0)}),u&&wT(l)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function M9(t,e,n){const r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),s=i&&i.key;if(s){let o=new gt(L.comparator);o=o.insert(s,ut.newNoDocument(s,q.min()));const a=ie().add(s),l=new lg(q.min(),new Map,new gt(Z),o,a);await mO(r,l),r.Da=r.Da.remove(s),r.Ca.delete(e),TT(r)}else await k0(r.localStore,e,!1).then(()=>x0(r,e,n)).catch(ca)}async function L9(t,e){const n=X(t),r=e.batch.batchId;try{const i=await Yz(n.localStore,e);_O(n,r,null),gO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nd(n,i)}catch(i){await ca(i)}}async function V9(t,e,n){const r=X(t);try{const i=await function(o,a){const l=X(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(W(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);_O(r,e,n),gO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await nd(r,i)}catch(i){await ca(i)}}function gO(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function _O(t,e,n){const r=X(t);let i=r.Fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function x0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||yO(t,r)})}function yO(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(dT(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),TT(t))}function CR(t,e,n){for(const r of n)r instanceof dO?(t.va.addReference(r.key,e),F9(t,r)):r instanceof fO?(P("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||yO(t,r.key)):j()}function F9(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(P("SyncEngine","New document in limbo: "+n),t.ba.add(r),TT(t))}function TT(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new L(Te.fromString(e)),r=t.xa.next();t.Ca.set(r,new k9(n)),t.Da=t.Da.insert(n,r),oO(t.remoteStore,new wi(or(Xh(n.path)),r,"TargetPurposeLimboResolution",tr._e))}}async function nd(t,e,n){const r=X(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=hT.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.ya.u_(i),await async function(l,u){const c=X(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>T.forEach(u,d=>T.forEach(d.qi,f=>c.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>T.forEach(d.Qi,f=>c.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!Js(h))throw h;P("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const f=c.ns.get(d),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);c.ns=c.ns.insert(d,g)}}}(r.localStore,s))}async function $9(t,e){const n=X(t);if(!n.currentUser.isEqual(e)){P("SyncEngine","User change. New user:",e.toKey());const r=await tO(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(a=>{a.forEach(l=>{l.reject(new N(R.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nd(n,r.us)}}function U9(t,e){const n=X(t),r=n.Ca.get(e);if(r&&r.pa)return ie().add(r.key);{let i=ie();const s=n.Sa.get(e);if(!s)return i;for(const o of s){const a=n.wa.get(o);i=i.unionWith(a.view.Ia)}return i}}function vO(t){const e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M9.bind(null,e),e.ya.u_=I9.bind(null,e.eventManager),e.ya.La=S9.bind(null,e.eventManager),e}function wO(t){const e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V9.bind(null,e),e}class A0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=dg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return eO(this.persistence,new ZN,e.initialUser,this.serializer)}createPersistence(e){return new JN(hg.Hr,this.serializer)}createSharedClientState(e){return new rO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class EO extends A0{constructor(e,n,r){super(),this.ka=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ka.initialize(this,e),await wO(this.ka.syncEngine),await td(this.ka.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return eO(this.persistence,new ZN,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Az(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new aj(n,this.persistence);return new oj(e.asyncQueue,r)}createPersistence(e){const n=Hz(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new cT(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,i9(),Nf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new rO}}class IT{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$9.bind(null,this.syncEngine),await w9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new T9}()}createDatastore(e){const n=dg(e.databaseInfo.databaseId),r=function(s){return new r9(s)}(e.databaseInfo);return function(s,o,a,l){return new a9(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new c9(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>SR(this.syncEngine,n,0),function(){return wR.D()?new wR:new e9}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new P9(i,s,o,a,l,u);return c&&(h.Oa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=X(r);P("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await ed(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):hn("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cn.UNAUTHENTICATED,this.clientId=GD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{P("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(P("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new N(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_T(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Of(t,e){t.asyncQueue.verifyOperationInProgress(),P("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await tO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function b0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await j9(t);P("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ER(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ER(e.remoteStore,i)),t._onlineComponents=e}function TO(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function j9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){P("FirestoreClient","Using user provided OfflineComponentProvider");try{await Of(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!TO(n))throw n;Ho("Error using user provided cache. Falling back to memory cache: "+n),await Of(t,new A0)}}else P("FirestoreClient","Using default OfflineComponentProvider"),await Of(t,new A0);return t._offlineComponents}async function CT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(P("FirestoreClient","Using user provided OnlineComponentProvider"),await b0(t,t._uninitializedComponentsProvider._online)):(P("FirestoreClient","Using default OnlineComponentProvider"),await b0(t,new IT))),t._onlineComponents}function z9(t){return CT(t).then(e=>e.syncEngine)}function W9(t){return CT(t).then(e=>e.datastore)}async function zp(t){const e=await CT(t),n=e.eventManager;return n.onListen=x9.bind(null,e.syncEngine),n.onUnlisten=D9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=A9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=N9.bind(null,e.syncEngine),n}function H9(t,e,n={}){const r=new sr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new ST({next:d=>{o.enqueueAndForget(()=>vT(s,h));const f=d.docs.has(a);!f&&d.fromCache?u.reject(new N(R.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&l&&l.source==="server"?u.reject(new N(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new ET(Xh(a.path),c,{includeMetadataChanges:!0,ta:!0});return yT(s,h)}(await zp(t),t.asyncQueue,e,n,r)),r.promise}function q9(t,e,n={}){const r=new sr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new ST({next:d=>{o.enqueueAndForget(()=>vT(s,h)),d.fromCache&&l.source==="server"?u.reject(new N(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new ET(a,c,{includeMetadataChanges:!0,ta:!0});return yT(s,h)}(await zp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t,e,n){if(!n)throw new N(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function G9(t,e,n,r){if(e===!0&&r===!0)throw new N(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kR(t){if(!L.isDocumentKey(t))throw new N(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PR(t){if(L.isDocumentKey(t))throw new N(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":j()}function gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new N(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pg(t);throw new N(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Y9(t,e){if(e<=0)throw new N(R.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new N(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new N(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new N(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new N(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new N(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class RT{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new N(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new N(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xR(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new K6;switch(r.type){case"firstParty":return new J6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new N(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=RR.get(n);r&&(P("ComponentProvider","Removing Datastore"),RR.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ri(this.firestore,e,this._query)}}class rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class As extends ri{constructor(e,n,r){super(e,n,Xh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new L(e))}withConverter(e){return new As(this.firestore,e,this._path)}}function CO(t,e,...n){if(t=pe(t),SO("collection","path",e),t instanceof RT){const r=Te.fromString(e,...n);return PR(r),new As(t,null,r)}{if(!(t instanceof rn||t instanceof As))throw new N(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return PR(r),new As(t.firestore,null,r)}}function uh(t,e,...n){if(t=pe(t),arguments.length===1&&(e=GD.newId()),SO("doc","path",e),t instanceof RT){const r=Te.fromString(e,...n);return kR(r),new rn(t,null,new L(r))}{if(!(t instanceof rn||t instanceof As))throw new N(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return kR(r),new rn(t.firestore,t instanceof As?t.converter:null,new L(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new iO(this,"async_queue_retry"),this.cu=()=>{const n=Nf();n&&P("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Nf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Nf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new sr;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Js(e))throw e;P("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw hn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=gT.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&j()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function AR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class xr extends RT{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new K9}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||RO(this),this._firestoreClient.terminate()}}function Q9(t,e,n){n||(n="(default)");const r=Vh(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Pl(s,e))return i;throw new N(R.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new N(R.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new N(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function ru(t){return t._firestoreClient||RO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function RO(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new Pj(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,IO(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new B9(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function X9(t,e){Z9(t=gn(t,xr));const n=ru(t);if(n._uninitializedComponentsProvider)throw new N(R.FAILED_PRECONDITION,"SDK cache is already specified.");Ho("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new IT;return J9(n,i,new EO(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function J9(t,e,n){const r=new sr;return t.asyncQueue.enqueue(async()=>{try{await Of(t,n),await b0(t,e),r.resolve()}catch(i){const s=i;if(!TO(s))throw s;Ho("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function Z9(t){if(t._initialized||t._terminated)throw new N(R.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class tW{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fl(Gt.fromBase64String(e))}catch(n){throw new N(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fl(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new N(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new N(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new N(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW=/^__.*__$/;class rW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new tu(e,this.data,n,this.fieldTransforms)}}class kO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ji(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function PO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw j()}}class gg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Wp(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(PO(this.Vu)&&nW.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class iW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dg(e)}Cu(e,n,r,i=!1){return new gg({Vu:e,methodName:n,Du:r,path:Je.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function id(t){const e=t._freezeSettings(),n=dg(t._databaseId);return new iW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xO(t,e,n,r,i,s={}){const o=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);AT("Data must be an object, but it was:",o,r);const a=bO(r,o);let l,u;if(s.merge)l=new Sn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const d=D0(e,h,n);if(!o.contains(d))throw new N(R.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);NO(c,d)||c.push(d)}l=new Sn(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new rW(new Zt(a),l,u)}class _g extends rd{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _g}}function sW(t,e,n){return new gg({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class PT extends rd{_toFieldTransform(e){return new eT(e.path,new Ol)}isEqual(e){return e instanceof PT}}class xT extends rd{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=sW(this,e,!0),r=this.vu.map(s=>iu(s,n)),i=new Qo(r);return new eT(e.path,i)}isEqual(e){return e instanceof xT&&Pl(this.vu,e.vu)}}function oW(t,e,n,r){const i=t.Cu(1,e,n);AT("Data must be an object, but it was:",i,r);const s=[],o=Zt.empty();ha(r,(l,u)=>{const c=bT(e,l,n);u=pe(u);const h=i.yu(c);if(u instanceof _g)s.push(c);else{const d=iu(u,h);d!=null&&(s.push(c),o.set(c,d))}});const a=new Sn(s);return new kO(o,a,i.fieldTransforms)}function aW(t,e,n,r,i,s){const o=t.Cu(1,e,n),a=[D0(e,r,n)],l=[i];if(s.length%2!=0)throw new N(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(D0(e,s[d])),l.push(s[d+1]);const u=[],c=Zt.empty();for(let d=a.length-1;d>=0;--d)if(!NO(u,a[d])){const f=a[d];let p=l[d];p=pe(p);const g=o.yu(f);if(p instanceof _g)u.push(f);else{const v=iu(p,g);v!=null&&(u.push(f),c.set(f,v))}}const h=new Sn(u);return new kO(c,h,o.fieldTransforms)}function AO(t,e,n,r=!1){return iu(n,t.Cu(r?4:3,e))}function iu(t,e){if(DO(t=pe(t)))return AT("Unsupported field value:",e,t),bO(t,e);if(t instanceof rd)return function(r,i){if(!PO(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=iu(a,i.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=pe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Gj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=et.fromDate(r);return{timestampValue:Ll(i.serializer,s)}}if(r instanceof et){const s=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ll(i.serializer,s)}}if(r instanceof kT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fl)return{bytesValue:bN(i.serializer,r._byteString)};if(r instanceof rn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:sT(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${pg(r)}`)}(t,e)}function bO(t,e){const n={};return nN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(t,(r,i)=>{const s=iu(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function DO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof kT||t instanceof Fl||t instanceof rn||t instanceof rd)}function AT(t,e,n){if(!DO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=pg(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function D0(t,e,n){if((e=pe(e))instanceof mg)return e._internalPath;if(typeof e=="string")return bT(t,e);throw Wp("Field path arguments must be of type string or ",t,!1,void 0,n)}const lW=new RegExp("[~\\*/\\[\\]]");function bT(t,e,n){if(e.search(lW)>=0)throw Wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mg(...e.split("."))._internalPath}catch{throw Wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new N(R.INVALID_ARGUMENT,a+t+l)}function NO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uW extends DT{data(){return super.data()}}function yg(t,e){return typeof e=="string"?bT(t,e):e instanceof mg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new N(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NT{}let vg=class extends NT{};function cW(t,e,...n){let r=[];e instanceof NT&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof OT).length,a=s.filter(l=>l instanceof wg).length;if(o>1||o>0&&a>0)throw new N(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class wg extends vg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new wg(e,n,r)}_apply(e){const n=this._parse(e);return LO(e._query,n),new ri(e.firestore,e.converter,v0(e._query,n))}_parse(e){const n=id(e.firestore);return function(s,o,a,l,u,c,h){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new N(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){DR(h,c);const f=[];for(const p of h)f.push(bR(l,s,p));d={arrayValue:{values:f}}}else d=bR(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||DR(h,c),d=AO(a,o,h,c==="in"||c==="not-in");return ue.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _ie(t,e,n){const r=e,i=yg("where",t);return wg._create(i,r,n)}class OT extends NT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new OT(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Re.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)LO(o,l),o=v0(o,l)}(e._query,n),new ri(e.firestore,e.converter,v0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class MT extends vg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new MT(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new N(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new N(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ah(s,o)}(e._query,this._field,this._direction);return new ri(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new da(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function yie(t,e="asc"){const n=e,r=yg("orderBy",t);return MT._create(r,n)}class LT extends vg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new LT(e,n,r)}_apply(e){return new ri(e.firestore,e.converter,Lp(e._query,this._limit,this._limitType))}}function vie(t){return Y9("limit",t),LT._create("limit",t,"F")}let hW=class MO extends vg{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new MO(e,n,r)}_apply(e){const n=dW(e,this.type,this._docOrFields,this._inclusive);return new ri(e.firestore,e.converter,function(i,s){return new da(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}};function wie(...t){return hW._create("startAfter",t,!1)}function dW(t,e,n,r){if(n[0]=pe(n[0]),n[0]instanceof DT)return function(s,o,a,l,u){if(!l)throw new N(R.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const h of cl(s))if(h.field.isKeyField())c.push(Yo(o,l.key));else{const d=l.data.field(h.field);if(rg(d))throw new N(R.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const f=h.field.canonicalString();throw new N(R.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}c.push(d)}return new $s(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=id(t.firestore);return function(o,a,l,u,c,h){const d=o.explicitOrderBy;if(c.length>d.length)throw new N(R.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let p=0;p<c.length;p++){const g=c[p];if(d[p].field.isKeyField()){if(typeof g!="string")throw new N(R.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof g}`);if(!ZE(o)&&g.indexOf("/")!==-1)throw new N(R.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${g}' contains a slash.`);const v=o.path.child(Te.fromString(g));if(!L.isDocumentKey(v))throw new N(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const _=new L(v);f.push(Yo(a,_))}else{const v=AO(l,u,g);f.push(v)}}return new $s(f,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function bR(t,e,n){if(typeof(n=pe(n))=="string"){if(n==="")throw new N(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZE(e)&&n.indexOf("/")!==-1)throw new N(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Te.fromString(n));if(!L.isDocumentKey(r))throw new N(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yo(t,new L(r))}if(n instanceof rn)return Yo(t,n._key);throw new N(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pg(n)}.`)}function DR(t,e){if(!Array.isArray(t)||t.length===0)throw new N(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LO(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new N(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new N(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fW{convertValue(e,n="none"){switch(Go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw j()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ha(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new kT(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=XE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ih(e));default:return null}}convertTimestamp(e){const n=Ls(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Te.fromString(e);W(UN(r));const i=new qo(r.get(1),r.get(3)),s=new L(r.popFirst(5));return i.isEqual(n)||hn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function pW(){return new eW("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class FO extends DT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Mf extends FO{data(e={}){return super.data(e)}}class $O{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ju(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Mf(this._firestore,this._userDataWriter,r.key,r,new Ju(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new N(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Mf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ju(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Mf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ju(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:mW(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function mW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return j()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t){t=gn(t,rn);const e=gn(t.firestore,xr);return H9(ru(e),t._key).then(n=>jO(e,t,n))}class Eg extends fW{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function Eie(t){t=gn(t,ri);const e=gn(t.firestore,xr),n=ru(e),r=new Eg(e);return OO(t._query),q9(n,t._query).then(i=>new $O(e,r,t,i))}function gW(t,e,n){t=gn(t,rn);const r=gn(t.firestore,xr),i=VO(t.converter,e,n);return Tg(r,[xO(id(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,en.none())])}function Tie(t,e,n,...r){t=gn(t,rn);const i=gn(t.firestore,xr),s=id(i);let o;return o=typeof(e=pe(e))=="string"||e instanceof mg?aW(s,"updateDoc",t._key,e,n,r):oW(s,"updateDoc",t._key,e),Tg(i,[o.toMutation(t._key,en.exists(!0))])}function Iie(t){return Tg(gn(t.firestore,xr),[new ag(t._key,en.none())])}function Sie(t,e){const n=gn(t.firestore,xr),r=uh(t),i=VO(t.converter,e);return Tg(n,[xO(id(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,en.exists(!1))]).then(()=>r)}function BO(t,...e){var n,r,i;t=pe(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||AR(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(AR(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof rn)u=gn(t.firestore,xr),c=Xh(t._key.path),l={next:h=>{e[o]&&e[o](jO(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=gn(t,ri);u=gn(h.firestore,xr),c=h._query;const d=new Eg(u);l={next:f=>{e[o]&&e[o](new $O(u,d,h,f))},error:e[o+1],complete:e[o+2]},OO(t._query)}return function(d,f,p,g){const v=new ST(g),_=new ET(f,v,p);return d.asyncQueue.enqueueAndForget(async()=>yT(await zp(d),_)),()=>{v.Qa(),d.asyncQueue.enqueueAndForget(async()=>vT(await zp(d),_))}}(ru(u),c,a,l)}function Tg(t,e){return function(r,i){const s=new sr;return r.asyncQueue.enqueueAndForget(async()=>O9(await z9(r),i,s)),s.promise}(ru(t),e)}function jO(t,e,n){const r=n.docs.get(e._key),i=new Eg(t);return new FO(t,i,e._key,r,new Ju(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _W(t){return yW(t,{count:pW()})}function yW(t,e){const n=gn(t.firestore,xr),r=ru(n),i=function(o,a){const l=[];for(const u in o)Object.prototype.hasOwnProperty.call(o,u)&&l.push(a(o[u],u,o));return l}(e,(s,o)=>new ez(o,s.aggregateType,s._internalFieldPath));return function(o,a,l){const u=new sr;return o.asyncQueue.enqueueAndForget(async()=>{try{const c=await W9(o);u.resolve(l9(c,a,l))}catch(c){u.reject(c)}}),u.promise}(r,t._query,i).then(s=>function(a,l,u){const c=new Eg(a);return new tW(l,c,u)}(n,t,s))}class vW{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=TW(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function wW(t){return new vW(t)}class EW{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new IT,this._offlineComponentProvider=new EO(this._onlineComponentProvider,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}function TW(t){return new EW(t==null?void 0:t.forceOwnership)}function IW(){return new PT("serverTimestamp")}function Cie(...t){return new xT("arrayUnion",t)}(function(e,n=!0){(function(i){eu=i})(Ks),Ms(new Di("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new xr(new Q6(r.getProvider("auth-internal")),new ej(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new N(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qo(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ir(PC,"4.5.0",e),ir(PC,"4.5.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO="firebasestorage.googleapis.com",WO="storageBucket",SW=2*60*1e3,CW=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt extends ei{constructor(e,n,r=0){super(Cy(e),`Firebase Storage: ${n} (${Cy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ht;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ht||(ht={}));function Cy(t){return"storage/"+t}function VT(){const t="An unknown error occurred, please check the error payload for server response.";return new dt(ht.UNKNOWN,t)}function RW(t){return new dt(ht.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function kW(t){return new dt(ht.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function PW(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(ht.UNAUTHENTICATED,t)}function xW(){return new dt(ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function AW(t){return new dt(ht.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function bW(){return new dt(ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DW(){return new dt(ht.CANCELED,"User canceled the upload/download.")}function NW(t){return new dt(ht.INVALID_URL,"Invalid URL '"+t+"'.")}function OW(t){return new dt(ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function MW(){return new dt(ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+WO+"' property when initializing the app?")}function LW(){return new dt(ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function VW(){return new dt(ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function FW(t){return new dt(ht.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function N0(t){return new dt(ht.INVALID_ARGUMENT,t)}function HO(){return new dt(ht.APP_DELETED,"The Firebase app was deleted.")}function $W(t){return new dt(ht.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _c(t,e){return new dt(ht.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Du(t){throw new dt(ht.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Vn.makeFromUrl(e,n)}catch{return new Vn(e,"")}if(r.path==="")return r;throw OW(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(w){w.path_=decodeURIComponent(w.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${c}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},g=n===zO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",_=new RegExp(`^https?://${g}/${i}/${v}`,"i"),y=[{regex:a,indices:l,postModify:s},{regex:f,indices:p,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<y.length;w++){const I=y[w],C=I.regex.exec(e);if(C){const S=C[I.indices.bucket];let D=C[I.indices.path];D||(D=""),r=new Vn(S,D),I.postModify(r);break}}if(r==null)throw NW(e);return r}}class UW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BW(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...v){u||(u=!0,e.apply(null,v))}function h(v){i=setTimeout(()=>{i=null,t(f,l())},v)}function d(){s&&clearTimeout(s)}function f(v,..._){if(u){d();return}if(v){d(),c.call(null,v,..._);return}if(l()||o){d(),c.call(null,v,..._);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,h(y)}let p=!1;function g(v){p||(p=!0,d(),!u&&(i!==null?(v||(a=2),clearTimeout(i),h(0)):v||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function jW(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zW(t){return t!==void 0}function WW(t){return typeof t=="object"&&!Array.isArray(t)}function FT(t){return typeof t=="string"||t instanceof String}function NR(t){return $T()&&t instanceof Blob}function $T(){return typeof Blob<"u"}function OR(t,e,n,r){if(r<e)throw N0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw N0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function qO(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(bo||(bo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HW(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(e,n,r,i,s,o,a,l,u,c,h,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new tf(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===bo.NO_ERROR,l=s.getStatus();if(!a||HW(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===bo.ABORT;r(!1,new tf(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new tf(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());zW(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=VT();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?HO():DW();o(l)}else{const l=bW();o(l)}};this.canceled_?n(!1,new tf(!1,null,!0)):this.backoffId_=BW(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&jW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class tf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function GW(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function YW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function KW(t,e){e&&(t["X-Firebase-GMPID"]=e)}function QW(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function XW(t,e,n,r,i,s,o=!0){const a=qO(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return KW(u,e),GW(u,n),YW(u,s),QW(u,r),new qW(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ZW(...t){const e=JW();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if($T())return new Blob(t);throw new dt(ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function eH(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(t){if(typeof atob>"u")throw FW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ry{constructor(e,n){this.data=e,this.contentType=n||null}}function nH(t,e){switch(t){case qr.RAW:return new Ry(GO(e));case qr.BASE64:case qr.BASE64URL:return new Ry(YO(t,e));case qr.DATA_URL:return new Ry(iH(e),sH(e))}throw VT()}function GO(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function rH(t){let e;try{e=decodeURIComponent(t)}catch{throw _c(qr.DATA_URL,"Malformed data URL.")}return GO(e)}function YO(t,e){switch(t){case qr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw _c(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case qr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw _c(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=tH(e)}catch(i){throw i.message.includes("polyfill")?i:_c(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class KO{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw _c(qr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=oH(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function iH(t){const e=new KO(t);return e.base64?YO(qr.BASE64,e.rest):rH(e.rest)}function sH(t){return new KO(t).contentType}function oH(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){let r=0,i="";NR(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(NR(this.data_)){const r=this.data_,i=eH(r,e,n);return i===null?null:new cs(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new cs(r,!0)}}static getBlob(...e){if($T()){const n=e.map(r=>r instanceof cs?r.data_:r);return new cs(ZW.apply(null,n))}else{const n=e.map(o=>FT(o)?nH(qr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new cs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(t){let e;try{e=JSON.parse(t)}catch{return null}return WW(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aH(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function lH(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function XO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uH(t,e){return e}class ln{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||uH}}let nf=null;function cH(t){return!FT(t)||t.length<2?t:XO(t)}function JO(){if(nf)return nf;const t=[];t.push(new ln("bucket")),t.push(new ln("generation")),t.push(new ln("metageneration")),t.push(new ln("name","fullPath",!0));function e(s,o){return cH(o)}const n=new ln("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new ln("size");return i.xform=r,t.push(i),t.push(new ln("timeCreated")),t.push(new ln("updated")),t.push(new ln("md5Hash",null,!0)),t.push(new ln("cacheControl",null,!0)),t.push(new ln("contentDisposition",null,!0)),t.push(new ln("contentEncoding",null,!0)),t.push(new ln("contentLanguage",null,!0)),t.push(new ln("contentType",null,!0)),t.push(new ln("metadata","customMetadata",!0)),nf=t,nf}function hH(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Vn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function dH(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return hH(r,t),r}function ZO(t,e,n){const r=QO(e);return r===null?null:dH(t,r,n)}function fH(t,e,n,r){const i=QO(e);if(i===null||!FT(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,h=t.fullPath,d="/b/"+o(c)+"/o/"+o(h),f=Ig(d,n,r),p=qO({alt:"media",token:u});return f+p})[0]}function pH(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class UT{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t){if(!t)throw VT()}function mH(t,e){function n(r,i){const s=ZO(t,i,e);return eM(s!==null),s}return n}function gH(t,e){function n(r,i){const s=ZO(t,i,e);return eM(s!==null),fH(s,i,t.host,t._protocol)}return n}function tM(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=xW():i=PW():n.getStatus()===402?i=kW(t.bucket):n.getStatus()===403?i=AW(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function nM(t){const e=tM(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=RW(t.path)),s.serverResponse=i.serverResponse,s}return n}function _H(t,e,n){const r=e.fullServerUrl(),i=Ig(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new UT(i,s,gH(t,n),o);return a.errorHandler=nM(e),a}function yH(t,e){const n=e.fullServerUrl(),r=Ig(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new UT(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=nM(e),a}function vH(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function wH(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=vH(null,e)),r}function EH(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let w=0;w<2;w++)y=y+Math.random().toString().slice(2);return y}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=wH(e,r,i),c=pH(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+l+"--",f=cs.getBlob(h,r,d);if(f===null)throw LW();const p={name:u.fullPath},g=Ig(s,t.host,t._protocol),v="POST",_=t.maxUploadRetryTime,m=new UT(g,v,mH(t,n),_);return m.urlParams=p,m.headers=o,m.body=f.uploadData(),m.errorHandler=tM(e),m}class TH{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=bo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=bo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=bo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Du("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Du("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Du("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Du("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Du("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class IH extends TH{initXhr(){this.xhr_.responseType="text"}}function BT(){return new IH}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this._service=e,n instanceof Vn?this._location=n:this._location=Vn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ea(e,n)}get root(){const e=new Vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return XO(this._location.path)}get storage(){return this._service}get parent(){const e=aH(this._location.path);if(e===null)return null;const n=new Vn(this._location.bucket,e);return new ea(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw $W(e)}}function SH(t,e,n){t._throwIfRoot("uploadBytes");const r=EH(t.storage,t._location,JO(),new cs(e,!0),n);return t.storage.makeRequestWithTokens(r,BT).then(i=>({metadata:i,ref:t}))}function CH(t){t._throwIfRoot("getDownloadURL");const e=_H(t.storage,t._location,JO());return t.storage.makeRequestWithTokens(e,BT).then(n=>{if(n===null)throw VW();return n})}function RH(t){t._throwIfRoot("deleteObject");const e=yH(t.storage,t._location);return t.storage.makeRequestWithTokens(e,BT)}function kH(t,e){const n=lH(t._location.path,e),r=new Vn(t._location.bucket,n);return new ea(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PH(t){return/^[A-Za-z]+:\/\//.test(t)}function xH(t,e){return new ea(t,e)}function rM(t,e){if(t instanceof jT){const n=t;if(n._bucket==null)throw MW();const r=new ea(n,n._bucket);return e!=null?rM(r,e):r}else return e!==void 0?kH(t,e):t}function AH(t,e){if(e&&PH(e)){if(t instanceof jT)return xH(t,e);throw N0("To use ref(service, url), the first argument must be a Storage instance.")}else return rM(t,e)}function MR(t,e){const n=e==null?void 0:e[WO];return n==null?null:Vn.makeFromBucketSpec(n,t)}function bH(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:eb(i,t.app.options.projectId))}class jT{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=zO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SW,this._maxUploadRetryTime=CW,this._requests=new Set,i!=null?this._bucket=Vn.makeFromBucketSpec(i,this._host):this._bucket=MR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vn.makeFromBucketSpec(this._url,e):this._bucket=MR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){OR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){OR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ea(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new UW(HO());{const o=XW(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const LR="@firebase/storage",VR="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="storage";function Rie(t,e,n){return t=pe(t),SH(t,e,n)}function kie(t){return t=pe(t),CH(t)}function Pie(t){return t=pe(t),RH(t)}function xie(t,e){return t=pe(t),AH(t,e)}function DH(t=mE(),e){t=pe(t);const r=Vh(t,iM).getImmediate({identifier:e}),i=XA("storage");return i&&NH(r,...i),r}function NH(t,e,n,r={}){bH(t,e,n,r)}function OH(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new jT(n,r,i,e,Ks)}function MH(){Ms(new Di(iM,OH,"PUBLIC").setMultipleInstances(!0)),ir(LR,VR,""),ir(LR,VR,"esm2017")}MH();var FR={};const $R="@firebase/database",UR="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sM="";function LH(t){sM=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Nt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:zc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ti(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new VH(e)}}catch{}return new FH},Eo=oM("localStorage"),O0=oM("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=new Om("@firebase/database"),$H=function(){let t=1;return function(){return t++}}(),aM=function(t){const e=g4(t),n=new d4;n.update(e);const r=n.digest();return dE.encodeByteArray(r)},sd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=sd.apply(null,r):typeof r=="object"?e+=Nt(r):e+=r,e+=" "}return e};let Do=null,BR=!0;const UH=function(t,e){O(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(dl.logLevel=oe.VERBOSE,Do=dl.log.bind(dl),e&&O0.set("logging_enabled",!0)):typeof t=="function"?Do=t:(Do=null,O0.remove("logging_enabled"))},zt=function(...t){if(BR===!0&&(BR=!1,Do===null&&O0.get("logging_enabled")===!0&&UH(!0)),Do){const e=sd.apply(null,t);Do(e)}},od=function(t){return function(...e){zt(t,...e)}},M0=function(...t){const e="FIREBASE INTERNAL ERROR: "+sd(...t);dl.error(e)},Mi=function(...t){const e=`FIREBASE FATAL ERROR: ${sd(...t)}`;throw dl.error(e),new Error(e)},An=function(...t){const e="FIREBASE WARNING: "+sd(...t);dl.warn(e)},BH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&An("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Sg=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},jH=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ta="[MIN_NAME]",Bs="[MAX_NAME]",pa=function(t,e){if(t===e)return 0;if(t===ta||e===Bs)return-1;if(e===ta||t===Bs)return 1;{const n=jR(t),r=jR(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},zH=function(t,e){return t===e?0:t<e?-1:1},Nu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Nt(e))},zT=function(t){if(typeof t!="object"||t===null)return Nt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Nt(e[r]),n+=":",n+=zT(t[e[r]]);return n+="}",n},lM=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function an(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const uM=function(t){O(!Sg(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let h="";for(l=0;l<64;l+=8){let d=parseInt(c.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},WH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},HH=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function qH(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const GH=new RegExp("^-?(0*)\\d{1,10}$"),YH=-2147483648,KH=2147483647,jR=function(t){if(GH.test(t)){const e=Number(t);if(e>=YH&&e<=KH)return e}return null},su=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw An("Exception was thrown by user callback.",n),e},Math.floor(0))}},QH=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},yc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XH{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){An(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(zt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',An(e)}}class fl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}fl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="5",cM="v",hM="s",dM="r",fM="f",pM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mM="ls",gM="p",L0="ac",_M="websocket",yM="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Eo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Eo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function ZH(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function wM(t,e,n){O(typeof e=="string","typeof type must == string"),O(typeof n=="object","typeof params must == object");let r;if(e===_M)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===yM)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ZH(t)&&(n.ns=t.namespace);const i=[];return an(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(){this.counters_={}}incrementCounter(e,n=1){ti(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return XU(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky={},Py={};function HT(t){const e=t.toString();return ky[e]||(ky[e]=new eq),ky[e]}function tq(t,e){const n=t.toString();return Py[n]||(Py[n]=e()),Py[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&su(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="start",rq="close",iq="pLPCommand",sq="pRTLPCB",EM="id",TM="pw",IM="ser",oq="cb",aq="seg",lq="ts",uq="d",cq="dframe",SM=1870,CM=30,hq=SM-CM,dq=25e3,fq=3e4;class Xa{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=od(e),this.stats_=HT(n),this.urlFn=l=>(this.appCheckToken&&(l[L0]=this.appCheckToken),wM(n,yM,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new nq(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(fq)),jH(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qT((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===zR)this.id=a,this.password=l;else if(o===rq)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[zR]="t",r[IM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[oq]=this.scriptTagHolder.uniqueCallbackIdentifier),r[cM]=WT,this.transportSessionId&&(r[hM]=this.transportSessionId),this.lastSessionId&&(r[mM]=this.lastSessionId),this.applicationId&&(r[gM]=this.applicationId),this.appCheckToken&&(r[L0]=this.appCheckToken),typeof location<"u"&&location.hostname&&pM.test(location.hostname)&&(r[dM]=fM);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xa.forceAllow_=!0}static forceDisallow(){Xa.forceDisallow_=!0}static isAvailable(){return Xa.forceAllow_?!0:!Xa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!WH()&&!HH()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Nt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=YA(n),i=lM(r,hq);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[cq]="t",r[EM]=e,r[TM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Nt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class qT{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=$H(),window[iq+this.uniqueCallbackIdentifier]=e,window[sq+this.uniqueCallbackIdentifier]=n,this.myIFrame=qT.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){zt("frame writing exception"),a.stack&&zt(a.stack),zt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||zt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[EM]=this.myID,e[TM]=this.myPW,e[IM]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+CM+r.length<=SM;){const o=this.pendingSegs.shift();r=r+"&"+aq+i+"="+o.seg+"&"+lq+i+"="+o.ts+"&"+uq+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(dq)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{zt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq=16384,mq=45e3;let Hp=null;typeof MozWebSocket<"u"?Hp=MozWebSocket:typeof WebSocket<"u"&&(Hp=WebSocket);class wr{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=od(this.connId),this.stats_=HT(n),this.connURL=wr.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[cM]=WT,typeof location<"u"&&location.hostname&&pM.test(location.hostname)&&(o[dM]=fM),n&&(o[hM]=n),r&&(o[mM]=r),i&&(o[L0]=i),s&&(o[gM]=s),wM(e,_M,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Eo.set("previous_websocket_failure",!0);try{let r;nb(),this.mySock=new Hp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){wr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Hp!==null&&!wr.forceDisallow_}static previouslyFailed(){return Eo.isInMemoryStorage||Eo.get("previous_websocket_failure")===!0}markConnectionHealthy(){Eo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=zc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(O(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Nt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=lM(n,pq);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(mq))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}wr.responsesRequiredToBeHealthy=2;wr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Xa,wr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=wr&&wr.isAvailable();let r=n&&!wr.previouslyFailed();if(e.webSocketOnly&&(n||An("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[wr];else{const i=this.transports_=[];for(const s of ch.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);ch.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ch.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq=6e4,_q=5e3,yq=10*1024,vq=100*1024,xy="t",WR="d",wq="s",HR="r",Eq="e",qR="o",GR="a",YR="n",KR="p",Tq="h";class Iq{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=od("c:"+this.id+":"),this.transportManager_=new ch(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=yc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>vq?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>yq?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(xy in e){const n=e[xy];n===GR?this.upgradeIfSecondaryHealthy_():n===HR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===qR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Nu("t",e),r=Nu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:KR,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:GR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:YR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Nu("t",e),r=Nu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Nu(xy,e);if(WR in e){const r=e[WR];if(n===Tq){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===YR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===wq?this.onConnectionShutdown_(r):n===HR?this.onReset_(r):n===Eq?M0("Server Error: "+r):n===qR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):M0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),WT!==r&&An("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),yc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(gq))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):yc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(_q))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:KR,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Eo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.allowedEvents_=e,this.listeners_={},O(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){O(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends kM{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!fE()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new qp}getInitialEvent(e){return O(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=32,XR=768;class Ce{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ie(){return new Ce("")}function ne(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function js(t){return t.pieces_.length-t.pieceNum_}function Oe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ce(t.pieces_,e)}function GT(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Sq(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function hh(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function PM(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ce(e,0)}function mt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ce)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ce(n,0)}function re(t){return t.pieceNum_>=t.pieces_.length}function Cn(t,e){const n=ne(t),r=ne(e);if(n===null)return e;if(n===r)return Cn(Oe(t),Oe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Cq(t,e){const n=hh(t,0),r=hh(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=pa(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function YT(t,e){if(js(t)!==js(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function nr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(js(t)>js(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Rq{constructor(e,n){this.errorPrefix_=n,this.parts_=hh(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Nm(this.parts_[r]);xM(this)}}function kq(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Nm(e),xM(t)}function Pq(t){const e=t.parts_.pop();t.byteLength_-=Nm(e),t.parts_.length>0&&(t.byteLength_-=1)}function xM(t){if(t.byteLength_>XR)throw new Error(t.errorPrefix_+"has a key path longer than "+XR+" bytes ("+t.byteLength_+").");if(t.parts_.length>QR)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+QR+") or object contains a cycle "+ao(t))}function ao(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT extends kM{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new KT}getInitialEvent(e){return O(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=1e3,xq=60*5*1e3,JR=30*1e3,Aq=1.3,bq=3e4,Dq="server_kill",ZR=3;class Ci extends RM{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ci.nextPersistentConnectionId_++,this.log_=od("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ou,this.maxReconnectDelay_=xq,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!nb())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");KT.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&qp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Nt(s)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new fi,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Ci.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ti(e,"w")){const r=kl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();An(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||h4(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=JR)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=c4(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Nt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):M0("Unrecognized action received from server: "+Nt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ou,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ou,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>bq&&(this.reconnectDelay_=Ou),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Aq)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ci.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(h){O(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,d]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?zt("getToken() completed but was canceled"):(zt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,a=new Iq(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{An(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(Dq)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&An(h),l())}}}interrupt(e){zt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){zt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],yp(this.interruptReasons_)&&(this.reconnectDelay_=Ou,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>zT(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Ce(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){zt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ZR&&(this.reconnectDelay_=JR,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){zt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ZR&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+sM.replace(/\./g,"-")]=1,fE()?e["framework.cordova"]=1:tb()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=qp.getInstance().currentlyOnline();return yp(this.interruptReasons_)&&e}}Ci.nextPersistentConnectionId_=0;Ci.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new se(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new se(ta,e),i=new se(ta,n);return this.compare(r,i)!==0}minPost(){return se.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf;class AM extends Cg{static get __EMPTY_NODE(){return rf}static set __EMPTY_NODE(e){rf=e}compare(e,n){return pa(e.name,n.name)}isDefinedOn(e){throw Kl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return se.MIN}maxPost(){return new se(Bs,rf)}makePost(e,n){return O(typeof e=="string","KeyIndex indexValue must always be a string."),new se(e,rf)}toString(){return".key"}}const No=new AM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Dt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Dt.RED,this.left=i??Rn.EMPTY_NODE,this.right=s??Rn.EMPTY_NODE}copy(e,n,r,i,s){return new Dt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Rn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Rn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Dt.RED=!0;Dt.BLACK=!1;class Nq{copy(e,n,r,i,s){return this}insert(e,n,r){return new Dt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Rn{constructor(e,n=Rn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Rn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Dt.BLACK,null,null))}remove(e){return new Rn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Dt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new sf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new sf(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new sf(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new sf(this.root_,null,this.comparator_,!0,e)}}Rn.EMPTY_NODE=new Nq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oq(t,e){return pa(t.name,e.name)}function QT(t,e){return pa(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V0;function Mq(t){V0=t}const bM=function(t){return typeof t=="number"?"number:"+uM(t):"string:"+t},DM=function(t){if(t.isLeafNode()){const e=t.val();O(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ti(e,".sv"),"Priority must be a string or number.")}else O(t===V0||t.isEmpty(),"priority of unexpected type.");O(t===V0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ek;class xt{constructor(e,n=xt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),DM(this.priorityNode_)}static set __childrenNodeConstructor(e){ek=e}static get __childrenNodeConstructor(){return ek}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new xt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:xt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return re(e)?this:ne(e)===".priority"?this.priorityNode_:xt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:xt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ne(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(O(r!==".priority"||js(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,xt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Oe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+bM(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=uM(this.value_):e+=this.value_,this.lazyHash_=aM(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===xt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof xt.__childrenNodeConstructor?-1:(O(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=xt.VALUE_TYPE_ORDER.indexOf(n),s=xt.VALUE_TYPE_ORDER.indexOf(r);return O(i>=0,"Unknown leaf type: "+n),O(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}xt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NM,OM;function Lq(t){NM=t}function Vq(t){OM=t}class Fq extends Cg{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?pa(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return se.MIN}maxPost(){return new se(Bs,new xt("[PRIORITY-POST]",OM))}makePost(e,n){const r=NM(e);return new se(n,new xt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ye=new Fq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $q=Math.log(2);class Uq{constructor(e){const n=s=>parseInt(Math.log(s)/$q,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Gp=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let h,d;if(c===0)return null;if(c===1)return h=t[l],d=n?n(h):h,new Dt(d,h.node,Dt.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),g=i(f+1,u);return h=t[f],d=n?n(h):h,new Dt(d,h.node,Dt.BLACK,p,g)}},s=function(l){let u=null,c=null,h=t.length;const d=function(p,g){const v=h-p,_=h;h-=p;const m=i(v+1,_),y=t[v],w=n?n(y):y;f(new Dt(w,y.node,g,null,m))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),v=Math.pow(2,l.count-(p+1));g?d(v,Dt.BLACK):(d(v,Dt.BLACK),d(v,Dt.RED))}return c},o=new Uq(t.length),a=s(o);return new Rn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ay;const Sa={};class Ei{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return O(Sa&&Ye,"ChildrenNode.ts has not been loaded"),Ay=Ay||new Ei({".priority":Sa},{".priority":Ye}),Ay}get(e){const n=kl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Rn?n:null}hasIndex(e){return ti(this.indexSet_,e.toString())}addIndex(e,n){O(e!==No,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(se.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Gp(r,e.getCompare()):a=Sa;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Ei(c,u)}addToIndexes(e,n){const r=vp(this.indexes_,(i,s)=>{const o=kl(this.indexSet_,s);if(O(o,"Missing index implementation for "+s),i===Sa)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(se.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Gp(a,o.getCompare())}else return Sa;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new se(e.name,a))),l.insert(e,e.node)}});return new Ei(r,this.indexSet_)}removeFromIndexes(e,n){const r=vp(this.indexes_,i=>{if(i===Sa)return i;{const s=n.get(e.name);return s?i.remove(new se(e.name,s)):i}});return new Ei(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu;class Q{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&DM(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Mu||(Mu=new Q(new Rn(QT),null,Ei.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Mu}updatePriority(e){return this.children_.isEmpty()?this:new Q(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Mu:n}}getChild(e){const n=ne(e);return n===null?this:this.getImmediateChild(n).getChild(Oe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(O(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new se(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Mu:this.priorityNode_;return new Q(i,o,s)}}updateChild(e,n){const r=ne(e);if(r===null)return n;{O(ne(e)!==".priority"||js(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Oe(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ye,(o,a)=>{n[o]=a.val(e),r++,s&&Q.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+bM(this.getPriority().val())+":"),this.forEachChild(Ye,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":aM(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new se(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new se(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new se(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,se.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,se.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ad?-1:0}withIndex(e){if(e===No||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Q(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===No||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ye),i=n.getIterator(Ye);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===No?null:this.indexMap_.get(e.toString())}}Q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Bq extends Q{constructor(){super(new Rn(QT),Q.EMPTY_NODE,Ei.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Q.EMPTY_NODE}isEmpty(){return!1}}const ad=new Bq;Object.defineProperties(se,{MIN:{value:new se(ta,Q.EMPTY_NODE)},MAX:{value:new se(Bs,ad)}});AM.__EMPTY_NODE=Q.EMPTY_NODE;xt.__childrenNodeConstructor=Q;Mq(ad);Vq(ad);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq=!0;function wt(t,e=null){if(t===null)return Q.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),O(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new xt(n,wt(e))}if(!(t instanceof Array)&&jq){const n=[];let r=!1;if(an(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=wt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new se(o,l)))}}),n.length===0)return Q.EMPTY_NODE;const s=Gp(n,Oq,o=>o.name,QT);if(r){const o=Gp(n,Ye.getCompare());return new Q(s,wt(e),new Ei({".priority":o},{".priority":Ye}))}else return new Q(s,wt(e),Ei.Default)}else{let n=Q.EMPTY_NODE;return an(t,(r,i)=>{if(ti(t,r)&&r.substring(0,1)!=="."){const s=wt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(wt(e))}}Lq(wt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT extends Cg{constructor(e){super(),this.indexPath_=e,O(!re(e)&&ne(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?pa(e.name,n.name):s}makePost(e,n){const r=wt(e),i=Q.EMPTY_NODE.updateChild(this.indexPath_,r);return new se(n,i)}maxPost(){const e=Q.EMPTY_NODE.updateChild(this.indexPath_,ad);return new se(Bs,e)}toString(){return hh(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq extends Cg{compare(e,n){const r=e.node.compareTo(n.node);return r===0?pa(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return se.MIN}maxPost(){return se.MAX}makePost(e,n){const r=wt(e);return new se(n,r)}toString(){return".value"}}const MM=new zq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(t){return{type:"value",snapshotNode:t}}function $l(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function dh(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function fh(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Wq(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){O(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(dh(n,a)):O(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange($l(n,r)):o.trackChildChange(fh(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ye,(i,s)=>{n.hasChild(i)||r.trackChildChange(dh(i,s))}),n.isLeafNode()||n.forEachChild(Ye,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(fh(i,s,o))}else r.trackChildChange($l(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Q.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e){this.indexedFilter_=new JT(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ph.getStartPost_(e),this.endPost_=ph.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new se(n,r))||(r=Q.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Q.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Q.EMPTY_NODE);const s=this;return n.forEachChild(Ye,(o,a)=>{s.matches(new se(o,a))||(i=i.updateImmediateChild(o,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ph(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new se(n,r))||(r=Q.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Q.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Q.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(d,f)=>h(f,d)}else o=this.index_.getCompare();const a=e;O(a.numChildren()===this.limit_,"");const l=new se(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||a.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const f=d==null?1:o(d,l);if(c&&!r.isEmpty()&&f>=0)return s!=null&&s.trackChildChange(fh(n,r,h)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(dh(n,h));const g=a.updateImmediateChild(n,Q.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange($l(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}}else return r.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(dh(u.name,u.node)),s.trackChildChange($l(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,Q.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ye}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ta}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Bs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ye}copy(){const e=new ZT;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function qq(t){return t.loadsAllData()?new JT(t.getIndex()):t.hasLimit()?new Hq(t):new ph(t)}function Gq(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Yq(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Kq(t,e){const n=t.copy();return n.index_=e,n}function tk(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ye?n="$priority":t.index_===MM?n="$value":t.index_===No?n="$key":(O(t.index_ instanceof XT,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Nt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Nt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Nt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Nt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Nt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function nk(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ye&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends RM{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=od("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(O(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Yp.getListenId_(e,r),a={};this.listens_[o]=a;const l=tk(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let h=c;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),kl(this.listens_,o)===a){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",i(d,null)}})}unlisten(e,n){const r=Yp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=tk(e._queryParams),r=e._path.toString(),i=new fi;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ql(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=zc(a.responseText)}catch{An("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&An("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(){return{value:null,children:new Map}}function ou(t,e,n){if(re(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ne(e);t.children.has(r)||t.children.set(r,Kp());const i=t.children.get(r);e=Oe(e),ou(i,e,n)}}function F0(t,e){if(re(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(Ye,(r,i)=>{ou(t,new Ce(r),i)}),F0(t,e)}}else if(t.children.size>0){const n=ne(e);return e=Oe(e),t.children.has(n)&&F0(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function $0(t,e,n){t.value!==null?n(e,t.value):Xq(t,(r,i)=>{const s=new Ce(e.toString()+"/"+r);$0(i,s,n)})}function Xq(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&an(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=10*1e3,Zq=30*1e3,eG=5*60*1e3;class tG{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Jq(e);const r=rk+(Zq-rk)*Math.random();yc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;an(e,(i,s)=>{s>0&&ti(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),yc(this.reportStats_.bind(this),Math.floor(Math.random()*2*eG))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Er;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Er||(Er={}));function VM(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function eI(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function tI(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Er.ACK_USER_WRITE,this.source=VM()}operationForChild(e){if(re(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ce(e));return new Qp(Ie(),n,this.revert)}}else return O(ne(this.path)===e,"operationForChild called for unrelated child."),new Qp(Oe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n){this.source=e,this.path=n,this.type=Er.LISTEN_COMPLETE}operationForChild(e){return re(this.path)?new mh(this.source,Ie()):new mh(this.source,Oe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Er.OVERWRITE}operationForChild(e){return re(this.path)?new na(this.source,Ie(),this.snap.getImmediateChild(e)):new na(this.source,Oe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Er.MERGE}operationForChild(e){if(re(this.path)){const n=this.children.subtree(new Ce(e));return n.isEmpty()?null:n.value?new na(this.source,Ie(),n.value):new gh(this.source,Ie(),n)}else return O(ne(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new gh(this.source,Oe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(re(e))return this.isFullyInitialized()&&!this.filtered_;const n=ne(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function rG(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Wq(o.childName,o.snapshotNode))}),Lu(t,i,"child_removed",e,r,n),Lu(t,i,"child_added",e,r,n),Lu(t,i,"child_moved",s,r,n),Lu(t,i,"child_changed",e,r,n),Lu(t,i,"value",e,r,n),i}function Lu(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>sG(t,a,l)),o.forEach(a=>{const l=iG(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function iG(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function sG(t,e,n){if(e.childName==null||n.childName==null)throw Kl("Should only compare child_ events.");const r=new se(e.childName,e.snapshotNode),i=new se(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t,e){return{eventCache:t,serverCache:e}}function vc(t,e,n,r){return Rg(new ra(e,n,r),t.serverCache)}function FM(t,e,n,r){return Rg(t.eventCache,new ra(e,n,r))}function U0(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ia(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let by;const oG=()=>(by||(by=new Rn(zH)),by);class Fe{constructor(e,n=oG()){this.value=e,this.children=n}static fromObject(e){let n=new Fe(null);return an(e,(r,i)=>{n=n.set(new Ce(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ie(),value:this.value};if(re(e))return null;{const r=ne(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Oe(e),n);return s!=null?{path:mt(new Ce(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(re(e))return this;{const n=ne(e),r=this.children.get(n);return r!==null?r.subtree(Oe(e)):new Fe(null)}}set(e,n){if(re(e))return new Fe(n,this.children);{const r=ne(e),s=(this.children.get(r)||new Fe(null)).set(Oe(e),n),o=this.children.insert(r,s);return new Fe(this.value,o)}}remove(e){if(re(e))return this.children.isEmpty()?new Fe(null):new Fe(null,this.children);{const n=ne(e),r=this.children.get(n);if(r){const i=r.remove(Oe(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Fe(null):new Fe(this.value,s)}else return this}}get(e){if(re(e))return this.value;{const n=ne(e),r=this.children.get(n);return r?r.get(Oe(e)):null}}setTree(e,n){if(re(e))return n;{const r=ne(e),s=(this.children.get(r)||new Fe(null)).setTree(Oe(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Fe(this.value,o)}}fold(e){return this.fold_(Ie(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(mt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ie(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(re(e))return null;{const s=ne(e),o=this.children.get(s);return o?o.findOnPath_(Oe(e),mt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ie(),n)}foreachOnPath_(e,n,r){if(re(e))return this;{this.value&&r(n,this.value);const i=ne(e),s=this.children.get(i);return s?s.foreachOnPath_(Oe(e),mt(n,i),r):new Fe(null)}}foreach(e){this.foreach_(Ie(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(mt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.writeTree_=e}static empty(){return new Cr(new Fe(null))}}function wc(t,e,n){if(re(e))return new Cr(new Fe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Cn(i,e);return s=s.updateChild(o,n),new Cr(t.writeTree_.set(i,s))}else{const i=new Fe(n),s=t.writeTree_.setTree(e,i);return new Cr(s)}}}function ik(t,e,n){let r=t;return an(n,(i,s)=>{r=wc(r,mt(e,i),s)}),r}function sk(t,e){if(re(e))return Cr.empty();{const n=t.writeTree_.setTree(e,new Fe(null));return new Cr(n)}}function B0(t,e){return ma(t,e)!=null}function ma(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Cn(n.path,e)):null}function ok(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ye,(r,i)=>{e.push(new se(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new se(r,i.value))}),e}function bs(t,e){if(re(e))return t;{const n=ma(t,e);return n!=null?new Cr(new Fe(n)):new Cr(t.writeTree_.subtree(e))}}function j0(t){return t.writeTree_.isEmpty()}function Ul(t,e){return $M(Ie(),t.writeTree_,e)}function $M(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(O(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=$M(mt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(mt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(t,e){return zM(e,t)}function aG(t,e,n,r,i){O(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=wc(t.visibleWrites,e,n)),t.lastWriteId=r}function lG(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function uG(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);O(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&cG(a,r.path)?i=!1:nr(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return hG(t),!0;if(r.snap)t.visibleWrites=sk(t.visibleWrites,r.path);else{const a=r.children;an(a,l=>{t.visibleWrites=sk(t.visibleWrites,mt(r.path,l))})}return!0}else return!1}function cG(t,e){if(t.snap)return nr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&nr(mt(t.path,n),e))return!0;return!1}function hG(t){t.visibleWrites=UM(t.allWrites,dG,Ie()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function dG(t){return t.visible}function UM(t,e,n){let r=Cr.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)nr(n,o)?(a=Cn(n,o),r=wc(r,a,s.snap)):nr(o,n)&&(a=Cn(o,n),r=wc(r,Ie(),s.snap.getChild(a)));else if(s.children){if(nr(n,o))a=Cn(n,o),r=ik(r,a,s.children);else if(nr(o,n))if(a=Cn(o,n),re(a))r=ik(r,Ie(),s.children);else{const l=kl(s.children,ne(a));if(l){const u=l.getChild(Oe(a));r=wc(r,Ie(),u)}}}else throw Kl("WriteRecord should have .snap or .children")}}return r}function BM(t,e,n,r,i){if(!r&&!i){const s=ma(t.visibleWrites,e);if(s!=null)return s;{const o=bs(t.visibleWrites,e);if(j0(o))return n;if(n==null&&!B0(o,Ie()))return null;{const a=n||Q.EMPTY_NODE;return Ul(o,a)}}}else{const s=bs(t.visibleWrites,e);if(!i&&j0(s))return n;if(!i&&n==null&&!B0(s,Ie()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(nr(u.path,e)||nr(e,u.path))},a=UM(t.allWrites,o,e),l=n||Q.EMPTY_NODE;return Ul(a,l)}}}function fG(t,e,n){let r=Q.EMPTY_NODE;const i=ma(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ye,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=bs(t.visibleWrites,e);return n.forEachChild(Ye,(o,a)=>{const l=Ul(bs(s,new Ce(o)),a);r=r.updateImmediateChild(o,l)}),ok(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=bs(t.visibleWrites,e);return ok(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function pG(t,e,n,r,i){O(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=mt(e,n);if(B0(t.visibleWrites,s))return null;{const o=bs(t.visibleWrites,s);return j0(o)?i.getChild(n):Ul(o,i.getChild(n))}}function mG(t,e,n,r){const i=mt(e,n),s=ma(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=bs(t.visibleWrites,i);return Ul(o,r.getNode().getImmediateChild(n))}else return null}function gG(t,e){return ma(t.visibleWrites,e)}function _G(t,e,n,r,i,s,o){let a;const l=bs(t.visibleWrites,e),u=ma(l,Ie());if(u!=null)a=u;else if(n!=null)a=Ul(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],h=o.getCompare(),d=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=d.getNext();for(;f&&c.length<i;)h(f,r)!==0&&c.push(f),f=d.getNext();return c}else return[]}function yG(){return{visibleWrites:Cr.empty(),allWrites:[],lastWriteId:-1}}function Xp(t,e,n,r){return BM(t.writeTree,t.treePath,e,n,r)}function rI(t,e){return fG(t.writeTree,t.treePath,e)}function ak(t,e,n,r){return pG(t.writeTree,t.treePath,e,n,r)}function Jp(t,e){return gG(t.writeTree,mt(t.treePath,e))}function vG(t,e,n,r,i,s){return _G(t.writeTree,t.treePath,e,n,r,i,s)}function iI(t,e,n){return mG(t.writeTree,t.treePath,e,n)}function jM(t,e){return zM(mt(t.treePath,e),t.writeTree)}function zM(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;O(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),O(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,fh(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,dh(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,$l(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,fh(r,e.snapshotNode,i.oldSnap));else throw Kl("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const WM=new EG;class sI{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ra(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return iI(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ia(this.viewCache_),s=vG(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TG(t){return{filter:t}}function IG(t,e){O(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),O(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function SG(t,e,n,r,i){const s=new wG;let o,a;if(n.type===Er.OVERWRITE){const u=n;u.source.fromUser?o=z0(t,e,u.path,u.snap,r,i,s):(O(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!re(u.path),o=Zp(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Er.MERGE){const u=n;u.source.fromUser?o=RG(t,e,u.path,u.children,r,i,s):(O(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=W0(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Er.ACK_USER_WRITE){const u=n;u.revert?o=xG(t,e,u.path,r,i,s):o=kG(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Er.LISTEN_COMPLETE)o=PG(t,e,n.path,r,s);else throw Kl("Unknown operation type: "+n.type);const l=s.getChanges();return CG(e,o,l),{viewCache:o,changes:l}}function CG(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=U0(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(LM(U0(e)))}}function HM(t,e,n,r,i,s){const o=e.eventCache;if(Jp(r,n)!=null)return e;{let a,l;if(re(n))if(O(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=ia(e),c=u instanceof Q?u:Q.EMPTY_NODE,h=rI(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const u=Xp(r,ia(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=ne(n);if(u===".priority"){O(js(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const h=ak(r,n,c,l);h!=null?a=t.filter.updatePriority(c,h):a=o.getNode()}else{const c=Oe(n);let h;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const d=ak(r,n,o.getNode(),l);d!=null?h=o.getNode().getImmediateChild(u).updateChild(c,d):h=o.getNode().getImmediateChild(u)}else h=iI(r,u,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),u,h,c,i,s):a=o.getNode()}}return vc(e,a,o.isFullyInitialized()||re(n),t.filter.filtersNodes())}}function Zp(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(re(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=ne(n);if(!l.isCompleteForPath(n)&&js(n)>1)return e;const p=Oe(n),v=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?u=c.updatePriority(l.getNode(),v):u=c.updateChild(l.getNode(),f,v,p,WM,null)}const h=FM(e,u,l.isFullyInitialized()||re(n),c.filtersNodes()),d=new sI(i,h,s);return HM(t,h,n,i,d,a)}function z0(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new sI(i,e,s);if(re(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=vc(e,u,!0,t.filter.filtersNodes());else{const h=ne(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=vc(e,u,a.isFullyInitialized(),a.isFiltered());else{const d=Oe(n),f=a.getNode().getImmediateChild(h);let p;if(re(d))p=r;else{const g=c.getCompleteChild(h);g!=null?GT(d)===".priority"&&g.getChild(PM(d)).isEmpty()?p=g:p=g.updateChild(d,r):p=Q.EMPTY_NODE}if(f.equals(p))l=e;else{const g=t.filter.updateChild(a.getNode(),h,p,d,c,o);l=vc(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function lk(t,e){return t.eventCache.isCompleteForChild(e)}function RG(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=mt(n,l);lk(e,ne(c))&&(a=z0(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=mt(n,l);lk(e,ne(c))||(a=z0(t,a,c,u,i,s,o))}),a}function uk(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function W0(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;re(n)?u=r:u=new Fe(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((h,d)=>{if(c.hasChild(h)){const f=e.serverCache.getNode().getImmediateChild(h),p=uk(t,f,d);l=Zp(t,l,new Ce(h),p,i,s,o,a)}}),u.children.inorderTraversal((h,d)=>{const f=!e.serverCache.isCompleteForChild(h)&&d.value===null;if(!c.hasChild(h)&&!f){const p=e.serverCache.getNode().getImmediateChild(h),g=uk(t,p,d);l=Zp(t,l,new Ce(h),g,i,s,o,a)}}),l}function kG(t,e,n,r,i,s,o){if(Jp(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(re(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Zp(t,e,n,l.getNode().getChild(n),i,s,a,o);if(re(n)){let u=new Fe(null);return l.getNode().forEachChild(No,(c,h)=>{u=u.set(new Ce(c),h)}),W0(t,e,n,u,i,s,a,o)}else return e}else{let u=new Fe(null);return r.foreach((c,h)=>{const d=mt(n,c);l.isCompleteForPath(d)&&(u=u.set(c,l.getNode().getChild(d)))}),W0(t,e,n,u,i,s,a,o)}}function PG(t,e,n,r,i){const s=e.serverCache,o=FM(e,s.getNode(),s.isFullyInitialized()||re(n),s.isFiltered());return HM(t,o,n,r,WM,i)}function xG(t,e,n,r,i,s){let o;if(Jp(r,n)!=null)return e;{const a=new sI(r,e,i),l=e.eventCache.getNode();let u;if(re(n)||ne(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Xp(r,ia(e));else{const h=e.serverCache.getNode();O(h instanceof Q,"serverChildren would be complete if leaf node"),c=rI(r,h)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=ne(n);let h=iI(r,c,e.serverCache);h==null&&e.serverCache.isCompleteForChild(c)&&(h=l.getImmediateChild(c)),h!=null?u=t.filter.updateChild(l,c,h,Oe(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Q.EMPTY_NODE,Oe(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Xp(r,ia(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Jp(r,Ie())!=null,vc(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new JT(r.getIndex()),s=qq(r);this.processor_=TG(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(Q.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(Q.EMPTY_NODE,a.getNode(),null),c=new ra(l,o.isFullyInitialized(),i.filtersNodes()),h=new ra(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Rg(h,c),this.eventGenerator_=new nG(this.query_)}get query(){return this.query_}}function bG(t){return t.viewCache_.serverCache.getNode()}function DG(t,e){const n=ia(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!re(e)&&!n.getImmediateChild(ne(e)).isEmpty())?n.getChild(e):null}function ck(t){return t.eventRegistrations_.length===0}function NG(t,e){t.eventRegistrations_.push(e)}function hk(t,e,n){const r=[];if(n){O(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function dk(t,e,n,r){e.type===Er.MERGE&&e.source.queryId!==null&&(O(ia(t.viewCache_),"We should always have a full cache before handling merges"),O(U0(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=SG(t.processor_,i,e,n,r);return IG(t.processor_,s.viewCache),O(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,qM(t,s.changes,s.viewCache.eventCache.getNode(),null)}function OG(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ye,(s,o)=>{r.push($l(s,o))}),n.isFullyInitialized()&&r.push(LM(n.getNode())),qM(t,r,n.getNode(),e)}function qM(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return rG(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em;class MG{constructor(){this.views=new Map}}function LG(t){O(!em,"__referenceConstructor has already been defined"),em=t}function VG(){return O(em,"Reference.ts has not been loaded"),em}function FG(t){return t.views.size===0}function oI(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return O(s!=null,"SyncTree gave us an op for an invalid query."),dk(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(dk(o,e,n,r));return s}}function $G(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Xp(n,i?r:null),l=!1;a?l=!0:r instanceof Q?(a=rI(n,r),l=!1):(a=Q.EMPTY_NODE,l=!1);const u=Rg(new ra(a,l,!1),new ra(r,i,!1));return new AG(e,u)}return o}function UG(t,e,n,r,i,s){const o=$G(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),NG(o,n),OG(o,n)}function BG(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=zs(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(hk(u,n,r)),ck(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(hk(l,n,r)),ck(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!zs(t)&&s.push(new(VG())(e._repo,e._path)),{removed:s,events:o}}function GM(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function pl(t,e){let n=null;for(const r of t.views.values())n=n||DG(r,e);return n}function YM(t,e){if(e._queryParams.loadsAllData())return kg(t);{const r=e._queryIdentifier;return t.views.get(r)}}function KM(t,e){return YM(t,e)!=null}function zs(t){return kg(t)!=null}function kg(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tm;function jG(t){O(!tm,"__referenceConstructor has already been defined"),tm=t}function zG(){return O(tm,"Reference.ts has not been loaded"),tm}let WG=1;class fk{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Fe(null),this.pendingWriteTree_=yG(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function QM(t,e,n,r,i){return aG(t.pendingWriteTree_,e,n,r,i),i?ld(t,new na(VM(),e,n)):[]}function To(t,e,n=!1){const r=lG(t.pendingWriteTree_,e);if(uG(t.pendingWriteTree_,e)){let s=new Fe(null);return r.snap!=null?s=s.set(Ie(),!0):an(r.children,o=>{s=s.set(new Ce(o),!0)}),ld(t,new Qp(r.path,s,n))}else return[]}function Pg(t,e,n){return ld(t,new na(eI(),e,n))}function HG(t,e,n){const r=Fe.fromObject(n);return ld(t,new gh(eI(),e,r))}function qG(t,e){return ld(t,new mh(eI(),e))}function GG(t,e,n){const r=lI(t,n);if(r){const i=uI(r),s=i.path,o=i.queryId,a=Cn(s,e),l=new mh(tI(o),a);return cI(t,s,l)}else return[]}function H0(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||KM(o,e))){const l=BG(o,e,n,r);FG(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(d,f)=>zs(f));if(c&&!h){const d=t.syncPointTree_.subtree(s);if(!d.isEmpty()){const f=QG(d);for(let p=0;p<f.length;++p){const g=f[p],v=g.query,_=ZM(t,g);t.listenProvider_.startListening(Ec(v),nm(t,v),_.hashFn,_.onComplete)}}}!h&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(Ec(e),null):u.forEach(d=>{const f=t.queryToTagMap.get(xg(d));t.listenProvider_.stopListening(Ec(d),f)}))}XG(t,u)}return a}function YG(t,e,n,r){const i=lI(t,r);if(i!=null){const s=uI(i),o=s.path,a=s.queryId,l=Cn(o,e),u=new na(tI(a),l,n);return cI(t,o,u)}else return[]}function KG(t,e,n,r){const i=lI(t,r);if(i){const s=uI(i),o=s.path,a=s.queryId,l=Cn(o,e),u=Fe.fromObject(n),c=new gh(tI(a),l,u);return cI(t,o,c)}else return[]}function pk(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(d,f)=>{const p=Cn(d,i);s=s||pl(f,p),o=o||zs(f)});let a=t.syncPointTree_.get(i);a?(o=o||zs(a),s=s||pl(a,Ie())):(a=new MG,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=Q.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,p)=>{const g=pl(p,Ie());g&&(s=s.updateImmediateChild(f,g))}));const u=KM(a,e);if(!u&&!e._queryParams.loadsAllData()){const d=xg(e);O(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const f=JG();t.queryToTagMap.set(d,f),t.tagToQueryMap.set(f,d)}const c=nI(t.pendingWriteTree_,i);let h=UG(a,e,n,c,s,l);if(!u&&!o&&!r){const d=YM(a,e);h=h.concat(ZG(t,e,d))}return h}function aI(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Cn(o,e),u=pl(a,l);if(u)return u});return BM(i,e,s,n,!0)}function ld(t,e){return XM(e,t.syncPointTree_,null,nI(t.pendingWriteTree_,Ie()))}function XM(t,e,n,r){if(re(t.path))return JM(t,e,n,r);{const i=e.get(Ie());n==null&&i!=null&&(n=pl(i,Ie()));let s=[];const o=ne(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=jM(r,o);s=s.concat(XM(a,l,u,c))}return i&&(s=s.concat(oI(i,t,r,n))),s}}function JM(t,e,n,r){const i=e.get(Ie());n==null&&i!=null&&(n=pl(i,Ie()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=jM(r,o),c=t.operationForChild(o);c&&(s=s.concat(JM(c,a,l,u)))}),i&&(s=s.concat(oI(i,t,r,n))),s}function ZM(t,e){const n=e.query,r=nm(t,n);return{hashFn:()=>(bG(e)||Q.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?GG(t,n._path,r):qG(t,n._path);{const s=qH(i,n);return H0(t,n,null,s)}}}}function nm(t,e){const n=xg(e);return t.queryToTagMap.get(n)}function xg(t){return t._path.toString()+"$"+t._queryIdentifier}function lI(t,e){return t.tagToQueryMap.get(e)}function uI(t){const e=t.indexOf("$");return O(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ce(t.substr(0,e))}}function cI(t,e,n){const r=t.syncPointTree_.get(e);O(r,"Missing sync point for query tag that we're tracking");const i=nI(t.pendingWriteTree_,e);return oI(r,n,i,null)}function QG(t){return t.fold((e,n,r)=>{if(n&&zs(n))return[kg(n)];{let i=[];return n&&(i=GM(n)),an(r,(s,o)=>{i=i.concat(o)}),i}})}function Ec(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(zG())(t._repo,t._path):t}function XG(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=xg(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function JG(){return WG++}function ZG(t,e,n){const r=e._path,i=nm(t,e),s=ZM(t,n),o=t.listenProvider_.startListening(Ec(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)O(!zs(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,h)=>{if(!re(u)&&c&&zs(c))return[kg(c).query];{let d=[];return c&&(d=d.concat(GM(c).map(f=>f.query))),an(h,(f,p)=>{d=d.concat(p)}),d}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(Ec(c),nm(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new hI(n)}node(){return this.node_}}class dI{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=mt(this.path_,e);return new dI(this.syncTree_,n)}node(){return aI(this.syncTree_,this.path_)}}const e8=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},mk=function(t,e,n){if(!t||typeof t!="object")return t;if(O(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return t8(t[".sv"],e,n);if(typeof t[".sv"]=="object")return n8(t[".sv"],e);O(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},t8=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:O(!1,"Unexpected server value: "+t)}},n8=function(t,e,n){t.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&O(!1,"Unexpected increment value: "+r);const i=e.node();if(O(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},r8=function(t,e,n,r){return fI(e,new dI(n,t),r)},e2=function(t,e,n){return fI(t,new hI(e),n)};function fI(t,e,n){const r=t.getPriority().val(),i=mk(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=mk(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new xt(a,wt(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new xt(i))),o.forEachChild(Ye,(a,l)=>{const u=fI(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function mI(t,e){let n=e instanceof Ce?e:new Ce(e),r=t,i=ne(n);for(;i!==null;){const s=kl(r.node.children,i)||{children:{},childCount:0};r=new pI(i,r,s),n=Oe(n),i=ne(n)}return r}function au(t){return t.node.value}function t2(t,e){t.node.value=e,q0(t)}function n2(t){return t.node.childCount>0}function i8(t){return au(t)===void 0&&!n2(t)}function Ag(t,e){an(t.node.children,(n,r)=>{e(new pI(n,t,r))})}function r2(t,e,n,r){n&&!r&&e(t),Ag(t,i=>{r2(i,e,!0,r)}),n&&r&&e(t)}function s8(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ud(t){return new Ce(t.parent===null?t.name:ud(t.parent)+"/"+t.name)}function q0(t){t.parent!==null&&o8(t.parent,t.name,t)}function o8(t,e,n){const r=i8(n),i=ti(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,q0(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,q0(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8=/[\[\].#$\/\u0000-\u001F\u007F]/,l8=/[\[\].#$\u0000-\u001F\u007F]/,Dy=10*1024*1024,bg=function(t){return typeof t=="string"&&t.length!==0&&!a8.test(t)},i2=function(t){return typeof t=="string"&&t.length!==0&&!l8.test(t)},u8=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),i2(t)},rm=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Sg(t)||t&&typeof t=="object"&&ti(t,".sv")},Bl=function(t,e,n,r){r&&e===void 0||Dg(Uo(t,"value"),e,n)},Dg=function(t,e,n){const r=n instanceof Ce?new Rq(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ao(r));if(typeof e=="function")throw new Error(t+"contains a function "+ao(r)+" with contents = "+e.toString());if(Sg(e))throw new Error(t+"contains "+e.toString()+" "+ao(r));if(typeof e=="string"&&e.length>Dy/3&&Nm(e)>Dy)throw new Error(t+"contains a string greater than "+Dy+" utf8 bytes "+ao(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(an(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!bg(o)))throw new Error(t+" contains an invalid key ("+o+") "+ao(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);kq(r,o),Dg(t,a,r),Pq(r)}),i&&s)throw new Error(t+' contains ".value" child '+ao(r)+" in addition to actual children.")}},c8=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=hh(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!bg(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Cq);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&nr(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},h8=function(t,e,n,r){if(r&&e===void 0)return;const i=Uo(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];an(e,(o,a)=>{const l=new Ce(o);if(Dg(i,a,mt(n,l)),GT(l)===".priority"&&!rm(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),c8(i,s)},d8=function(t,e,n){if(!(n&&e===void 0)){if(Sg(e))throw new Error(Uo(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!rm(e))throw new Error(Uo(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},f8=function(t,e,n,r){if(!(r&&n===void 0)&&!bg(n))throw new Error(Uo(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},gI=function(t,e,n,r){if(!(r&&n===void 0)&&!i2(n))throw new Error(Uo(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},p8=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gI(t,e,n,r)},Zu=function(t,e){if(ne(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},m8=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!bg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!u8(n))throw new Error(Uo(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _I(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!YT(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function s2(t,e,n){_I(t,n),o2(t,r=>YT(r,e))}function Li(t,e,n){_I(t,n),o2(t,r=>nr(r,e)||nr(e,r))}function o2(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(_8(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function _8(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Do&&zt("event: "+n.toString()),su(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8="repo_interrupt",v8=25;class w8{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new g8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Kp(),this.transactionQueueTree_=new pI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function E8(t,e,n){if(t.stats_=HT(t.repoInfo_),t.forceRestClient_||QH())t.server_=new Yp(t.repoInfo_,(r,i,s,o)=>{gk(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>_k(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Nt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ci(t.repoInfo_,e,(r,i,s,o)=>{gk(t,r,i,s,o)},r=>{_k(t,r)},r=>{I8(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=tq(t.repoInfo_,()=>new tG(t.stats_,t.server_)),t.infoData_=new Qq,t.infoSyncTree_=new fk({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Pg(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),vI(t,"connected",!1),t.serverSyncTree_=new fk({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Li(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function T8(t){const n=t.infoData_.getNode(new Ce(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function yI(t){return e8({timestamp:T8(t)})}function gk(t,e,n,r,i){t.dataUpdateCount++;const s=new Ce(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=vp(n,u=>wt(u));o=KG(t.serverSyncTree_,s,l,i)}else{const l=wt(n);o=YG(t.serverSyncTree_,s,l,i)}else if(r){const l=vp(n,u=>wt(u));o=HG(t.serverSyncTree_,s,l)}else{const l=wt(n);o=Pg(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Ng(t,s)),Li(t.eventQueue_,a,o)}function _k(t,e){vI(t,"connected",e),e===!1&&C8(t)}function I8(t,e){an(e,(n,r)=>{vI(t,n,r)})}function vI(t,e,n){const r=new Ce("/.info/"+e),i=wt(n);t.infoData_.updateSnapshot(r,i);const s=Pg(t.infoSyncTree_,r,i);Li(t.eventQueue_,r,s)}function a2(t){return t.nextWriteId_++}function S8(t,e,n,r,i){wI(t,"set",{path:e.toString(),value:n,priority:r});const s=yI(t),o=wt(n,r),a=aI(t.serverSyncTree_,e),l=e2(o,a,s),u=a2(t),c=QM(t.serverSyncTree_,e,l,u,!0);_I(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),(d,f)=>{const p=d==="ok";p||An("set at "+e+" failed: "+d);const g=To(t.serverSyncTree_,u,!p);Li(t.eventQueue_,e,g),jl(t,i,d,f)});const h=d2(t,e);Ng(t,h),Li(t.eventQueue_,h,[])}function C8(t){wI(t,"onDisconnectEvents");const e=yI(t),n=Kp();$0(t.onDisconnect_,Ie(),(i,s)=>{const o=r8(i,s,t.serverSyncTree_,e);ou(n,i,o)});let r=[];$0(n,Ie(),(i,s)=>{r=r.concat(Pg(t.serverSyncTree_,i,s));const o=d2(t,i);Ng(t,o)}),t.onDisconnect_=Kp(),Li(t.eventQueue_,Ie(),r)}function R8(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&F0(t.onDisconnect_,e),jl(t,n,r,i)})}function yk(t,e,n,r){const i=wt(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{s==="ok"&&ou(t.onDisconnect_,e,i),jl(t,r,s,o)})}function k8(t,e,n,r,i){const s=wt(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{o==="ok"&&ou(t.onDisconnect_,e,s),jl(t,i,o,a)})}function P8(t,e,n,r){if(yp(n)){zt("onDisconnect().update() called with empty data.  Don't do anything."),jl(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,s)=>{i==="ok"&&an(n,(o,a)=>{const l=wt(a);ou(t.onDisconnect_,mt(e,o),l)}),jl(t,r,i,s)})}function x8(t,e,n){let r;ne(e._path)===".info"?r=pk(t.infoSyncTree_,e,n):r=pk(t.serverSyncTree_,e,n),s2(t.eventQueue_,e._path,r)}function vk(t,e,n){let r;ne(e._path)===".info"?r=H0(t.infoSyncTree_,e,n):r=H0(t.serverSyncTree_,e,n),s2(t.eventQueue_,e._path,r)}function A8(t){t.persistentConnection_&&t.persistentConnection_.interrupt(y8)}function wI(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),zt(n,...e)}function jl(t,e,n,r){e&&su(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function l2(t,e,n){return aI(t.serverSyncTree_,e,n)||Q.EMPTY_NODE}function EI(t,e=t.transactionQueueTree_){if(e||Og(t,e),au(e)){const n=c2(t,e);O(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&b8(t,ud(e),n)}else n2(e)&&Ag(e,n=>{EI(t,n)})}function b8(t,e,n){const r=n.map(u=>u.currentWriteId),i=l2(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];O(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const h=Cn(e,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{wI(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const h=[];for(let d=0;d<n.length;d++)n[d].status=2,c=c.concat(To(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&h.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();Og(t,mI(t.transactionQueueTree_,e)),EI(t,t.transactionQueueTree_),Li(t.eventQueue_,e,c);for(let d=0;d<h.length;d++)su(h[d])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{An("transaction at "+l.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}Ng(t,e)}},o)}function Ng(t,e){const n=u2(t,e),r=ud(n),i=c2(t,n);return D8(t,i,r),r}function D8(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Cn(n,l.path);let c=!1,h;if(O(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,h=l.abortReason,i=i.concat(To(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=v8)c=!0,h="maxretry",i=i.concat(To(t.serverSyncTree_,l.currentWriteId,!0));else{const d=l2(t,l.path,o);l.currentInputSnapshot=d;const f=e[a].update(d.val());if(f!==void 0){Dg("transaction failed: Data returned ",f,l.path);let p=wt(f);typeof f=="object"&&f!=null&&ti(f,".priority")||(p=p.updatePriority(d.getPriority()));const v=l.currentWriteId,_=yI(t),m=e2(p,d,_);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=m,l.currentWriteId=a2(t),o.splice(o.indexOf(v),1),i=i.concat(QM(t.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),i=i.concat(To(t.serverSyncTree_,v,!0))}else c=!0,h="nodata",i=i.concat(To(t.serverSyncTree_,l.currentWriteId,!0))}Li(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}Og(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)su(r[a]);EI(t,t.transactionQueueTree_)}function u2(t,e){let n,r=t.transactionQueueTree_;for(n=ne(e);n!==null&&au(r)===void 0;)r=mI(r,n),e=Oe(e),n=ne(e);return r}function c2(t,e){const n=[];return h2(t,e,n),n.sort((r,i)=>r.order-i.order),n}function h2(t,e,n){const r=au(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ag(e,i=>{h2(t,i,n)})}function Og(t,e){const n=au(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,t2(e,n.length>0?n:void 0)}Ag(e,r=>{Og(t,r)})}function d2(t,e){const n=ud(u2(t,e)),r=mI(t.transactionQueueTree_,e);return s8(r,i=>{Ny(t,i)}),Ny(t,r),r2(r,i=>{Ny(t,i)}),n}function Ny(t,e){const n=au(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(O(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(O(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(To(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?t2(e,void 0):n.length=s+1,Li(t.eventQueue_,ud(e),i);for(let o=0;o<r.length;o++)su(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function O8(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):An(`Invalid query segment '${n}' in query '${t}'`)}return e}const wk=function(t,e){const n=M8(t),r=n.namespace;n.domain==="firebase.com"&&Mi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Mi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||BH();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new vM(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Ce(n.pathString)}},M8=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(c,h)),c<h&&(i=N8(t.substring(c,h)));const d=O8(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Nt(this.snapshot.exportVal())}}class p2{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new fi;return R8(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Zu("OnDisconnect.remove",this._path);const e=new fi;return yk(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Zu("OnDisconnect.set",this._path),Bl("OnDisconnect.set",e,this._path,!1);const n=new fi;return yk(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Zu("OnDisconnect.setWithPriority",this._path),Bl("OnDisconnect.setWithPriority",e,this._path,!1),d8("OnDisconnect.setWithPriority",n,!1);const r=new fi;return k8(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Zu("OnDisconnect.update",this._path),h8("OnDisconnect.update",e,this._path,!1);const n=new fi;return P8(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return re(this._path)?null:GT(this._path)}get ref(){return new zi(this._repo,this._path)}get _queryIdentifier(){const e=nk(this._queryParams),n=zT(e);return n==="{}"?"default":n}get _queryObject(){return nk(this._queryParams)}isEqual(e){if(e=pe(e),!(e instanceof lu))return!1;const n=this._repo===e._repo,r=YT(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Sq(this._path)}}function F8(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function TI(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===No){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==ta)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Bs)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===Ye){if(e!=null&&!rm(e)||n!=null&&!rm(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(O(t.getIndex()instanceof XT||t.getIndex()===MM,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function m2(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class zi extends lu{constructor(e,n){super(e,n,new ZT,!1)}get parent(){const e=PM(this._path);return e===null?null:new zi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class _h{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ce(e),r=im(this.ref,e);return new _h(this._node.getChild(n),r,Ye)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new _h(i,im(this.ref,r),Ye)))}hasChild(e){const n=new Ce(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function G0(t,e){return t=pe(t),t._checkNotDeleted("ref"),e!==void 0?im(t._root,e):t._root}function im(t,e){return t=pe(t),ne(t._path)===null?p8("child","path",e,!1):gI("child","path",e,!1),new zi(t._repo,mt(t._path,e))}function $8(t){return t=pe(t),new V8(t._repo,t._path)}function U8(t,e){t=pe(t),Zu("set",t._path),Bl("set",e,t._path,!1);const n=new fi;return S8(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class II{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new f2("value",this,new _h(e.snapshotNode,new zi(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new p2(this,e,n):null}matches(e){return e instanceof II?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class SI{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new p2(this,e,n):null}createEvent(e,n){O(e.childName!=null,"Child events should have a childName.");const r=im(new zi(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new f2(e.type,this,new _h(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof SI?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function B8(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,u=(c,h)=>{vk(t._repo,t,a),l(c,h)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new L8(n,s||void 0),a=e==="value"?new II(o):new SI(e,o);return x8(t._repo,t,a),()=>vk(t._repo,t,a)}function g2(t,e,n,r){return B8(t,"value",e,n,r)}class Mg{}class j8 extends Mg{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Bl("endAt",this._value,e._path,!0);const n=Yq(e._queryParams,this._value,this._key);if(m2(n),TI(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new lu(e._repo,e._path,n,e._orderByCalled)}}class z8 extends Mg{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Bl("startAt",this._value,e._path,!0);const n=Gq(e._queryParams,this._value,this._key);if(m2(n),TI(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new lu(e._repo,e._path,n,e._orderByCalled)}}class W8 extends Mg{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){F8(e,"orderByChild");const n=new Ce(this._path);if(re(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new XT(n),i=Kq(e._queryParams,r);return TI(i),new lu(e._repo,e._path,i,!0)}}function Aie(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return gI("orderByChild","path",t,!1),new W8(t)}class H8 extends Mg{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Bl("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new j8(this._value,this._key)._apply(new z8(this._value,this._key)._apply(e))}}function bie(t,e){return f8("equalTo","key",e,!0),new H8(t,e)}function Die(t,...e){let n=pe(t);for(const r of e)n=r._apply(n);return n}LG(zi);jG(zi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8="FIREBASE_DATABASE_EMULATOR_HOST",Y0={};let G8=!1;function Y8(t,e,n,r){t.repoInfo_=new vM(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function K8(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Mi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=wk(s,i),a=o.repoInfo,l,u;typeof process<"u"&&FR&&(u=FR[q8]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=wk(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new fl(fl.OWNER):new JH(t.name,t.options,e);m8("Invalid Firebase Database URL",o),re(o.path)||Mi("Database URL must point to the root of a Firebase Database (not including a child path).");const h=X8(a,t,c,new XH(t.name,n));return new J8(h,t)}function Q8(t,e){const n=Y0[e];(!n||n[t.key]!==t)&&Mi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),A8(t),delete n[t.key]}function X8(t,e,n,r){let i=Y0[e.name];i||(i={},Y0[e.name]=i);let s=i[t.toURLString()];return s&&Mi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new w8(t,G8,n,r),i[t.toURLString()]=s,s}class J8{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(E8(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new zi(this._repo,Ie())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Q8(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Mi("Cannot call "+e+" on a deleted database.")}}function Z8(t=mE(),e){const n=Vh(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=XA("database");r&&eY(n,...r)}return n}function eY(t,e,n,r={}){t=pe(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Mi("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Mi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new fl(fl.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:eb(r.mockUserToken,t.app.options.projectId);s=new fl(o)}Y8(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tY(t){LH(Ks),Ms(new Di("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return K8(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ir($R,UR,t),ir($R,UR,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nY={".sv":"timestamp"};function Ek(){return nY}Ci.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ci.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};tY();//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var _2;function F(){return _2.apply(null,arguments)}function rY(t){_2=t}function Ar(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Oo(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function ye(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function CI(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(ye(t,e))return!1;return!0}function wn(t){return t===void 0}function Vi(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function cd(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function y2(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function gs(t,e){for(var n in e)ye(e,n)&&(t[n]=e[n]);return ye(e,"toString")&&(t.toString=e.toString),ye(e,"valueOf")&&(t.valueOf=e.valueOf),t}function ii(t,e,n,r){return B2(t,e,n,r,!0).utc()}function iY(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ee(t){return t._pf==null&&(t._pf=iY()),t._pf}var K0;Array.prototype.some?K0=Array.prototype.some:K0=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function RI(t){var e=null,n=!1,r=t._d&&!isNaN(t._d.getTime());if(r&&(e=ee(t),n=K0.call(e.parsedDateParts,function(i){return i!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r;return t._isValid}function Lg(t){var e=ii(NaN);return t!=null?gs(ee(e),t):ee(e).userInvalidated=!0,e}var Tk=F.momentProperties=[],Oy=!1;function kI(t,e){var n,r,i,s=Tk.length;if(wn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),wn(e._i)||(t._i=e._i),wn(e._f)||(t._f=e._f),wn(e._l)||(t._l=e._l),wn(e._strict)||(t._strict=e._strict),wn(e._tzm)||(t._tzm=e._tzm),wn(e._isUTC)||(t._isUTC=e._isUTC),wn(e._offset)||(t._offset=e._offset),wn(e._pf)||(t._pf=ee(e)),wn(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)r=Tk[n],i=e[r],wn(i)||(t[r]=i);return t}function hd(t){kI(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Oy===!1&&(Oy=!0,F.updateOffset(this),Oy=!1)}function br(t){return t instanceof hd||t!=null&&t._isAMomentObject!=null}function v2(t){F.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function hr(t,e){var n=!0;return gs(function(){if(F.deprecationHandler!=null&&F.deprecationHandler(null,t),n){var r=[],i,s,o,a=arguments.length;for(s=0;s<a;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(o in arguments[0])ye(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}v2(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var Ik={};function w2(t,e){F.deprecationHandler!=null&&F.deprecationHandler(t,e),Ik[t]||(v2(e),Ik[t]=!0)}F.suppressDeprecationWarnings=!1;F.deprecationHandler=null;function si(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function sY(t){var e,n;for(n in t)ye(t,n)&&(e=t[n],si(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Q0(t,e){var n=gs({},t),r;for(r in e)ye(e,r)&&(Oo(t[r])&&Oo(e[r])?(n[r]={},gs(n[r],t[r]),gs(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)ye(t,r)&&!ye(e,r)&&Oo(t[r])&&(n[r]=gs({},n[r]));return n}function PI(t){t!=null&&this.set(t)}var X0;Object.keys?X0=Object.keys:X0=function(t){var e,n=[];for(e in t)ye(t,e)&&n.push(e);return n};var oY={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function aY(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return si(r)?r.call(e,n):r}function Zr(t,e,n){var r=""+Math.abs(t),i=e-r.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var xI=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,of=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,My={},ml={};function H(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(ml[t]=i),e&&(ml[e[0]]=function(){return Zr(i.apply(this,arguments),e[1],e[2])}),n&&(ml[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function lY(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function uY(t){var e=t.match(xI),n,r;for(n=0,r=e.length;n<r;n++)ml[e[n]]?e[n]=ml[e[n]]:e[n]=lY(e[n]);return function(i){var s="",o;for(o=0;o<r;o++)s+=si(e[o])?e[o].call(i,t):e[o];return s}}function Lf(t,e){return t.isValid()?(e=E2(e,t.localeData()),My[e]=My[e]||uY(e),My[e](t)):t.localeData().invalidDate()}function E2(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(of.lastIndex=0;n>=0&&of.test(t);)t=t.replace(of,r),of.lastIndex=0,n-=1;return t}var cY={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function hY(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(xI).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var dY="Invalid date";function fY(){return this._invalidDate}var pY="%d",mY=/\d{1,2}/;function gY(t){return this._ordinal.replace("%d",t)}var _Y={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function yY(t,e,n,r){var i=this._relativeTime[n];return si(i)?i(t,e,n,r):i.replace(/%d/i,t)}function vY(t,e){var n=this._relativeTime[t>0?"future":"past"];return si(n)?n(e):n.replace(/%s/i,e)}var Sk={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function dr(t){return typeof t=="string"?Sk[t]||Sk[t.toLowerCase()]:void 0}function AI(t){var e={},n,r;for(r in t)ye(t,r)&&(n=dr(r),n&&(e[n]=t[r]));return e}var wY={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function EY(t){var e=[],n;for(n in t)ye(t,n)&&e.push({unit:n,priority:wY[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}var T2=/\d/,Hn=/\d\d/,I2=/\d{3}/,bI=/\d{4}/,Vg=/[+-]?\d{6}/,je=/\d\d?/,S2=/\d\d\d\d?/,C2=/\d\d\d\d\d\d?/,Fg=/\d{1,3}/,DI=/\d{1,4}/,$g=/[+-]?\d{1,6}/,uu=/\d+/,Ug=/[+-]?\d+/,TY=/Z|[+-]\d\d:?\d\d/gi,Bg=/Z|[+-]\d\d(?::?\d\d)?/gi,IY=/[+-]?\d+(\.\d{1,3})?/,dd=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,cu=/^[1-9]\d?/,NI=/^([1-9]\d|\d)/,sm;sm={};function U(t,e,n){sm[t]=si(e)?e:function(r,i){return r&&n?n:e}}function SY(t,e){return ye(sm,t)?sm[t](e._strict,e._locale):new RegExp(CY(t))}function CY(t){return Ri(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,s){return n||r||i||s}))}function Ri(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Xn(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function ce(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Xn(e)),n}var J0={};function De(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),Vi(e)&&(r=function(s,o){o[e]=ce(s)}),i=t.length,n=0;n<i;n++)J0[t[n]]=r}function fd(t,e){De(t,function(n,r,i,s){i._w=i._w||{},e(n,i._w,i,s)})}function RY(t,e,n){e!=null&&ye(J0,t)&&J0[t](e,n._a,n,t)}function jg(t){return t%4===0&&t%100!==0||t%400===0}var sn=0,Ti=1,Ur=2,Pt=3,Tr=4,Ii=5,Io=6,kY=7,PY=8;H("Y",0,0,function(){var t=this.year();return t<=9999?Zr(t,4):"+"+t});H(0,["YY",2],0,function(){return this.year()%100});H(0,["YYYY",4],0,"year");H(0,["YYYYY",5],0,"year");H(0,["YYYYYY",6,!0],0,"year");U("Y",Ug);U("YY",je,Hn);U("YYYY",DI,bI);U("YYYYY",$g,Vg);U("YYYYYY",$g,Vg);De(["YYYYY","YYYYYY"],sn);De("YYYY",function(t,e){e[sn]=t.length===2?F.parseTwoDigitYear(t):ce(t)});De("YY",function(t,e){e[sn]=F.parseTwoDigitYear(t)});De("Y",function(t,e){e[sn]=parseInt(t,10)});function Tc(t){return jg(t)?366:365}F.parseTwoDigitYear=function(t){return ce(t)+(ce(t)>68?1900:2e3)};var R2=hu("FullYear",!0);function xY(){return jg(this.year())}function hu(t,e){return function(n){return n!=null?(k2(this,t,n),F.updateOffset(this,e),this):yh(this,t)}}function yh(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function k2(t,e,n){var r,i,s,o,a;if(!(!t.isValid()||isNaN(n))){switch(r=t._d,i=t._isUTC,e){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}s=n,o=t.month(),a=t.date(),a=a===29&&o===1&&!jg(s)?28:a,i?r.setUTCFullYear(s,o,a):r.setFullYear(s,o,a)}}function AY(t){return t=dr(t),si(this[t])?this[t]():this}function bY(t,e){if(typeof t=="object"){t=AI(t);var n=EY(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=dr(t),si(this[t]))return this[t](e);return this}function DY(t,e){return(t%e+e)%e}var ft;Array.prototype.indexOf?ft=Array.prototype.indexOf:ft=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function OI(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=DY(e,12);return t+=(e-n)/12,n===1?jg(t)?29:28:31-n%7%2}H("M",["MM",2],"Mo",function(){return this.month()+1});H("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});H("MMMM",0,0,function(t){return this.localeData().months(this,t)});U("M",je,cu);U("MM",je,Hn);U("MMM",function(t,e){return e.monthsShortRegex(t)});U("MMMM",function(t,e){return e.monthsRegex(t)});De(["M","MM"],function(t,e){e[Ti]=ce(t)-1});De(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[Ti]=i:ee(n).invalidMonth=t});var NY="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),P2="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),x2=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,OY=dd,MY=dd;function LY(t,e){return t?Ar(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||x2).test(e)?"format":"standalone"][t.month()]:Ar(this._months)?this._months:this._months.standalone}function VY(t,e){return t?Ar(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[x2.test(e)?"format":"standalone"][t.month()]:Ar(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function FY(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=ii([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(i=ft.call(this._shortMonthsParse,o),i!==-1?i:null):(i=ft.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=ft.call(this._shortMonthsParse,o),i!==-1?i:(i=ft.call(this._longMonthsParse,o),i!==-1?i:null)):(i=ft.call(this._longMonthsParse,o),i!==-1?i:(i=ft.call(this._shortMonthsParse,o),i!==-1?i:null))}function $Y(t,e,n){var r,i,s;if(this._monthsParseExact)return FY.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=ii([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function A2(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=ce(e);else if(e=t.localeData().monthsParse(e),!Vi(e))return t}var n=e,r=t.date();return r=r<29?r:Math.min(r,OI(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function b2(t){return t!=null?(A2(this,t),F.updateOffset(this,!0),this):yh(this,"Month")}function UY(){return OI(this.year(),this.month())}function BY(t){return this._monthsParseExact?(ye(this,"_monthsRegex")||D2.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(ye(this,"_monthsShortRegex")||(this._monthsShortRegex=OY),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function jY(t){return this._monthsParseExact?(ye(this,"_monthsRegex")||D2.call(this),t?this._monthsStrictRegex:this._monthsRegex):(ye(this,"_monthsRegex")||(this._monthsRegex=MY),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function D2(){function t(l,u){return u.length-l.length}var e=[],n=[],r=[],i,s,o,a;for(i=0;i<12;i++)s=ii([2e3,i]),o=Ri(this.monthsShort(s,"")),a=Ri(this.months(s,"")),e.push(o),n.push(a),r.push(a),r.push(o);e.sort(t),n.sort(t),r.sort(t),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function zY(t,e,n,r,i,s,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,i,s,o),a}function vh(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function om(t,e,n){var r=7+e-n,i=(7+vh(t,0,r).getUTCDay()-e)%7;return-i+r-1}function N2(t,e,n,r,i){var s=(7+n-r)%7,o=om(t,r,i),a=1+7*(e-1)+s+o,l,u;return a<=0?(l=t-1,u=Tc(l)+a):a>Tc(t)?(l=t+1,u=a-Tc(t)):(l=t,u=a),{year:l,dayOfYear:u}}function wh(t,e,n){var r=om(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,s,o;return i<1?(o=t.year()-1,s=i+ki(o,e,n)):i>ki(t.year(),e,n)?(s=i-ki(t.year(),e,n),o=t.year()+1):(o=t.year(),s=i),{week:s,year:o}}function ki(t,e,n){var r=om(t,e,n),i=om(t+1,e,n);return(Tc(t)-r+i)/7}H("w",["ww",2],"wo","week");H("W",["WW",2],"Wo","isoWeek");U("w",je,cu);U("ww",je,Hn);U("W",je,cu);U("WW",je,Hn);fd(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=ce(t)});function WY(t){return wh(t,this._week.dow,this._week.doy).week}var HY={dow:0,doy:6};function qY(){return this._week.dow}function GY(){return this._week.doy}function YY(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function KY(t){var e=wh(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}H("d",0,"do","day");H("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});H("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});H("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});H("e",0,0,"weekday");H("E",0,0,"isoWeekday");U("d",je);U("e",je);U("E",je);U("dd",function(t,e){return e.weekdaysMinRegex(t)});U("ddd",function(t,e){return e.weekdaysShortRegex(t)});U("dddd",function(t,e){return e.weekdaysRegex(t)});fd(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:ee(n).invalidWeekday=t});fd(["d","e","E"],function(t,e,n,r){e[r]=ce(t)});function QY(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function XY(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function MI(t,e){return t.slice(e,7).concat(t.slice(0,e))}var JY="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),O2="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ZY="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),e7=dd,t7=dd,n7=dd;function r7(t,e){var n=Ar(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?MI(n,this._week.dow):t?n[t.day()]:n}function i7(t){return t===!0?MI(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function s7(t){return t===!0?MI(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function o7(t,e,n){var r,i,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=ii([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(i=ft.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=ft.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=ft.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=ft.call(this._weekdaysParse,o),i!==-1||(i=ft.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=ft.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=ft.call(this._shortWeekdaysParse,o),i!==-1||(i=ft.call(this._weekdaysParse,o),i!==-1)?i:(i=ft.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=ft.call(this._minWeekdaysParse,o),i!==-1||(i=ft.call(this._weekdaysParse,o),i!==-1)?i:(i=ft.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function a7(t,e,n){var r,i,s;if(this._weekdaysParseExact)return o7.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=ii([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function l7(t){if(!this.isValid())return t!=null?this:NaN;var e=yh(this,"Day");return t!=null?(t=QY(t,this.localeData()),this.add(t-e,"d")):e}function u7(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function c7(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=XY(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function h7(t){return this._weekdaysParseExact?(ye(this,"_weekdaysRegex")||LI.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(ye(this,"_weekdaysRegex")||(this._weekdaysRegex=e7),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function d7(t){return this._weekdaysParseExact?(ye(this,"_weekdaysRegex")||LI.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ye(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=t7),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function f7(t){return this._weekdaysParseExact?(ye(this,"_weekdaysRegex")||LI.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ye(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=n7),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function LI(){function t(c,h){return h.length-c.length}var e=[],n=[],r=[],i=[],s,o,a,l,u;for(s=0;s<7;s++)o=ii([2e3,1]).day(s),a=Ri(this.weekdaysMin(o,"")),l=Ri(this.weekdaysShort(o,"")),u=Ri(this.weekdays(o,"")),e.push(a),n.push(l),r.push(u),i.push(a),i.push(l),i.push(u);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function VI(){return this.hours()%12||12}function p7(){return this.hours()||24}H("H",["HH",2],0,"hour");H("h",["hh",2],0,VI);H("k",["kk",2],0,p7);H("hmm",0,0,function(){return""+VI.apply(this)+Zr(this.minutes(),2)});H("hmmss",0,0,function(){return""+VI.apply(this)+Zr(this.minutes(),2)+Zr(this.seconds(),2)});H("Hmm",0,0,function(){return""+this.hours()+Zr(this.minutes(),2)});H("Hmmss",0,0,function(){return""+this.hours()+Zr(this.minutes(),2)+Zr(this.seconds(),2)});function M2(t,e){H(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}M2("a",!0);M2("A",!1);function L2(t,e){return e._meridiemParse}U("a",L2);U("A",L2);U("H",je,NI);U("h",je,cu);U("k",je,cu);U("HH",je,Hn);U("hh",je,Hn);U("kk",je,Hn);U("hmm",S2);U("hmmss",C2);U("Hmm",S2);U("Hmmss",C2);De(["H","HH"],Pt);De(["k","kk"],function(t,e,n){var r=ce(t);e[Pt]=r===24?0:r});De(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});De(["h","hh"],function(t,e,n){e[Pt]=ce(t),ee(n).bigHour=!0});De("hmm",function(t,e,n){var r=t.length-2;e[Pt]=ce(t.substr(0,r)),e[Tr]=ce(t.substr(r)),ee(n).bigHour=!0});De("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Pt]=ce(t.substr(0,r)),e[Tr]=ce(t.substr(r,2)),e[Ii]=ce(t.substr(i)),ee(n).bigHour=!0});De("Hmm",function(t,e,n){var r=t.length-2;e[Pt]=ce(t.substr(0,r)),e[Tr]=ce(t.substr(r))});De("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Pt]=ce(t.substr(0,r)),e[Tr]=ce(t.substr(r,2)),e[Ii]=ce(t.substr(i))});function m7(t){return(t+"").toLowerCase().charAt(0)==="p"}var g7=/[ap]\.?m?\.?/i,_7=hu("Hours",!0);function y7(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var V2={calendar:oY,longDateFormat:cY,invalidDate:dY,ordinal:pY,dayOfMonthOrdinalParse:mY,relativeTime:_Y,months:NY,monthsShort:P2,week:HY,weekdays:JY,weekdaysMin:ZY,weekdaysShort:O2,meridiemParse:g7},He={},Vu={},Eh;function v7(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function Ck(t){return t&&t.toLowerCase().replace("_","-")}function w7(t){for(var e=0,n,r,i,s;e<t.length;){for(s=Ck(t[e]).split("-"),n=s.length,r=Ck(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=zg(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&v7(s,r)>=n-1)break;n--}e++}return Eh}function E7(t){return!!(t&&t.match("^[^/\\\\]*$"))}function zg(t){var e=null,n;if(He[t]===void 0&&typeof module<"u"&&module&&module.exports&&E7(t))try{e=Eh._abbr,n=require,n("./locale/"+t),Ds(e)}catch{He[t]=null}return He[t]}function Ds(t,e){var n;return t&&(wn(e)?n=Wi(t):n=FI(t,e),n?Eh=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Eh._abbr}function FI(t,e){if(e!==null){var n,r=V2;if(e.abbr=t,He[t]!=null)w2("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=He[t]._config;else if(e.parentLocale!=null)if(He[e.parentLocale]!=null)r=He[e.parentLocale]._config;else if(n=zg(e.parentLocale),n!=null)r=n._config;else return Vu[e.parentLocale]||(Vu[e.parentLocale]=[]),Vu[e.parentLocale].push({name:t,config:e}),null;return He[t]=new PI(Q0(r,e)),Vu[t]&&Vu[t].forEach(function(i){FI(i.name,i.config)}),Ds(t),He[t]}else return delete He[t],null}function T7(t,e){if(e!=null){var n,r,i=V2;He[t]!=null&&He[t].parentLocale!=null?He[t].set(Q0(He[t]._config,e)):(r=zg(t),r!=null&&(i=r._config),e=Q0(i,e),r==null&&(e.abbr=t),n=new PI(e),n.parentLocale=He[t],He[t]=n),Ds(t)}else He[t]!=null&&(He[t].parentLocale!=null?(He[t]=He[t].parentLocale,t===Ds()&&Ds(t)):He[t]!=null&&delete He[t]);return He[t]}function Wi(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Eh;if(!Ar(t)){if(e=zg(t),e)return e;t=[t]}return w7(t)}function I7(){return X0(He)}function $I(t){var e,n=t._a;return n&&ee(t).overflow===-2&&(e=n[Ti]<0||n[Ti]>11?Ti:n[Ur]<1||n[Ur]>OI(n[sn],n[Ti])?Ur:n[Pt]<0||n[Pt]>24||n[Pt]===24&&(n[Tr]!==0||n[Ii]!==0||n[Io]!==0)?Pt:n[Tr]<0||n[Tr]>59?Tr:n[Ii]<0||n[Ii]>59?Ii:n[Io]<0||n[Io]>999?Io:-1,ee(t)._overflowDayOfYear&&(e<sn||e>Ur)&&(e=Ur),ee(t)._overflowWeeks&&e===-1&&(e=kY),ee(t)._overflowWeekday&&e===-1&&(e=PY),ee(t).overflow=e),t}var S7=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,C7=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,R7=/Z|[+-]\d\d(?::?\d\d)?/,af=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ly=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],k7=/^\/?Date\((-?\d+)/i,P7=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,x7={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function F2(t){var e,n,r=t._i,i=S7.exec(r)||C7.exec(r),s,o,a,l,u=af.length,c=Ly.length;if(i){for(ee(t).iso=!0,e=0,n=u;e<n;e++)if(af[e][1].exec(i[1])){o=af[e][0],s=af[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,n=c;e<n;e++)if(Ly[e][1].exec(i[3])){a=(i[2]||" ")+Ly[e][0];break}if(a==null){t._isValid=!1;return}}if(!s&&a!=null){t._isValid=!1;return}if(i[4])if(R7.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(l||""),BI(t)}else t._isValid=!1}function A7(t,e,n,r,i,s){var o=[b7(t),P2.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function b7(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function D7(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function N7(t,e,n){if(t){var r=O2.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return ee(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function O7(t,e,n){if(t)return x7[t];if(e)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function $2(t){var e=P7.exec(D7(t._i)),n;if(e){if(n=A7(e[4],e[3],e[2],e[5],e[6],e[7]),!N7(e[1],n,t))return;t._a=n,t._tzm=O7(e[8],e[9],e[10]),t._d=vh.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ee(t).rfc2822=!0}else t._isValid=!1}function M7(t){var e=k7.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(F2(t),t._isValid===!1)delete t._isValid;else return;if($2(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:F.createFromInputFallback(t)}F.createFromInputFallback=hr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function La(t,e,n){return t??e??n}function L7(t){var e=new Date(F.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function UI(t){var e,n,r=[],i,s,o;if(!t._d){for(i=L7(t),t._w&&t._a[Ur]==null&&t._a[Ti]==null&&V7(t),t._dayOfYear!=null&&(o=La(t._a[sn],i[sn]),(t._dayOfYear>Tc(o)||t._dayOfYear===0)&&(ee(t)._overflowDayOfYear=!0),n=vh(o,0,t._dayOfYear),t._a[Ti]=n.getUTCMonth(),t._a[Ur]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Pt]===24&&t._a[Tr]===0&&t._a[Ii]===0&&t._a[Io]===0&&(t._nextDay=!0,t._a[Pt]=0),t._d=(t._useUTC?vh:zY).apply(null,r),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Pt]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(ee(t).weekdayMismatch=!0)}}function V7(t){var e,n,r,i,s,o,a,l,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,n=La(e.GG,t._a[sn],wh(Be(),1,4).year),r=La(e.W,1),i=La(e.E,1),(i<1||i>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,u=wh(Be(),s,o),n=La(e.gg,t._a[sn],u.year),r=La(e.w,u.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>ki(n,s,o)?ee(t)._overflowWeeks=!0:l!=null?ee(t)._overflowWeekday=!0:(a=N2(n,r,i,s,o),t._a[sn]=a.year,t._dayOfYear=a.dayOfYear)}F.ISO_8601=function(){};F.RFC_2822=function(){};function BI(t){if(t._f===F.ISO_8601){F2(t);return}if(t._f===F.RFC_2822){$2(t);return}t._a=[],ee(t).empty=!0;var e=""+t._i,n,r,i,s,o,a=e.length,l=0,u,c;for(i=E2(t._f,t._locale).match(xI)||[],c=i.length,n=0;n<c;n++)s=i[n],r=(e.match(SY(s,t))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&ee(t).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),ml[s]?(r?ee(t).empty=!1:ee(t).unusedTokens.push(s),RY(s,r,t)):t._strict&&!r&&ee(t).unusedTokens.push(s);ee(t).charsLeftOver=a-l,e.length>0&&ee(t).unusedInput.push(e),t._a[Pt]<=12&&ee(t).bigHour===!0&&t._a[Pt]>0&&(ee(t).bigHour=void 0),ee(t).parsedDateParts=t._a.slice(0),ee(t).meridiem=t._meridiem,t._a[Pt]=F7(t._locale,t._a[Pt],t._meridiem),u=ee(t).era,u!==null&&(t._a[sn]=t._locale.erasConvertYear(u,t._a[sn])),UI(t),$I(t)}function F7(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function $7(t){var e,n,r,i,s,o,a=!1,l=t._f.length;if(l===0){ee(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,o=!1,e=kI({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],BI(e),RI(e)&&(o=!0),s+=ee(e).charsLeftOver,s+=ee(e).unusedTokens.length*10,ee(e).score=s,a?s<r&&(r=s,n=e):(r==null||s<r||o)&&(r=s,n=e,o&&(a=!0));gs(t,n||e)}function U7(t){if(!t._d){var e=AI(t._i),n=e.day===void 0?e.date:e.day;t._a=y2([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),UI(t)}}function B7(t){var e=new hd($I(U2(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function U2(t){var e=t._i,n=t._f;return t._locale=t._locale||Wi(t._l),e===null||n===void 0&&e===""?Lg({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),br(e)?new hd($I(e)):(cd(e)?t._d=e:Ar(n)?$7(t):n?BI(t):j7(t),RI(t)||(t._d=null),t))}function j7(t){var e=t._i;wn(e)?t._d=new Date(F.now()):cd(e)?t._d=new Date(e.valueOf()):typeof e=="string"?M7(t):Ar(e)?(t._a=y2(e.slice(0),function(n){return parseInt(n,10)}),UI(t)):Oo(e)?U7(t):Vi(e)?t._d=new Date(e):F.createFromInputFallback(t)}function B2(t,e,n,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Oo(t)&&CI(t)||Ar(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,B7(s)}function Be(t,e,n,r){return B2(t,e,n,r,!1)}var z7=hr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Be.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Lg()}),W7=hr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Be.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Lg()});function j2(t,e){var n,r;if(e.length===1&&Ar(e[0])&&(e=e[0]),!e.length)return Be();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function H7(){var t=[].slice.call(arguments,0);return j2("isBefore",t)}function q7(){var t=[].slice.call(arguments,0);return j2("isAfter",t)}var G7=function(){return Date.now?Date.now():+new Date},Fu=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Y7(t){var e,n=!1,r,i=Fu.length;for(e in t)if(ye(t,e)&&!(ft.call(Fu,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[Fu[r]]){if(n)return!1;parseFloat(t[Fu[r]])!==ce(t[Fu[r]])&&(n=!0)}return!0}function K7(){return this._isValid}function Q7(){return Dr(NaN)}function Wg(t){var e=AI(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=Y7(e),this._milliseconds=+c+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=Wi(),this._bubble()}function Vf(t){return t instanceof Wg}function Z0(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function X7(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,o;for(o=0;o<r;o++)(n&&t[o]!==e[o]||!n&&ce(t[o])!==ce(e[o]))&&s++;return s+i}function z2(t,e){H(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Zr(~~(n/60),2)+e+Zr(~~n%60,2)})}z2("Z",":");z2("ZZ","");U("Z",Bg);U("ZZ",Bg);De(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=jI(Bg,t)});var J7=/([\+\-]|\d\d)/gi;function jI(t,e){var n=(e||"").match(t),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(J7)||["-",0,0],s=+(i[1]*60)+ce(i[2]),s===0?0:i[0]==="+"?s:-s)}function zI(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(br(t)||cd(t)?t.valueOf():Be(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),F.updateOffset(n,!1),n):Be(t).local()}function ew(t){return-Math.round(t._d.getTimezoneOffset())}F.updateOffset=function(){};function Z7(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=jI(Bg,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=ew(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?q2(this,Dr(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,F.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:ew(this)}function eK(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function tK(t){return this.utcOffset(0,t)}function nK(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(ew(this),"m")),this}function rK(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=jI(TY,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function iK(t){return this.isValid()?(t=t?Be(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function sK(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function oK(){if(!wn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return kI(t,this),t=U2(t),t._a?(e=t._isUTC?ii(t._a):Be(t._a),this._isDSTShifted=this.isValid()&&X7(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function aK(){return this.isValid()?!this._isUTC:!1}function lK(){return this.isValid()?this._isUTC:!1}function W2(){return this.isValid()?this._isUTC&&this._offset===0:!1}var uK=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,cK=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Dr(t,e){var n=t,r=null,i,s,o;return Vf(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Vi(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=uK.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:ce(r[Ur])*i,h:ce(r[Pt])*i,m:ce(r[Tr])*i,s:ce(r[Ii])*i,ms:ce(Z0(r[Io]*1e3))*i}):(r=cK.exec(t))?(i=r[1]==="-"?-1:1,n={y:no(r[2],i),M:no(r[3],i),w:no(r[4],i),d:no(r[5],i),h:no(r[6],i),m:no(r[7],i),s:no(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=hK(Be(n.from),Be(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new Wg(n),Vf(t)&&ye(t,"_locale")&&(s._locale=t._locale),Vf(t)&&ye(t,"_isValid")&&(s._isValid=t._isValid),s}Dr.fn=Wg.prototype;Dr.invalid=Q7;function no(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Rk(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function hK(t,e){var n;return t.isValid()&&e.isValid()?(e=zI(e,t),t.isBefore(e)?n=Rk(t,e):(n=Rk(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function H2(t,e){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(w2(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=Dr(n,r),q2(this,i,t),this}}function q2(t,e,n,r){var i=e._milliseconds,s=Z0(e._days),o=Z0(e._months);t.isValid()&&(r=r??!0,o&&A2(t,yh(t,"Month")+o*n),s&&k2(t,"Date",yh(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&F.updateOffset(t,s||o))}var dK=H2(1,"add"),fK=H2(-1,"subtract");function G2(t){return typeof t=="string"||t instanceof String}function pK(t){return br(t)||cd(t)||G2(t)||Vi(t)||gK(t)||mK(t)||t===null||t===void 0}function mK(t){var e=Oo(t)&&!CI(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,o=r.length;for(i=0;i<o;i+=1)s=r[i],n=n||ye(t,s);return e&&n}function gK(t){var e=Ar(t),n=!1;return e&&(n=t.filter(function(r){return!Vi(r)&&G2(t)}).length===0),e&&n}function _K(t){var e=Oo(t)&&!CI(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||ye(t,s);return e&&n}function yK(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function vK(t,e){arguments.length===1&&(arguments[0]?pK(arguments[0])?(t=arguments[0],e=void 0):_K(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Be(),r=zI(n,this).startOf("day"),i=F.calendarFormat(this,r)||"sameElse",s=e&&(si(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,Be(n)))}function wK(){return new hd(this)}function EK(t,e){var n=br(t)?t:Be(t);return this.isValid()&&n.isValid()?(e=dr(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function TK(t,e){var n=br(t)?t:Be(t);return this.isValid()&&n.isValid()?(e=dr(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function IK(t,e,n,r){var i=br(t)?t:Be(t),s=br(e)?e:Be(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function SK(t,e){var n=br(t)?t:Be(t),r;return this.isValid()&&n.isValid()?(e=dr(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function CK(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function RK(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function kK(t,e,n){var r,i,s;if(!this.isValid())return NaN;if(r=zI(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=dr(e),e){case"year":s=Ff(this,r)/12;break;case"month":s=Ff(this,r);break;case"quarter":s=Ff(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:Xn(s)}function Ff(t,e){if(t.date()<e.date())return-Ff(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,s;return e-r<0?(i=t.clone().add(n-1,"months"),s=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),s=(e-r)/(i-r)),-(n+s)||0}F.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";F.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function PK(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function xK(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?Lf(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):si(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Lf(n,"Z")):Lf(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function AK(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+r+i+s)}function bK(t){t||(t=this.isUtc()?F.defaultFormatUtc:F.defaultFormat);var e=Lf(this,t);return this.localeData().postformat(e)}function DK(t,e){return this.isValid()&&(br(t)&&t.isValid()||Be(t).isValid())?Dr({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function NK(t){return this.from(Be(),t)}function OK(t,e){return this.isValid()&&(br(t)&&t.isValid()||Be(t).isValid())?Dr({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function MK(t){return this.to(Be(),t)}function Y2(t){var e;return t===void 0?this._locale._abbr:(e=Wi(t),e!=null&&(this._locale=e),this)}var K2=hr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function Q2(){return this._locale}var am=1e3,gl=60*am,lm=60*gl,X2=(365*400+97)*24*lm;function _l(t,e){return(t%e+e)%e}function J2(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-X2:new Date(t,e,n).valueOf()}function Z2(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-X2:Date.UTC(t,e,n)}function LK(t){var e,n;if(t=dr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Z2:J2,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=_l(e+(this._isUTC?0:this.utcOffset()*gl),lm);break;case"minute":e=this._d.valueOf(),e-=_l(e,gl);break;case"second":e=this._d.valueOf(),e-=_l(e,am);break}return this._d.setTime(e),F.updateOffset(this,!0),this}function VK(t){var e,n;if(t=dr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Z2:J2,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=lm-_l(e+(this._isUTC?0:this.utcOffset()*gl),lm)-1;break;case"minute":e=this._d.valueOf(),e+=gl-_l(e,gl)-1;break;case"second":e=this._d.valueOf(),e+=am-_l(e,am)-1;break}return this._d.setTime(e),F.updateOffset(this,!0),this}function FK(){return this._d.valueOf()-(this._offset||0)*6e4}function $K(){return Math.floor(this.valueOf()/1e3)}function UK(){return new Date(this.valueOf())}function BK(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function jK(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function zK(){return this.isValid()?this.toISOString():null}function WK(){return RI(this)}function HK(){return gs({},ee(this))}function qK(){return ee(this).overflow}function GK(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}H("N",0,0,"eraAbbr");H("NN",0,0,"eraAbbr");H("NNN",0,0,"eraAbbr");H("NNNN",0,0,"eraName");H("NNNNN",0,0,"eraNarrow");H("y",["y",1],"yo","eraYear");H("y",["yy",2],0,"eraYear");H("y",["yyy",3],0,"eraYear");H("y",["yyyy",4],0,"eraYear");U("N",WI);U("NN",WI);U("NNN",WI);U("NNNN",iQ);U("NNNNN",sQ);De(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?ee(n).era=i:ee(n).invalidEra=t});U("y",uu);U("yy",uu);U("yyy",uu);U("yyyy",uu);U("yo",oQ);De(["y","yy","yyy","yyyy"],sn);De(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[sn]=n._locale.eraYearOrdinalParse(t,i):e[sn]=parseInt(t,10)});function YK(t,e){var n,r,i,s=this._eras||Wi("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=F(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=F(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function KK(t,e,n){var r,i,s=this.eras(),o,a,l;for(t=t.toUpperCase(),r=0,i=s.length;r<i;++r)if(o=s[r].name.toUpperCase(),a=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return s[r];break;case"NNNN":if(o===t)return s[r];break;case"NNNNN":if(l===t)return s[r];break}else if([o,a,l].indexOf(t)>=0)return s[r]}function QK(t,e){var n=t.since<=t.until?1:-1;return e===void 0?F(t.since).year():F(t.since).year()+(e-t.offset)*n}function XK(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function JK(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function ZK(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function eQ(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-F(i[t].since).year())*n+i[t].offset;return this.year()}function tQ(t){return ye(this,"_erasNameRegex")||HI.call(this),t?this._erasNameRegex:this._erasRegex}function nQ(t){return ye(this,"_erasAbbrRegex")||HI.call(this),t?this._erasAbbrRegex:this._erasRegex}function rQ(t){return ye(this,"_erasNarrowRegex")||HI.call(this),t?this._erasNarrowRegex:this._erasRegex}function WI(t,e){return e.erasAbbrRegex(t)}function iQ(t,e){return e.erasNameRegex(t)}function sQ(t,e){return e.erasNarrowRegex(t)}function oQ(t,e){return e._eraYearOrdinalRegex||uu}function HI(){var t=[],e=[],n=[],r=[],i,s,o,a,l,u=this.eras();for(i=0,s=u.length;i<s;++i)o=Ri(u[i].name),a=Ri(u[i].abbr),l=Ri(u[i].narrow),e.push(o),t.push(a),n.push(l),r.push(o),r.push(a),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}H(0,["gg",2],0,function(){return this.weekYear()%100});H(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Hg(t,e){H(0,[t,t.length],0,e)}Hg("gggg","weekYear");Hg("ggggg","weekYear");Hg("GGGG","isoWeekYear");Hg("GGGGG","isoWeekYear");U("G",Ug);U("g",Ug);U("GG",je,Hn);U("gg",je,Hn);U("GGGG",DI,bI);U("gggg",DI,bI);U("GGGGG",$g,Vg);U("ggggg",$g,Vg);fd(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=ce(t)});fd(["gg","GG"],function(t,e,n,r){e[r]=F.parseTwoDigitYear(t)});function aQ(t){return eL.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function lQ(t){return eL.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function uQ(){return ki(this.year(),1,4)}function cQ(){return ki(this.isoWeekYear(),1,4)}function hQ(){var t=this.localeData()._week;return ki(this.year(),t.dow,t.doy)}function dQ(){var t=this.localeData()._week;return ki(this.weekYear(),t.dow,t.doy)}function eL(t,e,n,r,i){var s;return t==null?wh(this,r,i).year:(s=ki(t,r,i),e>s&&(e=s),fQ.call(this,t,e,n,r,i))}function fQ(t,e,n,r,i){var s=N2(t,e,n,r,i),o=vh(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}H("Q",0,"Qo","quarter");U("Q",T2);De("Q",function(t,e){e[Ti]=(ce(t)-1)*3});function pQ(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}H("D",["DD",2],"Do","date");U("D",je,cu);U("DD",je,Hn);U("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});De(["D","DD"],Ur);De("Do",function(t,e){e[Ur]=ce(t.match(je)[0])});var tL=hu("Date",!0);H("DDD",["DDDD",3],"DDDo","dayOfYear");U("DDD",Fg);U("DDDD",I2);De(["DDD","DDDD"],function(t,e,n){n._dayOfYear=ce(t)});function mQ(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}H("m",["mm",2],0,"minute");U("m",je,NI);U("mm",je,Hn);De(["m","mm"],Tr);var gQ=hu("Minutes",!1);H("s",["ss",2],0,"second");U("s",je,NI);U("ss",je,Hn);De(["s","ss"],Ii);var _Q=hu("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)});H(0,["SS",2],0,function(){return~~(this.millisecond()/10)});H(0,["SSS",3],0,"millisecond");H(0,["SSSS",4],0,function(){return this.millisecond()*10});H(0,["SSSSS",5],0,function(){return this.millisecond()*100});H(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});H(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});H(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});H(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});U("S",Fg,T2);U("SS",Fg,Hn);U("SSS",Fg,I2);var _s,nL;for(_s="SSSS";_s.length<=9;_s+="S")U(_s,uu);function yQ(t,e){e[Io]=ce(("0."+t)*1e3)}for(_s="S";_s.length<=9;_s+="S")De(_s,yQ);nL=hu("Milliseconds",!1);H("z",0,0,"zoneAbbr");H("zz",0,0,"zoneName");function vQ(){return this._isUTC?"UTC":""}function wQ(){return this._isUTC?"Coordinated Universal Time":""}var A=hd.prototype;A.add=dK;A.calendar=vK;A.clone=wK;A.diff=kK;A.endOf=VK;A.format=bK;A.from=DK;A.fromNow=NK;A.to=OK;A.toNow=MK;A.get=AY;A.invalidAt=qK;A.isAfter=EK;A.isBefore=TK;A.isBetween=IK;A.isSame=SK;A.isSameOrAfter=CK;A.isSameOrBefore=RK;A.isValid=WK;A.lang=K2;A.locale=Y2;A.localeData=Q2;A.max=W7;A.min=z7;A.parsingFlags=HK;A.set=bY;A.startOf=LK;A.subtract=fK;A.toArray=BK;A.toObject=jK;A.toDate=UK;A.toISOString=xK;A.inspect=AK;typeof Symbol<"u"&&Symbol.for!=null&&(A[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});A.toJSON=zK;A.toString=PK;A.unix=$K;A.valueOf=FK;A.creationData=GK;A.eraName=XK;A.eraNarrow=JK;A.eraAbbr=ZK;A.eraYear=eQ;A.year=R2;A.isLeapYear=xY;A.weekYear=aQ;A.isoWeekYear=lQ;A.quarter=A.quarters=pQ;A.month=b2;A.daysInMonth=UY;A.week=A.weeks=YY;A.isoWeek=A.isoWeeks=KY;A.weeksInYear=hQ;A.weeksInWeekYear=dQ;A.isoWeeksInYear=uQ;A.isoWeeksInISOWeekYear=cQ;A.date=tL;A.day=A.days=l7;A.weekday=u7;A.isoWeekday=c7;A.dayOfYear=mQ;A.hour=A.hours=_7;A.minute=A.minutes=gQ;A.second=A.seconds=_Q;A.millisecond=A.milliseconds=nL;A.utcOffset=Z7;A.utc=tK;A.local=nK;A.parseZone=rK;A.hasAlignedHourOffset=iK;A.isDST=sK;A.isLocal=aK;A.isUtcOffset=lK;A.isUtc=W2;A.isUTC=W2;A.zoneAbbr=vQ;A.zoneName=wQ;A.dates=hr("dates accessor is deprecated. Use date instead.",tL);A.months=hr("months accessor is deprecated. Use month instead",b2);A.years=hr("years accessor is deprecated. Use year instead",R2);A.zone=hr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",eK);A.isDSTShifted=hr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",oK);function EQ(t){return Be(t*1e3)}function TQ(){return Be.apply(null,arguments).parseZone()}function rL(t){return t}var ve=PI.prototype;ve.calendar=aY;ve.longDateFormat=hY;ve.invalidDate=fY;ve.ordinal=gY;ve.preparse=rL;ve.postformat=rL;ve.relativeTime=yY;ve.pastFuture=vY;ve.set=sY;ve.eras=YK;ve.erasParse=KK;ve.erasConvertYear=QK;ve.erasAbbrRegex=nQ;ve.erasNameRegex=tQ;ve.erasNarrowRegex=rQ;ve.months=LY;ve.monthsShort=VY;ve.monthsParse=$Y;ve.monthsRegex=jY;ve.monthsShortRegex=BY;ve.week=WY;ve.firstDayOfYear=GY;ve.firstDayOfWeek=qY;ve.weekdays=r7;ve.weekdaysMin=s7;ve.weekdaysShort=i7;ve.weekdaysParse=a7;ve.weekdaysRegex=h7;ve.weekdaysShortRegex=d7;ve.weekdaysMinRegex=f7;ve.isPM=m7;ve.meridiem=y7;function um(t,e,n,r){var i=Wi(),s=ii().set(r,e);return i[n](s,t)}function iL(t,e,n){if(Vi(t)&&(e=t,t=void 0),t=t||"",e!=null)return um(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=um(t,r,n,"month");return i}function qI(t,e,n,r){typeof t=="boolean"?(Vi(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Vi(e)&&(n=e,e=void 0),e=e||"");var i=Wi(),s=t?i._week.dow:0,o,a=[];if(n!=null)return um(e,(n+s)%7,r,"day");for(o=0;o<7;o++)a[o]=um(e,(o+s)%7,r,"day");return a}function IQ(t,e){return iL(t,e,"months")}function SQ(t,e){return iL(t,e,"monthsShort")}function CQ(t,e,n){return qI(t,e,n,"weekdays")}function RQ(t,e,n){return qI(t,e,n,"weekdaysShort")}function kQ(t,e,n){return qI(t,e,n,"weekdaysMin")}Ds("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=ce(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});F.lang=hr("moment.lang is deprecated. Use moment.locale instead.",Ds);F.langData=hr("moment.langData is deprecated. Use moment.localeData instead.",Wi);var li=Math.abs;function PQ(){var t=this._data;return this._milliseconds=li(this._milliseconds),this._days=li(this._days),this._months=li(this._months),t.milliseconds=li(t.milliseconds),t.seconds=li(t.seconds),t.minutes=li(t.minutes),t.hours=li(t.hours),t.months=li(t.months),t.years=li(t.years),this}function sL(t,e,n,r){var i=Dr(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function xQ(t,e){return sL(this,t,e,1)}function AQ(t,e){return sL(this,t,e,-1)}function kk(t){return t<0?Math.floor(t):Math.ceil(t)}function bQ(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,s,o,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=kk(tw(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=Xn(t/1e3),r.seconds=i%60,s=Xn(i/60),r.minutes=s%60,o=Xn(s/60),r.hours=o%24,e+=Xn(o/24),l=Xn(oL(e)),n+=l,e-=kk(tw(l)),a=Xn(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function oL(t){return t*4800/146097}function tw(t){return t*146097/4800}function DQ(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=dr(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+oL(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(tw(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function Hi(t){return function(){return this.as(t)}}var aL=Hi("ms"),NQ=Hi("s"),OQ=Hi("m"),MQ=Hi("h"),LQ=Hi("d"),VQ=Hi("w"),FQ=Hi("M"),$Q=Hi("Q"),UQ=Hi("y"),BQ=aL;function jQ(){return Dr(this)}function zQ(t){return t=dr(t),this.isValid()?this[t+"s"]():NaN}function ga(t){return function(){return this.isValid()?this._data[t]:NaN}}var WQ=ga("milliseconds"),HQ=ga("seconds"),qQ=ga("minutes"),GQ=ga("hours"),YQ=ga("days"),KQ=ga("months"),QQ=ga("years");function XQ(){return Xn(this.days()/7)}var hi=Math.round,Ja={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function JQ(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function ZQ(t,e,n,r){var i=Dr(t).abs(),s=hi(i.as("s")),o=hi(i.as("m")),a=hi(i.as("h")),l=hi(i.as("d")),u=hi(i.as("M")),c=hi(i.as("w")),h=hi(i.as("y")),d=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(d=d||c<=1&&["w"]||c<n.w&&["ww",c]),d=d||u<=1&&["M"]||u<n.M&&["MM",u]||h<=1&&["y"]||["yy",h],d[2]=e,d[3]=+t>0,d[4]=r,JQ.apply(null,d)}function eX(t){return t===void 0?hi:typeof t=="function"?(hi=t,!0):!1}function tX(t,e){return Ja[t]===void 0?!1:e===void 0?Ja[t]:(Ja[t]=e,t==="s"&&(Ja.ss=e-1),!0)}function nX(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Ja,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Ja,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=ZQ(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var Vy=Math.abs;function Ca(t){return(t>0)-(t<0)||+t}function qg(){if(!this.isValid())return this.localeData().invalidDate();var t=Vy(this._milliseconds)/1e3,e=Vy(this._days),n=Vy(this._months),r,i,s,o,a=this.asSeconds(),l,u,c,h;return a?(r=Xn(t/60),i=Xn(r/60),t%=60,r%=60,s=Xn(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=Ca(this._months)!==Ca(a)?"-":"",c=Ca(this._days)!==Ca(a)?"-":"",h=Ca(this._milliseconds)!==Ca(a)?"-":"",l+"P"+(s?u+s+"Y":"")+(n?u+n+"M":"")+(e?c+e+"D":"")+(i||r||t?"T":"")+(i?h+i+"H":"")+(r?h+r+"M":"")+(t?h+o+"S":"")):"P0D"}var me=Wg.prototype;me.isValid=K7;me.abs=PQ;me.add=xQ;me.subtract=AQ;me.as=DQ;me.asMilliseconds=aL;me.asSeconds=NQ;me.asMinutes=OQ;me.asHours=MQ;me.asDays=LQ;me.asWeeks=VQ;me.asMonths=FQ;me.asQuarters=$Q;me.asYears=UQ;me.valueOf=BQ;me._bubble=bQ;me.clone=jQ;me.get=zQ;me.milliseconds=WQ;me.seconds=HQ;me.minutes=qQ;me.hours=GQ;me.days=YQ;me.weeks=XQ;me.months=KQ;me.years=QQ;me.humanize=nX;me.toISOString=qg;me.toString=qg;me.toJSON=qg;me.locale=Y2;me.localeData=Q2;me.toIsoString=hr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",qg);me.lang=K2;H("X",0,0,"unix");H("x",0,0,"valueOf");U("x",Ug);U("X",IY);De("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});De("x",function(t,e,n){n._d=new Date(ce(t))});//! moment.js
F.version="2.30.1";rY(Be);F.fn=A;F.min=H7;F.max=q7;F.now=G7;F.utc=ii;F.unix=EQ;F.months=IQ;F.isDate=cd;F.locale=Ds;F.invalid=Lg;F.duration=Dr;F.isMoment=br;F.weekdays=CQ;F.parseZone=TQ;F.localeData=Wi;F.isDuration=Vf;F.monthsShort=SQ;F.weekdaysMin=kQ;F.defineLocale=FI;F.updateLocale=T7;F.locales=I7;F.weekdaysShort=RQ;F.normalizeUnits=dr;F.relativeTimeRounding=eX;F.relativeTimeThreshold=tX;F.calendarFormat=yK;F.prototype=A;F.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const rX={apiKey:"AIzaSyCwF75LGVuWriGfXEyHzoGBvobiOdMEwHs",authDomain:"star-education-academy.firebaseapp.com",projectId:"star-education-academy",storageBucket:"star-education-academy.appspot.com",messagingSenderId:"693801186794",appId:"1:693801186794:web:b202cdffa55530e687ee93",measurementId:"G-JN1DV2YT81",databaseURL:"https://star-education-academy-default-rtdb.asia-southeast1.firebasedatabase.app"},Gg=lb(rX),Nie=U3(Gg),Oie=new pi,zl=Q9(Gg,{cache:wW()}),Mie=DH(Gg),nw=Z8(Gg);X9(zl).then(()=>{console.log("Offline persistence enabled")}).catch(t=>{t.code==="failed-precondition"?console.log("Persistence failed, multiple tabs open"):t.code==="unimplemented"&&console.log("Persistence not availabel on this browser")});const rw=(t,e=200)=>{setTimeout(()=>{t(!1)},e)},iX=async(t,e,n,r,i,s=!1,o,a=200)=>{const l=cc.get("userId");E.useEffect(()=>{if(!l)return;const u=cW(t,...e),c=BO(u,h=>{if(r(!0),h.empty)i(!0),n([]);else{const d=h.docs.map(f=>({...f.data(),[s?"uid":"id"]:f.id}));n(d),i(!1)}rw(r,a)},h=>{console.log("Error fetching documents: ",h.message),rw(r,a),o("Error fetching documents: "+h.message+" Come here again at 1:30 pm.")});return()=>c()},[])},sX=async(t,e=3,n=1e3)=>{let r=0;for(;r<e;)try{await t(),console.log("User data save to firestore successfully");break}catch(i){if(r++,r>=e)throw console.log("Failed to save user data",i.message),i;console.warn(`Retrying Firestore write... (attempt ${r})`),await new Promise(s=>setTimeout(s,n*r))}},Lie=async(t,e,n,r="",i)=>{try{const s=uh(zl,"users",i),o=await UO(s),a={name:t,email:e,password:n,image:r,isAdmin:!1,createdAt:IW()};o.exists()||await sX(()=>gW(uh(zl,"users",i),a))}catch(s){console.log(s.message)}};function Vie(t,e,n,r=[]){E.useEffect(()=>{const i=G0(nw,`/status/${t}`);g2(i,s=>{if(s.exists()){const{status:o,lastChanged:a}=s.val();e(o),n(F(a).fromNow())}})},r)}function Fie(t,e){let n=!1;return e.forEach(r=>{r.id===t&&(n=!0)}),n}let Pk;function $ie(t){t(!0),clearTimeout(Pk),Pk=setTimeout(()=>{t(!1)},[4e3])}function Uie(t){scrollTo({top:0,...{behavior:t}})}function Bie(){const t=window.innerHeight,n=document.documentElement.scrollHeight-t;scrollTo({top:n+200})}function jie(t){document.body.style.overflow=t}function zie(t,e){E.useEffect(()=>{const n=r=>{t.current&&!t.current.contains(r.target)&&e(!1)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[])}function Wie(t){try{const e=t.split(":"),n=Number(e[0]),r=Number(e[1]),i=Number(e[2]);return`${Fy(n,"hours")} ${Fy(r,"minutes")} ${Fy(i,"seconds")}`}catch{return null}}function Fy(t,e){return t?`${t} ${e}`:""}function xk(t){return t>=10?t:`0${t}`}const oX=(t,e)=>{const n=cc.get("userId");let r;return t.forEach(i=>{i.id===e&&(r=i)}),r?r.seenBy.includes(n):!1},Hie=(t,e)=>{let n=0;return t.forEach(r=>{oX(t,r.id)||(n+=1)}),!!(n>0&&(e!=null&&e.name))};function qie(t){E.useEffect(()=>{const e=()=>{const n=window.scrollY;HA(`SEA-scrollPosition-${t}`,n)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[])}function Gie(t){E.useEffect(()=>{const e=zv(`SEA-scrollPosition-${t}`);e&&scrollTo(0,parseInt(e,10))},[])}async function Yie(t,e){try{console.log("Fetching counts...");const n=await _W(t);e(n.data().count)}catch(n){console.log(n.message)}}async function aX(t,e){const n=Ak(t,e);try{if(n)return console.log("Fetched from the array..."),n;{const r=uh(CO(zl,"users"),e);console.log("fetching user...");const i=await UO(r);if(i.exists()){const s={uid:i.id,...i.data()};return Ak(t,i.id)?console.log("User already exists in the array:"):t.push(s),s}else return console.log("No user found in Firestore"),null}}catch(r){return console.error("Error fetching user:",r.message),null}}function Ak(t,e){return t.find(n=>n.uid===e)}function Kie(t,e,n,r=()=>{},i=[],s=150){E.useEffect(()=>{(async()=>{r(!0);const a=await aX(e,t);n(a),rw(r,s)})()},i)}const lX=()=>{const{headerTitle:t,setUserId:e,setUserData:n,openSnackbar:r,userId:i}=E.useContext(cV),s=BA(),o=Mh(),a=o.pathname!=="/"?o.pathname:"/app";E.useEffect(()=>{document.title="SEA  "+t||"STAR EDUCATION ACADEMY"},[t]),E.useEffect(()=>{const l=cc.get("userId");if(!l)return;const u=BO(uh(zl,"users",l),c=>{if(c.exists()){const h={uid:c.id,...c.data()};n(h)}else e(null),cc.remove("userId"),s("/login"),console.log("No user found..."),r("No user found")},c=>{console.log(c.message),r(c.message)});return()=>u()},[i]),E.useEffect(()=>{const l=cc.get("userId")||null;l?(e(l),s(a)):s("/login")},[])},uX={black:"#000",white:"#fff"},Th=uX,cX={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ra=cX,hX={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ka=hX,dX={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Pa=dX,fX={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},xa=fX,pX={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Aa=pX,mX={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},$u=mX,gX={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},_X=gX;function Ih(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const yX=Object.freeze(Object.defineProperty({__proto__:null,default:Ih},Symbol.toStringTag,{value:"Module"})),Wl="$$material";function b(){return b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b.apply(null,arguments)}function nt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function vX(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var wX=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,EX=vX(function(t){return wX.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),TX=!1;function IX(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function SX(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var CX=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!TX:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(SX(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=IX(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Xt="-ms-",cm="-moz-",we="-webkit-",lL="comm",GI="rule",YI="decl",RX="@import",uL="@keyframes",kX="@layer",PX=Math.abs,Yg=String.fromCharCode,xX=Object.assign;function AX(t,e){return Bt(t,0)^45?(((e<<2^Bt(t,0))<<2^Bt(t,1))<<2^Bt(t,2))<<2^Bt(t,3):0}function cL(t){return t.trim()}function bX(t,e){return(t=e.exec(t))?t[0]:t}function Ee(t,e,n){return t.replace(e,n)}function iw(t,e){return t.indexOf(e)}function Bt(t,e){return t.charCodeAt(e)|0}function Sh(t,e,n){return t.slice(e,n)}function Lr(t){return t.length}function KI(t){return t.length}function lf(t,e){return e.push(t),t}function DX(t,e){return t.map(e).join("")}var Kg=1,Hl=1,hL=0,bn=0,Et=0,du="";function Qg(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Kg,column:Hl,length:o,return:""}}function Uu(t,e){return xX(Qg("",null,null,"",null,null,0),t,{length:-t.length},e)}function NX(){return Et}function OX(){return Et=bn>0?Bt(du,--bn):0,Hl--,Et===10&&(Hl=1,Kg--),Et}function $n(){return Et=bn<hL?Bt(du,bn++):0,Hl++,Et===10&&(Hl=1,Kg++),Et}function Xr(){return Bt(du,bn)}function $f(){return bn}function pd(t,e){return Sh(du,t,e)}function Ch(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dL(t){return Kg=Hl=1,hL=Lr(du=t),bn=0,[]}function fL(t){return du="",t}function Uf(t){return cL(pd(bn-1,sw(t===91?t+2:t===40?t+1:t)))}function MX(t){for(;(Et=Xr())&&Et<33;)$n();return Ch(t)>2||Ch(Et)>3?"":" "}function LX(t,e){for(;--e&&$n()&&!(Et<48||Et>102||Et>57&&Et<65||Et>70&&Et<97););return pd(t,$f()+(e<6&&Xr()==32&&$n()==32))}function sw(t){for(;$n();)switch(Et){case t:return bn;case 34:case 39:t!==34&&t!==39&&sw(Et);break;case 40:t===41&&sw(t);break;case 92:$n();break}return bn}function VX(t,e){for(;$n()&&t+Et!==57;)if(t+Et===84&&Xr()===47)break;return"/*"+pd(e,bn-1)+"*"+Yg(t===47?t:$n())}function FX(t){for(;!Ch(Xr());)$n();return pd(t,bn)}function $X(t){return fL(Bf("",null,null,null,[""],t=dL(t),0,[0],t))}function Bf(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,h=o,d=0,f=0,p=0,g=1,v=1,_=1,m=0,y="",w=i,I=s,C=r,S=y;v;)switch(p=m,m=$n()){case 40:if(p!=108&&Bt(S,h-1)==58){iw(S+=Ee(Uf(m),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:S+=Uf(m);break;case 9:case 10:case 13:case 32:S+=MX(p);break;case 92:S+=LX($f()-1,7);continue;case 47:switch(Xr()){case 42:case 47:lf(UX(VX($n(),$f()),e,n),l);break;default:S+="/"}break;case 123*g:a[u++]=Lr(S)*_;case 125*g:case 59:case 0:switch(m){case 0:case 125:v=0;case 59+c:_==-1&&(S=Ee(S,/\f/g,"")),f>0&&Lr(S)-h&&lf(f>32?Dk(S+";",r,n,h-1):Dk(Ee(S," ","")+";",r,n,h-2),l);break;case 59:S+=";";default:if(lf(C=bk(S,e,n,u,c,i,a,y,w=[],I=[],h),s),m===123)if(c===0)Bf(S,e,C,C,w,s,h,a,I);else switch(d===99&&Bt(S,3)===110?100:d){case 100:case 108:case 109:case 115:Bf(t,C,C,r&&lf(bk(t,C,C,0,0,i,a,y,i,w=[],h),I),i,I,h,a,r?w:I);break;default:Bf(S,C,C,C,[""],I,0,a,I)}}u=c=f=0,g=_=1,y=S="",h=o;break;case 58:h=1+Lr(S),f=p;default:if(g<1){if(m==123)--g;else if(m==125&&g++==0&&OX()==125)continue}switch(S+=Yg(m),m*g){case 38:_=c>0?1:(S+="\f",-1);break;case 44:a[u++]=(Lr(S)-1)*_,_=1;break;case 64:Xr()===45&&(S+=Uf($n())),d=Xr(),c=h=Lr(y=S+=FX($f())),m++;break;case 45:p===45&&Lr(S)==2&&(g=0)}}return s}function bk(t,e,n,r,i,s,o,a,l,u,c){for(var h=i-1,d=i===0?s:[""],f=KI(d),p=0,g=0,v=0;p<r;++p)for(var _=0,m=Sh(t,h+1,h=PX(g=o[p])),y=t;_<f;++_)(y=cL(g>0?d[_]+" "+m:Ee(m,/&\f/g,d[_])))&&(l[v++]=y);return Qg(t,e,n,i===0?GI:a,l,u,c)}function UX(t,e,n){return Qg(t,e,n,lL,Yg(NX()),Sh(t,2,-2),0)}function Dk(t,e,n,r){return Qg(t,e,n,YI,Sh(t,0,r),Sh(t,r+1,-1),r)}function yl(t,e){for(var n="",r=KI(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function BX(t,e,n,r){switch(t.type){case kX:if(t.children.length)break;case RX:case YI:return t.return=t.return||t.value;case lL:return"";case uL:return t.return=t.value+"{"+yl(t.children,r)+"}";case GI:t.value=t.props.join(",")}return Lr(n=yl(t.children,r))?t.return=t.value+"{"+n+"}":""}function jX(t){var e=KI(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function zX(t){return function(e){e.root||(e=e.return)&&t(e)}}var WX=function(e,n,r){for(var i=0,s=0;i=s,s=Xr(),i===38&&s===12&&(n[r]=1),!Ch(s);)$n();return pd(e,bn)},HX=function(e,n){var r=-1,i=44;do switch(Ch(i)){case 0:i===38&&Xr()===12&&(n[r]=1),e[r]+=WX(bn-1,n,r);break;case 2:e[r]+=Uf(i);break;case 4:if(i===44){e[++r]=Xr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Yg(i)}while(i=$n());return e},qX=function(e,n){return fL(HX(dL(e),n))},Nk=new WeakMap,GX=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Nk.get(r))&&!i){Nk.set(e,!0);for(var s=[],o=qX(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},YX=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function pL(t,e){switch(AX(t,e)){case 5103:return we+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return we+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return we+t+cm+t+Xt+t+t;case 6828:case 4268:return we+t+Xt+t+t;case 6165:return we+t+Xt+"flex-"+t+t;case 5187:return we+t+Ee(t,/(\w+).+(:[^]+)/,we+"box-$1$2"+Xt+"flex-$1$2")+t;case 5443:return we+t+Xt+"flex-item-"+Ee(t,/flex-|-self/,"")+t;case 4675:return we+t+Xt+"flex-line-pack"+Ee(t,/align-content|flex-|-self/,"")+t;case 5548:return we+t+Xt+Ee(t,"shrink","negative")+t;case 5292:return we+t+Xt+Ee(t,"basis","preferred-size")+t;case 6060:return we+"box-"+Ee(t,"-grow","")+we+t+Xt+Ee(t,"grow","positive")+t;case 4554:return we+Ee(t,/([^-])(transform)/g,"$1"+we+"$2")+t;case 6187:return Ee(Ee(Ee(t,/(zoom-|grab)/,we+"$1"),/(image-set)/,we+"$1"),t,"")+t;case 5495:case 3959:return Ee(t,/(image-set\([^]*)/,we+"$1$`$1");case 4968:return Ee(Ee(t,/(.+:)(flex-)?(.*)/,we+"box-pack:$3"+Xt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+we+t+t;case 4095:case 3583:case 4068:case 2532:return Ee(t,/(.+)-inline(.+)/,we+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Lr(t)-1-e>6)switch(Bt(t,e+1)){case 109:if(Bt(t,e+4)!==45)break;case 102:return Ee(t,/(.+:)(.+)-([^]+)/,"$1"+we+"$2-$3$1"+cm+(Bt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~iw(t,"stretch")?pL(Ee(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Bt(t,e+1)!==115)break;case 6444:switch(Bt(t,Lr(t)-3-(~iw(t,"!important")&&10))){case 107:return Ee(t,":",":"+we)+t;case 101:return Ee(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+we+(Bt(t,14)===45?"inline-":"")+"box$3$1"+we+"$2$3$1"+Xt+"$2box$3")+t}break;case 5936:switch(Bt(t,e+11)){case 114:return we+t+Xt+Ee(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return we+t+Xt+Ee(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return we+t+Xt+Ee(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return we+t+Xt+t+t}return t}var KX=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case YI:e.return=pL(e.value,e.length);break;case uL:return yl([Uu(e,{value:Ee(e.value,"@","@"+we)})],i);case GI:if(e.length)return DX(e.props,function(s){switch(bX(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return yl([Uu(e,{props:[Ee(s,/:(read-\w+)/,":"+cm+"$1")]})],i);case"::placeholder":return yl([Uu(e,{props:[Ee(s,/:(plac\w+)/,":"+we+"input-$1")]}),Uu(e,{props:[Ee(s,/:(plac\w+)/,":"+cm+"$1")]}),Uu(e,{props:[Ee(s,/:(plac\w+)/,Xt+"input-$1")]})],i)}return""})}},QX=[KX],mL=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var v=g.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||QX,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var v=g.getAttribute("data-emotion").split(" "),_=1;_<v.length;_++)s[v[_]]=!0;a.push(g)});var l,u=[GX,YX];{var c,h=[BX,zX(function(g){c.insert(g)})],d=jX(u.concat(i,h)),f=function(v){return yl($X(v),d)};l=function(v,_,m,y){c=m,f(v?v+"{"+_.styles+"}":_.styles),y&&(p.inserted[_.name]=!0)}}var p={key:n,sheet:new CX({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p},gL={exports:{}},xe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ft=typeof Symbol=="function"&&Symbol.for,QI=Ft?Symbol.for("react.element"):60103,XI=Ft?Symbol.for("react.portal"):60106,Xg=Ft?Symbol.for("react.fragment"):60107,Jg=Ft?Symbol.for("react.strict_mode"):60108,Zg=Ft?Symbol.for("react.profiler"):60114,e_=Ft?Symbol.for("react.provider"):60109,t_=Ft?Symbol.for("react.context"):60110,JI=Ft?Symbol.for("react.async_mode"):60111,n_=Ft?Symbol.for("react.concurrent_mode"):60111,r_=Ft?Symbol.for("react.forward_ref"):60112,i_=Ft?Symbol.for("react.suspense"):60113,XX=Ft?Symbol.for("react.suspense_list"):60120,s_=Ft?Symbol.for("react.memo"):60115,o_=Ft?Symbol.for("react.lazy"):60116,JX=Ft?Symbol.for("react.block"):60121,ZX=Ft?Symbol.for("react.fundamental"):60117,eJ=Ft?Symbol.for("react.responder"):60118,tJ=Ft?Symbol.for("react.scope"):60119;function qn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case QI:switch(t=t.type,t){case JI:case n_:case Xg:case Zg:case Jg:case i_:return t;default:switch(t=t&&t.$$typeof,t){case t_:case r_:case o_:case s_:case e_:return t;default:return e}}case XI:return e}}}function _L(t){return qn(t)===n_}xe.AsyncMode=JI;xe.ConcurrentMode=n_;xe.ContextConsumer=t_;xe.ContextProvider=e_;xe.Element=QI;xe.ForwardRef=r_;xe.Fragment=Xg;xe.Lazy=o_;xe.Memo=s_;xe.Portal=XI;xe.Profiler=Zg;xe.StrictMode=Jg;xe.Suspense=i_;xe.isAsyncMode=function(t){return _L(t)||qn(t)===JI};xe.isConcurrentMode=_L;xe.isContextConsumer=function(t){return qn(t)===t_};xe.isContextProvider=function(t){return qn(t)===e_};xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===QI};xe.isForwardRef=function(t){return qn(t)===r_};xe.isFragment=function(t){return qn(t)===Xg};xe.isLazy=function(t){return qn(t)===o_};xe.isMemo=function(t){return qn(t)===s_};xe.isPortal=function(t){return qn(t)===XI};xe.isProfiler=function(t){return qn(t)===Zg};xe.isStrictMode=function(t){return qn(t)===Jg};xe.isSuspense=function(t){return qn(t)===i_};xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Xg||t===n_||t===Zg||t===Jg||t===i_||t===XX||typeof t=="object"&&t!==null&&(t.$$typeof===o_||t.$$typeof===s_||t.$$typeof===e_||t.$$typeof===t_||t.$$typeof===r_||t.$$typeof===ZX||t.$$typeof===eJ||t.$$typeof===tJ||t.$$typeof===JX)};xe.typeOf=qn;gL.exports=xe;var nJ=gL.exports,yL=nJ,rJ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},iJ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},vL={};vL[yL.ForwardRef]=rJ;vL[yL.Memo]=iJ;var sJ=!0;function oJ(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var wL=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||sJ===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},EL=function(e,n,r){wL(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function aJ(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var lJ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function uJ(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var cJ=!1,hJ=/[A-Z]|^ms/g,dJ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,TL=function(e){return e.charCodeAt(1)===45},Ok=function(e){return e!=null&&typeof e!="boolean"},$y=uJ(function(t){return TL(t)?t:t.replace(hJ,"-$&").toLowerCase()}),Mk=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(dJ,function(r,i,s){return Vr={name:i,styles:s,next:Vr},i})}return lJ[e]!==1&&!TL(e)&&typeof n=="number"&&n!==0?n+"px":n},fJ="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Rh(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Vr={name:i.name,styles:i.styles,next:Vr},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Vr={name:o.name,styles:o.styles,next:Vr},o=o.next;var a=s.styles+";";return a}return pJ(t,e,n)}case"function":{if(t!==void 0){var l=Vr,u=n(t);return Vr=l,Rh(t,e,u)}break}}var c=n;if(e==null)return c;var h=e[c];return h!==void 0?h:c}function pJ(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Rh(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":Ok(a)&&(r+=$y(s)+":"+Mk(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&cJ)throw new Error(fJ);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)Ok(o[l])&&(r+=$y(s)+":"+Mk(s,o[l])+";");else{var u=Rh(t,e,o);switch(s){case"animation":case"animationName":{r+=$y(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}}return r}var Lk=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Vr;function ZI(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Vr=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Rh(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=Rh(n,e,t[a]),r){var l=s;i+=l[a]}Lk.lastIndex=0;for(var u="",c;(c=Lk.exec(i))!==null;)u+="-"+c[1];var h=aJ(i)+u;return{name:h,styles:i,next:Vr}}var mJ=function(e){return e()},IL=qy.useInsertionEffect?qy.useInsertionEffect:!1,gJ=IL||mJ,Vk=IL||E.useLayoutEffect,SL=E.createContext(typeof HTMLElement<"u"?mL({key:"css"}):null),_J=SL.Provider,CL=function(e){return E.forwardRef(function(n,r){var i=E.useContext(SL);return e(n,i,r)})},md=E.createContext({}),Uy={exports:{}},Fk;function RL(){return Fk||(Fk=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Uy)),Uy.exports}RL();var yJ=CL(function(t,e){var n=t.styles,r=ZI([n],void 0,E.useContext(md)),i=E.useRef();return Vk(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),Vk(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&EL(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function a_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return ZI(e)}var fu=function(){var e=a_.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},vJ=EX,wJ=function(e){return e!=="theme"},$k=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?vJ:wJ},Uk=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},EJ=!1,TJ=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return wL(n,r,i),gJ(function(){return EL(n,r,i)}),null},IJ=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=Uk(e,n,r),l=a||$k(i),u=!l("as");return function(){var c=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)h.push.apply(h,c);else{h.push(c[0][0]);for(var d=c.length,f=1;f<d;f++)h.push(c[f],c[0][f])}var p=CL(function(g,v,_){var m=u&&g.as||i,y="",w=[],I=g;if(g.theme==null){I={};for(var C in g)I[C]=g[C];I.theme=E.useContext(md)}typeof g.className=="string"?y=oJ(v.registered,w,g.className):g.className!=null&&(y=g.className+" ");var S=ZI(h.concat(w),v.registered,I);y+=v.key+"-"+S.name,o!==void 0&&(y+=" "+o);var D=u&&a===void 0?$k(m):l,K={};for(var $ in g)u&&$==="as"||D($)&&(K[$]=g[$]);return K.className=y,_&&(K.ref=_),E.createElement(E.Fragment,null,E.createElement(TJ,{cache:v,serialized:S,isStringTag:typeof m=="string"}),E.createElement(m,K))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=h,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return o===void 0&&EJ?"NO_COMPONENT_SELECTOR":"."+o}}),p.withComponent=function(g,v){return t(g,b({},n,v,{shouldForwardProp:Uk(p,v,!0)})).apply(void 0,h)},p}},SJ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],ow=IJ.bind();SJ.forEach(function(t){ow[t]=ow(t)});let aw;typeof document=="object"&&(aw=mL({key:"css",prepend:!0}));function CJ(t){const{injectFirst:e,children:n}=t;return e&&aw?k.jsx(_J,{value:aw,children:n}):n}function RJ(t){return t==null||Object.keys(t).length===0}function kL(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(RJ(i)?n:i):e;return k.jsx(yJ,{styles:r})}function PL(t,e){return ow(t,e)}const kJ=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},PJ=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:kL,StyledEngineProvider:CJ,ThemeContext:md,css:a_,default:PL,internal_processStyles:kJ,keyframes:fu},Symbol.toStringTag,{value:"Module"}));function hs(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function xL(t){if(!hs(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=xL(t[n])}),e}function Rr(t,e,n={clone:!0}){const r=n.clone?b({},t):t;return hs(t)&&hs(e)&&Object.keys(e).forEach(i=>{hs(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&hs(t[i])?r[i]=Rr(t[i],e[i],n):n.clone?r[i]=hs(e[i])?xL(e[i]):e[i]:r[i]=e[i]}),r}const xJ=Object.freeze(Object.defineProperty({__proto__:null,default:Rr,isPlainObject:hs},Symbol.toStringTag,{value:"Module"})),AJ=["values","unit","step"],bJ=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>b({},n,{[r.key]:r.val}),{})};function AL(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=nt(t,AJ),s=bJ(e),o=Object.keys(s);function a(d){return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${n})`}function l(d){return`@media (max-width:${(typeof e[d]=="number"?e[d]:d)-r/100}${n})`}function u(d,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${n}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-r/100}${n})`}function c(d){return o.indexOf(d)+1<o.length?u(d,o[o.indexOf(d)+1]):a(d)}function h(d){const f=o.indexOf(d);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(d,o[o.indexOf(d)+1]).replace("@media","@media not all and")}return b({keys:o,values:s,up:a,down:l,between:u,only:c,not:h,unit:n},i)}const DJ={borderRadius:4},NJ=DJ;function Ic(t,e){return e?Rr(t,e,{clone:!1}):t}const e1={xs:0,sm:600,md:900,lg:1200,xl:1536},Bk={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${e1[t]}px)`};function Fi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||Bk;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||Bk;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||e1).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function bL(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function DL(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Qie(t,...e){const n=bL(t),r=[n,...e].reduce((i,s)=>Rr(i,s),{});return DL(Object.keys(n),r)}function OJ(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Xie({values:t,breakpoints:e,base:n}){const r=n||OJ(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function Ge(t){if(typeof t!="string")throw new Error(Ih(7));return t.charAt(0).toUpperCase()+t.slice(1)}const MJ=Object.freeze(Object.defineProperty({__proto__:null,default:Ge},Symbol.toStringTag,{value:"Module"}));function l_(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function hm(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=l_(t,n)||r,e&&(i=e(i,r,t)),i}function _t(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=l_(l,r)||{};return Fi(o,a,h=>{let d=hm(u,i,h);return h===d&&typeof h=="string"&&(d=hm(u,i,`${e}${h==="default"?"":Ge(h)}`,h)),n===!1?d:{[n]:d}})};return s.propTypes={},s.filterProps=[e],s}function LJ(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const VJ={m:"margin",p:"padding"},FJ={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},jk={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},$J=LJ(t=>{if(t.length>2)if(jk[t])t=jk[t];else return[t];const[e,n]=t.split(""),r=VJ[e],i=FJ[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),t1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],n1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...t1,...n1];function gd(t,e,n,r){var i;const s=(i=l_(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function NL(t){return gd(t,"spacing",8)}function _d(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function UJ(t,e){return n=>t.reduce((r,i)=>(r[i]=_d(e,n),r),{})}function BJ(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=$J(n),s=UJ(i,r),o=t[n];return Fi(t,o,s)}function OL(t,e){const n=NL(t.theme);return Object.keys(t).map(r=>BJ(t,e,r,n)).reduce(Ic,{})}function st(t){return OL(t,t1)}st.propTypes={};st.filterProps=t1;function ot(t){return OL(t,n1)}ot.propTypes={};ot.filterProps=n1;function jJ(t=8){if(t.mui)return t;const e=NL({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function u_(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Ic(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Jn(t){return typeof t!="number"?t:`${t}px solid`}function fr(t,e){return _t({prop:t,themeKey:"borders",transform:e})}const zJ=fr("border",Jn),WJ=fr("borderTop",Jn),HJ=fr("borderRight",Jn),qJ=fr("borderBottom",Jn),GJ=fr("borderLeft",Jn),YJ=fr("borderColor"),KJ=fr("borderTopColor"),QJ=fr("borderRightColor"),XJ=fr("borderBottomColor"),JJ=fr("borderLeftColor"),ZJ=fr("outline",Jn),eZ=fr("outlineColor"),c_=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=gd(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:_d(e,r)});return Fi(t,t.borderRadius,n)}return null};c_.propTypes={};c_.filterProps=["borderRadius"];u_(zJ,WJ,HJ,qJ,GJ,YJ,KJ,QJ,XJ,JJ,c_,ZJ,eZ);const h_=t=>{if(t.gap!==void 0&&t.gap!==null){const e=gd(t.theme,"spacing",8),n=r=>({gap:_d(e,r)});return Fi(t,t.gap,n)}return null};h_.propTypes={};h_.filterProps=["gap"];const d_=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=gd(t.theme,"spacing",8),n=r=>({columnGap:_d(e,r)});return Fi(t,t.columnGap,n)}return null};d_.propTypes={};d_.filterProps=["columnGap"];const f_=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=gd(t.theme,"spacing",8),n=r=>({rowGap:_d(e,r)});return Fi(t,t.rowGap,n)}return null};f_.propTypes={};f_.filterProps=["rowGap"];const tZ=_t({prop:"gridColumn"}),nZ=_t({prop:"gridRow"}),rZ=_t({prop:"gridAutoFlow"}),iZ=_t({prop:"gridAutoColumns"}),sZ=_t({prop:"gridAutoRows"}),oZ=_t({prop:"gridTemplateColumns"}),aZ=_t({prop:"gridTemplateRows"}),lZ=_t({prop:"gridTemplateAreas"}),uZ=_t({prop:"gridArea"});u_(h_,d_,f_,tZ,nZ,rZ,iZ,sZ,oZ,aZ,lZ,uZ);function vl(t,e){return e==="grey"?e:t}const cZ=_t({prop:"color",themeKey:"palette",transform:vl}),hZ=_t({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:vl}),dZ=_t({prop:"backgroundColor",themeKey:"palette",transform:vl});u_(cZ,hZ,dZ);function On(t){return t<=1&&t!==0?`${t*100}%`:t}const fZ=_t({prop:"width",transform:On}),r1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||e1[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:On(n)}};return Fi(t,t.maxWidth,e)}return null};r1.filterProps=["maxWidth"];const pZ=_t({prop:"minWidth",transform:On}),mZ=_t({prop:"height",transform:On}),gZ=_t({prop:"maxHeight",transform:On}),_Z=_t({prop:"minHeight",transform:On});_t({prop:"size",cssProperty:"width",transform:On});_t({prop:"size",cssProperty:"height",transform:On});const yZ=_t({prop:"boxSizing"});u_(fZ,r1,pZ,mZ,gZ,_Z,yZ);const vZ={border:{themeKey:"borders",transform:Jn},borderTop:{themeKey:"borders",transform:Jn},borderRight:{themeKey:"borders",transform:Jn},borderBottom:{themeKey:"borders",transform:Jn},borderLeft:{themeKey:"borders",transform:Jn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Jn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:c_},color:{themeKey:"palette",transform:vl},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:vl},backgroundColor:{themeKey:"palette",transform:vl},p:{style:ot},pt:{style:ot},pr:{style:ot},pb:{style:ot},pl:{style:ot},px:{style:ot},py:{style:ot},padding:{style:ot},paddingTop:{style:ot},paddingRight:{style:ot},paddingBottom:{style:ot},paddingLeft:{style:ot},paddingX:{style:ot},paddingY:{style:ot},paddingInline:{style:ot},paddingInlineStart:{style:ot},paddingInlineEnd:{style:ot},paddingBlock:{style:ot},paddingBlockStart:{style:ot},paddingBlockEnd:{style:ot},m:{style:st},mt:{style:st},mr:{style:st},mb:{style:st},ml:{style:st},mx:{style:st},my:{style:st},margin:{style:st},marginTop:{style:st},marginRight:{style:st},marginBottom:{style:st},marginLeft:{style:st},marginX:{style:st},marginY:{style:st},marginInline:{style:st},marginInlineStart:{style:st},marginInlineEnd:{style:st},marginBlock:{style:st},marginBlockStart:{style:st},marginBlockEnd:{style:st},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:h_},rowGap:{style:f_},columnGap:{style:d_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:On},maxWidth:{style:r1},minWidth:{transform:On},height:{transform:On},maxHeight:{transform:On},minHeight:{transform:On},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},yd=vZ;function wZ(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function EZ(t,e){return typeof t=="function"?t(e):t}function ML(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:h}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const d=l_(i,u)||{};return h?h(o):Fi(o,r,p=>{let g=hm(d,c,p);return p===g&&typeof p=="string"&&(g=hm(d,c,`${n}${p==="default"?"":Ge(p)}`,p)),l===!1?g:{[l]:g}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:yd;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=bL(s.breakpoints),h=Object.keys(c);let d=c;return Object.keys(u).forEach(f=>{const p=EZ(u[f],s);if(p!=null)if(typeof p=="object")if(o[f])d=Ic(d,t(f,p,s,o));else{const g=Fi({theme:s},p,v=>({[f]:v}));wZ(g,p)?d[f]=e({sx:p,theme:s}):d=Ic(d,g)}else d=Ic(d,t(f,p,s,o))}),DL(h,d)}return Array.isArray(i)?i.map(a):a(i)}return e}const LL=ML();LL.filterProps=["sx"];const p_=LL;function VL(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const TZ=["breakpoints","palette","spacing","shape"];function i1(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=nt(t,TZ),a=AL(n),l=jJ(i);let u=Rr({breakpoints:a,direction:"ltr",components:{},palette:b({mode:"light"},r),spacing:l,shape:b({},NJ,s)},o);return u.applyStyles=VL,u=e.reduce((c,h)=>Rr(c,h),u),u.unstable_sxConfig=b({},yd,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return p_({sx:h,theme:this})},u}const IZ=Object.freeze(Object.defineProperty({__proto__:null,default:i1,private_createBreakpoints:AL,unstable_applyStyles:VL},Symbol.toStringTag,{value:"Module"}));function SZ(t){return Object.keys(t).length===0}function s1(t=null){const e=E.useContext(md);return!e||SZ(e)?t:e}const CZ=i1();function o1(t=CZ){return s1(t)}function RZ({styles:t,themeId:e,defaultTheme:n={}}){const r=o1(n),i=typeof t=="function"?t(e&&r[e]||r):t;return k.jsx(kL,{styles:i})}const kZ=["sx"],PZ=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:yd;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function a1(t){const{sx:e}=t,n=nt(t,kZ),{systemProps:r,otherProps:i}=PZ(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return hs(a)?b({},r,a):r}:s=b({},r,e),b({},i,{sx:s})}const xZ=Object.freeze(Object.defineProperty({__proto__:null,default:p_,extendSxProp:a1,unstable_createStyleFunctionSx:ML,unstable_defaultSxConfig:yd},Symbol.toStringTag,{value:"Module"})),zk=t=>t,AZ=()=>{let t=zk;return{configure(e){t=e},generate(e){return t(e)},reset(){t=zk}}},bZ=AZ(),FL=bZ;function $L(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=$L(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Rt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=$L(t))&&(r&&(r+=" "),r+=e);return r}const DZ=["className","component"];function NZ(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=PL("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(p_);return E.forwardRef(function(l,u){const c=o1(n),h=a1(l),{className:d,component:f="div"}=h,p=nt(h,DZ);return k.jsx(s,b({as:f,ref:u,className:Rt(d,i?i(r):r),theme:e&&c[e]||c},p))})}const OZ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function eo(t,e,n="Mui"){const r=OZ[e];return r?`${n}-${r}`:`${FL.generate(t)}-${e}`}function qi(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=eo(t,i,n)}),r}var UL={exports:{}},Ae={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l1=Symbol.for("react.element"),u1=Symbol.for("react.portal"),m_=Symbol.for("react.fragment"),g_=Symbol.for("react.strict_mode"),__=Symbol.for("react.profiler"),y_=Symbol.for("react.provider"),v_=Symbol.for("react.context"),MZ=Symbol.for("react.server_context"),w_=Symbol.for("react.forward_ref"),E_=Symbol.for("react.suspense"),T_=Symbol.for("react.suspense_list"),I_=Symbol.for("react.memo"),S_=Symbol.for("react.lazy"),LZ=Symbol.for("react.offscreen"),BL;BL=Symbol.for("react.module.reference");function pr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case l1:switch(t=t.type,t){case m_:case __:case g_:case E_:case T_:return t;default:switch(t=t&&t.$$typeof,t){case MZ:case v_:case w_:case S_:case I_:case y_:return t;default:return e}}case u1:return e}}}Ae.ContextConsumer=v_;Ae.ContextProvider=y_;Ae.Element=l1;Ae.ForwardRef=w_;Ae.Fragment=m_;Ae.Lazy=S_;Ae.Memo=I_;Ae.Portal=u1;Ae.Profiler=__;Ae.StrictMode=g_;Ae.Suspense=E_;Ae.SuspenseList=T_;Ae.isAsyncMode=function(){return!1};Ae.isConcurrentMode=function(){return!1};Ae.isContextConsumer=function(t){return pr(t)===v_};Ae.isContextProvider=function(t){return pr(t)===y_};Ae.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===l1};Ae.isForwardRef=function(t){return pr(t)===w_};Ae.isFragment=function(t){return pr(t)===m_};Ae.isLazy=function(t){return pr(t)===S_};Ae.isMemo=function(t){return pr(t)===I_};Ae.isPortal=function(t){return pr(t)===u1};Ae.isProfiler=function(t){return pr(t)===__};Ae.isStrictMode=function(t){return pr(t)===g_};Ae.isSuspense=function(t){return pr(t)===E_};Ae.isSuspenseList=function(t){return pr(t)===T_};Ae.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===m_||t===__||t===g_||t===E_||t===T_||t===LZ||typeof t=="object"&&t!==null&&(t.$$typeof===S_||t.$$typeof===I_||t.$$typeof===y_||t.$$typeof===v_||t.$$typeof===w_||t.$$typeof===BL||t.getModuleId!==void 0)};Ae.typeOf=pr;UL.exports=Ae;var Wk=UL.exports;const VZ=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function jL(t){const e=`${t}`.match(VZ);return e&&e[1]||""}function zL(t,e=""){return t.displayName||t.name||jL(t)||e}function Hk(t,e,n){const r=zL(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function FZ(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return zL(t,"Component");if(typeof t=="object")switch(t.$$typeof){case Wk.ForwardRef:return Hk(t,t.render,"ForwardRef");case Wk.Memo:return Hk(t,t.type,"memo");default:return}}}const $Z=Object.freeze(Object.defineProperty({__proto__:null,default:FZ,getFunctionName:jL},Symbol.toStringTag,{value:"Module"}));function kh(t,e){const n=b({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=b({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=b({},s),Object.keys(i).forEach(o=>{n[r][o]=kh(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function UZ(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:kh(e.components[n].defaultProps,r)}const BZ=typeof window<"u"?E.useLayoutEffect:E.useEffect,WL=BZ;function jZ(t,e,n,r,i){const[s,o]=E.useState(()=>i&&n?n(t).matches:r?r(t).matches:e);return WL(()=>{let a=!0;if(!n)return;const l=n(t),u=()=>{a&&o(l.matches)};return u(),l.addListener(u),()=>{a=!1,l.removeListener(u)}},[t,n]),s}const HL=E.useSyncExternalStore;function zZ(t,e,n,r,i){const s=E.useCallback(()=>e,[e]),o=E.useMemo(()=>{if(i&&n)return()=>n(t).matches;if(r!==null){const{matches:c}=r(t);return()=>c}return s},[s,t,r,i,n]),[a,l]=E.useMemo(()=>{if(n===null)return[s,()=>()=>{}];const c=n(t);return[()=>c.matches,h=>(c.addListener(h),()=>{c.removeListener(h)})]},[s,n,t]);return HL(l,a,o)}function WZ(t,e={}){const n=s1(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:s=r?window.matchMedia:null,ssrMatchMedia:o=null,noSsr:a=!1}=UZ({name:"MuiUseMediaQuery",props:e,theme:n});let l=typeof t=="function"?t(n):t;return l=l.replace(/^@media( ?)/m,""),(HL!==void 0?zZ:jZ)(l,i,s,o,a)}function HZ(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const qZ=Object.freeze(Object.defineProperty({__proto__:null,default:HZ},Symbol.toStringTag,{value:"Module"}));function By(t){return t&&t.ownerDocument||document}function GZ(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function So(t){const e=E.useRef(t);return WL(()=>{e.current=t}),E.useRef((...n)=>(0,e.current)(...n)).current}function Ph(...t){return E.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{GZ(n,e)})},t)}const qk={};function YZ(t,e){const n=E.useRef(qk);return n.current===qk&&(n.current=t(e)),n}const KZ=[];function QZ(t){E.useEffect(t,KZ)}class C_{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new C_}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function c1(){const t=YZ(C_.create).current;return QZ(t.disposeEffect),t}let R_=!0,lw=!1;const XZ=new C_,JZ={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ZZ(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&JZ[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function eee(t){t.metaKey||t.altKey||t.ctrlKey||(R_=!0)}function jy(){R_=!1}function tee(){this.visibilityState==="hidden"&&lw&&(R_=!0)}function nee(t){t.addEventListener("keydown",eee,!0),t.addEventListener("mousedown",jy,!0),t.addEventListener("pointerdown",jy,!0),t.addEventListener("touchstart",jy,!0),t.addEventListener("visibilitychange",tee,!0)}function ree(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return R_||ZZ(e)}function iee(){const t=E.useCallback(i=>{i!=null&&nee(i.ownerDocument)},[]),e=E.useRef(!1);function n(){return e.current?(lw=!0,XZ.start(100,()=>{lw=!1}),e.current=!1,!0):!1}function r(i){return ree(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function _a(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}function see(t){return typeof t=="string"}function oee(t,e,n){return t===void 0||see(t)?e:b({},e,{ownerState:b({},e.ownerState,n)})}function uw(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function Gk(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function aee(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const f=Rt(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),p=b({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),g=b({},n,i,r);return f.length>0&&(g.className=f),Object.keys(p).length>0&&(g.style=p),{props:g,internalRef:void 0}}const o=uw(b({},i,r)),a=Gk(r),l=Gk(i),u=e(o),c=Rt(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),h=b({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),d=b({},u,n,l,a);return c.length>0&&(d.className=c),Object.keys(h).length>0&&(d.style=h),{props:d,internalRef:u.ref}}function lee(t,e,n){return typeof t=="function"?t(e,n):t}const uee=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function cee(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=nt(t,uee),a=s?{}:lee(r,i),{props:l,internalRef:u}=aee(b({},o,{externalSlotProps:a})),c=Ph(u,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return oee(n,b({},l,{ref:c}),i)}const hee=E.createContext(null),qL=hee;function GL(){return E.useContext(qL)}const dee=typeof Symbol=="function"&&Symbol.for,fee=dee?Symbol.for("mui.nested"):"__THEME_NESTED__";function pee(t,e){return typeof e=="function"?e(t):b({},t,e)}function mee(t){const{children:e,theme:n}=t,r=GL(),i=E.useMemo(()=>{const s=r===null?n:pee(r,n);return s!=null&&(s[fee]=r!==null),s},[n,r]);return k.jsx(qL.Provider,{value:i,children:e})}const gee=["value"],YL=E.createContext();function _ee(t){let{value:e}=t,n=nt(t,gee);return k.jsx(YL.Provider,b({value:e??!0},n))}const Jie=()=>{const t=E.useContext(YL);return t??!1},KL=E.createContext(void 0);function yee({value:t,children:e}){return k.jsx(KL.Provider,{value:t,children:e})}function vee(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?kh(i.defaultProps,r):!i.styleOverrides&&!i.variants?kh(i,r):r}function wee({props:t,name:e}){const n=E.useContext(KL);return vee({props:t,name:e,theme:{components:n}})}const Yk={};function Kk(t,e,n,r=!1){return E.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const s=n(i),o=t?b({},e,{[t]:s}):s;return r?()=>o:o}return t?b({},e,{[t]:n}):b({},e,n)},[t,e,n,r])}function Eee(t){const{children:e,theme:n,themeId:r}=t,i=s1(Yk),s=GL()||Yk,o=Kk(r,i,n),a=Kk(r,s,n,!0),l=o.direction==="rtl";return k.jsx(mee,{theme:a,children:k.jsx(md.Provider,{value:o,children:k.jsx(_ee,{value:l,children:k.jsx(yee,{value:o==null?void 0:o.components,children:e})})})})}function Tee(t,e){return b({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var yt={},QL={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(QL);var XL=QL.exports;const Iee=Ws(yX),See=Ws(qZ);var JL=XL;Object.defineProperty(yt,"__esModule",{value:!0});var Za=yt.alpha=nV;yt.blend=Fee;yt.colorChannel=void 0;var Cee=yt.darken=d1;yt.decomposeColor=cr;var Ree=yt.emphasize=rV,kee=yt.getContrastRatio=Nee;yt.getLuminance=dm;yt.hexToRgb=ZL;yt.hslToRgb=tV;var Pee=yt.lighten=f1;yt.private_safeAlpha=Oee;yt.private_safeColorChannel=void 0;yt.private_safeDarken=Mee;yt.private_safeEmphasize=Vee;yt.private_safeLighten=Lee;yt.recomposeColor=pu;yt.rgbToHex=Dee;var Qk=JL(Iee),xee=JL(See);function h1(t,e=0,n=1){return(0,xee.default)(t,e,n)}function ZL(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Aee(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function cr(t){if(t.type)return t;if(t.charAt(0)==="#")return cr(ZL(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,Qk.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,Qk.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const eV=t=>{const e=cr(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};yt.colorChannel=eV;const bee=(t,e)=>{try{return eV(t)}catch{return t}};yt.private_safeColorChannel=bee;function pu(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Dee(t){if(t.indexOf("#")===0)return t;const{values:e}=cr(t);return`#${e.map((n,r)=>Aee(r===3?Math.round(255*n):n)).join("")}`}function tV(t){t=cr(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),pu({type:a,values:l})}function dm(t){t=cr(t);let e=t.type==="hsl"||t.type==="hsla"?cr(tV(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Nee(t,e){const n=dm(t),r=dm(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function nV(t,e){return t=cr(t),e=h1(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,pu(t)}function Oee(t,e,n){try{return nV(t,e)}catch{return t}}function d1(t,e){if(t=cr(t),e=h1(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return pu(t)}function Mee(t,e,n){try{return d1(t,e)}catch{return t}}function f1(t,e){if(t=cr(t),e=h1(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return pu(t)}function Lee(t,e,n){try{return f1(t,e)}catch{return t}}function rV(t,e=.15){return dm(t)>.5?d1(t,e):f1(t,e)}function Vee(t,e,n){try{return rV(t,e)}catch{return t}}function Fee(t,e,n,r=1){const i=(l,u)=>Math.round((l**(1/r)*(1-n)+u**(1/r)*n)**r),s=cr(t),o=cr(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return pu({type:"rgb",values:a})}const $ee=["mode","contrastThreshold","tonalOffset"],Xk={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Th.white,default:Th.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},zy={text:{primary:Th.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Th.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Jk(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Pee(t.main,i):e==="dark"&&(t.dark=Cee(t.main,s)))}function Uee(t="light"){return t==="dark"?{main:Pa[200],light:Pa[50],dark:Pa[400]}:{main:Pa[700],light:Pa[400],dark:Pa[800]}}function Bee(t="light"){return t==="dark"?{main:ka[200],light:ka[50],dark:ka[400]}:{main:ka[500],light:ka[300],dark:ka[700]}}function jee(t="light"){return t==="dark"?{main:Ra[500],light:Ra[300],dark:Ra[700]}:{main:Ra[700],light:Ra[400],dark:Ra[800]}}function zee(t="light"){return t==="dark"?{main:xa[400],light:xa[300],dark:xa[700]}:{main:xa[700],light:xa[500],dark:xa[900]}}function Wee(t="light"){return t==="dark"?{main:Aa[400],light:Aa[300],dark:Aa[700]}:{main:Aa[800],light:Aa[500],dark:Aa[900]}}function Hee(t="light"){return t==="dark"?{main:$u[400],light:$u[300],dark:$u[700]}:{main:"#ed6c02",light:$u[500],dark:$u[900]}}function qee(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=nt(t,$ee),s=t.primary||Uee(e),o=t.secondary||Bee(e),a=t.error||jee(e),l=t.info||zee(e),u=t.success||Wee(e),c=t.warning||Hee(e);function h(g){return kee(g,zy.text.primary)>=n?zy.text.primary:Xk.text.primary}const d=({color:g,name:v,mainShade:_=500,lightShade:m=300,darkShade:y=700})=>{if(g=b({},g),!g.main&&g[_]&&(g.main=g[_]),!g.hasOwnProperty("main"))throw new Error(Ih(11,v?` (${v})`:"",_));if(typeof g.main!="string")throw new Error(Ih(12,v?` (${v})`:"",JSON.stringify(g.main)));return Jk(g,"light",m,r),Jk(g,"dark",y,r),g.contrastText||(g.contrastText=h(g.main)),g},f={dark:zy,light:Xk};return Rr(b({common:b({},Th),mode:e,primary:d({color:s,name:"primary"}),secondary:d({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:a,name:"error"}),warning:d({color:c,name:"warning"}),info:d({color:l,name:"info"}),success:d({color:u,name:"success"}),grey:_X,contrastThreshold:n,getContrastText:h,augmentColor:d,tonalOffset:r},f[e]),i)}const Gee=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Yee(t){return Math.round(t*1e5)/1e5}const Zk={textTransform:"uppercase"},eP='"Roboto", "Helvetica", "Arial", sans-serif';function Kee(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=eP,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:h}=n,d=nt(n,Gee),f=i/14,p=h||(_=>`${_/u*f}rem`),g=(_,m,y,w,I)=>b({fontFamily:r,fontWeight:_,fontSize:p(m),lineHeight:y},r===eP?{letterSpacing:`${Yee(w/m)}em`}:{},I,c),v={h1:g(s,96,1.167,-1.5),h2:g(s,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(a,14,1.75,.4,Zk),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,Zk),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Rr(b({htmlFontSize:u,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},v),d,{clone:!1})}const Qee=.2,Xee=.14,Jee=.12;function ze(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Qee})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Xee})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Jee})`].join(",")}const Zee=["none",ze(0,2,1,-1,0,1,1,0,0,1,3,0),ze(0,3,1,-2,0,2,2,0,0,1,5,0),ze(0,3,3,-2,0,3,4,0,0,1,8,0),ze(0,2,4,-1,0,4,5,0,0,1,10,0),ze(0,3,5,-1,0,5,8,0,0,1,14,0),ze(0,3,5,-1,0,6,10,0,0,1,18,0),ze(0,4,5,-2,0,7,10,1,0,2,16,1),ze(0,5,5,-3,0,8,10,1,0,3,14,2),ze(0,5,6,-3,0,9,12,1,0,3,16,2),ze(0,6,6,-3,0,10,14,1,0,4,18,3),ze(0,6,7,-4,0,11,15,1,0,4,20,3),ze(0,7,8,-4,0,12,17,2,0,5,22,4),ze(0,7,8,-4,0,13,19,2,0,5,24,4),ze(0,7,9,-4,0,14,21,2,0,5,26,4),ze(0,8,9,-5,0,15,22,2,0,6,28,5),ze(0,8,10,-5,0,16,24,2,0,6,30,5),ze(0,8,11,-5,0,17,26,2,0,6,32,5),ze(0,9,11,-5,0,18,28,2,0,7,34,6),ze(0,9,12,-6,0,19,29,2,0,7,36,6),ze(0,10,13,-6,0,20,31,3,0,8,38,7),ze(0,10,13,-6,0,21,33,3,0,8,40,7),ze(0,10,14,-6,0,22,35,3,0,8,42,7),ze(0,11,14,-7,0,23,36,3,0,9,44,8),ze(0,11,15,-7,0,24,38,3,0,9,46,8)],ete=Zee,tte=["duration","easing","delay"],nte={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},rte={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function tP(t){return`${Math.round(t)}ms`}function ite(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function ste(t){const e=b({},nte,t.easing),n=b({},rte,t.duration);return b({getAutoHeightDuration:ite,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return nt(s,tte),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:tP(o)} ${a} ${typeof l=="string"?l:tP(l)}`).join(",")}},t,{easing:e,duration:n})}const ote={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},ate=ote,lte=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function p1(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=nt(t,lte);if(t.vars)throw new Error(Ih(18));const a=qee(r),l=i1(t);let u=Rr(l,{mixins:Tee(l.breakpoints,n),palette:a,shadows:ete.slice(),typography:Kee(a,s),transitions:ste(i),zIndex:b({},ate)});return u=Rr(u,o),u=e.reduce((c,h)=>Rr(c,h),u),u.unstable_sxConfig=b({},yd,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(h){return p_({sx:h,theme:this})},u}const ute=p1(),m1=ute;function iV(){const t=o1(m1);return t[Wl]||t}var vd={},Wy={exports:{}},nP;function cte(){return nP||(nP=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.includes(s))continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Wy)),Wy.exports}const hte=Ws(PJ),dte=Ws(xJ),fte=Ws(MJ),pte=Ws($Z),mte=Ws(IZ),gte=Ws(xZ);var mu=XL;Object.defineProperty(vd,"__esModule",{value:!0});var _te=vd.default=Ate;vd.shouldForwardProp=jf;vd.systemDefaultTheme=void 0;var Gn=mu(RL()),cw=mu(cte()),rP=Ste(hte),yte=dte;mu(fte);mu(pte);var vte=mu(mte),wte=mu(gte);const Ete=["ownerState"],Tte=["variants"],Ite=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function sV(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(sV=function(r){return r?n:e})(t)}function Ste(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=sV(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function Cte(t){return Object.keys(t).length===0}function Rte(t){return typeof t=="string"&&t.charCodeAt(0)>96}function jf(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const kte=vd.systemDefaultTheme=(0,vte.default)(),Pte=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function uf({defaultTheme:t,theme:e,themeId:n}){return Cte(e)?t:e[n]||e}function xte(t){return t?(e,n)=>n[t]:null}function zf(t,e){let{ownerState:n}=e,r=(0,cw.default)(e,Ete);const i=typeof t=="function"?t((0,Gn.default)({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>zf(s,(0,Gn.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,cw.default)(i,Tte);return s.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props((0,Gn.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(c=>{(n==null?void 0:n[c])!==l.props[c]&&r[c]!==l.props[c]&&(u=!1)}),u&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,Gn.default)({ownerState:n},r,n)):l.style))}),a}return i}function Ate(t={}){const{themeId:e,defaultTheme:n=kte,rootShouldForwardProp:r=jf,slotShouldForwardProp:i=jf}=t,s=o=>(0,wte.default)((0,Gn.default)({},o,{theme:uf((0,Gn.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,rP.internal_processStyles)(o,I=>I.filter(C=>!(C!=null&&C.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:h,overridesResolver:d=xte(Pte(u))}=a,f=(0,cw.default)(a,Ite),p=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,g=h||!1;let v,_=jf;u==="Root"||u==="root"?_=r:u?_=i:Rte(o)&&(_=void 0);const m=(0,rP.default)(o,(0,Gn.default)({shouldForwardProp:_,label:v},f)),y=I=>typeof I=="function"&&I.__emotion_real!==I||(0,yte.isPlainObject)(I)?C=>zf(I,(0,Gn.default)({},C,{theme:uf({theme:C.theme,defaultTheme:n,themeId:e})})):I,w=(I,...C)=>{let S=y(I);const D=C?C.map(y):[];l&&d&&D.push(ae=>{const ge=uf((0,Gn.default)({},ae,{defaultTheme:n,themeId:e}));if(!ge.components||!ge.components[l]||!ge.components[l].styleOverrides)return null;const Me=ge.components[l].styleOverrides,rt={};return Object.entries(Me).forEach(([le,Se])=>{rt[le]=zf(Se,(0,Gn.default)({},ae,{theme:ge}))}),d(ae,rt)}),l&&!p&&D.push(ae=>{var ge;const Me=uf((0,Gn.default)({},ae,{defaultTheme:n,themeId:e})),rt=Me==null||(ge=Me.components)==null||(ge=ge[l])==null?void 0:ge.variants;return zf({variants:rt},(0,Gn.default)({},ae,{theme:Me}))}),g||D.push(s);const K=D.length-C.length;if(Array.isArray(I)&&K>0){const ae=new Array(K).fill("");S=[...I,...ae],S.raw=[...I.raw,...ae]}const $=m(S,...D);return o.muiName&&($.muiName=o.muiName),$};return m.withConfig&&(w.withConfig=m.withConfig),w}}function bte(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Dte=t=>bte(t)&&t!=="classes",oV=Dte,Nte=_te({themeId:Wl,defaultTheme:m1,rootShouldForwardProp:oV}),vn=Nte,Ote=["theme"];function Mte(t){let{theme:e}=t,n=nt(t,Ote);const r=e[Wl];return k.jsx(Eee,b({},n,{themeId:r?Wl:void 0,theme:r||e}))}const Lte=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},iP=Lte;function Gi(t){return wee(t)}function hw(t,e){return hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},hw(t,e)}function aV(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,hw(t,e)}const sP={disabled:!1},fm=de.createContext(null);var Vte=function(e){return e.scrollTop},ec="unmounted",lo="exited",uo="entering",Va="entered",dw="exiting",Yi=function(t){aV(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=lo,s.appearStatus=uo):l=Va:r.unmountOnExit||r.mountOnEnter?l=ec:l=lo,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===ec?{status:lo}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==uo&&o!==Va&&(s=uo):(o===uo||o===Va)&&(s=dw)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===uo){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:jd.findDOMNode(this);o&&Vte(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===lo&&this.setState({status:ec})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[jd.findDOMNode(this),a],u=l[0],c=l[1],h=this.getTimeouts(),d=a?h.appear:h.enter;if(!i&&!o||sP.disabled){this.safeSetState({status:Va},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:uo},function(){s.props.onEntering(u,c),s.onTransitionEnd(d,function(){s.safeSetState({status:Va},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:jd.findDOMNode(this);if(!s||sP.disabled){this.safeSetState({status:lo},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:dw},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:lo},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:jd.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ec)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=nt(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return de.createElement(fm.Provider,{value:null},typeof o=="function"?o(i,a):de.cloneElement(de.Children.only(o),a))},e}(de.Component);Yi.contextType=fm;Yi.propTypes={};function ba(){}Yi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ba,onEntering:ba,onEntered:ba,onExit:ba,onExiting:ba,onExited:ba};Yi.UNMOUNTED=ec;Yi.EXITED=lo;Yi.ENTERING=uo;Yi.ENTERED=Va;Yi.EXITING=dw;const Fte=Yi;function $te(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g1(t,e){var n=function(s){return e&&E.isValidElement(s)?e(s):s},r=Object.create(null);return t&&E.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Ute(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Co(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Bte(t,e){return g1(t.children,function(n){return E.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Co(n,"appear",t),enter:Co(n,"enter",t),exit:Co(n,"exit",t)})})}function jte(t,e,n){var r=g1(t.children),i=Ute(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(E.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=E.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=E.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Co(o,"exit",t),enter:Co(o,"enter",t)}):!l&&a&&!c?i[s]=E.cloneElement(o,{in:!1}):l&&a&&E.isValidElement(u)&&(i[s]=E.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:Co(o,"exit",t),enter:Co(o,"enter",t)}))}}),i}var zte=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Wte={component:"div",childFactory:function(e){return e}},_1=function(t){aV(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind($te(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?Bte(i,a):jte(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=g1(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=b({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=nt(i,["component","childFactory"]),l=this.state.contextValue,u=zte(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?de.createElement(fm.Provider,{value:l},u):de.createElement(fm.Provider,{value:l},de.createElement(s,a,u))},e}(de.Component);_1.propTypes={};_1.defaultProps=Wte;const Hte=_1,qte=t=>t.scrollTop;function oP(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function Gte(t){return eo("MuiPaper",t)}qi("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Yte=["className","component","elevation","square","variant"],Kte=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return _a(s,Gte,i)},Qte=vn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return b({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&b({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Za("#fff",iP(e.elevation))}, ${Za("#fff",iP(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),Xte=E.forwardRef(function(e,n){const r=Gi({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=nt(r,Yte),c=b({},r,{component:s,elevation:o,square:a,variant:l}),h=Kte(c);return k.jsx(Qte,b({as:s,ownerState:c,className:Rt(h.root,i),ref:n},u))}),Jte=Xte;function Zte(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,h]=E.useState(!1),d=Rt(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},p=Rt(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&h(!0),E.useEffect(()=>{if(!a&&l!=null){const g=setTimeout(l,u);return()=>{clearTimeout(g)}}},[l,a,u]),k.jsx("span",{className:d,style:f,children:k.jsx("span",{className:p})})}const ene=qi("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Yn=ene,tne=["center","classes","className"];let k_=t=>t,aP,lP,uP,cP;const fw=550,nne=80,rne=fu(aP||(aP=k_`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),ine=fu(lP||(lP=k_`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),sne=fu(uP||(uP=k_`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),one=vn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),ane=vn(Zte,{name:"MuiTouchRipple",slot:"Ripple"})(cP||(cP=k_`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Yn.rippleVisible,rne,fw,({theme:t})=>t.transitions.easing.easeInOut,Yn.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Yn.child,Yn.childLeaving,ine,fw,({theme:t})=>t.transitions.easing.easeInOut,Yn.childPulsate,sne,({theme:t})=>t.transitions.easing.easeInOut),lne=E.forwardRef(function(e,n){const r=Gi({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=nt(r,tne),[l,u]=E.useState([]),c=E.useRef(0),h=E.useRef(null);E.useEffect(()=>{h.current&&(h.current(),h.current=null)},[l]);const d=E.useRef(!1),f=c1(),p=E.useRef(null),g=E.useRef(null),v=E.useCallback(w=>{const{pulsate:I,rippleX:C,rippleY:S,rippleSize:D,cb:K}=w;u($=>[...$,k.jsx(ane,{classes:{ripple:Rt(s.ripple,Yn.ripple),rippleVisible:Rt(s.rippleVisible,Yn.rippleVisible),ripplePulsate:Rt(s.ripplePulsate,Yn.ripplePulsate),child:Rt(s.child,Yn.child),childLeaving:Rt(s.childLeaving,Yn.childLeaving),childPulsate:Rt(s.childPulsate,Yn.childPulsate)},timeout:fw,pulsate:I,rippleX:C,rippleY:S,rippleSize:D},c.current)]),c.current+=1,h.current=K},[s]),_=E.useCallback((w={},I={},C=()=>{})=>{const{pulsate:S=!1,center:D=i||I.pulsate,fakeElement:K=!1}=I;if((w==null?void 0:w.type)==="mousedown"&&d.current){d.current=!1;return}(w==null?void 0:w.type)==="touchstart"&&(d.current=!0);const $=K?null:g.current,ae=$?$.getBoundingClientRect():{width:0,height:0,left:0,top:0};let ge,Me,rt;if(D||w===void 0||w.clientX===0&&w.clientY===0||!w.clientX&&!w.touches)ge=Math.round(ae.width/2),Me=Math.round(ae.height/2);else{const{clientX:le,clientY:Se}=w.touches&&w.touches.length>0?w.touches[0]:w;ge=Math.round(le-ae.left),Me=Math.round(Se-ae.top)}if(D)rt=Math.sqrt((2*ae.width**2+ae.height**2)/3),rt%2===0&&(rt+=1);else{const le=Math.max(Math.abs(($?$.clientWidth:0)-ge),ge)*2+2,Se=Math.max(Math.abs(($?$.clientHeight:0)-Me),Me)*2+2;rt=Math.sqrt(le**2+Se**2)}w!=null&&w.touches?p.current===null&&(p.current=()=>{v({pulsate:S,rippleX:ge,rippleY:Me,rippleSize:rt,cb:C})},f.start(nne,()=>{p.current&&(p.current(),p.current=null)})):v({pulsate:S,rippleX:ge,rippleY:Me,rippleSize:rt,cb:C})},[i,v,f]),m=E.useCallback(()=>{_({},{pulsate:!0})},[_]),y=E.useCallback((w,I)=>{if(f.clear(),(w==null?void 0:w.type)==="touchend"&&p.current){p.current(),p.current=null,f.start(0,()=>{y(w,I)});return}p.current=null,u(C=>C.length>0?C.slice(1):C),h.current=I},[f]);return E.useImperativeHandle(n,()=>({pulsate:m,start:_,stop:y}),[m,_,y]),k.jsx(one,b({className:Rt(Yn.root,s.root,o),ref:g},a,{children:k.jsx(Hte,{component:null,exit:!0,children:l})}))}),une=lne;function cne(t){return eo("MuiButtonBase",t)}const hne=qi("MuiButtonBase",["root","disabled","focusVisible"]),dne=hne,fne=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],pne=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=_a({root:["root",e&&"disabled",n&&"focusVisible"]},cne,i);return n&&r&&(o.root+=` ${r}`),o},mne=vn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${dne.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),gne=E.forwardRef(function(e,n){const r=Gi({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:h=!1,focusRipple:d=!1,LinkComponent:f="a",onBlur:p,onClick:g,onContextMenu:v,onDragLeave:_,onFocus:m,onFocusVisible:y,onKeyDown:w,onKeyUp:I,onMouseDown:C,onMouseLeave:S,onMouseUp:D,onTouchEnd:K,onTouchMove:$,onTouchStart:ae,tabIndex:ge=0,TouchRippleProps:Me,touchRippleRef:rt,type:le}=r,Se=nt(r,fne),it=E.useRef(null),M=E.useRef(null),z=Ph(M,rt),{isFocusVisibleRef:G,onFocus:Ne,onBlur:Qe,ref:oi}=iee(),[$t,Nr]=E.useState(!1);u&&$t&&Nr(!1),E.useImperativeHandle(i,()=>({focusVisible:()=>{Nr(!0),it.current.focus()}}),[]);const[Dn,Ki]=E.useState(!1);E.useEffect(()=>{Ki(!0)},[]);const x_=Dn&&!c&&!u;E.useEffect(()=>{$t&&d&&!c&&Dn&&M.current.pulsate()},[c,d,$t,Dn]);function mr(te,v1,yV=h){return So(w1=>(v1&&v1(w1),!yV&&M.current&&M.current[te](w1),!0))}const wd=mr("start",C),A_=mr("stop",v),b_=mr("stop",_),Ed=mr("stop",D),Td=mr("stop",te=>{$t&&te.preventDefault(),S&&S(te)}),Id=mr("start",ae),ai=mr("stop",K),hV=mr("stop",$),dV=mr("stop",te=>{Qe(te),G.current===!1&&Nr(!1),p&&p(te)},!1),fV=So(te=>{it.current||(it.current=te.currentTarget),Ne(te),G.current===!0&&(Nr(!0),y&&y(te)),m&&m(te)}),D_=()=>{const te=it.current;return l&&l!=="button"&&!(te.tagName==="A"&&te.href)},N_=E.useRef(!1),pV=So(te=>{d&&!N_.current&&$t&&M.current&&te.key===" "&&(N_.current=!0,M.current.stop(te,()=>{M.current.start(te)})),te.target===te.currentTarget&&D_()&&te.key===" "&&te.preventDefault(),w&&w(te),te.target===te.currentTarget&&D_()&&te.key==="Enter"&&!u&&(te.preventDefault(),g&&g(te))}),mV=So(te=>{d&&te.key===" "&&M.current&&$t&&!te.defaultPrevented&&(N_.current=!1,M.current.stop(te,()=>{M.current.pulsate(te)})),I&&I(te),g&&te.target===te.currentTarget&&D_()&&te.key===" "&&!te.defaultPrevented&&g(te)});let Sd=l;Sd==="button"&&(Se.href||Se.to)&&(Sd=f);const gu={};Sd==="button"?(gu.type=le===void 0?"button":le,gu.disabled=u):(!Se.href&&!Se.to&&(gu.role="button"),u&&(gu["aria-disabled"]=u));const gV=Ph(n,oi,it),y1=b({},r,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:h,focusRipple:d,tabIndex:ge,focusVisible:$t}),_V=pne(y1);return k.jsxs(mne,b({as:Sd,className:Rt(_V.root,a),ownerState:y1,onBlur:dV,onClick:g,onContextMenu:A_,onFocus:fV,onKeyDown:pV,onKeyUp:mV,onMouseDown:wd,onMouseLeave:Td,onMouseUp:Ed,onDragLeave:b_,onTouchEnd:ai,onTouchMove:hV,onTouchStart:Id,ref:gV,tabIndex:u?-1:ge,type:le},gu,Se,{children:[o,x_?k.jsx(une,b({ref:z,center:s},Me)):null]}))}),_ne=gne;function yne(t){return eo("MuiTypography",t)}qi("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const vne=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],wne=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${Ge(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return _a(a,yne,o)},Ene=vn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Ge(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>b({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),hP={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Tne={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Ine=t=>Tne[t]||t,Sne=E.forwardRef(function(e,n){const r=Gi({props:e,name:"MuiTypography"}),i=Ine(r.color),s=a1(b({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:h=!1,variant:d="body1",variantMapping:f=hP}=s,p=nt(s,vne),g=b({},s,{align:o,color:i,className:a,component:l,gutterBottom:u,noWrap:c,paragraph:h,variant:d,variantMapping:f}),v=l||(h?"p":f[d]||hP[d])||"span",_=wne(g);return k.jsx(Ene,b({as:v,ref:n,ownerState:g,className:Rt(_.root,a)},p))}),Cne=Sne;function Rne(t){return k.jsx(RZ,b({},t,{defaultTheme:m1,themeId:Wl}))}const kne=qi("MuiBox",["root"]),Pne=kne,xne=p1(),Ane=NZ({themeId:Wl,defaultTheme:xne,defaultClassName:Pne.root,generateClassName:FL.generate}),pw=Ane;function bne(t){return eo("MuiButton",t)}const Dne=qi("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),cf=Dne,Nne=E.createContext({}),One=Nne,Mne=E.createContext(void 0),Lne=Mne,Vne=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Fne=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${Ge(e)}`,`size${Ge(i)}`,`${s}Size${Ge(i)}`,`color${Ge(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Ge(i)}`],endIcon:["icon","endIcon",`iconSize${Ge(i)}`]},l=_a(a,bne,o);return b({},o,l)},lV=t=>b({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),$ne=vn(_ne,{shouldForwardProp:t=>oV(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ge(n.color)}`],e[`size${Ge(n.size)}`],e[`${n.variant}Size${Ge(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return b({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":b({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Za(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Za(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Za(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":b({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${cf.focusVisible}`]:b({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${cf.disabled}`]:b({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Za(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${cf.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${cf.disabled}`]:{boxShadow:"none"}}),Une=vn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${Ge(n.size)}`]]}})(({ownerState:t})=>b({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},lV(t))),Bne=vn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${Ge(n.size)}`]]}})(({ownerState:t})=>b({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},lV(t))),jne=E.forwardRef(function(e,n){const r=E.useContext(One),i=E.useContext(Lne),s=kh(r,e),o=Gi({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:u="button",className:c,disabled:h=!1,disableElevation:d=!1,disableFocusRipple:f=!1,endIcon:p,focusVisibleClassName:g,fullWidth:v=!1,size:_="medium",startIcon:m,type:y,variant:w="text"}=o,I=nt(o,Vne),C=b({},o,{color:l,component:u,disabled:h,disableElevation:d,disableFocusRipple:f,fullWidth:v,size:_,type:y,variant:w}),S=Fne(C),D=m&&k.jsx(Une,{className:S.startIcon,ownerState:C,children:m}),K=p&&k.jsx(Bne,{className:S.endIcon,ownerState:C,children:p}),$=i||"";return k.jsxs($ne,b({ownerState:C,className:Rt(r.className,S.root,c,$),component:u,disabled:h,focusRipple:!f,focusVisibleClassName:Rt(S.focusVisible,g),ref:n,type:y},I,{classes:S,children:[D,a,K]}))}),zne=jne;function Wne(t){return eo("MuiCircularProgress",t)}qi("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Hne=["className","color","disableShrink","size","style","thickness","value","variant"];let P_=t=>t,dP,fP,pP,mP;const es=44,qne=fu(dP||(dP=P_`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Gne=fu(fP||(fP=P_`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Yne=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${Ge(r)}`],svg:["svg"],circle:["circle",`circle${Ge(n)}`,i&&"circleDisableShrink"]};return _a(s,Wne,e)},Kne=vn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${Ge(n.color)}`]]}})(({ownerState:t,theme:e})=>b({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&a_(pP||(pP=P_`
      animation: ${0} 1.4s linear infinite;
    `),qne)),Qne=vn("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),Xne=vn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${Ge(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>b({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&a_(mP||(mP=P_`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Gne)),Jne=E.forwardRef(function(e,n){const r=Gi({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:u=3.6,value:c=0,variant:h="indeterminate"}=r,d=nt(r,Hne),f=b({},r,{color:s,disableShrink:o,size:a,thickness:u,value:c,variant:h}),p=Yne(f),g={},v={},_={};if(h==="determinate"){const m=2*Math.PI*((es-u)/2);g.strokeDasharray=m.toFixed(3),_["aria-valuenow"]=Math.round(c),g.strokeDashoffset=`${((100-c)/100*m).toFixed(3)}px`,v.transform="rotate(-90deg)"}return k.jsx(Kne,b({className:Rt(p.root,i),style:b({width:a,height:a},v,l),ownerState:f,ref:n,role:"progressbar"},_,d,{children:k.jsx(Qne,{className:p.svg,ownerState:f,viewBox:`${es/2} ${es/2} ${es} ${es}`,children:k.jsx(Xne,{className:p.circle,style:g,ownerState:f,cx:es,cy:es,r:(es-u)/2,fill:"none",strokeWidth:u})})}))}),Zne=Jne;function gP(t){return t.substring(2).toLowerCase()}function ere(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function tre(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:s="onTouchEnd"}=t,o=E.useRef(!1),a=E.useRef(null),l=E.useRef(!1),u=E.useRef(!1);E.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const c=Ph(e.ref,a),h=So(p=>{const g=u.current;u.current=!1;const v=By(a.current);if(!l.current||!a.current||"clientX"in p&&ere(p,v))return;if(o.current){o.current=!1;return}let _;p.composedPath?_=p.composedPath().indexOf(a.current)>-1:_=!v.documentElement.contains(p.target)||a.current.contains(p.target),!_&&(n||!g)&&i(p)}),d=p=>g=>{u.current=!0;const v=e.props[p];v&&v(g)},f={ref:c};return s!==!1&&(f[s]=d(s)),E.useEffect(()=>{if(s!==!1){const p=gP(s),g=By(a.current),v=()=>{o.current=!0};return g.addEventListener(p,h),g.addEventListener("touchmove",v),()=>{g.removeEventListener(p,h),g.removeEventListener("touchmove",v)}}},[h,s]),r!==!1&&(f[r]=d(r)),E.useEffect(()=>{if(r!==!1){const p=gP(r),g=By(a.current);return g.addEventListener(p,h),()=>{g.removeEventListener(p,h)}}},[h,r]),k.jsx(E.Fragment,{children:E.cloneElement(e,f)})}const nre=(t,e)=>b({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),rre=t=>b({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),ire=(t,e=!1)=>{var n;const r={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([o,a])=>{var l;r[t.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(l=a.palette)==null?void 0:l.mode}});let i=b({html:nre(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:b({margin:0},rre(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},r);const s=(n=t.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return s&&(i=[i,s]),i};function sre(t){const e=Gi({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return k.jsxs(E.Fragment,{children:[k.jsx(Rne,{styles:i=>ire(i,r)}),n]})}const ore=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function mw(t){return`scale(${t}, ${t**2})`}const are={entering:{opacity:1,transform:mw(1)},entered:{opacity:1,transform:"none"}},Hy=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),uV=E.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:h,onExited:d,onExiting:f,style:p,timeout:g="auto",TransitionComponent:v=Fte}=e,_=nt(e,ore),m=c1(),y=E.useRef(),w=iV(),I=E.useRef(null),C=Ph(I,s.ref,n),S=le=>Se=>{if(le){const it=I.current;Se===void 0?le(it):le(it,Se)}},D=S(c),K=S((le,Se)=>{qte(le);const{duration:it,delay:M,easing:z}=oP({style:p,timeout:g,easing:o},{mode:"enter"});let G;g==="auto"?(G=w.transitions.getAutoHeightDuration(le.clientHeight),y.current=G):G=it,le.style.transition=[w.transitions.create("opacity",{duration:G,delay:M}),w.transitions.create("transform",{duration:Hy?G:G*.666,delay:M,easing:z})].join(","),l&&l(le,Se)}),$=S(u),ae=S(f),ge=S(le=>{const{duration:Se,delay:it,easing:M}=oP({style:p,timeout:g,easing:o},{mode:"exit"});let z;g==="auto"?(z=w.transitions.getAutoHeightDuration(le.clientHeight),y.current=z):z=Se,le.style.transition=[w.transitions.create("opacity",{duration:z,delay:it}),w.transitions.create("transform",{duration:Hy?z:z*.666,delay:Hy?it:it||z*.333,easing:M})].join(","),le.style.opacity=0,le.style.transform=mw(.75),h&&h(le)}),Me=S(d),rt=le=>{g==="auto"&&m.start(y.current||0,le),r&&r(I.current,le)};return k.jsx(v,b({appear:i,in:a,nodeRef:I,onEnter:K,onEntered:$,onEntering:D,onExit:ge,onExited:Me,onExiting:ae,addEndListener:rt,timeout:g==="auto"?null:g},_,{children:(le,Se)=>E.cloneElement(s,b({style:b({opacity:0,transform:mw(.75),visibility:le==="exited"&&!a?"hidden":void 0},are[le],p,s.props.style),ref:C},Se))}))});uV.muiSupportAuto=!0;const lre=uV;function ure(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:s}=t,o=c1();E.useEffect(()=>{if(!i)return;function _(m){m.defaultPrevented||(m.key==="Escape"||m.key==="Esc")&&(r==null||r(m,"escapeKeyDown"))}return document.addEventListener("keydown",_),()=>{document.removeEventListener("keydown",_)}},[i,r]);const a=So((_,m)=>{r==null||r(_,m)}),l=So(_=>{!r||_==null||o.start(_,()=>{a(null,"timeout")})});E.useEffect(()=>(i&&l(e),o.clear),[i,e,l,o]);const u=_=>{r==null||r(_,"clickaway")},c=o.clear,h=E.useCallback(()=>{e!=null&&l(s??e*.5)},[e,s,l]),d=_=>m=>{const y=_.onBlur;y==null||y(m),h()},f=_=>m=>{const y=_.onFocus;y==null||y(m),c()},p=_=>m=>{const y=_.onMouseEnter;y==null||y(m),c()},g=_=>m=>{const y=_.onMouseLeave;y==null||y(m),h()};return E.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",h),window.addEventListener("blur",c),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",c)}},[n,i,h,c]),{getRootProps:(_={})=>{const m=b({},uw(t),uw(_));return b({role:"presentation"},_,m,{onBlur:d(m),onFocus:f(m),onMouseEnter:p(m),onMouseLeave:g(m)})},onClickAway:u}}function cre(t){return eo("MuiSnackbarContent",t)}qi("MuiSnackbarContent",["root","message","action"]);const hre=["action","className","message","role"],dre=t=>{const{classes:e}=t;return _a({root:["root"],action:["action"],message:["message"]},cre,e)},fre=vn(Jte,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,n=Ree(t.palette.background.default,e);return b({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),pre=vn("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),mre=vn("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),gre=E.forwardRef(function(e,n){const r=Gi({props:e,name:"MuiSnackbarContent"}),{action:i,className:s,message:o,role:a="alert"}=r,l=nt(r,hre),u=r,c=dre(u);return k.jsxs(fre,b({role:a,square:!0,elevation:6,className:Rt(c.root,s),ownerState:u,ref:n},l,{children:[k.jsx(pre,{className:c.message,ownerState:u,children:o}),i?k.jsx(mre,{className:c.action,ownerState:u,children:i}):null]}))}),_re=gre;function yre(t){return eo("MuiSnackbar",t)}qi("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const vre=["onEnter","onExited"],wre=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Ere=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${Ge(n.vertical)}${Ge(n.horizontal)}`]};return _a(r,yre,e)},_P=vn("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${Ge(n.anchorOrigin.vertical)}${Ge(n.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return b({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:b({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&n,e.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},e.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),Tre=E.forwardRef(function(e,n){const r=Gi({props:e,name:"MuiSnackbar"}),i=iV(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:u=null,children:c,className:h,ClickAwayListenerProps:d,ContentProps:f,disableWindowBlurListener:p=!1,message:g,open:v,TransitionComponent:_=lre,transitionDuration:m=s,TransitionProps:{onEnter:y,onExited:w}={}}=r,I=nt(r.TransitionProps,vre),C=nt(r,wre),S=b({},r,{anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:u,disableWindowBlurListener:p,TransitionComponent:_,transitionDuration:m}),D=Ere(S),{getRootProps:K,onClickAway:$}=ure(b({},S)),[ae,ge]=E.useState(!0),Me=cee({elementType:_P,getSlotProps:K,externalForwardedProps:C,ownerState:S,additionalProps:{ref:n},className:[D.root,h]}),rt=Se=>{ge(!0),w&&w(Se)},le=(Se,it)=>{ge(!1),y&&y(Se,it)};return!v&&ae?null:k.jsx(tre,b({onClickAway:$},d,{children:k.jsx(_P,b({},Me,{children:k.jsx(_,b({appear:!0,in:v,timeout:m,direction:a==="top"?"down":"up",onEnter:le,onExited:rt},I,{children:c||k.jsx(_re,b({message:g,action:o},f))}))}))}))}),Ire=Tre,Sre=({userId:t})=>(E.useEffect(()=>{if(t){const e=G0(nw,`/status/${t}`),n={status:"online",lastChanged:Ek()},r={status:"offline",lastChanged:Ek()},i=G0(nw,".info/connected");g2(i,s=>{s.val()===!0&&U8(e,n),$8(e).set(r)})}},[t]),null);class Cre extends E.Component{constructor(n){super(n);E1(this,"handleRetry",()=>{this.setState({hasError:!1})});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){console.error("Error caught by Error Boundary:",n,r)}render(){return this.state.hasError?k.jsxs(pw,{m:2,children:[k.jsx(Cne,{variant:"h6",children:"Something went wrong!"}),k.jsx(zne,{sx:{textDecoration:"underline",mt:1},size:"small",onClick:this.handleRetry,children:"Retry"})]}):this.props.children}}const Rre=de.lazy(()=>Ke(()=>import("./Results-fSO9fckj.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),kre=de.lazy(()=>Ke(()=>import("./Header-60t1p6cQ.js"),__vite__mapDeps([11,12,13,14,15,16,3,17,7,18,19,2,4,5,20,10,21,22,23,24]))),Pre=de.lazy(()=>Ke(()=>import("./Reviews-8_O-1eid.js"),__vite__mapDeps([25,26,27,7,28,29,1,6]))),xre=de.lazy(()=>Ke(()=>import("./Error-h8jmleGi.js"),__vite__mapDeps([27,7]))),yP=de.lazy(()=>Ke(()=>import("./History--Iitr7fk.js"),__vite__mapDeps([30,14,15,16,3,17,29,1,31,8]))),Are=de.lazy(()=>Ke(()=>import("./Admin-gKvHYiiD.js"),__vite__mapDeps([32,10,7,21]))),bre=de.lazy(()=>Ke(()=>import("./Footer-X4JYbNBT.js"),__vite__mapDeps([33,17]))),Dre=de.lazy(()=>Ke(()=>import("./Login-vnrhx79o.js"),__vite__mapDeps([34,26,29,17,35,3,16,19,4,7]))),Nre=de.lazy(()=>Ke(()=>import("./Settings-EwP64zAe.js"),__vite__mapDeps([36,29,13,37,35,3,16,19,4,7,14,15,17,2,8,5,38,39,18,40]))),Ore=de.lazy(()=>Ke(()=>import("./Tests-K4EGgLGC.js"),__vite__mapDeps([41,14,15,16,3,17,35,19,4,7,42,20,26,2,5,6,38,43,44,12,28,45,46,47,1,29,21]))),Mre=de.lazy(()=>Ke(()=>import("./Users-q1GhmaZ8.js"),__vite__mapDeps([48,45,2,3,4,5,6,7,13,49,50,51,29,1,9]))),Lre=de.lazy(()=>Ke(()=>import("./AddPost-xnvYZG7m.js"),__vite__mapDeps([52,26,53,45,2,3,4,5,6,7,46,47,15,16,35,19,12,49,51,37,14,17,1,29,38,43,8,54,55]))),Vre=de.lazy(()=>Ke(()=>import("./Notifications-9yP4tdqO.js"),__vite__mapDeps([56,53,12,29,51,1,8]))),Fre=de.lazy(()=>Ke(()=>import("./ChatRoom-B2BtwV43.js"),__vite__mapDeps([57,29,15,16,3,17,35,19,4,7,13,12,50,51,49,8,1,58,59,2,60,61,44]))),$re=de.lazy(()=>Ke(()=>import("./Help-bYHFrqj4.js"),__vite__mapDeps([62,53,29,7,40,2,3,4,5,22]))),Ure=de.lazy(()=>Ke(()=>import("./Posts-HJmzz6Zu.js"),__vite__mapDeps([63,49,29,64,15,16,3,17,2,4,5,20,7,53,51,65,24,55,66,67,68,69,8,46,47,26,38,1,59,60,61]))),Bre=de.lazy(()=>Ke(()=>import("./Tests-UeYPF8vL.js"),__vite__mapDeps([70,49,53,51,66,67,2,3,4,5,68,7,29,1,71,8,46,47,26,15,16,59,60,61,38,55]))),jre=de.lazy(()=>Ke(()=>import("./TakingTest-bN-ZN9Ws.js"),__vite__mapDeps([72,14,15,16,3,17,2,4,5,6,7,26,67,29,1]))),zre=de.lazy(()=>Ke(()=>import("./Chat-M8nZyLbw.js"),__vite__mapDeps([73,13,49,58,8,2,3,4,37,23,5,7,38,35,16,19,42,43,44,12,51,26,9,47,15,64,17,20,29,1,60,54]))),Wre=de.lazy(()=>Ke(()=>import("./Test-qpna1nco.js"),__vite__mapDeps([74,69,8,58,71,31]))),Hre=de.lazy(()=>Ke(()=>import("./SinglePost-s0Xr4kJi.js"),__vite__mapDeps([75,53,51,65,24,7,55,46,47,26,15,16,3,2,4,5,69,8,1,64,17,20,76,50,13,49,67,58,43,68,35,19,38]))),qre=de.lazy(()=>Ke(()=>import("./SingleTest-CBJ9r0rM.js"),__vite__mapDeps([77,53,51,1,76,46,47,7,26,15,16,3,2,4,5,50,13,49,67,58,8,43,68,17,35,19,20,38,71,55]))),Gre=de.lazy(()=>Ke(()=>import("./UserProfile-jqFe711v.js"),__vite__mapDeps([78,37,7,53,51,8,68,17,5,39,35,3,16,19,4,2,38]))),Yre=de.lazy(()=>Ke(()=>import("./Search-DR7UOp-Z.js"),__vite__mapDeps([79,13,7,35,3,16,19,4,61,5,20,2]))),cV=E.createContext();function Kre(){var Ed,Td,Id;const t=zv("sea-localStorage"),e=WZ("(prefers-color-scheme : dark)"),[n,r]=E.useState(zv("sea-website-theme")||"dark"),[i,s]=E.useState(((Ed=t==null?void 0:t.timer)==null?void 0:Ed.seconds)||0),[o,a]=E.useState(((Td=t==null?void 0:t.timer)==null?void 0:Td.minutes)||0),[l,u]=E.useState(((Id=t==null?void 0:t.timer)==null?void 0:Id.hours)||0),[c,h]=E.useState(null),[d,f]=E.useState([]),[p,g]=E.useState(null),[v,_]=E.useState(null),[m,y]=E.useState(null),[w,I]=E.useState(!1),[C,S]=E.useState(""),[D,K]=E.useState(!1),[$,ae]=E.useState([]),[ge,Me]=E.useState([]),[rt,le]=E.useState([]),[Se,it]=E.useState(null),[M,z]=E.useState([]),[G,Ne]=E.useState(!1),[Qe,oi]=E.useState(""),[$t,Nr]=E.useState(null),Dn=ai=>{Ne(!0),oi(ai)};E.useEffect(()=>{HA("sea-website-theme",n)},[n]);const Ki=ai=>({palette:{mode:ai,...ai==="dark"?{primary:{main:"#90caf9"},secondary:{main:"#f48fb1"},background:{default:"#121212",paper:"#1d1d1d"},text:{primary:"#ffffff"}}:{primary:{main:"#1976d2"},secondary:{main:"#ff4081"},background:{default:"#ffffff",paper:"#f5f5f5"},text:{primary:"#000000"}},components:{MuiAppBar:{styleOverrides:{...ai==="light"&&{backgroundColor:"#ffffff",color:"#000000"}}}}}}),x_=E.useMemo(()=>p1(Ki(n==="system"?e?"dark":"light":n)));iX(CO(zl,"newMessages"),[],le,()=>{},()=>{});const mr=()=>{},wd=()=>{s(0),a(0),u(0)},A_=()=>{wd()},b_=`${l}:${xk(o)}:${xk(i)}`;return E.useEffect(()=>{const ai=setInterval(()=>{i<59?s(i+1):(s(0),a(o+1)),o===59&&(a(0),u(l+1))},1e3);return()=>{clearInterval(ai)}},[i]),k.jsx(cV.Provider,{value:{myChats:M,setMyChats:z,stopTest:A_,seaLocalStorage:t,formattedTime:b_,startTimer:wd,seconds:i,minutes:o,hours:l,inspecting:w,userData:c,setUserData:h,users:d,setUsers:f,headerTitle:C,setHeaderTitle:S,refreshUserData:mr,isOnline:D,setIsOnline:K,userId:p,setUserId:g,setInspecting:I,posts:$,setPosts:ae,tests:ge,setTests:Me,history,chats:Se,setChats:it,newMessages:rt,notiCount:m,setNotiCount:y,historyCount:v,setHistoryCount:_,snackbarOpen:G,setSnackbarOpen:Ne,snackbarMessage:Qe,setSnackbarMessage:oi,openSnackbar:Dn,setMode:r,mode:n,viewingImage:$t,setViewingImage:Nr},children:k.jsxs(Mte,{theme:x_,children:[k.jsx(sre,{}),k.jsxs(pw,{bgcolor:"background.default",className:" App font-padauk flex flex-col items-center min-h-screen ",children:[k.jsx(Ire,{bgcolor:"background.default",open:G,onClose:()=>Ne(!1),autoHideDuration:4e3,message:Qe}),k.jsx(WU,{children:k.jsx(Cre,{children:k.jsxs(E.Suspense,{fallback:k.jsx(pw,{m:2,children:k.jsx(Zne,{})}),children:[k.jsx(Sre,{userId:p}),k.jsx(lX,{}),C!=="Chat"&&k.jsx(kre,{}),k.jsx("div",{className:"flex-1 w-full h-full md:w-4/5 lg:w-3/5 ",children:k.jsxs(VU,{children:[k.jsx(We,{exact:!0,path:"/test",element:k.jsx(Wre,{})}),k.jsx(We,{exact:!0,path:"/login",element:k.jsx(Dre,{})}),p&&k.jsxs(k.Fragment,{children:[k.jsx(We,{exact:!0,path:"/app",element:k.jsx(Ure,{})}),k.jsx(We,{exact:!0,path:"/app/search",element:k.jsx(Yre,{})}),k.jsx(We,{exact:!0,path:"/app/profile/:userId",element:k.jsx(Gre,{})}),k.jsx(We,{exact:!0,path:"/app/posts/sp/:postId",element:k.jsx(Hre,{})}),k.jsx(We,{exact:!0,path:"/app/tests/st/:testId",element:k.jsx(qre,{})}),k.jsx(We,{exact:!0,path:"/app/tests",element:k.jsx(Bre,{})}),k.jsx(We,{exact:!0,path:"/app/tests/:testId",element:k.jsx(jre,{})}),k.jsx(We,{exact:!0,path:"/app/history",element:k.jsx(yP,{})}),k.jsx(We,{exact:!0,path:"/app/history/:resultId",element:k.jsx(Rre,{})}),k.jsx(We,{exact:!0,path:"/app/help",element:k.jsx($re,{})}),k.jsx(We,{exact:!0,path:"/app/history/:resultId/reviews",element:k.jsx(Pre,{})}),k.jsx(We,{path:"/app/history",element:k.jsx(yP,{})}),k.jsx(We,{path:"/app/chatroom",element:k.jsx(Fre,{})}),k.jsx(We,{path:"/app/chatroom/:chatId",element:k.jsx(zre,{})}),k.jsx(We,{path:"/app/notifications",element:k.jsx(Vre,{})}),(c==null?void 0:c.isAdmin)&&k.jsxs(k.Fragment,{children:[k.jsx(We,{path:"/app/admin",element:k.jsx(Are,{})}),k.jsx(We,{path:"/app/admin/tests",element:k.jsx(Ore,{})}),k.jsx(We,{path:"/app/admin/users",element:k.jsx(Mre,{})}),k.jsx(We,{path:"/app/admin/posts",element:k.jsx(Lre,{})})]}),k.jsx(We,{exact:!0,path:"/app/settings",element:k.jsx(Nre,{})})]}),k.jsx(We,{path:"*",element:k.jsx(xre,{title:"No page found!",text:"No page found!"})})]})}),C!=="Chat Room"&&k.jsx(bre,{})]})})})]})]})})}Gy.createRoot(document.getElementById("root")).render(k.jsx(de.StrictMode,{children:k.jsx(Kre,{})}));export{Oie as $,cV as A,So as B,NA as C,By as D,pw as E,zne as F,Cne as G,Nie as H,cie as I,cc as J,de as K,Mh as L,Yie as M,oX as N,Hie as O,Jte as P,Zre as Q,zie as R,qie as S,Fte as T,Gie as U,cW as V,vie as W,wie as X,Eie as Y,jie as Z,nt as _,Jre as a,fu as a$,hie as a0,Lie as a1,aie as a2,oie as a3,_ne as a4,Za as a5,Lh as a6,tie as a7,eie as a8,rie as a9,xie as aA,Mie as aB,Rie as aC,kie as aD,Sie as aE,IW as aF,Bie as aG,iX as aH,Iie as aI,Kie as aJ,Pie as aK,Zne as aL,yie as aM,BO as aN,G0 as aO,Die as aP,bie as aQ,Aie as aR,g2 as aS,_ie as aT,nw as aU,gW as aV,_W as aW,$ie as aX,Fie as aY,Vie as aZ,Cie as a_,nie as aa,KS as ab,Ks as ac,gE as ad,Ql as ae,ei as af,Ms as ag,Di as ah,ir as ai,oe as aj,fE as ak,tb as al,_p as am,s4 as an,St as ao,pe as ap,f4 as aq,Om as ar,i4 as as,Hu as at,qu as au,sie as av,iie as aw,lie as ax,uie as ay,Tie as az,uh as b,a_ as b0,Pee as b1,Cee as b2,a1 as b3,Xie as b4,Fi as b5,kJ as b6,PL as b7,i1 as b8,p_ as b9,hs as ba,o1 as bb,UZ as bc,NL as bd,Rr as be,Qie as bf,_d as bg,Ih as bh,HZ as bi,see as bj,Rne as bk,cee as bl,lre as bm,bte as bn,uw as bo,hte as bp,c1 as bq,iee as br,oee as bs,C_ as bt,qy as bu,GZ as bv,CO as c,zl as d,UO as e,rw as f,Wie as g,iV as h,Ph as i,k as j,b as k,qte as l,oP as m,eo as n,qi as o,vn as p,oV as q,E as r,Uie as s,Ge as t,BA as u,Gi as v,Jie as w,Rt as x,_a as y,WL as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Results-fSO9fckj.js","assets/EmptyComponent-B0v7Kud4.js","assets/Tooltip-nMSGeA9R.js","assets/Portal-VKXgkAI7.js","assets/useControlled-W8367X1y.js","assets/IconButton-G7F5S18q.js","assets/ArrowBackSharp-YQSLNk1z.js","assets/createSvgIcon-WuW5eNVd.js","assets/Skeleton-gudHJ97I.js","assets/VisibilitySharp-qlGiB9Hj.js","assets/HomeSharp-mbIvRswM.js","assets/Header-60t1p6cQ.js","assets/shortenText-S284lLsL.js","assets/ProfilePicture-zNPQiEmu.js","assets/ConfirmDelete-NqjvmjUg.js","assets/Dialog-uv1MMool.js","assets/Modal-AoQCLYuG.js","assets/Stack-oEJLfJtD.js","assets/LogoutSharp-Mnbivtqn.js","assets/debounce-gOEKrWSg.js","assets/CloseSharp-aSUhFM6n.js","assets/QuizSharp-DWJJdkP2.js","assets/HelpSharp-V34Al7T8.js","assets/Toolbar-tABwfNLo.js","assets/Grid-66wPY43e.js","assets/Reviews-8_O-1eid.js","assets/getImage-SzyEh5nT.js","assets/Error-h8jmleGi.js","assets/Line-bCm3eG6m.js","assets/LoadingScreen-s9LTCXQM.js","assets/History--Iitr7fk.js","assets/SkeletonHistory-TWQvy6cT.js","assets/Admin-gKvHYiiD.js","assets/Footer-X4JYbNBT.js","assets/Login-vnrhx79o.js","assets/TextField-PX96Tbxo.js","assets/Settings-EwP64zAe.js","assets/browser-image-compression-9kymdGFS.js","assets/EditSharp-_9lv0TsH.js","assets/ContentCopySharp-8Vza9f5M.js","assets/UpdateSharp-IpngnDS4.js","assets/Tests-K4EGgLGC.js","assets/SaveSharp-m03-ifTv.js","assets/DeleteSharp-lqhLHkBh.js","assets/AddSharp-dC4SwfiP.js","assets/BackToAdmin-OZeAHZIU.js","assets/MoreOption-hnrvXzOA.js","assets/OtherActions-oKlie0qg.js","assets/Users-q1GhmaZ8.js","assets/sortByDateNewer-X-Bb2bKS.js","assets/prettyDateChat-PSq7xrmC.js","assets/fixTime-t8Fgsaat.js","assets/AddPost-xnvYZG7m.js","assets/prettyDate-uNOGf4QX.js","assets/CollectionsSharp-2GT1TT6F.js","assets/LinkSharp-YMvrkRA0.js","assets/Notifications-9yP4tdqO.js","assets/ChatRoom-B2BtwV43.js","assets/SkeletonUser-DSnZzNbL.js","assets/FabSearch-zXVrhWod.js","assets/Fab-d6Kpdxwd.js","assets/SearchSharp-QUcKE6GG.js","assets/Help-bYHFrqj4.js","assets/Posts-HJmzz6Zu.js","assets/ImageViewer-MUpg3dPR.js","assets/Links-7XhY_oJ2.js","assets/Reactions-QLTC-P8k.js","assets/notify-SVbv2jGG.js","assets/FavoriteBorder-rU_pQKIY.js","assets/SkeletonPost-zNdA6_x2.js","assets/Tests-UeYPF8vL.js","assets/SkeletongTest-7joSH7xN.js","assets/TakingTest-bN-ZN9Ws.js","assets/Chat-M8nZyLbw.js","assets/Test-qpna1nco.js","assets/SinglePost-s0Xr4kJi.js","assets/ReactionsSingle-UDnuEt4U.js","assets/SingleTest-CBJ9r0rM.js","assets/UserProfile-jqFe711v.js","assets/Search-DR7UOp-Z.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}