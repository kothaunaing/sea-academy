import{r as n,j as e,a as oe}from"./react-D1yDKIkn.js";import{c as fs}from"./react-dom-DsRyLwme.js";import{L as E0,H as ps}from"./react-router-dom-DA61nGOe.js";import{a as je}from"./js-cookie-Cz0CWeBA.js";import"./firebase-CRaadQI7.js";import{i as js,g as vs,G as ws,a as Cs,p as ys,b as Ls,c as bs,e as Ns,q as se,o as Te,d as w0,f as $0,h as $,j as Ie,s as he,k as Ye,l as s2,m as H,n as Ss,t as ks,u as b2,v as zs,E as Is,w as Es,x as As,y as Ms,z as ue,A as M2,B as Pe,C as o0,D as r0,F as Re,H as qe,I as J0,J as ke,K as Oe,L as Le,M as y0,N as Ee,O as _0,P as $2,Q as T2,R as U2,S as $s,T as Ts,U as Us}from"./@firebase-DTew-Se5.js";import{h as Rs}from"./moment-C5S46NFB.js";import{a as q,b as t2,d as Ve,e as Bs,f as ae}from"./react-router-Cwq1Yol_.js";import{B as w,T as I,L as Fs,A as W0,a as Ps,y as Os,c as Ds,S as Hs,M as Vs,D as ge,b as Gs,d as ye,e as F,f as le,u as X,h as R,i as z,I as V,E as Ne,C as K0,j as R2,U as B2,k as Xe,l as F2,m as Ws,n as Ys,F as qs,o as e0,p as Zs,q as Qs,r as P2,s as Js,t as l0,V as n2,v as O2,w as L0,x as Ke,z as i2,G as T0,Q as a2,H as o2,P as _s,J as D2,K as H2,N as Ks,O as V2,R as G2,W as W2,X as Xs,Y as et,Z as st,_ as tt,$ as Y2,a0 as nt,a1 as it,a2 as at,a3 as ot,a4 as rt,a5 as g0,a6 as f0,a7 as p0,a8 as j0,a9 as ct,aa as q2,ab as lt,ac as dt,ad as mt,ae as r2,af as ut,ag as A0,ah as c2,ai as xt,aj as ht,ak as gt,al as Z2,am as ft,an as pt,ao as jt,ap as vt,aq as wt,ar as Ct,as as yt,at as Lt,au as bt,av as Nt,aw as St,ax as kt,ay as zt,az as It}from"./@mui-CvWDn_BG.js";import{i as b0}from"./browser-image-compression-BzWLnoYn.js";import{L as Et}from"./linkify-it-BzVyBLn5.js";import{E as Q2}from"./emoji-picker-react-Dm9dQXxh.js";import{$ as At}from"./react-loader-spinner-OzZ6MUIc.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-DwZjOSsg.js";import"./tslib-ddq1TtZV.js";import"./idb-BXWtuYvb.js";import"./@emotion-0cCpMQo8.js";import"./hoist-non-react-statics-Buxaj0Kl.js";import"./react-is-8JwjhRSi.js";import"./@babel-DuB8yAtz.js";import"./clsx-B-dksMZM.js";import"./react-transition-group-BmbWcu8x.js";import"./@popperjs-BQBsAJpH.js";import"./uc.micro-CVDs0LYO.js";import"./flairup-CpvKgcza.js";import"./styled-components-Dwa5FxkJ.js";import"./stylis-DinRj2j6.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(a){if(a.ep)return;a.ep=!0;const r=t(a);fetch(a.href,r)}})();function J2(s,i){localStorage.setItem(s,JSON.stringify(i))}function X0(s){let i=localStorage.getItem(s);try{return JSON.parse(i)}catch{return null}}const Mt={apiKey:"AIzaSyCwF75LGVuWriGfXEyHzoGBvobiOdMEwHs",authDomain:"star-education-academy.firebaseapp.com",projectId:"star-education-academy",storageBucket:"star-education-academy.appspot.com",messagingSenderId:"693801186794",appId:"1:693801186794:web:b202cdffa55530e687ee93",measurementId:"G-JN1DV2YT81",databaseURL:"https://star-education-academy-default-rtdb.asia-southeast1.firebasedatabase.app"},U0=js(Mt),Ce=vs(U0),$t=new ws,T=Cs(U0,{cache:ys()}),De=Ls(U0),C0=bs(U0);Ns(T).then(()=>{console.log("Offline persistence enabled")}).catch(s=>{s.code==="failed-precondition"?console.log("Persistence failed, multiple tabs open"):s.code==="unimplemented"&&console.log("Persistence not availabel on this browser")});const de=(s,i=200)=>{setTimeout(()=>{s(!1)},i)},d0=async(s,i,t,o,a,r=!1,c,l=200)=>{const d=je.get("userId");n.useEffect(()=>{if(!d)return;const u=se(s,...i),m=Te(u,x=>{if(o(!0),x.empty)a(!0),t([]);else{const g=x.docs.map(h=>({...h.data(),[r?"uid":"id"]:h.id}));t(g),a(!1)}de(o,l)},x=>{console.log("Error fetching documents: ",x.message),de(o,l),c("Error fetching documents: "+x.message+" Come here again at 1:30 pm.")});return()=>m()},[])},Tt=async(s,i=3,t=1e3)=>{let o=0;for(;o<i;)try{await s(),console.log("User data save to firestore successfully");break}catch(a){if(o++,o>=i)throw console.log("Failed to save user data",a.message),a;console.warn(`Retrying Firestore write... (attempt ${o})`),await new Promise(r=>setTimeout(r,t*o))}},Y0=async(s,i,t,o="",a)=>{try{const r=$(T,"users",a),c=await Ie(r),l={name:s,email:i,password:t,image:o,isAdmin:!1,createdAt:he()};c.exists()||await Tt(()=>Ye($(T,"users",a),l))}catch(r){console.log(r.message)}};function R0(s,i,t,o=[]){n.useEffect(()=>{const a=w0(C0,`/status/${s}`);$0(a,r=>{if(r.exists()){const{status:c,lastChanged:l}=r.val();i(c),t(Rs(l).fromNow())}})},o)}const Ut="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M41.9375%208.625C41.273438%208.648438%2040.664063%209%2040.3125%209.5625L21.5%2038.34375L9.3125%2027.8125C8.789063%2027.269531%208.003906%2027.066406%207.28125%2027.292969C6.5625%2027.515625%206.027344%2028.125%205.902344%2028.867188C5.777344%2029.613281%206.078125%2030.363281%206.6875%2030.8125L20.625%2042.875C21.0625%2043.246094%2021.640625%2043.410156%2022.207031%2043.328125C22.777344%2043.242188%2023.28125%2042.917969%2023.59375%2042.4375L43.6875%2011.75C44.117188%2011.121094%2044.152344%2010.308594%2043.78125%209.644531C43.410156%208.984375%2042.695313%208.589844%2041.9375%208.625Z'%20fill='%231EE97C'%20/%3e%3c/svg%3e",Rt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",Bt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%203C14.168432%203%2013.456063%203.5067238%2013.154297%204.2285156L2.3007812%2022.947266L2.3007812%2022.949219%20A%202%202%200%200%200%202%2024%20A%202%202%200%200%200%204%2026%20A%202%202%200%200%200%204.140625%2025.994141L4.1445312%2026L15%2026L25.855469%2026L25.859375%2025.992188%20A%202%202%200%200%200%2026%2026%20A%202%202%200%200%200%2028%2024%20A%202%202%200%200%200%2027.699219%2022.947266L27.683594%2022.919922%20A%202%202%200%200%200%2027.681641%2022.917969L16.845703%204.2285156C16.543937%203.5067238%2015.831568%203%2015%203%20z%20M%2013.787109%2011.359375L16.212891%2011.359375L16.011719%2017.832031L13.988281%2017.832031L13.787109%2011.359375%20z%20M%2015.003906%2019.810547C15.825906%2019.810547%2016.318359%2020.252813%2016.318359%2021.007812C16.318359%2021.748812%2015.825906%2022.189453%2015.003906%2022.189453C14.175906%2022.189453%2013.679688%2021.748813%2013.679688%2021.007812C13.679688%2020.252813%2014.174906%2019.810547%2015.003906%2019.810547%20z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",Ft="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M3,12v-2c0-0.386,0.223-0.738,0.572-0.904s0.762-0.115,1.062,0.13L15,17.708l10.367-8.482%20c0.299-0.245,0.712-0.295,1.062-0.13C26.779,9.261,27,9.614,27,10v2c0,0.3-0.135,0.584-0.367,0.774l-11,9%20c-0.369,0.301-0.898,0.301-1.267,0l-11-9C3.135,12.584,3,12.3,3,12z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",Pt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M17,3h2c0.386,0,0.738,0.223,0.904,0.572s0.115,0.762-0.13,1.062L11.292,15l8.482,10.367%20c0.245,0.299,0.295,0.712,0.13,1.062S19.386,27,19,27h-2c-0.3,0-0.584-0.135-0.774-0.367l-9-11c-0.301-0.369-0.301-0.898,0-1.267%20l9-11C16.416,3.135,16.7,3,17,3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",Ot="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M19,7h-6.774l0.564-1.551c0.604-1.662-0.134-3.512-1.716-4.302c-0.691-0.345-1.532-0.064-1.877,0.627L6.339,7.504%20C5.532,8.042,5,8.958,5,10v7c0,2.209,1.791,4,4,4h6.989c2.344,0,4.373-1.628,4.881-3.915L22,12v-2C22,8.343,20.657,7,19,7z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M7,19.5c0-0.386,0-10.614,0-11C7,7.672,6.328,7,5.5,7S4,7.672,4,8.5c0,0.386,0,10.614,0,11C4,20.328,4.672,21,5.5,21S7,20.328,7,19.5z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",Dt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M12,6h4V3.706c0-0.615,0.742-0.924,1.178-0.491l4.104,4.075c0.395,0.391,0.395,1.03,0,1.421l-4.104,4.075C16.742,13.218,16,12.908,16,12.294V10h-4c-4.351,0-5,2.661-5,4H3C3,10.31,5.357,6,12,6z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M8,22c0.513,0,1.024-0.196,1.415-0.587c0.78-0.781,0.78-2.046,0-2.827C8.786,17.951,7,15.753,7,14c0-6.845,5-8,5-8c-6.643,0-9,4.31-9,8c0,3.726,3.22,7.049,3.587,7.415C6.978,21.805,7.488,22,8,22z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",Ht="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M12,27h-2c-0.386,0-0.738-0.223-0.904-0.572s-0.115-0.762,0.13-1.062L17.708,15L9.226,4.633%20c-0.245-0.299-0.295-0.712-0.13-1.062S9.614,3,10,3h2c0.3,0,0.584,0.135,0.774,0.367l9,11c0.301,0.369,0.301,0.898,0,1.267l-9,11%20C12.584,26.865,12.3,27,12,27z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",Vt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L11.5%206%20z%20M%2011.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209%20z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",Gt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C11.832031%204%208.152344%206.113281%206%209.34375L6%206L4%206L4%2013L11%2013L11%2011L7.375%2011C9.101563%208.019531%2012.296875%206%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016L4%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2015%208L15%2017L22%2017L22%2015L17%2015L17%208Z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",Wt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L5%203C4.4%203%204%203.4%204%204C4%204.6%204.4%205%205%205L7%205L17%205L19%205C19.6%205%2020%204.6%2020%204C20%203.4%2019.6%203%2019%203L15%203L14%202L10%202%20z%20M%205%207L5%2020C5%2021.1%205.9%2022%207%2022L17%2022C18.1%2022%2019%2021.1%2019%2020L19%207L5%207%20z%20M%209%209C9.6%209%2010%209.4%2010%2010L10%2019C10%2019.6%209.6%2020%209%2020C8.4%2020%208%2019.6%208%2019L8%2010C8%209.4%208.4%209%209%209%20z%20M%2015%209C15.6%209%2016%209.4%2016%2010L16%2019C16%2019.6%2015.6%2020%2015%2020C14.4%2020%2014%2019.6%2014%2019L14%2010C14%209.4%2014.4%209%2015%209%20z'%20fill='%23FF4A33'%20/%3e%3c/svg%3e",Yt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20fill='%230F0F0F'%20/%3e%3cpath%20d='M3%2011H21V13H3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",qt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3cpath%20d='M79.335938%2015.667969C78.064453%2015.622266%2076.775%2015.762109%2075.5%2016.099609C72.1%2016.999609%2069.299609%2019.199219%2067.599609%2022.199219L64%2028.699219C63.2%2030.099219%2063.699609%2032.000781%2065.099609%2032.800781L82.400391%2042.800781C82.900391%2043.100781%2083.400391%2043.199219%2083.900391%2043.199219C84.200391%2043.199219%2084.399219%2043.199609%2084.699219%2043.099609C85.499219%2042.899609%2086.1%2042.399219%2086.5%2041.699219L90.199219%2035.199219C91.899219%2032.199219%2092.4%2028.700781%2091.5%2025.300781C90.6%2021.900781%2088.400391%2019.100391%2085.400391%2017.400391C83.525391%2016.337891%2081.455078%2015.744141%2079.335938%2015.667969%20z%20M%2060.097656%2038.126953C59.128906%2038.201172%2058.199219%2038.724609%2057.699219%2039.599609L27.5%2092C24.1%2097.8%2022.200781%20104.30039%2021.800781%20110.90039L21%20123.80078C20.9%20124.90078%2021.5%20125.99961%2022.5%20126.59961C23%20126.89961%2023.5%20127%2024%20127C24.6%20127%2025.199219%20126.8%2025.699219%20126.5L36.5%20119.40039C42%20115.70039%2046.7%20110.8%2050%20105L80.300781%2052.599609C81.100781%2051.199609%2080.599219%2049.3%2079.199219%2048.5C77.799219%2047.7%2075.899609%2048.199609%2075.099609%2049.599609L44.800781%20102C41.900781%20106.9%2037.899609%20111.20039%2033.099609%20114.40039L27.300781%20118.19922L27.699219%20111.30078C27.999219%20105.60078%2029.699609%20100%2032.599609%2095L62.900391%2042.599609C63.700391%2041.199609%2063.200781%2039.3%2061.800781%2038.5C61.275781%2038.2%2060.678906%2038.082422%2060.097656%2038.126953%20z%20M%2049%20121C47.3%20121%2046%20122.3%2046%20124C46%20125.7%2047.3%20127%2049%20127L89%20127C90.7%20127%2092%20125.7%2092%20124C92%20122.3%2090.7%20121%2089%20121L49%20121%20z%20M%20104%20121%20A%203%203%200%200%200%20101%20124%20A%203%203%200%200%200%20104%20127%20A%203%203%200%200%200%20107%20124%20A%203%203%200%200%200%20104%20121%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",Zt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M5%203C3.9057453%203%203%203.9057453%203%205L3%2019C3%2020.094255%203.9057453%2021%205%2021L19%2021C20.094255%2021%2021%2020.094255%2021%2019L21%207L17%203L5%203%20z%20M%205%205L16.171875%205L19%207.828125L19%2019L5%2019L5%205%20z%20M%207%207L7%2010L15%2010L15%207L7%207%20z%20M%2011.5%2012%20A%202.5%202.5%200%200%200%209%2014.5%20A%202.5%202.5%200%200%200%2011.5%2017%20A%202.5%202.5%200%200%200%2014%2014.5%20A%202.5%202.5%200%200%200%2011.5%2012%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",Qt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M27,18v2c0,0.386-0.223,0.738-0.572,0.904c-0.349,0.166-0.762,0.115-1.062-0.13L15,12.292L4.633,20.774%20c-0.299,0.245-0.712,0.295-1.062,0.13C3.221,20.739,3,20.386,3,20v-2c0-0.3,0.135-0.584,0.367-0.774l11-9%20c0.369-0.301,0.898-0.301,1.267,0l11,9C26.865,17.416,27,17.7,27,18z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",Jt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%200C13.35499%200%2012%201.3549904%2012%203L8%203C6.3550302%203%205%204.3550302%205%206L5%2024C5%2025.64497%206.3550302%2027%208%2027L22%2027C23.64497%2027%2025%2025.64497%2025%2024L25%206C25%204.3550302%2023.64497%203%2022%203L18%203C18%201.3549904%2016.64501%200%2015%200%20z%20M%2015%202C15.564129%202%2016%202.4358706%2016%203C16%203.5641294%2015.564129%204%2015%204C14.435871%204%2014%203.5641294%2014%203C14%202.4358706%2014.435871%202%2015%202%20z%20M%208%205L12%205L12%206C12%206.552%2012.448%207%2013%207L17%207C17.552%207%2018%206.552%2018%206L18%205L22%205C22.56503%205%2023%205.4349698%2023%206L23%2024C23%2024.56503%2022.56503%2025%2022%2025L8%2025C7.4349698%2025%207%2024.56503%207%2024L7%206C7%205.4349698%207.4349698%205%208%205%20z%20M%2011%2011%20A%201.0001%201.0001%200%201%200%2011%2013L19%2013%20A%201.0001%201.0001%200%201%200%2019%2011L11%2011%20z%20M%2011%2015%20A%201.0001%201.0001%200%201%200%2011%2017L16%2017%20A%201.0001%201.0001%200%201%200%2016%2015L11%2015%20z%20M%2011%2019%20A%201.0001%201.0001%200%201%200%2011%2021L19%2021%20A%201.0001%201.0001%200%201%200%2019%2019L11%2019%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",_t="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16.03125%204C14.921875%204%2013.8125%204.15625%2012.71875%204.46875L11.9375%204.6875L12%205.5C12.042969%206.238281%2011.679688%206.949219%2011%207.34375C10.320313%207.738281%209.523438%207.6875%208.90625%207.28125L8.25%206.84375L7.65625%207.375C6.023438%208.957031%204.910156%2010.957031%204.375%2013.09375L4.1875%2013.875L4.875%2014.21875C5.535156%2014.550781%206%2015.210938%206%2016C6%2016.789063%205.535156%2017.449219%204.875%2017.78125L4.15625%2018.125L4.375%2018.90625C4.636719%2019.957031%205.019531%2021.007813%205.59375%2022C6.167969%2022.992188%206.878906%2023.871094%207.65625%2024.625L8.25%2025.1875L8.90625%2024.75C9.523438%2024.34375%2010.316406%2024.261719%2011%2024.65625C11.683594%2025.050781%2012.042969%2025.761719%2012%2026.5L11.9375%2027.3125L12.71875%2027.53125C14.109375%2027.925781%2015.558594%2028.039063%2017%2027.90625L17%2032L32%2032L32%2018L27.59375%2018L27.125%2017.78125C26.464844%2017.449219%2026%2016.789063%2026%2016C26%2015.210938%2026.464844%2014.550781%2027.125%2014.21875L27.84375%2013.875L27.625%2013.09375C27.363281%2012.042969%2026.980469%2010.992188%2026.40625%2010C25.832031%209.007813%2025.121094%208.128906%2024.34375%207.375L23.78125%206.8125L23.09375%207.28125C22.476563%207.6875%2021.683594%207.738281%2021%207.34375L20.96875%207.3125C20.3125%206.914063%2019.957031%206.222656%2020%205.5L20.0625%204.6875L19.28125%204.46875C18.222656%204.167969%2017.140625%204%2016.03125%204%20Z%20M%2016%206.09375C16.742188%206.09375%2017.496094%206.179688%2018.21875%206.34375C18.429688%207.4375%2018.960938%208.460938%2020%209.0625C21.050781%209.667969%2022.21875%209.597656%2023.28125%209.21875C23.785156%209.757813%2024.273438%2010.335938%2024.65625%2011C25.042969%2011.671875%2025.285156%2012.378906%2025.5%2013.09375C24.648438%2013.824219%2024%2014.792969%2024%2016C24%2016.730469%2024.214844%2017.410156%2024.5625%2018L21.65625%2018C21.882813%2017.378906%2022%2016.703125%2022%2016C22%2012.699219%2019.300781%2010%2016%2010C12.699219%2010%2010%2012.699219%2010%2016C10%2019.300781%2012.699219%2022%2016%2022C16.34375%2022%2016.671875%2021.960938%2017%2021.90625L17%2025.90625C15.910156%2026.007813%2014.832031%2025.921875%2013.78125%2025.6875C13.574219%2024.582031%2013.050781%2023.542969%2012%2022.9375C10.949219%2022.332031%209.78125%2022.402344%208.71875%2022.78125C8.210938%2022.238281%207.726563%2021.664063%207.34375%2021C6.957031%2020.328125%206.714844%2019.621094%206.5%2018.90625C7.351563%2018.175781%208%2017.207031%208%2016C8%2014.792969%207.351563%2013.824219%206.5%2013.09375C6.933594%2011.667969%207.710938%2010.371094%208.75%209.25C9.800781%209.609375%2010.960938%209.660156%2012%209.0625C13.039063%208.464844%2013.570313%207.4375%2013.78125%206.34375C14.523438%206.175781%2015.257813%206.09375%2016%206.09375%20Z%20M%2016%2012C18.21875%2012%2020%2013.78125%2020%2016C20%2016.730469%2019.785156%2017.40625%2019.4375%2018L17%2018L17%2019.84375C16.675781%2019.933594%2016.351563%2020%2016%2020C13.78125%2020%2012%2018.21875%2012%2016C12%2013.78125%2013.78125%2012%2016%2012%20Z%20M%2019%2020L30%2020L30%2021L19%2021%20Z%20M%2019%2023L30%2023L30%2030L19%2030%20Z%20M%2026.28125%2023.78125L24%2026.0625L22.71875%2024.78125L21.28125%2026.21875L23.28125%2028.21875L24%2028.90625L24.71875%2028.21875L27.71875%2025.21875Z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",Kt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M4%207L4%209L28%209L28%207%20Z%20M%204%2015L4%2017L28%2017L28%2015%20Z%20M%204%2023L4%2025L28%2025L28%2023Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",Xt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%202.59375L15.28125%203.28125L2.28125%2016.28125L3.71875%2017.71875L5%2016.4375L5%2028L14%2028L14%2018L18%2018L18%2028L27%2028L27%2016.4375L28.28125%2017.71875L29.71875%2016.28125L16.71875%203.28125%20Z%20M%2016%205.4375L25%2014.4375L25%2026L20%2026L20%2016L12%2016L12%2026L7%2026L7%2014.4375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",en="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M20.5%204C18.203405%204%2016.305701%205.7666235%2016.050781%208L12.5%208C10.032499%208%208%2010.032499%208%2012.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2012.5C40%2010.032499%2037.967501%208%2035.5%208L31.949219%208C31.694299%205.7666235%2029.796595%204%2027.5%204L20.5%204%20z%20M%2020.5%207L27.5%207C28.346499%207%2029%207.6535009%2029%208.5C29%209.3464991%2028.346499%2010%2027.5%2010L20.5%2010C19.653501%2010%2019%209.3464991%2019%208.5C19%207.6535009%2019.653501%207%2020.5%207%20z%20M%2012.5%2011L16.769531%2011C17.581237%2012.2019%2018.954719%2013%2020.5%2013L27.5%2013C29.045281%2013%2030.418763%2012.2019%2031.230469%2011L35.5%2011C36.346499%2011%2037%2011.653501%2037%2012.5L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%2012.5C11%2011.653501%2011.653501%2011%2012.5%2011%20z%20M%2032.470703%2018.986328%20A%201.50015%201.50015%200%200%200%2031.439453%2019.439453L28.5%2022.378906L27.560547%2021.439453%20A%201.50015%201.50015%200%201%200%2025.439453%2023.560547L27.439453%2025.560547%20A%201.50015%201.50015%200%200%200%2029.560547%2025.560547L33.560547%2021.560547%20A%201.50015%201.50015%200%200%200%2032.470703%2018.986328%20z%20M%2015.5%2021%20A%201.50015%201.50015%200%201%200%2015.5%2024L21.5%2024%20A%201.50015%201.50015%200%201%200%2021.5%2021L15.5%2021%20z%20M%2032.486328%2027.978516%20A%201.50015%201.50015%200%200%200%2031.439453%2028.439453L30%2029.878906L28.560547%2028.439453%20A%201.50015%201.50015%200%200%200%2027.484375%2027.984375%20A%201.50015%201.50015%200%200%200%2026.439453%2030.560547L27.878906%2032L26.439453%2033.439453%20A%201.50015%201.50015%200%201%200%2028.560547%2035.560547L30%2034.121094L31.439453%2035.560547%20A%201.50015%201.50015%200%201%200%2033.560547%2033.439453L32.121094%2032L33.560547%2030.560547%20A%201.50015%201.50015%200%200%200%2032.486328%2027.978516%20z%20M%2015.5%2030%20A%201.50015%201.50015%200%201%200%2015.5%2033L21.5%2033%20A%201.50015%201.50015%200%201%200%2021.5%2030L15.5%2030%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",sn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C9.382813%204%204%209.382813%204%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016C6%2010.464844%2010.464844%206%2016%206%20Z%20M%2016%2010C13.800781%2010%2012%2011.800781%2012%2014L14%2014C14%2012.882813%2014.882813%2012%2016%2012C17.117188%2012%2018%2012.882813%2018%2014C18%2014.765625%2017.507813%2015.445313%2016.78125%2015.6875L16.375%2015.8125C15.558594%2016.082031%2015%2016.863281%2015%2017.71875L15%2019L17%2019L17%2017.71875L17.40625%2017.59375C18.945313%2017.082031%2020%2015.621094%2020%2014C20%2011.800781%2018.199219%2010%2016%2010%20Z%20M%2015%2020L15%2022L17%2022L17%2020Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",tn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20x='0'%20y='0'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3ccircle%20cx='64'%20cy='64'%20r='55'%20fill='%23fff'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,122C32,122,6,96,6,64S32,6,64,6s58,26,58,58S96,122,64,122z%20M64,12c-28.7,0-52,23.3-52,52s23.3,52,52,52%20s52-23.3,52-52S92.7,12,64,12z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,90c-1.7,0-3-1.3-3-3V61c0-1.7,1.3-3,3-3s3,1.3,3,3v26C67,88.7,65.7,90,64,90z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,49c-1.7,0-3-1.3-3-3v-5c0-1.7,1.3-3,3-3s3,1.3,3,3v5C67,47.7,65.7,49,64,49z'%20/%3e%3c/svg%3e",nn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M6%203L6%2029L17.765625%2029C19.233126%2030.826376%2021.480367%2032%2024%2032C26.396%2032%2028.534%2030.929859%2030%2029.255859L30%2032L32%2032L32%2026L26%2026L26%2028L28.445312%2028C27.347313%2029.221%2025.768%2030%2024%2030C20.691%2030%2018%2027.309%2018%2024C18%2020.691%2020.691%2018%2024%2018C27.309%2018%2030%2020.691%2030%2024L32%2024C32%2020.280606%2029.444687%2017.153349%2026%2016.261719L26%209.5859375L19.414062%203L6%203%20z%20M%208%205L18%205L18%2011L24%2011L24%2016C21.979283%2016%2020.136244%2016.75962%2018.726562%2018L11%2018L11%2020L17.082031%2020C16.722543%2020.619242%2016.445366%2021.290505%2016.261719%2022L11%2022L11%2024L16%2024C16%2025.060938%2016.211142%2026.072669%2016.587891%2027L8%2027L8%205%20z%20M%2020%206.4140625L22.585938%209L20%209L20%206.4140625%20z%20M%2011%2014L11%2016L21%2016L21%2014L11%2014%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",an="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M4.0097656%203C2.9179106%203%202.0097656%203.9049841%202.0097656%204.9980469L2%2023L6%2019L20%2019C21.093063%2019%2022%2018.093063%2022%2017L22%205C22%203.9069372%2021.093063%203%2020%203L4.0097656%203%20z%20M%204.0097656%205L20%205L20%2017L5.171875%2017L4.0039062%2018.167969L4.0097656%205%20z%20M%2011%207L11%209L13%209L13%207L11%207%20z%20M%2011%2011L11%2015L13%2015L13%2011L11%2011%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",on="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M11%203L11%2011L3%2011L3%2013L11%2013L11%2021L13%2021L13%2013L21%2013L21%2011L13%2011L13%203L11%203%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",rn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20transform='rotate(90%2012%2012)'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",cn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M18%202%20A%203%203%200%200%200%2015%205%20A%203%203%200%200%200%2015.054688%205.5605469L7.9394531%209.7109375%20A%203%203%200%200%200%206%209%20A%203%203%200%200%200%203%2012%20A%203%203%200%200%200%206%2015%20A%203%203%200%200%200%207.9355469%2014.287109L15.054688%2018.439453%20A%203%203%200%200%200%2015%2019%20A%203%203%200%200%200%2018%2022%20A%203%203%200%200%200%2021%2019%20A%203%203%200%200%200%2018%2016%20A%203%203%200%200%200%2016.0625%2016.712891L8.9453125%2012.560547%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%208.9453125%2011.439453L16.060547%207.2890625%20A%203%203%200%200%200%2018%208%20A%203%203%200%200%200%2021%205%20A%203%203%200%200%200%2018%202%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",ln="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%208C7.664063%208%201.25%2015.34375%201.25%2015.34375L0.65625%2016L1.25%2016.65625C1.25%2016.65625%207.097656%2023.324219%2014.875%2023.9375C15.246094%2023.984375%2015.617188%2024%2016%2024C16.382813%2024%2016.753906%2023.984375%2017.125%2023.9375C24.902344%2023.324219%2030.75%2016.65625%2030.75%2016.65625L31.34375%2016L30.75%2015.34375C30.75%2015.34375%2024.335938%208%2016%208%20Z%20M%2016%2010C18.203125%2010%2020.234375%2010.601563%2022%2011.40625C22.636719%2012.460938%2023%2013.675781%2023%2015C23%2018.613281%2020.289063%2021.582031%2016.78125%2021.96875C16.761719%2021.972656%2016.738281%2021.964844%2016.71875%2021.96875C16.480469%2021.980469%2016.242188%2022%2016%2022C15.734375%2022%2015.476563%2021.984375%2015.21875%2021.96875C11.710938%2021.582031%209%2018.613281%209%2015C9%2013.695313%209.351563%2012.480469%209.96875%2011.4375L9.9375%2011.4375C11.71875%2010.617188%2013.773438%2010%2016%2010%20Z%20M%2016%2012C14.34375%2012%2013%2013.34375%2013%2015C13%2016.65625%2014.34375%2018%2016%2018C17.65625%2018%2019%2016.65625%2019%2015C19%2013.34375%2017.65625%2012%2016%2012%20Z%20M%207.25%2012.9375C7.09375%2013.609375%207%2014.285156%207%2015C7%2016.753906%207.5%2018.394531%208.375%2019.78125C5.855469%2018.324219%204.105469%2016.585938%203.53125%2016C4.011719%2015.507813%205.351563%2014.203125%207.25%2012.9375%20Z%20M%2024.75%2012.9375C26.648438%2014.203125%2027.988281%2015.507813%2028.46875%2016C27.894531%2016.585938%2026.144531%2018.324219%2023.625%2019.78125C24.5%2018.394531%2025%2016.753906%2025%2015C25%2014.285156%2024.90625%2013.601563%2024.75%2012.9375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",dn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2017.5%20A%201.50015%201.50015%200%201%200%209%2017.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209L17.5%209%20A%201.50015%201.50015%200%201%200%2017.5%206L11.5%206%20z%20M%2030.5%206%20A%201.50015%201.50015%200%201%200%2030.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2017.5%20A%201.50015%201.50015%200%201%200%2042%2017.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L30.5%206%20z%20M%207.4765625%2028.978516%20A%201.50015%201.50015%200%200%200%206%2030.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L17.5%2042%20A%201.50015%201.50015%200%201%200%2017.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2030.5%20A%201.50015%201.50015%200%200%200%207.4765625%2028.978516%20z%20M%2040.476562%2028.978516%20A%201.50015%201.50015%200%200%200%2039%2030.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L30.5%2039%20A%201.50015%201.50015%200%201%200%2030.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2030.5%20A%201.50015%201.50015%200%200%200%2040.476562%2028.978516%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",mn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M19%203C13.488281%203%209%207.488281%209%2013C9%2015.394531%209.839844%2017.589844%2011.25%2019.3125L3.28125%2027.28125L4.71875%2028.71875L12.6875%2020.75C14.410156%2022.160156%2016.605469%2023%2019%2023C24.511719%2023%2029%2018.511719%2029%2013C29%207.488281%2024.511719%203%2019%203%20Z%20M%2019%205C23.429688%205%2027%208.570313%2027%2013C27%2017.429688%2023.429688%2021%2019%2021C14.570313%2021%2011%2017.429688%2011%2013C11%208.570313%2014.570313%205%2019%205Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",un="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M9%202C5.1458514%202%202%205.1458514%202%209C2%2012.854149%205.1458514%2016%209%2016C10.747998%2016%2012.345009%2015.348024%2013.574219%2014.28125L14%2014.707031L14%2016L19.585938%2021.585938C20.137937%2022.137937%2021.033938%2022.137938%2021.585938%2021.585938C22.137938%2021.033938%2022.137938%2020.137938%2021.585938%2019.585938L16%2014L14.707031%2014L14.28125%2013.574219C15.348024%2012.345009%2016%2010.747998%2016%209C16%205.1458514%2012.854149%202%209%202%20z%20M%209%204C11.773268%204%2014%206.2267316%2014%209C14%2011.773268%2011.773268%2014%209%2014C6.2267316%2014%204%2011.773268%204%209C4%206.2267316%206.2267316%204%209%204%20z'%20fill='%23F0F0F0'%20/%3e%3c/svg%3e",xn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23313131'%20/%3e%3c/svg%3e",hn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M18.5%205C15.480226%205%2013%207.4802259%2013%2010.5L13%2032.5C13%2035.519774%2015.480226%2038%2018.5%2038L34.5%2038C37.519774%2038%2040%2035.519774%2040%2032.5L40%2010.5C40%207.4802259%2037.519774%205%2034.5%205L18.5%205%20z%20M%2018.5%208L34.5%208C35.898226%208%2037%209.1017741%2037%2010.5L37%2032.5C37%2033.898226%2035.898226%2035%2034.5%2035L18.5%2035C17.101774%2035%2016%2033.898226%2016%2032.5L16%2010.5C16%209.1017741%2017.101774%208%2018.5%208%20z%20M%2011%2010L9.78125%2010.8125C8.66825%2011.5545%208%2012.803625%208%2014.140625L8%2033.5C8%2038.747%2012.253%2043%2017.5%2043L30.859375%2043C32.197375%2043%2033.4465%2042.33175%2034.1875%2041.21875L35%2040L17.5%2040C13.91%2040%2011%2037.09%2011%2033.5L11%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",gn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='480'%20height='480'%20viewBox='0%200%2048%2048'%3e%3cpath%20fill='%23FFC107'%20d='M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3cpath%20fill='%23FF3D00'%20d='M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z'%20/%3e%3cpath%20fill='%234CAF50'%20d='M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z'%20/%3e%3cpath%20fill='%231976D2'%20d='M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3c/svg%3e",fn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C10.886719%204%206.617188%207.160156%204.875%2011.625L6.71875%2012.375C8.175781%208.640625%2011.710938%206%2016%206C19.242188%206%2022.132813%207.589844%2023.9375%2010L20%2010L20%2012L27%2012L27%205L25%205L25%208.09375C22.808594%205.582031%2019.570313%204%2016%204%20Z%20M%2025.28125%2019.625C23.824219%2023.359375%2020.289063%2026%2016%2026C12.722656%2026%209.84375%2024.386719%208.03125%2022L12%2022L12%2020L5%2020L5%2027L7%2027L7%2023.90625C9.1875%2026.386719%2012.394531%2028%2016%2028C21.113281%2028%2025.382813%2024.839844%2027.125%2020.375Z'%20fill='%23313131'%20/%3e%3c/svg%3e",pn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M6%200C4.34375%200%203%201.34375%203%203L3%2023C3%2024.65625%204.34375%2026%206%2026L20%2026C21.65625%2026%2023%2024.65625%2023%2023L23%2017.8125L21%2019.5625L21%2023C21%2023.550781%2020.550781%2024%2020%2024L6%2024C5.449219%2024%205%2023.550781%205%2023L5%203C5%202.449219%205.449219%202%206%202L20%202C20.550781%202%2021%202.449219%2021%203L21%206.4375L23%208.1875L23%203C23%201.34375%2021.65625%200%2020%200%20Z%20M%2016.5%206.46875C16.25%206.542969%2016%206.796875%2016%207.46875L16%2010L10%2010C9.449219%2010%209%2010.449219%209%2011L9%2015C9%2015.550781%209.449219%2016%2010%2016L16%2016L16%2018.5C16%2019.78125%2017%2019.5%2017%2019.5L24.5%2013L17%206.5C17%206.5%2016.75%206.394531%2016.5%206.46875Z'%20fill='%23313131'%20/%3e%3c/svg%3e",jn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M12.5%204C10.032499%204%208%206.0324991%208%208.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2018.5%20A%201.50015%201.50015%200%200%200%2039.560547%2017.439453L39.544922%2017.423828L26.560547%204.4394531%20A%201.50015%201.50015%200%200%200%2025.5%204L12.5%204%20z%20M%2012.5%207L24%207L24%2015.5C24%2017.967501%2026.032499%2020%2028.5%2020L37%2020L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%208.5C11%207.6535009%2011.653501%207%2012.5%207%20z%20M%2027%209.1210938L34.878906%2017L28.5%2017C27.653501%2017%2027%2016.346499%2027%2015.5L27%209.1210938%20z%20M%2019%2022.998047C18.391%2022.998047%2017.841328%2023.365687%2017.611328%2023.929688L13.111328%2034.929688C12.797328%2035.696688%2013.164641%2036.573719%2013.931641%2036.886719C14.698641%2037.202719%2015.575672%2036.834406%2015.888672%2036.066406L16.326172%2034.998047L21.673828%2034.998047L22.111328%2036.066406C22.349328%2036.647406%2022.909%2036.998047%2023.5%2036.998047C23.689%2036.998047%2023.881359%2036.963719%2024.068359%2036.886719C24.834359%2036.573719%2025.202672%2035.696688%2024.888672%2034.929688L20.388672%2023.929688C20.158672%2023.365688%2019.609%2022.998047%2019%2022.998047%20z%20M%2030.476562%2023.978516%20A%201.50015%201.50015%200%200%200%2029%2025.5L29%2027L27.5%2027%20A%201.50015%201.50015%200%201%200%2027.5%2030L29%2030L29%2031.5%20A%201.50015%201.50015%200%201%200%2032%2031.5L32%2030L33.5%2030%20A%201.50015%201.50015%200%201%200%2033.5%2027L32%2027L32%2025.5%20A%201.50015%201.50015%200%200%200%2030.476562%2023.978516%20z%20M%2019%2028.460938L20.447266%2031.998047L17.552734%2031.998047L19%2028.460938%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",vn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M26.886719%203.0234375C26.437415%203.0492805%2025.990861%203.1581308%2025.574219%203.3847656C24.740935%203.8380352%2024.23601%204.6408958%2023.933594%205.484375%20A%201.50015%201.50015%200%200%200%2023.931641%205.4863281C23.856851%205.6965582%2023.895729%205.5996163%2023.880859%205.6503906C23.865989%205.7011646%2023.846326%205.768146%2023.822266%205.8515625C23.774136%206.0183955%2023.709041%206.2482122%2023.630859%206.5214844C23.474496%207.0680287%2023.269926%207.787416%2023.066406%208.5019531C22.659368%209.9310274%2022.255859%2011.345703%2022.255859%2011.345703%20A%201.50015%201.50015%200%200%200%2022.255859%2011.349609C22.141471%2011.755416%2022.046189%2011.970637%2022.005859%2012.033203%20A%201.50015%201.50015%200%200%200%2022.003906%2012.037109C20.528039%2014.338252%2018.938262%2016.655605%2017.394531%2019L10.5%2019C8.0324991%2019%206%2021.032499%206%2023.5L6%2039.5C6%2041.967501%208.0324991%2044%2010.5%2044L14.5%2044C15.757335%2044%2016.892811%2043.465209%2017.712891%2042.621094C20.020827%2043.120886%2022.596814%2043.674636%2024.695312%2044.117188C25.795053%2044.349109%2026.761579%2044.550006%2027.490234%2044.697266C28.21796%2044.844337%2028.488997%2044.922925%2028.96875%2044.96875C29.276882%2044.99849%2029.582707%2045.013672%2029.884766%2045.013672C34.166546%2045.013672%2037.951276%2042.101357%2039.046875%2037.871094C39.884581%2034.63323%2041.600002%2027.921603%2041.607422%2027.892578C41.746989%2027.37849%2041.941717%2026.687301%2041.986328%2025.859375%20A%201.50015%201.50015%200%200%200%2041.986328%2025.857422C42.082078%2024.068723%2041.461123%2022.328247%2040.242188%2021.039062%20A%201.50015%201.50015%200%200%200%2040.242188%2021.037109C39.003328%2019.728222%2037.266509%2019.003801%2035.439453%2019%20A%201.50015%201.50015%200%200%200%2035.435547%2019L31.466797%2019C31.818422%2017.742495%2032.16537%2016.527227%2032.417969%2015.541016%20A%201.50015%201.50015%200%200%200%2032.417969%2015.539062C33.021899%2013.169223%2033.163006%2011.052777%2032.796875%209.0214844%20A%201.50015%201.50015%200%200%200%2032.796875%209.0195312C32.612962%208.0064557%2032.266053%206.5283049%2031.216797%205.1679688C30.454227%204.1798868%2029.406708%203.4604803%2028.21875%203.1621094%20A%201.50015%201.50015%200%200%200%2028.214844%203.1621094C27.787706%203.0556602%2027.336023%202.9975943%2026.886719%203.0234375%20z%20M%2027.083984%206.0097656C27.153229%206.0089389%2027.277677%206.0200946%2027.488281%206.0722656C28.020323%206.2058951%2028.434367%206.4720819%2028.841797%207C29.43854%207.7736637%2029.69161%208.705806%2029.845703%209.5546875C30.125167%2011.106826%2030.039576%2012.7275%2029.511719%2014.798828C29.151131%2016.206389%2028.056641%2020.09375%2028.056641%2020.09375%20A%201.50015%201.50015%200%200%200%2029.5%2022L35.435547%2022C36.491612%2022.0027%2037.39379%2022.393048%2038.0625%2023.099609C38.717564%2023.792425%2039.04448%2024.683965%2038.990234%2025.697266C38.966844%2026.13134%2038.851324%2026.59751%2038.712891%2027.107422%20A%201.50015%201.50015%200%200%200%2038.707031%2027.128906C38.707031%2027.128906%2036.979062%2033.886003%2036.142578%2037.119141C35.380177%2040.062877%2032.818985%2042.013672%2029.884766%2042.013672C29.676824%2042.013672%2029.467681%2042.002682%2029.257812%2041.982422%20A%201.50015%201.50015%200%200%200%2029.255859%2041.982422C29.484761%2042.004222%2028.797548%2041.902023%2028.083984%2041.757812C27.370421%2041.613604%2026.409589%2041.412593%2025.314453%2041.181641C23.401221%2040.778161%2021.082509%2040.278628%2018.935547%2039.814453C18.94375%2039.705129%2019%2039.611242%2019%2039.5L19%2022.011719C20.770748%2019.246238%2022.705347%2016.498683%2024.527344%2013.658203L24.529297%2013.65625C24.857875%2013.14567%2025.005183%2012.649533%2025.142578%2012.162109C25.143578%2012.158509%2025.544977%2010.748377%2025.951172%209.3222656C26.154528%208.6083028%2026.357942%207.891987%2026.513672%207.3476562C26.591532%207.0754909%2026.658135%206.8463076%2026.705078%206.6835938C26.728548%206.6022368%2026.746996%206.5377315%2026.759766%206.4941406C26.916091%206.0606215%2027.022027%206.0117998%2027.007812%206.0195312C27.000698%206.0234013%2027.014739%206.0105924%2027.083984%206.0097656%20z%20M%2010.5%2022L16%2022L16%2039.5C16%2040.346499%2015.346499%2041%2014.5%2041L10.5%2041C9.6535009%2041%209%2040.346499%209%2039.5L9%2023.5C9%2022.653501%209.6535009%2022%2010.5%2022%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",wn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11.677734%202.1816406C11.255625%202.2202656%2010.879797%202.5279063%2010.779297%202.9726562L10.224609%205.4179688L7.5136719%208.4296875C7.1826719%208.7966875%207%209.2735781%207%209.7675781L7%2019C7%2020.105%207.895%2021%209%2021L17.03125%2021C17.77225%2021%2018.443141%2020.563719%2018.744141%2019.886719L21.746094%2013.130859C21.913094%2012.756859%2022%2012.351406%2022%2011.941406L22%2011C22%209.9%2021.1%209%2020%209L13%209C13%209%2014%206.6292813%2014%204.8632812C14%203.2502813%2012.962422%202.5443281%2012.107422%202.2363281C11.964672%202.1845781%2011.818437%202.1687656%2011.677734%202.1816406%20z%20M%203.5%209C2.672%209%202%209.672%202%2010.5L2%2019.5C2%2020.328%202.672%2021%203.5%2021C4.328%2021%205%2020.328%205%2019.5L5%2010.5C5%209.672%204.328%209%203.5%209%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",Cn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%207C6.9280619%207%204%209.9280619%204%2013.5L4%2030.5C4%2034.071938%206.9280619%2037%2010.5%2037L12%2037L12%2042.5C12%2044.46599%2014.427297%2045.67893%2016%2044.5L26%2037L37.5%2037C41.071938%2037%2044%2034.071938%2044%2030.5L44%2013.5C44%209.9280619%2041.071938%207%2037.5%207L10.5%207%20z%20M%2010.5%2010L37.5%2010C39.450062%2010%2041%2011.549938%2041%2013.5L41%2030.5C41%2032.450062%2039.450062%2034%2037.5%2034L25.5%2034%20A%201.50015%201.50015%200%200%200%2024.599609%2034.300781L15%2041.5L15%2035.5%20A%201.50015%201.50015%200%200%200%2013.5%2034L10.5%2034C8.5499381%2034%207%2032.450062%207%2030.5L7%2013.5C7%2011.549938%208.5499381%2010%2010.5%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",yn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M26%203%20A%201%201%200%200%200%2025.716797%203.0429688%20A%201%201%200%200%200%2025.636719%203.0683594L3.6503906%2010.060547L3.6503906%2010.064453%20A%201%201%200%200%200%203%2011%20A%201%201%200%200%200%203.4824219%2011.853516L10.164062%2017.154297L23.373047%206.6269531L12.845703%2019.835938L18.142578%2026.513672%20A%201%201%200%200%200%2019%2027%20A%201%201%200%200%200%2019.935547%2026.349609L19.939453%2026.349609L26.9375%204.34375%20A%201%201%200%200%200%2026.957031%204.2832031%20A%201%201%200%200%200%2027%204%20A%201%201%200%200%200%2026%203%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",Ln="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M6%202C4.897%202%204%202.897%204%204L4%2020C4%2021.103%204.897%2022%206%2022L18%2022C19.103%2022%2020%2021.103%2020%2020L20%2015.25L18.001953%2016.748047L18.001953%2020L6%2020L6%204L18%204L18%207.25L20%208.75L20%204C20%202.897%2019.103%202%2018%202L6%202%20z%20M%2016%208.25L16%2011L11%2011L11%2013L16%2013L16%2015.75L21%2012L16%208.25%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",bn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%203%20A%204%204%200%200%200%208%207%20A%204%204%200%200%200%2012%2011%20A%204%204%200%200%200%2016%207%20A%204%204%200%200%200%2012%203%20z%20M%2012%2014C8.996%2014%203%2015.508%203%2018.5L3%2020C3%2020.552%203.448%2021%204%2021L20%2021C20.552%2021%2021%2020.552%2021%2020L21%2018.5C21%2015.508%2015.004%2014%2012%2014%20z'%20/%3e%3c/svg%3e",Nn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M17,18H4c-1.105,0-2-0.895-2-2V6c0-1.105,0.895-2,2-2h13c1.105,0,2,0.895,2,2v10C19,17.105,18.105,18,17,18z'%20opacity='.35'%20/%3e%3ccircle%20cx='14.5'%20cy='7.5'%20r='1.5'%20/%3e%3cpath%20d='M4,15.125C4,15.604,4.364,16,4.812,16h11.375C16.636,16,17,15.611,17,15.125C17,13.932,15.829,12,14.969,12%20c-0.896,0-1.383,1.001-2.969,1.001C10.015,13.001,8.875,9,7.25,9S4,12.817,4,15.125z'%20/%3e%3cpath%20d='M20,6h-1v10c0,1.105-0.895,2-2,2H5c0,1.105,0.895,2,2,2h13c1.105,0,2-0.895,2-2V8C22,6.895,21.105,6,20,6z'%20/%3e%3c/svg%3e",Sn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M14,15.5V8h3l-5-5L7,8h3v7.5c0,0.3,0.2,0.5,0.5,0.5h3C13.8,16,14,15.8,14,15.5z'%20opacity='.3'%20/%3e%3cpath%20d='M2%2020H22V22H2zM13.5%2017h-3C9.7%2017%209%2016.3%209%2015.5V9H4.6L12%201.6%2019.4%209H15v6.5C15%2016.3%2014.3%2017%2013.5%2017zM11%2015h2V7h1.6L12%204.4%209.4%207H11V15z'%20/%3e%3c/svg%3e",kn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M14.984375%200.98632812%20A%201.0001%201.0001%200%200%200%2014%202L14%205%20A%201.0001%201.0001%200%201%200%2016%205L16%202%20A%201.0001%201.0001%200%200%200%2014.984375%200.98632812%20z%20M%205.796875%204.7988281%20A%201.0001%201.0001%200%200%200%205.1015625%206.515625L7.2226562%208.6367188%20A%201.0001%201.0001%200%201%200%208.6367188%207.2226562L6.515625%205.1015625%20A%201.0001%201.0001%200%200%200%205.796875%204.7988281%20z%20M%2024.171875%204.7988281%20A%201.0001%201.0001%200%200%200%2023.484375%205.1015625L21.363281%207.2226562%20A%201.0001%201.0001%200%201%200%2022.777344%208.6367188L24.898438%206.515625%20A%201.0001%201.0001%200%200%200%2024.171875%204.7988281%20z%20M%2015%208%20A%207%207%200%200%200%208%2015%20A%207%207%200%200%200%2015%2022%20A%207%207%200%200%200%2022%2015%20A%207%207%200%200%200%2015%208%20z%20M%202%2014%20A%201.0001%201.0001%200%201%200%202%2016L5%2016%20A%201.0001%201.0001%200%201%200%205%2014L2%2014%20z%20M%2025%2014%20A%201.0001%201.0001%200%201%200%2025%2016L28%2016%20A%201.0001%201.0001%200%201%200%2028%2014L25%2014%20z%20M%207.9101562%2021.060547%20A%201.0001%201.0001%200%200%200%207.2226562%2021.363281L5.1015625%2023.484375%20A%201.0001%201.0001%200%201%200%206.515625%2024.898438L8.6367188%2022.777344%20A%201.0001%201.0001%200%200%200%207.9101562%2021.060547%20z%20M%2022.060547%2021.060547%20A%201.0001%201.0001%200%200%200%2021.363281%2022.777344L23.484375%2024.898438%20A%201.0001%201.0001%200%201%200%2024.898438%2023.484375L22.777344%2021.363281%20A%201.0001%201.0001%200%200%200%2022.060547%2021.060547%20z%20M%2014.984375%2023.986328%20A%201.0001%201.0001%200%200%200%2014%2025L14%2028%20A%201.0001%201.0001%200%201%200%2016%2028L16%2025%20A%201.0001%201.0001%200%200%200%2014.984375%2023.986328%20z'%20/%3e%3c/svg%3e",zn="/assets/dark-CLyx0bJJ.svg",In="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%2018.071L6.429%2012.5%204.929%2014%2012%2021.071%2019.071%2014%2017.571%2012.5z'%20/%3e%3cpath%20d='M4%2010H20V12H4z'%20transform='rotate(-90%2012%2011)'%20/%3e%3c/svg%3e",En="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M4,19V5c0-1.657,1.343-3,3-3h7l6,6v11c0,1.657-1.343,3-3,3H7C5.343,22,4,20.657,4,19z'%20opacity='.35'%20/%3e%3cpath%20d='M14,6V2l6,6h-4C14.895,8,14,7.105,14,6z'%20/%3e%3c/svg%3e",An="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M23.277344%204.0175781C15.193866%204.3983176%209%2011.343391%209%2019.380859L9%2026.648438L6.3496094%2031.980469%20A%201.50015%201.50015%200%200%200%206.3359375%2032.009766C5.2696804%2034.277268%206.9957076%2037%209.5019531%2037L18%2037C18%2040.295865%2020.704135%2043%2024%2043C27.295865%2043%2030%2040.295865%2030%2037L38.496094%2037C41.002339%2037%2042.730582%2034.277829%2041.664062%2032.009766%20A%201.50015%201.50015%200%200%200%2041.650391%2031.980469L39%2026.648438L39%2019C39%2010.493798%2031.863289%203.6133643%2023.277344%204.0175781%20z%20M%2023.417969%207.0136719C30.338024%206.6878857%2036%2012.162202%2036%2019L36%2027%20A%201.50015%201.50015%200%200%200%2036.15625%2027.667969L38.949219%2033.289062C39.128826%2033.674017%2038.921017%2034%2038.496094%2034L9.5019531%2034C9.077027%2034%208.8709034%2033.674574%209.0507812%2033.289062C9.0507812%2033.289062%209.0507812%2033.287109%209.0507812%2033.287109L11.84375%2027.667969%20A%201.50015%201.50015%200%200%200%2012%2027L12%2019.380859C12%2012.880328%2016.979446%207.3169324%2023.417969%207.0136719%20z%20M%2021%2037L27%2037C27%2038.674135%2025.674135%2040%2024%2040C22.325865%2040%2021%2038.674135%2021%2037%20z'%20/%3e%3c/svg%3e",Mn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%206C6.9280619%206%204%208.9280619%204%2012.5L4%2028.5L4%2034.535156C4%2036.486795%206.3899087%2037.705105%207.96875%2036.558594%20A%201.50015%201.50015%200%200%200%207.9707031%2036.558594L12.291016%2033.416016C13.114957%2036.061625%2015.594339%2038%2018.5%2038L31.011719%2038L40.029297%2044.558594%20A%201.50015%201.50015%200%200%200%2040.03125%2044.558594C41.610044%2045.705105%2044%2044.486795%2044%2042.535156L44%2036.5L44%2020.5C44%2016.928062%2041.071938%2014%2037.5%2014L36%2014L36%2012.5C36%208.9280619%2033.071938%206%2029.5%206L10.5%206%20z%20M%2010.5%209L29.5%209C31.450062%209%2033%2010.549938%2033%2012.5L33%2023.5C33%2025.450062%2031.450062%2027%2029.5%2027L16.5%2027%20A%201.50015%201.50015%200%200%200%2015.617188%2027.287109L7%2033.554688L7%2028.5L7%2012.5C7%2010.549938%208.5499381%209%2010.5%209%20z%20M%2036%2017L37.5%2017C39.450062%2017%2041%2018.549938%2041%2020.5L41%2036.5L41%2041.554688L32.382812%2035.287109%20A%201.50015%201.50015%200%200%200%2031.5%2035L18.5%2035C16.549938%2035%2015%2033.450062%2015%2031.5L15%2031.445312L16.988281%2030L29.5%2030C33.071938%2030%2036%2027.071938%2036%2023.5L36%2017%20z'%20/%3e%3c/svg%3e",$n="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M5%201L10.3125%2011L4%2011L1%207L0%207L1%2013L0%2019L1%2019L4%2015L10.3125%2015L5%2025L7.1875%2025L15.90625%2015L24%2015C25.101563%2015%2026%2014.101563%2026%2013C26%2011.898438%2025.101563%2011%2024%2011L15.90625%2011L7.1875%201Z'%20/%3e%3c/svg%3e",Tn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M5.40625%205.40625C-0.441406%2011.253906%20-0.441406%2020.746094%205.40625%2026.59375L6.8125%2025.1875C1.726563%2020.101563%201.726563%2011.898438%206.8125%206.8125%20Z%20M%2026.59375%205.40625L25.1875%206.8125C30.273438%2011.898438%2030.273438%2020.101563%2025.1875%2025.1875L26.59375%2026.59375C32.441406%2020.746094%2032.441406%2011.253906%2026.59375%205.40625%20Z%20M%209.625%209.625C6.117188%2013.132813%206.117188%2018.867188%209.625%2022.375L11.0625%2020.9375C8.320313%2018.195313%208.320313%2013.804688%2011.0625%2011.0625%20Z%20M%2022.375%209.625L20.9375%2011.0625C23.679688%2013.804688%2023.679688%2018.195313%2020.9375%2020.9375L22.375%2022.375C25.882813%2018.867188%2025.882813%2013.132813%2022.375%209.625%20Z%20M%2016%2013C14.355469%2013%2013%2014.355469%2013%2016C13%2017.644531%2014.355469%2019%2016%2019C17.644531%2019%2019%2017.644531%2019%2016C19%2014.355469%2017.644531%2013%2016%2013%20Z%20M%2016%2015C16.5625%2015%2017%2015.4375%2017%2016C17%2016.5625%2016.5625%2017%2016%2017C15.4375%2017%2015%2016.5625%2015%2016C15%2015.4375%2015.4375%2015%2016%2015Z'%20/%3e%3c/svg%3e",Un="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='240'%20height='240'%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWa'%20x1='21.302'%20x2='27.254'%20y1='21.302'%20y2='27.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='24'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWa)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWb'%20x1='21.302'%20x2='27.254'%20y1='7.302'%20y2='13.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='10'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWb)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWc'%20x1='21.302'%20x2='27.254'%20y1='35.302'%20y2='41.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='38'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWc)'%20/%3e%3c/svg%3e",Rn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L4%203L4%205L20%205L20%203L15%203L14%202L10%202%20z%20M%205%207L5%2022L14.220703%2022L16.230469%2020L14%2020L14%209L16%209L16%2015.978516L16.464844%2015.515625L17.878906%2014.101562L19%2015.222656L19%207L5%207%20z%20M%208%209L10%209L10%2020L8%2020L8%209%20z%20M%2017.878906%2016.929688L16.464844%2018.34375L18.585938%2020.464844L16.464844%2022.585938L17.878906%2024L20%2021.878906L22.121094%2024L23.535156%2022.585938L21.414062%2020.464844L23.535156%2018.34375L22.121094%2016.929688L20%2019.050781L17.878906%2016.929688%20z'%20/%3e%3c/svg%3e",Bn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M20.011,3.989c-1.318-1.318-3.455-1.318-4.773,0L4.208,14.998c-0.302,0.302-0.503,0.689-0.576,1.11l-0.615,3.567c-0.133,0.772,0.538,1.442,1.31,1.308l3.525-0.613c0.418-0.073,0.804-0.273,1.104-0.573L20.011,8.761C21.33,7.443,21.33,5.307,20.011,3.989z'%20opacity='.35'%20/%3e%3cpolygon%20points='13.075,6.144%2017.848,10.917%2019.832,8.94%2015.059,4.167'%20/%3e%3cpath%20d='M3.392,17.5l-0.375,2.175c-0.133,0.772,0.538,1.442,1.31,1.308l2.171-0.378L3.392,17.5z'%20/%3e%3c/svg%3e",Fn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M16.414,7.586c-0.781-0.781-2.047-0.781-2.828,0l-6,6c-0.781,0.781-0.781,2.047,0,2.828c0.781,0.781,2.047,0.781,2.828,0l6-6C17.195,9.633,17.195,8.367,16.414,7.586z'%20/%3e%3cpath%20d='M20.389,3.611c-2.148-2.148-5.63-2.148-7.778,0c-0.171,0.171-0.829,0.829-1,1c-1.548,1.548-1.963,3.786-1.279,5.722%20c-1.936-0.684-4.173-0.27-5.721,1.278c-0.171,0.171-0.829,0.829-1,1c-2.148,2.148-2.148,5.63,0,7.778%20c2.148,2.148,5.63,2.148,7.778,0c0.171-0.171,0.829-0.829,1-1c1.548-1.548,1.963-3.786,1.279-5.722%20c1.936,0.684,4.173,0.27,5.721-1.278c0.171-0.171,0.829-0.829,1-1C22.537,9.241,22.537,5.759,20.389,3.611z'%20opacity='.35'%20/%3e%3c/svg%3e",Pn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20/%3e%3c/svg%3e",On="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20fill='%238D8D8D'%20/%3e%3c/svg%3e",Dn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M19.999,3H4.01c-1.1,0-2.001,0.9-2.001,2L2,16.999C2,18.104,2.895,19,4,19h1.499c0.276,0,0.5,0.224,0.5,0.5v2.086%20c0,0.891,1.077,1.337,1.707,0.707l3-3C10.894,19.105,11.148,19,11.413,19h8.586c1.1,0,2-0.9,2-2V5C21.999,3.9,21.099,3,19.999,3z%20M15.903,15c-0.492,0-0.883-0.363-0.988-0.843C14.472,12.147,12.455,12.006,12,12V14c0,0.404-0.243,0.769-0.617,0.924%20C11.259,14.975,11.129,15,11,15c-0.26,0-0.516-0.102-0.707-0.293l-3-3c-0.391-0.391-0.391-1.023,0-1.414l3-3%20c0.286-0.286,0.715-0.371,1.09-0.217C11.757,7.231,12,7.595,12,8v2v0c1.535,0,4.284,0.823,4.883,3.773%20C17.011,14.403,16.545,15,15.903,15z'%20fill='%23050505'%20/%3e%3c/svg%3e",Hn="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='-9.31019674359186%20-9.31019674359186%20200.60019674359185%20200.59919674359185'%3e%3clinearGradient%20id='a'%20x1='47.061%25'%20x2='47.061%25'%20y1='-3.394%25'%20y2='96.606%25'%3e%3cstop%20offset='0'%20stop-color='%2337aeff'/%3e%3cstop%20offset='.05'%20stop-color='%2337aeff'/%3e%3cstop%20offset='1'%20stop-color='%231861f7'/%3e%3c/linearGradient%3e%3cg%20fill='none'%3e%3cpath%20d='M0%2095.645c0%2052.823%2042.822%2095.644%2095.645%2095.644%2052.823%200%2095.644-42.821%2095.644-95.644C191.29%2042.822%20148.468%200%2095.645%200A95.617%2095.617%200%200%200%200%2095.645'%20fill='url(%23a)'/%3e%3cpath%20d='M151.421%2099.986a9.095%209.095%200%200%200-3.901-8.737%2018.08%2018.08%200%200%200%203.6-8.628c0-8.463-7.941-10.99-20.168-10.99-7.27.08-14.51.936-21.597%202.555.66-3.627%205.496-14.15%205.496-17.667%200-7.31-1.731-16.486-8.436-19.976a11.925%2011.925%200%200%200-6.154-1.593c-2.68-.126-5.303.8-7.309%202.583a6.32%206.32%200%200%200-.742%203.681l1.21%2013.738c0%2010.99-16.899%2024.729-16.899%2040.528v33.136c0%205.88%207.886%2010.056%2019.234%2010.056h31.46c8.243%200%2010.084-1.428%2012.2-5.275a7.583%207.583%200%200%200-.166-8.023%2012.364%2012.364%200%200%200%207.749-8.93c.487-2.412.118-4.92-1.044-7.089a9.48%209.48%200%200%200%205.495-9.369M48.743%2080.945h9.836a8.243%208.243%200%200%201%208.243%208.243V135.1a8.243%208.243%200%200%201-8.243%208.242h-9.836a8.243%208.243%200%200%201-8.243-8.242V89.298a8.243%208.243%200%200%201%208.243-8.243'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",Vn="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3e%3clinearGradient%20id='a'%20x1='50%25'%20x2='50%25'%20y1='0%25'%20y2='100%25'%3e%3cstop%20offset='0'%20stop-color='%23f65e7a'/%3e%3cstop%20offset='.051'%20stop-color='%23f65e7a'/%3e%3cstop%20offset='.1'%20stop-color='%23f65d79'/%3e%3cstop%20offset='.146'%20stop-color='%23f55c78'/%3e%3cstop%20offset='.191'%20stop-color='%23f45b76'/%3e%3cstop%20offset='.233'%20stop-color='%23f35974'/%3e%3cstop%20offset='.274'%20stop-color='%23f25771'/%3e%3cstop%20offset='.314'%20stop-color='%23f1546f'/%3e%3cstop%20offset='.353'%20stop-color='%23f0526b'/%3e%3cstop%20offset='.39'%20stop-color='%23ee4f68'/%3e%3cstop%20offset='.427'%20stop-color='%23ed4b64'/%3e%3cstop%20offset='.464'%20stop-color='%23eb4860'/%3e%3cstop%20offset='.5'%20stop-color='%23e9445c'/%3e%3cstop%20offset='.536'%20stop-color='%23e84057'/%3e%3cstop%20offset='.573'%20stop-color='%23e63c53'/%3e%3cstop%20offset='.61'%20stop-color='%23e5374e'/%3e%3cstop%20offset='.647'%20stop-color='%23e33349'/%3e%3cstop%20offset='.686'%20stop-color='%23e22e44'/%3e%3cstop%20offset='.726'%20stop-color='%23e02940'/%3e%3cstop%20offset='.767'%20stop-color='%23df253b'/%3e%3cstop%20offset='.809'%20stop-color='%23de2037'/%3e%3cstop%20offset='.854'%20stop-color='%23dd1c33'/%3e%3cstop%20offset='.9'%20stop-color='%23dd1830'/%3e%3cstop%20offset='.949'%20stop-color='%23dc152e'/%3e%3cstop%20offset='1'%20stop-color='%23dc142d'/%3e%3c/linearGradient%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='96'%20cy='96'%20fill='url(%23a)'%20r='96'/%3e%3cpath%20d='M95.926%2070.264c1.666-5.311%205.057-9.77%2010.171-13.374%208.485-5.982%2029.714-7.652%2040.268%208.14%2010.555%2015.791%205.613%2037.04-10.554%2053.746-10.555%2010.905-23.674%2021.075-39.358%2030.508a2%202%200%200%201-2.018.026c-13.021-7.386-26.062-17.564-39.12-30.534-20.1-19.962-21.546-37.989-10.773-53.747%2010.772-15.757%2031.73-14.12%2040.215-8.14%205.115%203.606%208.52%208.065%2010.215%2013.377a.5.5%200%200%200%20.954-.002z'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",Gn="/assets/facebook-reaction-sad-B-n53w3A.svg",Wn="/assets/facebook-reaction-wow-DhoYfFCp.svg",Yn="data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201500%201500'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:url(%23SVGID_1_)}.st1{fill:%23262c38}.st2{fill:none;stroke:%23262c38;stroke-width:60;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}%3c/style%3e%3clinearGradient%20id='SVGID_1_'%20gradientUnits='userSpaceOnUse'%20x1='750'%20y1='1501.519'%20x2='750'%20y2='4.759'%20gradientTransform='matrix(1%200%200%20-1%200%201499.72)'%3e%3cstop%20offset='.098'%20stop-color='%23f05766'/%3e%3cstop%20offset='.25'%20stop-color='%23f3766a'/%3e%3cstop%20offset='.826'%20stop-color='%23ffda6b'/%3e%3c/linearGradient%3e%3ccircle%20class='st0'%20cx='750'%20cy='750'%20r='750'/%3e%3ccircle%20class='st1'%20cx='416.7'%20cy='947'%20r='73.7'/%3e%3ccircle%20class='st1'%20cx='1082.7'%20cy='947'%20r='73.7'/%3e%3cpath%20class='st2'%20d='M205.9%20805.1s120.5%2093.7%20423.4%2093.7M1291.9%20805.1s-120.5%2093.7-423.4%2093.7'/%3e%3cpath%20class='st1'%20d='M987.6%201211.4c0%2041.7-106.7%2043.3-238.4%2043.3s-238.4-1.7-238.4-43.3c0-36.8%20109.9-54.6%20241.5-54.6s235.3%2017.7%20235.3%2054.6z'/%3e%3c/svg%3e",qn="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3e%3cradialGradient%20id='a'%20cy='0%25'%20gradientTransform='matrix(0%201%20-1.26314%200%20.5%20-.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%23fce16b'/%3e%3cstop%20offset='.11'%20stop-color='%23fce16b'/%3e%3cstop%20offset='.205'%20stop-color='%23fce06a'/%3e%3cstop%20offset='.288'%20stop-color='%23fcdf69'/%3e%3cstop%20offset='.36'%20stop-color='%23fcdd68'/%3e%3cstop%20offset='.424'%20stop-color='%23fbda66'/%3e%3cstop%20offset='.483'%20stop-color='%23fbd764'/%3e%3cstop%20offset='.537'%20stop-color='%23fbd361'/%3e%3cstop%20offset='.591'%20stop-color='%23facf5e'/%3e%3cstop%20offset='.644'%20stop-color='%23fac959'/%3e%3cstop%20offset='.701'%20stop-color='%23f9c254'/%3e%3cstop%20offset='.763'%20stop-color='%23f8bb4e'/%3e%3cstop%20offset='.832'%20stop-color='%23f8b147'/%3e%3cstop%20offset='.91'%20stop-color='%23f7a73d'/%3e%3cstop%20offset='1'%20stop-color='%23f69a31'/%3e%3c/radialGradient%3e%3cradialGradient%20id='b'%20cy='100%25'%20gradientTransform='matrix(0%20-1%201.136%200%20-.636%201.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%2383370e'/%3e%3cstop%20offset='.226'%20stop-color='%2383370e'/%3e%3cstop%20offset='1'%20stop-color='%23482213'/%3e%3c/radialGradient%3e%3cradialGradient%20id='c'%20cy='0%25'%20gradientTransform='matrix(0%201%20-.7355%200%20.5%20-.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%23f75b73'/%3e%3cstop%20offset='1'%20stop-color='%23c51f2d'/%3e%3c/radialGradient%3e%3cfilter%20id='d'%20height='116.4%25'%20width='112.8%25'%20x='-6.4%25'%20y='-8.2%25'%3e%3cfeGaussianBlur%20in='SourceGraphic'%20stdDeviation='1'/%3e%3c/filter%3e%3cfilter%20id='e'%20height='116.4%25'%20width='112.8%25'%20x='-6.4%25'%20y='-8.2%25'%3e%3cfeGaussianBlur%20in='SourceGraphic'%20stdDeviation='1'/%3e%3c/filter%3e%3clinearGradient%20id='f'%20x1='85.463%25'%20y1='19.628%25'%20y2='80.372%25'%3e%3cstop%20offset='0'%20stop-color='%23222845'/%3e%3cstop%20offset='.086'%20stop-color='%23222845'/%3e%3cstop%20offset='.166'%20stop-color='%23232946'/%3e%3cstop%20offset='.239'%20stop-color='%23232b48'/%3e%3cstop%20offset='.308'%20stop-color='%23242d4a'/%3e%3cstop%20offset='.374'%20stop-color='%23262f4c'/%3e%3cstop%20offset='.438'%20stop-color='%2327314e'/%3e%3cstop%20offset='.5'%20stop-color='%23283350'/%3e%3cstop%20offset='.562'%20stop-color='%23293552'/%3e%3cstop%20offset='.626'%20stop-color='%232a3754'/%3e%3cstop%20offset='.692'%20stop-color='%232b3956'/%3e%3cstop%20offset='.761'%20stop-color='%232c3a58'/%3e%3cstop%20offset='.834'%20stop-color='%232c3b59'/%3e%3cstop%20offset='.914'%20stop-color='%232d3c5a'/%3e%3cstop%20offset='1'%20stop-color='%232d3c5a'/%3e%3c/linearGradient%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='96'%20cy='96'%20fill='url(%23a)'%20r='96'/%3e%3cpath%20d='M96%20166c38.66%200%2064-31.34%2064-70%200-.66-7-13-64-13S32%2095.34%2032%2096c0%2038.66%2025.34%2070%2064%2070z'%20fill='url(%23b)'/%3e%3cpath%20d='M52.272%20148.44C60.808%20139.232%2077.192%20133%2096%20133s35.192%206.231%2043.728%2015.44C128.75%20159.368%20113.785%20166%2096%20166s-32.75-6.633-43.728-17.56z'%20fill='url(%23c)'/%3e%3cpath%20d='M143.907%2039.169c-8.207%202.389-27.788%2013.373-30.542%2017.594s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.582-8.024%2018.07-10.617%205.49-2.593%203.226-11.026-4.982-8.636z'%20fill='%23fff3c5'%20filter='url(%23d)'%20opacity='.449'/%3e%3cpath%20d='M64.797%2039.169C56.59%2041.558%2037.01%2052.542%2034.255%2056.763s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.583-8.024%2018.071-10.617%205.488-2.593%203.225-11.026-4.983-8.636z'%20fill='%23fff3c5'%20filter='url(%23e)'%20opacity='.449'%20transform='matrix(-1%200%200%201%20112.83%200)'/%3e%3cg%20fill='url(%23f)'%3e%3cpath%20d='M143.907%2035.169c-8.207%202.389-27.788%2013.373-30.542%2017.594s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.582-8.024%2018.07-10.617%205.49-2.593%203.226-11.026-4.982-8.636zM48.032%2035.169c8.208%202.389%2027.789%2013.373%2030.543%2017.594s.61%209.333-2.896%2010.056c-9.101%200-24.786%202.671-35.423%207.776-5.94%203.015-9.499-5.293-5.66-7.776%205.597-4.395%2014.438-7.194%2026.525-8.397-.992-3.035-12.583-8.024-18.071-10.617-5.489-2.593-3.225-11.026%204.982-8.636z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Zn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M43.470703%208.9863281%20A%201.50015%201.50015%200%200%200%2042.439453%209.4394531L16.5%2035.378906L5.5605469%2024.439453%20A%201.50015%201.50015%200%201%200%203.4394531%2026.560547L15.439453%2038.560547%20A%201.50015%201.50015%200%200%200%2017.560547%2038.560547L44.560547%2011.560547%20A%201.50015%201.50015%200%200%200%2043.470703%208.9863281%20z'%20/%3e%3c/svg%3e",Qn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M13%2042C12.472656%2042%2011.960938%2041.789063%2011.585938%2041.414063L0.585938%2030.414063C-0.195313%2029.632813%20-0.195313%2028.367188%200.585938%2027.585938C1.367188%2026.804688%202.632813%2026.804688%203.414063%2027.585938L12.859375%2037.03125L35.460938%209.726563C36.164063%208.871094%2037.425781%208.753906%2038.273438%209.460938C39.125%2010.164063%2039.246094%2011.425781%2038.539063%2012.273438L14.539063%2041.273438C14.183594%2041.710938%2013.65625%2041.972656%2013.09375%2041.996094C13.0625%2042%2013.03125%2042%2013%2042%20Z%20M%2024.09375%2041.996094C24.65625%2041.972656%2025.179688%2041.710938%2025.539063%2041.273438L49.539063%2012.273438C50.246094%2011.425781%2050.125%2010.164063%2049.273438%209.460938C48.425781%208.753906%2047.164063%208.875%2046.460938%209.726563L23.859375%2037.03125L23.414063%2036.585938C22.632813%2035.804688%2021.367188%2035.804688%2020.585938%2036.585938C19.804688%2037.367188%2019.804688%2038.632813%2020.585938%2039.414063L22.585938%2041.414063C22.960938%2041.789063%2023.472656%2042%2024%2042C24.03125%2042%2024.0625%2042%2024.09375%2041.996094Z'%20/%3e%3c/svg%3e",Jn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M12%204C4%204%201%2012%201%2012C1%2012%204%2020%2012%2020C20%2020%2023%2012%2023%2012C23%2012%2020%204%2012%204%20z%20M%2012%207C14.761%207%2017%209.239%2017%2012C17%2014.761%2014.761%2017%2012%2017C9.239%2017%207%2014.761%207%2012C7%209.239%209.239%207%2012%207%20z%20M%2012%209%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%2012%2015%20A%203%203%200%200%200%2015%2012%20A%203%203%200%200%200%2012%209%20z'%20/%3e%3c/svg%3e",_n={sent:Zn,eye:Jn,seen:Qn,link:Fn,reply:Dn,sendLetter:Pn,sendingLetter:On,deleteIcon:Rn,editPencil:Bn,moreOption:Un,download:In,offline:$n,online:Tn,chat:Mn,notification:An,file:En,light:kn,dark:zn,upload:Sn,trueIcon:Ut,falseIcon:Rt,error:Bt,down:Ft,back:Pt,thumbUp:Ot,redo:Dt,next:Ht,finish:Vt,history:Gt,trash:Wt,add:Yt,edit:qt,save:Zt,up:Qt,clipboard:Jt,admin:_t,menu:Kt,home:Xt,result:en,help:sn,about:tn,update:nn,faq:an,plus:on,minus:rn,share:cn,review:ln,fullScreen:dn,search:mn,searchLeft:un,close:xn,copy:hn,google:gn,refresh:fn,exit:pn,exam:jn,like:vn,liked:wn,comment:Cn,send:yn,logout:Ln,user:bn,image:Nn,facebookAngry:Yn,facebookHaha:qn,facebookLike:Hn,facebookLove:Vn,facebookSad:Gn,facebookWow:Wn};function ve(s){return _n[s]||null}function Kn(s,i){let t=!1;return i.forEach(o=>{o.id===s&&(t=!0)}),t}let N2;function Xn(s){s(!0),clearTimeout(N2),N2=setTimeout(()=>{s(!1)},[4e3])}function ze(s){scrollTo({top:0,...{behavior:s}})}function i0(){const s=window.innerHeight,t=document.documentElement.scrollHeight-s;scrollTo({top:t+200})}function ei(s){document.body.style.overflow=s}function B0(s,i){n.useEffect(()=>{const t=o=>{s.current&&!s.current.contains(o.target)&&i(!1)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[])}function si(s){try{const i=s.split(":"),t=Number(i[0]),o=Number(i[1]),a=Number(i[2]);return`${q0(t,"hours")} ${q0(o,"minutes")} ${q0(a,"seconds")}`}catch{return null}}function q0(s,i){return s?`${s} ${i}`:""}function S2(s){return s>=10?s:`0${s}`}const F0=(s,i)=>{const t=je.get("userId");let o;return s.forEach(a=>{a.id===i&&(o=a)}),o?o.seenBy.includes(t):!1},ti=(s,i)=>{let t=0;return s.forEach(o=>{F0(s,o.id)||(t+=1)}),!!(t>0&&(i!=null&&i.name))};function N0(s){n.useEffect(()=>{const i=()=>{const t=window.scrollY;J2(`SEA-scrollPosition-${s}`,t)};return window.addEventListener("scroll",i),()=>{window.removeEventListener("scroll",i)}},[])}function P0(s){n.useEffect(()=>{const i=X0(`SEA-scrollPosition-${s}`);i&&scrollTo(0,parseInt(i,10))},[])}async function $e(s=null,i,t=null){try{console.log("Fetching counts...");const o=await s2(t||s);i(o.data().count)}catch(o){console.log(o.message)}}async function ni(s,i){const t=k2(s,i);try{if(t)return console.log("Fetched from the array..."),t;{const o=$(H(T,"users"),i);console.log("fetching user...");const a=await Ie(o);if(a.exists()){const r={uid:a.id,...a.data()};return k2(s,a.id)?console.log("User already exists in the array:"):s.push(r),r}else return console.log("No user found in Firestore"),null}}catch(o){return console.error("Error fetching user:",o.message),null}}function k2(s,i){return s.find(t=>t.uid===i)}function me(s,i,t,o=()=>{},a=[],r=150){n.useEffect(()=>{(async()=>{o(!0);const l=await ni(i,s);t(l),de(o,r)})()},a)}const ii=()=>{const{headerTitle:s,setUserId:i,setUserData:t,openSnackbar:o,userId:a}=n.useContext(M),r=q(),c=t2(),l=c.pathname!=="/"?c.pathname:"/app";n.useEffect(()=>{document.title="SEA • "+s||"STAR EDUCATION ACADEMY"},[s]),n.useEffect(()=>{const d=je.get("userId");if(!d)return;const u=Te($(T,"users",d),m=>{if(m.exists()){const x={uid:m.id,...m.data()};t(x)}else i(null),je.remove("userId"),r("/login"),console.log("No user found..."),o("No user found")},m=>{console.log(m.message),o(m.message)});return()=>u()},[a]),n.useEffect(()=>{const d=je.get("userId")||null;d?(i(d),r(l)):r("/login")},[])},ai=({userId:s})=>(n.useEffect(()=>{if(s){const i=w0(C0,`/status/${s}`),t={status:"online",lastChanged:b2()},o={status:"offline",lastChanged:b2()},a=w0(C0,".info/connected");$0(a,r=>{r.val()===!0&&Ss(i,t),ks(i).set(o)})}},[s]),null),be=({isLoading:s,text:i})=>{if(s)return e.jsx(w,{sx:{bgcolor:"background.default",position:"fixed",display:"flex",alignItems:"center",top:0,bottom:0,right:0,left:0},className:"fixed top-[70px] right-0 left-0 bottom-0 flex items-center justify-center",children:e.jsxs(w,{className:"flex flex-col items-center justify-center gap-y-4",children:[e.jsx("img",{loading:"lazy",className:"w-20 rounded-lg",src:"/images/sea-logo.jpg"}),e.jsxs(w,{className:"h-3 w-[200px] grid justify-center",children:[e.jsx(I,{mb:2,children:i}),e.jsx(Fs,{})]})]})})},ne=({image:s,name:i,size:t,active:o=!1})=>{const a=s&&s.trim(),r=i&&i.trim(),c=a&&r,l=()=>{const d=i.trim().split(" ");return d.length<=3?d[0][0].toUpperCase():`${d[0][0]}${d[1][0]}`.toUpperCase()};if(a||c)return e.jsx(W0,{sx:{bgcolor:Ps[500],height:t,width:t},alt:i,src:s});if(r)return e.jsx(W0,{sx:{height:t,width:t,bgcolor:Os[500]},children:l()});if(!c)return e.jsx(W0,{sx:{bgcolor:Ds[500],height:t,width:t},children:"U"})},z2=({options:s,setValue:i,label:t,gender:o})=>{const[a,r]=n.useState(o),c=l=>{r(l.target.value)};return n.useEffect(()=>{i(a)},[a]),n.useEffect(()=>{r(o)},[o]),e.jsx(Hs,{size:"small",variant:"standard",id:t,labelId:t,value:a,onChange:c,label:t,displayEmpty:!0,children:s.map(l=>e.jsx(Vs,{value:l.value,children:l.label},l.value))})},He=({data:s})=>{const{yesButton:i,noButton:t,text:o,setValue:a,value:r}=s;return e.jsxs(ge,{open:!!r,onClose:()=>a(!1),children:[e.jsx(Gs,{fontSize:"1.2rem",children:o}),e.jsxs(ye,{direction:"row",alignItems:"center",justifyContent:"center",gap:1,margin:1,children:[e.jsx(F,{variant:"outlined",color:"warning",size:"small",onClick:i,children:"Yes"}),e.jsx(F,{variant:"outlined",color:"warning",size:"small",onClick:t,children:"No"})]})]})},oi=({openChangePassword:s,setOpenChangePassword:i,openMessage:t})=>{n.useContext(M);const[o,a]=n.useState(""),[r,c]=n.useState(""),l=async()=>{const x=Ce.currentUser;o.trim()&&r.trim()?await d(x):t("Enter both old and new password")},d=async x=>{try{const g=Is.credential(x.email,o);await Es(x,g),await As(x,r),t("Your password is changed successfully"),i(!1)}catch(g){g.code==="auth/invalid-credentail"?t("Your old password is wrong"):t(`Re-authentication failed: ${g.message}`)}},u=()=>{try{l()}catch(x){t(x.message)}},m=async()=>{try{await zs(Ce,Ce.currentUser.email),t("Password rest email was sent to "+Ce.currentUser.email)}catch(x){t(x.message)}};return e.jsxs(ge,{open:s,onClose:()=>i(!1),children:[e.jsxs(w,{m:2,children:[e.jsxs(w,{mb:2,children:[e.jsx(I,{variant:"h6",children:"Change your account password"}),e.jsx(I,{variant:"caption",children:"Only change the password if you need to and keep your password"})]}),e.jsxs(ye,{gap:2,children:[e.jsx(le,{type:"password",size:"small",label:"Enter old password",value:o,onChange:x=>a(x.target.value)}),e.jsx(le,{type:"password",size:"small",label:"Enter new password",value:r,onChange:x=>c(x.target.value)})]}),e.jsx(F,{size:"small",onClick:u,variant:"outlined",sx:{mt:1},children:"Change"})]}),e.jsx(w,{pb:2,pl:2,pr:2,children:e.jsxs(I,{variant:"caption",children:["If you forgot your password,"," ",e.jsxs(F,{onClick:m,sx:{textDecoration:"underline"},size:"small",children:[" ","click here"]})," ","to reset."]})})]})},ri=({openViewPassword:s,setOpenViewPassword:i})=>{const{userData:t}=n.useContext(M),[o,a]=n.useState(!1),r=()=>{var c;return(c=t==null?void 0:t.password)!=null&&c.trim()?t==null?void 0:t.password:"You logged in with Google. So, your passwod is just blank."};return e.jsx(ge,{open:s,onClose:()=>i(!1),children:e.jsxs(w,{m:3,children:[e.jsx(I,{variant:"h6",mb:2,children:"Your account password"}),e.jsxs(ye,{gap:2,children:[e.jsx(I,{children:o?r():"*************"}),e.jsx(F,{onClick:()=>a(!o),size:"small",sx:{textDecoration:"underline"},children:o?"Hide":"View"})]})]})})},ci=()=>{var Je;const{userData:s,setHeaderTitle:i,setSnackbarOpen:t,setSnackbarMessage:o,setUserId:a,mode:r,setMode:c,userId:l}=n.useContext(M),[d,u]=n.useState((s==null?void 0:s.name)||""),[m,x]=n.useState((s==null?void 0:s.bio)||""),[g,h]=n.useState((s==null?void 0:s.gender)||""),[f,p]=n.useState(null),[S,L]=n.useState(!1),[j,y]=n.useState(!1),N=X(),[v,A]=n.useState(!0),k=n.useRef(null),B=$(T,"users",je.get("userId")),E=(s==null?void 0:s.nameChangeCount)||0,b=(Je=s==null?void 0:s.lastNameChangeDate)==null?void 0:Je.toDate(),C=new Date,U=C.getMonth()===(b==null?void 0:b.getMonth())&&C.getFullYear()===(b==null?void 0:b.getFullYear()),[O,D]=n.useState(!1),[W,G]=n.useState(!1),[Y,Z]=n.useState(null);n.useEffect(()=>{Ms(Ce,_=>{_&&(Z(_),A(!1))})},[Ce]);const ie=q(),J=_=>{t(!0),o(_)};B0(k,L);const re=()=>(s==null?void 0:s.gender)!==g;n.useEffect(()=>{i("Settings")},[]),n.useEffect(()=>{(async()=>{!U&&(s!=null&&s.name)&&await ue(B,{nameChangeCount:0,lastNameChangeDate:C})})()},[s]);const ee=async(_,Se)=>{if(d.trim())try{await ue(B,_),J(Se)}catch(pe){J(pe.message)}},ce=()=>{const _=new Date;if(U)if(E<3){const Se={name:d.trim(),nameChangeCount:E+1,lastNameChangeDate:_};ee(Se,"Updated name successfully!")}else J("You can only change your name 3 times per month!");else{const Se={name:d.trim(),nameChangeCount:1,lastNameChangeDate:_};ee(Se,"Updated name successfully!")}};n.useEffect(()=>{u(s==null?void 0:s.name),h(s==null?void 0:s.gender),x(s==null?void 0:s.bio)},[s]);const Me=async()=>{const _=await b0(f,{maxSizeMB:.3,maxWidthOrHeight:300,useWebWorker:!0}),Se=Pe(De,`profile/${s==null?void 0:s.uid}/${s==null?void 0:s.name}-${f.name}`);try{const pe=$(T,"users",s==null?void 0:s.uid);J("Uploading image...");const Be=await o0(Se,_),n0={image:await r0(Be.ref)};await ue(pe,n0),p(null),J("Updated profile picture successfully!")}catch(pe){J(pe.message)}},Ge=async()=>{try{await ue(B,{gender:g}),J("Updated gender successfully!")}catch(_){J("Error updating gender: "+_.message)}},Qe=async()=>{try{await ue(B,{bio:m}),J("Updated bio successfully!")}catch(_){J("Error updating bio: "+_.message)}},u0=()=>{f&&Me(),(d==null?void 0:d.trim())!==(s==null?void 0:s.name)&&ce(),re()&&Ge(),(m==null?void 0:m.trim())!==(s==null?void 0:s.bio)&&Qe()},S0=async()=>{try{await M2(Ce),je.remove("userId"),a(null),ie("/login")}catch(_){console.log(_.message)}};return e.jsxs(w,{color:"text.primary",className:"Settings m-2",children:[O&&e.jsx(oi,{openChangePassword:O,setOpenChangePassword:D,openMessage:J}),W&&e.jsx(ri,{openViewPassword:W,setOpenViewPassword:G}),e.jsx(He,{data:{value:j,yesButton:S0,noButton:()=>{y(!1)},text:"Are you sure to log out ?",setValue:y}}),e.jsx(be,{}),e.jsxs(w,{className:"",children:[e.jsxs("div",{className:"flex gap-x-2 items-center mt-2 mb-2",children:[e.jsx(I,{sx:{fontWeight:600},children:"My Account"}),e.jsx(F,{onClick:()=>ie(`/app/profile/${l}`),sx:{textTransform:"capitalize"},size:"small",children:"Go To My profile"})]}),e.jsxs(w,{bgcolor:"background.default",className:`border ${N.palette.mode==="light"?"border-slate-300":"border-slate-700"}  rounded-md shadow-lg`,children:[e.jsxs(w,{className:"p-2 flex flex-col items-center",children:[e.jsx(R,{placement:"left",title:"Change profile picture",arrow:!0,children:e.jsxs("label",{className:"relative size-20 cursor-pointer ",htmlFor:"imageInput",children:[s?e.jsx(ne,{size:80,name:(s==null?void 0:s.name)||d||"User",image:f?URL.createObjectURL(f):s==null?void 0:s.image}):e.jsx(z,{variant:"circular",width:"100%",height:"100%"}),e.jsx("input",{type:"file",accept:"image/*",id:"imageInput",className:"hidden ",onChange:_=>p(_.target.files[0])})]})}),e.jsxs("div",{ref:k,className:"flex mt-2 gap-x-2 items-center",children:[S?e.jsx(le,{name:"name",size:"small",variant:"standard",label:"Full Name",autoFocus:!0,value:d,onChange:_=>u(_.target.value),className:"pl-1 pr-1 w-auto font-bold",placeholder:"Enter your full name"}):e.jsx(e.Fragment,{children:s?e.jsx(I,{className:"font-bold",children:d||(s==null?void 0:s.name)||"Username"}):e.jsx(z,{height:40,width:150})}),s?e.jsx(R,{title:"Edit name",arrow:!0,children:e.jsx(V,{size:"small",onClick:()=>{L(!S)},className:" p-1  cursor-pointer",children:e.jsx(Ne,{sx:{width:20,height:20}})})}):e.jsx(z,{variant:"circular",height:20,width:20})]}),s?e.jsx(I,{x:{fontSize:"0.8rem"},className:"text-slate-500",children:(s==null?void 0:s.email)||"example@gmail.com"}):e.jsx(z,{height:30,width:120}),s?e.jsxs(I,{sx:{fontSize:"0.8rem"},children:["User ID: ",(s==null?void 0:s.uid)||"user12345"," ",e.jsx(R,{title:"Copy user ID",arrow:!0,children:e.jsx(V,{size:"small",onClick:()=>{navigator.clipboard.writeText(s==null?void 0:s.uid),J("UID copied to the clipboard")},className:" p-1  cursor-pointer",children:e.jsx(K0,{sx:{width:20,height:20}})})})]}):e.jsx(z,{height:30,width:180}),s?e.jsx(F,{startIcon:e.jsx(R2,{}),onClick:()=>y(!0),sx:{mt:2},variant:"outlined",children:"Log Out"}):e.jsx(z,{width:90,height:55})]}),e.jsx(w,{className:"p-2 flex justify-center border-t ",children:e.jsxs(ye,{direction:"row",sx:{width:"50%",alignItems:"center",justifyContent:"space-between"},children:[s?e.jsx(I,{variant:"subtitle1",children:"Gender"}):e.jsx(z,{height:45,width:70}),s?e.jsx(z2,{label:"Gender",gender:g,options:[{value:"male",label:"Male"},{value:"female",label:"Female"}],setValue:h}):e.jsx(z,{height:45,width:70})]})}),Y&&e.jsx(e.Fragment,{children:e.jsx(w,{className:"p-2 flex justify-center border-t border-b ",children:e.jsxs(ye,{direction:"row",sx:{width:"50%",alignItems:"center",justifyContent:"space-between"},children:[s?e.jsx(I,{variant:"subtitle1",children:"Password"}):e.jsx(z,{height:45,width:70}),s?e.jsx(ye,{direction:"row",children:e.jsx(F,{size:"small",sx:{textDecoration:"underline"},onClick:()=>D(!0),variant:"text",children:"Change"})}):e.jsx(z,{height:45,width:70})]})})}),e.jsx(w,{className:"p-2 flex justify-center border-t ",children:e.jsxs(ye,{direction:"row",sx:{width:"50%",alignItems:"center",justifyContent:"space-between"},children:[s?e.jsx(I,{variant:"subtitle1",children:"Theme"}):e.jsx(z,{height:45,width:70}),s?e.jsx(z2,{label:"Theme",gender:r,options:[{value:"system",label:"System"},{value:"light",label:"Light"},{value:"dark",label:"Dark"}],setValue:c}):e.jsx(z,{height:45,width:70})]})}),e.jsx(w,{className:"grid gap-y-2 p-2",children:e.jsx(w,{children:(s==null?void 0:s.name)&&e.jsxs(I,{variant:"caption",color:"error",mb:1,children:["You have changed your name ",`${E} of 3`," ",E>1?"times":"time"," this month!"]})})})]})]}),e.jsx(w,{className:"flex gap-x-2 mt-2",children:re()||f||(d==null?void 0:d.trim())!==(s==null?void 0:s.name)||(m==null?void 0:m.trim())!==(s==null?void 0:s.bio)?e.jsx(F,{variant:"outlined",onClick:u0,startIcon:e.jsx(B2,{}),children:"Update"}):""})]})},Z0=({data:s})=>{const{clickFn:i,image:t}=s,o=ve(t),a=()=>{i&&i()};return e.jsx("button",{onClick:a,className:"shadow-md border  rounded-full p-2 h-10 w-10  font-medium flex  justify-center items-center hover:opacity-70 transition-all",children:e.jsx("img",{loading:"lazy",src:o})})},li=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ze(s){const t=new Date().getTime()-s,o=Math.floor(t/1e3),a=Math.floor(o/60),r=Math.floor(a/60),c=Math.floor(r/24),l=Math.floor(c/7),d=Math.floor(c/30),u=Math.floor(d/12),m=new Date(s),x=m.getFullYear(),g=m.getMonth(),h=m.getDate(),f=`${li[g]} ${h}, ${x}`;if(u>0)return f;if(d>0)return`${f}`;if(l>0)return`${f}`;if(c>0)return`${c} ${c===1?"day":"days"} ago`;if(r>0)return`${r} ${r===1?"hour":"hours"} ago`;if(a>0)return`${a} ${a===1?"minute":"minutes"} ago`;if(o>0)return`${o} ${o===1?"second":"seconds"} ago`}const di=({message:s,bgColor:i="bg-slate-200"})=>e.jsx("div",{className:"z-30 fixed flex justify-center bottom-5 left-0 right-0 ",children:e.jsx("div",{className:`${i} font-bold p-3 rounded-lg`,children:s})}),l2=({text:s,length:i})=>{const t=q();return e.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[e.jsx(R,{title:"Navigate up",arrow:!0,children:e.jsx(V,{onClick:()=>t("/app/admin"),children:e.jsx(Xe,{})})}),e.jsxs("p",{children:[s," (",i,")"]})]})},_2=({options:s,handleClick:i,message:t,chatId:o,isComment:a,messageOption:r,setMessageOption:c,isOpened:l})=>{const{userId:d}=n.useContext(M),u=[{name:"like",image:"facebookLike"},{name:"love",image:"facebookLove"},{name:"haha",image:"facebookHaha"},{name:"wow",image:"facebookWow"},{name:"sad",image:"facebookSad"},{name:"angry",image:"facebookAngry"}],m=async g=>{const h=$(H($(H($(T,"chats",o),"messages"),t.id),"reactedBy"),d);await Ye(h,{uid:d,reactionType:g})},x=()=>a?l:!!r;return e.jsx(ge,{fullWidth:!0,open:x,onClose:i,children:e.jsxs("div",{className:"m-2 ",children:[a?e.jsx(I,{variant:"h6",children:"More Options"}):e.jsx("div",{className:" flex gap-x-1 rounded-md p-1",children:u.map(g=>e.jsx(R,{placement:"top",arrow:!0,title:g.name.toUpperCase(),children:e.jsx(V,{onClick:()=>{i(),m(g.name)},children:e.jsx("img",{loading:"lazy",className:"w-6",src:ve(g.image)})},g.name)}))}),e.jsx("div",{className:"grid gap-y-1 mt-2",children:s.map(g=>{if(g)return e.jsx(F,{sx:{justifyContent:"start"},startIcon:g.icon,className:"flex items-center gap-x-1 p-2 ",onClick:()=>{g.onClick(),i()},children:e.jsx("p",{children:g.text})},g.text)})})]})})},s0=({options:s,left:i="-left-[102px]",message:t,chatId:o,isComment:a})=>{const[r,c]=n.useState(!1),l=n.useRef(null);return B0(l,c),e.jsxs(e.Fragment,{children:[e.jsx(R,{title:"More options",arrow:!0,children:e.jsx(V,{onClick:()=>c(!0),children:e.jsx(F2,{})})}),r&&e.jsx(_2,{handleClick:()=>{c(!1)},moreOptionRef:l,options:s,message:t,chatId:o,isComment:a,isOpened:r})]})},I2=({data:s})=>{const{text:i,onChangeFn:t,value:o,placeholder:a}=s;return e.jsxs("div",{className:"grid items-center gap-y-2",children:[e.jsx("div",{className:"font-medium",children:i}),e.jsx(le,{onChange:t,value:o,size:"small",placeholder:a})]})},mi=({data:s})=>{const{links:i,setLinks:t,setIsLinkAdding:o,isLinkAdding:a}=s,[r,c]=n.useState(""),[l,d]=n.useState(""),u=r.trim()&&l.trim(),m=()=>{if(u){const x={id:i.length===0?1:i[i.length-1].id+1,title:r.trim(),link:l.trim()},g=[...i,x];t(g),o(!1)}};return e.jsx(ge,{open:a,onClose:()=>o(!1),children:e.jsxs(w,{m:4,children:[e.jsxs("div",{className:"grid gap-y-2",children:[e.jsx(le,{size:"small",value:r,onChange:x=>c(x.target.value),placeholder:"Enter title..."}),e.jsx(le,{size:"small",value:l,onChange:x=>d(x.target.value),placeholder:"Enter link..."})]}),e.jsx("div",{className:"mt-2",children:e.jsx(F,{variant:"outlined",startIcon:e.jsx(Ws,{}),onClick:m,children:"Add Link"})})]})})};function t0(s,i=15){const t=s==null?void 0:s.slice(0,i);return i>(s==null?void 0:s.length)?t:`${t}...`}function Ae(s,i,t="timestamp",o="older"){var c,l;const a=new Date((c=s[t])!=null&&c.seconds?s[t].seconds*1e3:s[t]),r=new Date((l=i[t])!=null&&l.seconds?i[t].seconds*1e3:i[t]);return o==="older"?a-r:r-a}function we(s){return s!=null&&s.seconds?s.seconds*1e3:s}const ui=({name:s,className:i,size:t="size-7"})=>e.jsx("img",{loading:"lazy",className:`${t} ${i}`,src:ve(s)}),Q=({text:s})=>e.jsx(w,{m:2,children:e.jsx("div",{children:s})}),xi=()=>{const{users:s,posts:i,setPosts:t,setHeaderTitle:o,userId:a}=n.useContext(M);X().palette;const c=H(T,"posts"),[l,d]=n.useState(!0),[u,m]=n.useState(!1),[x,g]=n.useState(null),[h,f]=n.useState("posts"),[p,S]=n.useState(null),[L,j]=n.useState(!1);n.useEffect(()=>{o("Admin - Posts")},[]),d0(c,[],t,d,m,!1,g);const y=async()=>{const v=$(T,"posts",L);await Re(v)};if(l)return e.jsx(be,{text:"Loading posts..."});if(u)return e.jsx(Q,{text:"No posts available"});if(x)return e.jsx(Q,{text:x});const N=()=>{switch(h){case"posts":return e.jsxs("div",{className:"grid gap-y-2",children:[e.jsx(He,{data:{yesButton:y,noButton:()=>j(!1),text:"Are you sure to delete this post?",setValue:j,value:L}}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(l2,{text:"Posts",length:i.length}),e.jsx(F,{size:"small",sx:{textDecoration:"underline"},onClick:()=>f("createPost"),children:"Create a post"})]}),e.jsx("div",{className:"grid border overflow-hidden shadow-md rounded-md border-slate-200 mb-2",children:i.sort((v,A)=>Ae(v,A,"time","newer")).map((v,A)=>{var k,B,E;return e.jsxs(w,{className:"overflow-hidden  cursor-pointer p-2 border-t   min-h-20 flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(hi,{post:v}),e.jsx("p",{className:"mb-2 break-words whitespace-normal",children:t0(v.description,25)}),e.jsxs("div",{className:"flex items-center gap-x-1",children:[v.images.length!==0&&e.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[e.jsx(Ys,{}),e.jsxs("span",{children:[v.images.length," ",v.images.length<=1?"image":"images"]})]}),v.files.length!==0&&e.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[e.jsx(qs,{}),e.jsxs("span",{children:[v.files.length," ",v.files.length<=1?"file":"files"]})]}),v.links&&((k=v==null?void 0:v.links)==null?void 0:k.length)!==0&&e.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[e.jsx(ui,{name:"link"}),e.jsxs("span",{children:[(B=v==null?void 0:v.links)==null?void 0:B.length," ",((E=v==null?void 0:v.links)==null?void 0:E.length)<=1?"link":"links"]})]}),v.draft&&e.jsx("div",{className:"p-1 min-h-9 flex items-center gap-x-1 rounded-md",children:e.jsx("span",{className:"font-bold text-red-500",children:"(Draft)"})})]})]}),e.jsx("div",{className:"flex items-center gap-x-1",children:e.jsx(s0,{isComment:!0,options:[{text:"Edit",icon:e.jsx(Ne,{}),onClick:()=>{S(v),f("createPost")}},{text:"Delete",icon:e.jsx(e0,{}),onClick:()=>j(v.id)}]})})]},`post-${v.id}`)})})]});case"createPost":return e.jsx(gi,{setPage:f,postData:p,setPostData:S})}};return e.jsx("div",{className:"m-5",children:N()})},hi=({post:s})=>{const{users:i}=n.useContext(M),[t,o]=n.useState(null),[a,r]=n.useState(!0);return me(s.uid,i,o,r,[],1200),e.jsxs("div",{className:"top-section flex mb-2 gap-x-2",children:[a?e.jsx(z,{variant:"circular",width:40,height:40}):e.jsx(ne,{image:t==null?void 0:t.image,name:t==null?void 0:t.name}),e.jsxs("div",{children:[a?e.jsx(z,{height:40,width:120}):e.jsx("div",{className:"font-medium",children:t==null?void 0:t.name}),e.jsx("div",{className:" text-sm",children:Ze(we(s.time))})]})]})},gi=({setPage:s,postData:i,setPostData:t})=>{const{openSnackbar:o,userId:a}=n.useContext(M),[r,c]=n.useState(i?i.images:[]),[l,d]=n.useState(null),[u,m]=n.useState(i?i.description:""),[x,g]=n.useState(i?i==null?void 0:i.files:[]),[h,f]=n.useState(i?(i==null?void 0:i.links)||[]:[]),[p,S]=n.useState(!1),L=u.trim()||r.length!==0||x.length!==0||h.length!==0,j=async(C=!1)=>{try{const U=H(T,"posts");await qe(U,{uid:a,time:he(),editedTime:he(),description:u,images:r,files:x,links:h,draft:C}),s("posts")}catch(U){console.log(U.message)}},y=async()=>{try{const C=$(T,"posts",i.id);await ue(C,{editedTime:he(),description:u,images:r,files:x,links:h,draft:!1}),s("posts")}catch(C){console.log(C.message)}},N=async()=>{try{if(i){const C=$(T,"posts",i.id);await ue(C,{editedTime:he(),description:u,images:r,files:x,links:h,draft:!0})}else j(!0);s("posts")}catch(C){console.log(C.message)}},v=async C=>{try{const U=await b0(C,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),O=`posts/${a}/${C.name}`,D=Pe(De,O);d("Uploading image...");const W=await o0(D,U),G=await r0(W.ref),Y=[...r,{name:C.name,path:O,imageURL:G}];c(Y),d("Uploaded image"),setTimeout(()=>{d(null)},3e3)}catch(U){d(U.message),setTimeout(()=>{d(null)},3e3)}},A=async C=>{try{const U=`posts/${a}/${C.name}`,O=Pe(De,U);d("Uploading file...");const D=await o0(O,C),W=await r0(D.ref),G=[...x,{name:C.name,path:U,fileURL:W,size:C.size}];g(G),d("Uploaded file"),setTimeout(()=>{d(null)},3e3)}catch(U){d(U.message),setTimeout(()=>{d(null)},3e3)}},k=async(C,U)=>{const O=r.filter(W=>U!==W.imageURL);c(O);const D=Pe(De,C);await J0(D)},B=async(C,U)=>{const O=x.filter(W=>U!==W.fileURL);g(O);const D=Pe(De,C);await J0(D)},E=C=>{const U=h.filter(O=>C!==O.id);f(U)},b=C=>{document.getElementById(C).click()};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[l&&e.jsx(di,{message:l}),e.jsxs("div",{className:"flex gap-x-1 items-center",children:[e.jsx(V,{onClick:()=>{s("posts"),t(null)},children:e.jsx(Xe,{})}),e.jsx("div",{children:i?"Edit post":"Create a post"})]}),e.jsxs("div",{className:"flex items-center gap-x-1",children:[e.jsx(F,{size:"small",sx:{textDecoration:"underline"},onClick:()=>{L&&N()},startIcon:e.jsx(Zs,{}),children:"Draft"}),e.jsx(F,{size:"small",sx:{textDecoration:"underline"},onClick:()=>{L?(i?y():j(),t(null)):o("Create a post first")},startIcon:e.jsx(Qs,{}),children:i?"Save":"Publish"})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx(le,{multiline:!0,fullWidth:!0,maxRows:20,value:u,onChange:C=>m(C.target.value),className:"p-2 resize-none border",placeholder:"Write description here"}),e.jsx("input",{className:"hidden",id:"imagesInput",type:"file",accept:"image/*",onChange:C=>v(C.target.files[0])}),e.jsx("input",{className:"hidden",id:"filesInput",type:"file",onChange:C=>A(C.target.files[0])}),e.jsxs("div",{className:"flex justify-start gap-x-2 mt-2",children:[e.jsx(F,{size:"small",onClick:()=>b("imagesInput"),variant:"outlined",startIcon:e.jsx(P2,{}),children:"Image"}),e.jsx(F,{size:"small",onClick:()=>b("filesInput"),variant:"outlined",startIcon:e.jsx(Js,{}),children:"File"}),e.jsx(F,{onClick:()=>{S(!0)},variant:"outlined",startIcon:e.jsx(l0,{}),children:"Link"}),e.jsx(mi,{data:{links:h,setLinks:f,setIsLinkAdding:S,isLinkAdding:p}})]})]}),r.length!==0&&e.jsx("div",{className:"grid gap-y-2",children:r.map(C=>e.jsxs("div",{className:"relative min-h-20",children:[e.jsx("img",{loading:"lazy",alt:C.name,className:"size-full",src:C.imageURL}),e.jsx("div",{className:"absolute top-1 right-1",children:e.jsx(Z0,{data:{clickFn:()=>k(C.path,C.imageURL),image:"falseIcon"}})})]},C.imageURL))}),x.length!==0&&e.jsx("div",{className:"grid gap-y-1 mt-2",children:x.map(C=>e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500",children:[e.jsx("img",{loading:"lazy",className:"w-7 ",src:ve("download")}),e.jsxs("div",{children:[e.jsx("p",{className:"underline text-blue-600",children:C.name}),(C==null?void 0:C.size)&&e.jsxs("p",{children:[(C.size/(1024*1024)).toFixed(2)," MB"]})]})]}),e.jsx("div",{className:"absolute top-1 right-1",children:e.jsx(Z0,{data:{clickFn:()=>B(C.path,C.fileURL),image:"falseIcon"}})})]},C.fileURL))}),h.length!==0&&e.jsx("div",{className:"grid gap-y-1 mt-2",children:h.map(C=>e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ",children:[e.jsx("img",{loading:"lazy",className:"w-7 ",src:ve("link")}),e.jsx("div",{children:e.jsx("p",{className:"underline text-blue-600",children:C.title})})]}),e.jsx("div",{className:"absolute top-1 right-1",children:e.jsx(Z0,{data:{image:"falseIcon",clickFn:()=>E(C.id)}})})]},C.link))})]})},fi=["January","February","March","April","May","June","July","August","September","October","November","December"],pi=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function M0(s){const i=new Date().getTime(),t=new Date,o=i-s,a=Math.floor(o/1e3),r=Math.floor(a/60),c=Math.floor(r/60),l=Math.floor(c/24),d=Math.floor(l/7),u=Math.floor(l/30),m=Math.floor(u/12),x=new Date(s),g=x.getFullYear(),h=x.getMonth(),f=x.getDate(),p=pi[x.getDay()],L=!(t.getDay()===x.getDay()&&t.getMonth()===x.getMonth()&&t.getFullYear()===x.getFullYear())&&x.getDay()===t.getDay()-1,j=fi[h],y=`${j} ${f}, ${g}`,N=x.toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0});if(m>0)return`${N} • ${y}`;if(u>0)return`${N} • ${j} ${f}`;if(d>0)return`${p}, ${N} • ${j} ${f}`;if(l>0)return`${L?"Yesterday":p}, ${N}`;if(c>0)return`${L?"Yesterday, ":""}${N}`;if(r>0)return N;if(a>0)return N}const ji=({password:s})=>{const[i,t]=n.useState(!1);return e.jsxs("div",{children:["Password: ",i?s:"*********"," ",e.jsx("span",{onClick:()=>t(!i),className:"cursor-pointer text-blue-500 underline",children:i?"hide":"show"})]})},vi=()=>{const{users:s,setHeaderTitle:i,userId:t,setUsers:o,setUserId:a}=n.useContext(M),r=H(T,"users"),[c,l]=n.useState(!0),[d,u]=n.useState(!1),[m,x]=n.useState(null);n.useEffect(()=>(ze(),ze()),[]),n.useEffect(()=>{i("Admin - Users")},[]);const g=q(),h=p=>{a(p.uid),g("/app")},f=async p=>{const S=$(T,"users",p.uid);await ue(S,{isAdmin:!p.isAdmin})};return d0(r,[],o,l,u,!0,x),c?e.jsx(be,{isLoading:c,text:"Loading users..."}):d?e.jsx(Q,{text:"No users available"}):m?e.jsx(Q,{text:m}):e.jsxs("div",{className:"mt-2 p-5",children:[e.jsx(l2,{text:"Users",length:s==null?void 0:s.length}),e.jsx("div",{className:"mt-2 overflow-hidden grid border border-slate-200 shadow-md rounded-md",children:s.sort((p,S)=>Ae(p,S,"createdAt","older")).map((p,S)=>e.jsxs("div",{className:`  ${S===0&&"border-t-0"} border-t p-2  }`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex w-5/6 gap-x-2 items-center",children:[e.jsx(ne,{image:p.image,name:p.name}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium",children:[p.name," ",e.jsxs("span",{className:`${p!=null&&p.isAdmin?"text-blue-500":"text-white"}`,children:["(",p!=null&&p.isAdmin?"admin":"user",")"," ",t===p.uid?"(You)":""]})]}),e.jsx("div",{className:"text-md ",children:p.email}),e.jsxs("div",{className:"text-md",children:["Created: ",M0(we(p.createdAt))]}),e.jsxs("div",{className:"text-md font-medium text-lime-600",children:["UID : ",p.uid]}),e.jsx(ji,{password:p.password})]})]}),t!==p.uid&&e.jsx(V,{onClick:()=>h(p),children:e.jsx(n2,{})})]}),t!==p.uid&&e.jsx(F,{onClick:()=>f(p),size:"small",startIcon:e.jsx(O2,{}),children:p.isAdmin?"Remove from admin":"Set as admin"})]},p.uid))})]})},wi=({data:s})=>{const{close:i,testAdding:t}=s,{userId:o}=n.useContext(M),[a,r]=n.useState(""),[c,l]=n.useState(""),d=a.trim(),u=H(T,"tests"),m=async h=>{try{await qe(u,h)}catch(f){console.log(f.message)}},x=()=>{const h={uid:o,isUploaded:!1,name:a,description:c,quizzes:[],gradingRules:[],time:he()};m(h),i()},g=()=>{d&&x()};return e.jsx(ge,{fullWidth:!0,open:t,onClose:i,children:e.jsxs(w,{bgcolor:"background.default",className:" p-2",children:[e.jsxs("div",{className:"grid gap-y-2",children:[e.jsx(I2,{data:{text:"Name",onChangeFn:h=>r(h.target.value),value:a,placeholder:"Type test name here"}}),e.jsx(I2,{data:{text:"Description",onChangeFn:h=>l(h.target.value),value:c,placeholder:"Type description here"}})]}),e.jsxs("div",{className:"flex items-center gap-x-3 justify-center mt-2",children:[e.jsx(F,{onClick:g,startIcon:e.jsx(L0,{}),children:"Save"}),e.jsx(F,{onClick:i,startIcon:e.jsx(Ke,{}),children:"Cancel"})]})]})})},Ci=({data:s})=>{const{options:i,value:t,setValue:o}=s,[a,r]=n.useState(!1),c=n.useRef(null);B0(c,r);const l=()=>{r(!a)},d=u=>{o(u)};return e.jsxs("div",{ref:c,className:"w-full relative font-padauk",children:[e.jsxs("button",{onClick:l,className:"border flex items-center rounded-lg justify-between h-10 w-full cursor-pointer hover:border-blue-500 shadow-sm gap-x-2 px-2",children:[e.jsx("span",{children:t||"Select correct answer"}),e.jsx("img",{loading:"lazy",className:"h-6 w-6",src:ve(a?"up":"down")})]}),a&&i.length!==0?e.jsx("div",{className:"absolute grid gap-y-1 min-w-full p-2 rounded-md border -top-40",children:i.map(u=>e.jsx("div",{onClick:()=>{l(),d(u)},className:"p-1 cursor-pointer  rounded-lg transition-all",children:u},`choice-${u}`))}):""]})},We=({data:s})=>{const{choice:i,handleFn:t,value:o,placeholder:a}=s;return e.jsxs("div",{className:"grid gap-y-2 font-padauk",children:[e.jsx("div",{className:"font-medium ",children:i}),e.jsx(le,{size:"small",onChange:r=>t(i,r),value:o,className:" w-full border rounded-md h-10 pl-1 pr-1",placeholder:a})]})},yi=({data:s})=>{const{cancel:i,quizzes:t,setQuizzes:o,editData:a,clearEditData:r,isAdding:c}=s,[l,d]=n.useState(a?a.question:""),[u,m]=n.useState(a?a.choices[0]:""),[x,g]=n.useState(a?a.choices[1]:""),[h,f]=n.useState(a?a.choices[2]:""),[p,S]=n.useState(a?a.choices[3]:""),[L,j]=n.useState(a?a.answer:"");let y=[];const N=u.trim()&&x.trim()&&h.trim()&&p.trim(),v=l.trim()&&u.trim()&&x.trim()&&h.trim()&&p.trim()&&L.trim();N&&(y=[u,x,h,p]);const A=(U,O)=>{U.toLowerCase()==="question"?d(O.target.value):j(O.target.value)},k=()=>{let U,O;v&&(U={id:t.length===0?1:t[t.length-1].id+1,question:l,choices:y,answer:L},O=[...t,U],o(O),i0(),i())},B=()=>{const U=a.id,O={id:U,question:l,choices:y,answer:L},D=t.map(W=>U===W.id?O:W);o(D),i(),r()},E=(U,O)=>{U.toLowerCase()==="choice 1"?m(O.target.value):U.toLowerCase()==="choice 2"?g(O.target.value):U.toLowerCase()==="choice 3"?f(O.target.value):S(O.target.value)},b=()=>{a?B():k()},C=()=>{i(),r()};return e.jsx(ge,{fullWidth:!0,open:c,onClose:C,children:e.jsxs(w,{bgcolor:"background.default",className:` grid gap-y-2  p-3  top-0 left-0 right-0 bottom-0 rounded-lg relative 
          `,children:[e.jsx("div",{className:"top-1 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center",children:a?a.number:t.length+1}),e.jsxs("div",{className:"grid gap-y-2",children:[e.jsx(We,{data:{handleFn:A,value:l,choice:"Question",placeholder:"Enter question"}}),e.jsx(We,{data:{handleFn:E,value:u,choice:"Choice 1",placeholder:"Enter choice 1"}}),e.jsx(We,{data:{handleFn:E,value:x,choice:"Choice 2",placeholder:"Enter choice 2"}}),e.jsx(We,{data:{handleFn:E,value:h,choice:"Choice 3",placeholder:"Enter choice 3"}}),e.jsx(We,{data:{handleFn:E,value:p,choice:"Choice 4",placeholder:"Enter choice 4"}}),e.jsxs("div",{className:"flex items-center gap-x-5",children:[e.jsx("div",{className:"font-medium",children:"Answer"}),e.jsx(Ci,{data:{options:y,value:L,setValue:j}})]})]}),e.jsxs("div",{className:"flex justify-end gap-x-2",children:[e.jsx(R,{title:"Save",arrow:!0,children:e.jsx(V,{onClick:b,children:e.jsx(L0,{})})}),e.jsx(R,{title:"Cancel",children:e.jsx(V,{onClick:C,children:e.jsx(i2,{})})})]})]})})},Li=({data:s})=>{const{testName:i,numbers:t,changePage:o}=s;return e.jsx("div",{className:"text-lg p-1 font-medium sticky top-0 z-10 flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(R,{title:"Navigate up",arrow:!0,children:e.jsx(V,{onClick:()=>o("test"),children:e.jsx(Xe,{})})}),e.jsxs("div",{children:[i,e.jsxs("span",{className:"text-sm",children:[" • "," ",t," ",t>1?"questions":"question"]})]})]})})},bi=({data:s})=>{const{quizzes:i,editQuestion:t,askToDelete:o,add:a}=s;return e.jsxs("div",{className:"grid gap-y-2",children:[e.jsx("div",{className:"pl-1 font-medium ",children:"Questions"}),i.map((r,c)=>e.jsxs("div",{className:"border font-padauk p-2 relative",children:[e.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-x-2",children:[e.jsx(R,{title:"Edit",arrow:!0,children:e.jsx(V,{onClick:()=>t(r,c),children:e.jsx(Ne,{})})}),e.jsx(R,{title:"Delete",children:e.jsx(V,{onClick:()=>o(r.id),children:e.jsx(e0,{})})})]}),e.jsxs("div",{className:"flex items-center justify-between gap-x-2",children:[e.jsx("div",{className:"overflow-x-auto p-0.5 flex-1",children:r.question}),e.jsx(I,{variant:"caption",className:"top-0 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center ",children:c+1})]}),e.jsx("div",{className:"pl-2 pt-2 grid gap-y-1",children:r.choices.map((l,d)=>e.jsxs("div",{className:"flex gap-x-2",children:[e.jsx("div",{className:"w-8 flex h-8 items-center  justify-center text-white font-medium rounded-md ",children:d+1}),e.jsx("div",{className:"flex-1",children:l})]},`choice-${c}-${d}`))})]},`question-${c}`)),e.jsx("div",{className:"flex justify-center sticky bottom-5",children:e.jsx(R,{title:"Add a question",arrow:!0,children:e.jsx(V,{onClick:a,children:e.jsx(T0,{})})})})]})},Ni=({data:s})=>{const{currentTest:i,setCurrentTest:t,setIsRulesAdding:o,setEditData:a}=s,{gradingRules:r}=i,[c,l]=n.useState(null),d=h=>{const f=r.filter(S=>S.id!==h),p={...i,gradingRules:f};t(p)},u=h=>{l(h)},m=h=>{a(h),o(!0)},x=()=>{d(c),l(null)},g=()=>{l(null)};return e.jsxs("div",{className:"grid gap-y-3",children:[e.jsx("div",{className:"pl-1 font-medium",children:"Grading Rules"}),e.jsx(He,{data:{value:c,setValue:l,yesButton:x,noButton:g,text:"Are you sure to delete?"}}),r.map((h,f)=>e.jsxs("div",{className:"flex font-padauk items-center justify-between border  p-2 ",children:[e.jsxs("div",{className:"grid flex-1 grid-cols-3 justify-between mr-10",children:[e.jsx(Q0,{data:{text:"From",value:h.from}}),e.jsx(Q0,{data:{text:"To",value:h.to}}),e.jsx(Q0,{data:{text:"Level",value:h.level}})]}),e.jsxs("div",{className:"flex items-center gap-x-1 h-full ",children:[e.jsx(R,{title:"Edit",arrow:!0,children:e.jsx(V,{onClick:()=>m(h),children:e.jsx(Ne,{})})}),e.jsx(R,{title:"Delete",arrow:!0,children:e.jsx(V,{onClick:()=>u(h.id),children:e.jsx(e0,{})})})]})]},`rule-${f}-${h.from}-${h.to}-${h.level}`)),e.jsx("div",{className:"flex justify-center sticky bottom-5",children:e.jsx(R,{title:"Add a rule",arrow:!0,children:e.jsx(V,{onClick:()=>o(!0),children:e.jsx(T0,{})})})})]})},Q0=({data:s})=>{const{text:i,value:t}=s;return e.jsxs("div",{className:"grid gap-y-1",children:[e.jsx("div",{className:"font-medium",children:i}),e.jsx("div",{className:"font-medium max-h-10",children:typeof t=="string"?t0(t,15):t})]})},Si=({data:s})=>{const{currentTest:i,setCurrentTest:t,editData:o,setEditData:a,isRulesAdding:r,setIsRulesAdding:c}=s,{gradingRules:l}=i,[d,u]=n.useState(o?o.from:null),[m,x]=n.useState(o?o.to:null),[g,h]=n.useState(o?o.level:""),f=d&&m&&g.trim(),p=()=>{const N={id:l.length===0?1:l[l.length-1].id+1,from:Number(d),to:Number(m),level:g},v={...i,gradingRules:[...l,N]};t(v)},S=()=>{const N=o.id,v={id:N,from:Number(d),to:Number(m),level:g},A=l.map(B=>N===B.id?v:B),k={...i,gradingRules:A};t(k)},L=()=>{c(!1),a(null)},j=()=>{f&&(o?S():p(),L())},y=(N,v)=>{const A=v.target.value;N.toLowerCase()==="from"?u(A):N.toLowerCase()==="to"?x(A):h(A)};return e.jsx(ge,{fullWidth:!0,open:r,onClose:()=>c(!1),children:e.jsx(w,{bgcolor:"background.default",children:e.jsxs("div",{className:"grid gap-y-2 p-3  rounded-lg relative",children:[e.jsx(We,{data:{handleFn:y,value:d!==null?d:"",choice:"From",placeholder:"Enter 'from' value"}}),e.jsx(We,{data:{handleFn:y,value:m!==null?m:"",choice:"To",placeholder:"Enter 'to' value"}}),e.jsx(We,{data:{handleFn:y,value:g,choice:"Level",placeholder:"Enter level"}}),e.jsxs("div",{className:"flex justify-end gap-x-2",children:[e.jsx(R,{title:"Save",arrow:!0,children:e.jsx(V,{onClick:j,children:e.jsx(L0,{})})}),e.jsx(R,{title:"Cancel",arrow:!0,children:e.jsx(V,{onClick:L,children:e.jsx(i2,{})})})]})]})})})},a0=()=>e.jsx("div",{className:"h-0.5 border border-dashed border-gray-200 mb-2 mt-2"}),E2=({data:s})=>{const{currentTest:i,setCurrentTest:t,title:o}=s,{description:a,name:r}=i,[c,l]=n.useState(o==="Description"?a:r),[d,u]=n.useState(!1),m=f=>{l(f.target.value)},x=()=>{if(o==="Description"){const f={...i,description:c};t(f)}else{const f={...i,name:c};t(f)}},g=()=>{x(),u(!1)},h=()=>{u(!1),l(o==="Description"?a:r)};return e.jsxs("div",{className:"grid gap-y-2",children:[e.jsx("div",{className:"font-medium ",children:o}),d?e.jsx(le,{multiline:!0,autoFocus:!0,placeholder:`Type ${o.toLowerCase()} here`,onChange:m,className:"p-1 border border-gray-200 outline-none",value:c}):e.jsx("div",{className:"text-gray-500 p-1 ",children:c||"No description"}),d?e.jsxs("div",{className:"flex gap-x-2",children:[e.jsx(R,{title:"Save",arrow:!0,children:e.jsx(V,{onClick:g,children:e.jsx(L0,{})})}),e.jsx(R,{title:"Cancel",children:e.jsx(V,{onClick:h,children:e.jsx(i2,{})})})]}):e.jsx(w,{children:e.jsx(R,{title:"Edit",children:e.jsx(V,{onClick:()=>u(!0),children:e.jsx(Ne,{})})})})]})},ki=({data:s})=>{n.useContext(M);const{setPage:i,currentTest:t,setCurrentTest:o}=s,[a,r]=n.useState(!1),[c,l]=n.useState(!1),[d,u]=n.useState(t.quizzes),[m,x]=n.useState(null),[g,h]=n.useState(null),f=async(C,U)=>{try{const O=$(T,"tests",C);await ue(O,U)}catch(O){console.log(O.message)}};n.useEffect(()=>{p()},[t,d]);const p=()=>{f(t.id,{...t,quizzes:d})},S=()=>{r(!0)},L=()=>{r(!1),h(null)},j=C=>{h(C)},y=()=>{A(g),h(null)},N=()=>{h(null)},v=C=>{i(C)},A=C=>{const U=d.filter(O=>O.id!==C);u(U)},k=(C,U)=>{const O={...C,number:U+1};x(O),S()},B=()=>{x(null)},E={testName:t.name,numbers:d.length,changePage:v},b={quizzes:d,editQuestion:k,askToDelete:j,add:S};return e.jsxs("div",{className:"grid gap-y-2 z-65 p-5",children:[e.jsx(Li,{data:E}),e.jsx(a0,{}),e.jsx(E2,{data:{title:"Test Name",currentTest:t,setCurrentTest:o}}),e.jsx(E2,{data:{title:"Description",currentTest:t,setCurrentTest:o}}),e.jsx(a0,{}),e.jsx(Ni,{data:{currentTest:t,setEditData:x,setCurrentTest:o,setIsRulesAdding:l}}),e.jsx(a0,{}),e.jsx(bi,{data:b}),a&&e.jsx(yi,{data:{cancel:L,setQuizzes:u,quizzes:d,editData:m,clearEditData:B,isAdding:a}}),c&&e.jsx(Si,{data:{currentTest:t,setCurrentTest:o,editData:m,setEditData:x,isRulesAdding:c,setIsRulesAdding:l}}),e.jsx(He,{data:{value:g,setValue:h,yesButton:y,noButton:N,text:"Are you sure to delete ?"}}),e.jsx(a0,{})]})},zi=()=>{const[s,i]=n.useState("test"),{tests:t,setTests:o,setHeaderTitle:a}=n.useContext(M),[r,c]=n.useState({}),[l,d]=n.useState(!1),[u,m]=n.useState(!1),[x,g]=n.useState(null),h=H(T,"tests"),[f,p]=n.useState(!0),[S,L]=n.useState(!1),[j,y]=n.useState(null);X().palette,d0(h,[],o,p,L,!1,y),n.useEffect(()=>{a("Admin - Tests")},[s]),n.useEffect(()=>(ze(),ze()),[]);const v=D=>{c(D),i("editTest")},A=D=>{g(D),m(!0)},k=async D=>{const W=$(T,"tests",D.id);await ue(W,{isUploaded:!D.isUploaded})},B=()=>{U(x),g(null),m(!1)},E=()=>{m(!1)},b=()=>{d(!0)},C=()=>{d(!1)},U=async D=>{try{const W=$(T,"tests",D);await Re(W)}catch(W){console.log(W.message)}},O=()=>{switch(s){case"test":return e.jsxs("div",{className:"p-5 grid gap-y-2",children:[e.jsx("div",{className:"flex justify-between",children:e.jsx(l2,{text:"Tests",length:t.length})}),l&&e.jsx(wi,{data:{close:C,testAdding:l}}),e.jsx(He,{data:{value:u,setValue:m,yesButton:B,noButton:E,text:"Are you sure to delete ?"}}),e.jsx("div",{className:"grid border overflow-hidden border-slate-200 shadow-md rounded-md overflow-hidden",children:t.map((D,W)=>e.jsxs("div",{className:` cursor-pointer h ${W===0&&"border-t-0"} flex items-center border border-t p-2  min-h-[100px]`,children:[e.jsxs("div",{onClick:()=>{v(D)},className:"flex flex-1 gap-x-2 items-center",children:[e.jsx("input",{checked:D.isUploaded,onChange:()=>k(D),className:"size-6",type:"checkbox"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:D.name}),e.jsxs("div",{className:"text-sm",children:[D.quizzes.length,D.quizzes.length>1?" questions":" question",D.isUploaded?" (Uploaded)":" (Not uploaded)"]})]})]}),e.jsx("div",{className:"flex gap-x-2",children:e.jsx(s0,{isComment:!0,options:[{text:"Delete",icon:e.jsx(e0,{}),onClick:()=>A(D.id)}]})})]},` tests-${D.id}`))}),e.jsx("div",{children:e.jsx(F,{variant:"outlined",startIcon:e.jsx(a2,{}),onClick:b,children:"New test"})})]});case"editTest":return e.jsx(ki,{data:{setPage:i,currentTest:r,setCurrentTest:c}})}};return f?e.jsx(be,{text:"Loading tests..."}):S?e.jsx(Q,{text:"No test available"}):j?e.jsx(Q,{text:j}):O()},Ii=()=>{const{setHeaderTitle:s}=n.useContext(M),[i,t]=n.useState(null),[o,a]=n.useState(null),[r,c]=n.useState(null);X().palette;const d=[{name:"Posts",image:e.jsx(o2,{}),path:"/app/admin/posts",counts:i},{name:"Tests",image:e.jsx(a2,{}),path:"/app/admin/tests",counts:o},{name:"Users",image:e.jsx(_s,{}),path:"/app/admin/users",counts:r}],[u,m]=n.useState(d);n.useEffect(()=>{(async()=>{await $e(H(T,"posts"),t),await $e(H(T,"tests"),a),await $e(H(T,"users"),c)})()},[]);const x=q();return n.useEffect(()=>{s("Admin")},[]),n.useEffect(()=>{m(d)},[i,o,r]),e.jsx("div",{className:"mt-2 grid r overflow-hidden ",children:u.map((g,h)=>e.jsxs(w,{onClick:()=>{x(g.path)},className:" transition-all  pt-5 pb-5  overflow-hidden flex items-center gap-x-1 p-2 cursor-pointer ",children:[g.image,e.jsx("div",{children:g.name}),g.counts&&e.jsx("div",{className:" flex bg-black items-center rounded-full justify-center pl-1 pr-1  min-h-6 min-w-6 text-sm top-0 -left-1 font-bold text-white ",children:g.counts})]},g.name))})},Ei=()=>e.jsxs("div",{className:"flex gap-x-2 rounded-md p-2 items-center",children:[e.jsx("div",{children:e.jsx(z,{variant:"circular",width:40,height:40})}),e.jsxs("div",{className:"grid gap-y-2  flex-1 ",children:[e.jsx(z,{variant:"text",width:200}),e.jsx(z,{variant:"rectangular",height:55,width:"90%"})]})]}),Ai=()=>{const{setHeaderTitle:s,notiCount:i,setNotiCount:t,userId:o,userData:a}=n.useContext(M),r=8,[c,l]=n.useState([]),[d,u]=n.useState(null),[m,x]=n.useState(!0),[g,h]=n.useState(!1),[f,p]=n.useState(null),[S,L]=n.useState(0),[j,y]=n.useState(!0),N=X(),{mode:v}=N.palette,A=async()=>{x(!0);const k=H(T,"newNotifications");let B=se(k,Le("forUser","in",[o,"everyone",a!=null&&a.isAdmin?"admin":""]),Oe("timestamp","desc"),ke(r));d&&(B=se(B,y0(d)));try{const E=se(k,Le("forUser","in",[o,"everyone",a!=null&&a.isAdmin?"admin":""])),b=await Ee(B);if($e(null,t,E),b.empty)h(!0);else{const C=b.docs.map(U=>({id:U.id,...U.data()}));l([...c,...C]),u(b.docs[b.docs.length-1]),de(x),L(S+1),C.length<r&&y(!1)}}catch(E){const b="Error fetching notifications: "+E.message;console.log(b),x(!1),p(b)}};return n.useEffect(()=>{A()},[]),n.useEffect(()=>{s("Notifications")},[]),m&&S===0?e.jsx(be,{isLoading:m,text:"Loading notifications..."}):g?e.jsx(Q,{text:"No notifications available"}):f?e.jsx(Q,{text:f}):e.jsxs(w,{children:[e.jsxs(w,{className:"overflow-hidden mt-2 ",children:[c.map((k,B)=>e.jsx(Mi,{mode:v,notification:k},k.id)),m&&e.jsx(w,{className:"flex justify-center",children:e.jsxs(w,{children:[e.jsx("div",{className:"mb-2",children:"Loading..."}),e.jsx(V2,{})]})})]}),j?e.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:e.jsx(F,{size:"small",onClick:A,children:"load more"})}):""]})},Mi=oe.memo(({notification:s})=>{let i;const{users:t,userId:o}=n.useContext(M),[a,r]=n.useState(null),[c,l]=n.useState(!0),d=q();switch(me(s.fromUser,t,r,l),s.type){case"like post":i="liked a post";break;case"like test":i="liked a test";break;case"comment post":i="commented on a post";break;case"comment test":i="commented on a test";break;case"added post":i="added a post";break;case"added test":i="added a test";break;case"took test":i="took a test";break;case"like profile":i="liked your profile";break;case"view profile":i="viewed your profile";break}return c?e.jsx(Ei,{}):e.jsxs("div",{onClick:()=>{if(s.itemId){let u;switch(s.type.split(" ")[1]){case"post":u=`/app/posts/sp/${s.itemId}`;break;case"test":u=`/app/tests/st/${s.itemId}`;break;case"profile":u=`/app/profile/${s.itemId}`}d(u)}},className:"cursor-pointer flex items-start  gap-x-2 p-2 border-b border-b-slate-400",children:[e.jsx("div",{className:"mt-2 h-full",children:e.jsx(D2,{color:"primary",variant:"dot",anchorOrigin:{vertical:"top",horizontal:"left"},children:e.jsx(ne,{image:a==null?void 0:a.image,name:a==null?void 0:a.name})})}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("b",{children:a?a==null?void 0:a.name:"Unknown User"})," ",i]}),e.jsx(I,{variant:"caption",children:Ze(we(s.timestamp))}),e.jsxs(w,{children:[s.forUser==="everyone"&&e.jsxs(I,{variant:"caption",children:[e.jsx(H2,{fontSize:"25px"})," everyone"]}),s.forUser===o&&e.jsxs(I,{variant:"caption",children:[e.jsx(Ks,{fontSize:"25px"})," only me"]}),s.forUser==="admin"&&e.jsxs(I,{variant:"caption",children:[e.jsx(O2,{fontSize:"25px"})," admin only"]})]})]})]})}),m0=()=>e.jsxs("div",{className:"flex gap-x-2 items-center",children:[e.jsx(z,{variant:"circular",height:40,width:40}),e.jsx(z,{variant:"text",height:40,width:"200px"})]}),$i=({members:s})=>e.jsxs("div",{className:"p-2 grid gap-y-2 ",children:[e.jsx("p",{className:"text-lg font-bold",children:"Members"}),e.jsx(w,{className:"border rounded-md shadow-lg border-slate-200",children:s.sort((i,t)=>Ae(i,t,"joinedAt","newer")).map((i,t)=>e.jsx("div",{className:`p-2 flex gap-x-2 items-center border-t ${s.length===t&&"border-b"} ${t===0&&"border-t-0"}`,children:e.jsx(Ti,{member:i})},i.uid+i.joinedAt))})]}),Ti=oe.memo(({member:s})=>{const{users:i}=n.useContext(M),[t,o]=n.useState(null),[a,r]=n.useState(!0),[c,l]=n.useState("offline"),[d,u]=n.useState(null),m=q();R0(s.uid,l,u),me(s.uid,i,o,r);const x=()=>{m(`/app/profile/${t==null?void 0:t.uid}`)};return a?e.jsx(m0,{}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative",children:[e.jsx(R,{arrow:!0,placement:"top",title:`View ${t==null?void 0:t.name}'s profile`,children:e.jsx("div",{onClick:x,className:"cursor-pointer",children:e.jsx(ne,{image:t==null?void 0:t.image,name:t==null?void 0:t.name})})}),e.jsx("div",{className:"size-[16px] bg-white rounded-full flex justify-center items-center absolute bottom-0 right-0",children:e.jsx("div",{className:` size-3 rounded-full ${c==="online"?"bg-green-500":"bg-gray-500"}`})})]}),e.jsxs("div",{className:"",children:[e.jsx(R,{arrow:!0,placement:"top",title:`View ${t==null?void 0:t.name}'s profile`,children:e.jsxs(I,{onClick:x,sx:{cursor:"pointer"},variant:"h6",fontSize:"0.9rem",children:[t==null?void 0:t.name," ",t!=null&&t.isAdmin?e.jsx(I,{variant:"caption",children:"(admin)"}):""]})}),e.jsx("p",{className:`text-sm ${c==="online"?"text-blue-500":"text-gray-500"}`,children:c==="online"?"Online":d}),e.jsx(Ui,{userId:t.uid})]})]})}),Ui=({userId:s})=>{const{chatId:i}=Ve(),t=H(T,`chats/${i}/messages`),o=se(t,Le("senderId","==",s)),[a,r]=n.useState(null);if(n.useEffect(()=>{(async()=>{await $e(null,r,o)})()},[]),a)return e.jsxs(I,{variant:"caption",children:[a," messages "]})},K2=oe.memo(({pageName:s,setSubPage:i,currentChat:t,infoPage:o,memberCounts:a,onlineUsers:r})=>{var u;const c=q(),l=X(),{mode:d}=l.palette;return e.jsx(G2,{sx:{backgroundColor:d==="dark"?"background.default":"white",color:"text.primary"},children:e.jsxs(W2,{className:`h-[80px] z-30 p-2 min-h-10 pb-2 flex items-center justify-between gap-x-1 ${d==="dark"?"border-slate-700":"border-slate-200"} border-b `,children:[e.jsxs("div",{className:"flex items-center gap-x-1",children:[e.jsx("div",{children:e.jsx(R,{title:"Navigate up",arrow:!0,children:e.jsx(V,{onClick:()=>{o?i(s):c("/app/chatroom")},children:e.jsx(Xs,{})})})}),e.jsxs("div",{onClick:()=>i(s),className:"cursor-pointer",children:[e.jsx(I,{variant:"h6",fontSize:"1.1rem",children:t==null?void 0:t.name}),e.jsxs("div",{className:"flex items-center",children:[a?e.jsxs("p",{className:"text-sm ",children:[a," ",a<=1?"member":"members"]}):e.jsx(z,{height:40,width:100}),r?e.jsxs(I,{variant:"caption",children:[", "," ",r," online"]}):e.jsx(z,{height:40,width:60})]})]})]}),e.jsx("button",{onClick:()=>i(s),children:e.jsx(ne,{size:50,name:t==null?void 0:t.name,image:(u=t==null?void 0:t.image)==null?void 0:u.URL})})]})})}),Ri=oe.memo(({setSubPage:s,currentChat:i,memberCounts:t,setMemberCounts:o,members:a,setMembers:r,onlineUsers:c})=>{var B;const{chatId:l}=Ve(),{users:d,userData:u}=n.useContext(M);X().palette;const x=$(T,"chats",l),[g,h]=n.useState(""),[f,p]=n.useState(null),S=$(T,"chats",l),L=H(S,"members");n.useEffect(()=>{h(i.name)},[i]);const j=E=>{let b=!1;return a.forEach(C=>{C.uid===E&&(b=!0)}),b},y=async E=>{let b=!1;const C=se(L,Le("uid","==",E),ke(1));return console.log("Checking if a member..."),b=!(await Ee(C)).empty,b};n.useEffect(()=>Te(L,U=>{U.empty||((async()=>await $e(L,o))(),r(U.docs.map(D=>({...D.data(),id:D.id}))))}),[]);const N=async E=>{try{const b=$(L,E);await y(E)||await Ye(b,{uid:E,joinedAt:he()})}catch(b){console.log(b.message)}},v=async E=>{try{const b=$(L,E);await Re(b)}catch(b){console.log(b.message)}},A=async()=>{if(!f)return;const E=`chats/${i.id}/groupImage-${f.name}`,b=Pe(De,E),C=await b0(f,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),U=await o0(b,C),O=await r0(U.ref),D={name:f.name,path:E,URL:O,size:C.size};await ue(x,{image:D})},k=async()=>{g.trim()&&await ue(x,{name:g})};if(n.useEffect(()=>{A()},[f]),n.useEffect(()=>{scrollTo({top:0})},[]),i)return e.jsxs("div",{className:"",children:[e.jsx(K2,{pageName:"chat",infoPage:!0,setSubPage:s,currentChat:i,memberCounts:t,onlineUsers:c}),(u==null?void 0:u.isAdmin)&&e.jsxs(w,{className:"p-2 m-1 mt-4 shadow-md border rounded-md border-slate-200",children:[e.jsx("input",{id:"imageInput",className:"hidden",type:"file",accept:"image/*",onChange:E=>p(E.target.files[0])}),e.jsxs("div",{className:"relative size-24",children:[e.jsx(ne,{size:90,image:(B=i==null?void 0:i.image)==null?void 0:B.URL,name:i==null?void 0:i.name}),e.jsx("label",{htmlFor:"imageInput",className:" p-1 size-7 rounded-full absolute -bottom-1 -right-1 cursor-pointer ",children:e.jsx(Ne,{fontSize:"15px"})})]}),e.jsxs("div",{className:"mt-2 ",children:[e.jsx("p",{children:"Group Name"}),e.jsxs("div",{className:"flex gap-x-2 items-center",children:[e.jsx(le,{size:"small",value:g,onChange:E=>h(E.target.value),placeholder:"Enter group name..."}),e.jsx(V,{size:"small",onClick:k,children:e.jsx(L0,{fontSize:"18px"})})]})]})]}),a&&e.jsx($i,{members:a}),(u==null?void 0:u.isAdmin)&&e.jsxs("div",{className:"p-2 grid gap-y-2 ",children:[e.jsx("p",{className:"text-lg font-bold",children:"Manage Members"}),e.jsx(w,{className:"border rounded-md shadow-lg border-slate-200",children:d.sort((E,b)=>Ae(E,b,"createdAt","newer")).map((E,b)=>e.jsx(Bi,{user:E,i:b,members:a,addMember:N,removeMember:v,isAMember:j},E.name+" "+E.image+b))})]})]})}),Bi=oe.memo(({user:s,i,members:t,isAMember:o,removeMember:a,addMember:r})=>{const[c,l]=n.useState("offline"),[d,u]=n.useState(null),m=q();R0(s.uid,l,u);const x=()=>{m(`/app/profile/${s==null?void 0:s.uid}`)};return e.jsxs("div",{className:`p-2 flex justify-between gap-x-2 items-center border-t border-slate-200 ${(t==null?void 0:t.length)===i&&"border-b"} ${i===0&&"border-t-0"} `,children:[e.jsxs("div",{className:"flex gap-x-2 items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx(R,{arrow:!0,placement:"top",title:`View ${s==null?void 0:s.name}'s profile`,children:e.jsx("div",{onClick:x,className:"cursor-pointer",children:e.jsx(ne,{image:s==null?void 0:s.image,name:s==null?void 0:s.name})})}),e.jsx("div",{className:"size-[16px] bg-white rounded-full flex justify-center items-center absolute bottom-0 right-0",children:e.jsx("div",{className:` size-3 rounded-full ${c==="online"?"bg-green-500":"bg-gray-500"}`})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(R,{arrow:!0,placement:"top",title:`View ${s==null?void 0:s.name}'s profile`,children:e.jsx(I,{onClick:x,sx:{cursor:"pointer"},variant:"h6",fontSize:"0.9rem",children:s==null?void 0:s.name})}),e.jsx("p",{className:`text-sm ${c==="online"?"text-blue-500":"text-gray-500"}`,children:c==="online"?"Online":d})]})]}),e.jsx("div",{children:o(s.uid)?!s.isAdmin&&e.jsx(R,{title:`Remove ${s.name}`,arrow:!0,placement:"left",children:e.jsx(V,{size:"small",onClick:()=>a(s.uid),children:e.jsx(e0,{})})}):e.jsx(R,{title:`Add ${s.name}`,arrow:!0,placement:"left",children:e.jsx(V,{size:"small",onClick:()=>r(s.uid),children:e.jsx(T0,{})})})})]})}),Fi=[{name:"like",image:"facebookLike"},{name:"love",image:"facebookLove"},{name:"haha",image:"facebookHaha"},{name:"wow",image:"facebookWow"},{name:"sad",image:"facebookSad"},{name:"angry",image:"facebookAngry"}],Pi=({chatId:s,message:i,setReactedUsers:t})=>{n.useState(!1);const[o,a]=n.useState([]),r=H($(H($(T,"chats",s),"messages"),i.id),"reactedBy"),{userId:c}=n.useContext(M),l=X(),{mode:d}=l.palette,u=()=>Te(r,f=>{if(f.empty)a([]);else{const p=f.docs.map(S=>S.data());a(p)}});n.useEffect(()=>{const h=u();return()=>{h&&h()}},[]);const m=async()=>{const h=$(r,c);await Re(h)},x=h=>{let f=!1;return o.forEach(p=>{p.reactionType===h&&(f=!0)}),f},g=Fi.filter(h=>x(h.name));if(o.length!==0)return e.jsx("div",{children:e.jsx(R,{arrow:!0,title:o.length===1?"1 reaction":`${o.length} reactions`,children:e.jsxs("button",{onClick:()=>t({reactedBy:o,removeReaction:m}),className:`mt-2 border ${d==="light"?"border-slate-200 ":"border-slate-700"}  p-1 rounded-lg flex justify-center items-center text-sm`,children:[g.map((h,f)=>e.jsx("img",{loading:"lazy",className:"w-4 ml-[-3px]",src:ve(h.image)},`reaction-${h.name}-${f}`)),e.jsx("span",{className:"ml-1",children:o.length})]})})})};function e2(s){return new Date(s).toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0})}const Oi=oe.memo(({message:s,messages:i,deleteMessage:t,setMessage:o,setImageObject:a,setEditMessageObject:r,setViewingImage:c,setReplyMessage:l,chatId:d,messagesRef:u,messageIndex:m,viewingOldMessages:x,setSeenUsers:g,setMessageOption:h,setReactedUsers:f,index:p,lastFourMessages:S})=>{var G;const{userData:L,userId:j}=n.useContext(M),y=X(),{mode:N}=y.palette,v=j===s.senderId,A=(s==null?void 0:s.seenBy)&&s.seenBy.length>0,k=n.useRef(!1),[B,E]=n.useState(!1),b=Y=>{E(Y)},C={...s,index:m},U=v?{text:"Edit",icon:e.jsx(Ne,{}),onClick:()=>{r(C),o(s.content),a(s==null?void 0:s.image),l(s==null?void 0:s.reply)}}:null,O=v||L!=null&&L.isAdmin?{text:"Delete",icon:e.jsx(e0,{}),onClick:()=>{t(s,m)}}:null,D=async()=>{var J;const Y=$(u,s.id);let Z=!1;if(((s==null?void 0:s.seenBy)||[]).forEach(re=>{j===re.uid&&(Z=!0)}),Z)return Z;try{const re=await Ie(Y);return re.exists()&&((J=re.data())==null?void 0:J.seenBy).forEach(ce=>{ce.uid===j&&(Z=!0)}),Z}catch(re){console.log(re.message)}},W=()=>{let Y=!1;return S.forEach(Z=>{Z.id===s.id&&(Y=!0)}),Y};return n.useEffect(()=>{s&&(async()=>{const Z=$(u,s.id);if(!k.current&&!await D()&&!v&&W()&&!x)try{await ue(Z,{seenBy:_0({uid:j,timestamp:new Date().getTime()})}),k.current=!0}catch(ie){console.error("Error marking message as seen: ",ie)}})()},[]),e.jsxs(w,{onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),className:` rounded-md flex mb-1 gap-x-2 pt-2 pb-2   ${v?"flex-row-reverse":""} `,children:[e.jsx(Di,{senderId:s.senderId}),e.jsx("div",{className:"grid gap-y-1 whitespace-pre-wrap ",children:e.jsxs("div",{className:`flex  items-start gap-x-1 ${v?"flex-row-reverse justify-start":""}`,children:[e.jsx("div",{className:"relative",children:e.jsxs("div",{className:`min-w-[200px] max-w-[300px]  shadow-md border border-slate-300 ${v?"justify-start":"fdbg-white  "} grid min-w-20 break-words whitespace-pre-wrap text-wrap rounded-[10px] border-slate-200 p-3 pb-0 `,children:[e.jsx(Hi,{senderId:s.senderId,isYourMessage:v}),(s==null?void 0:s.reply)&&e.jsx(Vi,{message:s,setViewingImage:c}),e.jsx(X2,{content:s.content,isYourMessage:v}),(s==null?void 0:s.image)&&e.jsx("img",{loading:"lazy",onClick:()=>{c(s.image)},className:"cursor-pointer mt-1 mb-1 rounded-md max-h-[200px] overflow-hidden  ",alt:s.image.name,src:s.image.URL}),e.jsx(Pi,{chatId:d,message:s,setReactedUsers:f}),e.jsx("div",{className:`flex  ${v?"flex-row-reverse":""} gap-x-1 items-center mt-1`,children:e.jsxs("p",{className:`  mt-1 p-1 text-sm text-gray-400 text-sm flex gap-x-1 items-center ${v?"text-right":""}`,children:[s!=null&&s.editedTime?e.jsxs("span",{children:["edited ",e2(we(s.editedTime))]}):e.jsx("span",{children:e2(we(s.timestamp))}),A?e.jsx(R,{title:s.seenBy.length==1?"Seen by 1 user":"Seen by "+s.seenBy.length+" users",arrow:!0,children:e.jsx(F,{size:"small",startIcon:e.jsx(n2,{}),onClick:()=>{g(s.seenBy)},className:"flex gap-x-1 items-center",children:(G=s==null?void 0:s.seenBy)==null?void 0:G.length})}):""]})})]})}),B&&e.jsx(R,{title:"More options",arrow:!0,children:e.jsx(V,{onClick:()=>h({...s,options:[U,O,{text:"Reply",icon:e.jsx(et,{}),onClick:()=>l(s)}]}),children:e.jsx(F2,{})})})]})})]})}),X2=({content:s,isYourMessage:i=!1})=>{const t=new Et;t.tlds("onion",!0),t.set({fuzzyLink:!0});const o=t.match(s),a=(r,c=30)=>r.length>c?r.slice(0,c)+"...":r;return o&&o.forEach(r=>{const c=r.url.startsWith("http")?r.url:`https://${r.url}`;s=s.replace(r.url,`<a href="${c}" style="text-decoration: underline; color: blue;" target="_blank" rel="noopener norefereer">${a(c)}<a>`)}),e.jsx("div",{className:"w-full max-w-full break-words  ",dangerouslySetInnerHTML:{__html:s}})},Di=({senderId:s})=>{const{users:i}=n.useContext(M),[t,o]=n.useState(null),[a,r]=n.useState(!0);me(s,i,o,r);const[c,l]=n.useState("offline"),[d,u]=n.useState(null),m=q();return R0(s,l,u),a?e.jsx(z,{variant:"circular",height:40,width:40}):e.jsxs("div",{className:"size-10  relative",children:[e.jsx(R,{placement:"top",arrow:!0,title:`View ${t==null?void 0:t.name}'s profile
        `,children:e.jsx("div",{className:"cursor-pointer",onClick:()=>m(`/app/profile/${t==null?void 0:t.uid}`),children:e.jsx(ne,{name:t&&t.name,image:t&&t.image})})}),e.jsx("div",{className:"size-[16px] bg-white rounded-full flex justify-center items-center absolute bottom-0 right-0",children:e.jsx("div",{className:` size-3 rounded-full ${c==="online"?"bg-green-500":"bg-gray-500"}`})})]})},Hi=({senderId:s,isYourMessage:i})=>{const{users:t}=n.useContext(M),[o,a]=n.useState(null),[r,c]=n.useState(!0),l=q();return me(s,t,a,c),r?e.jsx("div",{className:`-mt-3 ${i?"text-right":""}`,children:e.jsx(z,{height:40,width:120})}):e.jsx(R,{placement:"top",arrow:!0,title:`View ${o==null?void 0:o.name}'s profile`,children:e.jsx("p",{onClick:()=>l(`/app/profile/${o==null?void 0:o.uid}`),className:`cursor-pointer font-bold mb-2 ${i?"text-right":""} `,children:o!=null&&o.name?o.name:"Unknown User"})})},Vi=({message:s,setViewingImage:i})=>{const{users:t}=n.useContext(M),{senderId:o,content:a,image:r}=s.reply,[c,l]=n.useState(!0),[d,u]=n.useState(!1),[m,x]=n.useState(null);return me(o,t,x,l),e.jsxs("div",{className:"mb-1 border-l-4 p-1 rounded-md border-l-green-500 ",children:[c?e.jsx(z,{width:120,height:40}):e.jsx("p",{className:"font-bold ",children:m==null?void 0:m.name}),a&&e.jsxs("p",{className:"w-full max-w-full break-words",children:[e.jsx(X2,{content:d?a:t0(a,25)}),a.length>=25&&e.jsx("span",{onClick:()=>{u(!d)},className:"font-bold text-blue-400 cursor-pointer",children:d?" see less":" see more"})]}),r&&e.jsx("img",{loading:"lazy",onClick:()=>{i(r)},className:"cursor-pointer border mt-1 mb-1 rounded-md border-slate-200 overflow-hidden max-h-[200px]",alt:r.name,src:r.URL})]})},d2=({image:s,setViewingImage:i,postImage:t=!1})=>{const o=()=>{const a=(s==null?void 0:s.size)/1048576,r=(s==null?void 0:s.size)/1024;return a>1?`${a.toFixed(2)} MB`:isNaN(a)?null:`${r.toFixed(2)} kB`};return e.jsxs(ge,{fullScreen:!0,open:!!s,onClose:()=>i(!1),children:[e.jsx(ye,{direction:"row",justifyContent:"end",sx:{pr:1,pt:1},children:e.jsx(R,{placement:"left",arrow:!0,title:"Close",children:e.jsx(V,{size:"small",color:"primary",onClick:()=>{i(!1)},children:e.jsx(Ke,{})})})}),s?e.jsxs("div",{className:"flex justify-center items-center h-full min-h-[200px] min-w-[200px] relative overflow-auto",children:[o()&&e.jsx("span",{className:"border border-gray-200 absolute right-1 bottom-1 bg-slate-300/70 p-1 rounded-lg font-bold ",children:o()}),e.jsx("img",{loading:"lazy",alt:s.name,className:"max-w-full max-h-full ",src:t?s.imageURL:s.URL,style:{transition:"transform 0.3s ease-in-out"}})]}):e.jsx("div",{className:" border border-slate-300 rounded-md",children:"Image not available."})]})},Gi=({setIsRulesOpen:s,isRulesOpen:i,rules:t=["ရိုသေလေးစားမှုရှိပါ - Group ထဲတွင် ရှိသောသူများအားလုံးကို လေးစားရမည်။ မသင့်တော်သော စကားလုံးများ၊ အခြားသူများကို ထိခိုက်စေနိုင်သော စကားလုံးများကို မပြောရ။","No spamming - တူညီသော မက်ဆေ့ချ်များ၊ လင့်ခ် (link) များနှင့်၊ အမြောက်အများသော emoji များ ပို့ခြင်းကို မပြုရ။","Privacy ရှိပါ - တစ်စုံတစ်ဦး၏ ကိုယ်ရေးကိုယ်တာ အချက်အလက်များကို ခွင့်ပြုချက်မရှိဘဲ မမျှဝေရ။ လူတိုင်း၏ ကိုယ်ရေးကိုယ်တာကို လေးစားပါ။","အထက်ပါ စည်းမျဉ်းစည်းကမ်းများ (rules) ထဲမှ တစ်ခုခုကို ချိုးဖောက်ပါက Group ထဲမှ ရက်အကန့်အသတ်ဖြင့် သော်လည်းကောင်း၊ ရာသတ်ပန် သော်လည်းကောင်း ထုတ်ပယ်မည် (သို့မဟုတ်) ထိုက်တန်သော အပြစ်တစ်ခုခုကို ခံယူရမည်။"]})=>e.jsx(ge,{open:i,onClose:()=>s(!1),children:t?e.jsxs("div",{className:"p-2 max-h-[80%] overflow-auto",children:[e.jsx("p",{className:"font-bold mb-1",children:"Group Rules"}),t.map((o,a)=>e.jsxs("div",{className:"flex items-start  gap-x-1 mb-2",children:[e.jsx("p",{className:"size-10 items-center flex justify-center rounded-full ",children:a+1}),e.jsx("p",{className:"flex-1 text-sm",children:o})]},`${a}-${o}`))]}):e.jsx("div",{className:"p-2",children:"No rules"})}),Wi=({typingUsersRef:s,viewingOldMessages:i})=>{const{userId:t,openSnackbar:o}=n.useContext(M),[a,r]=n.useState([]),[c,l]=n.useState(!1),d=()=>{const u=window.scrollY,m=window.innerHeight,x=document.documentElement.scrollHeight;l(u+m>=x-350)};if(n.useEffect(()=>{const m=Te(s,g=>{console.log("fetching typing users...");const h=g.docs.map(f=>({uid:f.id,...f.data()}));r(h)},g=>{console.log("Error fetching typing users: ",g.message)});return()=>{m&&m()}},[]),n.useEffect(()=>{!i&&a.length!==0&&c&&i0()},[a,c]),n.useEffect(()=>(window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}),[]),a.length>0)return e.jsx("div",{className:"",children:e.jsx("div",{className:"grid gap-y-1",children:a.sort((u,m)=>Ae(u,m,"timestamp","older")).map(u=>{const m=t===u.uid;return e.jsxs("div",{className:`flex mb-2 gap-x-2 ${m?"flex-row-reverse":""} `,children:[e.jsx(Yi,{typingUser:u}),e.jsxs("div",{className:"grid gap-y-1 whitespace-pre-wrap",children:[e.jsx(qi,{isYourMessage:m,typingUser:u}),e.jsx("div",{className:`flex items-start gap-x-1 ${m?"flex-row-reverse justify-start":""}`,children:e.jsxs("div",{children:[e.jsx(z,{height:40,width:150}),e.jsx(z,{sx:{mt:-1},height:30,width:100})]})})]})]},`typingUsers-${u.uid}`)})})})},Yi=({typingUser:s})=>{const{users:i}=n.useContext(M),[t,o]=n.useState(null),[a,r]=n.useState(!0);return me(s.uid,i,o,r),e.jsxs("div",{className:"size-10 relative",children:[a?e.jsx(z,{width:40,height:40}):e.jsx(ne,{name:t==null?void 0:t.name,image:t==null?void 0:t.image}),e.jsx("div",{className:"absolute bottom-0 right-0 size-3 rounded-full bg-green-500"})]})},qi=({typingUser:s,isYourMessage:i})=>{const{users:t}=n.useContext(M),[o,a]=n.useState(null),[r,c]=n.useState(!0);return me(s.uid,t,a,c),e.jsx(e.Fragment,{children:r?e.jsx(z,{height:40,width:120}):e.jsx("p",{className:`font-bold ${i?"text-right":"text-left"} `,children:o==null?void 0:o.name})})},Zi=["January","February","March","April","May","June","July","August","September","October","November","December"],Qi=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function es(s){const i=new Date(s),t=new Date,o=i.getFullYear(),a=i.getMonth(),r=i.getDate(),c=Qi[i.getDay()],l=t.getDay()===i.getDay()&&t.getMonth()===i.getMonth()&&t.getFullYear()===i.getFullYear(),d=!l&&i.getDay()===t.getDay()-1;return l?"Today":d?"Yesterday":`${c}, ${Zi[a]} ${r}, ${o}`}const Ji=({seenUsers:s,setSeenUsers:i})=>{n.useContext(M);const t=X(),{mode:o}=t.palette,a=()=>{const r=s.reduce((c,l)=>{const d=new Date(we(l.timestamp)),u=d.getFullYear(),m=d.getMonth(),x=d.getDate(),g=`${u}-${m+1}-${x}`;return c[g]||(c[g]={date:g,users:[]}),c[g].users.push(l),c},{});return Object.values(r)};return e.jsx(ge,{fullWidth:!0,anchor:"bottom",open:!!s,onClose:()=>i(!1),children:e.jsxs(w,{className:" rounded-l-md rounded-r-md ",children:[e.jsx(I,{sx:{p:1},variant:"h6",children:"People who have seen"}),e.jsx("div",{className:"flex flex-col p-2",children:a().map(r=>{const c=new Date(r.date).getTime(),l=es(c);return e.jsxs(w,{children:[e.jsx(I,{variant:"caption",children:l}),r.users.sort((d,u)=>Ae(d,u,"timestamp","older")).map((d,u)=>e.jsx(_i,{seenPerson:d,mode:o},`seenUser-${d.uid}-${u}`))]},l+"seenUsers")})})]})})},_i=({seenPerson:s,mode:i})=>{var l;const{users:t}=n.useContext(M),[o,a]=n.useState(null),[r,c]=n.useState(!0);return me(s.uid,t,a,c),r?e.jsx("div",{className:"mb-1 w-[275px]",children:e.jsx(m0,{})}):e.jsxs("div",{className:" flex p-2 justify-between items-center w-full rounded-md ",children:[e.jsxs("div",{className:"flex items-center gap-x-1",children:[e.jsx(ne,{image:o==null?void 0:o.image,name:o==null?void 0:o.name,size:"size-9"}),e.jsx("p",{children:((l=o==null?void 0:o.name)==null?void 0:l.length)>20?t0(o==null?void 0:o.name,20):o==null?void 0:o.name})]}),e.jsx(I,{variant:"caption",children:e2(s.timestamp)})]})},Ki=({reactedBy:s,removeReaction:i,reactedUsers:t,setReactedUsers:o})=>{const{userId:a}=n.useContext(M),r=X(),{mode:c}=r.palette,l=d=>({like:"facebookLike",love:"facebookLove",haha:"facebookHaha",wow:"facebookWow",sad:"facebookSad",angry:"facebookAngry"})[d];return e.jsx(ge,{fullWidth:!0,open:!!s,onClose:()=>o(null),children:e.jsxs("div",{className:"m-2  rounded-l-md rounded-r-md ",children:[e.jsx(I,{variant:"h6",children:"Reactions"}),e.jsx("div",{className:"flex flex-col p-2  overflow-y-auto",children:s.map((d,u)=>{const m=d.uid===a;return e.jsx(Xi,{mode:c,okToRemove:m,reactedPerson:d,getReactIcon:l,removeReaction:i,close:()=>o(null)},`reactedBy-${d.uid}-${u}`)})})]})})},Xi=({getReactIcon:s,reactedPerson:i,okToRemove:t,close:o,removeReaction:a,mode:r})=>{const{users:c}=n.useContext(M),[l,d]=n.useState(null),[u,m]=n.useState(!0);return me(i.uid,c,d,m),u?e.jsx(m0,{}):e.jsxs("div",{onClick:()=>{t&&(a(),o())},className:`flex p-2 justify-between items-center  ${t?"cursor-pointer":""}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ne,{image:l==null?void 0:l.image,name:l==null?void 0:l.name,size:"size-9"}),e.jsxs("p",{className:"ml-[4px]",children:[l==null?void 0:l.name," ",t?e.jsx(I,{variant:"caption",children:"(Tap to remove)"}):""]})]}),e.jsx("img",{loading:"lazy",className:"w-6 ",src:ve(s(i.reactionType))})]})},ea=({fetchMessages:s,isDatePickerOpen:i,setIsDatePickerOpen:t,setViewingOldMessages:o})=>{const a=async r=>{o(!0);const c=new Date(r.target.value);await s("old",c)};return e.jsx(ge,{open:i,onClose:()=>t(!1),fullWidth:!0,children:e.jsxs(w,{m:2,children:[e.jsx(I,{variant:"h6",children:"Filter Messages By Date"}),e.jsx("input",{className:"mt-2 h-10 p-1",type:"date",onChange:a})]})})},sa=s=>{const i=w0(C0,"/status"),t=$2(i,U2("status"),T2("online"));return $0(t,a=>{s(a.size)})},v0=15,ta=oe.memo(()=>{const{userId:s,users:i}=n.useContext(M),{chatId:t}=Ve(),[o,a]=n.useState(null),[r,c]=n.useState(!1),l=$(T,"chats",t),[d,u]=n.useState(!0),[m,x]=n.useState(!1),[g,h]=n.useState(null);return n.useEffect(()=>{const f=()=>Te(l,j=>{u(!0),j.exists()?(a({...j.data(),id:j.id}),x(!1)):x(!0),u(!1)},j=>{const y="Error fetching the current chat: "+j.message;h(y),u(!1)});(async()=>{try{const L=H(l,"members"),j=se(L,Le("uid","==",s),ke(1));console.log("Checking if a member...");const y=await Ee(j);c(!y.empty)}catch(L){console.log(L.message)}})();const S=f();return()=>{S&&S()}},[t,r]),d?e.jsx(be,{isLoading:d,text:"Loading chat..."}):m?e.jsx(Q,{text:"No chat available"}):r?g?e.jsx(Q,{text:g}):e.jsx(na,{chatId:t,currentChat:o}):e.jsx(Q,{text:"You are not a member of this chat room"})}),na=({chatId:s,currentChat:i})=>{const{userData:t,users:o,newMessages:a,userId:r,setHeaderTitle:c,openSnackbar:l}=n.useContext(M),[d,u]=n.useState(""),[m,x]=n.useState(!1),[g,h]=n.useState("chat"),[f,p]=n.useState(null),S=$(T,"chats",s),L=H(S,"messages"),[j,y]=n.useState(null),[N,v]=n.useState(!1),[A,k]=n.useState(!1),[B,E]=n.useState(null),[b,C]=n.useState(null),[U,O]=n.useState(null),[D,W]=n.useState(!1),G=H(S,"typingUsers"),Y=$(G,r),[Z,ie]=n.useState(!1),[J,re]=n.useState(null),[ee,ce]=n.useState([]),[Me,Ge]=n.useState([]),[Qe,u0]=n.useState([]),[S0,Je]=n.useState(),[_,Se]=n.useState(null),[pe,Be]=n.useState(!1),[x0,n0]=n.useState([]),[Ue,x2]=n.useState(null),[k0,O0]=n.useState(null),[z0,h2]=n.useState(null);n.useState(!1);const[g2,cs]=n.useState(0),[ls,f2]=n.useState(!0),[p2,j2]=n.useState(!1),v2=X(),{mode:w2}=v2.palette;n.useEffect(()=>{c((i==null?void 0:i.name)||"SEA - Chat ")},[i]),n.useEffect(()=>{const P=sa(cs);return()=>{P&&P()}},[]),n.useEffect(()=>{(async()=>{const K=$(T,"chats",i.id),te=H(K,"members");await $e(te,x2)})()},[i]),n.useEffect(()=>{let P;return d.trim()?ie(!0):ie(!1),P=setTimeout(()=>{ie(!1)},3e3),()=>{clearTimeout(P)}},[d]);const ds=async()=>{console.log("I am typing...");try{await Ye(Y,{timestamp:he()})}catch(P){console.error("Error adding user to typing collection: ",P)}},C2=async()=>{console.log("I am not typing...");try{await Re(Y)}catch(P){console.error("Error removing user from typing collection: ",P)}};n.useEffect(()=>(Z?ds():C2(),()=>{C2()}),[Z]);const y2=P=>{P.empty?(Se(null),Je(null)):(Je(P.docs[0]),Se(P.docs[P.docs.length-1]));const K=P.docs.map(xe=>({id:xe.id,...xe.data()}));K.length<v0&&pe&&(f2(!1),Be(!1),D0(),i0());const te=K.sort((xe,fe)=>Ae(xe,fe,"timestamp"));ce(te),Ge(te.slice(K.length-5,K.length))},D0=()=>{if(pe)return null;f2(!0);const P=H($(T,"chats",s),"messages");let K=se(P,Oe("timestamp","desc"),ke(v0));const te=Te(K,xe=>{console.log("Fetching messages..."),y2(xe)});return()=>te()};n.useEffect(()=>{const P=D0();return()=>{P&&P()}},[s,pe]);const H0=async(P,K=null)=>{const te=P==="old"?"desc":"asc";let xe=se(L,Oe("timestamp",te),ke(v0));if(_&&(xe=se(L,Oe("timestamp",te),y0(_),ke(v0))),K){const Fe=new Date(K.setHours(0,0,0)),h0=new Date(K.setHours(23,59,59,999));xe=se(L,Le("timestamp",">=",Fe),Le("timestamp","<=",h0),Oe("timestamp",te),ke(v0))}console.log("Fetching messages...");const fe=await Ee(xe);y2(fe)};me(b==null?void 0:b.senderId,o,O,()=>{},[b]);const ms=async P=>{const K=new Date().getTime(),te=`chats/${s}/${K}-${t==null?void 0:t.name}-${P==null?void 0:P.name}`,xe=Pe(De,te);v(!0),k(!0);try{const fe=await b0(P,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),Fe=await o0(xe,fe),h0=await r0(Fe.ref),G0={name:P.name,path:te,URL:h0,size:fe.size};y(G0),v(!1),k(!1)}catch(fe){l(fe.message),v(!1),k(!1),console.log(fe.message)}},us=async P=>{const K=Pe(De,P);await J0(K),y(null)},L2=async()=>{const P=$(H(T,"newMessages"),s);await Ye(P,{seenBy:_0(r)})};n.useEffect(()=>{(async()=>{const K=$(H(T,"newMessages"),s);F0(a,s)||await ue(K,{seenBy:_0(r)})})()},[ee]);const xs=async()=>{try{const P={senderId:r,content:d.trim(),timestamp:he(),image:j||null,reply:b||null,seenBy:[]};k(!0),await qe(L,P),L2(),u(""),y(null),i0(),k(!1),C(null),O(null),ie(!1)}catch(P){k(!1),l(P.message),console.log(P.message)}},V0=async()=>{try{const P=$(L,f.id),K={senderId:r,content:d.trim(),editedTime:he(),image:j||null,reply:b||null};k(!0),await ue(P,K),L2(),V0&&u(""),y(null),p(null),k(!1),C(null),O(null)}catch(P){k(!1),l(P.message),console.log(P.message)}},hs=P=>{const K=ee.filter(te=>te.id!==P);ce(K)},gs=async(P,K)=>{const te=$(L,P.id);pe&&hs(P.id),await Re(te)};return n.useEffect(()=>{u0((()=>{if(ee.length>0){const K=ee.reduce((te,xe)=>{const fe=new Date(we(xe.timestamp)),Fe=fe.getFullYear(),h0=fe.getMonth(),G0=fe.getDate(),I0=`${Fe}-${h0+1}-${G0}`;return te[I0]||(te[I0]={date:I0,messages:[]}),te[I0].messages.push(xe),te},{});return Object.values(K)}else return})())},[ee]),g==="info"?e.jsx(Ri,{setSubPage:h,currentChat:i,memberCounts:Ue,setMemberCounts:x2,members:x0,setMembers:n0,onlineUsers:g2}):e.jsxs(w,{className:"mb-[100px] ",children:[e.jsx(aa,{}),e.jsx(ge,{open:m,onClose:()=>x(!1),children:e.jsx(Q2,{theme:v2.palette.mode,onEmojiClick:P=>{u(d+P.emoji)}})}),p2&&e.jsx(ea,{fetchMessages:H0,isDatePickerOpen:p2,setIsDatePickerOpen:j2,setViewingOldMessages:Be}),z0&&e.jsx(Ki,{reactedBy:z0.reactedBy,removeReaction:z0.removeReaction,reactedUsers:z0,setReactedUsers:h2}),k0&&e.jsx(_2,{handleClick:()=>{O0(null)},messageOption:k0,setMessageOption:O0,options:k0.options,message:k0,chatId:s,isComment:!1}),B&&e.jsx(d2,{image:B,setViewingImage:E}),D&&e.jsx(Gi,{isRulesOpen:D,setIsRulesOpen:W,rules:i==null?void 0:i.rules}),J&&e.jsx(Ji,{seenUsers:J,setSeenUsers:re}),e.jsx(K2,{pageName:"info",setSubPage:h,currentChat:i,memberCounts:Ue,onlineUsers:g2}),e.jsxs("div",{id:"message-container",className:"p-2 gap-y-3 mb-[55px]",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(F,{sx:{textTransform:"capitalize",mt:1},variant:"text",size:"small",onClick:async()=>{await H0("old"),i0(),Be(!0)},children:"Older messages"})}),e.jsx(w,{children:Qe==null?void 0:Qe.map((P,K)=>{const te=new Date(P.date).getTime(),xe=es(te);return e.jsxs(w,{children:[e.jsx(w,{className:"z-10 sticky top-[80px] flex justify-center",children:e.jsx(I,{onClick:()=>j2(!0),sx:{p:"3px",borderRadius:1,cursor:"pointer"},bgcolor:"background.default",variant:"caption",children:xe})}),P.messages.map((fe,Fe)=>e.jsx(Oi,{editMessage:V0,setEditMessageObject:p,deleteMessage:gs,message:fe,setMessage:u,setImageObject:y,setViewingImage:E,setReplyMessage:C,chatId:s,messagesRef:L,groupIndex:K,messageIndex:Fe,viewingOldMessages:pe,setSeenUsers:re,messages:ee,setMessageOption:O0,setReactedUsers:h2,lastFourMessages:Me,index:Fe},`${Fe}-${fe.id}`))]},P.date)})}),pe&&ls?e.jsxs("div",{className:"flex gap-x-1 justify-center mt-1 mb-2",children:[e.jsx(F,{size:"small",sx:{textTransform:"capitalize"},onClick:async()=>{await H0("new"),ze()},children:"Newer messages"}),e.jsx(R,{placement:"top",title:"Latest messages",arrow:!0,children:e.jsx(st,{onClick:()=>{Be(!1),i0(),D0()},size:"small",sx:{position:"fixed",bottom:150,right:20},children:e.jsx(tt,{})})})]}):"",e.jsx(Wi,{typingUsersRef:G,viewingOldMessages:pe})]}),e.jsx("div",{className:"fixed z-30 bottom-0 right-0 left-0 min-h-[80px] flex flex-col items-center ",children:e.jsxs(w,{bgcolor:"background.default",className:"w-full md:w-2/3 lg:w-1/2 p-1 rounded-lg shadow-md pl-4 pr-4",children:[e.jsx("div",{className:"flex justify-between items-center text-sm p-1 pt-0 ",children:e.jsx(F,{size:"small",sx:{textDecoration:"underline"},onClick:()=>W(!0),className:"text-sm underline text-blue-300",children:"Group Rules"})}),f&&e.jsxs("div",{className:"flex justify-between items-center text-sm p-1 ",children:[e.jsx("p",{children:"Editing a message"}),e.jsx(V,{onClick:()=>{p(null),u(""),y(null),C(null),O(null)},children:e.jsx(Ke,{})})]}),b&&e.jsxs("div",{className:"flex justify-between items-center text-sm p-1 ",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-bold",children:["Reply to ",U==null?void 0:U.name]}),e.jsx("p",{children:t0(b==null?void 0:b.content,25)})]}),e.jsx(V,{onClick:()=>{C(null),O(null)},children:e.jsx(Ke,{})})]}),N&&e.jsx("div",{className:"flex justify-between items-center text-sm p-1 ",children:e.jsx("p",{children:"Uploading image..."})}),j&&e.jsxs("div",{className:" flex justify-between items-center text-sm p-1 ",children:[e.jsxs("div",{className:"flex flex-1 items-center gap-x-1",children:[e.jsx("img",{loading:"lazy",src:j.URL,className:"h-10 rounded-sm"}),e.jsx("p",{children:j.name})]}),e.jsx("button",{onClick:()=>{us(j.path),y(null)},className:"rounded-full shadow-sm p-1",children:e.jsx("img",{loading:"lazy",className:"w-6",src:ve("falseIcon")})})]}),e.jsxs(w,{className:`border ${w2==="light"?"border-t-slate-100":"border-slate-700"} shadow-sm  rounded-[12px] flex items-center justify-between `,children:[e.jsx("input",{id:"imageFile",className:"hidden",type:"file",onChange:P=>{ms(P.target.files[0])},accept:"image/*"}),e.jsx(R,{arrow:!0,title:"Upload an image",placement:"top",children:e.jsx("label",{htmlFor:"imageFile",className:"p-1 cursor-pointer rounded-md",children:e.jsx(P2,{sx:{width:28}})})}),e.jsx(ia,{value:d,setValue:u}),e.jsx(R,{title:"Emoji",arrow:!0,placement:"top",children:e.jsx(V,{onClick:()=>x(!0),children:e.jsx(Y2,{})})}),e.jsx(R,{title:"Send",arrow:!0,placement:"top",children:e.jsx(V,{disabled:A,sx:{color:w2==="light"&&"black"},onClick:()=>{!A&&(d.trim()||j)&&(f?V0():xs())},children:e.jsx(nt,{})})})]})]})})]})},ia=oe.memo(({value:s,setValue:i})=>e.jsx(le,{multiline:!0,maxRows:4,fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{"& fieldset":{border:"none"}}},inputProps:{sx:{padding:"5px"},inputMode:"text",autoCorrect:"off",autoCapitalize:"off"},value:s,onChange:t=>i(t.target.value),placeholder:"Type a message..."})),aa=()=>{N0("chat-page"),P0("chat-page")},oa=({isCreating:s,setIsCreating:i})=>{const[t,o]=n.useState(""),{userId:a}=n.useContext(M),r=async()=>{if(!t.trim())return;const c=H(T,"chats"),l=await qe(c,{name:t,image:null,lastMessage:{}}),d=H($(c,l.id),"members");await qe(d,{uid:a,joinedAt:he()})};return e.jsx(ge,{open:s,onClose:()=>i(!1),children:e.jsxs(w,{className:"m-5 ",children:[e.jsx("div",{className:"mb-2 font-bold",children:"Group Name"}),e.jsxs(ye,{direction:"row",gap:1,children:[e.jsx(le,{size:"small",placeholder:"Enter a name",value:t,onChange:c=>o(c.target.value)}),e.jsx(F,{onClick:()=>{t.trim()&&(r(),i(!1))},variant:"outlined",size:"small",children:"Create"})]})]})})},ra=oe.memo(({chat:s})=>{var L;const[i,t]=n.useState(null),{newMessages:o}=n.useContext(M),[a,r]=n.useState(!0),[c,l]=n.useState(null),d=q(),[u,m]=n.useState(!0),[x,g]=n.useState(!1),[h,f]=n.useState(null);X().palette;const S=async()=>{r(!0);const j=H($(H(T,"chats"),s.id),"messages");console.log("fetching message counts..."),await $e(j,t),de(r)};return n.useEffect(()=>{const y=(()=>{const N=H(T,"chats"),v=H($(N,s.id),"messages"),A=se(v,Oe("timestamp","desc"),ke(1));return Te(A,B=>{if(m(!0),console.log("fetching last message..."),B.empty)g(!0),de(m,300);else{const E=B.docs.map(b=>({id:b.id,...b.data()}));l(E[0]),S(),de(m,300)}},B=>{f("Error fetching last message: "+B.message),de(m,300)})})();return()=>{y&&y()}},[s]),e.jsxs(w,{className:" flex min-h-[100px] gap-x-2 items-center cursor-pointer p-1 relative ",onClick:()=>d(`/app/chatroom/${s.id}`),children:[e.jsx(w,{className:"flex items-start h-full ",children:e.jsx(ne,{size:50,image:(L=s.image)==null?void 0:L.URL,name:s.name})}),e.jsxs(w,{className:"grid items-start h-full",children:[e.jsxs(I,{variant:"h6",children:[s.name,e.jsx(ca,{messageCounts:i})]}),e.jsxs(w,{container:!0,sx:{display:"grid"},children:[e.jsx(w,{item:!0,sx:{display:"flex",columnGap:"4px",alignItems:"center"},children:e.jsx(da,{lastMessage:c})}),e.jsx(la,{lastMessage:c,isMessageEmpty:x,isMessageLoading:u,messageError:h}),e.jsx(ma,{chat:s})]})]}),!F0(o,s.id)&&e.jsx("div",{className:"absolute shadow-md right-1 top-1 bg-red-500 size-4 rounded-full"})]})}),ca=({messageCounts:s})=>s?e.jsxs("div",{className:"mb-2 flex items-center rounded-md justify-start pr-1 font-[600]  min-h-6 min-w-6 text-sm top-0  text-slate-400 ",children:[s," messages"]}):e.jsx(z,{width:120}),la=({lastMessage:s,isMessageLoading:i,isMessageEmpty:t,messageError:o})=>{var a,r;return i?e.jsxs("div",{children:[e.jsx(z,{width:"70%"}),e.jsx(z,{width:"60%"})]}):t?e.jsx(I,{color:"warning",children:"No messages yet"}):o?e.jsx(I,{color:"warning",children:o}):e.jsxs(w,{sx:{marginTop:"2px",display:"grid"},children:[e.jsx(I,{size:"small",variant:"caption",color:"textSecondary",children:t0(s==null?void 0:s.content,30)}),(s==null?void 0:s.image)&&e.jsx("img",{loading:"lazy",alt:(a=s==null?void 0:s.image)==null?void 0:a.name,className:"w-12",src:(r=s==null?void 0:s.image)==null?void 0:r.URL}),e.jsxs(I,{size:"small",variant:"caption",color:"textSecondary",children:[(s==null?void 0:s.editedTime)&&"edited ",M0(we(s!=null&&s.editedTime?s.editedTime:s==null?void 0:s.timestamp))]})]})},da=({lastMessage:s})=>{const{users:i}=n.useContext(M),[t,o]=n.useState(null),[a,r]=n.useState(!0);return me(s==null?void 0:s.senderId,i,o,r,[s]),a?e.jsxs("div",{className:"flex items-center gap-x-1",children:[e.jsx(z,{variant:"circular",height:30,width:30}),e.jsx(z,{height:30,width:100})]}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{size:24,name:t==null?void 0:t.name,image:t==null?void 0:t.image}),e.jsx(I,{size:"small",fontWeight:"bold",variant:"caption",color:"textSecondary",children:t==null?void 0:t.name})]})},ma=({chat:s})=>{const i=$(T,"chats",s.id),t=H(i,"typingUsers"),[o,a]=n.useState(null);if(n.useEffect(()=>{const c=Te(t,d=>{const u=d.docs.map(m=>({uid:m.id,...m.data()}));a(u)});return()=>{c&&c()}},[]),o)return e.jsx("div",{children:o.sort((r,c)=>Ae(r,c,"timestamp","older")).map(r=>e.jsx(ua,{typingUser:r},`typing-users-${r.uid}`))})},ua=({typingUser:s})=>{const{users:i}=n.useContext(M),[t,o]=n.useState(null),[a,r]=n.useState();return me(s.uid,i,o,r),e.jsx("div",{className:"flex items-center gap-x-1 ",children:a?e.jsx(z,{width:30,height:30}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{size:24,name:t==null?void 0:t.name,image:t==null?void 0:t.image}),e.jsx(z,{height:35,width:120})]})})},xa=oe.memo(()=>{const{setHeaderTitle:s,chats:i,setChats:t,myChats:o,setMyChats:a}=n.useContext(M),r=H(T,"chats"),[c,l]=n.useState(!0),[d,u]=n.useState(!1),[m,x]=n.useState(null);return d0(r,[],t,l,u,!1,x,500),n.useEffect(()=>{s("Chat Room")},[]),c?e.jsx(be,{isLoading:c,text:"Loading chat rooms..."}):d?e.jsx(Q,{text:"No chat rooms available"}):m?e.jsx(Q,{text:m}):e.jsx(ha,{myChats:o,setMyChats:a})}),ha=({myChats:s,setMyChats:i})=>{const{chats:t,userData:o,userId:a}=n.useContext(M),[r,c]=n.useState(!1),[l,d]=n.useState(0),u=async(m,x)=>{const g=H(T,"chats"),h=H($(g,m),"members"),f=se(h,Le("uid","==",x),ke(1));return console.log("Checking if a member..."),!(await Ee(f)).empty};return n.useEffect(()=>{(async()=>{const x=await Promise.all(t.map(async g=>{const h=await u(g.id,a);return h&&d(l+1),h?g:null}));i(x.filter(g=>g!==null))})()},[t]),l?e.jsxs(e.Fragment,{children:[r&&e.jsx(oa,{isCreating:r,setIsCreating:c}),e.jsxs("div",{className:"overflow-hidden grid  mt-2 gap-y-3  ",children:[e.jsx(ga,{}),s.map((m,x)=>e.jsx(ra,{chat:m,index:x,chats:t},m.id)),(o==null?void 0:o.isAdmin)&&e.jsx(w,{className:"m-2",children:e.jsx(F,{size:"small",onClick:()=>c(!0),startIcon:e.jsx(T0,{}),children:"Create group"})})]})]}):e.jsx(Q,{text:"No chat rooms available for you"})},ga=()=>{const[s,i]=n.useState(0),[t,o]=n.useState(!0),[a,r]=n.useState(!1);return n.useEffect(()=>{const l=(()=>{const d=w0(C0,"/status"),u=$2(d,U2("status"),T2("online"));return $0(u,x=>{o(!0);const g=x.val(),h=Object.entries(g).map(([f,p])=>({uid:f,...p}));i(h),o(!1)})})();return()=>{l&&l()}},[]),t?e.jsx(z,{sx:{m:1},height:40,width:60}):e.jsxs(w,{className:"p-2 ",children:[a&&e.jsx(fa,{onlineUsers:s,open:a,setOpen:r}),e.jsxs(F,{onClick:()=>r(!0),size:"small",sx:{textDecoration:"underline",textTransform:"capitalize"},children:[s.length," online"]})]})},fa=({onlineUsers:s,open:i,setOpen:t})=>e.jsxs(ge,{fullWidth:!0,open:i,onClose:()=>t(!1),children:[e.jsx(w,{m:1,children:e.jsx(I,{variant:"h6",children:"Online Users"})}),e.jsx(w,{sx:{m:1},className:"grid gap-y-2",children:s.map(o=>e.jsx(pa,{user:o},o.uid))})]}),pa=({user:s})=>{const{users:i}=n.useContext(M),[t,o]=n.useState(null),[a,r]=n.useState(!0),c=q();me(s.uid,i,o,r);const l=()=>{c(`/app/profile/${s==null?void 0:s.uid}`)};return a?e.jsx(m0,{}):e.jsxs(w,{className:" flex items-center gap-x-1",children:[e.jsxs("div",{className:"relative",children:[e.jsx(R,{arrow:!0,placement:"top",title:`View ${t==null?void 0:t.name}'s profile`,children:e.jsx("div",{onClick:l,className:"cursor-pointer",children:e.jsx("img",{loading:"lazy",className:"size-9 rounded-full shadow-md object-cover",src:t.image})})}),e.jsx("div",{className:"absolute size-[16px] bg-white rounded-full flex justify-center items-center bottom-0 right-0",children:e.jsx("div",{className:`size-3 rounded-full bg-green-500
          `})})]}),e.jsx(R,{arrow:!0,placement:"top",title:`View ${t==null?void 0:t.name}'s profile`,children:e.jsx(I,{onClick:l,sx:{cursor:"pointer"},variant:"h6",fontSize:"0.9rem",children:t.name})})]})},ss=({title:s,text:i})=>{const{userId:t,headerTitle:o,setHeaderTitle:a}=n.useContext(M),r=q();return n.useEffect(()=>(a("STAR EDUCATION ACADEMY"),()=>{document.title=o}),[]),e.jsxs("div",{className:"grid p-5 gap-y-2",children:[i&&e.jsx(I,{variant:"subtitle2",children:i}),e.jsx("div",{children:e.jsx(F,{size:"small",onClick:()=>r(t?"/app":"/login"),startIcon:e.jsx(it,{}),children:"Return Home"})})]})},ts=()=>e.jsxs("div",{className:"grid gap-y-2  p-2 ",children:[e.jsx(z,{variant:"text",width:150}),e.jsx(z,{variant:"rectangular",height:55,width:"100%"})]}),ja=()=>{const{deleteFromHistory:s,setHeaderTitle:i,userId:t,historyCount:o}=n.useContext(M),a=q(),[r,c]=n.useState([]),[l,d]=n.useState(null),[u,m]=n.useState(!1),[x,g]=n.useState(!1),[h,f]=n.useState(!1),[p,S]=n.useState([]),L=X(),{mode:j}=L.palette,y=H($(T,"users",t),"history"),[N,v]=n.useState(!0),[A,k]=n.useState(!1),[B,E]=n.useState(null),[b,C]=n.useState(!0),[U,O]=n.useState(0),[D,W]=n.useState(null),G=8,Y=async()=>{v(!0);let ee=se(y,ke(G));D&&(ee=se(ee,y0(D)));try{const ce=await Ee(ee);if(ce.empty)k(!0);else{const Me=ce.docs.map(Ge=>({id:Ge.id,...Ge.data()}));c([...r,...Me]),W(ce.docs[ce.docs.length-1]),de(v),O(U+1),Me.length<G&&C(!1)}}catch(ce){const Me="Error fetching history: "+ce.message;console.log(Me),v(!1),E(Me)}};n.useEffect(()=>{Y()},[]);const Z=ee=>{h||a(`/app/history/${ee.id}`)},ie=()=>{s(l),d(null),m(!1)},J=()=>{m(!1),d(null)},re=()=>{const ee=r.filter(ce=>!p.includes(ce.id));c(ee),S([]),g(!1),f(!1)};return N0("history-page"),P0("history-page"),n.useEffect(()=>{i("History")},[]),N&&U===0?e.jsx(be,{isLoading:N,text:"Loading history..."}):A?e.jsx(Q,{text:"No items available"}):B?e.jsx(Q,{text:B}):e.jsxs("div",{children:[e.jsx(He,{data:{value:x,setValue:g,text:`Are you sure to delete ${p.length} ${p.length<=1?"item":"items"} ?`,yesButton:re,noButton:()=>g(!1),setValue:g}}),e.jsx(He,{data:{value:u,text:"Are you sure to delete ?",yesButton:ie,noButton:J,setValue:m}}),e.jsxs("div",{className:`grid    ${j==="dark"?"border-slate-700":"border-slate-200"}`,children:[r.map((ee,ce)=>e.jsx(va,{h:ee,index:ce,goToResults:Z,mode:j},`history-item-${ee.id}`)),b?e.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:e.jsx(F,{size:"small",onClick:Y,children:"load more"})}):""]})]})},va=oe.memo(({h:s,index:i,goToResults:t,mode:o})=>{const[a,r]=n.useState(!0);return de(r,2e3),a?e.jsx(ts,{}):e.jsxs(w,{onClick:()=>t(s,i),className:"min-h-20 p-2  cursor-pointer  gap-x-3  border-b border-b-slate-400",children:[e.jsx("div",{className:"font-medium",children:s.testName}),e.jsx("div",{className:"p-2 flex items-center gap-x-2",children:e.jsx("div",{className:"flex flex-1 items-center gap-x-3",children:e.jsxs("div",{className:"flex-1 sm:flex items-center gap-x-3 ",children:[e.jsxs("div",{className:"flex gap-x-2 items-center mb-1",children:[e.jsx(at,{})," ",s.score," / ",s.results.length," "]}),e.jsxs("div",{className:"flex gap-x-2 items-center",children:[e.jsx(ot,{})," ",s.date," (",` ${s.time}`,")"]})]})})})]})}),wa=()=>{var N;const{userId:s,setHeaderTitle:i}=n.useContext(M),t=0,o=10,[a,r]=n.useState(o),[c,l]=n.useState({}),d=(N=c==null?void 0:c.results)==null?void 0:N.slice(t,a),u=`${c==null?void 0:c.testName}`,{resultId:m}=Ve(),[x,g]=n.useState(!0),[h,f]=n.useState(!1),[p,S]=n.useState(null),L=async()=>{try{g(!0);const v=H($(T,"users",s),"history"),A=$(v,m),k=await Ie(A);if(k.exists){const B={id:k.id,...k.data()};l(B),de(g)}else f(!0),de(g)}catch(v){S("Error fetching reviews: "+v.message),de(g)}};n.useEffect(()=>{L()},[m]),n.useEffect(()=>(ze(),ze()),[]);const j=()=>{r(a+o)},y=()=>{var v;if(a>((v=c==null?void 0:c.results)==null?void 0:v.length))return!0};return n.useEffect(()=>{i(u)}),x?e.jsx(be,{isLoading:x,text:"Loading reviews..."}):h?e.jsx(Q,{text:"No reviews available"}):p?e.jsx(Q,{text:p}):e.jsx("div",{className:"p-5",children:c?e.jsxs("div",{className:"grid gap-y-5",children:[e.jsx("div",{className:"font-medium text-lg",children:u}),d==null?void 0:d.map(v=>{const{id:A,question:k,isTrue:B,answer:E,userAnswer:b}=v;return B?e.jsxs("div",{className:"grid font-padauk gap-y-2",children:[e.jsxs("div",{className:"flex gap-x-3 items-center",children:[e.jsx("div",{className:"bg-green-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:A}),e.jsx("div",{className:"flex-1",children:k})]}),e.jsx("div",{children:e.jsxs("div",{className:"grid gap-y-1",children:[e.jsx("div",{className:"text-green-500 font-bold",children:"Correct (your answer)"}),e.jsxs("div",{className:"min-h-12  flex gap-x-3 p-2 border text-green-500 border-green-500 rounded-lg items-center shadow-md shadow-lime-200",children:[e.jsx("img",{loading:"lazy",className:"w-5 h-5",src:ve("trueIcon")}),e.jsx("div",{children:E})]})]})}),e.jsx(a0,{})]},`result-${A}`):e.jsxs("div",{className:"grid font-padauk gap-y-2",children:[e.jsxs("div",{className:"flex gap-x-3 items-center",children:[e.jsx("div",{className:"bg-red-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:A}),e.jsx("div",{className:"flex-1",children:k})]}),e.jsxs("div",{className:"grid gap-y-1",children:[e.jsxs("div",{className:"grid gap-y-1",children:[e.jsx("div",{className:"text-red-500 font-bold",children:"Incorrect (your answer)"}),e.jsxs("div",{className:"min-h-12 flex gap-x-3 p-2 border text-red-500 border-red-500 rounded-lg items-center shadow-md shadow-red-200",children:[e.jsx("img",{loading:"lazy",className:"w-5 h-5",src:ve("falseIcon")}),e.jsx("div",{children:b})]})]}),e.jsxs("div",{className:"grid gap-y-1",children:[e.jsx("div",{className:"text-green-500 font-bold",children:"Correct"}),e.jsxs("div",{className:" min-h-12  flex gap-x-3 p-2 border text-green-500 shadow-md shadow-lime-200 border-green-500 rounded-lg items-center",children:[e.jsx("img",{loading:"lazy",className:"w-5 h-5",src:ve("trueIcon")}),e.jsx("div",{children:E})]})]})]}),e.jsx(a0,{})]},`result-${A}`)}),y()?"":e.jsx("div",{className:"flex justify-center",children:e.jsx(F,{size:"small",onClick:j,startIcon:e.jsx(rt,{}),children:"See More"})}),e.jsx("div",{children:e.jsx(E0,{to:`/app/history/${m}`,children:e.jsx(F,{size:"small",startIcon:e.jsx(Xe,{}),children:"Back to results"})})})]}):e.jsx(ss,{text:"Unavailable"})})},Ca=()=>{const{setHeaderTitle:s}=n.useContext(M),i={text:"About SEA",image:e.jsx(q2,{}),answer:`SEA stands for Star Education Academy, is an education academy founded by U Aye Kyaw and Daw Sandar Lwin in 2015. At SEA, you can study variety of subjects including
    English Language and four skills,
    Philosophy, Maths and Science.`},t=[{text:"Is my data private ?",answer:"Yes, your data is private."},{text:"Where can I give feedback to developer ?",answer:"You can give feedback at aungnaingthan22@gmail.com"}],o=[{text:"What are updated in the latest version ?",answer:"Updated UI design and fix bugs."},{text:"What is the last update time ?",answer:` Updated: ${Ze(1727797920096)}.`}];return N0("help-page"),P0("help-page"),n.useEffect(()=>{s("Help")},[]),e.jsxs(w,{className:"m-2 rounded-md ",children:[e.jsx(be,{}),e.jsxs(g0,{children:[e.jsx(f0,{expandIcon:e.jsx(p0,{}),children:e.jsxs("div",{className:"flex gap-x-2 items-center",children:[i.image," ",i.text]})}),e.jsx(j0,{children:i.answer})]}),e.jsxs(g0,{children:[e.jsx(f0,{expandIcon:e.jsx(p0,{}),children:e.jsxs("div",{className:"flex gap-x-2 items-center",children:[e.jsx(ct,{})," ",i.text]})}),e.jsx(j0,{children:t.map(a=>e.jsxs(g0,{children:[e.jsx(f0,{expandIcon:e.jsx(p0,{}),children:a.text}),e.jsx(j0,{children:a.answer})]},a.text))})]}),e.jsxs(g0,{children:[e.jsx(f0,{expandIcon:e.jsx(p0,{}),children:e.jsxs("div",{className:"flex gap-x-2 items-center",children:[e.jsx(B2,{})," Updates"]})}),e.jsx(j0,{children:o.map(a=>e.jsxs(g0,{children:[e.jsx(f0,{expandIcon:e.jsx(p0,{}),children:a.text}),e.jsx(j0,{children:a.answer})]},a.text))})]})]})},ya=()=>{const{userId:s}=n.useContext(M),[i,t]=n.useState(!0),[o,a]=n.useState(!1),[r,c]=n.useState(null),[l,d]=n.useState(null),u=`${l==null?void 0:l.testName} - Results`,m=Math.round((l==null?void 0:l.score)/(l==null?void 0:l.totalScore)*100),x=q(),{resultId:g}=Ve();n.useEffect(()=>{(async()=>{try{t(!0);const p=H($(T,"users",s),"history"),S=$(p,g),L=await Ie(S);L.exists()?(d(L.data()),de(t,1200)):(de(t),a(!0))}catch(p){de(t),c("Error fetching current result: "+p.message),console.log("Error")}})()},[g]),n.useEffect(()=>(ze(),ze()),[]);const h=async()=>{try{await navigator.share({title:"Check out my score!",text:`I scored ${l.score} out of ${l.totalScore} in '${l.testName}'.
Website URL - https://seaacademy.onrender.com/tests/
        `})}catch{console.log("Error")}};return o?e.jsx(Q,{text:"No result available"}):r?e.jsx(Q,{text:r}):e.jsx("div",{className:"p-5 ",children:e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex items-center gap-x-1 h-10 font-medium mb-4",children:[e.jsx(R,{title:"Navigate up",arrow:!0,children:e.jsx(V,{onClick:()=>x("/app/history"),children:e.jsx(Xe,{})})}),i?e.jsx(z,{height:40,width:150}):e.jsx("div",{className:"text-lg pl-2 place-items-center bg-blue-40",children:u})]}),e.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[e.jsx("div",{children:e.jsx("div",{className:"grid items-center justify-center bg-blue-300/50 h-40 w-40 rounded-full",children:e.jsx("div",{className:"grid items-center justify-center bg-blue-400/50 h-32 w-32 rounded-full",children:e.jsx("div",{className:"grid items-center justify-center bg-blue-500/50 h-28 w-28 rounded-full",children:e.jsx("div",{className:"grid  h-20 w-20 items-center justify-center rounded-full",children:e.jsxs("div",{className:"flex flex-col items-center justify-center font-medium",children:[e.jsx("div",{className:"text-sm font-bold",children:"Your Score"}),i?e.jsx(z,{height:40,width:60}):e.jsxs("div",{className:" text-lg ",children:[l.score," / ",l.totalScore]})]})})})})})}),e.jsx("div",{className:`grid items-center justify-center font-bold
             text-lg `,children:i?e.jsx(z,{height:40,width:60}):e.jsxs("div",{children:[" ",l.level]})})]}),i?e.jsx(z,{width:"100%"}):e.jsxs("div",{className:"mt-1 mb-2 h-2 border flex ",children:[e.jsx("div",{className:"h-full",style:{width:`${m}%`}}),e.jsx("div",{className:"h-full bg-gray-200",style:{width:`${100-m}%`}})]}),i?e.jsx(z,{height:200,width:"100%"}):e.jsxs("div",{className:"grid border shadow-lg grid-cols-2 gap-y-2 border p-2 rounded-lg",children:[e.jsx(_e,{text:"Score Percentage",value:`${m}%`,color:"text-lime-500"}),e.jsx(_e,{text:"Total Questions",value:l.totalScore,color:"text-lime-500"}),e.jsx(_e,{text:"Correct",value:l.score,color:"text-green-500"}),e.jsx(_e,{text:"Wrong",value:l.totalScore-l.score,color:"text-red-500"}),e.jsx(_e,{text:"Date",value:l.date,color:"text-lime-500"}),e.jsx(_e,{text:"Time",value:l.time,color:"text-lime-500"}),e.jsx(_e,{text:"Time taken",value:si(l.timeTaken)||"Unknown",color:"text-lime-500"})]}),e.jsxs("div",{className:"grid grid-cols-3 justify-center gap-y-2 mt-5",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i?e.jsx(z,{height:28,width:28}):e.jsx(V,{onClick:()=>x(`/app/history/${g}/reviews`),children:e.jsx(n2,{})}),i?e.jsx(z,{width:60}):e.jsx("div",{className:"text-sm",children:"Review Answers"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i?e.jsx(z,{height:28,width:28}):e.jsx(V,{onClick:h,children:e.jsx(lt,{})}),i?e.jsx(z,{width:60}):e.jsx("div",{className:"text-sm",children:"Share Score"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i?e.jsx(z,{height:28,width:28}):e.jsx(V,{onClick:()=>x("/app"),children:e.jsx(o2,{})}),i?e.jsx(z,{width:60}):e.jsx("div",{className:"text-sm",children:"Home"})]})]})]})})},_e=({text:s,value:i,color:t})=>e.jsxs("div",{children:[e.jsxs("div",{className:`font-medium ${t}`,children:["● ",i]}),e.jsx("div",{className:"text-sm",children:s})]}),La=({data:s})=>{const{pageTitle:i,currentPage:t,totalPage:o,percentage:a,answerLength:r,questionsLength:c}=s,{stopTest:l,formattedTime:d}=n.useContext(M),u=q(),[m,x]=n.useState(!1),g=()=>{l(),x(!1),u("/app/tests")},h=()=>{x(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:" font-medium text-lg flex items-center justify-start",children:[e.jsx(R,{title:"Navigate up",arrow:!0,children:e.jsx(V,{onClick:()=>x(!0),children:e.jsx(Xe,{})})}),e.jsx("div",{className:"ml-2 ",children:i}),e.jsx(He,{data:{value:m,yesButton:g,noButton:h,text:"Are you sure to stop the test ?",setValue:x}})]}),e.jsxs("div",{className:"flex justify-between items-center sticky left-0 pt-1 right-0 z-10 ",children:[e.jsxs("div",{children:["Page ",t," of ",o]}),e.jsxs("div",{className:"w-2/3 border h-7 relative",children:[e.jsx("div",{style:{width:`${a}%`},className:"text-center h-full"}),e.jsxs("div",{className:"absolute top-0 left-2 font-medium",children:[r," ","/"," ",c]})]}),e.jsx("div",{className:"min-h-12 font-medium fixed right-0 top-1/4 h-10 min-w-20 bg-lime-200/50 backdrop-blur-lg flex items-center justify-center rounded-bl-lg rounded-tl-lg border-r-4 border-r-blue-400",children:d})]})]})},ba=({data:s})=>{const{currentQuestions:i,chooseAnswer:t,answeredQuestions:o}=s;return e.jsx("div",{children:i==null?void 0:i.map((a,r)=>e.jsxs("div",{children:[e.jsxs("div",{className:"grid gap-y-2",children:[e.jsxs("div",{className:"flex gap-x-3 items-center",children:[e.jsx("div",{className:"bg-blue-600 rounded-sm shadow-lg h-9 w-9 text-white font-bold flex justify-center items-center ",children:a.id}),e.jsx("div",{className:"flex-1 font-padauk",children:a.question})]}),e.jsx("div",{className:"grid gap-y-2",children:a.choices.map((c,l)=>{let d,u=!1;return o.forEach(m=>{a.id===m.id&&(d=m)}),(d==null?void 0:d.userAnswer)===c&&(u=!0),e.jsxs("div",{onClick:()=>{t(a.id,c)},className:"border  h-12 flex gap-x-3 p-2 cursor-pointer items-center rounded-lg font-padauk",children:[e.jsx("input",{onChange:()=>{t(a.id,c)},className:"h-5 w-5",name:`question-${a.id}`,type:"radio",checked:!!u}),e.jsx("div",{children:c})]},`choice-${a.id}-${l}-${c}`)})})]}),e.jsx(Na,{})]},`question-${a.id}-${r}-${a.question}`))})},Na=()=>e.jsx("div",{className:" border border-dashed border-gray-500 mb-7 mt-7"}),Sa=()=>e.jsxs("div",{className:"flex gap-x-2 items-center",children:[e.jsx("img",{loading:"lazy",className:"w-8 ",src:ve("error")}),e.jsx("div",{className:"text-red-600 font-bold",children:"You need to answer all questions before proceeding!"})]});function ka(s,i,t){const o=i.name,a=za(s,i.quizzes),r=Ia(a),c=s.length,l=i.gradingRules.length!==0?Ea(r,i.gradingRules)||"There is an error in your grading rules":"Level is not defined",d=Aa(),u=Ma();return{testName:o,results:a,score:r,totalScore:c,level:l,date:d,time:u,timeTaken:t}}function za(s,i){return i.map(o=>{const{id:a,question:r,answer:c}=o;let l;s.forEach(u=>{a===u.id&&(l=u)});const{userAnswer:d}=l;return d===o.answer?{id:a,question:r,userAnswer:d,answer:c,isTrue:!0}:{id:a,question:r,userAnswer:d,answer:c,isTrue:!1}})}function Ia(s){let i=0;return s.forEach(t=>{t.isTrue&&i++}),i}function Ea(s,i){let t;try{i.forEach(o=>{s>=Number(o.from)&&s<=Number(o.to)&&(t=o.level)})}catch(o){console.log(o.message)}return t}function Aa(){const s=new Date,i=s.getDate(),t=s.getMonth()+1,o=s.getFullYear();return`${i}/${t}/${o}`}function Ma(){const s=new Date;let i=s.getHours();const t=s.getMinutes(),o=i>12?"PM":"AM";i=i%12||12;const a=t<10?`0${t}`:t;return`${i}:${a} ${o}`}async function c0(s,i,t="everyone",o){const a=H(T,"newNotifications"),r={type:s,fromUser:i,forUser:t,itemId:o,timestamp:he()};try{await qe(a,r)}catch(c){console.log(c.message)}}const $a=({data:s})=>{const{nextPage:i,prevPage:t,isEnded:o,startIndex:a,currentTest:r,answeredQuestions:c,testId:l}=s,{formattedTime:d,stopTest:u,userId:m}=n.useContext(M),x=q(),g=async()=>{try{const f=H($(T,"users",m),"history"),p=ka(c,r,d),S=await qe(f,p),L=(await Ie(S)).id;x(`/app/history/${L}`)}catch(f){console.log(f.message)}},h=async()=>{await g(),u(),await c0("took test",m,"admin",l)};return e.jsxs("div",{className:"flex justify-center gap-x-5",children:[a!==0&&e.jsx(F,{variant:"outlined",size:"small",onClick:t,startIcon:e.jsx(Xe,{}),children:"Previous"}),o?e.jsx(F,{variant:"outlined",size:"small",onClick:h,startIcon:e.jsx(mt,{}),children:"Finish"}):e.jsx(F,{variant:"outlined",size:"small",onClick:i,startIcon:e.jsx(dt,{}),children:"Next"})]})},Ta=()=>{var W,G;n.useContext(M);const{testId:s}=Ve(),[i,t]=n.useState([]),[o,a]=n.useState(null),[r,c]=n.useState(!0),[l,d]=n.useState(!1),[u,m]=n.useState(null),[x,g]=n.useState(!1);n.useEffect(()=>{(async()=>{try{c(!0);const Z=$(T,"tests",s),ie=await Ie(Z);ie.exists()?(a(ie.data()),de(c,1200)):(de(c),d(!0))}catch(Z){de(c,1200),m("Failed to fetch current test: "+Z.message)}})()},[]);const h=i==null?void 0:i.length,f=(W=o==null?void 0:o.quizzes)==null?void 0:W.length,[p,S]=n.useState(0),[L,j]=n.useState(!1),[y,N]=n.useState(!1),v=10;let A=(G=o==null?void 0:o.quizzes)==null?void 0:G.slice(p,p+v);const k=o==null?void 0:o.name,B=Math.ceil(f/v),E=Math.ceil((p+v)/v),b=Math.round(h/f*100);n.useEffect(()=>(ze(),ze()),[]),n.useEffect(()=>{h===f&&p+v>=f?j(!0):j(!1)},[p,i]),n.useEffect(()=>{h>=p+v?N(!0):N(!1)},[i,p]);const D={pageTitle:k,currentPage:E,totalPage:B,percentage:b,answerLength:h,questionsLength:f,answeredQuestions:i,currentQuestions:A,isEnded:L,chooseAnswer:(Y,Z)=>{const ie=Kn(Y,i);t(ie?i.map(J=>Y===J.id?{id:Y,userAnswer:Z}:J):[...i,{id:Y,userAnswer:Z}])},nextPage:()=>{y?(S(p+v),h<=p+v&&ze()):Xn(g)},prevPage:()=>{S(Math.max(p-v,0))},startIndex:p,currentTest:o,testId:s};return r?e.jsx(be,{isLoading:r,text:"Loading test..."}):l?e.jsx(Q,{text:"No test available"}):u?e.jsx(Q,{text:x}):e.jsxs("div",{className:"p-3 grid gap-y-3",children:[e.jsx(La,{data:D}),e.jsx(ba,{data:D}),x&&e.jsx(Sa,{}),e.jsx($a,{data:D})]})},ns=({post:s,setViewingImage:i})=>{const[o,a]=n.useState(4),[r,c]=n.useState(!0),l=s.images.slice(0,o),d=s.images.length-4,u=()=>{c(!1),a(s.images.length)};return l.map((m,x)=>e.jsxs(r2,{item:!0,xs:4,sm:3,md:3,className:"relative cursor-pointer",children:[e.jsx("img",{loading:"lazy",onClick:()=>i(m),className:"w-full  ",src:m.imageURL,alt:m.name}),e.jsx("div",{className:"z-20 absolute right-1 top-1"}),x+1===4&&r&&d?e.jsx("div",{onClick:u,className:"z-10 absolute top-0 right-0 left-0 bottom-0 flex cursor-pointer items-center justify-center",children:e.jsxs("div",{className:"font-medium text-6xl text-white",children:["+",d]})}):""]},`post-${s.id}-image-${m.imageURL}`))},is=({files:s})=>(X().palette,e.jsxs(w,{className:"grid mt-2",children:[e.jsx(I,{className:"p-2 font-bold",children:"Files"}),s.map((t,o)=>e.jsx("a",{href:t.fileURL,download:t.name,target:"_blank",children:e.jsxs(w,{className:`p-1  cursor-pointer min-h-14 flex gap-x-1 items-center font-bold border-slate-300 border-t ${o===s.length-1&&"border-b"}  `,children:[e.jsx(ut,{}),e.jsxs("div",{children:[e.jsx("p",{className:"underline",children:t.name}),(t==null?void 0:t.size)&&e.jsxs("p",{children:[(t.size/(1024*1024)).toFixed(2)," MB"]})]})]})},`${o}-${t.fileURL}`))]})),as=({links:s})=>(X().palette,e.jsxs("div",{className:"grid mt-2",children:[e.jsx("p",{className:"p-2 font-bold",children:"Links"}),s.map((t,o)=>e.jsx("a",{href:t.link,target:"_blank",children:e.jsxs(w,{className:`p-1  cursor-pointer min-h-14 flex gap-x-1 items-center font-bold border-slate-300 border-t ${o===s.length-1&&"border-b"}  `,children:[e.jsx(l0,{}),e.jsx("div",{children:e.jsx("p",{className:"underline",children:t.title})})]})},`${o}-${t.link}`))]})),os=({post:s,collectionName:i})=>{const{id:t}=s;X().palette;const a=q(),[r,c]=n.useState(null),[l,d]=n.useState(null),{userId:u}=n.useContext(M),[m,x]=n.useState(!1),[g,h]=n.useState(!1),f=i==="posts";H($(T,i,t),"comments");const p=H($(T,i,t),"likes"),[S,L]=n.useState(!1),j=async(N,v)=>{const A=H($(T,i,t),N);console.log("Fetching counts...");const k=await s2(A);v(k.data().count)};n.useEffect(()=>{(async()=>{await j("likes",c),await j("comments",d)})()},[]),n.useEffect(()=>{(async()=>{const v=se(p,Le("uid","==",u)),A=await Ee(v);L(!A.empty)})()},[]);const y=async()=>{try{const N=async()=>{await j("likes",c)},v=$(p,u),A={uid:u,timestamp:he()};S?(L(!1),await Re(v),N()):(L(!0),await Ye(v,A),N(),await c0(`like ${f?"post":"test"}`,u,"everyone",t))}catch(N){console.log(N.message)}};return e.jsxs("div",{className:"mt-2",children:[e.jsxs(w,{className:"transition-all mb-1 flex justify-between pl-2 pr-2",children:[e.jsx(F,{size:"small",sx:{textDecoration:"underline",textTransform:"capitalize"},variant:m?"outlined":"text",onClick:()=>{a(`/app/${f?"posts":"tests"}/${f?"sp":"st"}/${t}`)},children:e.jsxs("span",{children:[r||0," ",r>1?"Likes":"Like"]})}),e.jsxs(F,{size:"small",variant:g?"outlined":"text",sx:{textDecoration:"underline",textTransform:"capitalize"},onClick:()=>{a(`/app/${f?"posts":"tests"}/${f?"sp":"st"}/${t}`)},children:[l||0," ",l>1?"Comments":"Comment"]})]}),e.jsxs(w,{className:"p-2  pt-2 flex gap-x-2",children:[e.jsx(R,{title:S?"Unlike":"Like",arrow:!0,children:e.jsx(V,{color:"error",size:"small",sx:{textTransform:"capitalize"},onClick:y,children:S?e.jsx(A0,{}):e.jsx(c2,{})})}),e.jsx(F,{size:"small",sx:{textTransform:"capitalize"},onClick:()=>{a(`/app/${f?"posts":"tests"}/${f?"sp":"st"}/${t}`)},startIcon:e.jsx(xt,{}),children:"Comment"})]})]})},m2=()=>e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex gap-x-2 pl-2 pr-2 items-center",children:[e.jsx(z,{variant:"circular",width:35,height:35}),e.jsx(z,{width:"40%",height:50,variant:"text"})]}),e.jsxs("div",{className:"pl-2 pr-2",children:[e.jsx(z,{width:"100%"}),e.jsx(z,{width:"60%"})]}),e.jsxs("div",{className:"flex gap-x-1 pl-2 pr-2",children:[e.jsx(z,{height:100,width:"20%"}),e.jsx(z,{height:100,width:"20%"}),e.jsx(z,{height:100,width:"20%"})]}),e.jsxs("div",{className:"flex items-center gap-x-2 pl-2 pr-2 pb-1",children:[e.jsx(z,{width:70,animation:"wave",variant:"rounded",height:30}),e.jsx(z,{width:70,animation:"wave",variant:"rounded",height:30})]})]}),rs=({post:s,collectionName:i})=>{const{id:t}=s;X().palette,q();const[a,r]=n.useState(null),[c,l]=n.useState(null),{userId:d}=n.useContext(M),[u,m]=n.useState(!1),[x,g]=n.useState(!0),h=i==="posts",f=H($(T,i,t),"comments"),p=H($(T,i,t),"likes"),[S,L]=n.useState(!1),j=async(N,v)=>{const A=H($(T,i,t),N);console.log("Fetching counts...");const k=await s2(A);v(k.data().count)};n.useEffect(()=>{(async()=>{await j("likes",r),await j("comments",l)})()},[]),n.useEffect(()=>{(async()=>{const v=se(p,Le("uid","==",d)),A=await Ee(v);L(!A.empty)})()},[]);const y=async()=>{try{const N=async()=>{await j("likes",r)},v=$(p,d),A={uid:d,timestamp:he()};S?(L(!1),await Re(v),N()):(L(!0),await Ye(v,A),N(),await c0(`like ${h?"post":"test"}`,d,"everyone",t))}catch(N){console.log(N.message)}};return e.jsxs("div",{className:"mt-2",children:[e.jsxs(w,{className:"transition-all mb-1 flex justify-between pl-2 pr-2",children:[e.jsx(F,{size:"small",sx:{textDecoration:"underline",textTransform:"capitalize"},variant:u?"outlined":"text",onClick:()=>{m(!u),g(!x)},children:e.jsxs("span",{children:[a||0," ",a>1?"Likes":"Like"]})}),e.jsxs(F,{size:"small",sx:{textDecoration:"underline",textTransform:"capitalize"},variant:x?"outlined":"text",onClick:()=>{m(!u),g(!x)},children:[c||0," ",c>1?"Comments":"Comment"]})]}),e.jsx(w,{className:"p-1 flex justify-center gap-x-2 shadow rounded-md w-[50px] m-2",children:e.jsx(R,{title:S?"Unlike":"Like",arrow:!0,children:e.jsx(V,{className:"",color:"error",size:"small",sx:{textTransform:"capitalize"},onClick:y,children:S?e.jsx(A0,{}):e.jsx(c2,{})})})}),u&&e.jsx(Ua,{isLikesOpen:u,setIsLikesOpen:m,likesRef:p,likeCounts:a}),x&&e.jsx(Ba,{isPost:h,post:s,commentsRef:f,collectionName:i,commentCounts:c,setCommentCounts:l,getCounts:j,isCommentsOpen:x,setIsCommentsOpen:g})]})},Ua=({likesRef:s,likeCounts:i})=>{const[o,a]=n.useState([]),[r,c]=n.useState(null),[l,d]=n.useState(!0),[u,m]=n.useState(!0),[x,g]=n.useState(!1);X();const h=async()=>{let f=se(s,Oe("timestamp","desc"),ke(8));r&&(f=se(f,y0(r)));const p=await Ee(f);if(p.empty)g(!0),a([]);else{const S=p.docs.map(L=>({id:L.id,...L.data()}));a([...o,...S]),g(!1),S.length<8&&m(!1)}d(!1),c(p.docs[p.docs.length-1])};return n.useEffect(()=>{h()},[]),e.jsxs(w,{sx:{width:{xs:"100%"}},className:"",bgcolor:"background.default",children:[x&&e.jsx("div",{className:"flex items-center justify-center ",children:"No likes yet..."}),l?e.jsx("div",{className:"flex justify-center p-1",children:e.jsx(V2,{})}):e.jsxs("div",{className:"m-2 grid gap-y-2 p-2",children:[o.sort((f,p)=>Ae(f,p,"timestamp","newer")).map((f,p)=>e.jsx(Ra,{like:f},`user-${f.uid}-${p}`)),e.jsx(ye,{direction:"row",justifyContent:"center",children:u?e.jsx(F,{size:"small",onClick:h,children:"Load More"}):""})]})]})},Ra=oe.memo(({like:s})=>{const{users:i}=n.useContext(M),[t,o]=n.useState(null),[a,r]=n.useState(),c=q();return me(s.uid,i,o,r),a?e.jsx(m0,{}):e.jsxs("div",{className:"flex gap-x-2 items-center",children:[e.jsx(R,{title:t?`View ${t&&t.name}'s profile`:"Deleted User",arrow:!0,placement:"top",children:e.jsx("div",{className:"cursor-pointer",onClick:()=>c(`/app/profile/${t==null?void 0:t.uid}`),children:e.jsx(ne,{image:t==null?void 0:t.image,name:t&&t.name,size:"size-9"})})}),e.jsx(R,{title:t?`View ${t&&t.name}'s profile`:"Deleted User",arrow:!0,placement:"top",children:e.jsx(I,{onClick:()=>c(`/app/profile/${t==null?void 0:t.uid}`),variant:"h6",fontSize:"0.9rem",sx:{cursor:"pointer"},children:t?t.name:"Unknown User"})})]})}),Ba=({post:s,isPost:i,commentsRef:t,setCommentCounts:o,getCounts:a})=>{const[r,c]=n.useState(""),[l,d]=n.useState([]),[u,m]=n.useState(!0),[x,g]=n.useState(!1),{userId:h}=n.useContext(M),[f,p]=n.useState(null),S=X(),[L,j]=n.useState(!1),y=()=>{const k=se(t,Oe("timestamp","desc"));return m(!0),Te(k,E=>{a("comments",o),E.empty?(m(!1),g(!0),d([])):(d(E.docs.map(b=>({id:b.id,...b.data()})).sort((b,C)=>Ae(b,C,"timestamp"))),g(!1),m(!1))})};n.useEffect(()=>{const k=y();return()=>{k&&k()}},[]);const N=async()=>{if(r.trim()){const k={uid:h,text:r.trim(),timestamp:he()};await qe(t,k),c(""),await c0(`comment ${i?"post":"test"}`,h,"everyone",s.id)}},v=async()=>{const k=$(t,f);if(r.trim()){const B={text:r.trim(),editedTime:he()};await ue(k,B),c(""),p(null)}},A=async k=>{const B=$(t,k);try{await Re(B)}catch(E){console.log(E.message)}};return e.jsxs(w,{sx:{width:{xs:"100%"}},bgcolor:"background.default",children:[e.jsx(ge,{open:L,onClose:()=>j(!1),children:e.jsx(Q2,{theme:S.palette.mode,onEmojiClick:k=>{c(r+k.emoji)}})}),x&&e.jsxs("div",{className:"flex flex-col  m-5 items-center justify-center ",children:[e.jsx(At,{}),e.jsx(I,{variant:"h6",fontSize:"1.1rem",children:"No comments yet"}),e.jsx(I,{variant:"caption",children:"Be the first to comment."})]}),e.jsx("div",{className:"grid gap-y-2 m-2 p-2",children:l.map(k=>{const B=k.uid===h,E=B&&{text:"Edit",icon:e.jsx(Ne,{}),onClick:()=>{p(k.id),c(k.text)}};return e.jsx(Fa,{comment:k,editOption:E,yourComment:B,deleteComment:A},`${k.uid}-${k.id}`)})}),e.jsx("div",{className:" flex justify-center  gap-x-1 sticky bottom-0 right-0 left-0",children:e.jsxs(w,{bgcolor:"background.default",className:"flex  gap-x-2 p-2 shadow rounded-md ",sx:{width:{xs:"90%",sm:"350px",md:"500px"}},children:[e.jsx(le,{sx:{"& .MuiOutlinedInput-root":{"& fieldset":{border:"none"}}},name:"comment",fullWidth:!0,size:"small",onChange:k=>c(k.target.value),value:r,placeholder:"Write a comment..."}),e.jsxs("div",{className:"flex gap-x-1",children:[f&&e.jsx(V,{onClick:()=>{p(null),c("")},children:e.jsx(Ke,{})}),e.jsx(V,{onClick:()=>j(!0),children:e.jsx(Y2,{})}),e.jsx(V,{onClick:()=>{r.trim()&&(f?v():N())},children:e.jsx(ht,{})})]})]})})]})},Fa=oe.memo(({comment:s,editOption:i,yourComment:t,deleteComment:o})=>{const{users:a,userData:r}=n.useContext(M),[c,l]=n.useState(null),[d,u]=n.useState(),m=q();return me(s.uid,a,l,u),e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex gap-x-1",children:[e.jsx("div",{children:d?e.jsx(z,{variant:"circular",height:40,width:40}):e.jsx(R,{title:c?`View ${c&&c.name}'s profile`:"Deleted User",arrow:!0,placement:"top",children:e.jsx("div",{onClick:()=>m(`/app/profile/${c==null?void 0:c.uid}`),className:"cursor-pointer",children:e.jsx(ne,{image:c&&c.image,name:c&&c.name,size:"size-9"})})})}),e.jsxs("div",{className:"max-w-[250px]",children:[e.jsxs("div",{className:"p-2",children:[d?e.jsx(z,{height:40,width:120}):e.jsx(R,{title:c?`View ${c&&c.name}'s profile`:"Deleted User",arrow:!0,placement:"top",children:e.jsx(I,{onClick:()=>m(`/app/profile/${c==null?void 0:c.uid}`),sx:{cursor:"pointer"},variant:"h6",fontSize:"0.9rem",children:c?c.name:"Unknown User"})}),d?e.jsx(z,{sx:{mt:-1},height:60,width:200}):e.jsx("div",{className:"text-left",children:s.text})]}),e.jsx("div",{className:"text-sm text-left mt-1",children:s!=null&&s.editedTime?e.jsxs("span",{children:["edited ",M0(we(s.editedTime))]}):e.jsx("span",{children:M0(we(s.timestamp))})})]})]}),t||r!=null&&r.isAdmin?e.jsx(s0,{options:[i,{text:"Delete",icon:e.jsx(e0,{}),onClick:()=>o(s.id)}],isComment:!0}):""]})}),Pa=oe.memo(()=>{var k,B;const{postId:s,type:i}=Ve(),[t,o]=n.useState(null),{users:a,openSnackbar:r,setViewingImage:c,viewingImage:l,userData:d,setHeaderTitle:u}=n.useContext(M),[m,x]=n.useState(null),g=q(),[h,f]=n.useState(null),[p,S]=n.useState(!1),[L,j]=n.useState(!0),[y,N]=n.useState(!0),v=d!=null&&d.isAdmin?{text:"Edit Post",icon:e.jsx(Ne,{}),onClick:()=>{g("/app/admin/posts/")}}:null;return X().palette,n.useState(!1),n.useEffect(()=>{(async()=>{try{j(!0);const b=$(T,"posts",s),C=await Ie(b);C.exists()?(o({id:C.id,...C.data()}),j(!1)):(j(!1),S(!0))}catch(b){j(!1),f(b.message),r(b.message),console.log(b.message)}})()},[s]),me(t==null?void 0:t.uid,a,x,N,[s,t],1200),n.useEffect(()=>{!y&&m&&u((m==null?void 0:m.name)+"'s post")},[y]),L?e.jsx(w,{m:2,children:e.jsx(m2,{})}):p?e.jsx(Q,{text:"No post available"}):h?e.jsx(Q,{text:h}):e.jsx(w,{mt:2,mb:5,children:e.jsxs(w,{bgcolor:"background.default",color:"text.primary",sx:{width:"full"},children:[l&&e.jsx(d2,{image:l,setViewingImage:c,postImage:!0}),e.jsxs(w,{className:"top-section flex justify-between  mb-2 p-2",children:[e.jsxs(w,{className:"flex gap-x-2",children:[y?e.jsx(z,{width:35,height:35,variant:"circular"}):e.jsx(R,{title:`View ${m&&m.name}'s profile`,arrow:!0,placement:"top",children:e.jsx("div",{className:"cursor-pointer",onClick:()=>g(`/app/profile/${m.uid}`),children:e.jsx(ne,{image:m==null?void 0:m.image,name:m==null?void 0:m.name})})}),e.jsxs(w,{children:[y?e.jsx(z,{height:40,width:120}):e.jsx(R,{title:`View ${m&&m.name}'s profile`,arrow:!0,placement:"top",children:e.jsx(I,{onClick:()=>g(`/app/profile/${m.uid}`),variant:"h6",fontSize:"1rem",sx:{cursor:"pointer"},children:m?m.name:"Unknown User"})}),e.jsx(I,{variant:"caption",children:Ze(we(t.time))})]})]}),e.jsx(w,{children:e.jsx(s0,{options:[{text:"Copy link",icon:e.jsx(l0,{}),onClick:()=>{const E=`${location.origin}/#/app/posts/sp/${t.id}`;navigator.clipboard.writeText(E),r("Link copied successfully")}},v],isComment:!0})})]}),(t==null?void 0:t.description)&&e.jsx(I,{p:1,children:t.description}),t.images.length!==0?e.jsx(r2,{container:!0,spacing:1,className:" p-0",sx:{p:1},children:e.jsx(ns,{post:t,setViewingImage:c})}):"",t.files&&((k=t==null?void 0:t.files)==null?void 0:k.length)!==0&&e.jsx(is,{files:t.files}),(t==null?void 0:t.links)&&((B=t==null?void 0:t.links)==null?void 0:B.length)!==0&&e.jsx(as,{links:t.links}),e.jsx(rs,{post:t,collectionName:"posts"})]})})}),u2=()=>e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex gap-x-2 pl-2 pr-2 items-center",children:[e.jsx(z,{variant:"circular",width:35,height:35}),e.jsx(z,{width:"40%",height:50,variant:"text"})]}),e.jsxs("div",{className:"pl-2 pr-2",children:[e.jsx(z,{width:"100%"}),e.jsx(z,{width:"60%"})]}),e.jsx("div",{className:"flex gap-x-1 justify-center pl-2 pr-2",children:e.jsx(z,{height:100,width:"30%"})}),e.jsxs("div",{className:"flex items-center gap-x-2 pl-2 pr-2 pb-1",children:[e.jsx(z,{width:70,animation:"wave",variant:"rounded",height:30}),e.jsx(z,{width:70,animation:"wave",variant:"rounded",height:30})]})]}),Oa=oe.memo(()=>{const{testId:s}=Ve(),i=q(),[t,o]=n.useState(null),{users:a,openSnackbar:r,startTimer:c,userData:l,setHeaderTitle:d}=n.useContext(M),[u,m]=n.useState(null),[x,g]=n.useState(null),[h,f]=n.useState(!1),[p,S]=n.useState(!0),[L,j]=n.useState(!0);X().palette,n.useState(!1);const N=l!=null&&l.isAdmin?{text:"Edit Test",icon:e.jsx(Ne,{}),onClick:()=>{i("/app/admin/tests/")}}:null;return n.useEffect(()=>{(async()=>{try{S(!0);const A=$(T,"tests",s),k=await Ie(A);k.exists()?(o({id:k.id,...k.data()}),S(!1)):(S(!1),f(!0))}catch(A){S(!1),g(A.message),r(A.message),console.log(A.message)}})()},[s]),me(t==null?void 0:t.uid,a,m,j,[s,t],1200),n.useEffect(()=>{u&&d(u.name+"'s post")},[u]),p?e.jsx(w,{m:2,children:e.jsx(u2,{})}):h?e.jsx(Q,{text:"No post available"}):x?e.jsx(Q,{text:x}):e.jsx(w,{m:2,children:e.jsxs(w,{bgcolor:"background.default",color:"text.primary",className:"flex flex-col justify-between min-h-60   bg-gradient-to-tr",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex gap-x-2 mb-2 p-2",children:[L?e.jsx(z,{width:35,height:35,variant:"circular"}):e.jsx(R,{title:`View ${u&&u.name}'s profile`,arrow:!0,placement:"top",children:e.jsx("div",{className:"cursor-pointer",onClick:()=>i(`/app/profile/${u.uid}`),children:e.jsx(ne,{image:u==null?void 0:u.image,name:u==null?void 0:u.name})})}),e.jsxs("div",{children:[L?e.jsx(z,{height:40,width:120}):e.jsx(R,{title:`View ${u&&u.name}'s profile`,arrow:!0,placement:"top",children:e.jsx(I,{onClick:()=>i(`/app/profile/${u.uid}`),variant:"h6",fontSize:"1rem",sx:{cursor:"pointer"},children:u?u.name:"Unknown User"})}),e.jsx("div",{className:" text-sm",children:Ze(we(t.time))})]}),e.jsxs("span",{className:" text-sm text-gray-400 flex items-center p-1 ",children:[t.quizzes.length,t.quizzes.length>1?" questions":" question"]})]}),e.jsx(w,{children:e.jsx(s0,{options:[{text:"Copy link",icon:e.jsx(l0,{}),onClick:()=>{const v=`${location.origin}/#/app/tests/st/${t.id}`;navigator.clipboard.writeText(v),r("Link copied successfully")}},N],isComment:!0})})]}),t.image&&e.jsx("div",{className:"m-2 flex justify-center p-2",children:e.jsx("img",{className:"h-[250px]",src:`images/tests/${t.image}`})}),e.jsxs("div",{className:"p-2  ",children:[e.jsx("div",{className:"font-medium text-lg",children:t.name}),e.jsx("p",{className:" mb-2 break-words white-space-pre-wrap",children:t.description.trim()||"No description"}),e.jsx(F,{sx:{textDecoration:"underline"},size:"small",onClick:()=>{c(),i(`/app/tests/${t.id}`)},children:"Take the test"})]}),e.jsx(rs,{post:t,collectionName:"tests"})]})})}),Da=oe.memo(()=>{const{userData:s,users:i,setHeaderTitle:t,openSnackbar:o}=n.useContext(M),[a,r]=n.useState(null),[c,l]=n.useState(!1),[d,u]=n.useState(!1),[m,x]=n.useState(null),[g,h]=n.useState(null),{userId:f}=Ve(),p=H(T,`users/${f}/likes`),S=$(T,`/users/${f}`),[L,j]=n.useState(!1),[y,N]=n.useState(""),[v,A]=n.useState("offline"),[k,B]=n.useState(null);R0(a==null?void 0:a.uid,A,B,[f,a]);const E=()=>Te(S,Y=>{Y.exists()?(r({uid:Y.id,...Y.data()}),l(!1)):l(!0)});n.useEffect(()=>{const G=E();return()=>{G&&G()}},[f]);const b=()=>a&&s?s.uid===a.uid:!1,C=async()=>{await $e(p,x)};n.useEffect(()=>{const G=je.get("userId");(async()=>{const Z=se(p,Le("uid","==",G)),ie=await Ee(Z);u(!ie.empty)})(),C()},[]),n.useEffect(()=>{a&&!b()&&c0("view profile",f,a==null?void 0:a.uid,a==null?void 0:a.uid)},[a]);const U=async()=>{try{const G=je.get("userId"),Y=$(p,s==null?void 0:s.uid),Z={uid:G,timestamp:he()};d?(u(!1),await Re(Y),C()):(u(!0),await Ye(Y,Z),await c0("like profile",G,a==null?void 0:a.uid,a==null?void 0:a.uid),C())}catch(G){console.log(G.message)}};n.useEffect(()=>{a&&(b()?t("My Profile"):t(`${a.name}'s Profile`))},[a,f]);const O=async()=>{const G=je.get("userId"),Y=$(T,`users/${G}`);if(!g)return;const Z=`profile/${G}/${g.name}`,ie=Pe(De,Z);o("Compressing image...");const J=await b0(g,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0});o("Uploading image...");const re=await o0(ie,J),ee=await r0(re.ref);await ue(Y,{coverImage:ee}),o("Changed cover image successfully")},D=()=>{document.getElementById("imageInput").click()};n.useEffect(()=>{O()},[g]),n.useEffect(()=>{N(a==null?void 0:a.bio)},[a]);const W=async()=>{await ue(S,{bio:y}),o("Edited bio successfully")};return c?e.jsx(w,{m:2,children:"User not available!"}):e.jsxs(w,{children:[e.jsx("input",{id:"imageInput",className:"hidden",type:"file",accept:"image/*",onChange:G=>h(G.target.files[0])}),e.jsxs(w,{className:"relative ",children:[a?e.jsx("img",{loading:"lazy",onClick:()=>{b()&&D()},className:`w-full h-[150px] object-cover ${b()?"cursor-pointer hover:opacity-80":""}`,src:a!=null&&a.coverImage?a==null?void 0:a.coverImage:"/images/education.jpg"}):e.jsx(z,{sx:{mt:-5},height:200,width:"100%"}),a?e.jsx("div",{className:"absolute -bottom-[40%] left-[10%]",children:e.jsxs("div",{className:"relative",children:[e.jsx(ne,{size:90,image:a.image,name:a.name}),e.jsx("div",{className:"size-[20px] bg-white rounded-full flex justify-center items-center absolute bottom-0 right-2",children:e.jsx("div",{className:` size-4 rounded-full ${v==="online"?"bg-green-500":"bg-gray-500"}`})})]})}):e.jsx("div",{className:"absolute z-10 bottom-0 left-[10%]",children:e.jsx(z,{variant:"circular",height:"96px",width:"96px"})})]}),e.jsxs(w,{m:2,mt:8,className:"",children:[a?e.jsxs(e.Fragment,{children:[e.jsxs(w,{className:"flex gap-x-3",children:[e.jsx(I,{variant:"h5",children:a.name}),e.jsx(F,{onClick:U,color:"error",size:"small",sx:{textTransform:"capitalize"},variant:d?"contained":"outlined",startIcon:d?e.jsx(A0,{}):e.jsx(c2,{}),children:d?"Liked":"Like"})]}),e.jsx(I,{sx:{mb:1,mt:-1},children:v==="online"?e.jsx(I,{variant:"caption",sx:{color:"green"},children:"Online"}):e.jsx(I,{variant:"caption",sx:{color:"gray"},children:k})}),b()&&e.jsx(ye,{children:e.jsx(I,{variant:"caption",children:a.email})}),e.jsxs(w,{className:"flex gap-x-2 items-center mt-1",children:[e.jsxs(I,{variant:"caption",children:["UID: ",a.uid]}),e.jsx("div",{children:e.jsx(V,{onClick:()=>{navigator.clipboard.writeText(a.uid),o("UID copied successfully")},size:"small",children:e.jsx(K0,{fontSize:"18px"})})})]})]}):e.jsx(z,{sx:{marginTop:"-50px"},height:35,width:150}),a?e.jsxs("div",{className:"flex mt-2 mb-2 gap-x-2 items-center  border border-dashed rounded-md shadow-md border-slate-400 p-2 justify-between",children:[L?e.jsx(le,{fullWidth:!0,name:"bio",size:"small",variant:"outlined",multiline:!0,maxRows:5,autoFocus:!0,value:y,onChange:G=>N(G.target.value),className:"pl-1 pr-1 w-auto font-bold text-sm",placeholder:"Enter description",inputProps:{sx:{fontSize:12}}}):e.jsx(e.Fragment,{children:a?e.jsx(I,{sx:{whiteSpace:"pre-line",width:"90%"},variant:"caption",className:"font-bold",children:a!=null&&a.bio?a.bio:b()?"Bio: I am a student":"No bio"}):e.jsx(z,{height:40,width:150})}),a&&b()?e.jsx(R,{title:"Edit bio",arrow:!0,children:e.jsx(V,{size:"small",onClick:()=>{j(!L),L&&y!==a.bio&&W()},className:" p-1  cursor-pointer",children:e.jsx(Ne,{sx:{width:20,height:20}})})}):e.jsx(e.Fragment,{children:b()&&e.jsx(z,{variant:"circular",height:20,width:20})})]}):e.jsx(z,{height:40,width:250})]}),e.jsx(w,{m:2,className:"",children:a?e.jsxs(w,{className:"grid gap-y-2",children:[e.jsxs(I,{variant:"caption",children:[e.jsx(gt,{})," Joined: ",Ze(we(a.createdAt))]}),m?e.jsxs(I,{variant:"caption",children:[e.jsx(A0,{color:"error"})," ",m," ",m<=1?"person":"people"]}):"",e.jsx("div",{className:"flex justify-start mt-2",children:e.jsx(F,{onClick:()=>{const G=`${location.origin}/#/app/profile/${f}`;navigator.clipboard.writeText(G),o(`Copied ${a==null?void 0:a.name}'s profile link successfully!`)},startIcon:e.jsx(K0,{}),size:"small",children:"Copy link"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(z,{height:35,width:150}),e.jsx(z,{height:35,width:150})]})})]})}),Ha=()=>{const{setHeaderTitle:s}=n.useContext(M),[i,t]=n.useState(""),[o,a]=n.useState([{title:"Users",icon:e.jsx(H2,{})}]),[r,c]=n.useState("Users");n.useState([]);const[l,d]=n.useState([]),u=q(),m=()=>{switch(r){case"Users":return"Enter uid or name...";case"Posts":return"Enter the title...";case"Tests":return"Enter the title..."}};n.useEffect(()=>{s("Search")},[]);const x=async()=>{const h=H(T,"users");let f=[];if(i.trim())try{const p=se(h,Le("name",">=",i.trim()),Le("name","<=",i.trim()+"")),L=(await Ee(p)).docs.map(N=>({uid:N.id,...N.data()}));f=[...f,...L];const j=$(h,i.trim()),y=await Ie(j);y.exists()&&f.push({uid:y.id,...y.data()}),d(f)}catch(p){console.log(p.message)}},g=h=>{u(`/app/profile/${h}`)};return e.jsxs("div",{className:"p-5 ",children:[e.jsx("div",{className:"flex gap-x-1 items-center mb-2",children:o.map(h=>e.jsx(F,{onClick:()=>c(h.title),color:"primary",startIcon:h.icon,size:"small",variant:r===h.title?"contained":"outlined",children:h.title},h.title))}),e.jsxs("div",{className:" flex items-center mb-1",children:[e.jsx("div",{className:"h-11 flex-1 ",children:e.jsx(le,{placeholder:m(),size:"small",fullWidth:!0,value:i,onChange:h=>t(h.target.value)})}),e.jsx("button",{onClick:x,className:"bg-gray-500 rounded-full p-3 -ml-6 z-10",children:e.jsx(Z2,{})})]}),e.jsx("div",{className:"",children:i.trim()&&e.jsxs("div",{className:" mb-2 text-sm flex justify-between items-center mr-2 ml-2",children:[e.jsxs("div",{className:" flex-1",children:['Results for "',i,'"']}),e.jsx(V,{onClick:()=>t(""),children:e.jsx(Ke,{})})]})}),l.length>0?e.jsx("div",{className:"border border-slate-400 shadow-md rounded-md ",children:l.map(h=>e.jsxs("div",{className:"flex items-center gap-x-2 p-1 b",children:[e.jsx(R,{arrow:!0,placement:"top",title:`View ${h==null?void 0:h.name}'s profile`,children:e.jsx("div",{onClick:()=>g(h.uid),className:"cursor-pointer",children:e.jsx(ne,{image:h==null?void 0:h.image,name:h==null?void 0:h.name})})}),e.jsx(R,{arrow:!0,placement:"top",title:`View ${h==null?void 0:h.name}'s profile`,children:e.jsxs(I,{onClick:()=>g(h.uid),sx:{cursor:"pointer"},variant:"h6",fontSize:"0.9rem",children:[h==null?void 0:h.name," ",h!=null&&h.isAdmin?e.jsx(I,{variant:"caption",children:"(admin)"}):""]})})]}))}):""]})},Va=()=>e.jsxs("div",{className:"m-3 grid gap-y-2",children:[e.jsx(m2,{}),e.jsx(u2,{}),e.jsx(m0,{}),e.jsx(ts,{})]}),Ga=()=>{const{setHeaderTitle:s,setUserId:i,openSnackbar:t}=n.useContext(M),[o,a]=n.useState(""),[r,c]=n.useState(""),[l,d]=n.useState(""),[u,m]=n.useState("login"),x=q();n.useEffect(()=>{s("STAR EDUCATION ACADEMY")},[]);const g=()=>{x("/app")};ei("auto");const h=async()=>{try{t("Signing in with Google...");const y=(await $s(Ce,$t)).user,N=$(T,"users",y.uid);(await Ie(N)).exists()||await Y0(Ce.currentUser.displayName,Ce.currentUser.email,"",Ce.currentUser.photoURL,y.uid),je.set("userId",y.uid,{expires:365}),i(y.uid),g(),t(`Signed in as ${y.displayName} successfully`)}catch(j){t(j.message)}},f=async()=>{try{t("Logging in...");const y=(await Ts(Ce,r,l)).user,N=$(T,"users",y.uid);(await Ie(N)).exists()||await Y0(y.displayName,y.email,"","",y.uid),je.set("userId",y.uid,{expires:365}),i(y.uid),g(),t("Logged in successfully")}catch(j){t(j.message)}},p=async()=>{try{t("Creating an account...");const j=await Us(Ce,r,l),{user:y}=j;je.set("userId",y.uid,{expires:365}),await Y0(o,r,l,"",y.uid),i(y.uid),g(),t("Created an account successfully")}catch(j){t(j.message)}},S=()=>{const j=je.get("userId")||null;let y=!1;return j&&(y=!0),{loggedIn:y,userId:j}},L=()=>{switch(u){case"login":return e.jsx("div",{children:e.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[e.jsx(I,{variant:"h6",color:"primary",children:"Log In"}),e.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[e.jsx(le,{name:"email",variant:"filled",color:"primary",label:"Enter your email",type:"email",size:"small",value:r,onChange:j=>c(j.target.value)}),e.jsx(le,{name:"email",variant:"filled",color:"primary",label:"Enter your password",type:"password",size:"small",value:l,onChange:j=>d(j.target.value)}),e.jsx(F,{onClick:f,sx:{textTransform:"capitalize"},variant:"contained",color:"primary",children:"Log In"})]}),e.jsx(A2,{}),e.jsx("div",{children:e.jsx(F,{onClick:h,startIcon:e.jsx("img",{loading:"lazy",className:"size-7",src:ve("google")}),sx:{textTransform:"capitalize"},variant:"outlined",children:"Sign in With Google"})}),e.jsx(A2,{}),e.jsx("div",{children:e.jsx(F,{onClick:()=>m("signup"),sx:{textTransform:"capitalize"},variant:"outlined",children:"Create new Account"})})]})});case"signup":return e.jsx("div",{children:e.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[e.jsx(I,{variant:"h6",color:"primary",children:"Create a new account"}),e.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[e.jsx(le,{variant:"filled",color:"primary",label:"Enter your name",type:"email",size:"small",value:o,onChange:j=>a(j.target.value)}),e.jsx(le,{name:"email",variant:"filled",color:"primary",label:"Enter your email",type:"email",size:"small",value:r,onChange:j=>c(j.target.value)}),e.jsx(le,{name:"email",variant:"filled",color:"primary",label:"Enter your password",type:"password",size:"small",value:l,onChange:j=>d(j.target.value)}),e.jsx(F,{onClick:()=>{p()},sx:{textTransform:"capitalize"},variant:"contained",color:"primary",children:"Sign up"}),e.jsx("div",{children:e.jsx(F,{startIcon:e.jsx("img",{loading:"lazy",className:"size-7",src:ve("back")}),onClick:()=>m("login"),sx:{textTransform:"capitalize"},variant:"outlined",color:"primary",children:"Log in"})})]})]})})}};return e.jsxs("div",{className:"Login mb-5",children:[e.jsx(be,{}),S().loggedIn?e.jsx(Wa,{userId:S().userId}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-md rounded-md font-medium  p-1 pl-2 border-b",children:"You must log in first."}),L()]})]})},A2=()=>e.jsx("div",{className:"mt-2 mb-2 ",children:"OR"}),Wa=({userId:s})=>{const i=q(),{userData:t}=n.useContext(M);return e.jsxs(ye,{m:2,children:[e.jsxs(I,{children:["You are already logged in as ",t==null?void 0:t.name,"."]}),e.jsx(w,{mt:1,children:e.jsx(F,{onClick:()=>i("/app/settings"),variant:"outlined",children:"Settings"})})]})},Ya=({data:s})=>{const{setIsMenuOpen:i}=s,[t,o]=n.useState(!1),[a,r]=n.useState(!1),{setUserId:c,userId:l}=n.useContext(M);X().palette;const u=n.useRef(null),m=q(),{userData:x}=n.useContext(M),g=async()=>{try{await M2(Ce),i(!1),je.remove("userId"),c(null),m("/login")}catch(h){console.log(h.message)}};return B0(u,o),e.jsxs(w,{ref:u,className:"p-2 ",children:[e.jsx(w,{className:"top-0 right-0 left-0 bottom-0",children:e.jsx(He,{data:{value:a,yesButton:g,noButton:()=>{r(!1)},text:"Are you sure to log out ?",setValue:r}})}),e.jsx(F,{variant:t?"outlined":"text",size:"small",sx:{textTransform:"capitalize",justifyContent:"start"},onClick:()=>o(!t),className:"transition-all  p-1 flex items-center rounded-md cursor-pointer w-full min-h-14",children:e.jsxs(w,{className:"flex gap-x-2 items-center mb-2",children:[e.jsx(w,{className:"relative size-10",children:e.jsx(ne,{image:x==null?void 0:x.image,name:x==null?void 0:x.name})}),e.jsx(w,{className:"flex flex-1 items-center justify-between",children:e.jsx(I,{fontSize:"1.1rem",variant:"h6",children:x!=null&&x.name?x.name:"Username"})})]})}),t&&e.jsx(w,{bgcolor:"background.default",className:"absolute bottom-[70px] left-1 w-4/6 sm:w-3/5 md:w-4/6  p-2 ",children:e.jsxs(w,{children:[e.jsx(F,{size:"small",sx:{width:"100%"},onClick:()=>{m("/app/settings"),i(!1),o(!1)},startIcon:e.jsx(ft,{}),children:"Settings"}),e.jsx(F,{size:"small",sx:{width:"100%"},onClick:()=>{m(`/app/profile/${l}`),i(!1),o(!1)},startIcon:e.jsx(pt,{}),children:"My Profile"}),e.jsx(F,{size:"small",sx:{width:"100%"},onClick:()=>{r(!0)},startIcon:e.jsx(R2,{}),children:"Log out"})]})})]})},qa=({isMenuOpen:s,setIsMenuOpen:i})=>{const t=["/app/admin","/app/admin/posts","/app/admin/users","/app/admin/helps","/app/admin/tests"],{userData:o,newMessages:a,historyCount:r,setHistoryCount:c,userId:l}=n.useContext(M),d=t2(),u=d.pathname.includes("/app/history"),m=t.includes(d.pathname),x=d.pathname==="/app/"||d.pathname==="/app",g=d.pathname.includes("/app/tests"),h=d.pathname.includes("/app/help");n.useEffect(()=>{try{$e(H($(T,"users",l),"history"),c)}catch(j){console.log(j.message)}},[]);const f=()=>{let j=0;return a.forEach(y=>{F0(a,y.id)||(j+=1)}),!!(j>0&&(o!=null&&o.name))},p=[{text:"Home",image:e.jsx(o2,{}),path:"/app",active:x},{text:"Tests",image:e.jsx(a2,{}),path:"/app/tests",active:g},{text:"History",image:e.jsx(wt,{}),path:"/app/history",items:r,active:u},{text:"Admin",image:e.jsx(Ct,{}),path:"/app/admin",active:m},{text:"Help",image:e.jsx(q2,{}),path:"/app/help",active:h}],S=["Admin"],L=p.filter(j=>o!=null&&o.isAdmin?!0:!S.includes(j.text));return e.jsxs(jt,{variant:"temporary",transitionDuration:{enter:300,exit:300},anchor:"left",open:s,onOpen:()=>i(!0),onClose:()=>i(!1),sx:{"& .MuiDrawer-paper":{width:{xs:"300px",sm:"350px",md:"400px",lg:"450px",xl:"500px"}}},children:[e.jsx("div",{className:"flex p-2 items-center",children:e.jsxs("div",{className:"font-medium text-md flex-1 flex items-center",children:[e.jsx(R,{title:"Close",arrow:!0,children:e.jsx(V,{onClick:()=>i(!1),children:e.jsx(Ke,{})})}),e.jsx(I,{variant:"h6",fontSize:"1rem",children:"STAR EDUCATION ACADEMY"})]})}),e.jsxs(ye,{sx:{flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[e.jsx(vt,{direction:"right",in:s,mountOnEnter:!0,unmountOnExit:!0,children:e.jsx("div",{className:"mr-2 ml-2",children:L.map(j=>e.jsx(Za,{setIsMenuOpen:i,data:{active:j.active,image:j.image,path:j.path,text:j.text,items:j==null?void 0:j.items,color:j.color,isThereNewMessages:f}},j.text))})}),e.jsx(Ya,{data:{setIsMenuOpen:i}})]})]})},Za=oe.memo(({setIsMenuOpen:s,data:i})=>{const{active:t,image:o,text:a,items:r,path:c,color:l,isThereNewMessages:d}=i,u=q(),{currentTest:m}=n.useContext(M);return e.jsxs(F,{sx:{color:t?"white":"",height:47,justifyContent:"start",alignItems:"center",textTransform:"capitalize"},variant:t?"contained":"text",onClick:()=>{u(c),s(!1)},className:`relative font-bold p-2  pl-2 transition-all  rounded-tr-3xl rounded-br-3xl flex items-center gap-x-1 w-full 
      
      `,startIcon:o,children:[e.jsx("div",{children:a}),r&&r>=0?e.jsx("div",{className:` flex items-center rounded-full justify-center pl-1 pr-1  min-h-6 min-w-6 text-sm top-0 -left-1 font-bold text-white ${l||"bg-black"}`,children:r}):"",m&&a==="Home"&&e.jsxs("div",{className:"text-sm",children:["(Taking ",t0(m.name,45),")"]}),a==="Chat Room"&&(d()?e.jsx("div",{className:"absolute right-2 top-3 shadow-sm bg-red-500 size-3 rounded-full"}):"")]})}),Qa=oe.memo(()=>{const{headerTitle:s,newMessages:i,userData:t,userId:o,notiCount:a,setNotiCount:r}=n.useContext(M),[c,l]=n.useState(!1),d=X(),{mode:u}=d.palette,m=t2(),x=m.pathname.includes("/app/notifications"),g=m.pathname.includes("/app/chatroom"),h=m.pathname.includes("/app/search");return n.useEffect(()=>{if(!t)return;const f=H(T,"newNotifications"),p=se(f,Le("forUser","in",[o,"everyone",t!=null&&t.isAdmin?"admin":""]));(async()=>{await $e(null,r,p)})()},[t]),e.jsxs(G2,{position:"sticky",sx:{backgroundColor:u==="dark"?"background.default":"white",color:"text.primary"},children:[e.jsx(W2,{sx:{padding:"5px"},children:e.jsxs(w,{className:"flex justify-between w-full",children:[o&&e.jsxs(w,{display:"flex",alignItems:"center",className:"gap-x-1",children:[e.jsx(R,{title:"Menu",arrow:!0,children:e.jsx(V,{sx:{position:"relative"},onClick:()=>l(!0),children:e.jsx(yt,{})})}),e.jsx(R,{title:"Notifications",arrow:!0,children:e.jsx(E0,{to:"/app/notifications",children:e.jsx(V,{color:x?"success":"default",sx:{position:"relative"},children:e.jsx(D2,{anchorOrigin:{vertical:"top",horizontal:"right"},badgeContent:a,color:"primary",children:e.jsx(Lt,{})})})})}),e.jsx(R,{title:"Chat room",arrow:!0,children:e.jsx(E0,{to:"/app/chatroom",children:e.jsxs(V,{color:g?"success":"default",sx:{position:"relative"},children:[e.jsx(bt,{}),ti(i,t)?e.jsx("div",{className:"absolute left-2 top-2 shadow-sm bg-red-500 size-3 rounded-full"}):""]})})}),e.jsx(R,{title:"Search",arrow:!0,children:e.jsx(E0,{to:"/app/search",children:e.jsx(V,{color:h?"success":"default",sx:{position:"relative"},children:e.jsx(Z2,{})})})}),c&&e.jsx(qa,{setIsMenuOpen:l,isMenuOpen:c})]}),e.jsx(w,{children:e.jsx("div",{className:" gap-x-2  hidden small:block",children:e.jsx("img",{loading:"lazy",className:"size-12 rounded-full",src:"images/sea-logo.jpg"})})})]})}),e.jsx("div",{className:"ml-4 md:ml-8 -mt-3",children:e.jsx(I,{variant:"h6",fontSize:"1.12rem",children:s})})]})});oe.memo(()=>{const i=new Date().getFullYear();return X(),e.jsxs(ye,{bgcolor:"background.default",color:"text.primary",className:"w-full shadow-t-md flex flex-col items-center p-1 pt-3 mt-auto",rowGap:.5,children:[e.jsxs(I,{children:["SEA copyright 2015 - ",i]}),e.jsx(I,{children:"All rights reserved."}),e.jsx(I,{children:"Author: Than Aung Naing"})]})});const Ja=oe.memo(({post:s,setViewingImage:i})=>{var g,h;const{users:t,openSnackbar:o,userData:a}=n.useContext(M),[r,c]=n.useState(null),[l,d]=n.useState(!0);X().palette;const m=q(),x=a!=null&&a.isAdmin?{text:"Edit Post",icon:e.jsx(Ne,{}),onClick:()=>{m("/app/admin/posts/")}}:null;return me(s.uid,t,c,d,[],1200),l?e.jsx(m2,{}):e.jsxs(w,{bgcolor:"background.default",color:"text.primary",sx:{width:"full"},className:"shadow ",children:[e.jsxs(w,{className:"top-section flex justify-between  mb-2 p-2",children:[e.jsxs(w,{className:"flex gap-x-2",children:[e.jsx(R,{title:`View ${r&&r.name}'s profile`,arrow:!0,placement:"top",children:e.jsx("div",{className:"cursor-pointer",onClick:()=>m(`/app/profile/${r.uid}`),children:e.jsx(ne,{image:r==null?void 0:r.image,name:r==null?void 0:r.name})})}),e.jsxs(w,{children:[e.jsx(R,{title:`View ${r&&r.name}'s profile`,arrow:!0,placement:"top",children:e.jsx(I,{onClick:()=>m(`/app/profile/${r.uid}`),variant:"h6",fontSize:"1rem",sx:{cursor:"pointer"},children:r?r.name:"Unknown User"})}),e.jsx(I,{variant:"caption",children:Ze(we(s.time))})]})]}),e.jsx(w,{children:e.jsx(s0,{options:[{text:"Copy link",icon:e.jsx(l0,{}),onClick:()=>{const f=`${location.origin}/#/app/posts/sp/${s.id}`;navigator.clipboard.writeText(f),o("Link copied successfully")}},x],isComment:!0})})]}),(s==null?void 0:s.description)&&e.jsx(I,{p:1,children:s.description}),s.images.length!==0?e.jsx(r2,{container:!0,spacing:1,className:" p-0",sx:{p:1},children:e.jsx(ns,{post:s,setViewingImage:i})}):"",s.files&&((g=s==null?void 0:s.files)==null?void 0:g.length)!==0&&e.jsx(is,{files:s.files}),(s==null?void 0:s.links)&&((h=s==null?void 0:s.links)==null?void 0:h.length)!==0&&e.jsx(as,{links:s.links}),e.jsx(os,{post:s,collectionName:"posts"})]})}),_a=()=>{const{setHeaderTitle:s}=n.useContext(M),[i,t]=n.useState([]);q();const o=H(T,"posts"),[a,r]=n.useState(!0),[c,l]=n.useState(!1),[d,u]=n.useState(null),[m,x]=n.useState(0),[g,h]=n.useState(null),[f,p]=n.useState(!0),S=6,[L,j]=n.useState(null);n.useEffect(()=>{s("STAR EDUCATION ACADEMY")},[]);const y=async()=>{r(!0);let N=se(o,Oe("time","desc"),ke(S));L&&(N=se(N,y0(L)));try{const v=await Ee(N);if(v.empty)l(!0);else{const A=v.docs.map(k=>({id:k.id,...k.data()}));t([...i,...A]),j(v.docs[v.docs.length-1]),de(r),x(m+1),A.length<S&&p(!1)}}catch(v){const A="Error fetching posts: "+v.message;console.log(A),r(!1),u(A)}};return n.useEffect(()=>{y()},[]),N0("posts-page"),a&&m===0?e.jsx(be,{isLoading:a,text:"Loading posts..."}):c?e.jsx(Q,{text:"No posts available"}):d?e.jsx(Q,{text:d}):e.jsxs(w,{children:[e.jsxs("div",{className:"grid gap-y-10 mt-2",children:[g&&e.jsx(d2,{image:g,setViewingImage:h,postImage:!0}),i.sort((N,v)=>Ae(N,v,"time","newer")).map(N=>e.jsx(Ja,{setViewingImage:h,post:N},N.id))]}),f?e.jsx("div",{className:"flex justify-center mt-4 mb-2 ",children:e.jsx(F,{size:"small",onClick:y,children:"load more"})}):""]})},Ka=()=>{const{tests:s,setTests:i,setHeaderTitle:t,startTimer:o}=n.useContext(M);q();const a=H(T,"tests"),[r,c]=n.useState(!0),[l,d]=n.useState(!1),[u,m]=n.useState(null);d0(a,[],i,c,d,!1,m,500),n.useEffect(()=>{t("Tests")},[]);const x=()=>{o()};return N0("tests-page"),P0("tests-page"),r?e.jsx(be,{isLoading:r,text:"Loading tests..."}):l?e.jsx(Q,{text:"No tests available"}):u?e.jsx(Q,{text:u}):e.jsx("div",{className:"grid gap-y-10 mb-2 mt-2",children:s.sort((g,h)=>Ae(g,h,"timestamp","newer")).map(g=>e.jsx(Xa,{takeTest:x,t:g},g.id))})},Xa=oe.memo(({t:s,takeTest:i})=>{const{users:t,openSnackbar:o,userData:a}=n.useContext(M),[r,c]=n.useState(null),[l,d]=n.useState(!0),u=q();X().palette,me(s.uid,t,c,d);const x=a!=null&&a.isAdmin?{text:"Edit Test",icon:e.jsx(Ne,{}),onClick:()=>{u("/app/admin/tests/")}}:null;return l?e.jsx(u2,{}):e.jsxs(w,{bgcolor:"background.default",color:"text.primary",className:"shadow flex flex-col justify-between min-h-60 ",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex gap-x-2 mb-2 p-2",children:[e.jsx(R,{title:`View ${r&&r.name}'s profile`,arrow:!0,placement:"top",children:e.jsx("div",{className:"cursor-pointer",onClick:()=>u(`/app/profile/${r.uid}`),children:e.jsx(ne,{name:r==null?void 0:r.name,image:r==null?void 0:r.image})})}),e.jsxs("div",{children:[e.jsx(R,{title:`View ${r&&r.name}'s profile`,arrow:!0,placement:"top",children:e.jsx(I,{onClick:()=>u(`/app/profile/${r.uid}`),variant:"h6",fontSize:"1rem",sx:{cursor:"pointer"},children:r==null?void 0:r.name})}),e.jsx("div",{className:" text-sm",children:Ze(we(s.time))})]}),e.jsxs("span",{className:"rounded-md  text-sm text-gray-400 flex items-center p-1",children:[s.quizzes.length,s.quizzes.length>1?" questions":" question"]})]}),e.jsx(w,{children:e.jsx(s0,{options:[{text:"Copy link",icon:e.jsx(l0,{}),onClick:()=>{const g=`${location.origin}/#/app/tests/st/${s.id}`;navigator.clipboard.writeText(g),o("Link copied successfully")}},x],isComment:!0})})]}),s.image&&e.jsx("div",{className:"m-2 flex justify-center p-2",children:e.jsx("img",{loading:"lazy",className:"h-[250px]",src:`images/tests/${s.image}`})}),e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"font-medium text-lg",children:s.name}),e.jsx("p",{className:" mb-2 break-words white-space-pre-wrap",children:s.description.trim()||"No description"}),e.jsx(F,{sx:{textDecoration:"underline"},size:"small",onClick:()=>{i(),u(`/app/tests/${s.id}`)},children:"Take the test"})]}),e.jsx(os,{post:s,collectionName:"tests"})]})}),M=n.createContext();function eo(){var Be,x0,n0;const s=X0("sea-localStorage"),i=Nt("(prefers-color-scheme : dark)"),[t,o]=n.useState(X0("sea-website-theme")||"dark"),[a,r]=n.useState(((Be=s==null?void 0:s.timer)==null?void 0:Be.seconds)||0),[c,l]=n.useState(((x0=s==null?void 0:s.timer)==null?void 0:x0.minutes)||0),[d,u]=n.useState(((n0=s==null?void 0:s.timer)==null?void 0:n0.hours)||0),[m,x]=n.useState(null),[g,h]=n.useState([]),[f,p]=n.useState(null),[S,L]=n.useState(null),[j,y]=n.useState(null),[N,v]=n.useState(!1),[A,k]=n.useState(""),[B,E]=n.useState(!1),[b,C]=n.useState([]),[U,O]=n.useState([]),[D,W]=n.useState([]),[G,Y]=n.useState(null),[Z,ie]=n.useState([]),[J,re]=n.useState(!1),[ee,ce]=n.useState(""),[Me,Ge]=n.useState(null),Qe=Ue=>{re(!0),ce(Ue)};n.useEffect(()=>{J2("sea-website-theme",t)},[t]);const u0=Ue=>({palette:{mode:Ue,...Ue==="dark"?{primary:{main:"#90caf9"},secondary:{main:"#f48fb1"},background:{default:"#121212",paper:"#1d1d1d"},text:{primary:"#ffffff"}}:{primary:{main:"#1976d2"},secondary:{main:"#ff4081"},background:{default:"#ffffff",paper:"#f5f5f5"},text:{primary:"#000000"}},components:{MuiAppBar:{styleOverrides:{...Ue==="light"&&{backgroundColor:"#ffffff",color:"#000000"}}}}}}),S0=n.useMemo(()=>St(u0(t==="system"?i?"dark":"light":t)));d0(H(T,"newMessages"),[],W,()=>{},()=>{});const Je=()=>{},_=()=>{r(0),l(0),u(0)},Se=()=>{_()},pe=`${d}:${S2(c)}:${S2(a)}`;return n.useEffect(()=>{const Ue=setInterval(()=>{a<59?r(a+1):(r(0),l(c+1)),c===59&&(l(0),u(d+1))},1e3);return()=>{clearInterval(Ue)}},[a]),e.jsx(M.Provider,{value:{myChats:Z,setMyChats:ie,stopTest:Se,seaLocalStorage:s,formattedTime:pe,startTimer:_,seconds:a,minutes:c,hours:d,inspecting:N,userData:m,setUserData:x,users:g,setUsers:h,headerTitle:A,setHeaderTitle:k,refreshUserData:Je,isOnline:B,setIsOnline:E,userId:f,setUserId:p,setInspecting:v,posts:b,setPosts:C,tests:U,setTests:O,history,chats:G,setChats:Y,newMessages:D,notiCount:j,setNotiCount:y,historyCount:S,setHistoryCount:L,snackbarOpen:J,setSnackbarOpen:re,snackbarMessage:ee,setSnackbarMessage:ce,openSnackbar:Qe,setMode:o,mode:t,viewingImage:Me,setViewingImage:Ge},children:e.jsxs(kt,{theme:S0,children:[e.jsx(zt,{}),e.jsxs(w,{bgcolor:"background.default",className:" App font-padauk flex flex-col items-center min-h-screen ",children:[e.jsx(It,{bgcolor:"background.default",open:J,onClose:()=>re(!1),autoHideDuration:4e3,message:ee}),e.jsxs(ps,{children:[e.jsx(ai,{userId:f}),e.jsx(ii,{}),e.jsx(Qa,{}),e.jsx("div",{className:"flex-1 w-full h-full md:w-4/5 lg:w-3/5 ",children:e.jsxs(Bs,{children:[e.jsx(ae,{exact:!0,path:"/test",element:e.jsx(Va,{})}),e.jsx(ae,{exact:!0,path:"/login",element:e.jsx(Ga,{})}),f&&e.jsxs(e.Fragment,{children:[e.jsx(ae,{exact:!0,path:"/app",element:e.jsx(_a,{})}),e.jsx(ae,{exact:!0,path:"/app/search",element:e.jsx(Ha,{})}),e.jsx(ae,{exact:!0,path:"/app/profile/:userId",element:e.jsx(Da,{})}),e.jsx(ae,{exact:!0,path:"/app/posts/sp/:postId",element:e.jsx(Pa,{})}),e.jsx(ae,{exact:!0,path:"/app/tests/st/:testId",element:e.jsx(Oa,{})}),e.jsx(ae,{exact:!0,path:"/app/tests",element:e.jsx(Ka,{})}),e.jsx(ae,{exact:!0,path:"/app/tests/:testId",element:e.jsx(Ta,{})}),e.jsx(ae,{exact:!0,path:"/app/history",element:e.jsx(ja,{})}),e.jsx(ae,{exact:!0,path:"/app/history/:resultId",element:e.jsx(ya,{})}),e.jsx(ae,{exact:!0,path:"/app/help",element:e.jsx(Ca,{})}),e.jsx(ae,{exact:!0,path:"/app/history/:resultId/reviews",element:e.jsx(wa,{})}),e.jsx(ae,{path:"/app/chatroom",element:e.jsx(xa,{})}),e.jsx(ae,{path:"/app/chatroom/:chatId",element:e.jsx(ta,{})}),e.jsx(ae,{path:"/app/notifications",element:e.jsx(Ai,{})}),(m==null?void 0:m.isAdmin)&&e.jsxs(e.Fragment,{children:[e.jsx(ae,{path:"/app/admin",element:e.jsx(Ii,{})}),e.jsx(ae,{path:"/app/admin/tests",element:e.jsx(zi,{})}),e.jsx(ae,{path:"/app/admin/users",element:e.jsx(vi,{})}),e.jsx(ae,{path:"/app/admin/posts",element:e.jsx(xi,{})})]}),e.jsx(ae,{exact:!0,path:"/app/settings",element:e.jsx(ci,{})})]}),e.jsx(ae,{path:"*",element:e.jsx(ss,{title:"No page found!",text:"No page found!"})})]})})]})]})]})})}fs.createRoot(document.getElementById("root")).render(e.jsx(oe.StrictMode,{children:e.jsx(eo,{})}));
