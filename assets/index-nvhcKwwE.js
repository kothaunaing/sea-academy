var YV=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var RCe=YV((rbe,fg)=>{function KV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function $P(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Tl(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var FP={exports:{}},Z1={},VP={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip=Symbol.for("react.element"),QV=Symbol.for("react.portal"),XV=Symbol.for("react.fragment"),JV=Symbol.for("react.strict_mode"),ZV=Symbol.for("react.profiler"),eU=Symbol.for("react.provider"),tU=Symbol.for("react.context"),nU=Symbol.for("react.forward_ref"),rU=Symbol.for("react.suspense"),sU=Symbol.for("react.memo"),iU=Symbol.for("react.lazy"),mS=Symbol.iterator;function oU(t){return t===null||typeof t!="object"?null:(t=mS&&t[mS]||t["@@iterator"],typeof t=="function"?t:null)}var UP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zP=Object.assign,BP={};function hh(t,e,n){this.props=t,this.context=e,this.refs=BP,this.updater=n||UP}hh.prototype.isReactComponent={};hh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WP(){}WP.prototype=hh.prototype;function EC(t,e,n){this.props=t,this.context=e,this.refs=BP,this.updater=n||UP}var CC=EC.prototype=new WP;CC.constructor=EC;zP(CC,hh.prototype);CC.isPureReactComponent=!0;var gS=Array.isArray,HP=Object.prototype.hasOwnProperty,bC={current:null},GP={key:!0,ref:!0,__self:!0,__source:!0};function qP(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)HP.call(e,r)&&!GP.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ip,type:t,key:i,ref:o,props:s,_owner:bC.current}}function aU(t,e){return{$$typeof:Ip,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function IC(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ip}function lU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vS=/\/+/g;function X_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lU(""+t.key):e.toString(36)}function E2(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ip:case QV:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+X_(o,0):r,gS(s)?(n="",t!=null&&(n=t.replace(vS,"$&/")+"/"),E2(s,e,n,"",function(c){return c})):s!=null&&(IC(s)&&(s=aU(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(vS,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",gS(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+X_(i,a);o+=E2(i,e,n,l,s)}else if(l=oU(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+X_(i,a++),o+=E2(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Sm(t,e,n){if(t==null)return t;var r=[],s=0;return E2(t,r,"","",function(i){return e.call(n,i,s++)}),r}function cU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qr={current:null},C2={transition:null},uU={ReactCurrentDispatcher:qr,ReactCurrentBatchConfig:C2,ReactCurrentOwner:bC};yt.Children={map:Sm,forEach:function(t,e,n){Sm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sm(t,function(){e++}),e},toArray:function(t){return Sm(t,function(e){return e})||[]},only:function(t){if(!IC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};yt.Component=hh;yt.Fragment=XV;yt.Profiler=ZV;yt.PureComponent=EC;yt.StrictMode=JV;yt.Suspense=rU;yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uU;yt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zP({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=bC.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)HP.call(e,l)&&!GP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ip,type:t.type,key:s,ref:i,props:r,_owner:o}};yt.createContext=function(t){return t={$$typeof:tU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:eU,_context:t},t.Consumer=t};yt.createElement=qP;yt.createFactory=function(t){var e=qP.bind(null,t);return e.type=t,e};yt.createRef=function(){return{current:null}};yt.forwardRef=function(t){return{$$typeof:nU,render:t}};yt.isValidElement=IC;yt.lazy=function(t){return{$$typeof:iU,_payload:{_status:-1,_result:t},_init:cU}};yt.memo=function(t,e){return{$$typeof:sU,type:t,compare:e===void 0?null:e}};yt.startTransition=function(t){var e=C2.transition;C2.transition={};try{t()}finally{C2.transition=e}};yt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};yt.useCallback=function(t,e){return qr.current.useCallback(t,e)};yt.useContext=function(t){return qr.current.useContext(t)};yt.useDebugValue=function(){};yt.useDeferredValue=function(t){return qr.current.useDeferredValue(t)};yt.useEffect=function(t,e){return qr.current.useEffect(t,e)};yt.useId=function(){return qr.current.useId()};yt.useImperativeHandle=function(t,e,n){return qr.current.useImperativeHandle(t,e,n)};yt.useInsertionEffect=function(t,e){return qr.current.useInsertionEffect(t,e)};yt.useLayoutEffect=function(t,e){return qr.current.useLayoutEffect(t,e)};yt.useMemo=function(t,e){return qr.current.useMemo(t,e)};yt.useReducer=function(t,e,n){return qr.current.useReducer(t,e,n)};yt.useRef=function(t){return qr.current.useRef(t)};yt.useState=function(t){return qr.current.useState(t)};yt.useSyncExternalStore=function(t,e,n){return qr.current.useSyncExternalStore(t,e,n)};yt.useTransition=function(){return qr.current.useTransition()};yt.version="18.2.0";VP.exports=yt;var g=VP.exports;const $r=$P(g),pg=KV({__proto__:null,default:$r},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dU=g,hU=Symbol.for("react.element"),fU=Symbol.for("react.fragment"),pU=Object.prototype.hasOwnProperty,mU=dU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gU={key:!0,ref:!0,__self:!0,__source:!0};function YP(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)pU.call(e,r)&&!gU.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:hU,type:t,key:i,ref:o,props:s,_owner:mU.current}}Z1.Fragment=fU;Z1.jsx=YP;Z1.jsxs=YP;FP.exports=Z1;var d=FP.exports,Rx={},KP={exports:{}},Ms={},QP={exports:{}},XP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,$){var F=O.length;O.push($);e:for(;0<F;){var G=F-1>>>1,z=O[G];if(0<s(z,$))O[G]=$,O[F]=z,F=G;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var $=O[0],F=O.pop();if(F!==$){O[0]=F;e:for(var G=0,z=O.length,B=z>>>1;G<B;){var U=2*(G+1)-1,V=O[U],q=U+1,ce=O[q];if(0>s(V,F))q<z&&0>s(ce,V)?(O[G]=ce,O[q]=F,G=q):(O[G]=V,O[U]=F,G=U);else if(q<z&&0>s(ce,F))O[G]=ce,O[q]=F,G=q;else break e}}return $}function s(O,$){var F=O.sortIndex-$.sortIndex;return F!==0?F:O.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,m=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(O){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=O)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function x(O){if(v=!1,_(O),!m)if(n(l)!==null)m=!0,A(b);else{var $=n(c);$!==null&&P(x,$.startTime-O)}}function b(O,$){m=!1,v&&(v=!1,y(I),I=-1),p=!0;var F=f;try{for(_($),h=n(l);h!==null&&(!(h.expirationTime>$)||O&&!k());){var G=h.callback;if(typeof G=="function"){h.callback=null,f=h.priorityLevel;var z=G(h.expirationTime<=$);$=t.unstable_now(),typeof z=="function"?h.callback=z:h===n(l)&&r(l),_($)}else r(l);h=n(l)}if(h!==null)var B=!0;else{var U=n(c);U!==null&&P(x,U.startTime-$),B=!1}return B}finally{h=null,f=F,p=!1}}var C=!1,T=null,I=-1,S=5,R=-1;function k(){return!(t.unstable_now()-R<S)}function N(){if(T!==null){var O=t.unstable_now();R=O;var $=!0;try{$=T(!0,O)}finally{$?M():(C=!1,T=null)}}else C=!1}var M;if(typeof w=="function")M=function(){w(N)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,j=D.port2;D.port1.onmessage=N,M=function(){j.postMessage(null)}}else M=function(){E(N,0)};function A(O){T=O,C||(C=!0,M())}function P(O,$){I=E(function(){O(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,A(b))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var F=f;f=$;try{return O()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var F=f;f=O;try{return $()}finally{f=F}},t.unstable_scheduleCallback=function(O,$,F){var G=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?G+F:G):F=G,O){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=F+z,O={id:u++,callback:$,priorityLevel:O,startTime:F,expirationTime:z,sortIndex:-1},F>G?(O.sortIndex=F,e(c,O),n(l)===null&&O===n(c)&&(v?(y(I),I=-1):v=!0,P(x,F-G))):(O.sortIndex=z,e(l,O),m||p||(m=!0,A(b))),O},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(O){var $=f;return function(){var F=f;f=$;try{return O.apply(this,arguments)}finally{f=F}}}})(XP);QP.exports=XP;var vU=QP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JP=g,Rs=vU;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZP=new Set,g0={};function tu(t,e){Sd(t,e),Sd(t+"Capture",e)}function Sd(t,e){for(g0[t]=e,t=0;t<e.length;t++)ZP.add(e[t])}var Zo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ax=Object.prototype.hasOwnProperty,yU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yS={},_S={};function _U(t){return Ax.call(_S,t)?!0:Ax.call(yS,t)?!1:yU.test(t)?_S[t]=!0:(yS[t]=!0,!1)}function wU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xU(t,e,n,r){if(e===null||typeof e>"u"||wU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yr(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var mr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mr[t]=new Yr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mr[e]=new Yr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mr[t]=new Yr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mr[t]=new Yr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mr[t]=new Yr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mr[t]=new Yr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mr[t]=new Yr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mr[t]=new Yr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mr[t]=new Yr(t,5,!1,t.toLowerCase(),null,!1,!1)});var TC=/[\-:]([a-z])/g;function SC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(TC,SC);mr[e]=new Yr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(TC,SC);mr[e]=new Yr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(TC,SC);mr[e]=new Yr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mr[t]=new Yr(t,1,!1,t.toLowerCase(),null,!1,!1)});mr.xlinkHref=new Yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mr[t]=new Yr(t,1,!1,t.toLowerCase(),null,!0,!0)});function kC(t,e,n,r){var s=mr.hasOwnProperty(e)?mr[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xU(e,n,s,r)&&(n=null),r||s===null?_U(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fa=JP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,km=Symbol.for("react.element"),Vu=Symbol.for("react.portal"),Uu=Symbol.for("react.fragment"),RC=Symbol.for("react.strict_mode"),Px=Symbol.for("react.profiler"),e9=Symbol.for("react.provider"),t9=Symbol.for("react.context"),AC=Symbol.for("react.forward_ref"),Nx=Symbol.for("react.suspense"),Dx=Symbol.for("react.suspense_list"),PC=Symbol.for("react.memo"),Pa=Symbol.for("react.lazy"),n9=Symbol.for("react.offscreen"),wS=Symbol.iterator;function Gh(t){return t===null||typeof t!="object"?null:(t=wS&&t[wS]||t["@@iterator"],typeof t=="function"?t:null)}var mn=Object.assign,J_;function Tf(t){if(J_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);J_=e&&e[1]||""}return`
`+J_+t}var Z_=!1;function ew(t,e){if(!t||Z_)return"";Z_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Z_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Tf(t):""}function EU(t){switch(t.tag){case 5:return Tf(t.type);case 16:return Tf("Lazy");case 13:return Tf("Suspense");case 19:return Tf("SuspenseList");case 0:case 2:case 15:return t=ew(t.type,!1),t;case 11:return t=ew(t.type.render,!1),t;case 1:return t=ew(t.type,!0),t;default:return""}}function Lx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Uu:return"Fragment";case Vu:return"Portal";case Px:return"Profiler";case RC:return"StrictMode";case Nx:return"Suspense";case Dx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case t9:return(t.displayName||"Context")+".Consumer";case e9:return(t._context.displayName||"Context")+".Provider";case AC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case PC:return e=t.displayName||null,e!==null?e:Lx(t.type)||"Memo";case Pa:e=t._payload,t=t._init;try{return Lx(t(e))}catch{}}return null}function CU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lx(e);case 8:return e===RC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function r9(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bU(t){var e=r9(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Rm(t){t._valueTracker||(t._valueTracker=bU(t))}function s9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=r9(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mx(t,e){var n=e.checked;return mn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function i9(t,e){e=e.checked,e!=null&&kC(t,"checked",e,!1)}function Ox(t,e){i9(t,e);var n=hl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jx(t,e.type,n):e.hasOwnProperty("defaultValue")&&jx(t,e.type,hl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ES(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jx(t,e,n){(e!=="number"||mg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sf=Array.isArray;function id(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hl(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function $x(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return mn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function CS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Sf(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hl(n)}}function o9(t,e){var n=hl(e.value),r=hl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function a9(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?a9(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Am,l9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Am=Am||document.createElement("div"),Am.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Am.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function v0(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IU=["Webkit","ms","Moz","O"];Object.keys(zf).forEach(function(t){IU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zf[e]=zf[t]})});function c9(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zf.hasOwnProperty(t)&&zf[t]?(""+e).trim():e+"px"}function u9(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=c9(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var TU=mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vx(t,e){if(e){if(TU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function Ux(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zx=null;function NC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bx=null,od=null,ad=null;function IS(t){if(t=kp(t)){if(typeof Bx!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=sv(e),Bx(t.stateNode,t.type,e))}}function d9(t){od?ad?ad.push(t):ad=[t]:od=t}function h9(){if(od){var t=od,e=ad;if(ad=od=null,IS(t),e)for(t=0;t<e.length;t++)IS(e[t])}}function f9(t,e){return t(e)}function p9(){}var tw=!1;function m9(t,e,n){if(tw)return t(e,n);tw=!0;try{return f9(t,e,n)}finally{tw=!1,(od!==null||ad!==null)&&(p9(),h9())}}function y0(t,e){var n=t.stateNode;if(n===null)return null;var r=sv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var Wx=!1;if(Zo)try{var qh={};Object.defineProperty(qh,"passive",{get:function(){Wx=!0}}),window.addEventListener("test",qh,qh),window.removeEventListener("test",qh,qh)}catch{Wx=!1}function SU(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Bf=!1,gg=null,vg=!1,Hx=null,kU={onError:function(t){Bf=!0,gg=t}};function RU(t,e,n,r,s,i,o,a,l){Bf=!1,gg=null,SU.apply(kU,arguments)}function AU(t,e,n,r,s,i,o,a,l){if(RU.apply(this,arguments),Bf){if(Bf){var c=gg;Bf=!1,gg=null}else throw Error(Q(198));vg||(vg=!0,Hx=c)}}function nu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function g9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function TS(t){if(nu(t)!==t)throw Error(Q(188))}function PU(t){var e=t.alternate;if(!e){if(e=nu(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return TS(s),t;if(i===r)return TS(s),e;i=i.sibling}throw Error(Q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function v9(t){return t=PU(t),t!==null?y9(t):null}function y9(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=y9(t);if(e!==null)return e;t=t.sibling}return null}var _9=Rs.unstable_scheduleCallback,SS=Rs.unstable_cancelCallback,NU=Rs.unstable_shouldYield,DU=Rs.unstable_requestPaint,Sn=Rs.unstable_now,LU=Rs.unstable_getCurrentPriorityLevel,DC=Rs.unstable_ImmediatePriority,w9=Rs.unstable_UserBlockingPriority,yg=Rs.unstable_NormalPriority,MU=Rs.unstable_LowPriority,x9=Rs.unstable_IdlePriority,ev=null,so=null;function OU(t){if(so&&typeof so.onCommitFiberRoot=="function")try{so.onCommitFiberRoot(ev,t,void 0,(t.current.flags&128)===128)}catch{}}var Ti=Math.clz32?Math.clz32:FU,jU=Math.log,$U=Math.LN2;function FU(t){return t>>>=0,t===0?32:31-(jU(t)/$U|0)|0}var Pm=64,Nm=4194304;function kf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _g(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=kf(a):(i&=o,i!==0&&(r=kf(i)))}else o=n&~s,o!==0?r=kf(o):i!==0&&(r=kf(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ti(e),s=1<<n,r|=t[n],e&=~s;return r}function VU(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UU(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ti(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=VU(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Gx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function E9(){var t=Pm;return Pm<<=1,!(Pm&4194240)&&(Pm=64),t}function nw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Tp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ti(e),t[e]=n}function zU(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ti(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function LC(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ti(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var $t=0;function C9(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var b9,MC,I9,T9,S9,qx=!1,Dm=[],Xa=null,Ja=null,Za=null,_0=new Map,w0=new Map,Da=[],BU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kS(t,e){switch(t){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":_0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":w0.delete(e.pointerId)}}function Yh(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=kp(e),e!==null&&MC(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function WU(t,e,n,r,s){switch(e){case"focusin":return Xa=Yh(Xa,t,e,n,r,s),!0;case"dragenter":return Ja=Yh(Ja,t,e,n,r,s),!0;case"mouseover":return Za=Yh(Za,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return _0.set(i,Yh(_0.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,w0.set(i,Yh(w0.get(i)||null,t,e,n,r,s)),!0}return!1}function k9(t){var e=rc(t.target);if(e!==null){var n=nu(e);if(n!==null){if(e=n.tag,e===13){if(e=g9(n),e!==null){t.blockedOn=e,S9(t.priority,function(){I9(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function b2(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zx=r,n.target.dispatchEvent(r),zx=null}else return e=kp(n),e!==null&&MC(e),t.blockedOn=n,!1;e.shift()}return!0}function RS(t,e,n){b2(t)&&n.delete(e)}function HU(){qx=!1,Xa!==null&&b2(Xa)&&(Xa=null),Ja!==null&&b2(Ja)&&(Ja=null),Za!==null&&b2(Za)&&(Za=null),_0.forEach(RS),w0.forEach(RS)}function Kh(t,e){t.blockedOn===e&&(t.blockedOn=null,qx||(qx=!0,Rs.unstable_scheduleCallback(Rs.unstable_NormalPriority,HU)))}function x0(t){function e(s){return Kh(s,t)}if(0<Dm.length){Kh(Dm[0],t);for(var n=1;n<Dm.length;n++){var r=Dm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xa!==null&&Kh(Xa,t),Ja!==null&&Kh(Ja,t),Za!==null&&Kh(Za,t),_0.forEach(e),w0.forEach(e),n=0;n<Da.length;n++)r=Da[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Da.length&&(n=Da[0],n.blockedOn===null);)k9(n),n.blockedOn===null&&Da.shift()}var ld=fa.ReactCurrentBatchConfig,wg=!0;function GU(t,e,n,r){var s=$t,i=ld.transition;ld.transition=null;try{$t=1,OC(t,e,n,r)}finally{$t=s,ld.transition=i}}function qU(t,e,n,r){var s=$t,i=ld.transition;ld.transition=null;try{$t=4,OC(t,e,n,r)}finally{$t=s,ld.transition=i}}function OC(t,e,n,r){if(wg){var s=Yx(t,e,n,r);if(s===null)hw(t,e,r,xg,n),kS(t,r);else if(WU(s,t,e,n,r))r.stopPropagation();else if(kS(t,r),e&4&&-1<BU.indexOf(t)){for(;s!==null;){var i=kp(s);if(i!==null&&b9(i),i=Yx(t,e,n,r),i===null&&hw(t,e,r,xg,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else hw(t,e,r,null,n)}}var xg=null;function Yx(t,e,n,r){if(xg=null,t=NC(r),t=rc(t),t!==null)if(e=nu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=g9(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xg=t,null}function R9(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LU()){case DC:return 1;case w9:return 4;case yg:case MU:return 16;case x9:return 536870912;default:return 16}default:return 16}}var za=null,jC=null,I2=null;function A9(){if(I2)return I2;var t,e=jC,n=e.length,r,s="value"in za?za.value:za.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return I2=s.slice(t,1<r?1-r:void 0)}function T2(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Lm(){return!0}function AS(){return!1}function Os(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Lm:AS,this.isPropagationStopped=AS,this}return mn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lm)},persist:function(){},isPersistent:Lm}),e}var fh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$C=Os(fh),Sp=mn({},fh,{view:0,detail:0}),YU=Os(Sp),rw,sw,Qh,tv=mn({},Sp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:FC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qh&&(Qh&&t.type==="mousemove"?(rw=t.screenX-Qh.screenX,sw=t.screenY-Qh.screenY):sw=rw=0,Qh=t),rw)},movementY:function(t){return"movementY"in t?t.movementY:sw}}),PS=Os(tv),KU=mn({},tv,{dataTransfer:0}),QU=Os(KU),XU=mn({},Sp,{relatedTarget:0}),iw=Os(XU),JU=mn({},fh,{animationName:0,elapsedTime:0,pseudoElement:0}),ZU=Os(JU),ez=mn({},fh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tz=Os(ez),nz=mn({},fh,{data:0}),NS=Os(nz),rz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oz(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iz[t])?!!e[t]:!1}function FC(){return oz}var az=mn({},Sp,{key:function(t){if(t.key){var e=rz[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=T2(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sz[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:FC,charCode:function(t){return t.type==="keypress"?T2(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?T2(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lz=Os(az),cz=mn({},tv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DS=Os(cz),uz=mn({},Sp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:FC}),dz=Os(uz),hz=mn({},fh,{propertyName:0,elapsedTime:0,pseudoElement:0}),fz=Os(hz),pz=mn({},tv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mz=Os(pz),gz=[9,13,27,32],VC=Zo&&"CompositionEvent"in window,Wf=null;Zo&&"documentMode"in document&&(Wf=document.documentMode);var vz=Zo&&"TextEvent"in window&&!Wf,P9=Zo&&(!VC||Wf&&8<Wf&&11>=Wf),LS=" ",MS=!1;function N9(t,e){switch(t){case"keyup":return gz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zu=!1;function yz(t,e){switch(t){case"compositionend":return D9(e);case"keypress":return e.which!==32?null:(MS=!0,LS);case"textInput":return t=e.data,t===LS&&MS?null:t;default:return null}}function _z(t,e){if(zu)return t==="compositionend"||!VC&&N9(t,e)?(t=A9(),I2=jC=za=null,zu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return P9&&e.locale!=="ko"?null:e.data;default:return null}}var wz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wz[t.type]:e==="textarea"}function L9(t,e,n,r){d9(r),e=Eg(e,"onChange"),0<e.length&&(n=new $C("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hf=null,E0=null;function xz(t){H9(t,0)}function nv(t){var e=Hu(t);if(s9(e))return t}function Ez(t,e){if(t==="change")return e}var M9=!1;if(Zo){var ow;if(Zo){var aw="oninput"in document;if(!aw){var jS=document.createElement("div");jS.setAttribute("oninput","return;"),aw=typeof jS.oninput=="function"}ow=aw}else ow=!1;M9=ow&&(!document.documentMode||9<document.documentMode)}function $S(){Hf&&(Hf.detachEvent("onpropertychange",O9),E0=Hf=null)}function O9(t){if(t.propertyName==="value"&&nv(E0)){var e=[];L9(e,E0,t,NC(t)),m9(xz,e)}}function Cz(t,e,n){t==="focusin"?($S(),Hf=e,E0=n,Hf.attachEvent("onpropertychange",O9)):t==="focusout"&&$S()}function bz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nv(E0)}function Iz(t,e){if(t==="click")return nv(e)}function Tz(t,e){if(t==="input"||t==="change")return nv(e)}function Sz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ai=typeof Object.is=="function"?Object.is:Sz;function C0(t,e){if(Ai(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ax.call(e,s)||!Ai(t[s],e[s]))return!1}return!0}function FS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function VS(t,e){var n=FS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=FS(n)}}function j9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?j9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $9(){for(var t=window,e=mg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mg(t.document)}return e}function UC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kz(t){var e=$9(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&j9(n.ownerDocument.documentElement,n)){if(r!==null&&UC(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=VS(n,i);var o=VS(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Rz=Zo&&"documentMode"in document&&11>=document.documentMode,Bu=null,Kx=null,Gf=null,Qx=!1;function US(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qx||Bu==null||Bu!==mg(r)||(r=Bu,"selectionStart"in r&&UC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gf&&C0(Gf,r)||(Gf=r,r=Eg(Kx,"onSelect"),0<r.length&&(e=new $C("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bu)))}function Mm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wu={animationend:Mm("Animation","AnimationEnd"),animationiteration:Mm("Animation","AnimationIteration"),animationstart:Mm("Animation","AnimationStart"),transitionend:Mm("Transition","TransitionEnd")},lw={},F9={};Zo&&(F9=document.createElement("div").style,"AnimationEvent"in window||(delete Wu.animationend.animation,delete Wu.animationiteration.animation,delete Wu.animationstart.animation),"TransitionEvent"in window||delete Wu.transitionend.transition);function rv(t){if(lw[t])return lw[t];if(!Wu[t])return t;var e=Wu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in F9)return lw[t]=e[n];return t}var V9=rv("animationend"),U9=rv("animationiteration"),z9=rv("animationstart"),B9=rv("transitionend"),W9=new Map,zS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sl(t,e){W9.set(t,e),tu(e,[t])}for(var cw=0;cw<zS.length;cw++){var uw=zS[cw],Az=uw.toLowerCase(),Pz=uw[0].toUpperCase()+uw.slice(1);Sl(Az,"on"+Pz)}Sl(V9,"onAnimationEnd");Sl(U9,"onAnimationIteration");Sl(z9,"onAnimationStart");Sl("dblclick","onDoubleClick");Sl("focusin","onFocus");Sl("focusout","onBlur");Sl(B9,"onTransitionEnd");Sd("onMouseEnter",["mouseout","mouseover"]);Sd("onMouseLeave",["mouseout","mouseover"]);Sd("onPointerEnter",["pointerout","pointerover"]);Sd("onPointerLeave",["pointerout","pointerover"]);tu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tu("onBeforeInput",["compositionend","keypress","textInput","paste"]);tu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rf));function BS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,AU(r,e,void 0,t),t.currentTarget=null}function H9(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;BS(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;BS(s,a,c),i=l}}}if(vg)throw t=Hx,vg=!1,Hx=null,t}function Kt(t,e){var n=e[t3];n===void 0&&(n=e[t3]=new Set);var r=t+"__bubble";n.has(r)||(G9(e,t,2,!1),n.add(r))}function dw(t,e,n){var r=0;e&&(r|=4),G9(n,t,r,e)}var Om="_reactListening"+Math.random().toString(36).slice(2);function b0(t){if(!t[Om]){t[Om]=!0,ZP.forEach(function(n){n!=="selectionchange"&&(Nz.has(n)||dw(n,!1,t),dw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Om]||(e[Om]=!0,dw("selectionchange",!1,e))}}function G9(t,e,n,r){switch(R9(e)){case 1:var s=GU;break;case 4:s=qU;break;default:s=OC}n=s.bind(null,e,n,t),s=void 0,!Wx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function hw(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=rc(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}m9(function(){var c=i,u=NC(n),h=[];e:{var f=W9.get(t);if(f!==void 0){var p=$C,m=t;switch(t){case"keypress":if(T2(n)===0)break e;case"keydown":case"keyup":p=lz;break;case"focusin":m="focus",p=iw;break;case"focusout":m="blur",p=iw;break;case"beforeblur":case"afterblur":p=iw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=PS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=QU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=dz;break;case V9:case U9:case z9:p=ZU;break;case B9:p=fz;break;case"scroll":p=YU;break;case"wheel":p=mz;break;case"copy":case"cut":case"paste":p=tz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=DS}var v=(e&4)!==0,E=!v&&t==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var w=c,_;w!==null;){_=w;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,y!==null&&(x=y0(w,y),x!=null&&v.push(I0(w,x,_)))),E)break;w=w.return}0<v.length&&(f=new p(f,m,null,n,u),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==zx&&(m=n.relatedTarget||n.fromElement)&&(rc(m)||m[ea]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?rc(m):null,m!==null&&(E=nu(m),m!==E||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=PS,x="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=DS,x="onPointerLeave",y="onPointerEnter",w="pointer"),E=p==null?f:Hu(p),_=m==null?f:Hu(m),f=new v(x,w+"leave",p,n,u),f.target=E,f.relatedTarget=_,x=null,rc(u)===c&&(v=new v(y,w+"enter",m,n,u),v.target=_,v.relatedTarget=E,x=v),E=x,p&&m)t:{for(v=p,y=m,w=0,_=v;_;_=_u(_))w++;for(_=0,x=y;x;x=_u(x))_++;for(;0<w-_;)v=_u(v),w--;for(;0<_-w;)y=_u(y),_--;for(;w--;){if(v===y||y!==null&&v===y.alternate)break t;v=_u(v),y=_u(y)}v=null}else v=null;p!==null&&WS(h,f,p,v,!1),m!==null&&E!==null&&WS(h,E,m,v,!0)}}e:{if(f=c?Hu(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var b=Ez;else if(OS(f))if(M9)b=Tz;else{b=bz;var C=Cz}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=Iz);if(b&&(b=b(t,c))){L9(h,b,n,u);break e}C&&C(t,f,c),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&jx(f,"number",f.value)}switch(C=c?Hu(c):window,t){case"focusin":(OS(C)||C.contentEditable==="true")&&(Bu=C,Kx=c,Gf=null);break;case"focusout":Gf=Kx=Bu=null;break;case"mousedown":Qx=!0;break;case"contextmenu":case"mouseup":case"dragend":Qx=!1,US(h,n,u);break;case"selectionchange":if(Rz)break;case"keydown":case"keyup":US(h,n,u)}var T;if(VC)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else zu?N9(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(P9&&n.locale!=="ko"&&(zu||I!=="onCompositionStart"?I==="onCompositionEnd"&&zu&&(T=A9()):(za=u,jC="value"in za?za.value:za.textContent,zu=!0)),C=Eg(c,I),0<C.length&&(I=new NS(I,t,null,n,u),h.push({event:I,listeners:C}),T?I.data=T:(T=D9(n),T!==null&&(I.data=T)))),(T=vz?yz(t,n):_z(t,n))&&(c=Eg(c,"onBeforeInput"),0<c.length&&(u=new NS("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=T))}H9(h,e)})}function I0(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Eg(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=y0(t,n),i!=null&&r.unshift(I0(t,i,s)),i=y0(t,e),i!=null&&r.push(I0(t,i,s))),t=t.return}return r}function _u(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function WS(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=y0(n,i),l!=null&&o.unshift(I0(n,l,a))):s||(l=y0(n,i),l!=null&&o.push(I0(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Dz=/\r\n?/g,Lz=/\u0000|\uFFFD/g;function HS(t){return(typeof t=="string"?t:""+t).replace(Dz,`
`).replace(Lz,"")}function jm(t,e,n){if(e=HS(e),HS(t)!==e&&n)throw Error(Q(425))}function Cg(){}var Xx=null,Jx=null;function Zx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var e3=typeof setTimeout=="function"?setTimeout:void 0,Mz=typeof clearTimeout=="function"?clearTimeout:void 0,GS=typeof Promise=="function"?Promise:void 0,Oz=typeof queueMicrotask=="function"?queueMicrotask:typeof GS<"u"?function(t){return GS.resolve(null).then(t).catch(jz)}:e3;function jz(t){setTimeout(function(){throw t})}function fw(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),x0(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);x0(e)}function el(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ph=Math.random().toString(36).slice(2),qi="__reactFiber$"+ph,T0="__reactProps$"+ph,ea="__reactContainer$"+ph,t3="__reactEvents$"+ph,$z="__reactListeners$"+ph,Fz="__reactHandles$"+ph;function rc(t){var e=t[qi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ea]||n[qi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qS(t);t!==null;){if(n=t[qi])return n;t=qS(t)}return e}t=n,n=t.parentNode}return null}function kp(t){return t=t[qi]||t[ea],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function sv(t){return t[T0]||null}var n3=[],Gu=-1;function kl(t){return{current:t}}function Zt(t){0>Gu||(t.current=n3[Gu],n3[Gu]=null,Gu--)}function Yt(t,e){Gu++,n3[Gu]=t.current,t.current=e}var fl={},Pr=kl(fl),as=kl(!1),kc=fl;function kd(t,e){var n=t.type.contextTypes;if(!n)return fl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ls(t){return t=t.childContextTypes,t!=null}function bg(){Zt(as),Zt(Pr)}function YS(t,e,n){if(Pr.current!==fl)throw Error(Q(168));Yt(Pr,e),Yt(as,n)}function q9(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Q(108,CU(t)||"Unknown",s));return mn({},n,r)}function Ig(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fl,kc=Pr.current,Yt(Pr,t),Yt(as,as.current),!0}function KS(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=q9(t,e,kc),r.__reactInternalMemoizedMergedChildContext=t,Zt(as),Zt(Pr),Yt(Pr,t)):Zt(as),Yt(as,n)}var Do=null,iv=!1,pw=!1;function Y9(t){Do===null?Do=[t]:Do.push(t)}function Vz(t){iv=!0,Y9(t)}function Rl(){if(!pw&&Do!==null){pw=!0;var t=0,e=$t;try{var n=Do;for($t=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Do=null,iv=!1}catch(s){throw Do!==null&&(Do=Do.slice(t+1)),_9(DC,Rl),s}finally{$t=e,pw=!1}}return null}var qu=[],Yu=0,Tg=null,Sg=0,Bs=[],Ws=0,Rc=null,jo=1,$o="";function Hl(t,e){qu[Yu++]=Sg,qu[Yu++]=Tg,Tg=t,Sg=e}function K9(t,e,n){Bs[Ws++]=jo,Bs[Ws++]=$o,Bs[Ws++]=Rc,Rc=t;var r=jo;t=$o;var s=32-Ti(r)-1;r&=~(1<<s),n+=1;var i=32-Ti(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,jo=1<<32-Ti(e)+s|n<<s|r,$o=i+t}else jo=1<<i|n<<s|r,$o=t}function zC(t){t.return!==null&&(Hl(t,1),K9(t,1,0))}function BC(t){for(;t===Tg;)Tg=qu[--Yu],qu[Yu]=null,Sg=qu[--Yu],qu[Yu]=null;for(;t===Rc;)Rc=Bs[--Ws],Bs[Ws]=null,$o=Bs[--Ws],Bs[Ws]=null,jo=Bs[--Ws],Bs[Ws]=null}var Ts=null,Cs=null,ln=!1,Ei=null;function Q9(t,e){var n=Ys(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function QS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ts=t,Cs=el(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ts=t,Cs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Rc!==null?{id:jo,overflow:$o}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ys(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ts=t,Cs=null,!0):!1;default:return!1}}function r3(t){return(t.mode&1)!==0&&(t.flags&128)===0}function s3(t){if(ln){var e=Cs;if(e){var n=e;if(!QS(t,e)){if(r3(t))throw Error(Q(418));e=el(n.nextSibling);var r=Ts;e&&QS(t,e)?Q9(r,n):(t.flags=t.flags&-4097|2,ln=!1,Ts=t)}}else{if(r3(t))throw Error(Q(418));t.flags=t.flags&-4097|2,ln=!1,Ts=t}}}function XS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ts=t}function $m(t){if(t!==Ts)return!1;if(!ln)return XS(t),ln=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zx(t.type,t.memoizedProps)),e&&(e=Cs)){if(r3(t))throw X9(),Error(Q(418));for(;e;)Q9(t,e),e=el(e.nextSibling)}if(XS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Cs=el(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Cs=null}}else Cs=Ts?el(t.stateNode.nextSibling):null;return!0}function X9(){for(var t=Cs;t;)t=el(t.nextSibling)}function Rd(){Cs=Ts=null,ln=!1}function WC(t){Ei===null?Ei=[t]:Ei.push(t)}var Uz=fa.ReactCurrentBatchConfig;function wi(t,e){if(t&&t.defaultProps){e=mn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var kg=kl(null),Rg=null,Ku=null,HC=null;function GC(){HC=Ku=Rg=null}function qC(t){var e=kg.current;Zt(kg),t._currentValue=e}function i3(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function cd(t,e){Rg=t,HC=Ku=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ts=!0),t.firstContext=null)}function ni(t){var e=t._currentValue;if(HC!==t)if(t={context:t,memoizedValue:e,next:null},Ku===null){if(Rg===null)throw Error(Q(308));Ku=t,Rg.dependencies={lanes:0,firstContext:t}}else Ku=Ku.next=t;return e}var sc=null;function YC(t){sc===null?sc=[t]:sc.push(t)}function J9(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,YC(e)):(n.next=s.next,s.next=n),e.interleaved=n,ta(t,r)}function ta(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Na=!1;function KC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z9(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function tl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Tt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ta(t,n)}return s=r.interleaved,s===null?(e.next=e,YC(r)):(e.next=s.next,s.next=e),r.interleaved=e,ta(t,n)}function S2(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,LC(t,n)}}function JS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ag(t,e,n,r){var s=t.updateQueue;Na=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(f=e,p=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=mn({},h,f);break e;case 2:Na=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Pc|=o,t.lanes=o,t.memoizedState=h}}function ZS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Q(191,s));s.call(r)}}}var eN=new JP.Component().refs;function o3(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:mn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ov={isMounted:function(t){return(t=t._reactInternals)?nu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vr(),s=rl(t),i=Yo(r,s);i.payload=e,n!=null&&(i.callback=n),e=tl(t,i,s),e!==null&&(Si(e,t,s,r),S2(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vr(),s=rl(t),i=Yo(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=tl(t,i,s),e!==null&&(Si(e,t,s,r),S2(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vr(),r=rl(t),s=Yo(n,r);s.tag=2,e!=null&&(s.callback=e),e=tl(t,s,r),e!==null&&(Si(e,t,r,n),S2(e,t,r))}};function e4(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!C0(n,r)||!C0(s,i):!0}function tN(t,e,n){var r=!1,s=fl,i=e.contextType;return typeof i=="object"&&i!==null?i=ni(i):(s=ls(e)?kc:Pr.current,r=e.contextTypes,i=(r=r!=null)?kd(t,s):fl),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ov,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function t4(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ov.enqueueReplaceState(e,e.state,null)}function a3(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=eN,KC(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ni(i):(i=ls(e)?kc:Pr.current,s.context=kd(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(o3(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ov.enqueueReplaceState(s,s.state,null),Ag(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Xh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===eN&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function Fm(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function n4(t){var e=t._init;return e(t._payload)}function nN(t){function e(y,w){if(t){var _=y.deletions;_===null?(y.deletions=[w],y.flags|=16):_.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function s(y,w){return y=sl(y,w),y.index=0,y.sibling=null,y}function i(y,w,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<w?(y.flags|=2,w):_):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,w,_,x){return w===null||w.tag!==6?(w=xw(_,y.mode,x),w.return=y,w):(w=s(w,_),w.return=y,w)}function l(y,w,_,x){var b=_.type;return b===Uu?u(y,w,_.props.children,x,_.key):w!==null&&(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Pa&&n4(b)===w.type)?(x=s(w,_.props),x.ref=Xh(y,w,_),x.return=y,x):(x=D2(_.type,_.key,_.props,null,y.mode,x),x.ref=Xh(y,w,_),x.return=y,x)}function c(y,w,_,x){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Ew(_,y.mode,x),w.return=y,w):(w=s(w,_.children||[]),w.return=y,w)}function u(y,w,_,x,b){return w===null||w.tag!==7?(w=vc(_,y.mode,x,b),w.return=y,w):(w=s(w,_),w.return=y,w)}function h(y,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=xw(""+w,y.mode,_),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case km:return _=D2(w.type,w.key,w.props,null,y.mode,_),_.ref=Xh(y,null,w),_.return=y,_;case Vu:return w=Ew(w,y.mode,_),w.return=y,w;case Pa:var x=w._init;return h(y,x(w._payload),_)}if(Sf(w)||Gh(w))return w=vc(w,y.mode,_,null),w.return=y,w;Fm(y,w)}return null}function f(y,w,_,x){var b=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return b!==null?null:a(y,w,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case km:return _.key===b?l(y,w,_,x):null;case Vu:return _.key===b?c(y,w,_,x):null;case Pa:return b=_._init,f(y,w,b(_._payload),x)}if(Sf(_)||Gh(_))return b!==null?null:u(y,w,_,x,null);Fm(y,_)}return null}function p(y,w,_,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(_)||null,a(w,y,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case km:return y=y.get(x.key===null?_:x.key)||null,l(w,y,x,b);case Vu:return y=y.get(x.key===null?_:x.key)||null,c(w,y,x,b);case Pa:var C=x._init;return p(y,w,_,C(x._payload),b)}if(Sf(x)||Gh(x))return y=y.get(_)||null,u(w,y,x,b,null);Fm(w,x)}return null}function m(y,w,_,x){for(var b=null,C=null,T=w,I=w=0,S=null;T!==null&&I<_.length;I++){T.index>I?(S=T,T=null):S=T.sibling;var R=f(y,T,_[I],x);if(R===null){T===null&&(T=S);break}t&&T&&R.alternate===null&&e(y,T),w=i(R,w,I),C===null?b=R:C.sibling=R,C=R,T=S}if(I===_.length)return n(y,T),ln&&Hl(y,I),b;if(T===null){for(;I<_.length;I++)T=h(y,_[I],x),T!==null&&(w=i(T,w,I),C===null?b=T:C.sibling=T,C=T);return ln&&Hl(y,I),b}for(T=r(y,T);I<_.length;I++)S=p(T,y,I,_[I],x),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?I:S.key),w=i(S,w,I),C===null?b=S:C.sibling=S,C=S);return t&&T.forEach(function(k){return e(y,k)}),ln&&Hl(y,I),b}function v(y,w,_,x){var b=Gh(_);if(typeof b!="function")throw Error(Q(150));if(_=b.call(_),_==null)throw Error(Q(151));for(var C=b=null,T=w,I=w=0,S=null,R=_.next();T!==null&&!R.done;I++,R=_.next()){T.index>I?(S=T,T=null):S=T.sibling;var k=f(y,T,R.value,x);if(k===null){T===null&&(T=S);break}t&&T&&k.alternate===null&&e(y,T),w=i(k,w,I),C===null?b=k:C.sibling=k,C=k,T=S}if(R.done)return n(y,T),ln&&Hl(y,I),b;if(T===null){for(;!R.done;I++,R=_.next())R=h(y,R.value,x),R!==null&&(w=i(R,w,I),C===null?b=R:C.sibling=R,C=R);return ln&&Hl(y,I),b}for(T=r(y,T);!R.done;I++,R=_.next())R=p(T,y,I,R.value,x),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?I:R.key),w=i(R,w,I),C===null?b=R:C.sibling=R,C=R);return t&&T.forEach(function(N){return e(y,N)}),ln&&Hl(y,I),b}function E(y,w,_,x){if(typeof _=="object"&&_!==null&&_.type===Uu&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case km:e:{for(var b=_.key,C=w;C!==null;){if(C.key===b){if(b=_.type,b===Uu){if(C.tag===7){n(y,C.sibling),w=s(C,_.props.children),w.return=y,y=w;break e}}else if(C.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Pa&&n4(b)===C.type){n(y,C.sibling),w=s(C,_.props),w.ref=Xh(y,C,_),w.return=y,y=w;break e}n(y,C);break}else e(y,C);C=C.sibling}_.type===Uu?(w=vc(_.props.children,y.mode,x,_.key),w.return=y,y=w):(x=D2(_.type,_.key,_.props,null,y.mode,x),x.ref=Xh(y,w,_),x.return=y,y=x)}return o(y);case Vu:e:{for(C=_.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(y,w.sibling),w=s(w,_.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=Ew(_,y.mode,x),w.return=y,y=w}return o(y);case Pa:return C=_._init,E(y,w,C(_._payload),x)}if(Sf(_))return m(y,w,_,x);if(Gh(_))return v(y,w,_,x);Fm(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(y,w.sibling),w=s(w,_),w.return=y,y=w):(n(y,w),w=xw(_,y.mode,x),w.return=y,y=w),o(y)):n(y,w)}return E}var Ad=nN(!0),rN=nN(!1),Rp={},io=kl(Rp),S0=kl(Rp),k0=kl(Rp);function ic(t){if(t===Rp)throw Error(Q(174));return t}function QC(t,e){switch(Yt(k0,e),Yt(S0,t),Yt(io,Rp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fx(e,t)}Zt(io),Yt(io,e)}function Pd(){Zt(io),Zt(S0),Zt(k0)}function sN(t){ic(k0.current);var e=ic(io.current),n=Fx(e,t.type);e!==n&&(Yt(S0,t),Yt(io,n))}function XC(t){S0.current===t&&(Zt(io),Zt(S0))}var dn=kl(0);function Pg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mw=[];function JC(){for(var t=0;t<mw.length;t++)mw[t]._workInProgressVersionPrimary=null;mw.length=0}var k2=fa.ReactCurrentDispatcher,gw=fa.ReactCurrentBatchConfig,Ac=0,fn=null,Wn=null,Qn=null,Ng=!1,qf=!1,R0=0,zz=0;function yr(){throw Error(Q(321))}function ZC(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ai(t[n],e[n]))return!1;return!0}function eb(t,e,n,r,s,i){if(Ac=i,fn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,k2.current=t===null||t.memoizedState===null?Gz:qz,t=n(r,s),qf){i=0;do{if(qf=!1,R0=0,25<=i)throw Error(Q(301));i+=1,Qn=Wn=null,e.updateQueue=null,k2.current=Yz,t=n(r,s)}while(qf)}if(k2.current=Dg,e=Wn!==null&&Wn.next!==null,Ac=0,Qn=Wn=fn=null,Ng=!1,e)throw Error(Q(300));return t}function tb(){var t=R0!==0;return R0=0,t}function zi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qn===null?fn.memoizedState=Qn=t:Qn=Qn.next=t,Qn}function ri(){if(Wn===null){var t=fn.alternate;t=t!==null?t.memoizedState:null}else t=Wn.next;var e=Qn===null?fn.memoizedState:Qn.next;if(e!==null)Qn=e,Wn=t;else{if(t===null)throw Error(Q(310));Wn=t,t={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},Qn===null?fn.memoizedState=Qn=t:Qn=Qn.next=t}return Qn}function A0(t,e){return typeof e=="function"?e(t):e}function vw(t){var e=ri(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=Wn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Ac&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,fn.lanes|=u,Pc|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Ai(r,e.memoizedState)||(ts=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,fn.lanes|=i,Pc|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yw(t){var e=ri(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ai(i,e.memoizedState)||(ts=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function iN(){}function oN(t,e){var n=fn,r=ri(),s=e(),i=!Ai(r.memoizedState,s);if(i&&(r.memoizedState=s,ts=!0),r=r.queue,nb(cN.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Qn!==null&&Qn.memoizedState.tag&1){if(n.flags|=2048,P0(9,lN.bind(null,n,r,s,e),void 0,null),tr===null)throw Error(Q(349));Ac&30||aN(n,e,s)}return s}function aN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lN(t,e,n,r){e.value=n,e.getSnapshot=r,uN(e)&&dN(t)}function cN(t,e,n){return n(function(){uN(e)&&dN(t)})}function uN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ai(t,n)}catch{return!0}}function dN(t){var e=ta(t,1);e!==null&&Si(e,t,1,-1)}function r4(t){var e=zi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:A0,lastRenderedState:t},e.queue=t,t=t.dispatch=Hz.bind(null,fn,t),[e.memoizedState,t]}function P0(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hN(){return ri().memoizedState}function R2(t,e,n,r){var s=zi();fn.flags|=t,s.memoizedState=P0(1|e,n,void 0,r===void 0?null:r)}function av(t,e,n,r){var s=ri();r=r===void 0?null:r;var i=void 0;if(Wn!==null){var o=Wn.memoizedState;if(i=o.destroy,r!==null&&ZC(r,o.deps)){s.memoizedState=P0(e,n,i,r);return}}fn.flags|=t,s.memoizedState=P0(1|e,n,i,r)}function s4(t,e){return R2(8390656,8,t,e)}function nb(t,e){return av(2048,8,t,e)}function fN(t,e){return av(4,2,t,e)}function pN(t,e){return av(4,4,t,e)}function mN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gN(t,e,n){return n=n!=null?n.concat([t]):null,av(4,4,mN.bind(null,e,t),n)}function rb(){}function vN(t,e){var n=ri();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ZC(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function yN(t,e){var n=ri();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ZC(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _N(t,e,n){return Ac&21?(Ai(n,e)||(n=E9(),fn.lanes|=n,Pc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ts=!0),t.memoizedState=n)}function Bz(t,e){var n=$t;$t=n!==0&&4>n?n:4,t(!0);var r=gw.transition;gw.transition={};try{t(!1),e()}finally{$t=n,gw.transition=r}}function wN(){return ri().memoizedState}function Wz(t,e,n){var r=rl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xN(t))EN(e,n);else if(n=J9(t,e,n,r),n!==null){var s=Vr();Si(n,t,r,s),CN(n,e,r)}}function Hz(t,e,n){var r=rl(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xN(t))EN(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ai(a,o)){var l=e.interleaved;l===null?(s.next=s,YC(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=J9(t,e,s,r),n!==null&&(s=Vr(),Si(n,t,r,s),CN(n,e,r))}}function xN(t){var e=t.alternate;return t===fn||e!==null&&e===fn}function EN(t,e){qf=Ng=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function CN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,LC(t,n)}}var Dg={readContext:ni,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useInsertionEffect:yr,useLayoutEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useMutableSource:yr,useSyncExternalStore:yr,useId:yr,unstable_isNewReconciler:!1},Gz={readContext:ni,useCallback:function(t,e){return zi().memoizedState=[t,e===void 0?null:e],t},useContext:ni,useEffect:s4,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,R2(4194308,4,mN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return R2(4194308,4,t,e)},useInsertionEffect:function(t,e){return R2(4,2,t,e)},useMemo:function(t,e){var n=zi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Wz.bind(null,fn,t),[r.memoizedState,t]},useRef:function(t){var e=zi();return t={current:t},e.memoizedState=t},useState:r4,useDebugValue:rb,useDeferredValue:function(t){return zi().memoizedState=t},useTransition:function(){var t=r4(!1),e=t[0];return t=Bz.bind(null,t[1]),zi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=fn,s=zi();if(ln){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),tr===null)throw Error(Q(349));Ac&30||aN(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,s4(cN.bind(null,r,i,t),[t]),r.flags|=2048,P0(9,lN.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=zi(),e=tr.identifierPrefix;if(ln){var n=$o,r=jo;n=(r&~(1<<32-Ti(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=R0++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zz++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qz={readContext:ni,useCallback:vN,useContext:ni,useEffect:nb,useImperativeHandle:gN,useInsertionEffect:fN,useLayoutEffect:pN,useMemo:yN,useReducer:vw,useRef:hN,useState:function(){return vw(A0)},useDebugValue:rb,useDeferredValue:function(t){var e=ri();return _N(e,Wn.memoizedState,t)},useTransition:function(){var t=vw(A0)[0],e=ri().memoizedState;return[t,e]},useMutableSource:iN,useSyncExternalStore:oN,useId:wN,unstable_isNewReconciler:!1},Yz={readContext:ni,useCallback:vN,useContext:ni,useEffect:nb,useImperativeHandle:gN,useInsertionEffect:fN,useLayoutEffect:pN,useMemo:yN,useReducer:yw,useRef:hN,useState:function(){return yw(A0)},useDebugValue:rb,useDeferredValue:function(t){var e=ri();return Wn===null?e.memoizedState=t:_N(e,Wn.memoizedState,t)},useTransition:function(){var t=yw(A0)[0],e=ri().memoizedState;return[t,e]},useMutableSource:iN,useSyncExternalStore:oN,useId:wN,unstable_isNewReconciler:!1};function Nd(t,e){try{var n="",r=e;do n+=EU(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function _w(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function l3(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Kz=typeof WeakMap=="function"?WeakMap:Map;function bN(t,e,n){n=Yo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Mg||(Mg=!0,y3=r),l3(t,e)},n}function IN(t,e,n){n=Yo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){l3(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){l3(t,e),typeof r!="function"&&(nl===null?nl=new Set([this]):nl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function i4(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Kz;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=cB.bind(null,t,e,n),e.then(t,t))}function o4(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function a4(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yo(-1,1),e.tag=2,tl(n,e,1))),n.lanes|=1),t)}var Qz=fa.ReactCurrentOwner,ts=!1;function Mr(t,e,n,r){e.child=t===null?rN(e,null,n,r):Ad(e,t.child,n,r)}function l4(t,e,n,r,s){n=n.render;var i=e.ref;return cd(e,s),r=eb(t,e,n,r,i,s),n=tb(),t!==null&&!ts?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,na(t,e,s)):(ln&&n&&zC(e),e.flags|=1,Mr(t,e,r,s),e.child)}function c4(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!db(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,TN(t,e,i,r,s)):(t=D2(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:C0,n(o,r)&&t.ref===e.ref)return na(t,e,s)}return e.flags|=1,t=sl(i,r),t.ref=e.ref,t.return=e,e.child=t}function TN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(C0(i,r)&&t.ref===e.ref)if(ts=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ts=!0);else return e.lanes=t.lanes,na(t,e,s)}return c3(t,e,n,r,s)}function SN(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yt(Xu,xs),xs|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Yt(Xu,xs),xs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Yt(Xu,xs),xs|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Yt(Xu,xs),xs|=r;return Mr(t,e,s,n),e.child}function kN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function c3(t,e,n,r,s){var i=ls(n)?kc:Pr.current;return i=kd(e,i),cd(e,s),n=eb(t,e,n,r,i,s),r=tb(),t!==null&&!ts?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,na(t,e,s)):(ln&&r&&zC(e),e.flags|=1,Mr(t,e,n,s),e.child)}function u4(t,e,n,r,s){if(ls(n)){var i=!0;Ig(e)}else i=!1;if(cd(e,s),e.stateNode===null)A2(t,e),tN(e,n,r),a3(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ni(c):(c=ls(n)?kc:Pr.current,c=kd(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&t4(e,o,r,c),Na=!1;var f=e.memoizedState;o.state=f,Ag(e,r,o,s),l=e.memoizedState,a!==r||f!==l||as.current||Na?(typeof u=="function"&&(o3(e,n,u,r),l=e.memoizedState),(a=Na||e4(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Z9(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:wi(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ni(l):(l=ls(n)?kc:Pr.current,l=kd(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&t4(e,o,r,l),Na=!1,f=e.memoizedState,o.state=f,Ag(e,r,o,s);var m=e.memoizedState;a!==h||f!==m||as.current||Na?(typeof p=="function"&&(o3(e,n,p,r),m=e.memoizedState),(c=Na||e4(e,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return u3(t,e,n,r,i,s)}function u3(t,e,n,r,s,i){kN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&KS(e,n,!1),na(t,e,i);r=e.stateNode,Qz.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ad(e,t.child,null,i),e.child=Ad(e,null,a,i)):Mr(t,e,a,i),e.memoizedState=r.state,s&&KS(e,n,!0),e.child}function RN(t){var e=t.stateNode;e.pendingContext?YS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&YS(t,e.context,!1),QC(t,e.containerInfo)}function d4(t,e,n,r,s){return Rd(),WC(s),e.flags|=256,Mr(t,e,n,r),e.child}var d3={dehydrated:null,treeContext:null,retryLane:0};function h3(t){return{baseLanes:t,cachePool:null,transitions:null}}function AN(t,e,n){var r=e.pendingProps,s=dn.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Yt(dn,s&1),t===null)return s3(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=uv(o,r,0,null),t=vc(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=h3(n),e.memoizedState=d3,t):sb(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Xz(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=sl(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=sl(a,i):(i=vc(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?h3(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=d3,r}return i=t.child,t=i.sibling,r=sl(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function sb(t,e){return e=uv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vm(t,e,n,r){return r!==null&&WC(r),Ad(e,t.child,null,n),t=sb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Xz(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=_w(Error(Q(422))),Vm(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=uv({mode:"visible",children:r.children},s,0,null),i=vc(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ad(e,t.child,null,o),e.child.memoizedState=h3(o),e.memoizedState=d3,i);if(!(e.mode&1))return Vm(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Q(419)),r=_w(i,r,void 0),Vm(t,e,o,r)}if(a=(o&t.childLanes)!==0,ts||a){if(r=tr,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ta(t,s),Si(r,t,s,-1))}return ub(),r=_w(Error(Q(421))),Vm(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=uB.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Cs=el(s.nextSibling),Ts=e,ln=!0,Ei=null,t!==null&&(Bs[Ws++]=jo,Bs[Ws++]=$o,Bs[Ws++]=Rc,jo=t.id,$o=t.overflow,Rc=e),e=sb(e,r.children),e.flags|=4096,e)}function h4(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),i3(t.return,e,n)}function ww(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function PN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Mr(t,e,r.children,n),r=dn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&h4(t,n,e);else if(t.tag===19)h4(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Yt(dn,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Pg(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ww(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Pg(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ww(e,!0,n,null,i);break;case"together":ww(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function A2(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function na(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Pc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=sl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=sl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Jz(t,e,n){switch(e.tag){case 3:RN(e),Rd();break;case 5:sN(e);break;case 1:ls(e.type)&&Ig(e);break;case 4:QC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Yt(kg,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Yt(dn,dn.current&1),e.flags|=128,null):n&e.child.childLanes?AN(t,e,n):(Yt(dn,dn.current&1),t=na(t,e,n),t!==null?t.sibling:null);Yt(dn,dn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return PN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Yt(dn,dn.current),r)break;return null;case 22:case 23:return e.lanes=0,SN(t,e,n)}return na(t,e,n)}var NN,f3,DN,LN;NN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};f3=function(){};DN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ic(io.current);var i=null;switch(n){case"input":s=Mx(t,s),r=Mx(t,r),i=[];break;case"select":s=mn({},s,{value:void 0}),r=mn({},r,{value:void 0}),i=[];break;case"textarea":s=$x(t,s),r=$x(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cg)}Vx(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(g0.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(g0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Kt("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};LN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Jh(t,e){if(!ln)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _r(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Zz(t,e,n){var r=e.pendingProps;switch(BC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(e),null;case 1:return ls(e.type)&&bg(),_r(e),null;case 3:return r=e.stateNode,Pd(),Zt(as),Zt(Pr),JC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($m(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ei!==null&&(x3(Ei),Ei=null))),f3(t,e),_r(e),null;case 5:XC(e);var s=ic(k0.current);if(n=e.type,t!==null&&e.stateNode!=null)DN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return _r(e),null}if(t=ic(io.current),$m(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[qi]=e,r[T0]=i,t=(e.mode&1)!==0,n){case"dialog":Kt("cancel",r),Kt("close",r);break;case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(s=0;s<Rf.length;s++)Kt(Rf[s],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"details":Kt("toggle",r);break;case"input":xS(r,i),Kt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Kt("invalid",r);break;case"textarea":CS(r,i),Kt("invalid",r)}Vx(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&jm(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&jm(r.textContent,a,t),s=["children",""+a]):g0.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Kt("scroll",r)}switch(n){case"input":Rm(r),ES(r,i,!0);break;case"textarea":Rm(r),bS(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Cg)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=a9(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qi]=e,t[T0]=r,NN(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ux(n,r),n){case"dialog":Kt("cancel",t),Kt("close",t),s=r;break;case"iframe":case"object":case"embed":Kt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Rf.length;s++)Kt(Rf[s],t);s=r;break;case"source":Kt("error",t),s=r;break;case"img":case"image":case"link":Kt("error",t),Kt("load",t),s=r;break;case"details":Kt("toggle",t),s=r;break;case"input":xS(t,r),s=Mx(t,r),Kt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=mn({},r,{value:void 0}),Kt("invalid",t);break;case"textarea":CS(t,r),s=$x(t,r),Kt("invalid",t);break;default:s=r}Vx(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?u9(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&l9(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&v0(t,l):typeof l=="number"&&v0(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(g0.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Kt("scroll",t):l!=null&&kC(t,i,l,o))}switch(n){case"input":Rm(t),ES(t,r,!1);break;case"textarea":Rm(t),bS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hl(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?id(t,!!r.multiple,i,!1):r.defaultValue!=null&&id(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Cg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _r(e),null;case 6:if(t&&e.stateNode!=null)LN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=ic(k0.current),ic(io.current),$m(e)){if(r=e.stateNode,n=e.memoizedProps,r[qi]=e,(i=r.nodeValue!==n)&&(t=Ts,t!==null))switch(t.tag){case 3:jm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jm(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qi]=e,e.stateNode=r}return _r(e),null;case 13:if(Zt(dn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ln&&Cs!==null&&e.mode&1&&!(e.flags&128))X9(),Rd(),e.flags|=98560,i=!1;else if(i=$m(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[qi]=e}else Rd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_r(e),i=!1}else Ei!==null&&(x3(Ei),Ei=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||dn.current&1?Hn===0&&(Hn=3):ub())),e.updateQueue!==null&&(e.flags|=4),_r(e),null);case 4:return Pd(),f3(t,e),t===null&&b0(e.stateNode.containerInfo),_r(e),null;case 10:return qC(e.type._context),_r(e),null;case 17:return ls(e.type)&&bg(),_r(e),null;case 19:if(Zt(dn),i=e.memoizedState,i===null)return _r(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Jh(i,!1);else{if(Hn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Pg(t),o!==null){for(e.flags|=128,Jh(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Yt(dn,dn.current&1|2),e.child}t=t.sibling}i.tail!==null&&Sn()>Dd&&(e.flags|=128,r=!0,Jh(i,!1),e.lanes=4194304)}else{if(!r)if(t=Pg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Jh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ln)return _r(e),null}else 2*Sn()-i.renderingStartTime>Dd&&n!==1073741824&&(e.flags|=128,r=!0,Jh(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Sn(),e.sibling=null,n=dn.current,Yt(dn,r?n&1|2:n&1),e):(_r(e),null);case 22:case 23:return cb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xs&1073741824&&(_r(e),e.subtreeFlags&6&&(e.flags|=8192)):_r(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function eB(t,e){switch(BC(e),e.tag){case 1:return ls(e.type)&&bg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pd(),Zt(as),Zt(Pr),JC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return XC(e),null;case 13:if(Zt(dn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Rd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Zt(dn),null;case 4:return Pd(),null;case 10:return qC(e.type._context),null;case 22:case 23:return cb(),null;case 24:return null;default:return null}}var Um=!1,Er=!1,tB=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Qu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yn(t,e,r)}else n.current=null}function p3(t,e,n){try{n()}catch(r){yn(t,e,r)}}var f4=!1;function nB(t,e){if(Xx=wg,t=$9(),UC(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jx={focusedElem:t,selectionRange:n},wg=!1,Ee=e;Ee!==null;)if(e=Ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ee=t;else for(;Ee!==null;){e=Ee;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,E=m.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:wi(e.type,v),E);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(x){yn(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Ee=t;break}Ee=e.return}return m=f4,f4=!1,m}function Yf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&p3(e,n,i)}s=s.next}while(s!==r)}}function lv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function m3(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function MN(t){var e=t.alternate;e!==null&&(t.alternate=null,MN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qi],delete e[T0],delete e[t3],delete e[$z],delete e[Fz])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ON(t){return t.tag===5||t.tag===3||t.tag===4}function p4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ON(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function g3(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cg));else if(r!==4&&(t=t.child,t!==null))for(g3(t,e,n),t=t.sibling;t!==null;)g3(t,e,n),t=t.sibling}function v3(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(v3(t,e,n),t=t.sibling;t!==null;)v3(t,e,n),t=t.sibling}var ar=null,xi=!1;function Ca(t,e,n){for(n=n.child;n!==null;)jN(t,e,n),n=n.sibling}function jN(t,e,n){if(so&&typeof so.onCommitFiberUnmount=="function")try{so.onCommitFiberUnmount(ev,n)}catch{}switch(n.tag){case 5:Er||Qu(n,e);case 6:var r=ar,s=xi;ar=null,Ca(t,e,n),ar=r,xi=s,ar!==null&&(xi?(t=ar,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ar.removeChild(n.stateNode));break;case 18:ar!==null&&(xi?(t=ar,n=n.stateNode,t.nodeType===8?fw(t.parentNode,n):t.nodeType===1&&fw(t,n),x0(t)):fw(ar,n.stateNode));break;case 4:r=ar,s=xi,ar=n.stateNode.containerInfo,xi=!0,Ca(t,e,n),ar=r,xi=s;break;case 0:case 11:case 14:case 15:if(!Er&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&p3(n,e,o),s=s.next}while(s!==r)}Ca(t,e,n);break;case 1:if(!Er&&(Qu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){yn(n,e,a)}Ca(t,e,n);break;case 21:Ca(t,e,n);break;case 22:n.mode&1?(Er=(r=Er)||n.memoizedState!==null,Ca(t,e,n),Er=r):Ca(t,e,n);break;default:Ca(t,e,n)}}function m4(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new tB),e.forEach(function(r){var s=dB.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function vi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ar=a.stateNode,xi=!1;break e;case 3:ar=a.stateNode.containerInfo,xi=!0;break e;case 4:ar=a.stateNode.containerInfo,xi=!0;break e}a=a.return}if(ar===null)throw Error(Q(160));jN(i,o,s),ar=null,xi=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){yn(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$N(e,t),e=e.sibling}function $N(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vi(e,t),Ui(t),r&4){try{Yf(3,t,t.return),lv(3,t)}catch(v){yn(t,t.return,v)}try{Yf(5,t,t.return)}catch(v){yn(t,t.return,v)}}break;case 1:vi(e,t),Ui(t),r&512&&n!==null&&Qu(n,n.return);break;case 5:if(vi(e,t),Ui(t),r&512&&n!==null&&Qu(n,n.return),t.flags&32){var s=t.stateNode;try{v0(s,"")}catch(v){yn(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&i9(s,i),Ux(a,o);var c=Ux(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?u9(s,h):u==="dangerouslySetInnerHTML"?l9(s,h):u==="children"?v0(s,h):kC(s,u,h,c)}switch(a){case"input":Ox(s,i);break;case"textarea":o9(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?id(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?id(s,!!i.multiple,i.defaultValue,!0):id(s,!!i.multiple,i.multiple?[]:"",!1))}s[T0]=i}catch(v){yn(t,t.return,v)}}break;case 6:if(vi(e,t),Ui(t),r&4){if(t.stateNode===null)throw Error(Q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){yn(t,t.return,v)}}break;case 3:if(vi(e,t),Ui(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{x0(e.containerInfo)}catch(v){yn(t,t.return,v)}break;case 4:vi(e,t),Ui(t);break;case 13:vi(e,t),Ui(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ab=Sn())),r&4&&m4(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Er=(c=Er)||u,vi(e,t),Er=c):vi(e,t),Ui(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ee=t,u=t.child;u!==null;){for(h=Ee=u;Ee!==null;){switch(f=Ee,p=f.child,f.tag){case 0:case 11:case 14:case 15:Yf(4,f,f.return);break;case 1:Qu(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){yn(r,n,v)}}break;case 5:Qu(f,f.return);break;case 22:if(f.memoizedState!==null){v4(h);continue}}p!==null?(p.return=f,Ee=p):v4(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=c9("display",o))}catch(v){yn(t,t.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){yn(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vi(e,t),Ui(t),r&4&&m4(t);break;case 21:break;default:vi(e,t),Ui(t)}}function Ui(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ON(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(v0(s,""),r.flags&=-33);var i=p4(t);v3(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=p4(t);g3(t,a,o);break;default:throw Error(Q(161))}}catch(l){yn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rB(t,e,n){Ee=t,FN(t)}function FN(t,e,n){for(var r=(t.mode&1)!==0;Ee!==null;){var s=Ee,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Um;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Er;a=Um;var c=Er;if(Um=o,(Er=l)&&!c)for(Ee=s;Ee!==null;)o=Ee,l=o.child,o.tag===22&&o.memoizedState!==null?y4(s):l!==null?(l.return=o,Ee=l):y4(s);for(;i!==null;)Ee=i,FN(i),i=i.sibling;Ee=s,Um=a,Er=c}g4(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ee=i):g4(t)}}function g4(t){for(;Ee!==null;){var e=Ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Er||lv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Er)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:wi(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ZS(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ZS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&x0(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Er||e.flags&512&&m3(e)}catch(f){yn(e,e.return,f)}}if(e===t){Ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function v4(t){for(;Ee!==null;){var e=Ee;if(e===t){Ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function y4(t){for(;Ee!==null;){var e=Ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lv(4,e)}catch(l){yn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){yn(e,s,l)}}var i=e.return;try{m3(e)}catch(l){yn(e,i,l)}break;case 5:var o=e.return;try{m3(e)}catch(l){yn(e,o,l)}}}catch(l){yn(e,e.return,l)}if(e===t){Ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ee=a;break}Ee=e.return}}var sB=Math.ceil,Lg=fa.ReactCurrentDispatcher,ib=fa.ReactCurrentOwner,Xs=fa.ReactCurrentBatchConfig,Tt=0,tr=null,$n=null,hr=0,xs=0,Xu=kl(0),Hn=0,N0=null,Pc=0,cv=0,ob=0,Kf=null,Jr=null,ab=0,Dd=1/0,Ao=null,Mg=!1,y3=null,nl=null,zm=!1,Ba=null,Og=0,Qf=0,_3=null,P2=-1,N2=0;function Vr(){return Tt&6?Sn():P2!==-1?P2:P2=Sn()}function rl(t){return t.mode&1?Tt&2&&hr!==0?hr&-hr:Uz.transition!==null?(N2===0&&(N2=E9()),N2):(t=$t,t!==0||(t=window.event,t=t===void 0?16:R9(t.type)),t):1}function Si(t,e,n,r){if(50<Qf)throw Qf=0,_3=null,Error(Q(185));Tp(t,n,r),(!(Tt&2)||t!==tr)&&(t===tr&&(!(Tt&2)&&(cv|=n),Hn===4&&La(t,hr)),cs(t,r),n===1&&Tt===0&&!(e.mode&1)&&(Dd=Sn()+500,iv&&Rl()))}function cs(t,e){var n=t.callbackNode;UU(t,e);var r=_g(t,t===tr?hr:0);if(r===0)n!==null&&SS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&SS(n),e===1)t.tag===0?Vz(_4.bind(null,t)):Y9(_4.bind(null,t)),Oz(function(){!(Tt&6)&&Rl()}),n=null;else{switch(C9(r)){case 1:n=DC;break;case 4:n=w9;break;case 16:n=yg;break;case 536870912:n=x9;break;default:n=yg}n=qN(n,VN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function VN(t,e){if(P2=-1,N2=0,Tt&6)throw Error(Q(327));var n=t.callbackNode;if(ud()&&t.callbackNode!==n)return null;var r=_g(t,t===tr?hr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=jg(t,r);else{e=r;var s=Tt;Tt|=2;var i=zN();(tr!==t||hr!==e)&&(Ao=null,Dd=Sn()+500,gc(t,e));do try{aB();break}catch(a){UN(t,a)}while(!0);GC(),Lg.current=i,Tt=s,$n!==null?e=0:(tr=null,hr=0,e=Hn)}if(e!==0){if(e===2&&(s=Gx(t),s!==0&&(r=s,e=w3(t,s))),e===1)throw n=N0,gc(t,0),La(t,r),cs(t,Sn()),n;if(e===6)La(t,r);else{if(s=t.current.alternate,!(r&30)&&!iB(s)&&(e=jg(t,r),e===2&&(i=Gx(t),i!==0&&(r=i,e=w3(t,i))),e===1))throw n=N0,gc(t,0),La(t,r),cs(t,Sn()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:Gl(t,Jr,Ao);break;case 3:if(La(t,r),(r&130023424)===r&&(e=ab+500-Sn(),10<e)){if(_g(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Vr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=e3(Gl.bind(null,t,Jr,Ao),e);break}Gl(t,Jr,Ao);break;case 4:if(La(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ti(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Sn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sB(r/1960))-r,10<r){t.timeoutHandle=e3(Gl.bind(null,t,Jr,Ao),r);break}Gl(t,Jr,Ao);break;case 5:Gl(t,Jr,Ao);break;default:throw Error(Q(329))}}}return cs(t,Sn()),t.callbackNode===n?VN.bind(null,t):null}function w3(t,e){var n=Kf;return t.current.memoizedState.isDehydrated&&(gc(t,e).flags|=256),t=jg(t,e),t!==2&&(e=Jr,Jr=n,e!==null&&x3(e)),t}function x3(t){Jr===null?Jr=t:Jr.push.apply(Jr,t)}function iB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ai(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function La(t,e){for(e&=~ob,e&=~cv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ti(e),r=1<<n;t[n]=-1,e&=~r}}function _4(t){if(Tt&6)throw Error(Q(327));ud();var e=_g(t,0);if(!(e&1))return cs(t,Sn()),null;var n=jg(t,e);if(t.tag!==0&&n===2){var r=Gx(t);r!==0&&(e=r,n=w3(t,r))}if(n===1)throw n=N0,gc(t,0),La(t,e),cs(t,Sn()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gl(t,Jr,Ao),cs(t,Sn()),null}function lb(t,e){var n=Tt;Tt|=1;try{return t(e)}finally{Tt=n,Tt===0&&(Dd=Sn()+500,iv&&Rl())}}function Nc(t){Ba!==null&&Ba.tag===0&&!(Tt&6)&&ud();var e=Tt;Tt|=1;var n=Xs.transition,r=$t;try{if(Xs.transition=null,$t=1,t)return t()}finally{$t=r,Xs.transition=n,Tt=e,!(Tt&6)&&Rl()}}function cb(){xs=Xu.current,Zt(Xu)}function gc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Mz(n)),$n!==null)for(n=$n.return;n!==null;){var r=n;switch(BC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bg();break;case 3:Pd(),Zt(as),Zt(Pr),JC();break;case 5:XC(r);break;case 4:Pd();break;case 13:Zt(dn);break;case 19:Zt(dn);break;case 10:qC(r.type._context);break;case 22:case 23:cb()}n=n.return}if(tr=t,$n=t=sl(t.current,null),hr=xs=e,Hn=0,N0=null,ob=cv=Pc=0,Jr=Kf=null,sc!==null){for(e=0;e<sc.length;e++)if(n=sc[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}sc=null}return t}function UN(t,e){do{var n=$n;try{if(GC(),k2.current=Dg,Ng){for(var r=fn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ng=!1}if(Ac=0,Qn=Wn=fn=null,qf=!1,R0=0,ib.current=null,n===null||n.return===null){Hn=1,N0=e,$n=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=hr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=o4(o);if(p!==null){p.flags&=-257,a4(p,o,a,i,e),p.mode&1&&i4(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){i4(i,c,e),ub();break e}l=Error(Q(426))}}else if(ln&&a.mode&1){var E=o4(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),a4(E,o,a,i,e),WC(Nd(l,a));break e}}i=l=Nd(l,a),Hn!==4&&(Hn=2),Kf===null?Kf=[i]:Kf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=bN(i,l,e);JS(i,y);break e;case 1:a=l;var w=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(nl===null||!nl.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=IN(i,a,e);JS(i,x);break e}}i=i.return}while(i!==null)}WN(n)}catch(b){e=b,$n===n&&n!==null&&($n=n=n.return);continue}break}while(!0)}function zN(){var t=Lg.current;return Lg.current=Dg,t===null?Dg:t}function ub(){(Hn===0||Hn===3||Hn===2)&&(Hn=4),tr===null||!(Pc&268435455)&&!(cv&268435455)||La(tr,hr)}function jg(t,e){var n=Tt;Tt|=2;var r=zN();(tr!==t||hr!==e)&&(Ao=null,gc(t,e));do try{oB();break}catch(s){UN(t,s)}while(!0);if(GC(),Tt=n,Lg.current=r,$n!==null)throw Error(Q(261));return tr=null,hr=0,Hn}function oB(){for(;$n!==null;)BN($n)}function aB(){for(;$n!==null&&!NU();)BN($n)}function BN(t){var e=GN(t.alternate,t,xs);t.memoizedProps=t.pendingProps,e===null?WN(t):$n=e,ib.current=null}function WN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=eB(n,e),n!==null){n.flags&=32767,$n=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Hn=6,$n=null;return}}else if(n=Zz(n,e,xs),n!==null){$n=n;return}if(e=e.sibling,e!==null){$n=e;return}$n=e=t}while(e!==null);Hn===0&&(Hn=5)}function Gl(t,e,n){var r=$t,s=Xs.transition;try{Xs.transition=null,$t=1,lB(t,e,n,r)}finally{Xs.transition=s,$t=r}return null}function lB(t,e,n,r){do ud();while(Ba!==null);if(Tt&6)throw Error(Q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(zU(t,i),t===tr&&($n=tr=null,hr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zm||(zm=!0,qN(yg,function(){return ud(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Xs.transition,Xs.transition=null;var o=$t;$t=1;var a=Tt;Tt|=4,ib.current=null,nB(t,n),$N(n,t),kz(Jx),wg=!!Xx,Jx=Xx=null,t.current=n,rB(n),DU(),Tt=a,$t=o,Xs.transition=i}else t.current=n;if(zm&&(zm=!1,Ba=t,Og=s),i=t.pendingLanes,i===0&&(nl=null),OU(n.stateNode),cs(t,Sn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Mg)throw Mg=!1,t=y3,y3=null,t;return Og&1&&t.tag!==0&&ud(),i=t.pendingLanes,i&1?t===_3?Qf++:(Qf=0,_3=t):Qf=0,Rl(),null}function ud(){if(Ba!==null){var t=C9(Og),e=Xs.transition,n=$t;try{if(Xs.transition=null,$t=16>t?16:t,Ba===null)var r=!1;else{if(t=Ba,Ba=null,Og=0,Tt&6)throw Error(Q(331));var s=Tt;for(Tt|=4,Ee=t.current;Ee!==null;){var i=Ee,o=i.child;if(Ee.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ee=c;Ee!==null;){var u=Ee;switch(u.tag){case 0:case 11:case 15:Yf(8,u,i)}var h=u.child;if(h!==null)h.return=u,Ee=h;else for(;Ee!==null;){u=Ee;var f=u.sibling,p=u.return;if(MN(u),u===c){Ee=null;break}if(f!==null){f.return=p,Ee=f;break}Ee=p}}}var m=i.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}Ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ee=o;else e:for(;Ee!==null;){if(i=Ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Yf(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Ee=y;break e}Ee=i.return}}var w=t.current;for(Ee=w;Ee!==null;){o=Ee;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Ee=_;else e:for(o=w;Ee!==null;){if(a=Ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lv(9,a)}}catch(b){yn(a,a.return,b)}if(a===o){Ee=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Ee=x;break e}Ee=a.return}}if(Tt=s,Rl(),so&&typeof so.onPostCommitFiberRoot=="function")try{so.onPostCommitFiberRoot(ev,t)}catch{}r=!0}return r}finally{$t=n,Xs.transition=e}}return!1}function w4(t,e,n){e=Nd(n,e),e=bN(t,e,1),t=tl(t,e,1),e=Vr(),t!==null&&(Tp(t,1,e),cs(t,e))}function yn(t,e,n){if(t.tag===3)w4(t,t,n);else for(;e!==null;){if(e.tag===3){w4(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nl===null||!nl.has(r))){t=Nd(n,t),t=IN(e,t,1),e=tl(e,t,1),t=Vr(),e!==null&&(Tp(e,1,t),cs(e,t));break}}e=e.return}}function cB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vr(),t.pingedLanes|=t.suspendedLanes&n,tr===t&&(hr&n)===n&&(Hn===4||Hn===3&&(hr&130023424)===hr&&500>Sn()-ab?gc(t,0):ob|=n),cs(t,e)}function HN(t,e){e===0&&(t.mode&1?(e=Nm,Nm<<=1,!(Nm&130023424)&&(Nm=4194304)):e=1);var n=Vr();t=ta(t,e),t!==null&&(Tp(t,e,n),cs(t,n))}function uB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),HN(t,n)}function dB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),HN(t,n)}var GN;GN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||as.current)ts=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ts=!1,Jz(t,e,n);ts=!!(t.flags&131072)}else ts=!1,ln&&e.flags&1048576&&K9(e,Sg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;A2(t,e),t=e.pendingProps;var s=kd(e,Pr.current);cd(e,n),s=eb(null,e,r,t,s,n);var i=tb();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ls(r)?(i=!0,Ig(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,KC(e),s.updater=ov,e.stateNode=s,s._reactInternals=e,a3(e,r,t,n),e=u3(null,e,r,!0,i,n)):(e.tag=0,ln&&i&&zC(e),Mr(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(A2(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=fB(r),t=wi(r,t),s){case 0:e=c3(null,e,r,t,n);break e;case 1:e=u4(null,e,r,t,n);break e;case 11:e=l4(null,e,r,t,n);break e;case 14:e=c4(null,e,r,wi(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wi(r,s),c3(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wi(r,s),u4(t,e,r,s,n);case 3:e:{if(RN(e),t===null)throw Error(Q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Z9(t,e),Ag(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Nd(Error(Q(423)),e),e=d4(t,e,r,n,s);break e}else if(r!==s){s=Nd(Error(Q(424)),e),e=d4(t,e,r,n,s);break e}else for(Cs=el(e.stateNode.containerInfo.firstChild),Ts=e,ln=!0,Ei=null,n=rN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rd(),r===s){e=na(t,e,n);break e}Mr(t,e,r,n)}e=e.child}return e;case 5:return sN(e),t===null&&s3(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Zx(r,s)?o=null:i!==null&&Zx(r,i)&&(e.flags|=32),kN(t,e),Mr(t,e,o,n),e.child;case 6:return t===null&&s3(e),null;case 13:return AN(t,e,n);case 4:return QC(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ad(e,null,r,n):Mr(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wi(r,s),l4(t,e,r,s,n);case 7:return Mr(t,e,e.pendingProps,n),e.child;case 8:return Mr(t,e,e.pendingProps.children,n),e.child;case 12:return Mr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Yt(kg,r._currentValue),r._currentValue=o,i!==null)if(Ai(i.value,o)){if(i.children===s.children&&!as.current){e=na(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Yo(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),i3(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),i3(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Mr(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,cd(e,n),s=ni(s),r=r(s),e.flags|=1,Mr(t,e,r,n),e.child;case 14:return r=e.type,s=wi(r,e.pendingProps),s=wi(r.type,s),c4(t,e,r,s,n);case 15:return TN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wi(r,s),A2(t,e),e.tag=1,ls(r)?(t=!0,Ig(e)):t=!1,cd(e,n),tN(e,r,s),a3(e,r,s,n),u3(null,e,r,!0,t,n);case 19:return PN(t,e,n);case 22:return SN(t,e,n)}throw Error(Q(156,e.tag))};function qN(t,e){return _9(t,e)}function hB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ys(t,e,n,r){return new hB(t,e,n,r)}function db(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fB(t){if(typeof t=="function")return db(t)?1:0;if(t!=null){if(t=t.$$typeof,t===AC)return 11;if(t===PC)return 14}return 2}function sl(t,e){var n=t.alternate;return n===null?(n=Ys(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function D2(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")db(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Uu:return vc(n.children,s,i,e);case RC:o=8,s|=8;break;case Px:return t=Ys(12,n,e,s|2),t.elementType=Px,t.lanes=i,t;case Nx:return t=Ys(13,n,e,s),t.elementType=Nx,t.lanes=i,t;case Dx:return t=Ys(19,n,e,s),t.elementType=Dx,t.lanes=i,t;case n9:return uv(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case e9:o=10;break e;case t9:o=9;break e;case AC:o=11;break e;case PC:o=14;break e;case Pa:o=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Ys(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function vc(t,e,n,r){return t=Ys(7,t,r,e),t.lanes=n,t}function uv(t,e,n,r){return t=Ys(22,t,r,e),t.elementType=n9,t.lanes=n,t.stateNode={isHidden:!1},t}function xw(t,e,n){return t=Ys(6,t,null,e),t.lanes=n,t}function Ew(t,e,n){return e=Ys(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pB(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nw(0),this.expirationTimes=nw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nw(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hb(t,e,n,r,s,i,o,a,l){return t=new pB(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ys(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},KC(i),t}function mB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function YN(t){if(!t)return fl;t=t._reactInternals;e:{if(nu(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ls(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(ls(n))return q9(t,n,e)}return e}function KN(t,e,n,r,s,i,o,a,l){return t=hb(n,r,!0,t,s,i,o,a,l),t.context=YN(null),n=t.current,r=Vr(),s=rl(n),i=Yo(r,s),i.callback=e??null,tl(n,i,s),t.current.lanes=s,Tp(t,s,r),cs(t,r),t}function dv(t,e,n,r){var s=e.current,i=Vr(),o=rl(s);return n=YN(n),e.context===null?e.context=n:e.pendingContext=n,e=Yo(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=tl(s,e,o),t!==null&&(Si(t,s,o,i),S2(t,s,o)),o}function $g(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function x4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fb(t,e){x4(t,e),(t=t.alternate)&&x4(t,e)}function gB(){return null}var QN=typeof reportError=="function"?reportError:function(t){console.error(t)};function pb(t){this._internalRoot=t}hv.prototype.render=pb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));dv(t,e,null,null)};hv.prototype.unmount=pb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Nc(function(){dv(null,t,null,null)}),e[ea]=null}};function hv(t){this._internalRoot=t}hv.prototype.unstable_scheduleHydration=function(t){if(t){var e=T9();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Da.length&&e!==0&&e<Da[n].priority;n++);Da.splice(n,0,t),n===0&&k9(t)}};function mb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function E4(){}function vB(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=$g(o);i.call(c)}}var o=KN(e,r,t,0,null,!1,!1,"",E4);return t._reactRootContainer=o,t[ea]=o.current,b0(t.nodeType===8?t.parentNode:t),Nc(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=$g(l);a.call(c)}}var l=hb(t,0,!1,null,null,!1,!1,"",E4);return t._reactRootContainer=l,t[ea]=l.current,b0(t.nodeType===8?t.parentNode:t),Nc(function(){dv(e,l,n,r)}),l}function pv(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=$g(o);a.call(l)}}dv(e,o,t,s)}else o=vB(n,e,t,s,r);return $g(o)}b9=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=kf(e.pendingLanes);n!==0&&(LC(e,n|1),cs(e,Sn()),!(Tt&6)&&(Dd=Sn()+500,Rl()))}break;case 13:Nc(function(){var r=ta(t,1);if(r!==null){var s=Vr();Si(r,t,1,s)}}),fb(t,1)}};MC=function(t){if(t.tag===13){var e=ta(t,134217728);if(e!==null){var n=Vr();Si(e,t,134217728,n)}fb(t,134217728)}};I9=function(t){if(t.tag===13){var e=rl(t),n=ta(t,e);if(n!==null){var r=Vr();Si(n,t,e,r)}fb(t,e)}};T9=function(){return $t};S9=function(t,e){var n=$t;try{return $t=t,e()}finally{$t=n}};Bx=function(t,e,n){switch(e){case"input":if(Ox(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=sv(r);if(!s)throw Error(Q(90));s9(r),Ox(r,s)}}}break;case"textarea":o9(t,n);break;case"select":e=n.value,e!=null&&id(t,!!n.multiple,e,!1)}};f9=lb;p9=Nc;var yB={usingClientEntryPoint:!1,Events:[kp,Hu,sv,d9,h9,lb]},Zh={findFiberByHostInstance:rc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},_B={bundleType:Zh.bundleType,version:Zh.version,rendererPackageName:Zh.rendererPackageName,rendererConfig:Zh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=v9(t),t===null?null:t.stateNode},findFiberByHostInstance:Zh.findFiberByHostInstance||gB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bm.isDisabled&&Bm.supportsFiber)try{ev=Bm.inject(_B),so=Bm}catch{}}Ms.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yB;Ms.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mb(e))throw Error(Q(200));return mB(t,e,null,n)};Ms.createRoot=function(t,e){if(!mb(t))throw Error(Q(299));var n=!1,r="",s=QN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=hb(t,1,!1,null,null,n,!1,r,s),t[ea]=e.current,b0(t.nodeType===8?t.parentNode:t),new pb(e)};Ms.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=v9(e),t=t===null?null:t.stateNode,t};Ms.flushSync=function(t){return Nc(t)};Ms.hydrate=function(t,e,n){if(!fv(e))throw Error(Q(200));return pv(null,t,e,!0,n)};Ms.hydrateRoot=function(t,e,n){if(!mb(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=QN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=KN(e,null,t,1,n??null,s,!1,i,o),t[ea]=e.current,b0(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new hv(e)};Ms.render=function(t,e,n){if(!fv(e))throw Error(Q(200));return pv(null,t,e,!1,n)};Ms.unmountComponentAtNode=function(t){if(!fv(t))throw Error(Q(40));return t._reactRootContainer?(Nc(function(){pv(null,null,t,!1,function(){t._reactRootContainer=null,t[ea]=null})}),!0):!1};Ms.unstable_batchedUpdates=lb;Ms.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fv(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return pv(t,e,n,!1,r)};Ms.version="18.2.0-next-9e3b772b8-20220608";function XN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XN)}catch(t){console.error(t)}}XN(),KP.exports=Ms;var D0=KP.exports;const Wm=$P(D0);var C4=D0;Rx.createRoot=C4.createRoot,Rx.hydrateRoot=C4.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L0.apply(this,arguments)}var Wa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wa||(Wa={}));const b4="popstate";function wB(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=ru(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),E3("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:Fg(i))}function r(s,i){mv(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return EB(e,n,r,t)}function Un(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xB(){return Math.random().toString(36).substr(2,8)}function I4(t,e){return{usr:t.state,key:t.key,idx:e}}function E3(t,e,n,r){return n===void 0&&(n=null),L0({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ru(e):e,{state:n,key:e&&e.key||r||xB()})}function Fg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ru(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function EB(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Wa.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(L0({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Wa.Pop;let E=u(),y=E==null?null:E-c;c=E,l&&l({action:a,location:v.location,delta:y})}function f(E,y){a=Wa.Push;let w=E3(v.location,E,y);n&&n(w,E),c=u()+1;let _=I4(w,c),x=v.createHref(w);try{o.pushState(_,"",x)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(x)}i&&l&&l({action:a,location:v.location,delta:1})}function p(E,y){a=Wa.Replace;let w=E3(v.location,E,y);n&&n(w,E),c=u();let _=I4(w,c),x=v.createHref(w);o.replaceState(_,"",x),i&&l&&l({action:a,location:v.location,delta:0})}function m(E){let y=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof E=="string"?E:Fg(E);return Un(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let v={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(b4,h),l=E,()=>{s.removeEventListener(b4,h),l=null}},createHref(E){return e(s,E)},createURL:m,encodeLocation(E){let y=m(E);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(E){return o.go(E)}};return v}var T4;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(T4||(T4={}));function CB(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ru(e):e,s=gb(r.pathname||"/",n);if(s==null)return null;let i=JN(t);bB(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=DB(i[a],OB(s));return o}function JN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Un(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=il([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Un(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),JN(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:PB(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of ZN(i.path))s(i,o,l)}),e}function ZN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ZN(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function bB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:NB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const IB=/^:[\w-]+$/,TB=3,SB=2,kB=1,RB=10,AB=-2,S4=t=>t==="*";function PB(t,e){let n=t.split("/"),r=n.length;return n.some(S4)&&(r+=AB),e&&(r+=SB),n.filter(s=>!S4(s)).reduce((s,i)=>s+(IB.test(i)?TB:i===""?kB:RB),r)}function NB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function DB(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=LB({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let h=a.route;i.push({params:r,pathname:il([s,u.pathname]),pathnameBase:UB(il([s,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(s=il([s,u.pathnameBase]))}return i}function LB(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=MB(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let v=a[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[h];return p&&!m?c[f]=void 0:c[f]=jB(m||"",f),c},{}),pathname:i,pathnameBase:o,pattern:t}}function MB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),mv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function OB(t){try{return decodeURI(t)}catch(e){return mv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jB(t,e){try{return decodeURIComponent(t)}catch(n){return mv(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function gb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $B(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ru(t):t;return{pathname:n?n.startsWith("/")?n:FB(n,e):e,search:zB(r),hash:BB(s)}}function FB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Cw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function e8(t,e){let n=VB(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function t8(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ru(t):(s=L0({},t),Un(!s.pathname||!s.pathname.includes("?"),Cw("?","pathname","search",s)),Un(!s.pathname||!s.pathname.includes("#"),Cw("#","pathname","hash",s)),Un(!s.search||!s.search.includes("#"),Cw("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=$B(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const il=t=>t.join("/").replace(/\/\/+/g,"/"),UB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function WB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const n8=["post","put","patch","delete"];new Set(n8);const HB=["get",...n8];new Set(HB);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function M0(){return M0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M0.apply(this,arguments)}const vb=g.createContext(null),GB=g.createContext(null),su=g.createContext(null),gv=g.createContext(null),Al=g.createContext({outlet:null,matches:[],isDataRoute:!1}),r8=g.createContext(null);function qB(t,e){let{relative:n}=e===void 0?{}:e;Ap()||Un(!1);let{basename:r,navigator:s}=g.useContext(su),{hash:i,pathname:o,search:a}=i8(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:il([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Ap(){return g.useContext(gv)!=null}function mh(){return Ap()||Un(!1),g.useContext(gv).location}function s8(t){g.useContext(su).static||g.useLayoutEffect(t)}function Et(){let{isDataRoute:t}=g.useContext(Al);return t?oW():YB()}function YB(){Ap()||Un(!1);let t=g.useContext(vb),{basename:e,future:n,navigator:r}=g.useContext(su),{matches:s}=g.useContext(Al),{pathname:i}=mh(),o=JSON.stringify(e8(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return s8(()=>{a.current=!0}),g.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=t8(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:il([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,i,t])}function Pl(){let{matches:t}=g.useContext(Al),e=t[t.length-1];return e?e.params:{}}function i8(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(su),{matches:s}=g.useContext(Al),{pathname:i}=mh(),o=JSON.stringify(e8(s,r.v7_relativeSplatPath));return g.useMemo(()=>t8(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function KB(t,e){return QB(t,e)}function QB(t,e,n,r){Ap()||Un(!1);let{navigator:s}=g.useContext(su),{matches:i}=g.useContext(Al),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=mh(),u;if(e){var h;let E=typeof e=="string"?ru(e):e;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||Un(!1),u=E}else u=c;let f=u.pathname||"/",p=l==="/"?f:f.slice(l.length)||"/",m=CB(t,{pathname:p}),v=tW(m&&m.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:il([l,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:il([l,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&v?g.createElement(gv.Provider,{value:{location:M0({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Wa.Pop}},v):v}function XB(){let t=iW(),e=WB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,i)}const JB=g.createElement(XB,null);class ZB extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(Al.Provider,{value:this.props.routeContext},g.createElement(r8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eW(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(vb);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Al.Provider,{value:e},r)}function tW(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));u>=0||Un(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:p}=n,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,m=!1,v=null,E=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||JB,l&&(c<0&&f===0?(aW("route-fallback",!1),m=!0,E=null):c===f&&(m=!0,E=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),w=()=>{let _;return p?_=v:m?_=E:h.route.Component?_=g.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=u,g.createElement(eW,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?g.createElement(ZB,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var o8=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(o8||{}),Vg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vg||{});function nW(t){let e=g.useContext(vb);return e||Un(!1),e}function rW(t){let e=g.useContext(GB);return e||Un(!1),e}function sW(t){let e=g.useContext(Al);return e||Un(!1),e}function a8(t){let e=sW(),n=e.matches[e.matches.length-1];return n.route.id||Un(!1),n.route.id}function iW(){var t;let e=g.useContext(r8),n=rW(Vg.UseRouteError),r=a8(Vg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function oW(){let{router:t}=nW(o8.UseNavigateStable),e=a8(Vg.UseNavigateStable),n=g.useRef(!1);return s8(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,M0({fromRouteId:e},i)))},[t,e])}const k4={};function aW(t,e,n){!e&&!k4[t]&&(k4[t]=!0)}function on(t){Un(!1)}function lW(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Wa.Pop,navigator:i,static:o=!1,future:a}=t;Ap()&&Un(!1);let l=e.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:l,navigator:i,static:o,future:M0({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ru(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,v=g.useMemo(()=>{let E=gb(u,l);return E==null?null:{location:{pathname:E,search:h,hash:f,state:p,key:m},navigationType:s}},[l,u,h,f,p,m,s]);return v==null?null:g.createElement(su.Provider,{value:c},g.createElement(gv.Provider,{children:n,value:v}))}function cW(t){let{children:e,location:n}=t;return KB(C3(e),n)}new Promise(()=>{});function C3(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,C3(r.props.children,i));return}r.type!==on&&Un(!1),!r.props.index||!r.props.children||Un(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=C3(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b3(){return b3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b3.apply(this,arguments)}function uW(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function dW(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hW(t,e){return t.button===0&&(!e||e==="_self")&&!dW(t)}const fW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],pW="6";try{window.__reactRouterVersion=pW}catch{}const mW="startTransition",R4=pg[mW];function gW(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=wB({window:s,v5Compat:!0}));let o=i.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=g.useCallback(h=>{c&&R4?R4(()=>l(h)):l(h)},[l,c]);return g.useLayoutEffect(()=>o.listen(u),[o,u]),g.createElement(lW,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const vW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_W=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,f=uW(e,fW),{basename:p}=g.useContext(su),m,v=!1;if(typeof c=="string"&&yW.test(c)&&(m=c,vW))try{let _=new URL(window.location.href),x=c.startsWith("//")?new URL(_.protocol+c):new URL(c),b=gb(x.pathname,p);x.origin===_.origin&&b!=null?c=b+x.search+x.hash:v=!0}catch{}let E=qB(c,{relative:s}),y=wW(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:h});function w(_){r&&r(_),_.defaultPrevented||y(_)}return g.createElement("a",b3({},f,{href:m||E,onClick:v||i?r:w,ref:n,target:l}))});var A4;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(A4||(A4={}));var P4;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(P4||(P4={}));function wW(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Et(),c=mh(),u=i8(t,{relative:o});return g.useCallback(h=>{if(hW(h,n)){h.preventDefault();let f=r!==void 0?r:Fg(c)===Fg(u);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}const xW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M41.9375%208.625C41.273438%208.648438%2040.664063%209%2040.3125%209.5625L21.5%2038.34375L9.3125%2027.8125C8.789063%2027.269531%208.003906%2027.066406%207.28125%2027.292969C6.5625%2027.515625%206.027344%2028.125%205.902344%2028.867188C5.777344%2029.613281%206.078125%2030.363281%206.6875%2030.8125L20.625%2042.875C21.0625%2043.246094%2021.640625%2043.410156%2022.207031%2043.328125C22.777344%2043.242188%2023.28125%2042.917969%2023.59375%2042.4375L43.6875%2011.75C44.117188%2011.121094%2044.152344%2010.308594%2043.78125%209.644531C43.410156%208.984375%2042.695313%208.589844%2041.9375%208.625Z'%20fill='%231EE97C'%20/%3e%3c/svg%3e",EW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",CW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%203C14.168432%203%2013.456063%203.5067238%2013.154297%204.2285156L2.3007812%2022.947266L2.3007812%2022.949219%20A%202%202%200%200%200%202%2024%20A%202%202%200%200%200%204%2026%20A%202%202%200%200%200%204.140625%2025.994141L4.1445312%2026L15%2026L25.855469%2026L25.859375%2025.992188%20A%202%202%200%200%200%2026%2026%20A%202%202%200%200%200%2028%2024%20A%202%202%200%200%200%2027.699219%2022.947266L27.683594%2022.919922%20A%202%202%200%200%200%2027.681641%2022.917969L16.845703%204.2285156C16.543937%203.5067238%2015.831568%203%2015%203%20z%20M%2013.787109%2011.359375L16.212891%2011.359375L16.011719%2017.832031L13.988281%2017.832031L13.787109%2011.359375%20z%20M%2015.003906%2019.810547C15.825906%2019.810547%2016.318359%2020.252813%2016.318359%2021.007812C16.318359%2021.748812%2015.825906%2022.189453%2015.003906%2022.189453C14.175906%2022.189453%2013.679688%2021.748813%2013.679688%2021.007812C13.679688%2020.252813%2014.174906%2019.810547%2015.003906%2019.810547%20z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",bW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M3,12v-2c0-0.386,0.223-0.738,0.572-0.904s0.762-0.115,1.062,0.13L15,17.708l10.367-8.482%20c0.299-0.245,0.712-0.295,1.062-0.13C26.779,9.261,27,9.614,27,10v2c0,0.3-0.135,0.584-0.367,0.774l-11,9%20c-0.369,0.301-0.898,0.301-1.267,0l-11-9C3.135,12.584,3,12.3,3,12z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",IW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M17,3h2c0.386,0,0.738,0.223,0.904,0.572s0.115,0.762-0.13,1.062L11.292,15l8.482,10.367%20c0.245,0.299,0.295,0.712,0.13,1.062S19.386,27,19,27h-2c-0.3,0-0.584-0.135-0.774-0.367l-9-11c-0.301-0.369-0.301-0.898,0-1.267%20l9-11C16.416,3.135,16.7,3,17,3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",TW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M19,7h-6.774l0.564-1.551c0.604-1.662-0.134-3.512-1.716-4.302c-0.691-0.345-1.532-0.064-1.877,0.627L6.339,7.504%20C5.532,8.042,5,8.958,5,10v7c0,2.209,1.791,4,4,4h6.989c2.344,0,4.373-1.628,4.881-3.915L22,12v-2C22,8.343,20.657,7,19,7z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M7,19.5c0-0.386,0-10.614,0-11C7,7.672,6.328,7,5.5,7S4,7.672,4,8.5c0,0.386,0,10.614,0,11C4,20.328,4.672,21,5.5,21S7,20.328,7,19.5z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",SW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M12,6h4V3.706c0-0.615,0.742-0.924,1.178-0.491l4.104,4.075c0.395,0.391,0.395,1.03,0,1.421l-4.104,4.075C16.742,13.218,16,12.908,16,12.294V10h-4c-4.351,0-5,2.661-5,4H3C3,10.31,5.357,6,12,6z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M8,22c0.513,0,1.024-0.196,1.415-0.587c0.78-0.781,0.78-2.046,0-2.827C8.786,17.951,7,15.753,7,14c0-6.845,5-8,5-8c-6.643,0-9,4.31-9,8c0,3.726,3.22,7.049,3.587,7.415C6.978,21.805,7.488,22,8,22z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",kW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M12,27h-2c-0.386,0-0.738-0.223-0.904-0.572s-0.115-0.762,0.13-1.062L17.708,15L9.226,4.633%20c-0.245-0.299-0.295-0.712-0.13-1.062S9.614,3,10,3h2c0.3,0,0.584,0.135,0.774,0.367l9,11c0.301,0.369,0.301,0.898,0,1.267l-9,11%20C12.584,26.865,12.3,27,12,27z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",RW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L11.5%206%20z%20M%2011.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209%20z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",AW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C11.832031%204%208.152344%206.113281%206%209.34375L6%206L4%206L4%2013L11%2013L11%2011L7.375%2011C9.101563%208.019531%2012.296875%206%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016L4%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2015%208L15%2017L22%2017L22%2015L17%2015L17%208Z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",PW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L5%203C4.4%203%204%203.4%204%204C4%204.6%204.4%205%205%205L7%205L17%205L19%205C19.6%205%2020%204.6%2020%204C20%203.4%2019.6%203%2019%203L15%203L14%202L10%202%20z%20M%205%207L5%2020C5%2021.1%205.9%2022%207%2022L17%2022C18.1%2022%2019%2021.1%2019%2020L19%207L5%207%20z%20M%209%209C9.6%209%2010%209.4%2010%2010L10%2019C10%2019.6%209.6%2020%209%2020C8.4%2020%208%2019.6%208%2019L8%2010C8%209.4%208.4%209%209%209%20z%20M%2015%209C15.6%209%2016%209.4%2016%2010L16%2019C16%2019.6%2015.6%2020%2015%2020C14.4%2020%2014%2019.6%2014%2019L14%2010C14%209.4%2014.4%209%2015%209%20z'%20fill='%23FF4A33'%20/%3e%3c/svg%3e",NW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20fill='%230F0F0F'%20/%3e%3cpath%20d='M3%2011H21V13H3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",DW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3cpath%20d='M79.335938%2015.667969C78.064453%2015.622266%2076.775%2015.762109%2075.5%2016.099609C72.1%2016.999609%2069.299609%2019.199219%2067.599609%2022.199219L64%2028.699219C63.2%2030.099219%2063.699609%2032.000781%2065.099609%2032.800781L82.400391%2042.800781C82.900391%2043.100781%2083.400391%2043.199219%2083.900391%2043.199219C84.200391%2043.199219%2084.399219%2043.199609%2084.699219%2043.099609C85.499219%2042.899609%2086.1%2042.399219%2086.5%2041.699219L90.199219%2035.199219C91.899219%2032.199219%2092.4%2028.700781%2091.5%2025.300781C90.6%2021.900781%2088.400391%2019.100391%2085.400391%2017.400391C83.525391%2016.337891%2081.455078%2015.744141%2079.335938%2015.667969%20z%20M%2060.097656%2038.126953C59.128906%2038.201172%2058.199219%2038.724609%2057.699219%2039.599609L27.5%2092C24.1%2097.8%2022.200781%20104.30039%2021.800781%20110.90039L21%20123.80078C20.9%20124.90078%2021.5%20125.99961%2022.5%20126.59961C23%20126.89961%2023.5%20127%2024%20127C24.6%20127%2025.199219%20126.8%2025.699219%20126.5L36.5%20119.40039C42%20115.70039%2046.7%20110.8%2050%20105L80.300781%2052.599609C81.100781%2051.199609%2080.599219%2049.3%2079.199219%2048.5C77.799219%2047.7%2075.899609%2048.199609%2075.099609%2049.599609L44.800781%20102C41.900781%20106.9%2037.899609%20111.20039%2033.099609%20114.40039L27.300781%20118.19922L27.699219%20111.30078C27.999219%20105.60078%2029.699609%20100%2032.599609%2095L62.900391%2042.599609C63.700391%2041.199609%2063.200781%2039.3%2061.800781%2038.5C61.275781%2038.2%2060.678906%2038.082422%2060.097656%2038.126953%20z%20M%2049%20121C47.3%20121%2046%20122.3%2046%20124C46%20125.7%2047.3%20127%2049%20127L89%20127C90.7%20127%2092%20125.7%2092%20124C92%20122.3%2090.7%20121%2089%20121L49%20121%20z%20M%20104%20121%20A%203%203%200%200%200%20101%20124%20A%203%203%200%200%200%20104%20127%20A%203%203%200%200%200%20107%20124%20A%203%203%200%200%200%20104%20121%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",LW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M5%203C3.9057453%203%203%203.9057453%203%205L3%2019C3%2020.094255%203.9057453%2021%205%2021L19%2021C20.094255%2021%2021%2020.094255%2021%2019L21%207L17%203L5%203%20z%20M%205%205L16.171875%205L19%207.828125L19%2019L5%2019L5%205%20z%20M%207%207L7%2010L15%2010L15%207L7%207%20z%20M%2011.5%2012%20A%202.5%202.5%200%200%200%209%2014.5%20A%202.5%202.5%200%200%200%2011.5%2017%20A%202.5%202.5%200%200%200%2014%2014.5%20A%202.5%202.5%200%200%200%2011.5%2012%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",MW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M27,18v2c0,0.386-0.223,0.738-0.572,0.904c-0.349,0.166-0.762,0.115-1.062-0.13L15,12.292L4.633,20.774%20c-0.299,0.245-0.712,0.295-1.062,0.13C3.221,20.739,3,20.386,3,20v-2c0-0.3,0.135-0.584,0.367-0.774l11-9%20c0.369-0.301,0.898-0.301,1.267,0l11,9C26.865,17.416,27,17.7,27,18z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",OW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%200C13.35499%200%2012%201.3549904%2012%203L8%203C6.3550302%203%205%204.3550302%205%206L5%2024C5%2025.64497%206.3550302%2027%208%2027L22%2027C23.64497%2027%2025%2025.64497%2025%2024L25%206C25%204.3550302%2023.64497%203%2022%203L18%203C18%201.3549904%2016.64501%200%2015%200%20z%20M%2015%202C15.564129%202%2016%202.4358706%2016%203C16%203.5641294%2015.564129%204%2015%204C14.435871%204%2014%203.5641294%2014%203C14%202.4358706%2014.435871%202%2015%202%20z%20M%208%205L12%205L12%206C12%206.552%2012.448%207%2013%207L17%207C17.552%207%2018%206.552%2018%206L18%205L22%205C22.56503%205%2023%205.4349698%2023%206L23%2024C23%2024.56503%2022.56503%2025%2022%2025L8%2025C7.4349698%2025%207%2024.56503%207%2024L7%206C7%205.4349698%207.4349698%205%208%205%20z%20M%2011%2011%20A%201.0001%201.0001%200%201%200%2011%2013L19%2013%20A%201.0001%201.0001%200%201%200%2019%2011L11%2011%20z%20M%2011%2015%20A%201.0001%201.0001%200%201%200%2011%2017L16%2017%20A%201.0001%201.0001%200%201%200%2016%2015L11%2015%20z%20M%2011%2019%20A%201.0001%201.0001%200%201%200%2011%2021L19%2021%20A%201.0001%201.0001%200%201%200%2019%2019L11%2019%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",jW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16.03125%204C14.921875%204%2013.8125%204.15625%2012.71875%204.46875L11.9375%204.6875L12%205.5C12.042969%206.238281%2011.679688%206.949219%2011%207.34375C10.320313%207.738281%209.523438%207.6875%208.90625%207.28125L8.25%206.84375L7.65625%207.375C6.023438%208.957031%204.910156%2010.957031%204.375%2013.09375L4.1875%2013.875L4.875%2014.21875C5.535156%2014.550781%206%2015.210938%206%2016C6%2016.789063%205.535156%2017.449219%204.875%2017.78125L4.15625%2018.125L4.375%2018.90625C4.636719%2019.957031%205.019531%2021.007813%205.59375%2022C6.167969%2022.992188%206.878906%2023.871094%207.65625%2024.625L8.25%2025.1875L8.90625%2024.75C9.523438%2024.34375%2010.316406%2024.261719%2011%2024.65625C11.683594%2025.050781%2012.042969%2025.761719%2012%2026.5L11.9375%2027.3125L12.71875%2027.53125C14.109375%2027.925781%2015.558594%2028.039063%2017%2027.90625L17%2032L32%2032L32%2018L27.59375%2018L27.125%2017.78125C26.464844%2017.449219%2026%2016.789063%2026%2016C26%2015.210938%2026.464844%2014.550781%2027.125%2014.21875L27.84375%2013.875L27.625%2013.09375C27.363281%2012.042969%2026.980469%2010.992188%2026.40625%2010C25.832031%209.007813%2025.121094%208.128906%2024.34375%207.375L23.78125%206.8125L23.09375%207.28125C22.476563%207.6875%2021.683594%207.738281%2021%207.34375L20.96875%207.3125C20.3125%206.914063%2019.957031%206.222656%2020%205.5L20.0625%204.6875L19.28125%204.46875C18.222656%204.167969%2017.140625%204%2016.03125%204%20Z%20M%2016%206.09375C16.742188%206.09375%2017.496094%206.179688%2018.21875%206.34375C18.429688%207.4375%2018.960938%208.460938%2020%209.0625C21.050781%209.667969%2022.21875%209.597656%2023.28125%209.21875C23.785156%209.757813%2024.273438%2010.335938%2024.65625%2011C25.042969%2011.671875%2025.285156%2012.378906%2025.5%2013.09375C24.648438%2013.824219%2024%2014.792969%2024%2016C24%2016.730469%2024.214844%2017.410156%2024.5625%2018L21.65625%2018C21.882813%2017.378906%2022%2016.703125%2022%2016C22%2012.699219%2019.300781%2010%2016%2010C12.699219%2010%2010%2012.699219%2010%2016C10%2019.300781%2012.699219%2022%2016%2022C16.34375%2022%2016.671875%2021.960938%2017%2021.90625L17%2025.90625C15.910156%2026.007813%2014.832031%2025.921875%2013.78125%2025.6875C13.574219%2024.582031%2013.050781%2023.542969%2012%2022.9375C10.949219%2022.332031%209.78125%2022.402344%208.71875%2022.78125C8.210938%2022.238281%207.726563%2021.664063%207.34375%2021C6.957031%2020.328125%206.714844%2019.621094%206.5%2018.90625C7.351563%2018.175781%208%2017.207031%208%2016C8%2014.792969%207.351563%2013.824219%206.5%2013.09375C6.933594%2011.667969%207.710938%2010.371094%208.75%209.25C9.800781%209.609375%2010.960938%209.660156%2012%209.0625C13.039063%208.464844%2013.570313%207.4375%2013.78125%206.34375C14.523438%206.175781%2015.257813%206.09375%2016%206.09375%20Z%20M%2016%2012C18.21875%2012%2020%2013.78125%2020%2016C20%2016.730469%2019.785156%2017.40625%2019.4375%2018L17%2018L17%2019.84375C16.675781%2019.933594%2016.351563%2020%2016%2020C13.78125%2020%2012%2018.21875%2012%2016C12%2013.78125%2013.78125%2012%2016%2012%20Z%20M%2019%2020L30%2020L30%2021L19%2021%20Z%20M%2019%2023L30%2023L30%2030L19%2030%20Z%20M%2026.28125%2023.78125L24%2026.0625L22.71875%2024.78125L21.28125%2026.21875L23.28125%2028.21875L24%2028.90625L24.71875%2028.21875L27.71875%2025.21875Z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",$W="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M4%207L4%209L28%209L28%207%20Z%20M%204%2015L4%2017L28%2017L28%2015%20Z%20M%204%2023L4%2025L28%2025L28%2023Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",FW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%202.59375L15.28125%203.28125L2.28125%2016.28125L3.71875%2017.71875L5%2016.4375L5%2028L14%2028L14%2018L18%2018L18%2028L27%2028L27%2016.4375L28.28125%2017.71875L29.71875%2016.28125L16.71875%203.28125%20Z%20M%2016%205.4375L25%2014.4375L25%2026L20%2026L20%2016L12%2016L12%2026L7%2026L7%2014.4375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",VW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M20.5%204C18.203405%204%2016.305701%205.7666235%2016.050781%208L12.5%208C10.032499%208%208%2010.032499%208%2012.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2012.5C40%2010.032499%2037.967501%208%2035.5%208L31.949219%208C31.694299%205.7666235%2029.796595%204%2027.5%204L20.5%204%20z%20M%2020.5%207L27.5%207C28.346499%207%2029%207.6535009%2029%208.5C29%209.3464991%2028.346499%2010%2027.5%2010L20.5%2010C19.653501%2010%2019%209.3464991%2019%208.5C19%207.6535009%2019.653501%207%2020.5%207%20z%20M%2012.5%2011L16.769531%2011C17.581237%2012.2019%2018.954719%2013%2020.5%2013L27.5%2013C29.045281%2013%2030.418763%2012.2019%2031.230469%2011L35.5%2011C36.346499%2011%2037%2011.653501%2037%2012.5L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%2012.5C11%2011.653501%2011.653501%2011%2012.5%2011%20z%20M%2032.470703%2018.986328%20A%201.50015%201.50015%200%200%200%2031.439453%2019.439453L28.5%2022.378906L27.560547%2021.439453%20A%201.50015%201.50015%200%201%200%2025.439453%2023.560547L27.439453%2025.560547%20A%201.50015%201.50015%200%200%200%2029.560547%2025.560547L33.560547%2021.560547%20A%201.50015%201.50015%200%200%200%2032.470703%2018.986328%20z%20M%2015.5%2021%20A%201.50015%201.50015%200%201%200%2015.5%2024L21.5%2024%20A%201.50015%201.50015%200%201%200%2021.5%2021L15.5%2021%20z%20M%2032.486328%2027.978516%20A%201.50015%201.50015%200%200%200%2031.439453%2028.439453L30%2029.878906L28.560547%2028.439453%20A%201.50015%201.50015%200%200%200%2027.484375%2027.984375%20A%201.50015%201.50015%200%200%200%2026.439453%2030.560547L27.878906%2032L26.439453%2033.439453%20A%201.50015%201.50015%200%201%200%2028.560547%2035.560547L30%2034.121094L31.439453%2035.560547%20A%201.50015%201.50015%200%201%200%2033.560547%2033.439453L32.121094%2032L33.560547%2030.560547%20A%201.50015%201.50015%200%200%200%2032.486328%2027.978516%20z%20M%2015.5%2030%20A%201.50015%201.50015%200%201%200%2015.5%2033L21.5%2033%20A%201.50015%201.50015%200%201%200%2021.5%2030L15.5%2030%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",UW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C9.382813%204%204%209.382813%204%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016C6%2010.464844%2010.464844%206%2016%206%20Z%20M%2016%2010C13.800781%2010%2012%2011.800781%2012%2014L14%2014C14%2012.882813%2014.882813%2012%2016%2012C17.117188%2012%2018%2012.882813%2018%2014C18%2014.765625%2017.507813%2015.445313%2016.78125%2015.6875L16.375%2015.8125C15.558594%2016.082031%2015%2016.863281%2015%2017.71875L15%2019L17%2019L17%2017.71875L17.40625%2017.59375C18.945313%2017.082031%2020%2015.621094%2020%2014C20%2011.800781%2018.199219%2010%2016%2010%20Z%20M%2015%2020L15%2022L17%2022L17%2020Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",zW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20x='0'%20y='0'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3ccircle%20cx='64'%20cy='64'%20r='55'%20fill='%23fff'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,122C32,122,6,96,6,64S32,6,64,6s58,26,58,58S96,122,64,122z%20M64,12c-28.7,0-52,23.3-52,52s23.3,52,52,52%20s52-23.3,52-52S92.7,12,64,12z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,90c-1.7,0-3-1.3-3-3V61c0-1.7,1.3-3,3-3s3,1.3,3,3v26C67,88.7,65.7,90,64,90z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,49c-1.7,0-3-1.3-3-3v-5c0-1.7,1.3-3,3-3s3,1.3,3,3v5C67,47.7,65.7,49,64,49z'%20/%3e%3c/svg%3e",BW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M6%203L6%2029L17.765625%2029C19.233126%2030.826376%2021.480367%2032%2024%2032C26.396%2032%2028.534%2030.929859%2030%2029.255859L30%2032L32%2032L32%2026L26%2026L26%2028L28.445312%2028C27.347313%2029.221%2025.768%2030%2024%2030C20.691%2030%2018%2027.309%2018%2024C18%2020.691%2020.691%2018%2024%2018C27.309%2018%2030%2020.691%2030%2024L32%2024C32%2020.280606%2029.444687%2017.153349%2026%2016.261719L26%209.5859375L19.414062%203L6%203%20z%20M%208%205L18%205L18%2011L24%2011L24%2016C21.979283%2016%2020.136244%2016.75962%2018.726562%2018L11%2018L11%2020L17.082031%2020C16.722543%2020.619242%2016.445366%2021.290505%2016.261719%2022L11%2022L11%2024L16%2024C16%2025.060938%2016.211142%2026.072669%2016.587891%2027L8%2027L8%205%20z%20M%2020%206.4140625L22.585938%209L20%209L20%206.4140625%20z%20M%2011%2014L11%2016L21%2016L21%2014L11%2014%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",WW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M4.0097656%203C2.9179106%203%202.0097656%203.9049841%202.0097656%204.9980469L2%2023L6%2019L20%2019C21.093063%2019%2022%2018.093063%2022%2017L22%205C22%203.9069372%2021.093063%203%2020%203L4.0097656%203%20z%20M%204.0097656%205L20%205L20%2017L5.171875%2017L4.0039062%2018.167969L4.0097656%205%20z%20M%2011%207L11%209L13%209L13%207L11%207%20z%20M%2011%2011L11%2015L13%2015L13%2011L11%2011%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",HW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M11%203L11%2011L3%2011L3%2013L11%2013L11%2021L13%2021L13%2013L21%2013L21%2011L13%2011L13%203L11%203%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",GW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20transform='rotate(90%2012%2012)'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",qW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M18%202%20A%203%203%200%200%200%2015%205%20A%203%203%200%200%200%2015.054688%205.5605469L7.9394531%209.7109375%20A%203%203%200%200%200%206%209%20A%203%203%200%200%200%203%2012%20A%203%203%200%200%200%206%2015%20A%203%203%200%200%200%207.9355469%2014.287109L15.054688%2018.439453%20A%203%203%200%200%200%2015%2019%20A%203%203%200%200%200%2018%2022%20A%203%203%200%200%200%2021%2019%20A%203%203%200%200%200%2018%2016%20A%203%203%200%200%200%2016.0625%2016.712891L8.9453125%2012.560547%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%208.9453125%2011.439453L16.060547%207.2890625%20A%203%203%200%200%200%2018%208%20A%203%203%200%200%200%2021%205%20A%203%203%200%200%200%2018%202%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",YW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%208C7.664063%208%201.25%2015.34375%201.25%2015.34375L0.65625%2016L1.25%2016.65625C1.25%2016.65625%207.097656%2023.324219%2014.875%2023.9375C15.246094%2023.984375%2015.617188%2024%2016%2024C16.382813%2024%2016.753906%2023.984375%2017.125%2023.9375C24.902344%2023.324219%2030.75%2016.65625%2030.75%2016.65625L31.34375%2016L30.75%2015.34375C30.75%2015.34375%2024.335938%208%2016%208%20Z%20M%2016%2010C18.203125%2010%2020.234375%2010.601563%2022%2011.40625C22.636719%2012.460938%2023%2013.675781%2023%2015C23%2018.613281%2020.289063%2021.582031%2016.78125%2021.96875C16.761719%2021.972656%2016.738281%2021.964844%2016.71875%2021.96875C16.480469%2021.980469%2016.242188%2022%2016%2022C15.734375%2022%2015.476563%2021.984375%2015.21875%2021.96875C11.710938%2021.582031%209%2018.613281%209%2015C9%2013.695313%209.351563%2012.480469%209.96875%2011.4375L9.9375%2011.4375C11.71875%2010.617188%2013.773438%2010%2016%2010%20Z%20M%2016%2012C14.34375%2012%2013%2013.34375%2013%2015C13%2016.65625%2014.34375%2018%2016%2018C17.65625%2018%2019%2016.65625%2019%2015C19%2013.34375%2017.65625%2012%2016%2012%20Z%20M%207.25%2012.9375C7.09375%2013.609375%207%2014.285156%207%2015C7%2016.753906%207.5%2018.394531%208.375%2019.78125C5.855469%2018.324219%204.105469%2016.585938%203.53125%2016C4.011719%2015.507813%205.351563%2014.203125%207.25%2012.9375%20Z%20M%2024.75%2012.9375C26.648438%2014.203125%2027.988281%2015.507813%2028.46875%2016C27.894531%2016.585938%2026.144531%2018.324219%2023.625%2019.78125C24.5%2018.394531%2025%2016.753906%2025%2015C25%2014.285156%2024.90625%2013.601563%2024.75%2012.9375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",KW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2017.5%20A%201.50015%201.50015%200%201%200%209%2017.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209L17.5%209%20A%201.50015%201.50015%200%201%200%2017.5%206L11.5%206%20z%20M%2030.5%206%20A%201.50015%201.50015%200%201%200%2030.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2017.5%20A%201.50015%201.50015%200%201%200%2042%2017.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L30.5%206%20z%20M%207.4765625%2028.978516%20A%201.50015%201.50015%200%200%200%206%2030.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L17.5%2042%20A%201.50015%201.50015%200%201%200%2017.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2030.5%20A%201.50015%201.50015%200%200%200%207.4765625%2028.978516%20z%20M%2040.476562%2028.978516%20A%201.50015%201.50015%200%200%200%2039%2030.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L30.5%2039%20A%201.50015%201.50015%200%201%200%2030.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2030.5%20A%201.50015%201.50015%200%200%200%2040.476562%2028.978516%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",QW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M19%203C13.488281%203%209%207.488281%209%2013C9%2015.394531%209.839844%2017.589844%2011.25%2019.3125L3.28125%2027.28125L4.71875%2028.71875L12.6875%2020.75C14.410156%2022.160156%2016.605469%2023%2019%2023C24.511719%2023%2029%2018.511719%2029%2013C29%207.488281%2024.511719%203%2019%203%20Z%20M%2019%205C23.429688%205%2027%208.570313%2027%2013C27%2017.429688%2023.429688%2021%2019%2021C14.570313%2021%2011%2017.429688%2011%2013C11%208.570313%2014.570313%205%2019%205Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",XW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M9%202C5.1458514%202%202%205.1458514%202%209C2%2012.854149%205.1458514%2016%209%2016C10.747998%2016%2012.345009%2015.348024%2013.574219%2014.28125L14%2014.707031L14%2016L19.585938%2021.585938C20.137937%2022.137937%2021.033938%2022.137938%2021.585938%2021.585938C22.137938%2021.033938%2022.137938%2020.137938%2021.585938%2019.585938L16%2014L14.707031%2014L14.28125%2013.574219C15.348024%2012.345009%2016%2010.747998%2016%209C16%205.1458514%2012.854149%202%209%202%20z%20M%209%204C11.773268%204%2014%206.2267316%2014%209C14%2011.773268%2011.773268%2014%209%2014C6.2267316%2014%204%2011.773268%204%209C4%206.2267316%206.2267316%204%209%204%20z'%20fill='%23F0F0F0'%20/%3e%3c/svg%3e",JW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23313131'%20/%3e%3c/svg%3e",ZW="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M18.5%205C15.480226%205%2013%207.4802259%2013%2010.5L13%2032.5C13%2035.519774%2015.480226%2038%2018.5%2038L34.5%2038C37.519774%2038%2040%2035.519774%2040%2032.5L40%2010.5C40%207.4802259%2037.519774%205%2034.5%205L18.5%205%20z%20M%2018.5%208L34.5%208C35.898226%208%2037%209.1017741%2037%2010.5L37%2032.5C37%2033.898226%2035.898226%2035%2034.5%2035L18.5%2035C17.101774%2035%2016%2033.898226%2016%2032.5L16%2010.5C16%209.1017741%2017.101774%208%2018.5%208%20z%20M%2011%2010L9.78125%2010.8125C8.66825%2011.5545%208%2012.803625%208%2014.140625L8%2033.5C8%2038.747%2012.253%2043%2017.5%2043L30.859375%2043C32.197375%2043%2033.4465%2042.33175%2034.1875%2041.21875L35%2040L17.5%2040C13.91%2040%2011%2037.09%2011%2033.5L11%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",eH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='480'%20height='480'%20viewBox='0%200%2048%2048'%3e%3cpath%20fill='%23FFC107'%20d='M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3cpath%20fill='%23FF3D00'%20d='M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z'%20/%3e%3cpath%20fill='%234CAF50'%20d='M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z'%20/%3e%3cpath%20fill='%231976D2'%20d='M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3c/svg%3e",tH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C10.886719%204%206.617188%207.160156%204.875%2011.625L6.71875%2012.375C8.175781%208.640625%2011.710938%206%2016%206C19.242188%206%2022.132813%207.589844%2023.9375%2010L20%2010L20%2012L27%2012L27%205L25%205L25%208.09375C22.808594%205.582031%2019.570313%204%2016%204%20Z%20M%2025.28125%2019.625C23.824219%2023.359375%2020.289063%2026%2016%2026C12.722656%2026%209.84375%2024.386719%208.03125%2022L12%2022L12%2020L5%2020L5%2027L7%2027L7%2023.90625C9.1875%2026.386719%2012.394531%2028%2016%2028C21.113281%2028%2025.382813%2024.839844%2027.125%2020.375Z'%20fill='%23313131'%20/%3e%3c/svg%3e",nH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M6%200C4.34375%200%203%201.34375%203%203L3%2023C3%2024.65625%204.34375%2026%206%2026L20%2026C21.65625%2026%2023%2024.65625%2023%2023L23%2017.8125L21%2019.5625L21%2023C21%2023.550781%2020.550781%2024%2020%2024L6%2024C5.449219%2024%205%2023.550781%205%2023L5%203C5%202.449219%205.449219%202%206%202L20%202C20.550781%202%2021%202.449219%2021%203L21%206.4375L23%208.1875L23%203C23%201.34375%2021.65625%200%2020%200%20Z%20M%2016.5%206.46875C16.25%206.542969%2016%206.796875%2016%207.46875L16%2010L10%2010C9.449219%2010%209%2010.449219%209%2011L9%2015C9%2015.550781%209.449219%2016%2010%2016L16%2016L16%2018.5C16%2019.78125%2017%2019.5%2017%2019.5L24.5%2013L17%206.5C17%206.5%2016.75%206.394531%2016.5%206.46875Z'%20fill='%23313131'%20/%3e%3c/svg%3e",rH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M12.5%204C10.032499%204%208%206.0324991%208%208.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2018.5%20A%201.50015%201.50015%200%200%200%2039.560547%2017.439453L39.544922%2017.423828L26.560547%204.4394531%20A%201.50015%201.50015%200%200%200%2025.5%204L12.5%204%20z%20M%2012.5%207L24%207L24%2015.5C24%2017.967501%2026.032499%2020%2028.5%2020L37%2020L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%208.5C11%207.6535009%2011.653501%207%2012.5%207%20z%20M%2027%209.1210938L34.878906%2017L28.5%2017C27.653501%2017%2027%2016.346499%2027%2015.5L27%209.1210938%20z%20M%2019%2022.998047C18.391%2022.998047%2017.841328%2023.365687%2017.611328%2023.929688L13.111328%2034.929688C12.797328%2035.696688%2013.164641%2036.573719%2013.931641%2036.886719C14.698641%2037.202719%2015.575672%2036.834406%2015.888672%2036.066406L16.326172%2034.998047L21.673828%2034.998047L22.111328%2036.066406C22.349328%2036.647406%2022.909%2036.998047%2023.5%2036.998047C23.689%2036.998047%2023.881359%2036.963719%2024.068359%2036.886719C24.834359%2036.573719%2025.202672%2035.696688%2024.888672%2034.929688L20.388672%2023.929688C20.158672%2023.365688%2019.609%2022.998047%2019%2022.998047%20z%20M%2030.476562%2023.978516%20A%201.50015%201.50015%200%200%200%2029%2025.5L29%2027L27.5%2027%20A%201.50015%201.50015%200%201%200%2027.5%2030L29%2030L29%2031.5%20A%201.50015%201.50015%200%201%200%2032%2031.5L32%2030L33.5%2030%20A%201.50015%201.50015%200%201%200%2033.5%2027L32%2027L32%2025.5%20A%201.50015%201.50015%200%200%200%2030.476562%2023.978516%20z%20M%2019%2028.460938L20.447266%2031.998047L17.552734%2031.998047L19%2028.460938%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",sH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M26.886719%203.0234375C26.437415%203.0492805%2025.990861%203.1581308%2025.574219%203.3847656C24.740935%203.8380352%2024.23601%204.6408958%2023.933594%205.484375%20A%201.50015%201.50015%200%200%200%2023.931641%205.4863281C23.856851%205.6965582%2023.895729%205.5996163%2023.880859%205.6503906C23.865989%205.7011646%2023.846326%205.768146%2023.822266%205.8515625C23.774136%206.0183955%2023.709041%206.2482122%2023.630859%206.5214844C23.474496%207.0680287%2023.269926%207.787416%2023.066406%208.5019531C22.659368%209.9310274%2022.255859%2011.345703%2022.255859%2011.345703%20A%201.50015%201.50015%200%200%200%2022.255859%2011.349609C22.141471%2011.755416%2022.046189%2011.970637%2022.005859%2012.033203%20A%201.50015%201.50015%200%200%200%2022.003906%2012.037109C20.528039%2014.338252%2018.938262%2016.655605%2017.394531%2019L10.5%2019C8.0324991%2019%206%2021.032499%206%2023.5L6%2039.5C6%2041.967501%208.0324991%2044%2010.5%2044L14.5%2044C15.757335%2044%2016.892811%2043.465209%2017.712891%2042.621094C20.020827%2043.120886%2022.596814%2043.674636%2024.695312%2044.117188C25.795053%2044.349109%2026.761579%2044.550006%2027.490234%2044.697266C28.21796%2044.844337%2028.488997%2044.922925%2028.96875%2044.96875C29.276882%2044.99849%2029.582707%2045.013672%2029.884766%2045.013672C34.166546%2045.013672%2037.951276%2042.101357%2039.046875%2037.871094C39.884581%2034.63323%2041.600002%2027.921603%2041.607422%2027.892578C41.746989%2027.37849%2041.941717%2026.687301%2041.986328%2025.859375%20A%201.50015%201.50015%200%200%200%2041.986328%2025.857422C42.082078%2024.068723%2041.461123%2022.328247%2040.242188%2021.039062%20A%201.50015%201.50015%200%200%200%2040.242188%2021.037109C39.003328%2019.728222%2037.266509%2019.003801%2035.439453%2019%20A%201.50015%201.50015%200%200%200%2035.435547%2019L31.466797%2019C31.818422%2017.742495%2032.16537%2016.527227%2032.417969%2015.541016%20A%201.50015%201.50015%200%200%200%2032.417969%2015.539062C33.021899%2013.169223%2033.163006%2011.052777%2032.796875%209.0214844%20A%201.50015%201.50015%200%200%200%2032.796875%209.0195312C32.612962%208.0064557%2032.266053%206.5283049%2031.216797%205.1679688C30.454227%204.1798868%2029.406708%203.4604803%2028.21875%203.1621094%20A%201.50015%201.50015%200%200%200%2028.214844%203.1621094C27.787706%203.0556602%2027.336023%202.9975943%2026.886719%203.0234375%20z%20M%2027.083984%206.0097656C27.153229%206.0089389%2027.277677%206.0200946%2027.488281%206.0722656C28.020323%206.2058951%2028.434367%206.4720819%2028.841797%207C29.43854%207.7736637%2029.69161%208.705806%2029.845703%209.5546875C30.125167%2011.106826%2030.039576%2012.7275%2029.511719%2014.798828C29.151131%2016.206389%2028.056641%2020.09375%2028.056641%2020.09375%20A%201.50015%201.50015%200%200%200%2029.5%2022L35.435547%2022C36.491612%2022.0027%2037.39379%2022.393048%2038.0625%2023.099609C38.717564%2023.792425%2039.04448%2024.683965%2038.990234%2025.697266C38.966844%2026.13134%2038.851324%2026.59751%2038.712891%2027.107422%20A%201.50015%201.50015%200%200%200%2038.707031%2027.128906C38.707031%2027.128906%2036.979062%2033.886003%2036.142578%2037.119141C35.380177%2040.062877%2032.818985%2042.013672%2029.884766%2042.013672C29.676824%2042.013672%2029.467681%2042.002682%2029.257812%2041.982422%20A%201.50015%201.50015%200%200%200%2029.255859%2041.982422C29.484761%2042.004222%2028.797548%2041.902023%2028.083984%2041.757812C27.370421%2041.613604%2026.409589%2041.412593%2025.314453%2041.181641C23.401221%2040.778161%2021.082509%2040.278628%2018.935547%2039.814453C18.94375%2039.705129%2019%2039.611242%2019%2039.5L19%2022.011719C20.770748%2019.246238%2022.705347%2016.498683%2024.527344%2013.658203L24.529297%2013.65625C24.857875%2013.14567%2025.005183%2012.649533%2025.142578%2012.162109C25.143578%2012.158509%2025.544977%2010.748377%2025.951172%209.3222656C26.154528%208.6083028%2026.357942%207.891987%2026.513672%207.3476562C26.591532%207.0754909%2026.658135%206.8463076%2026.705078%206.6835938C26.728548%206.6022368%2026.746996%206.5377315%2026.759766%206.4941406C26.916091%206.0606215%2027.022027%206.0117998%2027.007812%206.0195312C27.000698%206.0234013%2027.014739%206.0105924%2027.083984%206.0097656%20z%20M%2010.5%2022L16%2022L16%2039.5C16%2040.346499%2015.346499%2041%2014.5%2041L10.5%2041C9.6535009%2041%209%2040.346499%209%2039.5L9%2023.5C9%2022.653501%209.6535009%2022%2010.5%2022%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",iH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11.677734%202.1816406C11.255625%202.2202656%2010.879797%202.5279063%2010.779297%202.9726562L10.224609%205.4179688L7.5136719%208.4296875C7.1826719%208.7966875%207%209.2735781%207%209.7675781L7%2019C7%2020.105%207.895%2021%209%2021L17.03125%2021C17.77225%2021%2018.443141%2020.563719%2018.744141%2019.886719L21.746094%2013.130859C21.913094%2012.756859%2022%2012.351406%2022%2011.941406L22%2011C22%209.9%2021.1%209%2020%209L13%209C13%209%2014%206.6292813%2014%204.8632812C14%203.2502813%2012.962422%202.5443281%2012.107422%202.2363281C11.964672%202.1845781%2011.818437%202.1687656%2011.677734%202.1816406%20z%20M%203.5%209C2.672%209%202%209.672%202%2010.5L2%2019.5C2%2020.328%202.672%2021%203.5%2021C4.328%2021%205%2020.328%205%2019.5L5%2010.5C5%209.672%204.328%209%203.5%209%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",oH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%207C6.9280619%207%204%209.9280619%204%2013.5L4%2030.5C4%2034.071938%206.9280619%2037%2010.5%2037L12%2037L12%2042.5C12%2044.46599%2014.427297%2045.67893%2016%2044.5L26%2037L37.5%2037C41.071938%2037%2044%2034.071938%2044%2030.5L44%2013.5C44%209.9280619%2041.071938%207%2037.5%207L10.5%207%20z%20M%2010.5%2010L37.5%2010C39.450062%2010%2041%2011.549938%2041%2013.5L41%2030.5C41%2032.450062%2039.450062%2034%2037.5%2034L25.5%2034%20A%201.50015%201.50015%200%200%200%2024.599609%2034.300781L15%2041.5L15%2035.5%20A%201.50015%201.50015%200%200%200%2013.5%2034L10.5%2034C8.5499381%2034%207%2032.450062%207%2030.5L7%2013.5C7%2011.549938%208.5499381%2010%2010.5%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",aH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M26%203%20A%201%201%200%200%200%2025.716797%203.0429688%20A%201%201%200%200%200%2025.636719%203.0683594L3.6503906%2010.060547L3.6503906%2010.064453%20A%201%201%200%200%200%203%2011%20A%201%201%200%200%200%203.4824219%2011.853516L10.164062%2017.154297L23.373047%206.6269531L12.845703%2019.835938L18.142578%2026.513672%20A%201%201%200%200%200%2019%2027%20A%201%201%200%200%200%2019.935547%2026.349609L19.939453%2026.349609L26.9375%204.34375%20A%201%201%200%200%200%2026.957031%204.2832031%20A%201%201%200%200%200%2027%204%20A%201%201%200%200%200%2026%203%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",lH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M6%202C4.897%202%204%202.897%204%204L4%2020C4%2021.103%204.897%2022%206%2022L18%2022C19.103%2022%2020%2021.103%2020%2020L20%2015.25L18.001953%2016.748047L18.001953%2020L6%2020L6%204L18%204L18%207.25L20%208.75L20%204C20%202.897%2019.103%202%2018%202L6%202%20z%20M%2016%208.25L16%2011L11%2011L11%2013L16%2013L16%2015.75L21%2012L16%208.25%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",cH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%203%20A%204%204%200%200%200%208%207%20A%204%204%200%200%200%2012%2011%20A%204%204%200%200%200%2016%207%20A%204%204%200%200%200%2012%203%20z%20M%2012%2014C8.996%2014%203%2015.508%203%2018.5L3%2020C3%2020.552%203.448%2021%204%2021L20%2021C20.552%2021%2021%2020.552%2021%2020L21%2018.5C21%2015.508%2015.004%2014%2012%2014%20z'%20/%3e%3c/svg%3e",uH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M17,18H4c-1.105,0-2-0.895-2-2V6c0-1.105,0.895-2,2-2h13c1.105,0,2,0.895,2,2v10C19,17.105,18.105,18,17,18z'%20opacity='.35'%20/%3e%3ccircle%20cx='14.5'%20cy='7.5'%20r='1.5'%20/%3e%3cpath%20d='M4,15.125C4,15.604,4.364,16,4.812,16h11.375C16.636,16,17,15.611,17,15.125C17,13.932,15.829,12,14.969,12%20c-0.896,0-1.383,1.001-2.969,1.001C10.015,13.001,8.875,9,7.25,9S4,12.817,4,15.125z'%20/%3e%3cpath%20d='M20,6h-1v10c0,1.105-0.895,2-2,2H5c0,1.105,0.895,2,2,2h13c1.105,0,2-0.895,2-2V8C22,6.895,21.105,6,20,6z'%20/%3e%3c/svg%3e",dH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M14,15.5V8h3l-5-5L7,8h3v7.5c0,0.3,0.2,0.5,0.5,0.5h3C13.8,16,14,15.8,14,15.5z'%20opacity='.3'%20/%3e%3cpath%20d='M2%2020H22V22H2zM13.5%2017h-3C9.7%2017%209%2016.3%209%2015.5V9H4.6L12%201.6%2019.4%209H15v6.5C15%2016.3%2014.3%2017%2013.5%2017zM11%2015h2V7h1.6L12%204.4%209.4%207H11V15z'%20/%3e%3c/svg%3e",hH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M14.984375%200.98632812%20A%201.0001%201.0001%200%200%200%2014%202L14%205%20A%201.0001%201.0001%200%201%200%2016%205L16%202%20A%201.0001%201.0001%200%200%200%2014.984375%200.98632812%20z%20M%205.796875%204.7988281%20A%201.0001%201.0001%200%200%200%205.1015625%206.515625L7.2226562%208.6367188%20A%201.0001%201.0001%200%201%200%208.6367188%207.2226562L6.515625%205.1015625%20A%201.0001%201.0001%200%200%200%205.796875%204.7988281%20z%20M%2024.171875%204.7988281%20A%201.0001%201.0001%200%200%200%2023.484375%205.1015625L21.363281%207.2226562%20A%201.0001%201.0001%200%201%200%2022.777344%208.6367188L24.898438%206.515625%20A%201.0001%201.0001%200%200%200%2024.171875%204.7988281%20z%20M%2015%208%20A%207%207%200%200%200%208%2015%20A%207%207%200%200%200%2015%2022%20A%207%207%200%200%200%2022%2015%20A%207%207%200%200%200%2015%208%20z%20M%202%2014%20A%201.0001%201.0001%200%201%200%202%2016L5%2016%20A%201.0001%201.0001%200%201%200%205%2014L2%2014%20z%20M%2025%2014%20A%201.0001%201.0001%200%201%200%2025%2016L28%2016%20A%201.0001%201.0001%200%201%200%2028%2014L25%2014%20z%20M%207.9101562%2021.060547%20A%201.0001%201.0001%200%200%200%207.2226562%2021.363281L5.1015625%2023.484375%20A%201.0001%201.0001%200%201%200%206.515625%2024.898438L8.6367188%2022.777344%20A%201.0001%201.0001%200%200%200%207.9101562%2021.060547%20z%20M%2022.060547%2021.060547%20A%201.0001%201.0001%200%200%200%2021.363281%2022.777344L23.484375%2024.898438%20A%201.0001%201.0001%200%201%200%2024.898438%2023.484375L22.777344%2021.363281%20A%201.0001%201.0001%200%200%200%2022.060547%2021.060547%20z%20M%2014.984375%2023.986328%20A%201.0001%201.0001%200%200%200%2014%2025L14%2028%20A%201.0001%201.0001%200%201%200%2016%2028L16%2025%20A%201.0001%201.0001%200%200%200%2014.984375%2023.986328%20z'%20/%3e%3c/svg%3e",fH="/assets/dark-i8sdGySW.svg",pH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%2018.071L6.429%2012.5%204.929%2014%2012%2021.071%2019.071%2014%2017.571%2012.5z'%20/%3e%3cpath%20d='M4%2010H20V12H4z'%20transform='rotate(-90%2012%2011)'%20/%3e%3c/svg%3e",mH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M4,19V5c0-1.657,1.343-3,3-3h7l6,6v11c0,1.657-1.343,3-3,3H7C5.343,22,4,20.657,4,19z'%20opacity='.35'%20/%3e%3cpath%20d='M14,6V2l6,6h-4C14.895,8,14,7.105,14,6z'%20/%3e%3c/svg%3e",gH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M23.277344%204.0175781C15.193866%204.3983176%209%2011.343391%209%2019.380859L9%2026.648438L6.3496094%2031.980469%20A%201.50015%201.50015%200%200%200%206.3359375%2032.009766C5.2696804%2034.277268%206.9957076%2037%209.5019531%2037L18%2037C18%2040.295865%2020.704135%2043%2024%2043C27.295865%2043%2030%2040.295865%2030%2037L38.496094%2037C41.002339%2037%2042.730582%2034.277829%2041.664062%2032.009766%20A%201.50015%201.50015%200%200%200%2041.650391%2031.980469L39%2026.648438L39%2019C39%2010.493798%2031.863289%203.6133643%2023.277344%204.0175781%20z%20M%2023.417969%207.0136719C30.338024%206.6878857%2036%2012.162202%2036%2019L36%2027%20A%201.50015%201.50015%200%200%200%2036.15625%2027.667969L38.949219%2033.289062C39.128826%2033.674017%2038.921017%2034%2038.496094%2034L9.5019531%2034C9.077027%2034%208.8709034%2033.674574%209.0507812%2033.289062C9.0507812%2033.289062%209.0507812%2033.287109%209.0507812%2033.287109L11.84375%2027.667969%20A%201.50015%201.50015%200%200%200%2012%2027L12%2019.380859C12%2012.880328%2016.979446%207.3169324%2023.417969%207.0136719%20z%20M%2021%2037L27%2037C27%2038.674135%2025.674135%2040%2024%2040C22.325865%2040%2021%2038.674135%2021%2037%20z'%20/%3e%3c/svg%3e",vH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%206C6.9280619%206%204%208.9280619%204%2012.5L4%2028.5L4%2034.535156C4%2036.486795%206.3899087%2037.705105%207.96875%2036.558594%20A%201.50015%201.50015%200%200%200%207.9707031%2036.558594L12.291016%2033.416016C13.114957%2036.061625%2015.594339%2038%2018.5%2038L31.011719%2038L40.029297%2044.558594%20A%201.50015%201.50015%200%200%200%2040.03125%2044.558594C41.610044%2045.705105%2044%2044.486795%2044%2042.535156L44%2036.5L44%2020.5C44%2016.928062%2041.071938%2014%2037.5%2014L36%2014L36%2012.5C36%208.9280619%2033.071938%206%2029.5%206L10.5%206%20z%20M%2010.5%209L29.5%209C31.450062%209%2033%2010.549938%2033%2012.5L33%2023.5C33%2025.450062%2031.450062%2027%2029.5%2027L16.5%2027%20A%201.50015%201.50015%200%200%200%2015.617188%2027.287109L7%2033.554688L7%2028.5L7%2012.5C7%2010.549938%208.5499381%209%2010.5%209%20z%20M%2036%2017L37.5%2017C39.450062%2017%2041%2018.549938%2041%2020.5L41%2036.5L41%2041.554688L32.382812%2035.287109%20A%201.50015%201.50015%200%200%200%2031.5%2035L18.5%2035C16.549938%2035%2015%2033.450062%2015%2031.5L15%2031.445312L16.988281%2030L29.5%2030C33.071938%2030%2036%2027.071938%2036%2023.5L36%2017%20z'%20/%3e%3c/svg%3e",yH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M5%201L10.3125%2011L4%2011L1%207L0%207L1%2013L0%2019L1%2019L4%2015L10.3125%2015L5%2025L7.1875%2025L15.90625%2015L24%2015C25.101563%2015%2026%2014.101563%2026%2013C26%2011.898438%2025.101563%2011%2024%2011L15.90625%2011L7.1875%201Z'%20/%3e%3c/svg%3e",_H="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M5.40625%205.40625C-0.441406%2011.253906%20-0.441406%2020.746094%205.40625%2026.59375L6.8125%2025.1875C1.726563%2020.101563%201.726563%2011.898438%206.8125%206.8125%20Z%20M%2026.59375%205.40625L25.1875%206.8125C30.273438%2011.898438%2030.273438%2020.101563%2025.1875%2025.1875L26.59375%2026.59375C32.441406%2020.746094%2032.441406%2011.253906%2026.59375%205.40625%20Z%20M%209.625%209.625C6.117188%2013.132813%206.117188%2018.867188%209.625%2022.375L11.0625%2020.9375C8.320313%2018.195313%208.320313%2013.804688%2011.0625%2011.0625%20Z%20M%2022.375%209.625L20.9375%2011.0625C23.679688%2013.804688%2023.679688%2018.195313%2020.9375%2020.9375L22.375%2022.375C25.882813%2018.867188%2025.882813%2013.132813%2022.375%209.625%20Z%20M%2016%2013C14.355469%2013%2013%2014.355469%2013%2016C13%2017.644531%2014.355469%2019%2016%2019C17.644531%2019%2019%2017.644531%2019%2016C19%2014.355469%2017.644531%2013%2016%2013%20Z%20M%2016%2015C16.5625%2015%2017%2015.4375%2017%2016C17%2016.5625%2016.5625%2017%2016%2017C15.4375%2017%2015%2016.5625%2015%2016C15%2015.4375%2015.4375%2015%2016%2015Z'%20/%3e%3c/svg%3e",wH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='240'%20height='240'%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWa'%20x1='21.302'%20x2='27.254'%20y1='21.302'%20y2='27.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='24'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWa)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWb'%20x1='21.302'%20x2='27.254'%20y1='7.302'%20y2='13.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='10'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWb)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWc'%20x1='21.302'%20x2='27.254'%20y1='35.302'%20y2='41.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='38'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWc)'%20/%3e%3c/svg%3e",xH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L4%203L4%205L20%205L20%203L15%203L14%202L10%202%20z%20M%205%207L5%2022L14.220703%2022L16.230469%2020L14%2020L14%209L16%209L16%2015.978516L16.464844%2015.515625L17.878906%2014.101562L19%2015.222656L19%207L5%207%20z%20M%208%209L10%209L10%2020L8%2020L8%209%20z%20M%2017.878906%2016.929688L16.464844%2018.34375L18.585938%2020.464844L16.464844%2022.585938L17.878906%2024L20%2021.878906L22.121094%2024L23.535156%2022.585938L21.414062%2020.464844L23.535156%2018.34375L22.121094%2016.929688L20%2019.050781L17.878906%2016.929688%20z'%20/%3e%3c/svg%3e",EH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M20.011,3.989c-1.318-1.318-3.455-1.318-4.773,0L4.208,14.998c-0.302,0.302-0.503,0.689-0.576,1.11l-0.615,3.567c-0.133,0.772,0.538,1.442,1.31,1.308l3.525-0.613c0.418-0.073,0.804-0.273,1.104-0.573L20.011,8.761C21.33,7.443,21.33,5.307,20.011,3.989z'%20opacity='.35'%20/%3e%3cpolygon%20points='13.075,6.144%2017.848,10.917%2019.832,8.94%2015.059,4.167'%20/%3e%3cpath%20d='M3.392,17.5l-0.375,2.175c-0.133,0.772,0.538,1.442,1.31,1.308l2.171-0.378L3.392,17.5z'%20/%3e%3c/svg%3e",CH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M16.414,7.586c-0.781-0.781-2.047-0.781-2.828,0l-6,6c-0.781,0.781-0.781,2.047,0,2.828c0.781,0.781,2.047,0.781,2.828,0l6-6C17.195,9.633,17.195,8.367,16.414,7.586z'%20/%3e%3cpath%20d='M20.389,3.611c-2.148-2.148-5.63-2.148-7.778,0c-0.171,0.171-0.829,0.829-1,1c-1.548,1.548-1.963,3.786-1.279,5.722%20c-1.936-0.684-4.173-0.27-5.721,1.278c-0.171,0.171-0.829,0.829-1,1c-2.148,2.148-2.148,5.63,0,7.778%20c2.148,2.148,5.63,2.148,7.778,0c0.171-0.171,0.829-0.829,1-1c1.548-1.548,1.963-3.786,1.279-5.722%20c1.936,0.684,4.173,0.27,5.721-1.278c0.171-0.171,0.829-0.829,1-1C22.537,9.241,22.537,5.759,20.389,3.611z'%20opacity='.35'%20/%3e%3c/svg%3e",bH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20/%3e%3c/svg%3e",IH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20fill='%238D8D8D'%20/%3e%3c/svg%3e",TH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M19.999,3H4.01c-1.1,0-2.001,0.9-2.001,2L2,16.999C2,18.104,2.895,19,4,19h1.499c0.276,0,0.5,0.224,0.5,0.5v2.086%20c0,0.891,1.077,1.337,1.707,0.707l3-3C10.894,19.105,11.148,19,11.413,19h8.586c1.1,0,2-0.9,2-2V5C21.999,3.9,21.099,3,19.999,3z%20M15.903,15c-0.492,0-0.883-0.363-0.988-0.843C14.472,12.147,12.455,12.006,12,12V14c0,0.404-0.243,0.769-0.617,0.924%20C11.259,14.975,11.129,15,11,15c-0.26,0-0.516-0.102-0.707-0.293l-3-3c-0.391-0.391-0.391-1.023,0-1.414l3-3%20c0.286-0.286,0.715-0.371,1.09-0.217C11.757,7.231,12,7.595,12,8v2v0c1.535,0,4.284,0.823,4.883,3.773%20C17.011,14.403,16.545,15,15.903,15z'%20fill='%23050505'%20/%3e%3c/svg%3e",SH="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='-9.31019674359186%20-9.31019674359186%20200.60019674359185%20200.59919674359185'%3e%3clinearGradient%20id='a'%20x1='47.061%25'%20x2='47.061%25'%20y1='-3.394%25'%20y2='96.606%25'%3e%3cstop%20offset='0'%20stop-color='%2337aeff'/%3e%3cstop%20offset='.05'%20stop-color='%2337aeff'/%3e%3cstop%20offset='1'%20stop-color='%231861f7'/%3e%3c/linearGradient%3e%3cg%20fill='none'%3e%3cpath%20d='M0%2095.645c0%2052.823%2042.822%2095.644%2095.645%2095.644%2052.823%200%2095.644-42.821%2095.644-95.644C191.29%2042.822%20148.468%200%2095.645%200A95.617%2095.617%200%200%200%200%2095.645'%20fill='url(%23a)'/%3e%3cpath%20d='M151.421%2099.986a9.095%209.095%200%200%200-3.901-8.737%2018.08%2018.08%200%200%200%203.6-8.628c0-8.463-7.941-10.99-20.168-10.99-7.27.08-14.51.936-21.597%202.555.66-3.627%205.496-14.15%205.496-17.667%200-7.31-1.731-16.486-8.436-19.976a11.925%2011.925%200%200%200-6.154-1.593c-2.68-.126-5.303.8-7.309%202.583a6.32%206.32%200%200%200-.742%203.681l1.21%2013.738c0%2010.99-16.899%2024.729-16.899%2040.528v33.136c0%205.88%207.886%2010.056%2019.234%2010.056h31.46c8.243%200%2010.084-1.428%2012.2-5.275a7.583%207.583%200%200%200-.166-8.023%2012.364%2012.364%200%200%200%207.749-8.93c.487-2.412.118-4.92-1.044-7.089a9.48%209.48%200%200%200%205.495-9.369M48.743%2080.945h9.836a8.243%208.243%200%200%201%208.243%208.243V135.1a8.243%208.243%200%200%201-8.243%208.242h-9.836a8.243%208.243%200%200%201-8.243-8.242V89.298a8.243%208.243%200%200%201%208.243-8.243'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",kH="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3e%3clinearGradient%20id='a'%20x1='50%25'%20x2='50%25'%20y1='0%25'%20y2='100%25'%3e%3cstop%20offset='0'%20stop-color='%23f65e7a'/%3e%3cstop%20offset='.051'%20stop-color='%23f65e7a'/%3e%3cstop%20offset='.1'%20stop-color='%23f65d79'/%3e%3cstop%20offset='.146'%20stop-color='%23f55c78'/%3e%3cstop%20offset='.191'%20stop-color='%23f45b76'/%3e%3cstop%20offset='.233'%20stop-color='%23f35974'/%3e%3cstop%20offset='.274'%20stop-color='%23f25771'/%3e%3cstop%20offset='.314'%20stop-color='%23f1546f'/%3e%3cstop%20offset='.353'%20stop-color='%23f0526b'/%3e%3cstop%20offset='.39'%20stop-color='%23ee4f68'/%3e%3cstop%20offset='.427'%20stop-color='%23ed4b64'/%3e%3cstop%20offset='.464'%20stop-color='%23eb4860'/%3e%3cstop%20offset='.5'%20stop-color='%23e9445c'/%3e%3cstop%20offset='.536'%20stop-color='%23e84057'/%3e%3cstop%20offset='.573'%20stop-color='%23e63c53'/%3e%3cstop%20offset='.61'%20stop-color='%23e5374e'/%3e%3cstop%20offset='.647'%20stop-color='%23e33349'/%3e%3cstop%20offset='.686'%20stop-color='%23e22e44'/%3e%3cstop%20offset='.726'%20stop-color='%23e02940'/%3e%3cstop%20offset='.767'%20stop-color='%23df253b'/%3e%3cstop%20offset='.809'%20stop-color='%23de2037'/%3e%3cstop%20offset='.854'%20stop-color='%23dd1c33'/%3e%3cstop%20offset='.9'%20stop-color='%23dd1830'/%3e%3cstop%20offset='.949'%20stop-color='%23dc152e'/%3e%3cstop%20offset='1'%20stop-color='%23dc142d'/%3e%3c/linearGradient%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='96'%20cy='96'%20fill='url(%23a)'%20r='96'/%3e%3cpath%20d='M95.926%2070.264c1.666-5.311%205.057-9.77%2010.171-13.374%208.485-5.982%2029.714-7.652%2040.268%208.14%2010.555%2015.791%205.613%2037.04-10.554%2053.746-10.555%2010.905-23.674%2021.075-39.358%2030.508a2%202%200%200%201-2.018.026c-13.021-7.386-26.062-17.564-39.12-30.534-20.1-19.962-21.546-37.989-10.773-53.747%2010.772-15.757%2031.73-14.12%2040.215-8.14%205.115%203.606%208.52%208.065%2010.215%2013.377a.5.5%200%200%200%20.954-.002z'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",RH="/assets/facebook-reaction-sad-fp-d8NwB.svg",AH="/assets/facebook-reaction-wow-4aGHxQqX.svg",PH="data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201500%201500'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:url(%23SVGID_1_)}.st1{fill:%23262c38}.st2{fill:none;stroke:%23262c38;stroke-width:60;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}%3c/style%3e%3clinearGradient%20id='SVGID_1_'%20gradientUnits='userSpaceOnUse'%20x1='750'%20y1='1501.519'%20x2='750'%20y2='4.759'%20gradientTransform='matrix(1%200%200%20-1%200%201499.72)'%3e%3cstop%20offset='.098'%20stop-color='%23f05766'/%3e%3cstop%20offset='.25'%20stop-color='%23f3766a'/%3e%3cstop%20offset='.826'%20stop-color='%23ffda6b'/%3e%3c/linearGradient%3e%3ccircle%20class='st0'%20cx='750'%20cy='750'%20r='750'/%3e%3ccircle%20class='st1'%20cx='416.7'%20cy='947'%20r='73.7'/%3e%3ccircle%20class='st1'%20cx='1082.7'%20cy='947'%20r='73.7'/%3e%3cpath%20class='st2'%20d='M205.9%20805.1s120.5%2093.7%20423.4%2093.7M1291.9%20805.1s-120.5%2093.7-423.4%2093.7'/%3e%3cpath%20class='st1'%20d='M987.6%201211.4c0%2041.7-106.7%2043.3-238.4%2043.3s-238.4-1.7-238.4-43.3c0-36.8%20109.9-54.6%20241.5-54.6s235.3%2017.7%20235.3%2054.6z'/%3e%3c/svg%3e",NH="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3e%3cradialGradient%20id='a'%20cy='0%25'%20gradientTransform='matrix(0%201%20-1.26314%200%20.5%20-.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%23fce16b'/%3e%3cstop%20offset='.11'%20stop-color='%23fce16b'/%3e%3cstop%20offset='.205'%20stop-color='%23fce06a'/%3e%3cstop%20offset='.288'%20stop-color='%23fcdf69'/%3e%3cstop%20offset='.36'%20stop-color='%23fcdd68'/%3e%3cstop%20offset='.424'%20stop-color='%23fbda66'/%3e%3cstop%20offset='.483'%20stop-color='%23fbd764'/%3e%3cstop%20offset='.537'%20stop-color='%23fbd361'/%3e%3cstop%20offset='.591'%20stop-color='%23facf5e'/%3e%3cstop%20offset='.644'%20stop-color='%23fac959'/%3e%3cstop%20offset='.701'%20stop-color='%23f9c254'/%3e%3cstop%20offset='.763'%20stop-color='%23f8bb4e'/%3e%3cstop%20offset='.832'%20stop-color='%23f8b147'/%3e%3cstop%20offset='.91'%20stop-color='%23f7a73d'/%3e%3cstop%20offset='1'%20stop-color='%23f69a31'/%3e%3c/radialGradient%3e%3cradialGradient%20id='b'%20cy='100%25'%20gradientTransform='matrix(0%20-1%201.136%200%20-.636%201.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%2383370e'/%3e%3cstop%20offset='.226'%20stop-color='%2383370e'/%3e%3cstop%20offset='1'%20stop-color='%23482213'/%3e%3c/radialGradient%3e%3cradialGradient%20id='c'%20cy='0%25'%20gradientTransform='matrix(0%201%20-.7355%200%20.5%20-.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%23f75b73'/%3e%3cstop%20offset='1'%20stop-color='%23c51f2d'/%3e%3c/radialGradient%3e%3cfilter%20id='d'%20height='116.4%25'%20width='112.8%25'%20x='-6.4%25'%20y='-8.2%25'%3e%3cfeGaussianBlur%20in='SourceGraphic'%20stdDeviation='1'/%3e%3c/filter%3e%3cfilter%20id='e'%20height='116.4%25'%20width='112.8%25'%20x='-6.4%25'%20y='-8.2%25'%3e%3cfeGaussianBlur%20in='SourceGraphic'%20stdDeviation='1'/%3e%3c/filter%3e%3clinearGradient%20id='f'%20x1='85.463%25'%20y1='19.628%25'%20y2='80.372%25'%3e%3cstop%20offset='0'%20stop-color='%23222845'/%3e%3cstop%20offset='.086'%20stop-color='%23222845'/%3e%3cstop%20offset='.166'%20stop-color='%23232946'/%3e%3cstop%20offset='.239'%20stop-color='%23232b48'/%3e%3cstop%20offset='.308'%20stop-color='%23242d4a'/%3e%3cstop%20offset='.374'%20stop-color='%23262f4c'/%3e%3cstop%20offset='.438'%20stop-color='%2327314e'/%3e%3cstop%20offset='.5'%20stop-color='%23283350'/%3e%3cstop%20offset='.562'%20stop-color='%23293552'/%3e%3cstop%20offset='.626'%20stop-color='%232a3754'/%3e%3cstop%20offset='.692'%20stop-color='%232b3956'/%3e%3cstop%20offset='.761'%20stop-color='%232c3a58'/%3e%3cstop%20offset='.834'%20stop-color='%232c3b59'/%3e%3cstop%20offset='.914'%20stop-color='%232d3c5a'/%3e%3cstop%20offset='1'%20stop-color='%232d3c5a'/%3e%3c/linearGradient%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='96'%20cy='96'%20fill='url(%23a)'%20r='96'/%3e%3cpath%20d='M96%20166c38.66%200%2064-31.34%2064-70%200-.66-7-13-64-13S32%2095.34%2032%2096c0%2038.66%2025.34%2070%2064%2070z'%20fill='url(%23b)'/%3e%3cpath%20d='M52.272%20148.44C60.808%20139.232%2077.192%20133%2096%20133s35.192%206.231%2043.728%2015.44C128.75%20159.368%20113.785%20166%2096%20166s-32.75-6.633-43.728-17.56z'%20fill='url(%23c)'/%3e%3cpath%20d='M143.907%2039.169c-8.207%202.389-27.788%2013.373-30.542%2017.594s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.582-8.024%2018.07-10.617%205.49-2.593%203.226-11.026-4.982-8.636z'%20fill='%23fff3c5'%20filter='url(%23d)'%20opacity='.449'/%3e%3cpath%20d='M64.797%2039.169C56.59%2041.558%2037.01%2052.542%2034.255%2056.763s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.583-8.024%2018.071-10.617%205.488-2.593%203.225-11.026-4.983-8.636z'%20fill='%23fff3c5'%20filter='url(%23e)'%20opacity='.449'%20transform='matrix(-1%200%200%201%20112.83%200)'/%3e%3cg%20fill='url(%23f)'%3e%3cpath%20d='M143.907%2035.169c-8.207%202.389-27.788%2013.373-30.542%2017.594s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.582-8.024%2018.07-10.617%205.49-2.593%203.226-11.026-4.982-8.636zM48.032%2035.169c8.208%202.389%2027.789%2013.373%2030.543%2017.594s.61%209.333-2.896%2010.056c-9.101%200-24.786%202.671-35.423%207.776-5.94%203.015-9.499-5.293-5.66-7.776%205.597-4.395%2014.438-7.194%2026.525-8.397-.992-3.035-12.583-8.024-18.071-10.617-5.489-2.593-3.225-11.026%204.982-8.636z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",DH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M43.470703%208.9863281%20A%201.50015%201.50015%200%200%200%2042.439453%209.4394531L16.5%2035.378906L5.5605469%2024.439453%20A%201.50015%201.50015%200%201%200%203.4394531%2026.560547L15.439453%2038.560547%20A%201.50015%201.50015%200%200%200%2017.560547%2038.560547L44.560547%2011.560547%20A%201.50015%201.50015%200%200%200%2043.470703%208.9863281%20z'%20/%3e%3c/svg%3e",LH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M13%2042C12.472656%2042%2011.960938%2041.789063%2011.585938%2041.414063L0.585938%2030.414063C-0.195313%2029.632813%20-0.195313%2028.367188%200.585938%2027.585938C1.367188%2026.804688%202.632813%2026.804688%203.414063%2027.585938L12.859375%2037.03125L35.460938%209.726563C36.164063%208.871094%2037.425781%208.753906%2038.273438%209.460938C39.125%2010.164063%2039.246094%2011.425781%2038.539063%2012.273438L14.539063%2041.273438C14.183594%2041.710938%2013.65625%2041.972656%2013.09375%2041.996094C13.0625%2042%2013.03125%2042%2013%2042%20Z%20M%2024.09375%2041.996094C24.65625%2041.972656%2025.179688%2041.710938%2025.539063%2041.273438L49.539063%2012.273438C50.246094%2011.425781%2050.125%2010.164063%2049.273438%209.460938C48.425781%208.753906%2047.164063%208.875%2046.460938%209.726563L23.859375%2037.03125L23.414063%2036.585938C22.632813%2035.804688%2021.367188%2035.804688%2020.585938%2036.585938C19.804688%2037.367188%2019.804688%2038.632813%2020.585938%2039.414063L22.585938%2041.414063C22.960938%2041.789063%2023.472656%2042%2024%2042C24.03125%2042%2024.0625%2042%2024.09375%2041.996094Z'%20/%3e%3c/svg%3e",MH="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M12%204C4%204%201%2012%201%2012C1%2012%204%2020%2012%2020C20%2020%2023%2012%2023%2012C23%2012%2020%204%2012%204%20z%20M%2012%207C14.761%207%2017%209.239%2017%2012C17%2014.761%2014.761%2017%2012%2017C9.239%2017%207%2014.761%207%2012C7%209.239%209.239%207%2012%207%20z%20M%2012%209%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%2012%2015%20A%203%203%200%200%200%2015%2012%20A%203%203%200%200%200%2012%209%20z'%20/%3e%3c/svg%3e",OH={sent:DH,eye:MH,seen:LH,link:CH,reply:TH,sendLetter:bH,sendingLetter:IH,deleteIcon:xH,editPencil:EH,moreOption:wH,download:pH,offline:yH,online:_H,chat:vH,notification:gH,file:mH,light:hH,dark:fH,upload:dH,trueIcon:xW,falseIcon:EW,error:CW,down:bW,back:IW,thumbUp:TW,redo:SW,next:kW,finish:RW,history:AW,trash:PW,add:NW,edit:DW,save:LW,up:MW,clipboard:OW,admin:jW,menu:$W,home:FW,result:VW,help:UW,about:zW,update:BW,faq:WW,plus:HW,minus:GW,share:qW,review:YW,fullScreen:KW,search:QW,searchLeft:XW,close:JW,copy:ZW,google:eH,refresh:tH,exit:nH,exam:rH,like:sH,liked:iH,comment:oH,send:aH,logout:lH,user:cH,image:uH,facebookAngry:PH,facebookHaha:NH,facebookLike:SH,facebookLove:kH,facebookSad:RH,facebookWow:AH};function Ur(t){return OH[t]||null}const bw=({data:t})=>{const{clickFn:e,image:n}=t,r=Ur(n),s=()=>{e&&e()};return d.jsx("button",{onClick:s,className:"shadow-md border  rounded-full p-2 h-10 w-10  font-medium flex  justify-center items-center hover:opacity-70 transition-all",children:d.jsx("img",{src:r})})};/*! js-cookie v3.0.5 | MIT */function Hm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var jH={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function I3(t,e){function n(s,i,o){if(!(typeof document>"u")){o=Hm({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=s+"="+t.write(i,s)+a}}function r(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var i=document.cookie?document.cookie.split("; "):[],o={},a=0;a<i.length;a++){var l=i[a].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(o[u]=t.read(c,u),s===u)break}catch{}}return s?o[s]:o}}return Object.create({set:n,get:r,remove:function(s,i){n(s,"",Hm({},i,{expires:-1}))},withAttributes:function(s){return I3(this.converter,Hm({},this.attributes,s))},withConverter:function(s){return I3(Hm({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var br=I3(jH,{path:"/"}),N4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie=function(t,e){if(!t)throw gh(e)},gh=function(t){return new Error("Firebase Database ("+l8.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},$H=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},yb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(c8(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$H(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new FH;const f=i<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const m=c<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u8=function(t){const e=c8(t);return yb.encodeByteArray(e,!0)},Ug=function(t){return u8(t).replace(/\./g,"")},O0=function(t){try{return yb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VH(t){return d8(void 0,t)}function d8(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!UH(n)||(t[n]=d8(t[n],e[n]));return t}function UH(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH=()=>zH().__FIREBASE_DEFAULTS__,WH=()=>{if(typeof process>"u"||typeof N4>"u")return;const t=N4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&O0(t[1]);return e&&JSON.parse(e)},vv=()=>{try{return BH()||WH()||HH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},h8=t=>{var e,n;return(n=(e=vv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},f8=t=>{const e=h8(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},p8=()=>{var t;return(t=vv())===null||t===void 0?void 0:t.config},m8=t=>{var e;return(e=vv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Ug(JSON.stringify(n)),Ug(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function GH(){var t;const e=(t=vv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _b(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y8(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _8(){return l8.NODE_ADMIN===!0}function w8(){return!GH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x8(){try{return typeof indexedDB=="object"}catch{return!1}}function qH(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH="FirebaseError";class js extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YH,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nl.prototype.create)}}class Nl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?KH(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new js(s,a,r)}}function KH(t,e){return t.replace(QH,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const QH=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t){return JSON.parse(t)}function Zn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=j0(O0(i[0])||""),n=j0(O0(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},XH=function(t){const e=E8(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},JH=function(t){const e=E8(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ld(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function zg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bg(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Md(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(D4(i)&&D4(o)){if(!Md(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function D4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qi(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Xi(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):h<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const f=(s<<5|s>>>27)+c+l+u+r[h]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function C8(t,e){const n=new eG(t,e);return n.subscribe.bind(n)}class eG{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tG(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Iw),s.error===void 0&&(s.error=Iw),s.complete===void 0&&(s.complete=Iw);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Iw(){}function Dc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,ie(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},_v=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){return t&&t._delegate?t._delegate:t}class Pi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Lo;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iG(e))try{this.getOrInitializeService({instanceIdentifier:ql})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ql){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ql){return this.instances.has(e)}getOptions(e=ql){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ql){return this.component?this.component.multipleInstances?e:ql:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sG(t){return t===ql?void 0:t}function iG(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rG(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const aG={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},lG=st.INFO,cG={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},uG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=cG[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pp{constructor(e){this.name=e,this._logLevel=lG,this._logHandler=uG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const dG=(t,e)=>e.some(n=>t instanceof n);let L4,M4;function hG(){return L4||(L4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fG(){return M4||(M4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b8=new WeakMap,T3=new WeakMap,I8=new WeakMap,Tw=new WeakMap,wb=new WeakMap;function pG(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ol(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&b8.set(n,t)}).catch(()=>{}),wb.set(e,t),e}function mG(t){if(T3.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});T3.set(t,e)}let S3={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return T3.get(t);if(e==="objectStoreNames")return t.objectStoreNames||I8.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ol(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gG(t){S3=t(S3)}function vG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sw(this),e,...n);return I8.set(r,e.sort?e.sort():[e]),ol(r)}:fG().includes(t)?function(...e){return t.apply(Sw(this),e),ol(b8.get(this))}:function(...e){return ol(t.apply(Sw(this),e))}}function yG(t){return typeof t=="function"?vG(t):(t instanceof IDBTransaction&&mG(t),dG(t,hG())?new Proxy(t,S3):t)}function ol(t){if(t instanceof IDBRequest)return pG(t);if(Tw.has(t))return Tw.get(t);const e=yG(t);return e!==t&&(Tw.set(t,e),wb.set(e,t)),e}const Sw=t=>wb.get(t);function _G(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ol(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ol(o.result),l.oldVersion,l.newVersion,ol(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const wG=["get","getKey","getAll","getAllKeys","count"],xG=["put","add","delete","clear"],kw=new Map;function O4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kw.get(e))return kw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=xG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||wG.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return kw.set(e,i),i}gG(t=>({...t,get:(e,n,r)=>O4(e,n)||t.get(e,n,r),has:(e,n)=>!!O4(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CG(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CG(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const k3="@firebase/app",j4="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new Pp("@firebase/app"),bG="@firebase/app-compat",IG="@firebase/analytics-compat",TG="@firebase/analytics",SG="@firebase/app-check-compat",kG="@firebase/app-check",RG="@firebase/auth",AG="@firebase/auth-compat",PG="@firebase/database",NG="@firebase/database-compat",DG="@firebase/functions",LG="@firebase/functions-compat",MG="@firebase/installations",OG="@firebase/installations-compat",jG="@firebase/messaging",$G="@firebase/messaging-compat",FG="@firebase/performance",VG="@firebase/performance-compat",UG="@firebase/remote-config",zG="@firebase/remote-config-compat",BG="@firebase/storage",WG="@firebase/storage-compat",HG="@firebase/firestore",GG="@firebase/firestore-compat",qG="firebase",YG="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3="[DEFAULT]",KG={[k3]:"fire-core",[bG]:"fire-core-compat",[TG]:"fire-analytics",[IG]:"fire-analytics-compat",[kG]:"fire-app-check",[SG]:"fire-app-check-compat",[RG]:"fire-auth",[AG]:"fire-auth-compat",[PG]:"fire-rtdb",[NG]:"fire-rtdb-compat",[DG]:"fire-fn",[LG]:"fire-fn-compat",[MG]:"fire-iid",[OG]:"fire-iid-compat",[jG]:"fire-fcm",[$G]:"fire-fcm-compat",[FG]:"fire-perf",[VG]:"fire-perf-compat",[UG]:"fire-rc",[zG]:"fire-rc-compat",[BG]:"fire-gcs",[WG]:"fire-gcs-compat",[HG]:"fire-fst",[GG]:"fire-fst-compat","fire-js":"fire-js",[qG]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=new Map,A3=new Map;function QG(t,e){try{t.container.addComponent(e)}catch(n){Lc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ho(t){const e=t.name;if(A3.has(e))return Lc.debug(`There were multiple attempts to register component ${e}.`),!1;A3.set(e,t);for(const n of Wg.values())QG(n,t);return!0}function Np(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},al=new Nl("app","Firebase",XG);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JG{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw al.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=YG;function T8(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:R3,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw al.create("bad-app-name",{appName:String(s)});if(n||(n=p8()),!n)throw al.create("no-options");const i=Wg.get(s);if(i){if(Md(n,i.options)&&Md(r,i.config))return i;throw al.create("duplicate-app",{appName:s})}const o=new oG(s);for(const l of A3.values())o.addComponent(l);const a=new JG(n,r,o);return Wg.set(s,a),a}function xb(t=R3){const e=Wg.get(t);if(!e&&t===R3&&p8())return T8();if(!e)throw al.create("no-app",{appName:t});return e}function us(t,e,n){var r;let s=(r=KG[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lc.warn(a.join(" "));return}ho(new Pi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZG="firebase-heartbeat-database",eq=1,$0="firebase-heartbeat-store";let Rw=null;function S8(){return Rw||(Rw=_G(ZG,eq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($0)}catch(n){console.warn(n)}}}}).catch(t=>{throw al.create("idb-open",{originalErrorMessage:t.message})})),Rw}async function tq(t){try{const n=(await S8()).transaction($0),r=await n.objectStore($0).get(k8(t));return await n.done,r}catch(e){if(e instanceof js)Lc.warn(e.message);else{const n=al.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Lc.warn(n.message)}}}async function $4(t,e){try{const r=(await S8()).transaction($0,"readwrite");await r.objectStore($0).put(e,k8(t)),await r.done}catch(n){if(n instanceof js)Lc.warn(n.message);else{const r=al.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Lc.warn(r.message)}}}function k8(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq=1024,rq=30*24*60*60*1e3;class sq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=F4();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=rq}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=F4(),{heartbeatsToSend:r,unsentEntries:s}=iq(this._heartbeatsCache.heartbeats),i=Ug(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function F4(){return new Date().toISOString().substring(0,10)}function iq(t,e=nq){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),V4(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),V4(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class oq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x8()?qH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return $4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return $4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function V4(t){return Ug(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aq(t){ho(new Pi("platform-logger",e=>new EG(e),"PRIVATE")),ho(new Pi("heartbeat",e=>new sq(e),"PRIVATE")),us(k3,j4,t),us(k3,j4,"esm2017"),us("fire-js","")}aq("");var lq="firebase",cq="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(lq,cq,"app");var P3=function(t,e){return P3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},P3(t,e)};function un(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");P3(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ft=function(){return ft=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ft.apply(this,arguments)};function vh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function te(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function ne(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],s=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function fr(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function R8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uq=R8,A8=new Nl("auth","Firebase",R8());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=new Pp("@firebase/auth");function dq(t,...e){Hg.logLevel<=st.WARN&&Hg.warn(`Auth (${ji}): ${t}`,...e)}function L2(t,...e){Hg.logLevel<=st.ERROR&&Hg.error(`Auth (${ji}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t,...e){throw Eb(t,...e)}function oo(t,...e){return Eb(t,...e)}function P8(t,e,n){const r=Object.assign(Object.assign({},uq()),{[e]:n});return new Nl("auth","Firebase",r).create(e,{appName:t.name})}function hq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&si(t,"argument-error"),P8(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Eb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return A8.create(t,...e)}function Fe(t,e,...n){if(!t)throw Eb(e,...n)}function Fo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw L2(e),new Error(e)}function ra(t,e){t||Fo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fq(){return U4()==="http:"||U4()==="https:"}function U4(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fq()||v8()||"connection"in navigator)?navigator.onLine:!0}function mq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dp=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ra(n>e,"Short delay should be less than long delay!"),this.isMobile=yv()||_b()}get(){return pq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t,e){ra(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N8=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vq=new Dp(3e4,6e4);function ma(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _o(t,e,n,r,s={}){return D8(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=pa(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),N8.fetch()(L8(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function D8(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},gq),e);try{const s=new _q(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Gm(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gm(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Gm(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Gm(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw P8(t,u,c);si(t,u)}}catch(s){if(s instanceof js)throw s;si(t,"network-request-failed",{message:String(s)})}}async function Lp(t,e,n,r,s={}){const i=await _o(t,e,n,r,s);return"mfaPendingCredential"in i&&si(t,"multi-factor-auth-required",{_serverResponse:i}),i}function L8(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Cb(t.config,s):`${t.config.apiScheme}://${s}`}function yq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let _q=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oo(this.auth,"network-request-failed")),vq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Gm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=oo(t,e,r);return s.customData._tokenResponse=n,s}function z4(t){return t!==void 0&&t.enterprise!==void 0}let wq=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};async function xq(t,e){return _o(t,"GET","/v2/recaptchaConfig",ma(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eq(t,e){return _o(t,"POST","/v1/accounts:delete",e)}async function Cq(t,e){return _o(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bq(t,e=!1){const n=ut(t),r=await n.getIdToken(e),s=bb(r);Fe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Xf(Aw(s.auth_time)),issuedAtTime:Xf(Aw(s.iat)),expirationTime:Xf(Aw(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Aw(t){return Number(t)*1e3}function bb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return L2("JWT malformed, contained fewer than 3 sections"),null;try{const s=O0(n);return s?JSON.parse(s):(L2("Failed to decode base64 JWT payload"),null)}catch(s){return L2("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Iq(t){const e=bb(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Od(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof js&&Tq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Tq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sq=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M8=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xf(this.lastLoginAt),this.creationTime=Xf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gg(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Od(t,Cq(n,{idToken:r}));Fe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Aq(i.providerUserInfo):[],a=Rq(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new M8(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function kq(t){const e=ut(t);await Gg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Rq(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Aq(t){return t.map(e=>{var{providerId:n}=e,r=vh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pq(t,e){const n=await D8(t,{},async()=>{const r=pa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=L8(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",N8.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Nq(t,e){return _o(t,"POST","/v2/accounts:revokeToken",ma(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B4=class D3{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Iq(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Fe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Pq(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new D3;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Fe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Fe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new D3,this.toJSON())}_performRefresh(){return Fo("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}let L3=class M2{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=vh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new M8(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Od(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bq(this,e)}reload(){return kq(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new M2(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Od(this,Eq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:x,isAnonymous:b,providerData:C,stsTokenManager:T}=n;Fe(_&&T,e,"internal-error");const I=B4.fromJSON(this.name,T);Fe(typeof _=="string",e,"internal-error"),ba(h,e.name),ba(f,e.name),Fe(typeof x=="boolean",e,"internal-error"),Fe(typeof b=="boolean",e,"internal-error"),ba(p,e.name),ba(m,e.name),ba(v,e.name),ba(E,e.name),ba(y,e.name),ba(w,e.name);const S=new M2({uid:_,auth:e,email:f,emailVerified:x,displayName:h,isAnonymous:b,photoURL:m,phoneNumber:p,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:w});return C&&Array.isArray(C)&&(S.providerData=C.map(R=>Object.assign({},R))),E&&(S._redirectEventId=E),S}static async _fromIdTokenResponse(e,n,r=!1){const s=new B4;s.updateFromServerResponse(n);const i=new M2({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Gg(i),i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=new Map;function Vo(t){ra(t instanceof Function,"Expected a class definition");let e=W4.get(t);return e?(ra(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,W4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O8=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};O8.type="NONE";const H4=O8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t,e,n){return`firebase:${t}:${e}:${n}`}let G4=class j2{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=O2(this.userKey,s.apiKey,i),this.fullPersistenceKey=O2("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?L3._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new j2(Vo(H4),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Vo(H4);const o=O2(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=L3._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new j2(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new j2(i,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F8(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(j8(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(U8(e))return"Blackberry";if(z8(e))return"Webos";if(Ib(e))return"Safari";if((e.includes("chrome/")||$8(e))&&!e.includes("edge/"))return"Chrome";if(V8(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function j8(t=kt()){return/firefox\//i.test(t)}function Ib(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $8(t=kt()){return/crios\//i.test(t)}function F8(t=kt()){return/iemobile/i.test(t)}function V8(t=kt()){return/android/i.test(t)}function U8(t=kt()){return/blackberry/i.test(t)}function z8(t=kt()){return/webos/i.test(t)}function wv(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Dq(t=kt()){var e;return wv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Lq(){return y8()&&document.documentMode===10}function B8(t=kt()){return wv(t)||V8(t)||z8(t)||U8(t)||/windows phone/i.test(t)||F8(t)}function Mq(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W8(t,e=[]){let n;switch(t){case"Browser":n=q4(kt());break;case"Worker":n=`${q4(kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ji}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oq=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jq(t,e={}){return _o(t,"GET","/v2/passwordPolicy",ma(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $q=6;let Fq=class{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:$q,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vq=class{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y4(this),this.idTokenSubscription=new Y4(this),this.beforeStateQueue=new Oq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vo(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await G4.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ut(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Vo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jq(this),n=new Fq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Nq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vo(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await G4.create(this,[Vo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=W8(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&dq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}};function ga(t){return ut(t)}let Y4=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=C8(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Uq(t){xv=t}function H8(t){return xv.loadJS(t)}function zq(){return xv.recaptchaEnterpriseScript}function Bq(){return xv.gapiScript}function Wq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Hq="recaptcha-enterprise",Gq="NO_RECAPTCHA";let qq=class{constructor(e){this.type=Hq,this.auth=ga(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{xq(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new wq(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;z4(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(Gq)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&z4(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=zq();l.length!==0&&(l+=a),H8(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}};async function K4(t,e,n,r=!1){const s=new qq(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function qg(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await K4(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await K4(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yq(t,e){const n=Np(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Md(i,e??{}))return s;si(s,"already-initialized")}return n.initialize({options:e})}function Kq(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Qq(t,e,n){const r=ga(t);Fe(r._canInitEmulator,r,"emulator-config-failed"),Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=G8(e),{host:o,port:a}=Xq(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||Jq()}function G8(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Xq(t){const e=G8(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Q4(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Q4(o)}}}function Q4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Jq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tb=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fo("not implemented")}_getIdTokenResponse(e){return Fo("not implemented")}_linkToIdToken(e,n){return Fo("not implemented")}_getReauthenticationResolver(e){return Fo("not implemented")}};async function Zq(t,e){return _o(t,"POST","/v1/accounts:update",e)}async function eY(t,e){return _o(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tY(t,e){return Lp(t,"POST","/v1/accounts:signInWithPassword",ma(t,e))}async function nY(t,e){return _o(t,"POST","/v1/accounts:sendOobCode",ma(t,e))}async function rY(t,e){return nY(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sY(t,e){return Lp(t,"POST","/v1/accounts:signInWithEmailLink",ma(t,e))}async function iY(t,e){return Lp(t,"POST","/v1/accounts:signInWithEmailLink",ma(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X4=class M3 extends Tb{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new M3(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new M3(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qg(e,n,"signInWithPassword",tY);case"emailLink":return sY(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qg(e,r,"signUpPassword",eY);case"emailLink":return iY(e,{idToken:n,email:this._email,oobCode:this._password});default:si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(t,e){return Lp(t,"POST","/v1/accounts:signInWithIdp",ma(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oY="http://localhost";let Ev=class O3 extends Tb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new O3(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=vh(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new O3(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return dd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,dd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,dd(e,n)}buildRequest(){const e={requestUri:oY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pa(n)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aY(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lY(t){const e=Qi(Xi(t)).link,n=e?Qi(Xi(e)).deep_link_id:null,r=Qi(Xi(t)).deep_link_id;return(r?Qi(Xi(r)).link:null)||r||n||e||t}let cY=class q8{constructor(e){var n,r,s,i,o,a;const l=Qi(Xi(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=aY((s=l.mode)!==null&&s!==void 0?s:null);Fe(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=lY(e);try{return new q8(n)}catch{return null}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cv=class Y8{constructor(){this.providerId=Y8.PROVIDER_ID}static credential(e,n){return X4._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=cY.parseLink(n);return Fe(r,"argument-error"),X4._fromEmailAndCode(e,r.code,r.tenantId)}};Cv.PROVIDER_ID="password";Cv.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cv.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sb=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mp=class extends Sb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Mp{constructor(){super("facebook.com")}static credential(e){return Ev._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ma.credential(e.oauthAccessToken)}catch{return null}}}Ma.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ma.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends Mp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ev._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mo.credential(n,r)}catch{return null}}}Mo.GOOGLE_SIGN_IN_METHOD="google.com";Mo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends Mp{constructor(){super("github.com")}static credential(e){return Ev._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oa.credential(e.oauthAccessToken)}catch{return null}}}Oa.GITHUB_SIGN_IN_METHOD="github.com";Oa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends Mp{constructor(){super("twitter.com")}static credential(e,n){return Ev._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ja.credential(n,r)}catch{return null}}}ja.TWITTER_SIGN_IN_METHOD="twitter.com";ja.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uY(t,e){return Lp(t,"POST","/v1/accounts:signUp",ma(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bv=class j3{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await L3._fromIdTokenResponse(e,r,s),o=J4(r);return new j3({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=J4(r);return new j3({user:e,providerId:s,_tokenResponse:r,operationType:n})}};function J4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dY=class $3 extends js{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,$3.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new $3(e,n,r,s)}};function K8(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?dY._fromErrorAndOperation(t,i,e,r):i})}async function hY(t,e,n=!1){const r=await Od(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bv._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q8(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await Od(t,K8(r,s,e,t),n);Fe(i.idToken,r,"internal-error");const o=bb(i.idToken);Fe(o,r,"internal-error");const{sub:a}=o;return Fe(t.uid===a,r,"user-mismatch"),bv._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&si(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X8(t,e,n=!1){const r="signIn",s=await K8(t,r,e),i=await bv._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function fY(t,e){return X8(ga(t),e)}async function pY(t,e){return Q8(ut(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mY(t,e,n){var r;Fe(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Fe(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Fe(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Fe(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J8(t){const e=ga(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gY(t,e,n){const r=ga(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&mY(r,s,n),await qg(r,s,"getOobCode",rY)}async function vY(t,e,n){const r=ga(t),o=await qg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uY).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&J8(t),l}),a=await bv._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function yY(t,e,n){return fY(ut(t),Cv.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&J8(t),r})}function _Y(t,e){return wY(ut(t),null,e)}async function wY(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const o=await Od(t,Zq(r,i));await t._updateTokensIfNecessary(o,!0)}function xY(t,e,n,r){return ut(t).onIdTokenChanged(e,n,r)}function EY(t,e,n){return ut(t).beforeAuthStateChanged(e,n)}function CY(t,e,n,r){return ut(t).onAuthStateChanged(e,n,r)}function Z8(t){return ut(t).signOut()}const Yg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e7=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yg,"1"),this.storage.removeItem(Yg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bY(){const t=kt();return Ib(t)||wv(t)}const IY=1e3,TY=10;class t7 extends e7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=bY()&&Mq(),this.fallbackToPolling=B8(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Lq()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,TY):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},IY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}t7.type="LOCAL";const SY=t7;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7 extends e7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}n7.type="SESSION";const r7=n7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Iv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await kY(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Iv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RY=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=kb("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(){return window}function AY(t){ao().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(){return typeof ao().WorkerGlobalScope<"u"&&typeof ao().importScripts=="function"}async function PY(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NY(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function DY(){return s7()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7="firebaseLocalStorageDb",LY=1,Kg="firebaseLocalStorage",o7="fbase_key";class Op{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tv(t,e){return t.transaction([Kg],e?"readwrite":"readonly").objectStore(Kg)}function MY(){const t=indexedDB.deleteDatabase(i7);return new Op(t).toPromise()}function F3(){const t=indexedDB.open(i7,LY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Kg,{keyPath:o7})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Kg)?e(r):(r.close(),await MY(),e(await F3()))})})}async function Z4(t,e,n){const r=Tv(t,!0).put({[o7]:e,value:n});return new Op(r).toPromise()}async function OY(t,e){const n=Tv(t,!1).get(e),r=await new Op(n).toPromise();return r===void 0?null:r.value}function ek(t,e){const n=Tv(t,!0).delete(e);return new Op(n).toPromise()}const jY=800,$Y=3;class a7{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await F3(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$Y)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s7()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Iv._getInstance(DY()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await PY(),!this.activeServiceWorker)return;this.sender=new RY(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await F3();return await Z4(e,Yg,"1"),await ek(e,Yg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Z4(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>OY(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ek(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Tv(s,!1).getAll();return new Op(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a7.type="LOCAL";const FY=a7;new Dp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(t,e){return e?Vo(e):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rb=class extends Tb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return dd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return dd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function VY(t){return X8(t.auth,new Rb(t),t.bypassAuthState)}function UY(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),Q8(n,new Rb(t),t.bypassAuthState)}async function zY(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),hY(n,new Rb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c7=class{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VY;case"linkViaPopup":case"linkViaRedirect":return zY;case"reauthViaPopup":case"reauthViaRedirect":return UY;default:si(this.auth,"internal-error")}}resolve(e){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BY=new Dp(2e3,1e4);async function WY(t,e,n){const r=ga(t);hq(t,e,Sb);const s=l7(r,n);return new oc(r,"signInViaPopup",e,s).executeNotNull()}class oc extends c7{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,oc.currentPopupAction&&oc.currentPopupAction.cancel(),oc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){ra(this.filter.length===1,"Popup operations only handle one event");const e=kb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(oo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BY.get())};e()}}oc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HY="pendingRedirect",$2=new Map;class GY extends c7{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$2.get(this.auth._key());if(!e){try{const r=await qY(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$2.set(this.auth._key(),e)}return this.bypassAuthState||$2.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qY(t,e){const n=QY(e),r=KY(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function YY(t,e){$2.set(t._key(),e)}function KY(t){return Vo(t._redirectPersistence)}function QY(t){return O2(HY,t.config.apiKey,t.name)}async function XY(t,e,n=!1){const r=ga(t),s=l7(r,e),o=await new GY(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JY=10*60*1e3;let ZY=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eK(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!u7(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(oo(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JY&&this.cachedEventUids.clear(),this.cachedEventUids.has(tk(e))}saveEventToCache(e){this.cachedEventUids.add(tk(e)),this.lastProcessedEventTime=Date.now()}};function tk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function u7({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eK(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u7(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tK(t,e={}){return _o(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rK=/^https?/;async function sK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tK(t);for(const n of e)try{if(iK(n))return}catch{}si(t,"unauthorized-domain")}function iK(t){const e=N3(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!rK.test(n))return!1;if(nK.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oK=new Dp(3e4,6e4);function nk(){const t=ao().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aK(t){return new Promise((e,n)=>{var r,s,i;function o(){nk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nk(),n(oo(t,"network-request-failed"))},timeout:oK.get()})}if(!((s=(r=ao().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ao().gapi)===null||i===void 0)&&i.load)o();else{const a=Wq("iframefcb");return ao()[a]=()=>{gapi.load?o():n(oo(t,"network-request-failed"))},H8(`${Bq()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw F2=null,e})}let F2=null;function lK(t){return F2=F2||aK(t),F2}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK=new Dp(5e3,15e3),uK="__/auth/iframe",dK="emulator/auth/iframe",hK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pK(t){const e=t.config;Fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cb(e,dK):`https://${t.config.authDomain}/${uK}`,r={apiKey:e.apiKey,appName:t.name,v:ji},s=fK.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${pa(r).slice(1)}`}async function mK(t){const e=await lK(t),n=ao().gapi;return Fe(n,t,"internal-error"),e.open({where:document.body,url:pK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hK,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=oo(t,"network-request-failed"),a=ao().setTimeout(()=>{i(o)},cK.get());function l(){ao().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vK=500,yK=600,_K="_blank",wK="http://localhost";class rk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xK(t,e,n,r=vK,s=yK){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},gK),{width:r.toString(),height:s.toString(),top:i,left:o}),c=kt().toLowerCase();n&&(a=$8(c)?_K:n),j8(c)&&(e=e||wK,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(Dq(c)&&a!=="_self")return EK(e||"",a),new rk(null);const h=window.open(e||"",a,u);Fe(h,t,"popup-blocked");try{h.focus()}catch{}return new rk(h)}function EK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CK="__/auth/handler",bK="emulator/auth/handler",IK=encodeURIComponent("fac");async function sk(t,e,n,r,s,i){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ji,eventId:s};if(e instanceof Sb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",zg(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(i||{}))o[u]=h}if(e instanceof Mp){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${IK}=${encodeURIComponent(l)}`:"";return`${TK(t)}?${pa(a).slice(1)}${c}`}function TK({config:t}){return t.emulator?Cb(t,bK):`https://${t.authDomain}/${CK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="webStorageSupport";class SK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r7,this._completeRedirectFn=XY,this._overrideRedirectResult=YY}async _openPopup(e,n,r,s){var i;ra((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await sk(e,n,r,N3(),s);return xK(e,o,kb())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await sk(e,n,r,N3(),s);return AY(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ra(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await mK(e),r=new ZY(e);return n.register("authEvent",s=>(Fe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pw,{type:Pw},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Pw];o!==void 0&&n(!!o),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return B8()||Ib()||wv()}}const kK=SK;var ik="@firebase/auth",ok="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RK=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PK(t){ho(new Pi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Fe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W8(t)},c=new Vq(r,s,i,l);return Kq(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ho(new Pi("auth-internal",e=>{const n=ga(e.getProvider("auth").getImmediate());return(r=>new RK(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(ik,ok,AK(t)),us(ik,ok,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NK=5*60,DK=m8("authIdTokenMaxAge")||NK;let ak=null;const LK=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>DK)return;const s=n==null?void 0:n.token;ak!==s&&(ak=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function MK(t=xb()){const e=Np(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Yq(t,{popupRedirectResolver:kK,persistence:[FY,SY,r7]}),r=m8("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const i=LK(r);EY(n,i,()=>i(n.currentUser)),xY(n,o=>i(o))}const s=h8("auth");return s&&Qq(n,`http://${s}`),n}function OK(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Uq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=oo("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",OK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PK("Browser");var jK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he,Ab=Ab||{},Ge=jK||self;function Sv(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function jp(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function $K(t){return Object.prototype.hasOwnProperty.call(t,Nw)&&t[Nw]||(t[Nw]=++FK)}var Nw="closure_uid_"+(1e9*Math.random()>>>0),FK=0;function VK(t,e,n){return t.call.apply(t.bind,arguments)}function UK(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Sr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Sr=VK:Sr=UK,Sr.apply(null,arguments)}function qm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function rr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Dl(){this.s=this.s,this.o=this.o}var zK=0;Dl.prototype.s=!1;Dl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),zK!=0)&&$K(this)};Dl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const d7=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Pb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function lk(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Sv(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function kr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}kr.prototype.h=function(){this.defaultPrevented=!0};var BK=function(){if(!Ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Ge.addEventListener("test",n,e),Ge.removeEventListener("test",n,e)}catch{}return t}();function F0(t){return/^[\s\xa0]*$/.test(t)}function kv(){var t=Ge.navigator;return t&&(t=t.userAgent)?t:""}function Yi(t){return kv().indexOf(t)!=-1}function Nb(t){return Nb[" "](t),t}Nb[" "]=function(){};function WK(t,e){var n=OQ;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var HK=Yi("Opera"),jd=Yi("Trident")||Yi("MSIE"),h7=Yi("Edge"),V3=h7||jd,f7=Yi("Gecko")&&!(kv().toLowerCase().indexOf("webkit")!=-1&&!Yi("Edge"))&&!(Yi("Trident")||Yi("MSIE"))&&!Yi("Edge"),GK=kv().toLowerCase().indexOf("webkit")!=-1&&!Yi("Edge");function p7(){var t=Ge.document;return t?t.documentMode:void 0}var U3;e:{var Dw="",Lw=function(){var t=kv();if(f7)return/rv:([^\);]+)(\)|;)/.exec(t);if(h7)return/Edge\/([\d\.]+)/.exec(t);if(jd)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(GK)return/WebKit\/(\S+)/.exec(t);if(HK)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Lw&&(Dw=Lw?Lw[1]:""),jd){var Mw=p7();if(Mw!=null&&Mw>parseFloat(Dw)){U3=String(Mw);break e}}U3=Dw}var z3;if(Ge.document&&jd){var ck=p7();z3=ck||parseInt(U3,10)||void 0}else z3=void 0;var qK=z3;function V0(t,e){if(kr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(f7){e:{try{Nb(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:YK[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&V0.$.h.call(this)}}rr(V0,kr);var YK={2:"touch",3:"pen",4:"mouse"};V0.prototype.h=function(){V0.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var $p="closure_listenable_"+(1e6*Math.random()|0),KK=0;function QK(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++KK,this.fa=this.ia=!1}function Rv(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Db(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function XK(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function m7(t){const e={};for(const n in t)e[n]=t[n];return e}const uk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function g7(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<uk.length;i++)n=uk[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Av(t){this.src=t,this.g={},this.h=0}Av.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=W3(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new QK(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function B3(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=d7(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Rv(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function W3(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Lb="closure_lm_"+(1e6*Math.random()|0),Ow={};function v7(t,e,n,r,s){if(r&&r.once)return _7(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)v7(t,e[i],n,r,s);return null}return n=jb(n),t&&t[$p]?t.O(e,n,jp(r)?!!r.capture:!!r,s):y7(t,e,n,!1,r,s)}function y7(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=jp(s)?!!s.capture:!!s,a=Ob(t);if(a||(t[Lb]=a=new Av(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=JK(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)BK||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(x7(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function JK(){function t(n){return e.call(t.src,t.listener,n)}const e=ZK;return t}function _7(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)_7(t,e[i],n,r,s);return null}return n=jb(n),t&&t[$p]?t.P(e,n,jp(r)?!!r.capture:!!r,s):y7(t,e,n,!0,r,s)}function w7(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)w7(t,e[i],n,r,s);else r=jp(r)?!!r.capture:!!r,n=jb(n),t&&t[$p]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=W3(i,n,r,s),-1<n&&(Rv(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ob(t))&&(e=t.g[e.toString()],t=-1,e&&(t=W3(e,n,r,s)),(n=-1<t?e[t]:null)&&Mb(n))}function Mb(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[$p])B3(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(x7(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ob(e))?(B3(n,t),n.h==0&&(n.src=null,e[Lb]=null)):Rv(t)}}}function x7(t){return t in Ow?Ow[t]:Ow[t]="on"+t}function ZK(t,e){if(t.fa)t=!0;else{e=new V0(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Mb(t),t=n.call(r,e)}return t}function Ob(t){return t=t[Lb],t instanceof Av?t:null}var jw="__closure_events_fn_"+(1e9*Math.random()>>>0);function jb(t){return typeof t=="function"?t:(t[jw]||(t[jw]=function(e){return t.handleEvent(e)}),t[jw])}function nr(){Dl.call(this),this.i=new Av(this),this.S=this,this.J=null}rr(nr,Dl);nr.prototype[$p]=!0;nr.prototype.removeEventListener=function(t,e,n,r){w7(this,t,e,n,r)};function pr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new kr(e,t);else if(e instanceof kr)e.target=e.target||t;else{var s=e;e=new kr(r,t),g7(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Ym(o,r,!0,e)&&s}if(o=e.g=t,s=Ym(o,r,!0,e)&&s,s=Ym(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Ym(o,r,!1,e)&&s}nr.prototype.N=function(){if(nr.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Rv(n[r]);delete t.g[e],t.h--}}this.J=null};nr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};nr.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ym(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&B3(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var $b=Ge.JSON.stringify;class eQ{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function tQ(){var t=Fb;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class nQ{constructor(){this.h=this.g=null}add(e,n){const r=E7.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var E7=new eQ(()=>new rQ,t=>t.reset());class rQ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function sQ(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function iQ(t){Ge.setTimeout(()=>{throw t},0)}let U0,z0=!1,Fb=new nQ,C7=()=>{const t=Ge.Promise.resolve(void 0);U0=()=>{t.then(oQ)}};var oQ=()=>{for(var t;t=tQ();){try{t.h.call(t.g)}catch(n){iQ(n)}var e=E7;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}z0=!1};function Pv(t,e){nr.call(this),this.h=t||1,this.g=e||Ge,this.j=Sr(this.qb,this),this.l=Date.now()}rr(Pv,nr);he=Pv.prototype;he.ga=!1;he.T=null;he.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),pr(this,"tick"),this.ga&&(Vb(this),this.start()))}};he.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Vb(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}he.N=function(){Pv.$.N.call(this),Vb(this),delete this.g};function Ub(t,e,n){if(typeof t=="function")n&&(t=Sr(t,n));else if(t&&typeof t.handleEvent=="function")t=Sr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ge.setTimeout(t,e||0)}function b7(t){t.g=Ub(()=>{t.g=null,t.i&&(t.i=!1,b7(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class aQ extends Dl{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:b7(this)}N(){super.N(),this.g&&(Ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function B0(t){Dl.call(this),this.h=t,this.g={}}rr(B0,Dl);var dk=[];function I7(t,e,n,r){Array.isArray(n)||(n&&(dk[0]=n.toString()),n=dk);for(var s=0;s<n.length;s++){var i=v7(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function T7(t){Db(t.g,function(e,n){this.g.hasOwnProperty(n)&&Mb(e)},t),t.g={}}B0.prototype.N=function(){B0.$.N.call(this),T7(this)};B0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Nv(){this.g=!0}Nv.prototype.Ea=function(){this.g=!1};function lQ(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function cQ(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Ju(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+dQ(t,n)+(r?" "+r:"")})}function uQ(t,e){t.info(function(){return"TIMEOUT: "+e})}Nv.prototype.info=function(){};function dQ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return $b(n)}catch{return e}}var iu={},hk=null;function Dv(){return hk=hk||new nr}iu.Ta="serverreachability";function S7(t){kr.call(this,iu.Ta,t)}rr(S7,kr);function W0(t){const e=Dv();pr(e,new S7(e))}iu.STAT_EVENT="statevent";function k7(t,e){kr.call(this,iu.STAT_EVENT,t),this.stat=e}rr(k7,kr);function Fr(t){const e=Dv();pr(e,new k7(e,t))}iu.Ua="timingevent";function R7(t,e){kr.call(this,iu.Ua,t),this.size=e}rr(R7,kr);function Fp(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ge.setTimeout(function(){t()},e)}var Lv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},A7={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function zb(){}zb.prototype.h=null;function fk(t){return t.h||(t.h=t.i())}function P7(){}var Vp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Bb(){kr.call(this,"d")}rr(Bb,kr);function Wb(){kr.call(this,"c")}rr(Wb,kr);var H3;function Mv(){}rr(Mv,zb);Mv.prototype.g=function(){return new XMLHttpRequest};Mv.prototype.i=function(){return{}};H3=new Mv;function Up(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new B0(this),this.P=hQ,t=V3?125:void 0,this.V=new Pv(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new N7}function N7(){this.i=null,this.g="",this.h=!1}var hQ=45e3,D7={},G3={};he=Up.prototype;he.setTimeout=function(t){this.P=t};function q3(t,e,n){t.L=1,t.A=jv(sa(e)),t.u=n,t.S=!0,L7(t,null)}function L7(t,e){t.G=Date.now(),zp(t),t.B=sa(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),z7(n.i,"t",r),t.o=0,n=t.l.J,t.h=new N7,t.g=cD(t.l,n?e:null,!t.u),0<t.O&&(t.M=new aQ(Sr(t.Pa,t,t.g),t.O)),I7(t.U,t.g,"readystatechange",t.nb),e=t.I?m7(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),W0(),lQ(t.j,t.v,t.B,t.m,t.W,t.u)}he.nb=function(t){t=t.target;const e=this.M;e&&Ji(t)==3?e.l():this.Pa(t)};he.Pa=function(t){try{if(t==this.g)e:{const u=Ji(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||V3||this.g&&(this.h.h||this.g.ja()||vk(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?W0(3):W0(2)),Ov(this);var n=this.g.da();this.ca=n;t:if(M7(this)){var r=vk(this.g);t="";var s=r.length,i=Ji(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ac(this),Jf(this);var o="";break t}this.h.i=new Ge.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,cQ(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F0(a)){var c=a;break t}}c=null}if(n=c)Ju(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Y3(this,n);else{this.i=!1,this.s=3,Fr(12),ac(this),Jf(this);break e}}this.S?(O7(this,u,o),V3&&this.i&&u==3&&(I7(this.U,this.V,"tick",this.mb),this.V.start())):(Ju(this.j,this.m,o,null),Y3(this,o)),u==4&&ac(this),this.i&&!this.J&&(u==4?iD(this.l,this):(this.i=!1,zp(this)))}else DQ(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Fr(12)):(this.s=0,Fr(13)),ac(this),Jf(this)}}}catch{}finally{}};function M7(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function O7(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=fQ(t,n),s==G3){e==4&&(t.s=4,Fr(14),r=!1),Ju(t.j,t.m,null,"[Incomplete Response]");break}else if(s==D7){t.s=4,Fr(15),Ju(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ju(t.j,t.m,s,null),Y3(t,s);M7(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Fr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qb(e),e.M=!0,Fr(11))):(Ju(t.j,t.m,n,"[Invalid Chunked Response]"),ac(t),Jf(t))}he.mb=function(){if(this.g){var t=Ji(this.g),e=this.g.ja();this.o<e.length&&(Ov(this),O7(this,t,e),this.i&&t!=4&&zp(this))}};function fQ(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?G3:(n=Number(e.substring(n,r)),isNaN(n)?D7:(r+=1,r+n>e.length?G3:(e=e.slice(r,r+n),t.o=r+n,e)))}he.cancel=function(){this.J=!0,ac(this)};function zp(t){t.Y=Date.now()+t.P,j7(t,t.P)}function j7(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Fp(Sr(t.lb,t),e)}function Ov(t){t.C&&(Ge.clearTimeout(t.C),t.C=null)}he.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(uQ(this.j,this.B),this.L!=2&&(W0(),Fr(17)),ac(this),this.s=2,Jf(this)):j7(this,this.Y-t)};function Jf(t){t.l.H==0||t.J||iD(t.l,t)}function ac(t){Ov(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Vb(t.V),T7(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Y3(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||K3(n.i,t))){if(!t.K&&K3(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Jg(n),Uv(n);else break e;Kb(n),Fr(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Fp(Sr(n.ib,n),6e3));if(1>=H7(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else lc(n,11)}else if((t.K||n.g==t)&&Jg(n),!F0(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=r.i;i.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Hb(i,i.h),i.h=null))}if(r.F){const v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Jt(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=lD(r,r.J?r.pa:null,r.Y),o.K){G7(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Ov(a),zp(a)),r.g=o}else rD(r);0<n.j.length&&zv(n)}else c[0]!="stop"&&c[0]!="close"||lc(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?lc(n,7):Yb(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}W0(4)}catch{}}function pQ(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Sv(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function mQ(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Sv(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function $7(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Sv(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=mQ(t),r=pQ(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var F7=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gQ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function yc(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof yc){this.h=t.h,Qg(this,t.j),this.s=t.s,this.g=t.g,Xg(this,t.m),this.l=t.l;var e=t.i,n=new H0;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),pk(this,n),this.o=t.o}else t&&(e=String(t).match(F7))?(this.h=!1,Qg(this,e[1]||"",!0),this.s=Af(e[2]||""),this.g=Af(e[3]||"",!0),Xg(this,e[4]),this.l=Af(e[5]||"",!0),pk(this,e[6]||"",!0),this.o=Af(e[7]||"")):(this.h=!1,this.i=new H0(null,this.h))}yc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Pf(e,mk,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Pf(e,mk,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Pf(n,n.charAt(0)=="/"?_Q:yQ,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Pf(n,xQ)),t.join("")};function sa(t){return new yc(t)}function Qg(t,e,n){t.j=n?Af(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Xg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function pk(t,e,n){e instanceof H0?(t.i=e,EQ(t.i,t.h)):(n||(e=Pf(e,wQ)),t.i=new H0(e,t.h))}function Jt(t,e,n){t.i.set(e,n)}function jv(t){return Jt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Af(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Pf(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,vQ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function vQ(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var mk=/[#\/\?@]/g,yQ=/[#\?:]/g,_Q=/[#\?]/g,wQ=/[#\?@]/g,xQ=/#/g;function H0(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ll(t){t.g||(t.g=new Map,t.h=0,t.i&&gQ(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}he=H0.prototype;he.add=function(t,e){Ll(this),this.i=null,t=yh(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function V7(t,e){Ll(t),e=yh(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function U7(t,e){return Ll(t),e=yh(t,e),t.g.has(e)}he.forEach=function(t,e){Ll(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};he.ta=function(){Ll(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};he.Z=function(t){Ll(this);let e=[];if(typeof t=="string")U7(this,t)&&(e=e.concat(this.g.get(yh(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};he.set=function(t,e){return Ll(this),this.i=null,t=yh(this,t),U7(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};he.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function z7(t,e,n){V7(t,e),0<n.length&&(t.i=null,t.g.set(yh(t,e),Pb(n)),t.h+=n.length)}he.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function yh(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function EQ(t,e){e&&!t.j&&(Ll(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(V7(this,r),z7(this,s,n))},t)),t.j=e}var CQ=class{constructor(t,e){this.g=t,this.map=e}};function B7(t){this.l=t||bQ,Ge.PerformanceNavigationTiming?(t=Ge.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ge.g&&Ge.g.Ka&&Ge.g.Ka()&&Ge.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bQ=10;function W7(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function H7(t){return t.h?1:t.g?t.g.size:0}function K3(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Hb(t,e){t.g?t.g.add(e):t.h=e}function G7(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}B7.prototype.cancel=function(){if(this.i=q7(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function q7(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Pb(t.i)}var IQ=class{stringify(t){return Ge.JSON.stringify(t,void 0)}parse(t){return Ge.JSON.parse(t,void 0)}};function TQ(){this.g=new IQ}function SQ(t,e,n){const r=n||"";try{$7(t,function(s,i){let o=s;jp(s)&&(o=$b(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function kQ(t,e){const n=new Nv;if(Ge.Image){const r=new Image;r.onload=qm(Km,n,r,"TestLoadImage: loaded",!0,e),r.onerror=qm(Km,n,r,"TestLoadImage: error",!1,e),r.onabort=qm(Km,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=qm(Km,n,r,"TestLoadImage: timeout",!1,e),Ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Km(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function $v(t){this.l=t.ec||null,this.j=t.ob||!1}rr($v,zb);$v.prototype.g=function(){return new Fv(this.l,this.j)};$v.prototype.i=function(t){return function(){return t}}({});function Fv(t,e){nr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Gb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rr(Fv,nr);var Gb=0;he=Fv.prototype;he.open=function(t,e){if(this.readyState!=Gb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,G0(this)};he.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};he.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bp(this)),this.readyState=Gb};he.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,G0(this)),this.g&&(this.readyState=3,G0(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Y7(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Y7(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}he.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Bp(this):G0(this),this.readyState==3&&Y7(this)}};he.Za=function(t){this.g&&(this.response=this.responseText=t,Bp(this))};he.Ya=function(t){this.g&&(this.response=t,Bp(this))};he.ka=function(){this.g&&Bp(this)};function Bp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,G0(t)}he.setRequestHeader=function(t,e){this.v.append(t,e)};he.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};he.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function G0(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Fv.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var RQ=Ge.JSON.parse;function En(t){nr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=K7,this.L=this.M=!1}rr(En,nr);var K7="",AQ=/^https?$/i,PQ=["POST","PUT"];he=En.prototype;he.Oa=function(t){this.M=t};he.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():H3.g(),this.C=this.u?fk(this.u):fk(H3),this.g.onreadystatechange=Sr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){gk(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=Ge.FormData&&t instanceof Ge.FormData,!(0<=d7(PQ,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{J7(this),0<this.B&&((this.L=NQ(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sr(this.ua,this)):this.A=Ub(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){gk(this,i)}};function NQ(t){return jd&&typeof t.timeout=="number"&&t.ontimeout!==void 0}he.ua=function(){typeof Ab<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pr(this,"timeout"),this.abort(8))};function gk(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Q7(t),Vv(t)}function Q7(t){t.F||(t.F=!0,pr(t,"complete"),pr(t,"error"))}he.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,pr(this,"complete"),pr(this,"abort"),Vv(this))};he.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vv(this,!0)),En.$.N.call(this)};he.La=function(){this.s||(this.G||this.v||this.l?X7(this):this.kb())};he.kb=function(){X7(this)};function X7(t){if(t.h&&typeof Ab<"u"&&(!t.C[1]||Ji(t)!=4||t.da()!=2)){if(t.v&&Ji(t)==4)Ub(t.La,0,t);else if(pr(t,"readystatechange"),Ji(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(F7)[1]||null;!s&&Ge.self&&Ge.self.location&&(s=Ge.self.location.protocol.slice(0,-1)),r=!AQ.test(s?s.toLowerCase():"")}n=r}if(n)pr(t,"complete"),pr(t,"success");else{t.m=6;try{var i=2<Ji(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",Q7(t)}}finally{Vv(t)}}}}function Vv(t,e){if(t.g){J7(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||pr(t,"ready");try{n.onreadystatechange=r}catch{}}}function J7(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ge.clearTimeout(t.A),t.A=null)}he.isActive=function(){return!!this.g};function Ji(t){return t.g?t.g.readyState:0}he.da=function(){try{return 2<Ji(this)?this.g.status:-1}catch{return-1}};he.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};he.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),RQ(e)}};function vk(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case K7:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function DQ(t){const e={};t=(t.g&&2<=Ji(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(F0(t[r]))continue;var n=sQ(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}XK(e,function(r){return r.join(", ")})}he.Ia=function(){return this.m};he.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Z7(t){let e="";return Db(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function qb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Z7(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Jt(t,e,n))}function ef(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function eD(t){this.Ga=0,this.j=[],this.l=new Nv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ef("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ef("baseRetryDelayMs",5e3,t),this.hb=ef("retryDelaySeedMs",1e4,t),this.eb=ef("forwardChannelMaxRetries",2,t),this.xa=ef("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new B7(t&&t.concurrentRequestLimit),this.Ja=new TQ,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}he=eD.prototype;he.ra=8;he.H=1;function Yb(t){if(tD(t),t.H==3){var e=t.W++,n=sa(t.I);if(Jt(n,"SID",t.K),Jt(n,"RID",e),Jt(n,"TYPE","terminate"),Wp(t,n),e=new Up(t,t.l,e),e.L=2,e.A=jv(sa(n)),n=!1,Ge.navigator&&Ge.navigator.sendBeacon)try{n=Ge.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Ge.Image&&(new Image().src=e.A,n=!0),n||(e.g=cD(e.l,null),e.g.ha(e.A)),e.G=Date.now(),zp(e)}aD(t)}function Uv(t){t.g&&(Qb(t),t.g.cancel(),t.g=null)}function tD(t){Uv(t),t.u&&(Ge.clearTimeout(t.u),t.u=null),Jg(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ge.clearTimeout(t.m),t.m=null)}function zv(t){if(!W7(t.i)&&!t.m){t.m=!0;var e=t.Na;U0||C7(),z0||(U0(),z0=!0),Fb.add(e,t),t.C=0}}function LQ(t,e){return H7(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Fp(Sr(t.Na,t,e),oD(t,t.C)),t.C++,!0)}he.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Up(this,this.l,t);let i=this.s;if(this.U&&(i?(i=m7(i),g7(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=nD(this,s,e),n=sa(this.I),Jt(n,"RID",t),Jt(n,"CVER",22),this.F&&Jt(n,"X-HTTP-Session-Id",this.F),Wp(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(Z7(i)))+"&"+e:this.o&&qb(n,this.o,i)),Hb(this.i,s),this.bb&&Jt(n,"TYPE","init"),this.P?(Jt(n,"$req",e),Jt(n,"SID","null"),s.aa=!0,q3(s,n,null)):q3(s,n,e),this.H=2}}else this.H==3&&(t?yk(this,t):this.j.length==0||W7(this.i)||yk(this))};function yk(t,e){var n;e?n=e.m:n=t.W++;const r=sa(t.I);Jt(r,"SID",t.K),Jt(r,"RID",n),Jt(r,"AID",t.V),Wp(t,r),t.o&&t.s&&qb(r,t.o,t.s),n=new Up(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=nD(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Hb(t.i,n),q3(n,r,e)}function Wp(t,e){t.na&&Db(t.na,function(n,r){Jt(e,r,n)}),t.h&&$7({},function(n,r){Jt(e,r,n)})}function nD(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Sr(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{SQ(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function rD(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;U0||C7(),z0||(U0(),z0=!0),Fb.add(e,t),t.A=0}}function Kb(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Fp(Sr(t.Ma,t),oD(t,t.A)),t.A++,!0)}he.Ma=function(){if(this.u=null,sD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Fp(Sr(this.jb,this),t)}};he.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Fr(10),Uv(this),sD(this))};function Qb(t){t.B!=null&&(Ge.clearTimeout(t.B),t.B=null)}function sD(t){t.g=new Up(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=sa(t.wa);Jt(e,"RID","rpc"),Jt(e,"SID",t.K),Jt(e,"AID",t.V),Jt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Jt(e,"TO",t.qa),Jt(e,"TYPE","xmlhttp"),Wp(t,e),t.o&&t.s&&qb(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=jv(sa(e)),n.u=null,n.S=!0,L7(n,t)}he.ib=function(){this.v!=null&&(this.v=null,Uv(this),Kb(this),Fr(19))};function Jg(t){t.v!=null&&(Ge.clearTimeout(t.v),t.v=null)}function iD(t,e){var n=null;if(t.g==e){Jg(t),Qb(t),t.g=null;var r=2}else if(K3(t.i,e))n=e.F,G7(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=Dv(),pr(r,new R7(r,n)),zv(t)}else rD(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&LQ(t,e)||r==2&&Kb(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:lc(t,5);break;case 4:lc(t,10);break;case 3:lc(t,6);break;default:lc(t,2)}}}function oD(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function lc(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Sr(t.pb,t);n||(n=new yc("//www.google.com/images/cleardot.gif"),Ge.location&&Ge.location.protocol=="http"||Qg(n,"https"),jv(n)),kQ(n.toString(),r)}else Fr(2);t.H=0,t.h&&t.h.za(e),aD(t),tD(t)}he.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Fr(2)):(this.l.info("Failed to ping google.com"),Fr(1))};function aD(t){if(t.H=0,t.ma=[],t.h){const e=q7(t.i);(e.length!=0||t.j.length!=0)&&(lk(t.ma,e),lk(t.ma,t.j),t.i.i.length=0,Pb(t.j),t.j.length=0),t.h.ya()}}function lD(t,e,n){var r=n instanceof yc?sa(n):new yc(n);if(r.g!="")e&&(r.g=e+"."+r.g),Xg(r,r.m);else{var s=Ge.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new yc(null);r&&Qg(i,r),e&&(i.g=e),s&&Xg(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&Jt(r,n,e),Jt(r,"VER",t.ra),Wp(t,r),r}function cD(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new En(new $v({ob:n})):new En(t.va),e.Oa(t.J),e}he.isActive=function(){return!!this.h&&this.h.isActive(this)};function uD(){}he=uD.prototype;he.Ba=function(){};he.Aa=function(){};he.za=function(){};he.ya=function(){};he.isActive=function(){return!0};he.Va=function(){};function Zg(){if(jd&&!(10<=Number(qK)))throw Error("Environmental error: no available transport.")}Zg.prototype.g=function(t,e){return new As(t,e)};function As(t,e){nr.call(this),this.g=new eD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!F0(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!F0(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new _h(this)}rr(As,nr);As.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Fr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=lD(t,null,t.Y),zv(t)};As.prototype.close=function(){Yb(this.g)};As.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=$b(t),t=n);e.j.push(new CQ(e.fb++,t)),e.H==3&&zv(e)};As.prototype.N=function(){this.g.h=null,delete this.j,Yb(this.g),delete this.g,As.$.N.call(this)};function dD(t){Bb.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}rr(dD,Bb);function hD(){Wb.call(this),this.status=1}rr(hD,Wb);function _h(t){this.g=t}rr(_h,uD);_h.prototype.Ba=function(){pr(this.g,"a")};_h.prototype.Aa=function(t){pr(this.g,new dD(t))};_h.prototype.za=function(t){pr(this.g,new hD)};_h.prototype.ya=function(){pr(this.g,"b")};function MQ(){this.blockSize=-1}function Ni(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}rr(Ni,MQ);Ni.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function $w(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}Ni.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)$w(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){$w(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){$w(this,r),s=0;break}}this.h=s,this.i+=e};Ni.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ft(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var OQ={};function Xb(t){return-128<=t&&128>t?WK(t,function(e){return new Ft([e|0],0>e?-1:0)}):new Ft([t|0],0>t?-1:0)}function Zi(t){if(isNaN(t)||!isFinite(t))return hd;if(0>t)return cr(Zi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Q3;return new Ft(e,0)}function fD(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return cr(fD(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Zi(Math.pow(e,8)),r=hd,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Zi(Math.pow(e,i)),r=r.R(i).add(Zi(o))):(r=r.R(n),r=r.add(Zi(o)))}return r}var Q3=4294967296,hd=Xb(0),X3=Xb(1),_k=Xb(16777216);he=Ft.prototype;he.ea=function(){if(qs(this))return-cr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Q3+r)*e,e*=Q3}return t};he.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Uo(this))return"0";if(qs(this))return"-"+cr(this).toString(t);for(var e=Zi(Math.pow(t,6)),n=this,r="";;){var s=t1(n,e).g;n=e1(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Uo(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};he.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Uo(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function qs(t){return t.h==-1}he.X=function(t){return t=e1(this,t),qs(t)?-1:Uo(t)?0:1};function cr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ft(n,~t.h).add(X3)}he.abs=function(){return qs(this)?cr(this):this};he.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Ft(n,n[n.length-1]&-2147483648?-1:0)};function e1(t,e){return t.add(cr(e))}he.R=function(t){if(Uo(this)||Uo(t))return hd;if(qs(this))return qs(t)?cr(this).R(cr(t)):cr(cr(this).R(t));if(qs(t))return cr(this.R(cr(t)));if(0>this.X(_k)&&0>t.X(_k))return Zi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,Qm(n,2*r+2*s),n[2*r+2*s+1]+=i*l,Qm(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Qm(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Qm(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ft(n,0)};function Qm(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function tf(t,e){this.g=t,this.h=e}function t1(t,e){if(Uo(e))throw Error("division by zero");if(Uo(t))return new tf(hd,hd);if(qs(t))return e=t1(cr(t),e),new tf(cr(e.g),cr(e.h));if(qs(e))return e=t1(t,cr(e)),new tf(cr(e.g),e.h);if(30<t.g.length){if(qs(t)||qs(e))throw Error("slowDivide_ only works with positive integers.");for(var n=X3,r=e;0>=r.X(t);)n=wk(n),r=wk(r);var s=wu(n,1),i=wu(r,1);for(r=wu(r,2),n=wu(n,2);!Uo(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=wu(r,1),n=wu(n,1)}return e=e1(t,s.R(e)),new tf(s,e)}for(s=hd;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Zi(n),o=i.R(e);qs(o)||0<o.X(t);)n-=r,i=Zi(n),o=i.R(e);Uo(i)&&(i=X3),s=s.add(i),t=e1(t,o)}return new tf(s,t)}he.gb=function(t){return t1(this,t).h};he.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ft(n,this.h&t.h)};he.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ft(n,this.h|t.h)};he.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ft(n,this.h^t.h)};function wk(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ft(n,t.h)}function wu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Ft(s,t.h)}Zg.prototype.createWebChannel=Zg.prototype.g;As.prototype.send=As.prototype.u;As.prototype.open=As.prototype.m;As.prototype.close=As.prototype.close;Lv.NO_ERROR=0;Lv.TIMEOUT=8;Lv.HTTP_ERROR=6;A7.COMPLETE="complete";P7.EventType=Vp;Vp.OPEN="a";Vp.CLOSE="b";Vp.ERROR="c";Vp.MESSAGE="d";nr.prototype.listen=nr.prototype.O;En.prototype.listenOnce=En.prototype.P;En.prototype.getLastError=En.prototype.Sa;En.prototype.getLastErrorCode=En.prototype.Ia;En.prototype.getStatus=En.prototype.da;En.prototype.getResponseJson=En.prototype.Wa;En.prototype.getResponseText=En.prototype.ja;En.prototype.send=En.prototype.ha;En.prototype.setWithCredentials=En.prototype.Oa;Ni.prototype.digest=Ni.prototype.l;Ni.prototype.reset=Ni.prototype.reset;Ni.prototype.update=Ni.prototype.j;Ft.prototype.add=Ft.prototype.add;Ft.prototype.multiply=Ft.prototype.R;Ft.prototype.modulo=Ft.prototype.gb;Ft.prototype.compare=Ft.prototype.X;Ft.prototype.toNumber=Ft.prototype.ea;Ft.prototype.toString=Ft.prototype.toString;Ft.prototype.getBits=Ft.prototype.D;Ft.fromNumber=Zi;Ft.fromString=fD;var jQ=function(){return new Zg},$Q=function(){return Dv()},Fw=Lv,FQ=A7,VQ=iu,xk={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xm=P7,UQ=En,zQ=Ni,fd=Ft;const Ek="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Pp("@firebase/firestore");function Lu(){return Mc.logLevel}function K(t,...e){if(Mc.logLevel<=st.DEBUG){const n=e.map(Jb);Mc.debug(`Firestore (${wh}): ${t}`,...n)}}function jr(t,...e){if(Mc.logLevel<=st.ERROR){const n=e.map(Jb);Mc.error(`Firestore (${wh}): ${t}`,...n)}}function Oc(t,...e){if(Mc.logLevel<=st.WARN){const n=e.map(Jb);Mc.warn(`Firestore (${wh}): ${t}`,...n)}}function Jb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${wh}) INTERNAL ASSERTION FAILED: `+t;throw jr(e),new Error(e)}function Ne(t,e){t||Se()}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends js{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BQ{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Or.UNAUTHENTICATED))}shutdown(){}}class HQ{constructor(e){this.t=e,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Js;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Js,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Js)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string"),new BQ(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string"),new Or(e)}}class GQ{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Or.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class qQ{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new GQ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YQ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KQ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string"),this.R=n.token,new YQ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=QQ(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function $d(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function mD(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pn.fromMillis(Date.now())}static fromDate(e){return pn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new pn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new pn(0,0))}static max(){return new Me(new pn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return q0.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof q0?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Nt extends q0{construct(e,n,r){return new Nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Nt(n)}static emptyPath(){return new Nt([])}}const XQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends q0{construct(e,n,r){return new hn(e,n,r)}static isValidIdentifier(e){return XQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new hn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new re(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new re(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new re(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new re(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(Nt.fromString(e))}static fromName(e){return new de(Nt.fromString(e).popFirst(5))}static empty(){return new de(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new Nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function J3(t){return t.fields.find(e=>e.kind===2)}function Yl(t){return t.fields.filter(e=>e.kind!==2)}n1.UNKNOWN_ID=-1;class V2{constructor(e,n){this.fieldPath=e,this.kind=n}}class Y0{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Y0(0,Ps.min())}}function JQ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Me.fromTimestamp(r===1e9?new pn(n+1,0):new pn(n,r));return new Ps(s,de.empty(),e)}function gD(t){return new Ps(t.readTime,t.key,-1)}class Ps{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ps(Me.min(),de.empty(),-1)}static max(){return new Ps(Me.max(),de.empty(),-1)}}function Zb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==vD)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(s=>s?W.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new W((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new W((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Js,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Zf(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=e5(r.target.error);this.V.reject(new Zf(e,s))}}static open(e,n,r,s){try{return new Bv(n,e.transaction(s,r))}catch(i){throw new Zf(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(K("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new eX(n)}}class eo{constructor(e,n,r){this.name=e,this.version=n,this.p=r,eo.S(kt())===12.2&&jr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return K("SimpleDb","Removing database:",e),Jl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!x8())return!1;if(eo.C())return!0;const e=kt(),n=eo.S(e),r=0<n&&n<10,s=eo.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(K("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Zf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new re(H.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new re(H.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Zf(e,o))},s.onupgradeneeded=i=>{K("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{K("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=Bv.open(this.db,e,i?"readonly":"readwrite",r),l=s(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),W.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(K("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class ZQ{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Jl(this.k.delete())}}class Zf extends re{constructor(e,n){super(H.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ml(t){return t.name==="IndexedDbTransactionError"}class eX{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(K("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(K("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Jl(r)}add(e){return K("SimpleDb","ADD",this.store.name,e,e),Jl(this.store.add(e))}get(e){return Jl(this.store.get(e)).next(n=>(n===void 0&&(n=null),K("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return K("SimpleDb","DELETE",this.store.name,e),Jl(this.store.delete(e))}count(){return K("SimpleDb","COUNT",this.store.name),Jl(this.store.count())}W(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new W((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new W((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(e,n){K("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new W((r,s)=>{n.onerror=i=>{const o=e5(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new W((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new ZQ(a),c=n(a.primaryKey,a.value,l);if(c instanceof W){const u=c.catch(h=>(l.done(),W.reject(h)));r.push(u)}l.isDone?s():l.$===null?a.continue():a.continue(l.$)}}).next(()=>W.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Jl(t){return new W((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=e5(r.target.error);n(s)}})}let Ck=!1;function e5(t){const e=eo.S(kt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ck||(Ck=!0,setTimeout(()=>{throw r},0)),r}}return t}class tX{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){K("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{K("IndexBackfiller",`Documents written: ${await this.X.te()}`)}catch(n){Ml(n)?K("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await ou(n)}await this.ee(6e4)})}}class nX{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let s=n,i=!0;return W.doWhile(()=>i===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return K("IndexBackfiller",`Processing collection: ${o}`),this.re(e,o,s).next(a=>{s-=a,r.add(o)});i=!1})).next(()=>n-s)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next(i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(s,i)).next(a=>(K("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((s,i)=>{const o=gD(i);Zb(o,r)>0&&(r=o)}),new Ps(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Ks._e=-1;function Wv(t){return t==null}function K0(t){return t===0&&1/t==-1/0}function rX(t){return typeof t=="number"&&Number.isInteger(t)&&!K0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=bk(e)),e=sX(t.get(n),e);return bk(e)}function sX(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function bk(t){return t+""}function to(t){const e=t.length;if(Ne(e>=2),e===2)return Ne(t.charAt(0)===""&&t.charAt(1)===""),Nt.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf("",i);switch((o<0||o>n)&&Se(),t.charAt(o+1)){case"":const a=t.substring(i,o);let l;s.length===0?l=a:(s+=a,l=s,s=""),r.push(l);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:Se()}i=o+2}return new Nt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t,e){return[t,zr(e)]}function _D(t,e,n){return[t,zr(e),n]}const iX={},oX=["prefixPath","collectionGroup","readTime","documentId"],aX=["prefixPath","collectionGroup","documentId"],lX=["collectionGroup","readTime","prefixPath","documentId"],cX=["canonicalId","targetId"],uX=["targetId","path"],dX=["path","targetId"],hX=["collectionId","parent"],fX=["indexId","uid"],pX=["uid","sequenceNumber"],mX=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gX=["indexId","uid","orderedDocumentKey"],vX=["userId","collectionPath","documentId"],yX=["userId","collectionPath","largestBatchId"],_X=["userId","collectionGroup","largestBatchId"],wD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wX=[...wD,"documentOverlays"],xD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ED=xD,xX=[...ED,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3 extends yD{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function sr(t,e){const n=We(t);return eo.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function au(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rn=class eE{constructor(e,n){this.comparator=e,this.root=n||ll.EMPTY}insert(e,n){return new eE(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ll.BLACK,null,null))}remove(e){return new eE(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ll.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jm(this.root,e,this.comparator,!0)}},Jm=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ll=class Ro{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ro.RED,this.left=s??Ro.EMPTY,this.right=i??Ro.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ro(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ro.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ro.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ro.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ro.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}};ll.EMPTY=null,ll.RED=!0,ll.BLACK=!1;ll.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,r,s,i){return this}insert(e,n,r){return new ll(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new Rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sk(this.data.getIterator())}getIteratorFrom(e){return new Sk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class Sk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function xu(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new ns([])}unionWith(e){let n=new Bt(hn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ns(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $d(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new bD("Invalid base64 string: "+i):i}}(e);return new gr(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new gr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gr.EMPTY_BYTE_STRING=new gr("");const EX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pl(t){if(Ne(!!t),typeof t=="string"){let e=0;const n=EX.exec(t);if(Ne(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_n(t.seconds),nanos:_n(t.nanos)}}function _n(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ml(t){return typeof t=="string"?gr.fromBase64String(t):gr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function t5(t){const e=t.mapValue.fields.__previous_value__;return Hv(e)?t5(e):e}function Q0(t){const e=pl(t.mapValue.fields.__local_write_time__.timestampValue);return new pn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CX{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class jc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new jc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof jc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},z2={nullValue:"NULL_VALUE"};function $c(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hv(t)?4:ID(t)?9007199254740991:10:Se()}function fo(t,e){if(t===e)return!0;const n=$c(t);if(n!==$c(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Q0(t).isEqual(Q0(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=pl(s.timestampValue),a=pl(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ml(s.bytesValue).isEqual(ml(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return _n(s.geoPointValue.latitude)===_n(i.geoPointValue.latitude)&&_n(s.geoPointValue.longitude)===_n(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return _n(s.integerValue)===_n(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=_n(s.doubleValue),a=_n(i.doubleValue);return o===a?K0(o)===K0(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return $d(t.arrayValue.values||[],e.arrayValue.values||[],fo);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Tk(o)!==Tk(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!fo(o[l],a[l])))return!1;return!0}(t,e);default:return Se()}}function X0(t,e){return(t.values||[]).find(n=>fo(n,e))!==void 0}function gl(t,e){if(t===e)return 0;const n=$c(t),r=$c(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=_n(i.integerValue||i.doubleValue),l=_n(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return kk(t.timestampValue,e.timestampValue);case 4:return kk(Q0(t),Q0(e));case 5:return Qe(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ml(i),l=ml(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Qe(a[c],l[c]);if(u!==0)return u}return Qe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Qe(_n(i.latitude),_n(o.latitude));return a!==0?a:Qe(_n(i.longitude),_n(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=gl(a[c],l[c]);if(u)return u}return Qe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Ha.mapValue&&o===Ha.mapValue)return 0;if(i===Ha.mapValue)return 1;if(o===Ha.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=Qe(l[h],u[h]);if(f!==0)return f;const p=gl(a[l[h]],c[u[h]]);if(p!==0)return p}return Qe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Se()}}function kk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=pl(t),r=pl(e),s=Qe(n.seconds,r.seconds);return s!==0?s:Qe(n.nanos,r.nanos)}function Fd(t){return tE(t)}function tE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=pl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ml(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=tE(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${tE(n.fields[o])}`;return s+"}"}(t.mapValue):Se()}function Fc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function nE(t){return!!t&&"integerValue"in t}function J0(t){return!!t&&"arrayValue"in t}function Rk(t){return!!t&&"nullValue"in t}function Ak(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function B2(t){return!!t&&"mapValue"in t}function e0(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return au(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=e0(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=e0(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ID(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function bX(t){return"nullValue"in t?z2:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Fc(jc.empty(),de.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Se()}function IX(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Fc(jc.empty(),de.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Ha:Se()}function Pk(t,e){const n=gl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Nk(t,e){const n=gl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.value=e}static empty(){return new Cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!B2(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=e0(n)}setAll(e){let n=hn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=e0(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());B2(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];B2(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){au(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Cr(e0(this.value))}}function TD(t){const e=[];return au(t.fields,(n,r)=>{const s=new hn([n]);if(B2(r)){const i=TD(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new ns(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wn(e,0,Me.min(),Me.min(),Me.min(),Cr.empty(),0)}static newFoundDocument(e,n,r,s){return new wn(e,1,n,Me.min(),r,s,0)}static newNoDocument(e,n){return new wn(e,2,n,Me.min(),Me.min(),Cr.empty(),0)}static newUnknownDocument(e,n){return new wn(e,3,n,Me.min(),Me.min(),Cr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this.position=e,this.inclusive=n}}function Dk(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=gl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n="asc"){this.field=e,this.dir=n}}function TX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{}class gt extends SD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new SX(e,n,r):n==="array-contains"?new AX(e,r):n==="in"?new DD(e,r):n==="not-in"?new PX(e,r):n==="array-contains-any"?new NX(e,r):new gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new kX(e,r):new RX(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(gl(n,this.value)):n!==null&&$c(this.value)===$c(n)&&this.matchesComparison(gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jt extends SD{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new jt(e,n)}matches(e){return Vd(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Vd(t){return t.op==="and"}function rE(t){return t.op==="or"}function n5(t){return kD(t)&&Vd(t)}function kD(t){for(const e of t.filters)if(e instanceof jt)return!1;return!0}function sE(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+Fd(t.value);if(n5(t))return t.filters.map(e=>sE(e)).join(",");{const e=t.filters.map(n=>sE(n)).join(",");return`${t.op}(${e})`}}function RD(t,e){return t instanceof gt?function(r,s){return s instanceof gt&&r.op===s.op&&r.field.isEqual(s.field)&&fo(r.value,s.value)}(t,e):t instanceof jt?function(r,s){return s instanceof jt&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&RD(o,s.filters[a]),!0):!1}(t,e):void Se()}function AD(t,e){const n=t.filters.concat(e);return jt.create(n,t.op)}function PD(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${Fd(n.value)}`}(t):t instanceof jt?function(n){return n.op.toString()+" {"+n.getFilters().map(PD).join(" ,")+"}"}(t):"Filter"}class SX extends gt{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class kX extends gt{constructor(e,n){super(e,"in",n),this.keys=ND("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class RX extends gt{constructor(e,n){super(e,"not-in",n),this.keys=ND("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ND(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class AX extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return J0(n)&&X0(n.arrayValue,this.value)}}class DD extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&X0(this.value.arrayValue,n)}}class PX extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(X0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!X0(this.value.arrayValue,n)}}class NX extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!J0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>X0(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DX{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function iE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new DX(t,e,n,r,s,i,o)}function Vc(t){const e=We(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Wv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fd(r)).join(",")),e.ce=n}return e.ce}function Hp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lk(t.startAt,e.startAt)&&Lk(t.endAt,e.endAt)}function r1(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function s1(t,e){return t.filters.filter(n=>n instanceof gt&&n.field.isEqual(e))}function Mk(t,e,n){let r=z2,s=!0;for(const i of s1(t,e)){let o=z2,a=!0;switch(i.op){case"<":case"<=":o=bX(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,a=!1;break;case"!=":case"not-in":o=z2}Pk({value:r,inclusive:s},{value:o,inclusive:a})<0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];Pk({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function Ok(t,e,n){let r=Ha,s=!0;for(const i of s1(t,e)){let o=Ha,a=!0;switch(i.op){case">=":case">":o=IX(i.value),a=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,a=!1;break;case"!=":case"not-in":o=Ha}Nk({value:r,inclusive:s},{value:o,inclusive:a})>0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];Nk({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function LX(t,e,n,r,s,i,o,a){return new lu(t,e,n,r,s,i,o,a)}function Gp(t){return new lu(t)}function jk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function r5(t){return t.collectionGroup!==null}function pd(t){const e=We(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Bt(hn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new Z0(i,r))}),n.has(hn.keyField().canonicalString())||e.le.push(new Z0(hn.keyField(),r))}return e.le}function Zs(t){const e=We(t);return e.he||(e.he=LD(e,pd(t))),e.he}function LD(t,e){if(t.limitType==="F")return iE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Z0(s.field,i)});const n=t.endAt?new vl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vl(t.startAt.position,t.startAt.inclusive):null;return iE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function oE(t,e){const n=t.filters.concat([e]);return new lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function i1(t,e,n){return new lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gv(t,e){return Hp(Zs(t),Zs(e))&&t.limitType===e.limitType}function MD(t){return`${Vc(Zs(t))}|lt:${t.limitType}`}function Mu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>PD(s)).join(", ")}]`),Wv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Fd(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Fd(s)).join(",")),`Target(${r})`}(Zs(t))}; limitType=${t.limitType})`}function qp(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):de.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of pd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=Dk(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,pd(r),s)||r.endAt&&!function(o,a,l){const c=Dk(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,pd(r),s))}(t,e)}function MX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OD(t){return(e,n)=>{let r=!1;for(const s of pd(t)){const i=OX(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function OX(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?gl(l,c):Se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){au(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return CD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jX=new Rn(de.comparator);function bs(){return jX}const jD=new Rn(de.comparator);function Nf(...t){let e=jD;for(const n of t)e=e.insert(n.key,n);return e}function $D(t){let e=jD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function no(){return t0()}function FD(){return t0()}function t0(){return new Ol(t=>t.toString(),(t,e)=>t.isEqual(e))}const $X=new Rn(de.comparator),FX=new Bt(de.comparator);function at(...t){let e=FX;for(const n of t)e=e.add(n);return e}const VX=new Bt(Qe);function UX(){return VX}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:K0(e)?"-0":e}}function UD(t){return{integerValue:""+t}}function zX(t,e){return rX(e)?UD(e):VD(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(){this._=void 0}}function BX(t,e,n){return t instanceof Ud?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Hv(i)&&(i=t5(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Uc?BD(t,e):t instanceof zd?WD(t,e):function(s,i){const o=zD(s,i),a=$k(o)+$k(s.Ie);return nE(o)&&nE(s.Ie)?UD(a):VD(s.serializer,a)}(t,e)}function WX(t,e,n){return t instanceof Uc?BD(t,e):t instanceof zd?WD(t,e):n}function zD(t,e){return t instanceof ep?function(r){return nE(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ud extends qv{}class Uc extends qv{constructor(e){super(),this.elements=e}}function BD(t,e){const n=HD(e);for(const r of t.elements)n.some(s=>fo(s,r))||n.push(r);return{arrayValue:{values:n}}}class zd extends qv{constructor(e){super(),this.elements=e}}function WD(t,e){let n=HD(e);for(const r of t.elements)n=n.filter(s=>!fo(s,r));return{arrayValue:{values:n}}}class ep extends qv{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function $k(t){return _n(t.integerValue||t.doubleValue)}function HD(t){return J0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,n){this.field=e,this.transform=n}}function HX(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Uc&&s instanceof Uc||r instanceof zd&&s instanceof zd?$d(r.elements,s.elements,fo):r instanceof ep&&s instanceof ep?fo(r.Ie,s.Ie):r instanceof Ud&&s instanceof Ud}(t.transform,e.transform)}class GX{constructor(e,n){this.version=e,this.transformResults=n}}class Ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function W2(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yv{}function GD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kv(t.key,Ir.none()):new xh(t.key,t.data,Ir.none());{const n=t.data,r=Cr.empty();let s=new Bt(hn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new va(t.key,r,new ns(s.toArray()),Ir.none())}}function qX(t,e,n){t instanceof xh?function(s,i,o){const a=s.value.clone(),l=Vk(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof va?function(s,i,o){if(!W2(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Vk(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(qD(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function n0(t,e,n,r){return t instanceof xh?function(i,o,a,l){if(!W2(i.precondition,o))return a;const c=i.value.clone(),u=Uk(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof va?function(i,o,a,l){if(!W2(i.precondition,o))return a;const c=Uk(i.fieldTransforms,l,o),u=o.data;return u.setAll(qD(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return W2(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function YX(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=zD(r.transform,s||null);i!=null&&(n===null&&(n=Cr.empty()),n.set(r.field,i))}return n||null}function Fk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&$d(r,s,(i,o)=>HX(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xh extends Yv{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class va extends Yv{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function qD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Vk(t,e,n){const r=new Map;Ne(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,WX(o,a,n[s]))}return r}function Uk(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,BX(i,o,e))}return r}class Kv extends Yv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YD extends Yv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&qX(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=n0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=n0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FD();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=GD(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),at())}isEqual(e){return this.batchId===e.batchId&&$d(this.mutations,e.mutations,(n,r)=>Fk(n,r))&&$d(this.baseMutations,e.baseMutations,(n,r)=>Fk(n,r))}}class o5{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ne(e.mutations.length===r.length);let s=function(){return $X}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new o5(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KX{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QX{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dn,xt;function XX(t){switch(t){default:return Se();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function KD(t){if(t===void 0)return jr("GRPC error has no .code"),H.UNKNOWN;switch(t){case Dn.OK:return H.OK;case Dn.CANCELLED:return H.CANCELLED;case Dn.UNKNOWN:return H.UNKNOWN;case Dn.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Dn.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Dn.INTERNAL:return H.INTERNAL;case Dn.UNAVAILABLE:return H.UNAVAILABLE;case Dn.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Dn.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Dn.NOT_FOUND:return H.NOT_FOUND;case Dn.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Dn.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Dn.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Dn.ABORTED:return H.ABORTED;case Dn.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Dn.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Dn.DATA_LOSS:return H.DATA_LOSS;default:return Se()}}(xt=Dn||(Dn={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JX(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZX=new fd([4294967295,4294967295],0);function zk(t){const e=JX().encode(t),n=new zQ;return n.update(e),new Uint8Array(n.digest())}function Bk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new fd([n,r],0),new fd([s,i],0)]}class l5{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Df(`Invalid padding: ${n}`);if(r<0)throw new Df(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Df(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Df(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=fd.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(fd.fromNumber(r)));return s.compare(ZX)===1&&(s=new fd([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=zk(e),[r,s]=Bk(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new l5(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=zk(e),[r,s]=Bk(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Df extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Yp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qv(Me.min(),s,new Rn(Qe),bs(),at())}}class Yp{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yp(r,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class QD{constructor(e,n){this.targetId=e,this.fe=n}}class XD{constructor(e,n,r=gr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Wk{constructor(){this.ge=0,this.pe=Gk(),this.ye=gr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=at(),n=at(),r=at();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Se()}}),new Yp(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Gk()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ne(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class eJ{constructor(e){this.Be=e,this.ke=new Map,this.qe=bs(),this.Qe=Hk(),this.Ke=new Rn(Qe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(r1(i))if(r===0){const o=new de(i.path);this.We(n,o,wn.newNoDocument(o,Me.min()))}else Ne(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ml(r).toUint8Array()}catch(l){if(l instanceof bD)return Oc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new l5(o,s,i)}catch(l){return Oc(l instanceof Df?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&r1(a.target)){const l=new de(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,wn.newNoDocument(l,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=at();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new Qv(e,n,this.Ke,this.qe,r);return this.qe=bs(),this.Qe=Hk(),this.Ke=new Rn(Qe),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Wk,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Bt(Qe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Wk),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function Hk(){return new Rn(de.comparator)}function Gk(){return new Rn(de.comparator)}const tJ={asc:"ASCENDING",desc:"DESCENDING"},nJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rJ={and:"AND",or:"OR"};class sJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function aE(t,e){return t.useProto3Json||Wv(e)?e:{value:e}}function Bd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function iJ(t,e){return Bd(t,e.toTimestamp())}function Br(t){return Ne(!!t),Me.fromTimestamp(function(n){const r=pl(n);return new pn(r.seconds,r.nanos)}(t))}function c5(t,e){return lE(t,e).canonicalString()}function lE(t,e){const n=function(s){return new Nt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ZD(t){const e=Nt.fromString(t);return Ne(aL(e)),e}function o1(t,e){return c5(t.databaseId,e.path)}function _c(t,e){const n=ZD(e);if(n.get(1)!==t.databaseId.projectId)throw new re(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(nL(n))}function eL(t,e){return c5(t.databaseId,e)}function tL(t){const e=ZD(t);return e.length===4?Nt.emptyPath():nL(e)}function cE(t){return new Nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nL(t){return Ne(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function qk(t,e,n){return{name:o1(t,e),fields:n.value.mapValue.fields}}function oJ(t,e,n){const r=_c(t,e.name),s=Br(e.updateTime),i=e.createTime?Br(e.createTime):Me.min(),o=new Cr({mapValue:{fields:e.fields}}),a=wn.newFoundDocument(r,s,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function aJ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Ne(u===void 0||typeof u=="string"),gr.fromBase64String(u||"")):(Ne(u===void 0||u instanceof Uint8Array),gr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?H.UNKNOWN:KD(c.code);return new re(u,c.message||"")}(o);n=new XD(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=_c(t,r.document.name),i=Br(r.document.updateTime),o=r.document.createTime?Br(r.document.createTime):Me.min(),a=new Cr({mapValue:{fields:r.document.fields}}),l=wn.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new H2(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=_c(t,r.document),i=r.readTime?Br(r.readTime):Me.min(),o=wn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new H2([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=_c(t,r.document),i=r.removedTargetIds||[];n=new H2([],i,s,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new QX(s,i),a=r.targetId;n=new QD(a,o)}}return n}function a1(t,e){let n;if(e instanceof xh)n={update:qk(t,e.key,e.value)};else if(e instanceof Kv)n={delete:o1(t,e.key)};else if(e instanceof va)n={update:qk(t,e.key,e.data),updateMask:fJ(e.fieldMask)};else{if(!(e instanceof YD))return Se();n={verify:o1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Ud)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Uc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ep)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:iJ(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Se()}(t,e.precondition)),n}function uE(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?Ir.updateTime(Br(i.updateTime)):i.exists!==void 0?Ir.exists(i.exists):Ir.none()}(e.currentDocument):Ir.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(o,a){let l=null;if("setToServerValue"in a)Ne(a.setToServerValue==="REQUEST_TIME"),l=new Ud;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];l=new Uc(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];l=new zd(u)}else"increment"in a?l=new ep(o,a.increment):Se();const c=hn.fromServerFormat(a.fieldPath);return new s5(c,l)}(t,s)):[];if(e.update){e.update.name;const s=_c(t,e.update.name),i=new Cr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new ns(c.map(u=>hn.fromServerFormat(u)))}(e.updateMask);return new va(s,i,o,n,r)}return new xh(s,i,n,r)}if(e.delete){const s=_c(t,e.delete);return new Kv(s,n)}if(e.verify){const s=_c(t,e.verify);return new YD(s,n)}return Se()}function lJ(t,e){return t&&t.length>0?(Ne(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Br(s.updateTime):Br(i);return o.isEqual(Me.min())&&(o=Br(i)),new GX(o,s.transformResults||[])}(n,e))):[]}function rL(t,e){return{documents:[eL(t,e.path)]}}function u5(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eL(t,s);const i=function(c){if(c.length!==0)return oL(jt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:$a(f.field),direction:uJ(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=aE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:s}}function sL(t){let e=tL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ne(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=iL(h);return f instanceof jt&&n5(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(m){return new Z0(Ou(m.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Wv(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new vl(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,p=h.values||[];return new vl(p,f)}(n.endAt)),LX(e,s,o,i,a,"F",l,c)}function cJ(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ou(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ou(n.unaryFilter.field);return gt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ou(n.unaryFilter.field);return gt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ou(n.unaryFilter.field);return gt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(t):t.fieldFilter!==void 0?function(n){return gt.create(Ou(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jt.create(n.compositeFilter.filters.map(r=>iL(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(t):Se()}function uJ(t){return tJ[t]}function dJ(t){return nJ[t]}function hJ(t){return rJ[t]}function $a(t){return{fieldPath:t.canonicalString()}}function Ou(t){return hn.fromServerFormat(t.fieldPath)}function oL(t){return t instanceof gt?function(n){if(n.op==="=="){if(Ak(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NAN"}};if(Rk(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ak(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NOT_NAN"}};if(Rk(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(n.field),op:dJ(n.op),value:n.value}}}(t):t instanceof jt?function(n){const r=n.getFilters().map(s=>oL(s));return r.length===1?r[0]:{compositeFilter:{op:hJ(n.op),filters:r}}}(t):Se()}function fJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n,r,s,i=Me.min(),o=Me.min(),a=gr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new zo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.ct=e}}function pJ(t,e){let n;if(e.document)n=oJ(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=de.fromSegments(e.noDocument.path),s=Bc(e.noDocument.readTime);n=wn.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Se();{const r=de.fromSegments(e.unknownDocument.path),s=Bc(e.unknownDocument.version);n=wn.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime(function(s){const i=new pn(s[0],s[1]);return Me.fromTimestamp(i)}(e.readTime)),n}function Yk(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:l1(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,o){return{name:o1(i,o.key),fields:o.data.value.mapValue.fields,updateTime:Bd(i,o.version.toTimestamp()),createTime:Bd(i,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:zc(e.version)};else{if(!e.isUnknownDocument())return Se();r.unknownDocument={path:n.path.toArray(),version:zc(e.version)}}return r}function l1(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function zc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Bc(t){const e=new pn(t.seconds,t.nanoseconds);return Me.fromTimestamp(e)}function Zl(t,e){const n=(e.baseMutations||[]).map(i=>uE(t.ct,i));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const a=e.mutations[i+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map(i=>uE(t.ct,i)),s=pn.fromMillis(e.localWriteTimeMs);return new i5(e.batchId,s,n,r)}function Lf(t){const e=Bc(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Bc(t.lastLimboFreeSnapshotVersion):Me.min();let r;return r=function(i){return i.documents!==void 0}(t.query)?function(i){return Ne(i.documents.length===1),Zs(Gp(tL(i.documents[0])))}(t.query):function(i){return Zs(sL(i))}(t.query),new zo(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,gr.fromBase64String(t.resumeToken))}function cL(t,e){const n=zc(e.snapshotVersion),r=zc(e.lastLimboFreeSnapshotVersion);let s;s=r1(e.target)?rL(t.ct,e.target):u5(t.ct,e.target).ut;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Vc(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function uL(t){const e=sL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?i1(e,e.limit,"L"):e}function Vw(t,e){return new a5(e.largestBatchId,uE(t.ct,e.overlayMutation))}function Kk(t,e){const n=e.path.lastSegment();return[t,zr(e.path.popLast()),n]}function Qk(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:zc(r.readTime),documentKey:zr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mJ{getBundleMetadata(e,n){return Xk(e).get(n).next(r=>{if(r)return function(i){return{id:i.bundleId,createTime:Bc(i.createTime),version:i.version}}(r)})}saveBundleMetadata(e,n){return Xk(e).put(function(s){return{bundleId:s.id,createTime:zc(Br(s.createTime)),version:s.version}}(n))}getNamedQuery(e,n){return Jk(e).get(n).next(r=>{if(r)return function(i){return{name:i.name,query:uL(i.bundledQuery),readTime:Bc(i.readTime)}}(r)})}saveNamedQuery(e,n){return Jk(e).put(function(s){return{name:s.name,readTime:zc(Br(s.readTime)),bundledQuery:s.bundledQuery}}(n))}}function Xk(t){return sr(t,"bundles")}function Jk(t){return sr(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Xv(e,r)}getOverlay(e,n){return nf(e).get(Kk(this.userId,n)).next(r=>r?Vw(this.serializer,r):null)}getOverlays(e,n){const r=no();return W.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){const s=[];return r.forEach((i,o)=>{const a=new a5(n,o);s.push(this.ht(e,a))}),W.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach(o=>s.add(zr(o.getCollectionPath())));const i=[];return s.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(nf(e).H("collectionPathOverlayIndex",a))}),W.waitFor(i)}getOverlaysForCollection(e,n,r){const s=no(),i=zr(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return nf(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=Vw(this.serializer,l);s.set(c.getKey(),c)}return s})}getOverlaysForCollectionGroup(e,n,r,s){const i=no();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return nf(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const h=Vw(this.serializer,c);i.size()<s||h.largestBatchId===o?(i.set(h.getKey(),h),o=h.largestBatchId):u.done()}).next(()=>i)}ht(e,n){return nf(e).put(function(s,i,o){const[a,l,c]=Kk(i,o.mutation.key);return{userId:i,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:a1(s.ct,o.mutation)}}(this.serializer,this.userId,n))}}function nf(t){return sr(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(_n(e.integerValue));else if("doubleValue"in e){const r=_n(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),K0(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(ml(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?ID(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Se()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const s of Object.keys(r))this.Rt(s,n),this.It(r[s],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const s of r)this.It(s,n)}gt(e,n){this.Et(n,37),de.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}ec.bt=new ec;function gJ(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function Zk(t){const e=64-function(r){let s=0;for(let i=0;i<8;++i){const o=gJ(255&r[i]);if(s+=o,o!==8)break}return s}(t);return Math.ceil(e/8)}class vJ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const s=n.codePointAt(0);this.Ct(240|s>>>18),this.Ct(128|63&s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const s=n.codePointAt(0);this.Mt(240|s>>>18),this.Mt(128|63&s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s)}}this.xt()}Lt(e){const n=this.Bt(e),r=Zk(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}qt(e){const n=this.Bt(e),r=Zk(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class yJ{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class _J{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class rf{constructor(){this.Gt=new vJ,this.zt=new yJ(this.Gt),this.jt=new _J(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n,r,s){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=s}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new tc(this.indexId,this.documentKey,this.arrayValue,r)}}function Ia(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=eR(t.arrayValue,e.arrayValue),n!==0?n:(n=eR(t.directionalValue,e.directionalValue),n!==0?n:de.comparator(t.documentKey,e.documentKey)))}function eR(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.Yt=new Bt((n,r)=>hn.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(Ne(e.collectionGroup===this.collectionId),this.en)return!1;const n=J3(e);if(n!==void 0&&!this.nn(n))return!1;const r=Yl(e);let s=new Set,i=0,o=0;for(;i<r.length&&this.nn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!s.has(a.field.canonicalString())){const l=r[i];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++i}for(;i<r.length;++i){const a=r[i];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new Bt(hn.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new V2(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new V2(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new V2(r.field,r.dir==="asc"?0:1)));return new n1(n1.UNKNOWN_ID,this.collectionId,n,Y0.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(t){var e,n;if(Ne(t instanceof gt||t instanceof jt),t instanceof gt){if(t instanceof DD){const s=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(i=>gt.create(t.field,"==",i)))||[];return jt.create(s,"or")}return t}const r=t.filters.map(s=>dL(s));return jt.create(r,t.op)}function wJ(t){if(t.getFilters().length===0)return[];const e=fE(dL(t));return Ne(hL(e)),dE(e)||hE(e)?[e]:e.getFilters()}function dE(t){return t instanceof gt}function hE(t){return t instanceof jt&&n5(t)}function hL(t){return dE(t)||hE(t)||function(n){if(n instanceof jt&&rE(n)){for(const r of n.getFilters())if(!dE(r)&&!hE(r))return!1;return!0}return!1}(t)}function fE(t){if(Ne(t instanceof gt||t instanceof jt),t instanceof gt)return t;if(t.filters.length===1)return fE(t.filters[0]);const e=t.filters.map(r=>fE(r));let n=jt.create(e,t.op);return n=c1(n),hL(n)?n:(Ne(n instanceof jt),Ne(Vd(n)),Ne(n.filters.length>1),n.filters.reduce((r,s)=>d5(r,s)))}function d5(t,e){let n;return Ne(t instanceof gt||t instanceof jt),Ne(e instanceof gt||e instanceof jt),n=t instanceof gt?e instanceof gt?function(s,i){return jt.create([s,i],"and")}(t,e):nR(t,e):e instanceof gt?nR(e,t):function(s,i){if(Ne(s.filters.length>0&&i.filters.length>0),Vd(s)&&Vd(i))return AD(s,i.getFilters());const o=rE(s)?s:i,a=rE(s)?i:s,l=o.filters.map(c=>d5(c,a));return jt.create(l,"or")}(t,e),c1(n)}function nR(t,e){if(Vd(e))return AD(e,t.getFilters());{const n=e.filters.map(r=>d5(t,r));return jt.create(n,"or")}}function c1(t){if(Ne(t instanceof gt||t instanceof jt),t instanceof gt)return t;const e=t.getFilters();if(e.length===1)return c1(e[0]);if(kD(t))return t;const n=e.map(s=>c1(s)),r=[];return n.forEach(s=>{s instanceof gt?r.push(s):s instanceof jt&&(s.op===t.op?r.push(...s.filters):r.push(s))}),r.length===1?r[0]:jt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xJ{constructor(){this._n=new h5}addToCollectionParentIndex(e,n){return this._n.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Ps.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Ps.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class h5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Bt(Nt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Bt(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=new Uint8Array(0);class EJ{constructor(e,n){this.databaseId=n,this.an=new h5,this.un=new Ol(r=>Vc(r),(r,s)=>Hp(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const i={collectionId:r,parent:zr(s)};return rR(e).put(i)}return W.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[mD(n),""],!1,!0);return rR(e).W(s).next(i=>{for(const o of i){if(o.collectionId!==n)break;r.push(to(o.parent))}return r})}addFieldIndex(e,n){const r=sf(e),s=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=Cu(e);return i.next(a=>{o.put(Qk(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const r=sf(e),s=Cu(e),i=Eu(e);return r.delete(n.indexId).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=sf(e),r=Eu(e),s=Cu(e);return n.H().next(()=>r.H()).next(()=>s.H())}createTargetIndexes(e,n){return W.forEach(this.cn(n),r=>this.getIndexType(e,r).next(s=>{if(s===0||s===1){const i=new tR(r).on();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,n){const r=Eu(e);let s=!0;const i=new Map;return W.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{s&&(s=!!a),i.set(o,a)})).next(()=>{if(s){let o=at();const a=[];return W.forEach(i,(l,c)=>{K("IndexedDbIndexManager",`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(x=>`${x.fieldPath}:${x.kind}`).join(",")}`}(l)} to execute ${Vc(n)}`);const u=function(_,x){const b=J3(x);if(b===void 0)return null;for(const C of s1(_,b.fieldPath))switch(C.op){case"array-contains-any":return C.value.arrayValue.values||[];case"array-contains":return[C.value]}return null}(c,l),h=function(_,x){const b=new Map;for(const C of Yl(x))for(const T of s1(_,C.fieldPath))switch(T.op){case"==":case"in":b.set(C.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return b.set(C.fieldPath.canonicalString(),T.value),Array.from(b.values())}return null}(c,l),f=function(_,x){const b=[];let C=!0;for(const T of Yl(x)){const I=T.kind===0?Mk(_,T.fieldPath,_.startAt):Ok(_,T.fieldPath,_.startAt);b.push(I.value),C&&(C=I.inclusive)}return new vl(b,C)}(c,l),p=function(_,x){const b=[];let C=!0;for(const T of Yl(x)){const I=T.kind===0?Ok(_,T.fieldPath,_.endAt):Mk(_,T.fieldPath,_.endAt);b.push(I.value),C&&(C=I.inclusive)}return new vl(b,C)}(c,l),m=this.hn(l,c,f),v=this.hn(l,c,p),E=this.Pn(l,c,h),y=this.In(l.indexId,u,m,f.inclusive,v,p.inclusive,E);return W.forEach(y,w=>r.j(w,n.limit).next(_=>{_.forEach(x=>{const b=de.fromSegments(x.documentKey);o.has(b)||(o=o.add(b),a.push(b))})}))}).next(()=>a)}return W.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=wJ(jt.create(e.filters,"and")).map(r=>iE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,s,i,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,i.length),c=l/(n!=null?n.length:1),u=[];for(let h=0;h<l;++h){const f=n?this.Tn(n[h/c]):Zm,p=this.En(e,f,r[h%c],s),m=this.dn(e,f,i[h%c],o),v=a.map(E=>this.En(e,f,E,!0));u.push(...this.createRange(p,m,v))}return u}En(e,n,r,s){const i=new tc(e,de.empty(),n,r);return s?i:i.Jt()}dn(e,n,r,s){const i=new tc(e,de.empty(),n,r);return s?i.Jt():i}ln(e,n){const r=new tR(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next(i=>{let o=null;for(const a of i)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const s=this.cn(n);return W.forEach(s,i=>this.ln(e,i).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new Bt(hn.comparator),u=!1;for(const h of l.filters)for(const f of h.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?u=!0:c=c.add(f.field));for(const h of l.orderBy)h.field.isKeyField()||(c=c.add(h.field));return c.size+(u?1:0)}(i)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&s.length>1&&r===2?1:r)}An(e,n){const r=new rf;for(const s of Yl(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.Ht(s.kind);ec.bt.Pt(i,o)}return r.Wt()}Tn(e){const n=new rf;return ec.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new rf;return ec.bt.Pt(Fc(this.databaseId,n),r.Ht(function(i){const o=Yl(i);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let s=[];s.push(new rf);let i=0;for(const o of Yl(e)){const a=r[i++];for(const l of s)if(this.Vn(n,o.fieldPath)&&J0(a))s=this.mn(s,o,a);else{const c=l.Ht(o.kind);ec.bt.Pt(a,c)}}return this.fn(s)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const a of s){const l=new rf;l.seed(a.Wt()),ec.bt.Pt(o,l.Ht(n.kind)),i.push(l)}return i}Vn(e,n){return!!e.filters.find(r=>r instanceof gt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=sf(e),s=Cu(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(i=>{const o=[];return W.forEach(i,a=>s.get([a.indexId,this.uid]).next(l=>{o.push(function(u,h){const f=h?new Y0(h.sequenceNumber,new Ps(Bc(h.readTime),new de(to(h.documentKey)),h.largestBatchId)):Y0.empty(),p=u.fields.map(([m,v])=>new V2(hn.fromServerFormat(m),v));return new n1(u.indexId,u.collectionGroup,p,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Qe(r.collectionGroup,s.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const s=sf(e),i=Cu(e);return this.gn(e).next(o=>s.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>W.forEach(a,l=>i.put(Qk(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return W.forEach(n,(s,i)=>{const o=r.get(s.collectionGroup);return(o?W.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next(a=>(r.set(s.collectionGroup,a),W.forEach(a,l=>this.pn(e,s,l).next(c=>{const u=this.yn(i,l);return c.isEqual(u)?W.resolve():this.wn(e,i,l,c,u)}))))})}Sn(e,n,r,s){return Eu(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,s){return Eu(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const s=Eu(e);let i=new Bt(Ia);return s.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{i=i.add(new tc(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>i)}yn(e,n){let r=new Bt(Ia);const s=this.An(n,e);if(s==null)return r;const i=J3(n);if(i!=null){const o=e.data.field(i.fieldPath);if(J0(o))for(const a of o.arrayValue.values||[])r=r.add(new tc(n.indexId,e.key,this.Tn(a),s))}else r=r.add(new tc(n.indexId,e.key,Zm,s));return r}wn(e,n,r,s,i){K("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,c,u,h,f){const p=l.getIterator(),m=c.getIterator();let v=xu(p),E=xu(m);for(;v||E;){let y=!1,w=!1;if(v&&E){const _=u(v,E);_<0?w=!0:_>0&&(y=!0)}else v!=null?w=!0:y=!0;y?(h(E),E=xu(m)):w?(f(v),v=xu(p)):(v=xu(p),E=xu(m))}}(s,i,Ia,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),W.waitFor(o)}gn(e){let n=1;return Cu(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,i)=>{i.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Ia(o,a)).filter((o,a,l)=>!a||Ia(o,l[a-1])!==0);const s=[];s.push(e);for(const o of r){const a=Ia(o,e),l=Ia(o,n);if(a===0)s[0]=e.Jt();else if(a>0&&l<0)s.push(o),s.push(o.Jt());else if(l>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.Dn(s[o],s[o+1]))return[];const a=[s[o].indexId,this.uid,s[o].arrayValue,s[o].directionalValue,Zm,[]],l=[s[o+1].indexId,this.uid,s[o+1].arrayValue,s[o+1].directionalValue,Zm,[]];i.push(IDBKeyRange.bound(a,l))}return i}Dn(e,n){return Ia(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(sR)}getMinOffset(e,n){return W.mapArray(this.cn(n),r=>this.ln(e,r).next(s=>s||Se())).next(sR)}}function rR(t){return sr(t,"collectionParents")}function Eu(t){return sr(t,"indexEntries")}function sf(t){return sr(t,"indexConfiguration")}function Cu(t){return sr(t,"indexState")}function sR(t){Ne(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;Zb(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new Ps(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Xr(e,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(t,e,n){const r=t.store("mutations"),s=t.store("documentMutations"),i=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(u,h,f)=>(a++,f.delete()));i.push(l.next(()=>{Ne(a===1)}));const c=[];for(const u of n.mutations){const h=_D(e,u.key.path,n.batchId);i.push(s.delete(h)),c.push(u.key)}return W.waitFor(i).next(()=>c)}function u1(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Se();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr.DEFAULT_COLLECTION_PERCENTILE=10,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xr.DEFAULT=new Xr(41943040,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xr.DISABLED=new Xr(-1,0,0);class Jv{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Cn={}}static lt(e,n,r,s){Ne(e.uid!=="");const i=e.isAuthenticated()?e.uid:"";return new Jv(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ta(e).Y({index:"userMutationsIndex",range:r},(s,i,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,s){const i=ju(e),o=Ta(e);return o.add({}).next(a=>{Ne(typeof a=="number");const l=new i5(a,n,r,s),c=function(p,m,v){const E=v.baseMutations.map(w=>a1(p.ct,w)),y=v.mutations.map(w=>a1(p.ct,w));return{userId:m,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:E,mutations:y}}(this.serializer,this.userId,l),u=[];let h=new Bt((f,p)=>Qe(f.canonicalString(),p.canonicalString()));for(const f of s){const p=_D(this.userId,f.key.path,a);h=h.add(f.key.path.popLast()),u.push(o.put(c)),u.push(i.put(p,iX))}return h.forEach(f=>{u.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),W.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return Ta(e).get(n).next(r=>r?(Ne(r.userId===this.userId),Zl(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?W.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const s=r.keys();return this.Cn[n]=s,s}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Ta(e).Y({index:"userMutationsIndex",range:s},(o,a,l)=>{a.userId===this.userId&&(Ne(a.batchId>=r),i=Zl(this.serializer,a)),l.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ta(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(s,i,o)=>{r=i.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ta(e).W("userMutationsIndex",n).next(r=>r.map(s=>Zl(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=U2(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return ju(e).Y({range:s},(o,a,l)=>{const[c,u,h]=o,f=to(u);if(c===this.userId&&n.path.isEqual(f))return Ta(e).get(h).next(p=>{if(!p)throw Se();Ne(p.userId===this.userId),i.push(Zl(this.serializer,p))});l.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(Qe);const s=[];return n.forEach(i=>{const o=U2(this.userId,i.path),a=IDBKeyRange.lowerBound(o),l=ju(e).Y({range:a},(c,u,h)=>{const[f,p,m]=c,v=to(p);f===this.userId&&i.path.isEqual(v)?r=r.add(m):h.done()});s.push(l)}),W.waitFor(s).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=U2(this.userId,r),o=IDBKeyRange.lowerBound(i);let a=new Bt(Qe);return ju(e).Y({range:o},(l,c,u)=>{const[h,f,p]=l,m=to(f);h===this.userId&&r.isPrefixOf(m)?m.length===s&&(a=a.add(p)):u.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],s=[];return n.forEach(i=>{s.push(Ta(e).get(i).next(o=>{if(o===null)throw Se();Ne(o.userId===this.userId),r.push(Zl(this.serializer,o))}))}),W.waitFor(s).next(()=>r)}removeMutationBatch(e,n){return fL(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),W.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return W.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),s=[];return ju(e).Y({range:r},(i,o,a)=>{if(i[0]===this.userId){const l=to(i[1]);s.push(l)}else a.done()}).next(()=>{Ne(s.length===0)})})}containsKey(e,n){return pL(e,this.userId,n)}xn(e){return mL(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function pL(t,e,n){const r=U2(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return ju(t).Y({range:i,J:!0},(a,l,c)=>{const[u,h,f]=a;u===e&&h===s&&(o=!0),c.done()}).next(()=>o)}function Ta(t){return sr(t,"mutations")}function ju(t){return sr(t,"documentMutations")}function mL(t){return sr(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Wc(0)}static Ln(){return new Wc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CJ{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Wc(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Me.fromTimestamp(new pn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.kn(e,s)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>bu(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(Ne(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let s=0;const i=[];return bu(e).Y((o,a)=>{const l=Lf(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(s++,i.push(this.removeTargetData(e,l)))}).next(()=>W.waitFor(i)).next(()=>s)}forEachTarget(e,n){return bu(e).Y((r,s)=>{const i=Lf(s);n(i)})}Bn(e){return oR(e).get("targetGlobalKey").next(n=>(Ne(n!==null),n))}kn(e,n){return oR(e).put("targetGlobalKey",n)}qn(e,n){return bu(e).put(cL(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Vc(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return bu(e).Y({range:s,index:"queryTargetsIndex"},(o,a,l)=>{const c=Lf(a);Hp(n,c.target)&&(i=c,l.done())}).next(()=>i)}addMatchingKeys(e,n,r){const s=[],i=Fa(e);return n.forEach(o=>{const a=zr(o.path);s.push(i.put({targetId:r,path:a})),s.push(this.referenceDelegate.addReference(e,r,o))}),W.waitFor(s)}removeMatchingKeys(e,n,r){const s=Fa(e);return W.forEach(n,i=>{const o=zr(i.path);return W.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,n){const r=Fa(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Fa(e);let i=at();return s.Y({range:r,J:!0},(o,a,l)=>{const c=to(o[1]),u=new de(c);i=i.add(u)}).next(()=>i)}containsKey(e,n){const r=zr(n.path),s=IDBKeyRange.bound([r],[mD(r)],!1,!0);let i=0;return Fa(e).Y({index:"documentTargetsIndex",J:!0,range:s},([o,a],l,c)=>{o!==0&&(i++,c.done())}).next(()=>i>0)}_t(e,n){return bu(e).get(n).next(r=>r?Lf(r):null)}}function bu(t){return sr(t,"targets")}function oR(t){return sr(t,"targetGlobal")}function Fa(t){return sr(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR([t,e],[n,r]){const s=Qe(t,n);return s===0?Qe(e,r):s}class bJ{constructor(e){this.Kn=e,this.buffer=new Bt(aR),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();aR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class IJ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){K("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ml(n)?K("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ou(n)}await this.zn(3e5)})}}class TJ{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Ks._e);const r=new bJ(n);return this.jn.forEachTarget(e,s=>r.Wn(s.sequenceNumber)).next(()=>this.jn.Jn(e,s=>r.Wn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(iR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iR):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,s,i,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Lu()<=st.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function SJ(t,e){return new TJ(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kJ{constructor(e,n){this.db=e,this.garbageCollector=SJ(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,s)=>n(s))}addReference(e,n,r){return e2(e,r)}removeReference(e,n,r){return e2(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return e2(e,n)}er(e,n){return function(s,i){let o=!1;return mL(s).Z(a=>pL(s,a,i).next(l=>(l&&(o=!0),W.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Xn(e,(o,a)=>{if(a<=n){const l=this.er(e,o).next(c=>{if(!c)return i++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Me.min()),Fa(e).delete(function(h){return[0,zr(h.path)]}(o))))});s.push(l)}}).next(()=>W.waitFor(s)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return e2(e,n)}Xn(e,n){const r=Fa(e);let s,i=Ks._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(i!==Ks._e&&n(new de(to(s)),i),i=c,s=l):i=Ks._e}).next(()=>{i!==Ks._e&&n(new de(to(s)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function e2(t,e){return Fa(t).put(function(r,s){return{targetId:0,path:zr(r.path),sequenceNumber:s}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(){this.changes=new Ol(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RJ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ul(e).put(r)}removeEntry(e,n,r){return Ul(e).delete(function(i,o){const a=i.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],l1(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=wn.newInvalidDocument(n);return Ul(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(of(n))},(s,i)=>{r=this.nr(n,i)}).next(()=>r)}rr(e,n){let r={size:0,document:wn.newInvalidDocument(n)};return Ul(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(of(n))},(s,i)=>{r={document:this.nr(n,i),size:u1(i)}}).next(()=>r)}getEntries(e,n){let r=bs();return this.ir(e,n,(s,i)=>{const o=this.nr(s,i);r=r.insert(s,o)}).next(()=>r)}sr(e,n){let r=bs(),s=new Rn(de.comparator);return this.ir(e,n,(i,o)=>{const a=this.nr(i,o);r=r.insert(i,a),s=s.insert(i,u1(o))}).next(()=>({documents:r,_r:s}))}ir(e,n,r){if(n.isEmpty())return W.resolve();let s=new Bt(uR);n.forEach(l=>s=s.add(l));const i=IDBKeyRange.bound(of(s.first()),of(s.last())),o=s.getIterator();let a=o.getNext();return Ul(e).Y({index:"documentKeyIndex",range:i},(l,c,u)=>{const h=de.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&uR(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?u.U(of(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,s,i){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),l1(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ul(e).W(IDBKeyRange.bound(a,l,!0)).next(c=>{i==null||i.incrementDocumentReadCount(c.length);let u=bs();for(const h of c){const f=this.nr(de.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);f.isFoundDocument()&&(qp(n,f)||s.has(f.key))&&(u=u.insert(f.key,f))}return u})}getAllFromCollectionGroup(e,n,r,s){let i=bs();const o=cR(n,r),a=cR(n,Ps.max());return Ul(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const h=this.nr(de.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);i=i.insert(h.key,h),i.size===s&&u.done()}).next(()=>i)}newChangeBuffer(e){return new AJ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return lR(e).get("remoteDocumentGlobalKey").next(n=>(Ne(!!n),n))}tr(e,n){return lR(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=pJ(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Me.min())))return r}return wn.newInvalidDocument(e)}}function vL(t){return new RJ(t)}class AJ extends gL{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Ol(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const n=[];let r=0,s=new Bt((i,o)=>Qe(i.canonicalString(),o.canonicalString()));return this.changes.forEach((i,o)=>{const a=this.ur.get(i);if(n.push(this.ar.removeEntry(e,i,a.readTime)),o.isValidDocument()){const l=Yk(this.ar.serializer,o);s=s.add(i.path.popLast());const c=u1(l);r+=c-a.size,n.push(this.ar.addEntry(e,i,l))}else if(r-=a.size,this.trackRemovals){const l=Yk(this.ar.serializer,o.convertToNoDocument(Me.min()));n.push(this.ar.addEntry(e,i,l))}}),s.forEach(i=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,i))}),n.push(this.ar.updateMetadata(e,r)),W.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:s})=>(s.forEach((i,o)=>{this.ur.set(i,{size:o,readTime:r.get(i).readTime})}),r))}}function lR(t){return sr(t,"remoteDocumentGlobal")}function Ul(t){return sr(t,"remoteDocumentsV14")}function of(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function cR(t,e){const n=e.documentKey.path.toArray();return[t,l1(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function uR(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=Qe(n[i],r[i]),s)return s;return s=Qe(n.length,r.length),s||(s=Qe(n[n.length-2],r[r.length-2]),s||Qe(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&n0(r.mutation,s,ns.empty(),pn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,at()).next(()=>r))}getLocalViewOfDocuments(e,n,r=at()){const s=no();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Nf();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=no();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,at()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=bs();const o=t0(),a=function(){return t0()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof va)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),n0(u.mutation,c,u.mutation.getFieldMask(),pn.now())):o.set(c.key,ns.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new PJ(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=t0();let s=new Rn((o,a)=>o-a),i=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||ns.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||at()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=FD();u.forEach(f=>{if(!i.has(f)){const p=GD(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return de.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):r5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):W.resolve(no());let a=-1,l=i;return o.next(c=>W.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?W.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,at())).next(u=>({batchId:a,changes:$D(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let s=Nf();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Nf();return this.indexManager.getCollectionParents(e,i).next(a=>W.forEach(a,l=>{const c=function(h,f){return new lu(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,wn.newInvalidDocument(u)))});let a=Nf();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&n0(u.mutation,c,ns.empty(),pn.now()),qp(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NJ{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return W.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Br(s.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:uL(s.bundledQuery),readTime:Br(s.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DJ{constructor(){this.overlays=new Rn(de.comparator),this.hr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=no();return W.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const s=no(),i=n.length+1,o=new de(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return W.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Rn((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=no(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=no(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return W.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new a5(n,r));let i=this.hr.get(n);i===void 0&&(i=at(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(){this.Pr=new Bt(Kn.Ir),this.Tr=new Bt(Kn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Kn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Kn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new de(new Nt([])),r=new Kn(n,e),s=new Kn(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new de(new Nt([])),r=new Kn(n,e),s=new Kn(n,e+1);let i=at();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Kn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return de.comparator(e.key,n.key)||Qe(e.pr,n.pr)}static Er(e,n){return Qe(e.pr,n.pr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Bt(Kn.Ir)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new i5(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new Kn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,n){return W.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return W.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kn(n,0),s=new Kn(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),W.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(Qe);return n.forEach(s=>{const i=new Kn(s,0),o=new Kn(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),W.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;de.isDocumentKey(i)||(i=i.child(""));const o=new Kn(new de(i),0);let a=new Bt(Qe);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.pr)),!0)},o),W.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ne(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return W.forEach(n.mutations,s=>{const i=new Kn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Kn(n,0),s=this.wr.firstAfterOrEqual(r);return W.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MJ{constructor(e){this.vr=e,this.docs=function(){return new Rn(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(n))}getEntries(e,n){let r=bs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():wn.newInvalidDocument(s))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=bs();const o=n.path,a=new de(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Zb(gD(u),r)<=0||(s.has(u.key)||qp(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return W.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Se()}Fr(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new OJ(this)}getSize(e){return W.resolve(this.size)}}class OJ extends gL{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jJ{constructor(e){this.persistence=e,this.Mr=new Ol(n=>Vc(n),Hp),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Or=0,this.Nr=new f5,this.targetCount=0,this.Lr=Wc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),W.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Wc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.qn(n),W.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),W.waitFor(i).next(()=>s)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),W.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n){this.Br={},this.overlays={},this.kr=new Ks(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new jJ(this),this.indexManager=new xJ,this.remoteDocumentCache=function(s){return new MJ(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new lL(n),this.$r=new NJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new LJ(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const s=new $J(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return W.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class $J extends yD{constructor(e){super(),this.currentSequenceNumber=e}}class Zv{constructor(e){this.persistence=e,this.zr=new f5,this.jr=null}static Hr(e){return new Zv(e)}get Jr(){if(this.jr)return this.jr;throw Se()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),W.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Jr,r=>{const s=de.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,Me.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return W.or([()=>W.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FJ{constructor(e){this.serializer=e}N(e,n,r,s){const i=new Bv("createOrUpgrade",n);r<1&&s>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ik,{unique:!0}),l.createObjectStore("documentMutations")}(e),dR(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=W.resolve();return r<3&&s>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),dR(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Me.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(i))),r<4&&s>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").W().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ik,{unique:!0});const h=c.store("mutations"),f=u.map(p=>h.put(p));return W.waitFor(f)})}(e,i))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&s>=5&&(o=o.next(()=>this.Xr(i))),r<6&&s>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i)))),r<7&&s>=7&&(o=o.next(()=>this.ti(i))),r<8&&s>=8&&(o=o.next(()=>this.ni(e,i))),r<9&&s>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&s>=10&&(o=o.next(()=>this.ri(i))),r<11&&s>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:vX});c.createIndex("collectionPathOverlayIndex",yX,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",_X,{unique:!1})})(e)})),r<13&&s>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:oX});c.createIndex("documentKeyIndex",aX),c.createIndex("collectionGroupIndex",lX)}(e)).next(()=>this.ii(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(o=o.next(()=>this.si(e,i))),r<15&&s>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:fX}).createIndex("sequenceNumberIndex",pX,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:mX}).createIndex("documentKeyIndex",gX,{unique:!1})}(e))),o}ei(e){let n=0;return e.store("remoteDocuments").Y((r,s)=>{n+=u1(s)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(s=>W.forEach(s,i=>{const o=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>W.forEach(a,l=>{Ne(l.userId===i.userId);const c=Zl(this.serializer,l);return fL(e,i.userId,c).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const i=[];return r.Y((o,a)=>{const l=new Nt(o),c=function(h){return[0,zr(h)]}(l);i.push(n.get(c).next(u=>u?W.resolve():(h=>n.put({targetId:0,path:zr(h),sequenceNumber:s.highestListenSequenceNumber}))(l)))}).next(()=>W.waitFor(i))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:hX});const r=n.store("collectionParents"),s=new h5,i=o=>{if(s.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:zr(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new Nt(o);return i(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],c)=>{const u=to(a);return i(u.popLast())}))}ri(e){const n=e.store("targets");return n.Y((r,s)=>{const i=Lf(s),o=cL(this.serializer,i);return n.put(o)})}ii(e,n){const r=n.store("remoteDocuments"),s=[];return r.Y((i,o)=>{const a=n.store("remoteDocumentsV14"),l=function(h){return h.document?new de(Nt.fromString(h.document.name).popFirst(5)):h.noDocument?de.fromSegments(h.noDocument.path):h.unknownDocument?de.fromSegments(h.unknownDocument.path):Se()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(a.put(c))}).next(()=>W.waitFor(s))}si(e,n){const r=n.store("mutations"),s=vL(this.serializer),i=new _L(Zv.Hr,this.serializer.ct);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:at();Zl(this.serializer,l).keys().forEach(h=>u=u.add(h)),a.set(l.userId,u)}),W.forEach(a,(l,c)=>{const u=new Or(c),h=Xv.lt(this.serializer,u),f=i.getIndexManager(u),p=Jv.lt(u,this.serializer,f,i.referenceDelegate);return new yL(s,p,h,f).recalculateAndSaveOverlaysForDocumentKeys(new Z3(n,Ks._e),l).next()})})}}function dR(t){t.createObjectStore("targetDocuments",{keyPath:uX}).createIndex("documentTargetsIndex",dX,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cX,{unique:!0}),t.createObjectStore("targetGlobal")}const Uw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class p5{constructor(e,n,r,s,i,o,a,l,c,u,h=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=i,this.window=o,this.document=a,this._i=c,this.ai=u,this.ui=h,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=f=>Promise.resolve(),!p5.D())throw new re(H.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kJ(this,s),this.Ti=n+"main",this.serializer=new lL(l),this.Ei=new eo(this.Ti,this.ui,new FJ(this.serializer)),this.Qr=new CJ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=vL(this.serializer),this.$r=new mJ,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,u===!1&&jr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new re(H.FAILED_PRECONDITION,Uw);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Ks(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>t2(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Ml(e))return K("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return K("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return af(e).get("owner").next(n=>W.resolve(this.Si(n)))}bi(e){return t2(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=sr(n,"clientMetadata");return r.W().next(s=>{const i=this.vi(s,18e5),o=s.filter(a=>i.indexOf(a)===-1);return W.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?W.resolve(!0):af(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new re(H.FAILED_PRECONDITION,Uw);return!1}}return!(!this.networkEnabled||!this.inForeground)||t2(e).W().next(r=>this.vi(r,5e3).find(s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,a=this.networkEnabled===s.networkEnabled;if(i||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&K("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Z3(e,Ks._e);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>t2(e).W().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Jv.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new EJ(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Xv.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){K("IndexedDbPersistence","Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=function(l){return l===15?xX:l===14?ED:l===13?xD:l===12?wX:l===11?wD:void Se()}(this.ui);let o;return this.Ei.runTransaction(e,s,i,a=>(o=new Z3(a,this.kr?this.kr.next():Ks._e),n==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw jr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new re(H.FAILED_PRECONDITION,vD);return r(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return af(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new re(H.FAILED_PRECONDITION,Uw)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return af(e).put("owner",n)}static D(){return eo.D()}yi(e){const n=af(e);return n.get("owner").next(r=>this.Si(r)?(K("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):W.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(jr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;w8()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return K("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return jr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){jr("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function af(t){return sr(t,"owner")}function t2(t){return sr(t,"clientMetadata")}function VJ(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=at(),s=at();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new m5(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return w8()?8:eo.v(kt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new UJ;return this.Ji(e,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(Lu()<=st.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Mu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),W.resolve()):(Lu()<=st.DEBUG&&K("QueryEngine","Query:",Mu(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(Lu()<=st.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Mu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zs(n))):W.resolve())}ji(e,n){if(jk(n))return W.resolve(null);let r=Zs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=i1(n,null,"F"),r=Zs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=at(...i);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,i1(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,s){return jk(n)||s.isEqual(Me.min())?W.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?W.resolve(null):(Lu()<=st.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Mu(n)),this.es(e,o,n,JQ(s,-1)).next(a=>a))})}Zi(e,n){let r=new Bt(OD(e));return n.forEach((s,i)=>{qp(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return Lu()<=st.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Mu(n)),this.zi.getDocumentsMatchingQuery(e,n,Ps.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zJ{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new Rn(Qe),this.rs=new Ol(i=>Vc(i),Hp),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yL(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function xL(t,e,n,r){return new zJ(t,e,n,r)}async function EL(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=at();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function BJ(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let p=W.resolve();return f.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(v=>{const E=c.docVersions.get(m);Ne(E!==null),v.version.compareTo(E)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=at();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function CL(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function WJ(t,e){const n=We(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(i,u.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(gr.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(h,p),function(v,E,y){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,p,u)&&a.push(n.Qr.updateTargetData(i,p))});let l=bs(),c=at();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(HJ(i,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(Me.min())){const u=n.Qr.getLastRemoteSnapshotVersion(i).next(h=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return W.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.ns=s,i))}function HJ(t,e,n){let r=at(),s=at();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=bs();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Me.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:s}})}function GJ(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qJ(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,W.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new zo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function pE(t,e,n){const r=We(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ml(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function hR(t,e,n){const r=We(t);let s=Me.min(),i=at();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=We(l),f=h.rs.get(u);return f!==void 0?W.resolve(h.ns.get(f)):h.Qr.getTargetData(c,u)}(r,o,Zs(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:Me.min(),n?i:at())).next(a=>(YJ(r,MX(e),a),{documents:a,hs:i})))}function YJ(t,e,n){let r=t.ss.get(e)||Me.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class fR{constructor(){this.activeTargetIds=UX()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bL{constructor(){this.no=new fR,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new fR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KJ{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n2=null;function zw(){return n2===null?n2=function(){return 268435456+Math.round(2147483648*Math.random())}():n2++,"0x"+n2.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XJ{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="WebChannelConnection";class JJ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const a=zw(),l=this.bo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,i,o),this.Co(n,l,c,s).then(u=>(K("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Oc("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}vo(n,r,s,i,o,a){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wh}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=QJ[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=zw();return new Promise((o,a)=>{const l=new UQ;l.setWithCredentials(!0),l.listenOnce(FQ.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Fw.NO_ERROR:const u=l.getResponseJson();K(wr,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Fw.TIMEOUT:K(wr,`RPC '${e}' ${i} timed out`),a(new re(H.DEADLINE_EXCEEDED,"Request time out"));break;case Fw.HTTP_ERROR:const h=l.getStatus();if(K(wr,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(E){const y=E.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(y)>=0?y:H.UNKNOWN}(p.status);a(new re(m,p.message))}else a(new re(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new re(H.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{K(wr,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);K(wr,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const s=zw(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jQ(),a=$Q(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");K(wr,`Creating RPC '${e}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,p=!1;const m=new XJ({lo:E=>{p?K(wr,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(K(wr,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),K(wr,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},ho:()=>h.close()}),v=(E,y,w)=>{E.listen(y,_=>{try{w(_)}catch(x){setTimeout(()=>{throw x},0)}})};return v(h,Xm.EventType.OPEN,()=>{p||K(wr,`RPC '${e}' stream ${s} transport opened.`)}),v(h,Xm.EventType.CLOSE,()=>{p||(p=!0,K(wr,`RPC '${e}' stream ${s} transport closed`),m.Vo())}),v(h,Xm.EventType.ERROR,E=>{p||(p=!0,Oc(wr,`RPC '${e}' stream ${s} transport errored:`,E),m.Vo(new re(H.UNAVAILABLE,"The operation could not be completed")))}),v(h,Xm.EventType.MESSAGE,E=>{var y;if(!p){const w=E.data[0];Ne(!!w);const _=w,x=_.error||((y=_[0])===null||y===void 0?void 0:y.error);if(x){K(wr,`RPC '${e}' stream ${s} received error:`,x);const b=x.status;let C=function(S){const R=Dn[S];if(R!==void 0)return KD(R)}(b),T=x.message;C===void 0&&(C=H.INTERNAL,T="Unknown error status: "+b+" with message "+x.message),p=!0,m.Vo(new re(C,T)),h.close()}else K(wr,`RPC '${e}' stream ${s} received:`,w),m.mo(w)}}),v(a,VQ.STAT_EVENT,E=>{E.stat===xk.PROXY?K(wr,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===xk.NOPROXY&&K(wr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZJ(){return typeof window<"u"?window:null}function G2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(t){return new sJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&K("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n,r,s,i,o,a,l){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new IL(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new re(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eZ extends TL{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=aJ(this.serializer,e),r=function(i){if(!("targetChange"in i))return Me.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Me.min():o.readTime?Br(o.readTime):Me.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=cE(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=r1(l)?{documents:rL(i,l)}:{query:u5(i,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=JD(i,o.resumeToken);const c=aE(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Me.min())>0){a.readTime=Bd(i,o.snapshotVersion.toTimestamp());const c=aE(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=cJ(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=cE(this.serializer),n.removeTarget=e,this.t_(n)}}class tZ extends TL{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=lJ(e.writeResults,e.commitTime),r=Br(e.commitTime);return this.listener.T_(r,n)}return Ne(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=cE(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>a1(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nZ extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new re(H.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,lE(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new re(H.UNKNOWN,i.toString())})}vo(e,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,lE(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(H.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}async function rZ(t,e,n){var r;const s=We(t),{request:i,V_:o,parent:a}=function(h,f,p){const{ut:m,parent:v}=u5(h,f),E={},y=[];let w=0;return p.forEach(_=>{const x="aggregate_"+w++;E[x]=_.alias,_.aggregateType==="count"?y.push({alias:x,count:{}}):_.aggregateType==="avg"?y.push({alias:x,avg:{field:$a(_.fieldPath)}}):_.aggregateType==="sum"&&y.push({alias:x,sum:{field:$a(_.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:y,structuredQuery:m.structuredQuery},parent:m.parent},V_:E,parent:v}}(s.serializer,function(h){const f=We(h);return f.Pe||(f.Pe=LD(f,h.explicitOrderBy)),f.Pe}(e),n);s.connection.wo||delete i.parent;const l=(await s.vo("RunAggregationQuery",s.serializer.databaseId,a,i,1)).filter(u=>!!u.result);Ne(l.length===1);const c=(r=l[0].result)===null||r===void 0?void 0:r.aggregateFields;return Object.keys(c).reduce((u,h)=>(u[o[h]]=c[h],u),{})}class sZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(jr(n),this.g_=!1):K("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iZ{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{cu(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=We(l);c.v_.add(4),await Kp(c),c.x_.set("Unknown"),c.v_.delete(4),await ty(c)}(this))})}),this.x_=new sZ(r,s)}}async function ty(t){if(cu(t))for(const e of t.F_)await e(!0)}async function Kp(t){for(const e of t.F_)await e(!1)}function SL(t,e){const n=We(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),_5(n)?y5(n):Eh(n).Jo()&&v5(n,e))}function g5(t,e){const n=We(t),r=Eh(n);n.C_.delete(e),r.Jo()&&kL(n,e),n.C_.size===0&&(r.Jo()?r.Xo():cu(n)&&n.x_.set("Unknown"))}function v5(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eh(t).c_(e)}function kL(t,e){t.O_.Oe(e),Eh(t).l_(e)}function y5(t){t.O_=new eJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Eh(t).start(),t.x_.p_()}function _5(t){return cu(t)&&!Eh(t).Ho()&&t.C_.size>0}function cu(t){return We(t).v_.size===0}function RL(t){t.O_=void 0}async function oZ(t){t.C_.forEach((e,n)=>{v5(t,e)})}async function aZ(t,e){RL(t),_5(t)?(t.x_.S_(e),y5(t)):t.x_.set("Unknown")}async function lZ(t,e,n){if(t.x_.set("Online"),e instanceof XD&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.C_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.C_.delete(a),s.O_.removeTarget(a))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await d1(t,r)}else if(e instanceof H2?t.O_.$e(e):e instanceof QD?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Me.min()))try{const r=await CL(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.C_.get(c);u&&i.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.C_.get(l);if(!u)return;i.C_.set(l,u.withResumeToken(gr.EMPTY_BYTE_STRING,u.snapshotVersion)),kL(i,l);const h=new zo(u.target,l,c,u.sequenceNumber);v5(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await d1(t,r)}}async function d1(t,e,n){if(!Ml(e))throw e;t.v_.add(1),await Kp(t),t.x_.set("Offline"),n||(n=()=>CL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await ty(t)})}function AL(t,e){return e().catch(n=>d1(t,n,e))}async function Qp(t){const e=We(t),n=yl(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;cZ(e);)try{const s=await GJ(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,uZ(e,s)}catch(s){await d1(e,s)}PL(e)&&NL(e)}function cZ(t){return cu(t)&&t.D_.length<10}function uZ(t,e){t.D_.push(e);const n=yl(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function PL(t){return cu(t)&&!yl(t).Ho()&&t.D_.length>0}function NL(t){yl(t).start()}async function dZ(t){yl(t).d_()}async function hZ(t){const e=yl(t);for(const n of t.D_)e.I_(n.mutations)}async function fZ(t,e,n){const r=t.D_.shift(),s=o5.from(r,e,n);await AL(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Qp(t)}async function pZ(t,e){e&&yl(t).P_&&await async function(r,s){if(function(o){return XX(o)&&o!==H.ABORTED}(s.code)){const i=r.D_.shift();yl(r).Zo(),await AL(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Qp(r)}}(t,e),PL(t)&&NL(t)}async function mR(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=cu(n);n.v_.add(3),await Kp(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await ty(n)}async function mZ(t,e){const n=We(t);e?(n.v_.delete(2),await ty(n)):e||(n.v_.add(2),await Kp(n),n.x_.set("Unknown"))}function Eh(t){return t.N_||(t.N_=function(n,r,s){const i=We(n);return i.R_(),new eZ(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:oZ.bind(null,t),To:aZ.bind(null,t),u_:lZ.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),_5(t)?y5(t):t.x_.set("Unknown")):(await t.N_.stop(),RL(t))})),t.N_}function yl(t){return t.L_||(t.L_=function(n,r,s){const i=We(n);return i.R_(),new tZ(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:dZ.bind(null,t),To:pZ.bind(null,t),E_:hZ.bind(null,t),T_:fZ.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Qp(t)):(await t.L_.stop(),t.D_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new w5(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function x5(t,e){if(jr("AsyncQueue",`${e}: ${t}`),Ml(t))return new re(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=Nf(),this.sortedSet=new Rn(this.comparator)}static emptySet(e){return new md(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof md)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new md;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.B_=new Rn(de.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Se():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wd{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Wd(e,n,md.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gZ{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class vZ{constructor(){this.queries=new Ol(e=>MD(e),Gv),this.onlineState="Unknown",this.W_=new Set}}async function E5(t,e){const n=We(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.K_()&&e.U_()&&(r=2):(i=new gZ,r=e.U_()?0:1);try{switch(r){case 0:i.q_=await n.onListen(s,!0);break;case 1:i.q_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=x5(o,`Initialization of query '${Mu(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Q_.push(e),e.G_(n.onlineState),i.q_&&e.z_(i.q_)&&b5(n)}async function C5(t,e){const n=We(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Q_.indexOf(e);o>=0&&(i.Q_.splice(o,1),i.Q_.length===0?s=e.U_()?0:1:!i.K_()&&e.U_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function yZ(t,e){const n=We(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Q_)a.z_(s)&&(r=!0);o.q_=s}}r&&b5(n)}function _Z(t,e,n){const r=We(t),s=r.queries.get(e);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(e)}function b5(t){t.W_.forEach(e=>{e.next()})}var mE,vR;(vR=mE||(mE={})).j_="default",vR.Cache="cache";class I5{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Wd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Wd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==mE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.key=e}}class LL{constructor(e){this.key=e}}class wZ{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=at(),this.mutatedKeys=at(),this.ha=OD(e),this.Pa=new md(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new gR,s=n?n.Pa:this.Pa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),p=qp(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;f&&p?f.data.isEqual(p.data)?m!==v&&(r.track({type:3,doc:p}),E=!0):this.da(f,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.ha(p,l)>0||c&&this.ha(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),E=!0):f&&!p&&(r.track({type:1,doc:f}),E=!0,(l||c)&&(a=!0)),E&&(p?(o=o.add(p),i=v?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:i}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((u,h)=>function(p,m){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return v(p)-v(m)}(u.type,h.type)||this.ha(u.doc,h.doc)),this.Aa(r),s=s!=null&&s;const a=n&&!s?this.Ra():[],l=this.la.size===0&&this.current&&!s?1:0,c=l!==this.ca;return this.ca=l,o.length!==0||c?{snapshot:new Wd(this.query,e.Pa,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new gR,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=at(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new LL(r))}),this.la.forEach(r=>{e.has(r)||n.push(new DL(r))}),n}fa(e){this.ua=e.hs,this.la=at();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Wd.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class xZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class EZ{constructor(e){this.key=e,this.pa=!1}}class CZ{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new Ol(a=>MD(a),Gv),this.Sa=new Map,this.ba=new Set,this.Da=new Rn(de.comparator),this.Ca=new Map,this.va=new f5,this.Fa={},this.Ma=new Map,this.xa=Wc.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function bZ(t,e,n=!0){const r=VL(t);let s;const i=r.wa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ga()):s=await ML(r,e,n,!0),s}async function IZ(t,e){const n=VL(t);await ML(n,e,!0,!1)}async function ML(t,e,n,r){const s=await qJ(t.localStore,Zs(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await TZ(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&SL(t.remoteStore,s),a}async function TZ(t,e,n,r,s){t.Na=(h,f,p)=>async function(v,E,y,w){let _=E.view.Ta(y);_.Xi&&(_=await hR(v.localStore,E.query,!1).then(({documents:T})=>E.view.Ta(T,_)));const x=w&&w.targetChanges.get(E.targetId),b=w&&w.targetMismatches.get(E.targetId)!=null,C=E.view.applyChanges(_,v.isPrimaryClient,x,b);return _R(v,E.targetId,C.Va),C.snapshot}(t,h,f,p);const i=await hR(t.localStore,e,!0),o=new wZ(e,i.hs),a=o.Ta(i.documents),l=Yp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);_R(t,n,c.Va);const u=new xZ(e,n,o);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot}async function SZ(t,e,n){const r=We(t),s=r.wa.get(e),i=r.Sa.get(s.targetId);if(i.length>1)return r.Sa.set(s.targetId,i.filter(o=>!Gv(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await pE(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&g5(r.remoteStore,s.targetId),gE(r,s.targetId)}).catch(ou)):(gE(r,s.targetId),await pE(r.localStore,s.targetId,!0))}async function kZ(t,e){const n=We(t),r=n.wa.get(e),s=n.Sa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),g5(n.remoteStore,r.targetId))}async function RZ(t,e,n){const r=UL(t);try{const s=await function(o,a){const l=We(o),c=pn.now(),u=a.reduce((p,m)=>p.add(m.key),at());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=bs(),v=at();return l.os.getEntries(p,u).next(E=>{m=E,m.forEach((y,w)=>{w.isValidDocument()||(v=v.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(E=>{h=E;const y=[];for(const w of a){const _=YX(w,h.get(w.key).overlayedDocument);_!=null&&y.push(new va(w.key,_,TD(_.value.mapValue),Ir.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,y,a)}).next(E=>{f=E;const y=E.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(p,E.batchId,y)})}).then(()=>({batchId:f.batchId,changes:$D(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Fa[o.currentUser.toKey()];c||(c=new Rn(Qe)),c=c.insert(a,l),o.Fa[o.currentUser.toKey()]=c}(r,s.batchId,n),await Xp(r,s.changes),await Qp(r.remoteStore)}catch(s){const i=x5(s,"Failed to persist write");n.reject(i)}}async function OL(t,e){const n=We(t);try{const r=await WJ(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ca.get(i);o&&(Ne(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.pa=!0:s.modifiedDocuments.size>0?Ne(o.pa):s.removedDocuments.size>0&&(Ne(o.pa),o.pa=!1))}),await Xp(n,r,e)}catch(r){await ou(r)}}function yR(t,e,n){const r=We(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wa.forEach((i,o)=>{const a=o.view.G_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=We(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.Q_)f.G_(a)&&(c=!0)}),c&&b5(l)}(r.eventManager,e),s.length&&r.ya.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AZ(t,e,n){const r=We(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ca.get(e),i=s&&s.key;if(i){let o=new Rn(de.comparator);o=o.insert(i,wn.newNoDocument(i,Me.min()));const a=at().add(i),l=new Qv(Me.min(),new Map,new Rn(Qe),o,a);await OL(r,l),r.Da=r.Da.remove(i),r.Ca.delete(e),T5(r)}else await pE(r.localStore,e,!1).then(()=>gE(r,e,n)).catch(ou)}async function PZ(t,e){const n=We(t),r=e.batch.batchId;try{const s=await BJ(n.localStore,e);$L(n,r,null),jL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xp(n,s)}catch(s){await ou(s)}}async function NZ(t,e,n){const r=We(t);try{const s=await function(o,a){const l=We(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Ne(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);$L(r,e,n),jL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xp(r,s)}catch(s){await ou(s)}}function jL(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function $L(t,e,n){const r=We(t);let s=r.Fa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Fa[r.currentUser.toKey()]=s}}function gE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||FL(t,r)})}function FL(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(g5(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),T5(t))}function _R(t,e,n){for(const r of n)r instanceof DL?(t.va.addReference(r.key,e),DZ(t,r)):r instanceof LL?(K("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||FL(t,r.key)):Se()}function DZ(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(K("SyncEngine","New document in limbo: "+n),t.ba.add(r),T5(t))}function T5(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new de(Nt.fromString(e)),r=t.xa.next();t.Ca.set(r,new EZ(n)),t.Da=t.Da.insert(n,r),SL(t.remoteStore,new zo(Zs(Gp(n.path)),r,"TargetPurposeLimboResolution",Ks._e))}}async function Xp(t,e,n){const r=We(t),s=[],i=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=m5.Ki(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.ya.u_(s),await async function(l,c){const u=We(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>W.forEach(c,f=>W.forEach(f.qi,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>W.forEach(f.Qi,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Ml(h))throw h;K("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=u.ns.get(f),m=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(m);u.ns=u.ns.insert(f,v)}}}(r.localStore,i))}async function LZ(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await EL(n.localStore,e);n.currentUser=e,function(i,o){i.Ma.forEach(a=>{a.forEach(l=>{l.reject(new re(H.CANCELLED,o))})}),i.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xp(n,r.us)}}function MZ(t,e){const n=We(t),r=n.Ca.get(e);if(r&&r.pa)return at().add(r.key);{let s=at();const i=n.Sa.get(e);if(!i)return s;for(const o of i){const a=n.wa.get(o);s=s.unionWith(a.view.Ia)}return s}}function VL(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AZ.bind(null,e),e.ya.u_=yZ.bind(null,e.eventManager),e.ya.La=_Z.bind(null,e.eventManager),e}function UL(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NZ.bind(null,e),e}class vE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ey(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return xL(this.persistence,new wL,e.initialUser,this.serializer)}createPersistence(e){return new _L(Zv.Hr,this.serializer)}createSharedClientState(e){return new bL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class zL extends vE{constructor(e,n,r){super(),this.ka=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ka.initialize(this,e),await UL(this.ka.syncEngine),await Qp(this.ka.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return xL(this.persistence,new wL,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new IJ(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new nX(n,this.persistence);return new tX(e.asyncQueue,r)}createPersistence(e){const n=VJ(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Xr.withCacheSize(this.cacheSizeBytes):Xr.DEFAULT;return new p5(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,ZJ(),G2(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new bL}}class S5{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=LZ.bind(null,this.syncEngine),await mZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vZ}()}createDatastore(e){const n=ey(e.databaseInfo.databaseId),r=function(i){return new JJ(i)}(e.databaseInfo);return function(i,o,a,l){return new nZ(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new iZ(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>yR(this.syncEngine,n,0),function(){return pR.D()?new pR:new KJ}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const h=new CZ(s,i,o,a,l,c);return u&&(h.Oa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=We(r);K("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await Kp(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OZ{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Or.UNAUTHENTICATED,this.clientId=pD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{K("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(K("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=x5(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function q2(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await EL(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function yE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jZ(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>mR(e.remoteStore,s)),t._onlineComponents=e}function BL(t){return t.name==="FirebaseError"?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function jZ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await q2(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!BL(n))throw n;Oc("Error using user provided cache. Falling back to memory cache: "+n),await q2(t,new vE)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await q2(t,new vE);return t._offlineComponents}async function R5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await yE(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await yE(t,new S5))),t._onlineComponents}function $Z(t){return R5(t).then(e=>e.syncEngine)}function FZ(t){return R5(t).then(e=>e.datastore)}async function h1(t){const e=await R5(t),n=e.eventManager;return n.onListen=bZ.bind(null,e.syncEngine),n.onUnlisten=SZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=IZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kZ.bind(null,e.syncEngine),n}function VZ(t,e,n={}){const r=new Js;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new k5({next:f=>{o.enqueueAndForget(()=>C5(i,h));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new re(H.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new re(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new I5(Gp(a.path),u,{includeMetadataChanges:!0,ta:!0});return E5(i,h)}(await h1(t),t.asyncQueue,e,n,r)),r.promise}function UZ(t,e,n={}){const r=new Js;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new k5({next:f=>{o.enqueueAndForget(()=>C5(i,h)),f.fromCache&&l.source==="server"?c.reject(new re(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new I5(a,u,{includeMetadataChanges:!0,ta:!0});return E5(i,h)}(await h1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t,e,n){if(!n)throw new re(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zZ(t,e,n,r){if(e===!0&&r===!0)throw new re(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xR(t){if(!de.isDocumentKey(t))throw new re(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ER(t){if(de.isDocumentKey(t))throw new re(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ny(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function Wr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ny(t);throw new re(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function BZ(t,e){if(e<=0)throw new re(H.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zZ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class A5{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new re(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CR(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new WQ;switch(r.type){case"firstParty":return new qQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=wR.get(n);r&&(K("ComponentProvider","Removing Datastore"),wR.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wo(this.firestore,e,this._query)}}class Rr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rr(this.firestore,e,this._key)}}class cl extends wo{constructor(e,n,r){super(e,n,Gp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rr(this.firestore,null,new de(e))}withConverter(e){return new cl(this.firestore,e,this._path)}}function Ve(t,e,...n){if(t=ut(t),HL("collection","path",e),t instanceof A5){const r=Nt.fromString(e,...n);return ER(r),new cl(t,null,r)}{if(!(t instanceof Rr||t instanceof cl))throw new re(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Nt.fromString(e,...n));return ER(r),new cl(t.firestore,null,r)}}function Ce(t,e,...n){if(t=ut(t),arguments.length===1&&(e=pD.newId()),HL("doc","path",e),t instanceof A5){const r=Nt.fromString(e,...n);return xR(r),new Rr(t,null,new de(r))}{if(!(t instanceof Rr||t instanceof cl))throw new re(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Nt.fromString(e,...n));return xR(r),new Rr(t.firestore,t instanceof cl?t.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WZ{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new IL(this,"async_queue_retry"),this.cu=()=>{const n=G2();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=G2();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=G2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Js;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Ml(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw jr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const s=w5.createAndSchedule(this,e,n,r,i=>this.Iu(i));return this.su.push(s),s}lu(){this.ou&&Se()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function bR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Di extends A5{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new WZ}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||GL(this),this._firestoreClient.terminate()}}function HZ(t,e,n){n||(n="(default)");const r=Np(t,"firestore");if(r.isInitialized(n)){const s=r.getImmediate({identifier:n}),i=r.getOptions(n);if(Md(i,e))return s;throw new re(H.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new re(H.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function Ch(t){return t._firestoreClient||GL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function GL(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new CX(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,WL(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new OZ(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}function GZ(t,e){YZ(t=Wr(t,Di));const n=Ch(t);if(n._uninitializedComponentsProvider)throw new re(H.FAILED_PRECONDITION,"SDK cache is already specified.");Oc("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),s=new S5;return qZ(n,s,new zL(s,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function qZ(t,e,n){const r=new Js;return t.asyncQueue.enqueue(async()=>{try{await q2(t,n),await yE(t,e),r.resolve()}catch(s){const i=s;if(!BL(i))throw i;Oc("Error enabling indexeddb cache. Falling back to memory cache: "+i),r.reject(i)}}).then(()=>r.promise)}function YZ(t){if(t._initialized||t._terminated)throw new re(H.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KZ{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class QZ{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hd(gr.fromBase64String(e))}catch(n){throw new re(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hd(gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XZ=/^__.*__$/;class JZ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new va(e,this.data,this.fieldMask,n,this.fieldTransforms):new xh(e,this.data,n,this.fieldTransforms)}}class qL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new va(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class sy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new sy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.pu(e),s}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.Ru(),s}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return f1(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(YL(this.Vu)&&XZ.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class ZZ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ey(e)}Cu(e,n,r,s=!1){return new sy({Vu:e,methodName:n,Du:r,path:hn.emptyPath(),gu:!1,bu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zp(t){const e=t._freezeSettings(),n=ey(t._databaseId);return new ZZ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KL(t,e,n,r,s,i={}){const o=t.Cu(i.merge||i.mergeFields?2:0,e,n,s);L5("Data must be an object, but it was:",o,r);const a=XL(r,o);let l,c;if(i.merge)l=new ns(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=_E(e,h,n);if(!o.contains(f))throw new re(H.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);ZL(u,f)||u.push(f)}l=new ns(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new JZ(new Cr(a),l,c)}class iy extends Jp{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof iy}}function eee(t,e,n){return new sy({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class N5 extends Jp{_toFieldTransform(e){return new s5(e.path,new Ud)}isEqual(e){return e instanceof N5}}class D5 extends Jp{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=eee(this,e,!0),r=this.vu.map(i=>bh(i,n)),s=new Uc(r);return new s5(e.path,s)}isEqual(e){return e instanceof D5&&Md(this.vu,e.vu)}}function tee(t,e,n,r){const s=t.Cu(1,e,n);L5("Data must be an object, but it was:",s,r);const i=[],o=Cr.empty();au(r,(l,c)=>{const u=M5(e,l,n);c=ut(c);const h=s.yu(u);if(c instanceof iy)i.push(u);else{const f=bh(c,h);f!=null&&(i.push(u),o.set(u,f))}});const a=new ns(i);return new qL(o,a,s.fieldTransforms)}function nee(t,e,n,r,s,i){const o=t.Cu(1,e,n),a=[_E(e,r,n)],l=[s];if(i.length%2!=0)throw new re(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(_E(e,i[f])),l.push(i[f+1]);const c=[],u=Cr.empty();for(let f=a.length-1;f>=0;--f)if(!ZL(c,a[f])){const p=a[f];let m=l[f];m=ut(m);const v=o.yu(p);if(m instanceof iy)c.push(p);else{const E=bh(m,v);E!=null&&(c.push(p),u.set(p,E))}}const h=new ns(c);return new qL(u,h,o.fieldTransforms)}function QL(t,e,n,r=!1){return bh(n,t.Cu(r?4:3,e))}function bh(t,e){if(JL(t=ut(t)))return L5("Unsupported field value:",e,t),XL(t,e);if(t instanceof Jp)return function(r,s){if(!YL(s.Vu))throw s.Su(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Su(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=bh(a,s.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zX(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=pn.fromDate(r);return{timestampValue:Bd(s.serializer,i)}}if(r instanceof pn){const i=new pn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bd(s.serializer,i)}}if(r instanceof P5)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hd)return{bytesValue:JD(s.serializer,r._byteString)};if(r instanceof Rr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:c5(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Su(`Unsupported field value: ${ny(r)}`)}(t,e)}function XL(t,e){const n={};return CD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):au(t,(r,s)=>{const i=bh(s,e.fu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function JL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pn||t instanceof P5||t instanceof Hd||t instanceof Rr||t instanceof Jp)}function L5(t,e,n){if(!JL(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=ny(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function _E(t,e,n){if((e=ut(e))instanceof ry)return e._internalPath;if(typeof e=="string")return M5(t,e);throw f1("Field path arguments must be of type string or ",t,!1,void 0,n)}const ree=new RegExp("[~\\*/\\[\\]]");function M5(t,e,n){if(e.search(ree)>=0)throw f1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ry(...e.split("."))._internalPath}catch{throw f1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function f1(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new re(H.INVALID_ARGUMENT,a+t+l)}function ZL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new see(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(oy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class see extends O5{data(){return super.data()}}function oy(t,e){return typeof e=="string"?M5(t,e):e instanceof ry?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class j5{}let ay=class extends j5{};function zn(t,e,...n){let r=[];e instanceof j5&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof $5).length,a=i.filter(l=>l instanceof ly).length;if(o>1||o>0&&a>0)throw new re(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class ly extends ay{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ly(e,n,r)}_apply(e){const n=this._parse(e);return nM(e._query,n),new wo(e.firestore,e.converter,oE(e._query,n))}_parse(e){const n=Zp(e.firestore);return function(i,o,a,l,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new re(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){TR(h,u);const p=[];for(const m of h)p.push(IR(l,i,m));f={arrayValue:{values:p}}}else f=IR(l,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||TR(h,u),f=QL(a,o,h,u==="in"||u==="not-in");return gt.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _l(t,e,n){const r=e,s=oy("where",t);return ly._create(s,r,n)}class $5 extends j5{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $5(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:jt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)nM(o,l),o=oE(o,l)}(e._query,n),new wo(e.firestore,e.converter,oE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class F5 extends ay{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new F5(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new re(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new re(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Z0(i,o)}(e._query,this._field,this._direction);return new wo(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new lu(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Hc(t,e="asc"){const n=e,r=oy("orderBy",t);return F5._create(r,n)}class V5 extends ay{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new V5(e,n,r)}_apply(e){return new wo(e.firestore,e.converter,i1(e._query,this._limit,this._limitType))}}function po(t){return BZ("limit",t),V5._create("limit",t,"F")}let iee=class tM extends ay{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new tM(e,n,r)}_apply(e){const n=oee(e,this.type,this._docOrFields,this._inclusive);return new wo(e.firestore,e.converter,function(s,i){return new lu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}};function em(...t){return iee._create("startAfter",t,!1)}function oee(t,e,n,r){if(n[0]=ut(n[0]),n[0]instanceof O5)return function(i,o,a,l,c){if(!l)throw new re(H.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const h of pd(i))if(h.field.isKeyField())u.push(Fc(o,l.key));else{const f=l.data.field(h.field);if(Hv(f))throw new re(H.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const p=h.field.canonicalString();throw new re(H.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(f)}return new vl(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=Zp(t.firestore);return function(o,a,l,c,u,h){const f=o.explicitOrderBy;if(u.length>f.length)throw new re(H.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let m=0;m<u.length;m++){const v=u[m];if(f[m].field.isKeyField()){if(typeof v!="string")throw new re(H.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof v}`);if(!r5(o)&&v.indexOf("/")!==-1)throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${v}' contains a slash.`);const E=o.path.child(Nt.fromString(v));if(!de.isDocumentKey(E))throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const y=new de(E);p.push(Fc(a,y))}else{const E=QL(l,c,v);p.push(E)}}return new vl(p,h)}(t._query,t.firestore._databaseId,s,e,n,r)}}function IR(t,e,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new re(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!r5(e)&&n.indexOf("/")!==-1)throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Nt.fromString(n));if(!de.isDocumentKey(r))throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fc(t,new de(r))}if(n instanceof Rr)return Fc(t,n._key);throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ny(n)}.`)}function TR(t,e){if(!Array.isArray(t)||t.length===0)throw new re(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nM(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new re(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class aee{convertValue(e,n="none"){switch($c(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ml(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return au(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new P5(_n(e.latitude),_n(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=t5(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Q0(e));default:return null}}convertTimestamp(e){const n=pl(e);return new pn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Nt.fromString(e);Ne(aL(r));const s=new jc(r.get(1),r.get(3)),i=new de(r.popFirst(5));return s.isEqual(n)||jr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function lee(){return new KZ("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sM extends O5{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Y2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(oy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Y2 extends sM{data(e={}){return super.data(e)}}class iM{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Mf(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Y2(this._firestore,this._userDataWriter,r.key,r,new Mf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Y2(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Mf(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Y2(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Mf(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:cee(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t){t=Wr(t,Rr);const e=Wr(t.firestore,Di);return VZ(Ch(e),t._key).then(n=>oM(e,t,n))}class cy extends aee{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,n)}}function ci(t){t=Wr(t,wo);const e=Wr(t.firestore,Di),n=Ch(e),r=new cy(e);return eM(t._query),UZ(n,t._query).then(s=>new iM(e,r,t,s))}function wl(t,e,n){t=Wr(t,Rr);const r=Wr(t.firestore,Di),s=rM(t.converter,e,n);return uy(r,[KL(Zp(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ir.none())])}function er(t,e,n,...r){t=Wr(t,Rr);const s=Wr(t.firestore,Di),i=Zp(s);let o;return o=typeof(e=ut(e))=="string"||e instanceof ry?nee(i,"updateDoc",t._key,e,n,r):tee(i,"updateDoc",t._key,e),uy(s,[o.toMutation(t._key,Ir.exists(!0))])}function mo(t){return uy(Wr(t.firestore,Di),[new Kv(t._key,Ir.none())])}function xl(t,e){const n=Wr(t.firestore,Di),r=Ce(t),s=rM(t.converter,e);return uy(n,[KL(Zp(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ir.exists(!1))]).then(()=>r)}function $i(t,...e){var n,r,s;t=ut(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||bR(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(bR(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,u;if(t instanceof Rr)c=Wr(t.firestore,Di),u=Gp(t._key.path),l={next:h=>{e[o]&&e[o](oM(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Wr(t,wo);c=Wr(h.firestore,Di),u=h._query;const f=new cy(c);l={next:p=>{e[o]&&e[o](new iM(c,f,h,p))},error:e[o+1],complete:e[o+2]},eM(t._query)}return function(f,p,m,v){const E=new k5(v),y=new I5(p,E,m);return f.asyncQueue.enqueueAndForget(async()=>E5(await h1(f),y)),()=>{E.Qa(),f.asyncQueue.enqueueAndForget(async()=>C5(await h1(f),y))}}(Ch(c),u,a,l)}function uy(t,e){return function(r,s){const i=new Js;return r.asyncQueue.enqueueAndForget(async()=>RZ(await $Z(r),s,i)),i.promise}(Ch(t),e)}function oM(t,e,n){const r=n.docs.get(e._key),s=new cy(t);return new sM(t,s,e._key,r,new Mf(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(t){return uee(t,{count:lee()})}function uee(t,e){const n=Wr(t.firestore,Di),r=Ch(n),s=function(o,a){const l=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&l.push(a(o[c],c,o));return l}(e,(i,o)=>new KX(o,i.aggregateType,i._internalFieldPath));return function(o,a,l){const c=new Js;return o.asyncQueue.enqueueAndForget(async()=>{try{const u=await FZ(o);c.resolve(rZ(u,a,l))}catch(u){c.reject(u)}}),c.promise}(r,t._query,s).then(i=>function(a,l,c){const u=new cy(a);return new QZ(l,u,c)}(n,t,i))}class dee{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=pee(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function hee(t){return new dee(t)}class fee{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new S5,this._offlineComponentProvider=new zL(this._onlineComponentProvider,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}function pee(t){return new fee(t==null?void 0:t.forceOwnership)}function dr(){return new N5("serverTimestamp")}function wE(...t){return new D5("arrayUnion",t)}(function(e,n=!0){(function(s){wh=s})(ji),ho(new Pi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Di(new HQ(r.getProvider("auth-internal")),new KQ(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new re(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),us(Ek,"4.5.0",e),us(Ek,"4.5.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM="firebasestorage.googleapis.com",lM="storageBucket",mee=2*60*1e3,gee=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn extends js{constructor(e,n,r=0){super(Bw(e),`Firebase Storage: ${n} (${Bw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Cn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Cn||(Cn={}));function Bw(t){return"storage/"+t}function z5(){const t="An unknown error occurred, please check the error payload for server response.";return new bn(Cn.UNKNOWN,t)}function vee(t){return new bn(Cn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function yee(t){return new bn(Cn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _ee(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new bn(Cn.UNAUTHENTICATED,t)}function wee(){return new bn(Cn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function xee(t){return new bn(Cn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Eee(){return new bn(Cn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Cee(){return new bn(Cn.CANCELED,"User canceled the upload/download.")}function bee(t){return new bn(Cn.INVALID_URL,"Invalid URL '"+t+"'.")}function Iee(t){return new bn(Cn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Tee(){return new bn(Cn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+lM+"' property when initializing the app?")}function See(){return new bn(Cn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kee(){return new bn(Cn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Ree(t){return new bn(Cn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xE(t){return new bn(Cn.INVALID_ARGUMENT,t)}function cM(){return new bn(Cn.APP_DELETED,"The Firebase app was deleted.")}function Aee(t){return new bn(Cn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function r0(t,e){return new bn(Cn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function lf(t){throw new bn(Cn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Is.makeFromUrl(e,n)}catch{return new Is(e,"")}if(r.path==="")return r;throw Iee(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(x){x.path_=decodeURIComponent(x.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${u}/b/${s}/o${f}`,"i"),m={bucket:1,path:3},v=n===aM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",y=new RegExp(`^https?://${v}/${s}/${E}`,"i"),_=[{regex:a,indices:l,postModify:i},{regex:p,indices:m,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let x=0;x<_.length;x++){const b=_[x],C=b.regex.exec(e);if(C){const T=C[b.indices.bucket];let I=C[b.indices.path];I||(I=""),r=new Is(T,I),b.postModify(r);break}}if(r==null)throw bee(e);return r}}class Pee{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nee(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...E){c||(c=!0,e.apply(null,E))}function h(E){s=setTimeout(()=>{s=null,t(p,l())},E)}function f(){i&&clearTimeout(i)}function p(E,...y){if(c){f();return}if(E){f(),u.call(null,E,...y);return}if(l()||o){f(),u.call(null,E,...y);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,h(_)}let m=!1;function v(E){m||(m=!0,f(),!c&&(s!==null?(E||(a=2),clearTimeout(s),h(0)):E||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function Dee(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lee(t){return t!==void 0}function Mee(t){return typeof t=="object"&&!Array.isArray(t)}function B5(t){return typeof t=="string"||t instanceof String}function SR(t){return W5()&&t instanceof Blob}function W5(){return typeof Blob<"u"}function kR(t,e,n,r){if(r<e)throw xE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xE(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function uM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(wc||(wc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oee(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jee{constructor(e,n,r,s,i,o,a,l,c,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new r2(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===wc.NO_ERROR,l=i.getStatus();if(!a||Oee(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===wc.ABORT;r(!1,new r2(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new r2(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Lee(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=z5();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?cM():Cee();o(l)}else{const l=Eee();o(l)}};this.canceled_?n(!1,new r2(!1,null,!0)):this.backoffId_=Nee(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Dee(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class r2{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function $ee(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Fee(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Vee(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Uee(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function zee(t,e,n,r,s,i,o=!0){const a=uM(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Vee(c,e),$ee(c,n),Fee(c,i),Uee(c,r),new jee(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bee(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Wee(...t){const e=Bee();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(W5())return new Blob(t);throw new bn(Cn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Hee(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gee(t){if(typeof atob>"u")throw Ree("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ww{constructor(e,n){this.data=e,this.contentType=n||null}}function qee(t,e){switch(t){case ro.RAW:return new Ww(dM(e));case ro.BASE64:case ro.BASE64URL:return new Ww(hM(t,e));case ro.DATA_URL:return new Ww(Kee(e),Qee(e))}throw z5()}function dM(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Yee(t){let e;try{e=decodeURIComponent(t)}catch{throw r0(ro.DATA_URL,"Malformed data URL.")}return dM(e)}function hM(t,e){switch(t){case ro.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw r0(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ro.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw r0(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Gee(e)}catch(s){throw s.message.includes("polyfill")?s:r0(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class fM{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw r0(ro.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Xee(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Kee(t){const e=new fM(t);return e.base64?hM(ro.BASE64,e.rest):Yee(e.rest)}function Qee(t){return new fM(t).contentType}function Xee(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){let r=0,s="";SR(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(SR(this.data_)){const r=this.data_,s=Hee(r,e,n);return s===null?null:new Va(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Va(r,!0)}}static getBlob(...e){if(W5()){const n=e.map(r=>r instanceof Va?r.data_:r);return new Va(Wee.apply(null,n))}else{const n=e.map(o=>B5(o)?qee(ro.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Va(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t){let e;try{e=JSON.parse(t)}catch{return null}return Mee(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jee(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Zee(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function mM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ete(t,e){return e}class Lr{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||ete}}let s2=null;function tte(t){return!B5(t)||t.length<2?t:mM(t)}function gM(){if(s2)return s2;const t=[];t.push(new Lr("bucket")),t.push(new Lr("generation")),t.push(new Lr("metageneration")),t.push(new Lr("name","fullPath",!0));function e(i,o){return tte(o)}const n=new Lr("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Lr("size");return s.xform=r,t.push(s),t.push(new Lr("timeCreated")),t.push(new Lr("updated")),t.push(new Lr("md5Hash",null,!0)),t.push(new Lr("cacheControl",null,!0)),t.push(new Lr("contentDisposition",null,!0)),t.push(new Lr("contentEncoding",null,!0)),t.push(new Lr("contentLanguage",null,!0)),t.push(new Lr("contentType",null,!0)),t.push(new Lr("metadata","customMetadata",!0)),s2=t,s2}function nte(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Is(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function rte(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return nte(r,t),r}function vM(t,e,n){const r=pM(e);return r===null?null:rte(t,r,n)}function ste(t,e,n,r){const s=pM(e);if(s===null||!B5(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,h=t.fullPath,f="/b/"+o(u)+"/o/"+o(h),p=dy(f,n,r),m=uM({alt:"media",token:c});return p+m})[0]}function ite(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class H5{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t){if(!t)throw z5()}function ote(t,e){function n(r,s){const i=vM(t,s,e);return yM(i!==null),i}return n}function ate(t,e){function n(r,s){const i=vM(t,s,e);return yM(i!==null),ste(i,s,t.host,t._protocol)}return n}function _M(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=wee():s=_ee():n.getStatus()===402?s=yee(t.bucket):n.getStatus()===403?s=xee(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function wM(t){const e=_M(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=vee(t.path)),i.serverResponse=s.serverResponse,i}return n}function lte(t,e,n){const r=e.fullServerUrl(),s=dy(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new H5(s,i,ate(t,n),o);return a.errorHandler=wM(e),a}function cte(t,e){const n=e.fullServerUrl(),r=dy(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,c){}const a=new H5(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=wM(e),a}function ute(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function dte(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=ute(null,e)),r}function hte(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let x=0;x<2;x++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=dte(e,r,s),u=ite(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Va.getBlob(h,r,f);if(p===null)throw See();const m={name:c.fullPath},v=dy(i,t.host,t._protocol),E="POST",y=t.maxUploadRetryTime,w=new H5(v,E,ote(t,n),y);return w.urlParams=m,w.headers=o,w.body=p.uploadData(),w.errorHandler=_M(e),w}class fte{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw lf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw lf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw lf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw lf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw lf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class pte extends fte{initXhr(){this.xhr_.responseType="text"}}function G5(){return new pte}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this._service=e,n instanceof Is?this._location=n:this._location=Is.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Gc(e,n)}get root(){const e=new Is(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mM(this._location.path)}get storage(){return this._service}get parent(){const e=Jee(this._location.path);if(e===null)return null;const n=new Is(this._location.bucket,e);return new Gc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Aee(e)}}function mte(t,e,n){t._throwIfRoot("uploadBytes");const r=hte(t.storage,t._location,gM(),new Va(e,!0),n);return t.storage.makeRequestWithTokens(r,G5).then(s=>({metadata:s,ref:t}))}function gte(t){t._throwIfRoot("getDownloadURL");const e=lte(t.storage,t._location,gM());return t.storage.makeRequestWithTokens(e,G5).then(n=>{if(n===null)throw kee();return n})}function vte(t){t._throwIfRoot("deleteObject");const e=cte(t.storage,t._location);return t.storage.makeRequestWithTokens(e,G5)}function yte(t,e){const n=Zee(t._location.path,e),r=new Is(t._location.bucket,n);return new Gc(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _te(t){return/^[A-Za-z]+:\/\//.test(t)}function wte(t,e){return new Gc(t,e)}function xM(t,e){if(t instanceof q5){const n=t;if(n._bucket==null)throw Tee();const r=new Gc(n,n._bucket);return e!=null?xM(r,e):r}else return e!==void 0?yte(t,e):t}function xte(t,e){if(e&&_te(e)){if(t instanceof q5)return wte(t,e);throw xE("To use ref(service, url), the first argument must be a Storage instance.")}else return xM(t,e)}function RR(t,e){const n=e==null?void 0:e[lM];return n==null?null:Is.makeFromBucketSpec(n,t)}function Ete(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:g8(s,t.app.options.projectId))}class q5{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=aM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mee,this._maxUploadRetryTime=gee,this._requests=new Set,s!=null?this._bucket=Is.makeFromBucketSpec(s,this._host):this._bucket=RR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Is.makeFromBucketSpec(this._url,e):this._bucket=RR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){kR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){kR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gc(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Pee(cM());{const o=zee(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const AR="@firebase/storage",PR="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM="storage";function Gd(t,e,n){return t=ut(t),mte(t,e,n)}function qd(t){return t=ut(t),gte(t)}function EE(t){return t=ut(t),vte(t)}function Bo(t,e){return t=ut(t),xte(t,e)}function Cte(t=xb(),e){t=ut(t);const r=Np(t,EM).getImmediate({identifier:e}),s=f8("storage");return s&&bte(r,...s),r}function bte(t,e,n,r={}){Ete(t,e,n,r)}function Ite(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new q5(n,r,s,e,ji)}function Tte(){ho(new Pi(EM,Ite,"PUBLIC").setMultipleInstances(!0)),us(AR,PR,""),us(AR,PR,"esm2017")}Tte();var NR={};const DR="@firebase/database",LR="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CM="";function Ste(t){CM=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kte{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Zn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:j0(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rte{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return yo(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new kte(e)}}catch{}return new Rte},cc=bM("localStorage"),CE=bM("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=new Pp("@firebase/database"),Ate=function(){let t=1;return function(){return t++}}(),IM=function(t){const e=nG(t),n=new ZH;n.update(e);const r=n.digest();return yb.encodeByteArray(r)},tm=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=tm.apply(null,r):typeof r=="object"?e+=Zn(r):e+=r,e+=" "}return e};let xc=null,MR=!0;const Pte=function(t,e){ie(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(gd.logLevel=st.VERBOSE,xc=gd.log.bind(gd),e&&CE.set("logging_enabled",!0)):typeof t=="function"?xc=t:(xc=null,CE.remove("logging_enabled"))},ur=function(...t){if(MR===!0&&(MR=!1,xc===null&&CE.get("logging_enabled")===!0&&Pte(!0)),xc){const e=tm.apply(null,t);xc(e)}},nm=function(t){return function(...e){ur(t,...e)}},bE=function(...t){const e="FIREBASE INTERNAL ERROR: "+tm(...t);gd.error(e)},ia=function(...t){const e=`FIREBASE FATAL ERROR: ${tm(...t)}`;throw gd.error(e),new Error(e)},ds=function(...t){const e="FIREBASE WARNING: "+tm(...t);gd.warn(e)},Nte=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ds("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},hy=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Dte=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},qc="[MIN_NAME]",El="[MAX_NAME]",uu=function(t,e){if(t===e)return 0;if(t===qc||e===El)return-1;if(e===qc||t===El)return 1;{const n=OR(t),r=OR(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Lte=function(t,e){return t===e?0:t<e?-1:1},cf=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Zn(e))},Y5=function(t){if(typeof t!="object"||t===null)return Zn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Zn(e[r]),n+=":",n+=Y5(t[e[r]]);return n+="}",n},TM=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Nr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const SM=function(t){ie(!hy(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},Mte=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Ote=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function jte(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const $te=new RegExp("^-?(0*)\\d{1,10}$"),Fte=-2147483648,Vte=2147483647,OR=function(t){if($te.test(t)){const e=Number(t);if(e>=Fte&&e<=Vte)return e}return null},Ih=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ds("Exception was thrown by user callback.",n),e},Math.floor(0))}},Ute=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},s0=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zte{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ds(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bte{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ur("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ds(e)}}class vd{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}vd.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5="5",kM="v",RM="s",AM="r",PM="f",NM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,DM="ls",LM="p",IE="ac",MM="websocket",OM="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=cc.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&cc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Wte(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function $M(t,e,n){ie(typeof e=="string","typeof type must == string"),ie(typeof n=="object","typeof params must == object");let r;if(e===MM)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===OM)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Wte(t)&&(n.ns=t.namespace);const s=[];return Nr(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hte{constructor(){this.counters_={}}incrementCounter(e,n=1){yo(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return VH(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw={},Gw={};function Q5(t){const e=t.toString();return Hw[e]||(Hw[e]=new Hte),Hw[e]}function Gte(t,e){const n=t.toString();return Gw[n]||(Gw[n]=e()),Gw[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qte{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Ih(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="start",Yte="close",Kte="pLPCommand",Qte="pRTLPCB",FM="id",VM="pw",UM="ser",Xte="cb",Jte="seg",Zte="ts",ene="d",tne="dframe",zM=1870,BM=30,nne=zM-BM,rne=25e3,sne=3e4;class Zu{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nm(e),this.stats_=Q5(n),this.urlFn=l=>(this.appCheckToken&&(l[IE]=this.appCheckToken),$M(n,OM,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new qte(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(sne)),Dte(()=>{if(this.isClosed_)return;this.scriptTagHolder=new X5((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===jR)this.id=a,this.password=l;else if(o===Yte)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[jR]="t",r[UM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Xte]=this.scriptTagHolder.uniqueCallbackIdentifier),r[kM]=K5,this.transportSessionId&&(r[RM]=this.transportSessionId),this.lastSessionId&&(r[DM]=this.lastSessionId),this.applicationId&&(r[LM]=this.applicationId),this.appCheckToken&&(r[IE]=this.appCheckToken),typeof location<"u"&&location.hostname&&NM.test(location.hostname)&&(r[AM]=PM);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Zu.forceAllow_=!0}static forceDisallow(){Zu.forceDisallow_=!0}static isAvailable(){return Zu.forceAllow_?!0:!Zu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Mte()&&!Ote()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Zn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=u8(n),s=TM(r,nne);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[tne]="t",r[FM]=e,r[VM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Zn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class X5{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Ate(),window[Kte+this.uniqueCallbackIdentifier]=e,window[Qte+this.uniqueCallbackIdentifier]=n,this.myIFrame=X5.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ur("frame writing exception"),a.stack&&ur(a.stack),ur(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ur("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[FM]=this.myID,e[VM]=this.myPW,e[UM]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+BM+r.length<=zM;){const o=this.pendingSegs.shift();r=r+"&"+Jte+s+"="+o.seg+"&"+Zte+s+"="+o.ts+"&"+ene+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(rne)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ur("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ine=16384,one=45e3;let p1=null;typeof MozWebSocket<"u"?p1=MozWebSocket:typeof WebSocket<"u"&&(p1=WebSocket);class Ci{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nm(this.connId),this.stats_=Q5(n),this.connURL=Ci.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[kM]=K5,typeof location<"u"&&location.hostname&&NM.test(location.hostname)&&(o[AM]=PM),n&&(o[RM]=n),r&&(o[DM]=r),s&&(o[IE]=s),i&&(o[LM]=i),$M(e,MM,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,cc.set("previous_websocket_failure",!0);try{let r;_8(),this.mySock=new p1(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Ci.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&p1!==null&&!Ci.forceDisallow_}static previouslyFailed(){return cc.isInMemoryStorage||cc.get("previous_websocket_failure")===!0}markConnectionHealthy(){cc.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=j0(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ie(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Zn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=TM(n,ine);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(one))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ci.responsesRequiredToBeHealthy=2;Ci.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Zu,Ci]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Ci&&Ci.isAvailable();let r=n&&!Ci.previouslyFailed();if(e.webSocketOnly&&(n||ds("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ci];else{const s=this.transports_=[];for(const i of tp.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);tp.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}tp.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ane=6e4,lne=5e3,cne=10*1024,une=100*1024,qw="t",$R="d",dne="s",FR="r",hne="e",VR="o",UR="a",zR="n",BR="p",fne="h";class pne{constructor(e,n,r,s,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nm("c:"+this.id+":"),this.transportManager_=new tp(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=s0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>une?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>cne?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(qw in e){const n=e[qw];n===UR?this.upgradeIfSecondaryHealthy_():n===FR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===VR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=cf("t",e),r=cf("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:BR,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:UR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:zR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=cf("t",e),r=cf("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=cf(qw,e);if($R in e){const r=e[$R];if(n===fne){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===zR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===dne?this.onConnectionShutdown_(r):n===FR?this.onReset_(r):n===hne?bE("Server Error: "+r):n===VR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bE("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),K5!==r&&ds("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),s0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ane))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):s0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(lne))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:BR,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(cc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.allowedEvents_=e,this.listeners_={},ie(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){ie(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1 extends HM{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!yv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new m1}getInitialEvent(e){return ie(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=32,HR=768;class Ot{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Dt(){return new Ot("")}function it(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Cl(t){return t.pieces_.length-t.pieceNum_}function Gt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ot(t.pieces_,e)}function J5(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function mne(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function np(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function GM(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ot(e,0)}function kn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ot)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Ot(n,0)}function ot(t){return t.pieceNum_>=t.pieces_.length}function rs(t,e){const n=it(t),r=it(e);if(n===null)return e;if(n===r)return rs(Gt(t),Gt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function gne(t,e){const n=np(t,0),r=np(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=uu(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function Z5(t,e){if(Cl(t)!==Cl(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Qs(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Cl(t)>Cl(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class vne{constructor(e,n){this.errorPrefix_=n,this.parts_=np(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=_v(this.parts_[r]);qM(this)}}function yne(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=_v(e),qM(t)}function _ne(t){const e=t.parts_.pop();t.byteLength_-=_v(e),t.parts_.length>0&&(t.byteLength_-=1)}function qM(t){if(t.byteLength_>HR)throw new Error(t.errorPrefix_+"has a key path longer than "+HR+" bytes ("+t.byteLength_+").");if(t.parts_.length>WR)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+WR+") or object contains a cycle "+Kl(t))}function Kl(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI extends HM{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new eI}getInitialEvent(e){return ie(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=1e3,wne=60*5*1e3,GR=30*1e3,xne=1.3,Ene=3e4,Cne="server_kill",qR=3;class Ko extends WM{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ko.nextPersistentConnectionId_++,this.log_=nm("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=uf,this.maxReconnectDelay_=wne,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!_8())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");eI.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&m1.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Zn(i)),ie(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Lo,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),ie(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ie(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Ko.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&yo(e,"w")){const r=Ld(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();ds(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||JH(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=GR)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=XH(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),ie(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Zn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):bE("Unrecognized action received from server: "+Zn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ie(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=uf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=uf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Ene&&(this.reconnectDelay_=uf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*xne)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Ko.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){ie(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?ur("getToken() completed but was canceled"):(ur("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new pne(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{ds(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Cne)},i))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&ds(h),l())}}}interrupt(e){ur("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ur("Resuming connection for reason: "+e),delete this.interruptReasons_[e],zg(this.interruptReasons_)&&(this.reconnectDelay_=uf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Y5(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Ot(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){ur("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=qR&&(this.reconnectDelay_=GR,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ur("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=qR&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+CM.replace(/\./g,"-")]=1,yv()?e["framework.cordova"]=1:_b()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=m1.getInstance().currentlyOnline();return zg(this.interruptReasons_)&&e}}Ko.nextPersistentConnectionId_=0;Ko.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ct(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ct(qc,e),s=new ct(qc,n);return this.compare(r,s)!==0}minPost(){return ct.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i2;class YM extends fy{static get __EMPTY_NODE(){return i2}static set __EMPTY_NODE(e){i2=e}compare(e,n){return uu(e.name,n.name)}isDefinedOn(e){throw gh("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ct.MIN}maxPost(){return new ct(El,i2)}makePost(e,n){return ie(typeof e=="string","KeyIndex indexValue must always be a string."),new ct(e,i2)}toString(){return".key"}}const Ec=new YM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Xn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Xn.RED,this.left=s??ss.EMPTY_NODE,this.right=i??ss.EMPTY_NODE}copy(e,n,r,s,i){return new Xn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ss.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ss.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Xn.RED=!0;Xn.BLACK=!1;class bne{copy(e,n,r,s,i){return this}insert(e,n,r){return new Xn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ss{constructor(e,n=ss.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ss(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Xn.BLACK,null,null))}remove(e){return new ss(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new o2(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new o2(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new o2(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new o2(this.root_,null,this.comparator_,!0,e)}}ss.EMPTY_NODE=new bne;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ine(t,e){return uu(t.name,e.name)}function tI(t,e){return uu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TE;function Tne(t){TE=t}const KM=function(t){return typeof t=="number"?"number:"+SM(t):"string:"+t},QM=function(t){if(t.isLeafNode()){const e=t.val();ie(typeof e=="string"||typeof e=="number"||typeof e=="object"&&yo(e,".sv"),"Priority must be a string or number.")}else ie(t===TE||t.isEmpty(),"priority of unexpected type.");ie(t===TE||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YR;class Yn{constructor(e,n=Yn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ie(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),QM(this.priorityNode_)}static set __childrenNodeConstructor(e){YR=e}static get __childrenNodeConstructor(){return YR}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Yn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Yn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ot(e)?this:it(e)===".priority"?this.priorityNode_:Yn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Yn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=it(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ie(r!==".priority"||Cl(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Yn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Gt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+KM(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=SM(this.value_):e+=this.value_,this.lazyHash_=IM(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Yn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Yn.__childrenNodeConstructor?-1:(ie(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Yn.VALUE_TYPE_ORDER.indexOf(n),i=Yn.VALUE_TYPE_ORDER.indexOf(r);return ie(s>=0,"Unknown leaf type: "+n),ie(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Yn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XM,JM;function Sne(t){XM=t}function kne(t){JM=t}class Rne extends fy{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?uu(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ct.MIN}maxPost(){return new ct(El,new Yn("[PRIORITY-POST]",JM))}makePost(e,n){const r=XM(e);return new ct(n,new Yn("[PRIORITY-POST]",r))}toString(){return".priority"}}const cn=new Rne;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ane=Math.log(2);class Pne{constructor(e){const n=i=>parseInt(Math.log(i)/Ane,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const g1=function(t,e,n,r){t.sort(e);const s=function(l,c){const u=c-l;let h,f;if(u===0)return null;if(u===1)return h=t[l],f=n?n(h):h,new Xn(f,h.node,Xn.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=s(l,p),v=s(p+1,c);return h=t[p],f=n?n(h):h,new Xn(f,h.node,Xn.BLACK,m,v)}},i=function(l){let c=null,u=null,h=t.length;const f=function(m,v){const E=h-m,y=h;h-=m;const w=s(E+1,y),_=t[E],x=n?n(_):_;p(new Xn(x,_.node,v,null,w))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const v=l.nextBitIsOne(),E=Math.pow(2,l.count-(m+1));v?f(E,Xn.BLACK):(f(E,Xn.BLACK),f(E,Xn.RED))}return u},o=new Pne(t.length),a=i(o);return new ss(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yw;const Iu={};class Wo{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ie(Iu&&cn,"ChildrenNode.ts has not been loaded"),Yw=Yw||new Wo({".priority":Iu},{".priority":cn}),Yw}get(e){const n=Ld(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ss?n:null}hasIndex(e){return yo(this.indexSet_,e.toString())}addIndex(e,n){ie(e!==Ec,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(ct.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=g1(r,e.getCompare()):a=Iu;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Wo(u,c)}addToIndexes(e,n){const r=Bg(this.indexes_,(s,i)=>{const o=Ld(this.indexSet_,i);if(ie(o,"Missing index implementation for "+i),s===Iu)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ct.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),g1(a,o.getCompare())}else return Iu;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new ct(e.name,a))),l.insert(e,e.node)}});return new Wo(r,this.indexSet_)}removeFromIndexes(e,n){const r=Bg(this.indexes_,s=>{if(s===Iu)return s;{const i=n.get(e.name);return i?s.remove(new ct(e.name,i)):s}});return new Wo(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df;class ze{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&QM(this.priorityNode_),this.children_.isEmpty()&&ie(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return df||(df=new ze(new ss(tI),null,Wo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||df}updatePriority(e){return this.children_.isEmpty()?this:new ze(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?df:n}}getChild(e){const n=it(e);return n===null?this:this.getImmediateChild(n).getChild(Gt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ie(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ct(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?df:this.priorityNode_;return new ze(s,o,i)}}updateChild(e,n){const r=it(e);if(r===null)return n;{ie(it(e)!==".priority"||Cl(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Gt(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(cn,(o,a)=>{n[o]=a.val(e),r++,i&&ze.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+KM(this.getPriority().val())+":"),this.forEachChild(cn,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":IM(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new ct(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ct(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ct(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ct.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ct.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===rm?-1:0}withIndex(e){if(e===Ec||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ze(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ec||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(cn),s=n.getIterator(cn);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ec?null:this.indexMap_.get(e.toString())}}ze.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Nne extends ze{constructor(){super(new ss(tI),ze.EMPTY_NODE,Wo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ze.EMPTY_NODE}isEmpty(){return!1}}const rm=new Nne;Object.defineProperties(ct,{MIN:{value:new ct(qc,ze.EMPTY_NODE)},MAX:{value:new ct(El,rm)}});YM.__EMPTY_NODE=ze.EMPTY_NODE;Yn.__childrenNodeConstructor=ze;Tne(rm);kne(rm);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dne=!0;function Mn(t,e=null){if(t===null)return ze.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ie(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Yn(n,Mn(e))}if(!(t instanceof Array)&&Dne){const n=[];let r=!1;if(Nr(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Mn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ct(o,l)))}}),n.length===0)return ze.EMPTY_NODE;const i=g1(n,Ine,o=>o.name,tI);if(r){const o=g1(n,cn.getCompare());return new ze(i,Mn(e),new Wo({".priority":o},{".priority":cn}))}else return new ze(i,Mn(e),Wo.Default)}else{let n=ze.EMPTY_NODE;return Nr(t,(r,s)=>{if(yo(t,r)&&r.substring(0,1)!=="."){const i=Mn(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Mn(e))}}Sne(Mn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI extends fy{constructor(e){super(),this.indexPath_=e,ie(!ot(e)&&it(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?uu(e.name,n.name):i}makePost(e,n){const r=Mn(e),s=ze.EMPTY_NODE.updateChild(this.indexPath_,r);return new ct(n,s)}maxPost(){const e=ze.EMPTY_NODE.updateChild(this.indexPath_,rm);return new ct(El,e)}toString(){return np(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lne extends fy{compare(e,n){const r=e.node.compareTo(n.node);return r===0?uu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ct.MIN}maxPost(){return ct.MAX}makePost(e,n){const r=Mn(e);return new ct(n,r)}toString(){return".value"}}const ZM=new Lne;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t){return{type:"value",snapshotNode:t}}function Yd(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function rp(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function sp(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Mne(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){ie(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(rp(n,a)):ie(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Yd(n,r)):o.trackChildChange(sp(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(cn,(s,i)=>{n.hasChild(s)||r.trackChildChange(rp(s,i))}),n.isLeafNode()||n.forEachChild(cn,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(sp(s,i,o))}else r.trackChildChange(Yd(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ze.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e){this.indexedFilter_=new rI(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ip.getStartPost_(e),this.endPost_=ip.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new ct(n,r))||(r=ze.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ze.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(ze.EMPTY_NODE);const i=this;return n.forEachChild(cn,(o,a)=>{i.matches(new ct(o,a))||(s=s.updateImmediateChild(o,ze.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class One{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ip(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new ct(n,r))||(r=ze.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=ze.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=ze.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(ze.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,ze.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,p)=>h(p,f)}else o=this.index_.getCompare();const a=e;ie(a.numChildren()===this.limit_,"");const l=new ct(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let f=s.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=s.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:o(f,l);if(u&&!r.isEmpty()&&p>=0)return i!=null&&i.trackChildChange(sp(n,r,h)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(rp(n,h));const v=a.updateImmediateChild(n,ze.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(i!=null&&i.trackChildChange(Yd(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return r.isEmpty()?e:u&&o(c,l)>=0?(i!=null&&(i.trackChildChange(rp(c.name,c.node)),i.trackChildChange(Yd(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,ze.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=cn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ie(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ie(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qc}hasEnd(){return this.endSet_}getIndexEndValue(){return ie(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ie(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:El}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ie(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===cn}copy(){const e=new sI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function jne(t){return t.loadsAllData()?new rI(t.getIndex()):t.hasLimit()?new One(t):new ip(t)}function $ne(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Fne(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Vne(t,e){const n=t.copy();return n.index_=e,n}function KR(t){const e={};if(t.isDefault())return e;let n;if(t.index_===cn?n="$priority":t.index_===ZM?n="$value":t.index_===Ec?n="$key":(ie(t.index_ instanceof nI,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Zn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Zn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Zn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Zn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Zn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function QR(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==cn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1 extends WM{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=nm("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ie(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=v1.getListenId_(e,r),a={};this.listens_[o]=a;const l=KR(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(i,h,!1,r),Ld(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const r=v1.getListenId_(e,n);delete this.listens_[r]}get(e){const n=KR(e._queryParams),r=e._path.toString(),s=new Lo;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+pa(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=j0(a.responseText)}catch{ds("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ds("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Une{constructor(){this.rootNode_=ze.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(){return{value:null,children:new Map}}function Th(t,e,n){if(ot(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=it(e);t.children.has(r)||t.children.set(r,y1());const s=t.children.get(r);e=Gt(e),Th(s,e,n)}}function SE(t,e){if(ot(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(cn,(r,s)=>{Th(t,new Ot(r),s)}),SE(t,e)}}else if(t.children.size>0){const n=it(e);return e=Gt(e),t.children.has(n)&&SE(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function kE(t,e,n){t.value!==null?n(e,t.value):zne(t,(r,s)=>{const i=new Ot(e.toString()+"/"+r);kE(s,i,n)})}function zne(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bne{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Nr(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=10*1e3,Wne=30*1e3,Hne=5*60*1e3;class Gne{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Bne(e);const r=XR+(Wne-XR)*Math.random();s0(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Nr(e,(s,i)=>{i>0&&yo(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),s0(this.reportStats_.bind(this),Math.floor(Math.random()*2*Hne))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(bi||(bi={}));function tO(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function iI(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function oI(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=bi.ACK_USER_WRITE,this.source=tO()}operationForChild(e){if(ot(this.path)){if(this.affectedTree.value!=null)return ie(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ot(e));return new _1(Dt(),n,this.revert)}}else return ie(it(this.path)===e,"operationForChild called for unrelated child."),new _1(Gt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n){this.source=e,this.path=n,this.type=bi.LISTEN_COMPLETE}operationForChild(e){return ot(this.path)?new op(this.source,Dt()):new op(this.source,Gt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=bi.OVERWRITE}operationForChild(e){return ot(this.path)?new Yc(this.source,Dt(),this.snap.getImmediateChild(e)):new Yc(this.source,Gt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=bi.MERGE}operationForChild(e){if(ot(this.path)){const n=this.children.subtree(new Ot(e));return n.isEmpty()?null:n.value?new Yc(this.source,Dt(),n.value):new ap(this.source,Dt(),n)}else return ie(it(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ap(this.source,Gt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ot(e))return this.isFullyInitialized()&&!this.filtered_;const n=it(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qne{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Yne(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(Mne(o.childName,o.snapshotNode))}),hf(t,s,"child_removed",e,r,n),hf(t,s,"child_added",e,r,n),hf(t,s,"child_moved",i,r,n),hf(t,s,"child_changed",e,r,n),hf(t,s,"value",e,r,n),s}function hf(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>Qne(t,a,l)),o.forEach(a=>{const l=Kne(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Kne(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Qne(t,e,n){if(e.childName==null||n.childName==null)throw gh("Should only compare child_ events.");const r=new ct(e.childName,e.snapshotNode),s=new ct(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t,e){return{eventCache:t,serverCache:e}}function i0(t,e,n,r){return py(new Kc(e,n,r),t.serverCache)}function nO(t,e,n,r){return py(t.eventCache,new Kc(e,n,r))}function RE(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Qc(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kw;const Xne=()=>(Kw||(Kw=new ss(Lte)),Kw);class Xt{constructor(e,n=Xne()){this.value=e,this.children=n}static fromObject(e){let n=new Xt(null);return Nr(e,(r,s)=>{n=n.set(new Ot(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Dt(),value:this.value};if(ot(e))return null;{const r=it(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(Gt(e),n);return i!=null?{path:kn(new Ot(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ot(e))return this;{const n=it(e),r=this.children.get(n);return r!==null?r.subtree(Gt(e)):new Xt(null)}}set(e,n){if(ot(e))return new Xt(n,this.children);{const r=it(e),i=(this.children.get(r)||new Xt(null)).set(Gt(e),n),o=this.children.insert(r,i);return new Xt(this.value,o)}}remove(e){if(ot(e))return this.children.isEmpty()?new Xt(null):new Xt(null,this.children);{const n=it(e),r=this.children.get(n);if(r){const s=r.remove(Gt(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new Xt(null):new Xt(this.value,i)}else return this}}get(e){if(ot(e))return this.value;{const n=it(e),r=this.children.get(n);return r?r.get(Gt(e)):null}}setTree(e,n){if(ot(e))return n;{const r=it(e),i=(this.children.get(r)||new Xt(null)).setTree(Gt(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new Xt(this.value,o)}}fold(e){return this.fold_(Dt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(kn(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Dt(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(ot(e))return null;{const i=it(e),o=this.children.get(i);return o?o.findOnPath_(Gt(e),kn(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Dt(),n)}foreachOnPath_(e,n,r){if(ot(e))return this;{this.value&&r(n,this.value);const s=it(e),i=this.children.get(s);return i?i.foreachOnPath_(Gt(e),kn(n,s),r):new Xt(null)}}foreach(e){this.foreach_(Dt(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(kn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.writeTree_=e}static empty(){return new ki(new Xt(null))}}function o0(t,e,n){if(ot(e))return new ki(new Xt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=rs(s,e);return i=i.updateChild(o,n),new ki(t.writeTree_.set(s,i))}else{const s=new Xt(n),i=t.writeTree_.setTree(e,s);return new ki(i)}}}function JR(t,e,n){let r=t;return Nr(n,(s,i)=>{r=o0(r,kn(e,s),i)}),r}function ZR(t,e){if(ot(e))return ki.empty();{const n=t.writeTree_.setTree(e,new Xt(null));return new ki(n)}}function AE(t,e){return du(t,e)!=null}function du(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(rs(n.path,e)):null}function eA(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(cn,(r,s)=>{e.push(new ct(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new ct(r,s.value))}),e}function ul(t,e){if(ot(e))return t;{const n=du(t,e);return n!=null?new ki(new Xt(n)):new ki(t.writeTree_.subtree(e))}}function PE(t){return t.writeTree_.isEmpty()}function Kd(t,e){return rO(Dt(),t.writeTree_,e)}function rO(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(ie(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=rO(kn(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(kn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(t,e){return aO(e,t)}function Jne(t,e,n,r,s){ie(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=o0(t.visibleWrites,e,n)),t.lastWriteId=r}function Zne(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function ere(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ie(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&tre(a,r.path)?s=!1:Qs(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return nre(t),!0;if(r.snap)t.visibleWrites=ZR(t.visibleWrites,r.path);else{const a=r.children;Nr(a,l=>{t.visibleWrites=ZR(t.visibleWrites,kn(r.path,l))})}return!0}else return!1}function tre(t,e){if(t.snap)return Qs(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Qs(kn(t.path,n),e))return!0;return!1}function nre(t){t.visibleWrites=sO(t.allWrites,rre,Dt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function rre(t){return t.visible}function sO(t,e,n){let r=ki.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)Qs(n,o)?(a=rs(n,o),r=o0(r,a,i.snap)):Qs(o,n)&&(a=rs(o,n),r=o0(r,Dt(),i.snap.getChild(a)));else if(i.children){if(Qs(n,o))a=rs(n,o),r=JR(r,a,i.children);else if(Qs(o,n))if(a=rs(o,n),ot(a))r=JR(r,Dt(),i.children);else{const l=Ld(i.children,it(a));if(l){const c=l.getChild(Gt(a));r=o0(r,Dt(),c)}}}else throw gh("WriteRecord should have .snap or .children")}}return r}function iO(t,e,n,r,s){if(!r&&!s){const i=du(t.visibleWrites,e);if(i!=null)return i;{const o=ul(t.visibleWrites,e);if(PE(o))return n;if(n==null&&!AE(o,Dt()))return null;{const a=n||ze.EMPTY_NODE;return Kd(o,a)}}}else{const i=ul(t.visibleWrites,e);if(!s&&PE(i))return n;if(!s&&n==null&&!AE(i,Dt()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(Qs(c.path,e)||Qs(e,c.path))},a=sO(t.allWrites,o,e),l=n||ze.EMPTY_NODE;return Kd(a,l)}}}function sre(t,e,n){let r=ze.EMPTY_NODE;const s=du(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(cn,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=ul(t.visibleWrites,e);return n.forEachChild(cn,(o,a)=>{const l=Kd(ul(i,new Ot(o)),a);r=r.updateImmediateChild(o,l)}),eA(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=ul(t.visibleWrites,e);return eA(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function ire(t,e,n,r,s){ie(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=kn(e,n);if(AE(t.visibleWrites,i))return null;{const o=ul(t.visibleWrites,i);return PE(o)?s.getChild(n):Kd(o,s.getChild(n))}}function ore(t,e,n,r){const s=kn(e,n),i=du(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=ul(t.visibleWrites,s);return Kd(o,r.getNode().getImmediateChild(n))}else return null}function are(t,e){return du(t.visibleWrites,e)}function lre(t,e,n,r,s,i,o){let a;const l=ul(t.visibleWrites,e),c=du(l,Dt());if(c!=null)a=c;else if(n!=null)a=Kd(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),f=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&u.length<s;)h(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function cre(){return{visibleWrites:ki.empty(),allWrites:[],lastWriteId:-1}}function w1(t,e,n,r){return iO(t.writeTree,t.treePath,e,n,r)}function lI(t,e){return sre(t.writeTree,t.treePath,e)}function tA(t,e,n,r){return ire(t.writeTree,t.treePath,e,n,r)}function x1(t,e){return are(t.writeTree,kn(t.treePath,e))}function ure(t,e,n,r,s,i){return lre(t.writeTree,t.treePath,e,n,r,s,i)}function cI(t,e,n){return ore(t.writeTree,t.treePath,e,n)}function oO(t,e){return aO(kn(t.treePath,e),t.writeTree)}function aO(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dre{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ie(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ie(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,sp(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,rp(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,Yd(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,sp(r,e.snapshotNode,s.oldSnap));else throw gh("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hre{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const lO=new hre;class uI{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Kc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cI(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Qc(this.viewCache_),i=ure(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fre(t){return{filter:t}}function pre(t,e){ie(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ie(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function mre(t,e,n,r,s){const i=new dre;let o,a;if(n.type===bi.OVERWRITE){const c=n;c.source.fromUser?o=NE(t,e,c.path,c.snap,r,s,i):(ie(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ot(c.path),o=E1(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===bi.MERGE){const c=n;c.source.fromUser?o=vre(t,e,c.path,c.children,r,s,i):(ie(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=DE(t,e,c.path,c.children,r,s,a,i))}else if(n.type===bi.ACK_USER_WRITE){const c=n;c.revert?o=wre(t,e,c.path,r,s,i):o=yre(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===bi.LISTEN_COMPLETE)o=_re(t,e,n.path,r,i);else throw gh("Unknown operation type: "+n.type);const l=i.getChanges();return gre(e,o,l),{viewCache:o,changes:l}}function gre(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=RE(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(eO(RE(e)))}}function cO(t,e,n,r,s,i){const o=e.eventCache;if(x1(r,n)!=null)return e;{let a,l;if(ot(n))if(ie(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Qc(e),u=c instanceof ze?c:ze.EMPTY_NODE,h=lI(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,i)}else{const c=w1(r,Qc(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=it(n);if(c===".priority"){ie(Cl(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=tA(r,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{const u=Gt(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=tA(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(u,f):h=o.getNode().getImmediateChild(c)}else h=cI(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,s,i):a=o.getNode()}}return i0(e,a,o.isFullyInitialized()||ot(n),t.filter.filtersNodes())}}function E1(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(ot(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=it(n);if(!l.isCompleteForPath(n)&&Cl(n)>1)return e;const m=Gt(n),E=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),E):c=u.updateChild(l.getNode(),p,E,m,lO,null)}const h=nO(e,c,l.isFullyInitialized()||ot(n),u.filtersNodes()),f=new uI(s,h,i);return cO(t,h,n,s,f,a)}function NE(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const u=new uI(s,e,i);if(ot(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=i0(e,c,!0,t.filter.filtersNodes());else{const h=it(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=i0(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Gt(n),p=a.getNode().getImmediateChild(h);let m;if(ot(f))m=r;else{const v=u.getCompleteChild(h);v!=null?J5(f)===".priority"&&v.getChild(GM(f)).isEmpty()?m=v:m=v.updateChild(f,r):m=ze.EMPTY_NODE}if(p.equals(m))l=e;else{const v=t.filter.updateChild(a.getNode(),h,m,f,u,o);l=i0(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function nA(t,e){return t.eventCache.isCompleteForChild(e)}function vre(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const u=kn(n,l);nA(e,it(u))&&(a=NE(t,a,u,c,s,i,o))}),r.foreach((l,c)=>{const u=kn(n,l);nA(e,it(u))||(a=NE(t,a,u,c,s,i,o))}),a}function rA(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function DE(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ot(n)?c=r:c=new Xt(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(u.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),m=rA(t,p,f);l=E1(t,l,new Ot(h),m,s,i,o,a)}}),c.children.inorderTraversal((h,f)=>{const p=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!u.hasChild(h)&&!p){const m=e.serverCache.getNode().getImmediateChild(h),v=rA(t,m,f);l=E1(t,l,new Ot(h),v,s,i,o,a)}}),l}function yre(t,e,n,r,s,i,o){if(x1(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ot(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return E1(t,e,n,l.getNode().getChild(n),s,i,a,o);if(ot(n)){let c=new Xt(null);return l.getNode().forEachChild(Ec,(u,h)=>{c=c.set(new Ot(u),h)}),DE(t,e,n,c,s,i,a,o)}else return e}else{let c=new Xt(null);return r.foreach((u,h)=>{const f=kn(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),DE(t,e,n,c,s,i,a,o)}}function _re(t,e,n,r,s){const i=e.serverCache,o=nO(e,i.getNode(),i.isFullyInitialized()||ot(n),i.isFiltered());return cO(t,o,n,r,lO,s)}function wre(t,e,n,r,s,i){let o;if(x1(r,n)!=null)return e;{const a=new uI(r,e,s),l=e.eventCache.getNode();let c;if(ot(n)||it(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=w1(r,Qc(e));else{const h=e.serverCache.getNode();ie(h instanceof ze,"serverChildren would be complete if leaf node"),u=lI(r,h)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=it(n);let h=cI(r,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,Gt(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,ze.EMPTY_NODE,Gt(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=w1(r,Qc(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||x1(r,Dt())!=null,i0(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xre{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new rI(r.getIndex()),i=jne(r);this.processor_=fre(i);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(ze.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(ze.EMPTY_NODE,a.getNode(),null),u=new Kc(l,o.isFullyInitialized(),s.filtersNodes()),h=new Kc(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=py(h,u),this.eventGenerator_=new qne(this.query_)}get query(){return this.query_}}function Ere(t){return t.viewCache_.serverCache.getNode()}function Cre(t,e){const n=Qc(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ot(e)&&!n.getImmediateChild(it(e)).isEmpty())?n.getChild(e):null}function sA(t){return t.eventRegistrations_.length===0}function bre(t,e){t.eventRegistrations_.push(e)}function iA(t,e,n){const r=[];if(n){ie(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function oA(t,e,n,r){e.type===bi.MERGE&&e.source.queryId!==null&&(ie(Qc(t.viewCache_),"We should always have a full cache before handling merges"),ie(RE(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=mre(t.processor_,s,e,n,r);return pre(t.processor_,i.viewCache),ie(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,uO(t,i.changes,i.viewCache.eventCache.getNode(),null)}function Ire(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(cn,(i,o)=>{r.push(Yd(i,o))}),n.isFullyInitialized()&&r.push(eO(n.getNode())),uO(t,r,n.getNode(),e)}function uO(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return Yne(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C1;class Tre{constructor(){this.views=new Map}}function Sre(t){ie(!C1,"__referenceConstructor has already been defined"),C1=t}function kre(){return ie(C1,"Reference.ts has not been loaded"),C1}function Rre(t){return t.views.size===0}function dI(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return ie(i!=null,"SyncTree gave us an op for an invalid query."),oA(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(oA(o,e,n,r));return i}}function Are(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=w1(n,s?r:null),l=!1;a?l=!0:r instanceof ze?(a=lI(n,r),l=!1):(a=ze.EMPTY_NODE,l=!1);const c=py(new Kc(a,l,!1),new Kc(r,s,!1));return new xre(e,c)}return o}function Pre(t,e,n,r,s,i){const o=Are(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),bre(o,n),Ire(o,n)}function Nre(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const a=bl(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(iA(c,n,r)),sA(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(iA(l,n,r)),sA(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!bl(t)&&i.push(new(kre())(e._repo,e._path)),{removed:i,events:o}}function dO(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function yd(t,e){let n=null;for(const r of t.views.values())n=n||Cre(r,e);return n}function hO(t,e){if(e._queryParams.loadsAllData())return my(t);{const r=e._queryIdentifier;return t.views.get(r)}}function fO(t,e){return hO(t,e)!=null}function bl(t){return my(t)!=null}function my(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b1;function Dre(t){ie(!b1,"__referenceConstructor has already been defined"),b1=t}function Lre(){return ie(b1,"Reference.ts has not been loaded"),b1}let Mre=1;class aA{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Xt(null),this.pendingWriteTree_=cre(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pO(t,e,n,r,s){return Jne(t.pendingWriteTree_,e,n,r,s),s?sm(t,new Yc(tO(),e,n)):[]}function uc(t,e,n=!1){const r=Zne(t.pendingWriteTree_,e);if(ere(t.pendingWriteTree_,e)){let i=new Xt(null);return r.snap!=null?i=i.set(Dt(),!0):Nr(r.children,o=>{i=i.set(new Ot(o),!0)}),sm(t,new _1(r.path,i,n))}else return[]}function gy(t,e,n){return sm(t,new Yc(iI(),e,n))}function Ore(t,e,n){const r=Xt.fromObject(n);return sm(t,new ap(iI(),e,r))}function jre(t,e){return sm(t,new op(iI(),e))}function $re(t,e,n){const r=fI(t,n);if(r){const s=pI(r),i=s.path,o=s.queryId,a=rs(i,e),l=new op(oI(o),a);return mI(t,i,l)}else return[]}function LE(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||fO(o,e))){const l=Nre(o,e,n,r);Rre(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(i,(f,p)=>bl(p));if(u&&!h){const f=t.syncPointTree_.subtree(i);if(!f.isEmpty()){const p=Ure(f);for(let m=0;m<p.length;++m){const v=p[m],E=v.query,y=vO(t,v);t.listenProvider_.startListening(a0(E),I1(t,E),y.hashFn,y.onComplete)}}}!h&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(a0(e),null):c.forEach(f=>{const p=t.queryToTagMap.get(vy(f));t.listenProvider_.stopListening(a0(f),p)}))}zre(t,c)}return a}function Fre(t,e,n,r){const s=fI(t,r);if(s!=null){const i=pI(s),o=i.path,a=i.queryId,l=rs(o,e),c=new Yc(oI(a),l,n);return mI(t,o,c)}else return[]}function Vre(t,e,n,r){const s=fI(t,r);if(s){const i=pI(s),o=i.path,a=i.queryId,l=rs(o,e),c=Xt.fromObject(n),u=new ap(oI(a),l,c);return mI(t,o,u)}else return[]}function lA(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(f,p)=>{const m=rs(f,s);i=i||yd(p,m),o=o||bl(p)});let a=t.syncPointTree_.get(s);a?(o=o||bl(a),i=i||yd(a,Dt())):(a=new Tre,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=ze.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((p,m)=>{const v=yd(m,Dt());v&&(i=i.updateImmediateChild(p,v))}));const c=fO(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=vy(e);ie(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=Bre();t.queryToTagMap.set(f,p),t.tagToQueryMap.set(p,f)}const u=aI(t.pendingWriteTree_,s);let h=Pre(a,e,n,u,i,l);if(!c&&!o&&!r){const f=hO(a,e);h=h.concat(Wre(t,e,f))}return h}function hI(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=rs(o,e),c=yd(a,l);if(c)return c});return iO(s,e,i,n,!0)}function sm(t,e){return mO(e,t.syncPointTree_,null,aI(t.pendingWriteTree_,Dt()))}function mO(t,e,n,r){if(ot(t.path))return gO(t,e,n,r);{const s=e.get(Dt());n==null&&s!=null&&(n=yd(s,Dt()));let i=[];const o=it(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=oO(r,o);i=i.concat(mO(a,l,c,u))}return s&&(i=i.concat(dI(s,t,r,n))),i}}function gO(t,e,n,r){const s=e.get(Dt());n==null&&s!=null&&(n=yd(s,Dt()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=oO(r,o),u=t.operationForChild(o);u&&(i=i.concat(gO(u,a,l,c)))}),s&&(i=i.concat(dI(s,t,r,n))),i}function vO(t,e){const n=e.query,r=I1(t,n);return{hashFn:()=>(Ere(e)||ze.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?$re(t,n._path,r):jre(t,n._path);{const i=jte(s,n);return LE(t,n,null,i)}}}}function I1(t,e){const n=vy(e);return t.queryToTagMap.get(n)}function vy(t){return t._path.toString()+"$"+t._queryIdentifier}function fI(t,e){return t.tagToQueryMap.get(e)}function pI(t){const e=t.indexOf("$");return ie(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ot(t.substr(0,e))}}function mI(t,e,n){const r=t.syncPointTree_.get(e);ie(r,"Missing sync point for query tag that we're tracking");const s=aI(t.pendingWriteTree_,e);return dI(r,n,s,null)}function Ure(t){return t.fold((e,n,r)=>{if(n&&bl(n))return[my(n)];{let s=[];return n&&(s=dO(n)),Nr(r,(i,o)=>{s=s.concat(o)}),s}})}function a0(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Lre())(t._repo,t._path):t}function zre(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=vy(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function Bre(){return Mre++}function Wre(t,e,n){const r=e._path,s=I1(t,e),i=vO(t,n),o=t.listenProvider_.startListening(a0(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)ie(!bl(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,h)=>{if(!ot(c)&&u&&bl(u))return[my(u).query];{let f=[];return u&&(f=f.concat(dO(u).map(p=>p.query))),Nr(h,(p,m)=>{f=f.concat(m)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(a0(u),I1(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new gI(n)}node(){return this.node_}}class vI{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=kn(this.path_,e);return new vI(this.syncTree_,n)}node(){return hI(this.syncTree_,this.path_)}}const Hre=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},cA=function(t,e,n){if(!t||typeof t!="object")return t;if(ie(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Gre(t[".sv"],e,n);if(typeof t[".sv"]=="object")return qre(t[".sv"],e);ie(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Gre=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ie(!1,"Unexpected server value: "+t)}},qre=function(t,e,n){t.hasOwnProperty("increment")||ie(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ie(!1,"Unexpected increment value: "+r);const s=e.node();if(ie(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},Yre=function(t,e,n,r){return yI(e,new vI(n,t),r)},yO=function(t,e,n){return yI(t,new gI(e),n)};function yI(t,e,n){const r=t.getPriority().val(),s=cA(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=cA(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Yn(a,Mn(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Yn(s))),o.forEachChild(cn,(a,l)=>{const c=yI(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function wI(t,e){let n=e instanceof Ot?e:new Ot(e),r=t,s=it(n);for(;s!==null;){const i=Ld(r.node.children,s)||{children:{},childCount:0};r=new _I(s,r,i),n=Gt(n),s=it(n)}return r}function Sh(t){return t.node.value}function _O(t,e){t.node.value=e,ME(t)}function wO(t){return t.node.childCount>0}function Kre(t){return Sh(t)===void 0&&!wO(t)}function yy(t,e){Nr(t.node.children,(n,r)=>{e(new _I(n,t,r))})}function xO(t,e,n,r){n&&!r&&e(t),yy(t,s=>{xO(s,e,!0,r)}),n&&r&&e(t)}function Qre(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function im(t){return new Ot(t.parent===null?t.name:im(t.parent)+"/"+t.name)}function ME(t){t.parent!==null&&Xre(t.parent,t.name,t)}function Xre(t,e,n){const r=Kre(n),s=yo(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,ME(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,ME(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jre=/[\[\].#$\/\u0000-\u001F\u007F]/,Zre=/[\[\].#$\u0000-\u001F\u007F]/,Qw=10*1024*1024,_y=function(t){return typeof t=="string"&&t.length!==0&&!Jre.test(t)},EO=function(t){return typeof t=="string"&&t.length!==0&&!Zre.test(t)},ese=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),EO(t)},T1=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!hy(t)||t&&typeof t=="object"&&yo(t,".sv")},Qd=function(t,e,n,r){r&&e===void 0||wy(Dc(t,"value"),e,n)},wy=function(t,e,n){const r=n instanceof Ot?new vne(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Kl(r));if(typeof e=="function")throw new Error(t+"contains a function "+Kl(r)+" with contents = "+e.toString());if(hy(e))throw new Error(t+"contains "+e.toString()+" "+Kl(r));if(typeof e=="string"&&e.length>Qw/3&&_v(e)>Qw)throw new Error(t+"contains a string greater than "+Qw+" utf8 bytes "+Kl(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Nr(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!_y(o)))throw new Error(t+" contains an invalid key ("+o+") "+Kl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);yne(r,o),wy(t,a,r),_ne(r)}),s&&i)throw new Error(t+' contains ".value" child '+Kl(r)+" in addition to actual children.")}},tse=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=np(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!_y(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(gne);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&Qs(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},nse=function(t,e,n,r){if(r&&e===void 0)return;const s=Dc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];Nr(e,(o,a)=>{const l=new Ot(o);if(wy(s,a,kn(n,l)),J5(l)===".priority"&&!T1(a))throw new Error(s+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(l)}),tse(s,i)},rse=function(t,e,n){if(!(n&&e===void 0)){if(hy(e))throw new Error(Dc(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!T1(e))throw new Error(Dc(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},sse=function(t,e,n,r){if(!(r&&n===void 0)&&!_y(n))throw new Error(Dc(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},xI=function(t,e,n,r){if(!(r&&n===void 0)&&!EO(n))throw new Error(Dc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},ise=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),xI(t,e,n,r)},Of=function(t,e){if(it(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},ose=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!_y(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ese(n))throw new Error(Dc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ase{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function EI(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!Z5(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function CO(t,e,n){EI(t,n),bO(t,r=>Z5(r,e))}function oa(t,e,n){EI(t,n),bO(t,r=>Qs(r,e)||Qs(e,r))}function bO(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(lse(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function lse(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();xc&&ur("event: "+n.toString()),Ih(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cse="repo_interrupt",use=25;class dse{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ase,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=y1(),this.transactionQueueTree_=new _I,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hse(t,e,n){if(t.stats_=Q5(t.repoInfo_),t.forceRestClient_||Ute())t.server_=new v1(t.repoInfo_,(r,s,i,o)=>{uA(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>dA(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Zn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ko(t.repoInfo_,e,(r,s,i,o)=>{uA(t,r,s,i,o)},r=>{dA(t,r)},r=>{pse(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Gte(t.repoInfo_,()=>new Gne(t.stats_,t.server_)),t.infoData_=new Une,t.infoSyncTree_=new aA({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=gy(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),bI(t,"connected",!1),t.serverSyncTree_=new aA({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);oa(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function fse(t){const n=t.infoData_.getNode(new Ot(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function CI(t){return Hre({timestamp:fse(t)})}function uA(t,e,n,r,s){t.dataUpdateCount++;const i=new Ot(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=Bg(n,c=>Mn(c));o=Vre(t.serverSyncTree_,i,l,s)}else{const l=Mn(n);o=Fre(t.serverSyncTree_,i,l,s)}else if(r){const l=Bg(n,c=>Mn(c));o=Ore(t.serverSyncTree_,i,l)}else{const l=Mn(n);o=gy(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=xy(t,i)),oa(t.eventQueue_,a,o)}function dA(t,e){bI(t,"connected",e),e===!1&&gse(t)}function pse(t,e){Nr(e,(n,r)=>{bI(t,n,r)})}function bI(t,e,n){const r=new Ot("/.info/"+e),s=Mn(n);t.infoData_.updateSnapshot(r,s);const i=gy(t.infoSyncTree_,r,s);oa(t.eventQueue_,r,i)}function IO(t){return t.nextWriteId_++}function mse(t,e,n,r,s){II(t,"set",{path:e.toString(),value:n,priority:r});const i=CI(t),o=Mn(n,r),a=hI(t.serverSyncTree_,e),l=yO(o,a,i),c=IO(t),u=pO(t.serverSyncTree_,e,l,c,!0);EI(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,p)=>{const m=f==="ok";m||ds("set at "+e+" failed: "+f);const v=uc(t.serverSyncTree_,c,!m);oa(t.eventQueue_,e,v),Xd(t,s,f,p)});const h=AO(t,e);xy(t,h),oa(t.eventQueue_,h,[])}function gse(t){II(t,"onDisconnectEvents");const e=CI(t),n=y1();kE(t.onDisconnect_,Dt(),(s,i)=>{const o=Yre(s,i,t.serverSyncTree_,e);Th(n,s,o)});let r=[];kE(n,Dt(),(s,i)=>{r=r.concat(gy(t.serverSyncTree_,s,i));const o=AO(t,s);xy(t,o)}),t.onDisconnect_=y1(),oa(t.eventQueue_,Dt(),r)}function vse(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,s)=>{r==="ok"&&SE(t.onDisconnect_,e),Xd(t,n,r,s)})}function hA(t,e,n,r){const s=Mn(n);t.server_.onDisconnectPut(e.toString(),s.val(!0),(i,o)=>{i==="ok"&&Th(t.onDisconnect_,e,s),Xd(t,r,i,o)})}function yse(t,e,n,r,s){const i=Mn(n,r);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,a)=>{o==="ok"&&Th(t.onDisconnect_,e,i),Xd(t,s,o,a)})}function _se(t,e,n,r){if(zg(n)){ur("onDisconnect().update() called with empty data.  Don't do anything."),Xd(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(s,i)=>{s==="ok"&&Nr(n,(o,a)=>{const l=Mn(a);Th(t.onDisconnect_,kn(e,o),l)}),Xd(t,r,s,i)})}function wse(t,e,n){let r;it(e._path)===".info"?r=lA(t.infoSyncTree_,e,n):r=lA(t.serverSyncTree_,e,n),CO(t.eventQueue_,e._path,r)}function fA(t,e,n){let r;it(e._path)===".info"?r=LE(t.infoSyncTree_,e,n):r=LE(t.serverSyncTree_,e,n),CO(t.eventQueue_,e._path,r)}function xse(t){t.persistentConnection_&&t.persistentConnection_.interrupt(cse)}function II(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ur(n,...e)}function Xd(t,e,n,r){e&&Ih(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function TO(t,e,n){return hI(t.serverSyncTree_,e,n)||ze.EMPTY_NODE}function TI(t,e=t.transactionQueueTree_){if(e||Ey(t,e),Sh(e)){const n=kO(t,e);ie(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&Ese(t,im(e),n)}else wO(e)&&yy(e,n=>{TI(t,n)})}function Ese(t,e,n){const r=n.map(c=>c.currentWriteId),s=TO(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];ie(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=rs(e,u.path);i=i.updateChild(h,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{II(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(uc(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Ey(t,wI(t.transactionQueueTree_,e)),TI(t,t.transactionQueueTree_),oa(t.eventQueue_,e,u);for(let f=0;f<h.length;f++)Ih(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{ds("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}xy(t,e)}},o)}function xy(t,e){const n=SO(t,e),r=im(n),s=kO(t,n);return Cse(t,s,r),r}function Cse(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=rs(n,l.path);let u=!1,h;if(ie(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,s=s.concat(uc(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=use)u=!0,h="maxretry",s=s.concat(uc(t.serverSyncTree_,l.currentWriteId,!0));else{const f=TO(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){wy("transaction failed: Data returned ",p,l.path);let m=Mn(p);typeof p=="object"&&p!=null&&yo(p,".priority")||(m=m.updatePriority(f.getPriority()));const E=l.currentWriteId,y=CI(t),w=yO(m,f,y);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=w,l.currentWriteId=IO(t),o.splice(o.indexOf(E),1),s=s.concat(pO(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),s=s.concat(uc(t.serverSyncTree_,E,!0))}else u=!0,h="nodata",s=s.concat(uc(t.serverSyncTree_,l.currentWriteId,!0))}oa(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}Ey(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ih(r[a]);TI(t,t.transactionQueueTree_)}function SO(t,e){let n,r=t.transactionQueueTree_;for(n=it(e);n!==null&&Sh(r)===void 0;)r=wI(r,n),e=Gt(e),n=it(e);return r}function kO(t,e){const n=[];return RO(t,e,n),n.sort((r,s)=>r.order-s.order),n}function RO(t,e,n){const r=Sh(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);yy(e,s=>{RO(t,s,n)})}function Ey(t,e){const n=Sh(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,_O(e,n.length>0?n:void 0)}yy(e,r=>{Ey(t,r)})}function AO(t,e){const n=im(SO(t,e)),r=wI(t.transactionQueueTree_,e);return Qre(r,s=>{Xw(t,s)}),Xw(t,r),xO(r,s=>{Xw(t,s)}),n}function Xw(t,e){const n=Sh(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ie(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(ie(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(uc(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?_O(e,void 0):n.length=i+1,oa(t.eventQueue_,im(e),s);for(let o=0;o<r.length;o++)Ih(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bse(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function Ise(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ds(`Invalid query segment '${n}' in query '${t}'`)}return e}const pA=function(t,e){const n=Tse(t),r=n.namespace;n.domain==="firebase.com"&&ia(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ia("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Nte();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new jM(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Ot(n.pathString)}},Tse=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(s=bse(t.substring(u,h)));const f=Ise(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Zn(this.snapshot.exportVal())}}class NO{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sse{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ie(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kse{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new Lo;return vse(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Of("OnDisconnect.remove",this._path);const e=new Lo;return hA(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Of("OnDisconnect.set",this._path),Qd("OnDisconnect.set",e,this._path,!1);const n=new Lo;return hA(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Of("OnDisconnect.setWithPriority",this._path),Qd("OnDisconnect.setWithPriority",e,this._path,!1),rse("OnDisconnect.setWithPriority",n,!1);const r=new Lo;return yse(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Of("OnDisconnect.update",this._path),nse("OnDisconnect.update",e,this._path,!1);const n=new Lo;return _se(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return ot(this._path)?null:J5(this._path)}get ref(){return new ya(this._repo,this._path)}get _queryIdentifier(){const e=QR(this._queryParams),n=Y5(e);return n==="{}"?"default":n}get _queryObject(){return QR(this._queryParams)}isEqual(e){if(e=ut(e),!(e instanceof kh))return!1;const n=this._repo===e._repo,r=Z5(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+mne(this._path)}}function Rse(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function SI(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ec){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==qc)throw new Error(r);if(typeof e!="string")throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==El)throw new Error(r);if(typeof n!="string")throw new Error(s)}}else if(t.getIndex()===cn){if(e!=null&&!T1(e)||n!=null&&!T1(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ie(t.getIndex()instanceof nI||t.getIndex()===ZM,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function DO(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ya extends kh{constructor(e,n){super(e,n,new sI,!1)}get parent(){const e=GM(this._path);return e===null?null:new ya(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class lp{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ot(e),r=S1(this.ref,e);return new lp(this._node.getChild(n),r,cn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new lp(s,S1(this.ref,r),cn)))}hasChild(e){const n=new Ot(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function cp(t,e){return t=ut(t),t._checkNotDeleted("ref"),e!==void 0?S1(t._root,e):t._root}function S1(t,e){return t=ut(t),it(t._path)===null?ise("child","path",e,!1):xI("child","path",e,!1),new ya(t._repo,kn(t._path,e))}function Ase(t){return t=ut(t),new kse(t._repo,t._path)}function Pse(t,e){t=ut(t),Of("set",t._path),Qd("set",e,t._path,!1);const n=new Lo;return mse(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}class kI{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new PO("value",this,new lp(e.snapshotNode,new ya(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new NO(this,e,n):null}matches(e){return e instanceof kI?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class RI{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new NO(this,e,n):null}createEvent(e,n){ie(e.childName!=null,"Child events should have a childName.");const r=S1(new ya(n._repo,n._path),e.childName),s=n._queryParams.getIndex();return new PO(e.type,this,new lp(e.snapshotNode,r,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof RI?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Nse(t,e,n,r,s){let i;if(typeof r=="object"&&(i=void 0,s=r),typeof r=="function"&&(i=r),s&&s.onlyOnce){const l=n,c=(u,h)=>{fA(t._repo,t,a),l(u,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new Sse(n,i||void 0),a=e==="value"?new kI(o):new RI(e,o);return wse(t._repo,t,a),()=>fA(t._repo,t,a)}function Cy(t,e,n,r){return Nse(t,"value",e,n,r)}class by{}class Dse extends by{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Qd("endAt",this._value,e._path,!0);const n=Fne(e._queryParams,this._value,this._key);if(DO(n),SI(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new kh(e._repo,e._path,n,e._orderByCalled)}}class Lse extends by{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Qd("startAt",this._value,e._path,!0);const n=$ne(e._queryParams,this._value,this._key);if(DO(n),SI(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new kh(e._repo,e._path,n,e._orderByCalled)}}class Mse extends by{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Rse(e,"orderByChild");const n=new Ot(this._path);if(ot(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new nI(n),s=Vne(e._queryParams,r);return SI(s),new kh(e._repo,e._path,s,!0)}}function LO(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return xI("orderByChild","path",t,!1),new Mse(t)}class Ose extends by{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Qd("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Dse(this._value,this._key)._apply(new Lse(this._value,this._key)._apply(e))}}function MO(t,e){return sse("equalTo","key",e,!0),new Ose(t,e)}function OO(t,...e){let n=ut(t);for(const r of e)n=r._apply(n);return n}Sre(ya);Dre(ya);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jse="FIREBASE_DATABASE_EMULATOR_HOST",OE={};let $se=!1;function Fse(t,e,n,r){t.repoInfo_=new jM(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Vse(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||ia("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ur("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=pA(i,s),a=o.repoInfo,l,c;typeof process<"u"&&NR&&(c=NR[jse]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,o=pA(i,s),a=o.repoInfo):l=!o.repoInfo.secure;const u=s&&l?new vd(vd.OWNER):new Bte(t.name,t.options,e);ose("Invalid Firebase Database URL",o),ot(o.path)||ia("Database URL must point to the root of a Firebase Database (not including a child path).");const h=zse(a,t,u,new zte(t.name,n));return new Bse(h,t)}function Use(t,e){const n=OE[e];(!n||n[t.key]!==t)&&ia(`Database ${e}(${t.repoInfo_}) has already been deleted.`),xse(t),delete n[t.key]}function zse(t,e,n,r){let s=OE[e.name];s||(s={},OE[e.name]=s);let i=s[t.toURLString()];return i&&ia("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new dse(t,$se,n,r),s[t.toURLString()]=i,i}class Bse{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(hse(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ya(this._repo,Dt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Use(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ia("Cannot call "+e+" on a deleted database.")}}function Wse(t=xb(),e){const n=Np(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=f8("database");r&&Hse(n,...r)}return n}function Hse(t,e,n,r={}){t=ut(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&ia("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&ia('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new vd(vd.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:g8(r.mockUserToken,t.app.options.projectId);i=new vd(o)}Fse(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gse(t){Ste(ji),ho(new Pi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return Vse(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),us(DR,LR,t),us(DR,LR,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qse={".sv":"timestamp"};function mA(){return qse}Ko.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ko.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Gse();//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var jO;function me(){return jO.apply(null,arguments)}function Yse(t){jO=t}function Mi(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Cc(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function St(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function AI(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(St(t,e))return!1;return!0}function Qr(t){return t===void 0}function aa(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function om(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function $O(t,e){var n=[],r,s=t.length;for(r=0;r<s;++r)n.push(e(t[r],r));return n}function Ga(t,e){for(var n in e)St(e,n)&&(t[n]=e[n]);return St(e,"toString")&&(t.toString=e.toString),St(e,"valueOf")&&(t.valueOf=e.valueOf),t}function xo(t,e,n,r){return aj(t,e,n,r,!0).utc()}function Kse(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Ze(t){return t._pf==null&&(t._pf=Kse()),t._pf}var jE;Array.prototype.some?jE=Array.prototype.some:jE=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function PI(t){var e=null,n=!1,r=t._d&&!isNaN(t._d.getTime());if(r&&(e=Ze(t),n=jE.call(e.parsedDateParts,function(s){return s!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r;return t._isValid}function Iy(t){var e=xo(NaN);return t!=null?Ga(Ze(e),t):Ze(e).userInvalidated=!0,e}var gA=me.momentProperties=[],Jw=!1;function NI(t,e){var n,r,s,i=gA.length;if(Qr(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Qr(e._i)||(t._i=e._i),Qr(e._f)||(t._f=e._f),Qr(e._l)||(t._l=e._l),Qr(e._strict)||(t._strict=e._strict),Qr(e._tzm)||(t._tzm=e._tzm),Qr(e._isUTC)||(t._isUTC=e._isUTC),Qr(e._offset)||(t._offset=e._offset),Qr(e._pf)||(t._pf=Ze(e)),Qr(e._locale)||(t._locale=e._locale),i>0)for(n=0;n<i;n++)r=gA[n],s=e[r],Qr(s)||(t[r]=s);return t}function am(t){NI(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Jw===!1&&(Jw=!0,me.updateOffset(this),Jw=!1)}function Oi(t){return t instanceof am||t!=null&&t._isAMomentObject!=null}function FO(t){me.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function ui(t,e){var n=!0;return Ga(function(){if(me.deprecationHandler!=null&&me.deprecationHandler(null,t),n){var r=[],s,i,o,a=arguments.length;for(i=0;i<a;i++){if(s="",typeof arguments[i]=="object"){s+=`
[`+i+"] ";for(o in arguments[0])St(arguments[0],o)&&(s+=o+": "+arguments[0][o]+", ");s=s.slice(0,-2)}else s=arguments[i];r.push(s)}FO(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var vA={};function VO(t,e){me.deprecationHandler!=null&&me.deprecationHandler(t,e),vA[t]||(FO(e),vA[t]=!0)}me.suppressDeprecationWarnings=!1;me.deprecationHandler=null;function Eo(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function Qse(t){var e,n;for(n in t)St(t,n)&&(e=t[n],Eo(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function $E(t,e){var n=Ga({},t),r;for(r in e)St(e,r)&&(Cc(t[r])&&Cc(e[r])?(n[r]={},Ga(n[r],t[r]),Ga(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)St(t,r)&&!St(e,r)&&Cc(t[r])&&(n[r]=Ga({},n[r]));return n}function DI(t){t!=null&&this.set(t)}var FE;Object.keys?FE=Object.keys:FE=function(t){var e,n=[];for(e in t)St(t,e)&&n.push(e);return n};var Xse={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Jse(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return Eo(r)?r.call(e,n):r}function go(t,e,n){var r=""+Math.abs(t),s=e-r.length,i=t>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var LI=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,a2=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Zw={},_d={};function De(t,e,n,r){var s=r;typeof r=="string"&&(s=function(){return this[r]()}),t&&(_d[t]=s),e&&(_d[e[0]]=function(){return go(s.apply(this,arguments),e[1],e[2])}),n&&(_d[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function Zse(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function eie(t){var e=t.match(LI),n,r;for(n=0,r=e.length;n<r;n++)_d[e[n]]?e[n]=_d[e[n]]:e[n]=Zse(e[n]);return function(s){var i="",o;for(o=0;o<r;o++)i+=Eo(e[o])?e[o].call(s,t):e[o];return i}}function K2(t,e){return t.isValid()?(e=UO(e,t.localeData()),Zw[e]=Zw[e]||eie(e),Zw[e](t)):t.localeData().invalidDate()}function UO(t,e){var n=5;function r(s){return e.longDateFormat(s)||s}for(a2.lastIndex=0;n>=0&&a2.test(t);)t=t.replace(a2,r),a2.lastIndex=0,n-=1;return t}var tie={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function nie(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(LI).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var rie="Invalid date";function sie(){return this._invalidDate}var iie="%d",oie=/\d{1,2}/;function aie(t){return this._ordinal.replace("%d",t)}var lie={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function cie(t,e,n,r){var s=this._relativeTime[n];return Eo(s)?s(t,e,n,r):s.replace(/%d/i,t)}function uie(t,e){var n=this._relativeTime[t>0?"future":"past"];return Eo(n)?n(e):n.replace(/%s/i,e)}var yA={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function di(t){return typeof t=="string"?yA[t]||yA[t.toLowerCase()]:void 0}function MI(t){var e={},n,r;for(r in t)St(t,r)&&(n=di(r),n&&(e[n]=t[r]));return e}var die={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function hie(t){var e=[],n;for(n in t)St(t,n)&&e.push({unit:n,priority:die[n]});return e.sort(function(r,s){return r.priority-s.priority}),e}var zO=/\d/,$s=/\d\d/,BO=/\d{3}/,OI=/\d{4}/,Ty=/[+-]?\d{6}/,tn=/\d\d?/,WO=/\d\d\d\d?/,HO=/\d\d\d\d\d\d?/,Sy=/\d{1,3}/,jI=/\d{1,4}/,ky=/[+-]?\d{1,6}/,Rh=/\d+/,Ry=/[+-]?\d+/,fie=/Z|[+-]\d\d:?\d\d/gi,Ay=/Z|[+-]\d\d(?::?\d\d)?/gi,pie=/[+-]?\d+(\.\d{1,3})?/,lm=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ah=/^[1-9]\d?/,$I=/^([1-9]\d|\d)/,k1;k1={};function xe(t,e,n){k1[t]=Eo(e)?e:function(r,s){return r&&n?n:e}}function mie(t,e){return St(k1,t)?k1[t](e._strict,e._locale):new RegExp(gie(t))}function gie(t){return Qo(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,s,i){return n||r||s||i}))}function Qo(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Hs(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function vt(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Hs(e)),n}var VE={};function Wt(t,e){var n,r=e,s;for(typeof t=="string"&&(t=[t]),aa(e)&&(r=function(i,o){o[e]=vt(i)}),s=t.length,n=0;n<s;n++)VE[t[n]]=r}function cm(t,e){Wt(t,function(n,r,s,i){s._w=s._w||{},e(n,s._w,s,i)})}function vie(t,e,n){e!=null&&St(VE,t)&&VE[t](e,n._a,n,t)}function Py(t){return t%4===0&&t%100!==0||t%400===0}var Ar=0,Ho=1,Ki=2,Gn=3,Ii=4,Go=5,dc=6,yie=7,_ie=8;De("Y",0,0,function(){var t=this.year();return t<=9999?go(t,4):"+"+t});De(0,["YY",2],0,function(){return this.year()%100});De(0,["YYYY",4],0,"year");De(0,["YYYYY",5],0,"year");De(0,["YYYYYY",6,!0],0,"year");xe("Y",Ry);xe("YY",tn,$s);xe("YYYY",jI,OI);xe("YYYYY",ky,Ty);xe("YYYYYY",ky,Ty);Wt(["YYYYY","YYYYYY"],Ar);Wt("YYYY",function(t,e){e[Ar]=t.length===2?me.parseTwoDigitYear(t):vt(t)});Wt("YY",function(t,e){e[Ar]=me.parseTwoDigitYear(t)});Wt("Y",function(t,e){e[Ar]=parseInt(t,10)});function l0(t){return Py(t)?366:365}me.parseTwoDigitYear=function(t){return vt(t)+(vt(t)>68?1900:2e3)};var GO=Ph("FullYear",!0);function wie(){return Py(this.year())}function Ph(t,e){return function(n){return n!=null?(qO(this,t,n),me.updateOffset(this,e),this):up(this,t)}}function up(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function qO(t,e,n){var r,s,i,o,a;if(!(!t.isValid()||isNaN(n))){switch(r=t._d,s=t._isUTC,e){case"Milliseconds":return void(s?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(s?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(s?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(s?r.setUTCHours(n):r.setHours(n));case"Date":return void(s?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}i=n,o=t.month(),a=t.date(),a=a===29&&o===1&&!Py(i)?28:a,s?r.setUTCFullYear(i,o,a):r.setFullYear(i,o,a)}}function xie(t){return t=di(t),Eo(this[t])?this[t]():this}function Eie(t,e){if(typeof t=="object"){t=MI(t);var n=hie(t),r,s=n.length;for(r=0;r<s;r++)this[n[r].unit](t[n[r].unit])}else if(t=di(t),Eo(this[t]))return this[t](e);return this}function Cie(t,e){return(t%e+e)%e}var Tn;Array.prototype.indexOf?Tn=Array.prototype.indexOf:Tn=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function FI(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=Cie(e,12);return t+=(e-n)/12,n===1?Py(t)?29:28:31-n%7%2}De("M",["MM",2],"Mo",function(){return this.month()+1});De("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});De("MMMM",0,0,function(t){return this.localeData().months(this,t)});xe("M",tn,Ah);xe("MM",tn,$s);xe("MMM",function(t,e){return e.monthsShortRegex(t)});xe("MMMM",function(t,e){return e.monthsRegex(t)});Wt(["M","MM"],function(t,e){e[Ho]=vt(t)-1});Wt(["MMM","MMMM"],function(t,e,n,r){var s=n._locale.monthsParse(t,r,n._strict);s!=null?e[Ho]=s:Ze(n).invalidMonth=t});var bie="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),YO="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),KO=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Iie=lm,Tie=lm;function Sie(t,e){return t?Mi(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||KO).test(e)?"format":"standalone"][t.month()]:Mi(this._months)?this._months:this._months.standalone}function kie(t,e){return t?Mi(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[KO.test(e)?"format":"standalone"][t.month()]:Mi(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Rie(t,e,n){var r,s,i,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=xo([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?e==="MMM"?(s=Tn.call(this._shortMonthsParse,o),s!==-1?s:null):(s=Tn.call(this._longMonthsParse,o),s!==-1?s:null):e==="MMM"?(s=Tn.call(this._shortMonthsParse,o),s!==-1?s:(s=Tn.call(this._longMonthsParse,o),s!==-1?s:null)):(s=Tn.call(this._longMonthsParse,o),s!==-1?s:(s=Tn.call(this._shortMonthsParse,o),s!==-1?s:null))}function Aie(t,e,n){var r,s,i;if(this._monthsParseExact)return Rie.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=xo([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function QO(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=vt(e);else if(e=t.localeData().monthsParse(e),!aa(e))return t}var n=e,r=t.date();return r=r<29?r:Math.min(r,FI(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function XO(t){return t!=null?(QO(this,t),me.updateOffset(this,!0),this):up(this,"Month")}function Pie(){return FI(this.year(),this.month())}function Nie(t){return this._monthsParseExact?(St(this,"_monthsRegex")||JO.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(St(this,"_monthsShortRegex")||(this._monthsShortRegex=Iie),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function Die(t){return this._monthsParseExact?(St(this,"_monthsRegex")||JO.call(this),t?this._monthsStrictRegex:this._monthsRegex):(St(this,"_monthsRegex")||(this._monthsRegex=Tie),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function JO(){function t(l,c){return c.length-l.length}var e=[],n=[],r=[],s,i,o,a;for(s=0;s<12;s++)i=xo([2e3,s]),o=Qo(this.monthsShort(i,"")),a=Qo(this.months(i,"")),e.push(o),n.push(a),r.push(a),r.push(o);e.sort(t),n.sort(t),r.sort(t),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Lie(t,e,n,r,s,i,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,s,i,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,s,i,o),a}function dp(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function R1(t,e,n){var r=7+e-n,s=(7+dp(t,0,r).getUTCDay()-e)%7;return-s+r-1}function ZO(t,e,n,r,s){var i=(7+n-r)%7,o=R1(t,r,s),a=1+7*(e-1)+i+o,l,c;return a<=0?(l=t-1,c=l0(l)+a):a>l0(t)?(l=t+1,c=a-l0(t)):(l=t,c=a),{year:l,dayOfYear:c}}function hp(t,e,n){var r=R1(t.year(),e,n),s=Math.floor((t.dayOfYear()-r-1)/7)+1,i,o;return s<1?(o=t.year()-1,i=s+Xo(o,e,n)):s>Xo(t.year(),e,n)?(i=s-Xo(t.year(),e,n),o=t.year()+1):(o=t.year(),i=s),{week:i,year:o}}function Xo(t,e,n){var r=R1(t,e,n),s=R1(t+1,e,n);return(l0(t)-r+s)/7}De("w",["ww",2],"wo","week");De("W",["WW",2],"Wo","isoWeek");xe("w",tn,Ah);xe("ww",tn,$s);xe("W",tn,Ah);xe("WW",tn,$s);cm(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=vt(t)});function Mie(t){return hp(t,this._week.dow,this._week.doy).week}var Oie={dow:0,doy:6};function jie(){return this._week.dow}function $ie(){return this._week.doy}function Fie(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function Vie(t){var e=hp(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}De("d",0,"do","day");De("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});De("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});De("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});De("e",0,0,"weekday");De("E",0,0,"isoWeekday");xe("d",tn);xe("e",tn);xe("E",tn);xe("dd",function(t,e){return e.weekdaysMinRegex(t)});xe("ddd",function(t,e){return e.weekdaysShortRegex(t)});xe("dddd",function(t,e){return e.weekdaysRegex(t)});cm(["dd","ddd","dddd"],function(t,e,n,r){var s=n._locale.weekdaysParse(t,r,n._strict);s!=null?e.d=s:Ze(n).invalidWeekday=t});cm(["d","e","E"],function(t,e,n,r){e[r]=vt(t)});function Uie(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function zie(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function VI(t,e){return t.slice(e,7).concat(t.slice(0,e))}var Bie="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ej="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Wie="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Hie=lm,Gie=lm,qie=lm;function Yie(t,e){var n=Mi(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?VI(n,this._week.dow):t?n[t.day()]:n}function Kie(t){return t===!0?VI(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Qie(t){return t===!0?VI(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Xie(t,e,n){var r,s,i,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=xo([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?e==="dddd"?(s=Tn.call(this._weekdaysParse,o),s!==-1?s:null):e==="ddd"?(s=Tn.call(this._shortWeekdaysParse,o),s!==-1?s:null):(s=Tn.call(this._minWeekdaysParse,o),s!==-1?s:null):e==="dddd"?(s=Tn.call(this._weekdaysParse,o),s!==-1||(s=Tn.call(this._shortWeekdaysParse,o),s!==-1)?s:(s=Tn.call(this._minWeekdaysParse,o),s!==-1?s:null)):e==="ddd"?(s=Tn.call(this._shortWeekdaysParse,o),s!==-1||(s=Tn.call(this._weekdaysParse,o),s!==-1)?s:(s=Tn.call(this._minWeekdaysParse,o),s!==-1?s:null)):(s=Tn.call(this._minWeekdaysParse,o),s!==-1||(s=Tn.call(this._weekdaysParse,o),s!==-1)?s:(s=Tn.call(this._shortWeekdaysParse,o),s!==-1?s:null))}function Jie(t,e,n){var r,s,i;if(this._weekdaysParseExact)return Xie.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=xo([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function Zie(t){if(!this.isValid())return t!=null?this:NaN;var e=up(this,"Day");return t!=null?(t=Uie(t,this.localeData()),this.add(t-e,"d")):e}function eoe(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function toe(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=zie(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function noe(t){return this._weekdaysParseExact?(St(this,"_weekdaysRegex")||UI.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(St(this,"_weekdaysRegex")||(this._weekdaysRegex=Hie),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function roe(t){return this._weekdaysParseExact?(St(this,"_weekdaysRegex")||UI.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(St(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Gie),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function soe(t){return this._weekdaysParseExact?(St(this,"_weekdaysRegex")||UI.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(St(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=qie),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function UI(){function t(u,h){return h.length-u.length}var e=[],n=[],r=[],s=[],i,o,a,l,c;for(i=0;i<7;i++)o=xo([2e3,1]).day(i),a=Qo(this.weekdaysMin(o,"")),l=Qo(this.weekdaysShort(o,"")),c=Qo(this.weekdays(o,"")),e.push(a),n.push(l),r.push(c),s.push(a),s.push(l),s.push(c);e.sort(t),n.sort(t),r.sort(t),s.sort(t),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function zI(){return this.hours()%12||12}function ioe(){return this.hours()||24}De("H",["HH",2],0,"hour");De("h",["hh",2],0,zI);De("k",["kk",2],0,ioe);De("hmm",0,0,function(){return""+zI.apply(this)+go(this.minutes(),2)});De("hmmss",0,0,function(){return""+zI.apply(this)+go(this.minutes(),2)+go(this.seconds(),2)});De("Hmm",0,0,function(){return""+this.hours()+go(this.minutes(),2)});De("Hmmss",0,0,function(){return""+this.hours()+go(this.minutes(),2)+go(this.seconds(),2)});function tj(t,e){De(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}tj("a",!0);tj("A",!1);function nj(t,e){return e._meridiemParse}xe("a",nj);xe("A",nj);xe("H",tn,$I);xe("h",tn,Ah);xe("k",tn,Ah);xe("HH",tn,$s);xe("hh",tn,$s);xe("kk",tn,$s);xe("hmm",WO);xe("hmmss",HO);xe("Hmm",WO);xe("Hmmss",HO);Wt(["H","HH"],Gn);Wt(["k","kk"],function(t,e,n){var r=vt(t);e[Gn]=r===24?0:r});Wt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});Wt(["h","hh"],function(t,e,n){e[Gn]=vt(t),Ze(n).bigHour=!0});Wt("hmm",function(t,e,n){var r=t.length-2;e[Gn]=vt(t.substr(0,r)),e[Ii]=vt(t.substr(r)),Ze(n).bigHour=!0});Wt("hmmss",function(t,e,n){var r=t.length-4,s=t.length-2;e[Gn]=vt(t.substr(0,r)),e[Ii]=vt(t.substr(r,2)),e[Go]=vt(t.substr(s)),Ze(n).bigHour=!0});Wt("Hmm",function(t,e,n){var r=t.length-2;e[Gn]=vt(t.substr(0,r)),e[Ii]=vt(t.substr(r))});Wt("Hmmss",function(t,e,n){var r=t.length-4,s=t.length-2;e[Gn]=vt(t.substr(0,r)),e[Ii]=vt(t.substr(r,2)),e[Go]=vt(t.substr(s))});function ooe(t){return(t+"").toLowerCase().charAt(0)==="p"}var aoe=/[ap]\.?m?\.?/i,loe=Ph("Hours",!0);function coe(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var rj={calendar:Xse,longDateFormat:tie,invalidDate:rie,ordinal:iie,dayOfMonthOrdinalParse:oie,relativeTime:lie,months:bie,monthsShort:YO,week:Oie,weekdays:Bie,weekdaysMin:Wie,weekdaysShort:ej,meridiemParse:aoe},an={},ff={},fp;function uoe(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function _A(t){return t&&t.toLowerCase().replace("_","-")}function doe(t){for(var e=0,n,r,s,i;e<t.length;){for(i=_A(t[e]).split("-"),n=i.length,r=_A(t[e+1]),r=r?r.split("-"):null;n>0;){if(s=Ny(i.slice(0,n).join("-")),s)return s;if(r&&r.length>=n&&uoe(i,r)>=n-1)break;n--}e++}return fp}function hoe(t){return!!(t&&t.match("^[^/\\\\]*$"))}function Ny(t){var e=null,n;if(an[t]===void 0&&typeof fg<"u"&&fg&&fg.exports&&hoe(t))try{e=fp._abbr,n=require,n("./locale/"+t),dl(e)}catch{an[t]=null}return an[t]}function dl(t,e){var n;return t&&(Qr(e)?n=_a(t):n=BI(t,e),n?fp=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),fp._abbr}function BI(t,e){if(e!==null){var n,r=rj;if(e.abbr=t,an[t]!=null)VO("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=an[t]._config;else if(e.parentLocale!=null)if(an[e.parentLocale]!=null)r=an[e.parentLocale]._config;else if(n=Ny(e.parentLocale),n!=null)r=n._config;else return ff[e.parentLocale]||(ff[e.parentLocale]=[]),ff[e.parentLocale].push({name:t,config:e}),null;return an[t]=new DI($E(r,e)),ff[t]&&ff[t].forEach(function(s){BI(s.name,s.config)}),dl(t),an[t]}else return delete an[t],null}function foe(t,e){if(e!=null){var n,r,s=rj;an[t]!=null&&an[t].parentLocale!=null?an[t].set($E(an[t]._config,e)):(r=Ny(t),r!=null&&(s=r._config),e=$E(s,e),r==null&&(e.abbr=t),n=new DI(e),n.parentLocale=an[t],an[t]=n),dl(t)}else an[t]!=null&&(an[t].parentLocale!=null?(an[t]=an[t].parentLocale,t===dl()&&dl(t)):an[t]!=null&&delete an[t]);return an[t]}function _a(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return fp;if(!Mi(t)){if(e=Ny(t),e)return e;t=[t]}return doe(t)}function poe(){return FE(an)}function WI(t){var e,n=t._a;return n&&Ze(t).overflow===-2&&(e=n[Ho]<0||n[Ho]>11?Ho:n[Ki]<1||n[Ki]>FI(n[Ar],n[Ho])?Ki:n[Gn]<0||n[Gn]>24||n[Gn]===24&&(n[Ii]!==0||n[Go]!==0||n[dc]!==0)?Gn:n[Ii]<0||n[Ii]>59?Ii:n[Go]<0||n[Go]>59?Go:n[dc]<0||n[dc]>999?dc:-1,Ze(t)._overflowDayOfYear&&(e<Ar||e>Ki)&&(e=Ki),Ze(t)._overflowWeeks&&e===-1&&(e=yie),Ze(t)._overflowWeekday&&e===-1&&(e=_ie),Ze(t).overflow=e),t}var moe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,goe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,voe=/Z|[+-]\d\d(?::?\d\d)?/,l2=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ex=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],yoe=/^\/?Date\((-?\d+)/i,_oe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,woe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function sj(t){var e,n,r=t._i,s=moe.exec(r)||goe.exec(r),i,o,a,l,c=l2.length,u=ex.length;if(s){for(Ze(t).iso=!0,e=0,n=c;e<n;e++)if(l2[e][1].exec(s[1])){o=l2[e][0],i=l2[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(s[3]){for(e=0,n=u;e<n;e++)if(ex[e][1].exec(s[3])){a=(s[2]||" ")+ex[e][0];break}if(a==null){t._isValid=!1;return}}if(!i&&a!=null){t._isValid=!1;return}if(s[4])if(voe.exec(s[4]))l="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(l||""),GI(t)}else t._isValid=!1}function xoe(t,e,n,r,s,i){var o=[Eoe(t),YO.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(s,10)];return i&&o.push(parseInt(i,10)),o}function Eoe(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Coe(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function boe(t,e,n){if(t){var r=ej.indexOf(t),s=new Date(e[0],e[1],e[2]).getDay();if(r!==s)return Ze(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function Ioe(t,e,n){if(t)return woe[t];if(e)return 0;var r=parseInt(n,10),s=r%100,i=(r-s)/100;return i*60+s}function ij(t){var e=_oe.exec(Coe(t._i)),n;if(e){if(n=xoe(e[4],e[3],e[2],e[5],e[6],e[7]),!boe(e[1],n,t))return;t._a=n,t._tzm=Ioe(e[8],e[9],e[10]),t._d=dp.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Ze(t).rfc2822=!0}else t._isValid=!1}function Toe(t){var e=yoe.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(sj(t),t._isValid===!1)delete t._isValid;else return;if(ij(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:me.createFromInputFallback(t)}me.createFromInputFallback=ui("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function $u(t,e,n){return t??e??n}function Soe(t){var e=new Date(me.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function HI(t){var e,n,r=[],s,i,o;if(!t._d){for(s=Soe(t),t._w&&t._a[Ki]==null&&t._a[Ho]==null&&koe(t),t._dayOfYear!=null&&(o=$u(t._a[Ar],s[Ar]),(t._dayOfYear>l0(o)||t._dayOfYear===0)&&(Ze(t)._overflowDayOfYear=!0),n=dp(o,0,t._dayOfYear),t._a[Ho]=n.getUTCMonth(),t._a[Ki]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=s[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Gn]===24&&t._a[Ii]===0&&t._a[Go]===0&&t._a[dc]===0&&(t._nextDay=!0,t._a[Gn]=0),t._d=(t._useUTC?dp:Lie).apply(null,r),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Gn]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==i&&(Ze(t).weekdayMismatch=!0)}}function koe(t){var e,n,r,s,i,o,a,l,c;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(i=1,o=4,n=$u(e.GG,t._a[Ar],hp(en(),1,4).year),r=$u(e.W,1),s=$u(e.E,1),(s<1||s>7)&&(l=!0)):(i=t._locale._week.dow,o=t._locale._week.doy,c=hp(en(),i,o),n=$u(e.gg,t._a[Ar],c.year),r=$u(e.w,c.week),e.d!=null?(s=e.d,(s<0||s>6)&&(l=!0)):e.e!=null?(s=e.e+i,(e.e<0||e.e>6)&&(l=!0)):s=i),r<1||r>Xo(n,i,o)?Ze(t)._overflowWeeks=!0:l!=null?Ze(t)._overflowWeekday=!0:(a=ZO(n,r,s,i,o),t._a[Ar]=a.year,t._dayOfYear=a.dayOfYear)}me.ISO_8601=function(){};me.RFC_2822=function(){};function GI(t){if(t._f===me.ISO_8601){sj(t);return}if(t._f===me.RFC_2822){ij(t);return}t._a=[],Ze(t).empty=!0;var e=""+t._i,n,r,s,i,o,a=e.length,l=0,c,u;for(s=UO(t._f,t._locale).match(LI)||[],u=s.length,n=0;n<u;n++)i=s[n],r=(e.match(mie(i,t))||[])[0],r&&(o=e.substr(0,e.indexOf(r)),o.length>0&&Ze(t).unusedInput.push(o),e=e.slice(e.indexOf(r)+r.length),l+=r.length),_d[i]?(r?Ze(t).empty=!1:Ze(t).unusedTokens.push(i),vie(i,r,t)):t._strict&&!r&&Ze(t).unusedTokens.push(i);Ze(t).charsLeftOver=a-l,e.length>0&&Ze(t).unusedInput.push(e),t._a[Gn]<=12&&Ze(t).bigHour===!0&&t._a[Gn]>0&&(Ze(t).bigHour=void 0),Ze(t).parsedDateParts=t._a.slice(0),Ze(t).meridiem=t._meridiem,t._a[Gn]=Roe(t._locale,t._a[Gn],t._meridiem),c=Ze(t).era,c!==null&&(t._a[Ar]=t._locale.erasConvertYear(c,t._a[Ar])),HI(t),WI(t)}function Roe(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function Aoe(t){var e,n,r,s,i,o,a=!1,l=t._f.length;if(l===0){Ze(t).invalidFormat=!0,t._d=new Date(NaN);return}for(s=0;s<l;s++)i=0,o=!1,e=NI({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[s],GI(e),PI(e)&&(o=!0),i+=Ze(e).charsLeftOver,i+=Ze(e).unusedTokens.length*10,Ze(e).score=i,a?i<r&&(r=i,n=e):(r==null||i<r||o)&&(r=i,n=e,o&&(a=!0));Ga(t,n||e)}function Poe(t){if(!t._d){var e=MI(t._i),n=e.day===void 0?e.date:e.day;t._a=$O([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),HI(t)}}function Noe(t){var e=new am(WI(oj(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function oj(t){var e=t._i,n=t._f;return t._locale=t._locale||_a(t._l),e===null||n===void 0&&e===""?Iy({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Oi(e)?new am(WI(e)):(om(e)?t._d=e:Mi(n)?Aoe(t):n?GI(t):Doe(t),PI(t)||(t._d=null),t))}function Doe(t){var e=t._i;Qr(e)?t._d=new Date(me.now()):om(e)?t._d=new Date(e.valueOf()):typeof e=="string"?Toe(t):Mi(e)?(t._a=$O(e.slice(0),function(n){return parseInt(n,10)}),HI(t)):Cc(e)?Poe(t):aa(e)?t._d=new Date(e):me.createFromInputFallback(t)}function aj(t,e,n,r,s){var i={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Cc(t)&&AI(t)||Mi(t)&&t.length===0)&&(t=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=s,i._l=n,i._i=t,i._f=e,i._strict=r,Noe(i)}function en(t,e,n,r){return aj(t,e,n,r,!1)}var Loe=ui("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=en.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Iy()}),Moe=ui("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=en.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Iy()});function lj(t,e){var n,r;if(e.length===1&&Mi(e[0])&&(e=e[0]),!e.length)return en();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function Ooe(){var t=[].slice.call(arguments,0);return lj("isBefore",t)}function joe(){var t=[].slice.call(arguments,0);return lj("isAfter",t)}var $oe=function(){return Date.now?Date.now():+new Date},pf=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Foe(t){var e,n=!1,r,s=pf.length;for(e in t)if(St(t,e)&&!(Tn.call(pf,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<s;++r)if(t[pf[r]]){if(n)return!1;parseFloat(t[pf[r]])!==vt(t[pf[r]])&&(n=!0)}return!0}function Voe(){return this._isValid}function Uoe(){return Fi(NaN)}function Dy(t){var e=MI(t),n=e.year||0,r=e.quarter||0,s=e.month||0,i=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=Foe(e),this._milliseconds=+u+c*1e3+l*6e4+a*1e3*60*60,this._days=+o+i*7,this._months=+s+r*3+n*12,this._data={},this._locale=_a(),this._bubble()}function Q2(t){return t instanceof Dy}function UE(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function zoe(t,e,n){var r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),i=0,o;for(o=0;o<r;o++)(n&&t[o]!==e[o]||!n&&vt(t[o])!==vt(e[o]))&&i++;return i+s}function cj(t,e){De(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+go(~~(n/60),2)+e+go(~~n%60,2)})}cj("Z",":");cj("ZZ","");xe("Z",Ay);xe("ZZ",Ay);Wt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=qI(Ay,t)});var Boe=/([\+\-]|\d\d)/gi;function qI(t,e){var n=(e||"").match(t),r,s,i;return n===null?null:(r=n[n.length-1]||[],s=(r+"").match(Boe)||["-",0,0],i=+(s[1]*60)+vt(s[2]),i===0?0:s[0]==="+"?i:-i)}function YI(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(Oi(t)||om(t)?t.valueOf():en(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),me.updateOffset(n,!1),n):en(t).local()}function zE(t){return-Math.round(t._d.getTimezoneOffset())}me.updateOffset=function(){};function Woe(t,e,n){var r=this._offset||0,s;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=qI(Ay,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(s=zE(this)),this._offset=t,this._isUTC=!0,s!=null&&this.add(s,"m"),r!==t&&(!e||this._changeInProgress?hj(this,Fi(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,me.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:zE(this)}function Hoe(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Goe(t){return this.utcOffset(0,t)}function qoe(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(zE(this),"m")),this}function Yoe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=qI(fie,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Koe(t){return this.isValid()?(t=t?en(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Qoe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Xoe(){if(!Qr(this._isDSTShifted))return this._isDSTShifted;var t={},e;return NI(t,this),t=oj(t),t._a?(e=t._isUTC?xo(t._a):en(t._a),this._isDSTShifted=this.isValid()&&zoe(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Joe(){return this.isValid()?!this._isUTC:!1}function Zoe(){return this.isValid()?this._isUTC:!1}function uj(){return this.isValid()?this._isUTC&&this._offset===0:!1}var eae=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,tae=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Fi(t,e){var n=t,r=null,s,i,o;return Q2(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:aa(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=eae.exec(t))?(s=r[1]==="-"?-1:1,n={y:0,d:vt(r[Ki])*s,h:vt(r[Gn])*s,m:vt(r[Ii])*s,s:vt(r[Go])*s,ms:vt(UE(r[dc]*1e3))*s}):(r=tae.exec(t))?(s=r[1]==="-"?-1:1,n={y:zl(r[2],s),M:zl(r[3],s),w:zl(r[4],s),d:zl(r[5],s),h:zl(r[6],s),m:zl(r[7],s),s:zl(r[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=nae(en(n.from),en(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),i=new Dy(n),Q2(t)&&St(t,"_locale")&&(i._locale=t._locale),Q2(t)&&St(t,"_isValid")&&(i._isValid=t._isValid),i}Fi.fn=Dy.prototype;Fi.invalid=Uoe;function zl(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function wA(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function nae(t,e){var n;return t.isValid()&&e.isValid()?(e=YI(e,t),t.isBefore(e)?n=wA(t,e):(n=wA(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function dj(t,e){return function(n,r){var s,i;return r!==null&&!isNaN(+r)&&(VO(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),s=Fi(n,r),hj(this,s,t),this}}function hj(t,e,n,r){var s=e._milliseconds,i=UE(e._days),o=UE(e._months);t.isValid()&&(r=r??!0,o&&QO(t,up(t,"Month")+o*n),i&&qO(t,"Date",up(t,"Date")+i*n),s&&t._d.setTime(t._d.valueOf()+s*n),r&&me.updateOffset(t,i||o))}var rae=dj(1,"add"),sae=dj(-1,"subtract");function fj(t){return typeof t=="string"||t instanceof String}function iae(t){return Oi(t)||om(t)||fj(t)||aa(t)||aae(t)||oae(t)||t===null||t===void 0}function oae(t){var e=Cc(t)&&!AI(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,i,o=r.length;for(s=0;s<o;s+=1)i=r[s],n=n||St(t,i);return e&&n}function aae(t){var e=Mi(t),n=!1;return e&&(n=t.filter(function(r){return!aa(r)&&fj(t)}).length===0),e&&n}function lae(t){var e=Cc(t)&&!AI(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,i;for(s=0;s<r.length;s+=1)i=r[s],n=n||St(t,i);return e&&n}function cae(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function uae(t,e){arguments.length===1&&(arguments[0]?iae(arguments[0])?(t=arguments[0],e=void 0):lae(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||en(),r=YI(n,this).startOf("day"),s=me.calendarFormat(this,r)||"sameElse",i=e&&(Eo(e[s])?e[s].call(this,n):e[s]);return this.format(i||this.localeData().calendar(s,this,en(n)))}function dae(){return new am(this)}function hae(t,e){var n=Oi(t)?t:en(t);return this.isValid()&&n.isValid()?(e=di(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function fae(t,e){var n=Oi(t)?t:en(t);return this.isValid()&&n.isValid()?(e=di(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function pae(t,e,n,r){var s=Oi(t)?t:en(t),i=Oi(e)?e:en(e);return this.isValid()&&s.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function mae(t,e){var n=Oi(t)?t:en(t),r;return this.isValid()&&n.isValid()?(e=di(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function gae(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function vae(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function yae(t,e,n){var r,s,i;if(!this.isValid())return NaN;if(r=YI(t,this),!r.isValid())return NaN;switch(s=(r.utcOffset()-this.utcOffset())*6e4,e=di(e),e){case"year":i=X2(this,r)/12;break;case"month":i=X2(this,r);break;case"quarter":i=X2(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-s)/864e5;break;case"week":i=(this-r-s)/6048e5;break;default:i=this-r}return n?i:Hs(i)}function X2(t,e){if(t.date()<e.date())return-X2(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),s,i;return e-r<0?(s=t.clone().add(n-1,"months"),i=(e-r)/(r-s)):(s=t.clone().add(n+1,"months"),i=(e-r)/(s-r)),-(n+i)||0}me.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";me.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function _ae(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function wae(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?K2(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Eo(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",K2(n,"Z")):K2(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function xae(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,s,i;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",i=e+'[")]',this.format(n+r+s+i)}function Eae(t){t||(t=this.isUtc()?me.defaultFormatUtc:me.defaultFormat);var e=K2(this,t);return this.localeData().postformat(e)}function Cae(t,e){return this.isValid()&&(Oi(t)&&t.isValid()||en(t).isValid())?Fi({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function bae(t){return this.from(en(),t)}function Iae(t,e){return this.isValid()&&(Oi(t)&&t.isValid()||en(t).isValid())?Fi({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Tae(t){return this.to(en(),t)}function pj(t){var e;return t===void 0?this._locale._abbr:(e=_a(t),e!=null&&(this._locale=e),this)}var mj=ui("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function gj(){return this._locale}var A1=1e3,wd=60*A1,P1=60*wd,vj=(365*400+97)*24*P1;function xd(t,e){return(t%e+e)%e}function yj(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-vj:new Date(t,e,n).valueOf()}function _j(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-vj:Date.UTC(t,e,n)}function Sae(t){var e,n;if(t=di(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?_j:yj,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=xd(e+(this._isUTC?0:this.utcOffset()*wd),P1);break;case"minute":e=this._d.valueOf(),e-=xd(e,wd);break;case"second":e=this._d.valueOf(),e-=xd(e,A1);break}return this._d.setTime(e),me.updateOffset(this,!0),this}function kae(t){var e,n;if(t=di(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?_j:yj,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=P1-xd(e+(this._isUTC?0:this.utcOffset()*wd),P1)-1;break;case"minute":e=this._d.valueOf(),e+=wd-xd(e,wd)-1;break;case"second":e=this._d.valueOf(),e+=A1-xd(e,A1)-1;break}return this._d.setTime(e),me.updateOffset(this,!0),this}function Rae(){return this._d.valueOf()-(this._offset||0)*6e4}function Aae(){return Math.floor(this.valueOf()/1e3)}function Pae(){return new Date(this.valueOf())}function Nae(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Dae(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Lae(){return this.isValid()?this.toISOString():null}function Mae(){return PI(this)}function Oae(){return Ga({},Ze(this))}function jae(){return Ze(this).overflow}function $ae(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}De("N",0,0,"eraAbbr");De("NN",0,0,"eraAbbr");De("NNN",0,0,"eraAbbr");De("NNNN",0,0,"eraName");De("NNNNN",0,0,"eraNarrow");De("y",["y",1],"yo","eraYear");De("y",["yy",2],0,"eraYear");De("y",["yyy",3],0,"eraYear");De("y",["yyyy",4],0,"eraYear");xe("N",KI);xe("NN",KI);xe("NNN",KI);xe("NNNN",Kae);xe("NNNNN",Qae);Wt(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var s=n._locale.erasParse(t,r,n._strict);s?Ze(n).era=s:Ze(n).invalidEra=t});xe("y",Rh);xe("yy",Rh);xe("yyy",Rh);xe("yyyy",Rh);xe("yo",Xae);Wt(["y","yy","yyy","yyyy"],Ar);Wt(["yo"],function(t,e,n,r){var s;n._locale._eraYearOrdinalRegex&&(s=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Ar]=n._locale.eraYearOrdinalParse(t,s):e[Ar]=parseInt(t,10)});function Fae(t,e){var n,r,s,i=this._eras||_a("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":s=me(i[n].since).startOf("day"),i[n].since=s.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":s=me(i[n].until).startOf("day").valueOf(),i[n].until=s.valueOf();break}}return i}function Vae(t,e,n){var r,s,i=this.eras(),o,a,l;for(t=t.toUpperCase(),r=0,s=i.length;r<s;++r)if(o=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),l=i[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return i[r];break;case"NNNN":if(o===t)return i[r];break;case"NNNNN":if(l===t)return i[r];break}else if([o,a,l].indexOf(t)>=0)return i[r]}function Uae(t,e){var n=t.since<=t.until?1:-1;return e===void 0?me(t.since).year():me(t.since).year()+(e-t.offset)*n}function zae(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function Bae(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function Wae(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function Hae(){var t,e,n,r,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=s[t].since<=s[t].until?1:-1,r=this.clone().startOf("day").valueOf(),s[t].since<=r&&r<=s[t].until||s[t].until<=r&&r<=s[t].since)return(this.year()-me(s[t].since).year())*n+s[t].offset;return this.year()}function Gae(t){return St(this,"_erasNameRegex")||QI.call(this),t?this._erasNameRegex:this._erasRegex}function qae(t){return St(this,"_erasAbbrRegex")||QI.call(this),t?this._erasAbbrRegex:this._erasRegex}function Yae(t){return St(this,"_erasNarrowRegex")||QI.call(this),t?this._erasNarrowRegex:this._erasRegex}function KI(t,e){return e.erasAbbrRegex(t)}function Kae(t,e){return e.erasNameRegex(t)}function Qae(t,e){return e.erasNarrowRegex(t)}function Xae(t,e){return e._eraYearOrdinalRegex||Rh}function QI(){var t=[],e=[],n=[],r=[],s,i,o,a,l,c=this.eras();for(s=0,i=c.length;s<i;++s)o=Qo(c[s].name),a=Qo(c[s].abbr),l=Qo(c[s].narrow),e.push(o),t.push(a),n.push(l),r.push(o),r.push(a),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}De(0,["gg",2],0,function(){return this.weekYear()%100});De(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ly(t,e){De(0,[t,t.length],0,e)}Ly("gggg","weekYear");Ly("ggggg","weekYear");Ly("GGGG","isoWeekYear");Ly("GGGGG","isoWeekYear");xe("G",Ry);xe("g",Ry);xe("GG",tn,$s);xe("gg",tn,$s);xe("GGGG",jI,OI);xe("gggg",jI,OI);xe("GGGGG",ky,Ty);xe("ggggg",ky,Ty);cm(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=vt(t)});cm(["gg","GG"],function(t,e,n,r){e[r]=me.parseTwoDigitYear(t)});function Jae(t){return wj.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Zae(t){return wj.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function ele(){return Xo(this.year(),1,4)}function tle(){return Xo(this.isoWeekYear(),1,4)}function nle(){var t=this.localeData()._week;return Xo(this.year(),t.dow,t.doy)}function rle(){var t=this.localeData()._week;return Xo(this.weekYear(),t.dow,t.doy)}function wj(t,e,n,r,s){var i;return t==null?hp(this,r,s).year:(i=Xo(t,r,s),e>i&&(e=i),sle.call(this,t,e,n,r,s))}function sle(t,e,n,r,s){var i=ZO(t,e,n,r,s),o=dp(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}De("Q",0,"Qo","quarter");xe("Q",zO);Wt("Q",function(t,e){e[Ho]=(vt(t)-1)*3});function ile(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}De("D",["DD",2],"Do","date");xe("D",tn,Ah);xe("DD",tn,$s);xe("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Wt(["D","DD"],Ki);Wt("Do",function(t,e){e[Ki]=vt(t.match(tn)[0])});var xj=Ph("Date",!0);De("DDD",["DDDD",3],"DDDo","dayOfYear");xe("DDD",Sy);xe("DDDD",BO);Wt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=vt(t)});function ole(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}De("m",["mm",2],0,"minute");xe("m",tn,$I);xe("mm",tn,$s);Wt(["m","mm"],Ii);var ale=Ph("Minutes",!1);De("s",["ss",2],0,"second");xe("s",tn,$I);xe("ss",tn,$s);Wt(["s","ss"],Go);var lle=Ph("Seconds",!1);De("S",0,0,function(){return~~(this.millisecond()/100)});De(0,["SS",2],0,function(){return~~(this.millisecond()/10)});De(0,["SSS",3],0,"millisecond");De(0,["SSSS",4],0,function(){return this.millisecond()*10});De(0,["SSSSS",5],0,function(){return this.millisecond()*100});De(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});De(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});De(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});De(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});xe("S",Sy,zO);xe("SS",Sy,$s);xe("SSS",Sy,BO);var qa,Ej;for(qa="SSSS";qa.length<=9;qa+="S")xe(qa,Rh);function cle(t,e){e[dc]=vt(("0."+t)*1e3)}for(qa="S";qa.length<=9;qa+="S")Wt(qa,cle);Ej=Ph("Milliseconds",!1);De("z",0,0,"zoneAbbr");De("zz",0,0,"zoneName");function ule(){return this._isUTC?"UTC":""}function dle(){return this._isUTC?"Coordinated Universal Time":""}var J=am.prototype;J.add=rae;J.calendar=uae;J.clone=dae;J.diff=yae;J.endOf=kae;J.format=Eae;J.from=Cae;J.fromNow=bae;J.to=Iae;J.toNow=Tae;J.get=xie;J.invalidAt=jae;J.isAfter=hae;J.isBefore=fae;J.isBetween=pae;J.isSame=mae;J.isSameOrAfter=gae;J.isSameOrBefore=vae;J.isValid=Mae;J.lang=mj;J.locale=pj;J.localeData=gj;J.max=Moe;J.min=Loe;J.parsingFlags=Oae;J.set=Eie;J.startOf=Sae;J.subtract=sae;J.toArray=Nae;J.toObject=Dae;J.toDate=Pae;J.toISOString=wae;J.inspect=xae;typeof Symbol<"u"&&Symbol.for!=null&&(J[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});J.toJSON=Lae;J.toString=_ae;J.unix=Aae;J.valueOf=Rae;J.creationData=$ae;J.eraName=zae;J.eraNarrow=Bae;J.eraAbbr=Wae;J.eraYear=Hae;J.year=GO;J.isLeapYear=wie;J.weekYear=Jae;J.isoWeekYear=Zae;J.quarter=J.quarters=ile;J.month=XO;J.daysInMonth=Pie;J.week=J.weeks=Fie;J.isoWeek=J.isoWeeks=Vie;J.weeksInYear=nle;J.weeksInWeekYear=rle;J.isoWeeksInYear=ele;J.isoWeeksInISOWeekYear=tle;J.date=xj;J.day=J.days=Zie;J.weekday=eoe;J.isoWeekday=toe;J.dayOfYear=ole;J.hour=J.hours=loe;J.minute=J.minutes=ale;J.second=J.seconds=lle;J.millisecond=J.milliseconds=Ej;J.utcOffset=Woe;J.utc=Goe;J.local=qoe;J.parseZone=Yoe;J.hasAlignedHourOffset=Koe;J.isDST=Qoe;J.isLocal=Joe;J.isUtcOffset=Zoe;J.isUtc=uj;J.isUTC=uj;J.zoneAbbr=ule;J.zoneName=dle;J.dates=ui("dates accessor is deprecated. Use date instead.",xj);J.months=ui("months accessor is deprecated. Use month instead",XO);J.years=ui("years accessor is deprecated. Use year instead",GO);J.zone=ui("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Hoe);J.isDSTShifted=ui("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Xoe);function hle(t){return en(t*1e3)}function fle(){return en.apply(null,arguments).parseZone()}function Cj(t){return t}var Rt=DI.prototype;Rt.calendar=Jse;Rt.longDateFormat=nie;Rt.invalidDate=sie;Rt.ordinal=aie;Rt.preparse=Cj;Rt.postformat=Cj;Rt.relativeTime=cie;Rt.pastFuture=uie;Rt.set=Qse;Rt.eras=Fae;Rt.erasParse=Vae;Rt.erasConvertYear=Uae;Rt.erasAbbrRegex=qae;Rt.erasNameRegex=Gae;Rt.erasNarrowRegex=Yae;Rt.months=Sie;Rt.monthsShort=kie;Rt.monthsParse=Aie;Rt.monthsRegex=Die;Rt.monthsShortRegex=Nie;Rt.week=Mie;Rt.firstDayOfYear=$ie;Rt.firstDayOfWeek=jie;Rt.weekdays=Yie;Rt.weekdaysMin=Qie;Rt.weekdaysShort=Kie;Rt.weekdaysParse=Jie;Rt.weekdaysRegex=noe;Rt.weekdaysShortRegex=roe;Rt.weekdaysMinRegex=soe;Rt.isPM=ooe;Rt.meridiem=coe;function N1(t,e,n,r){var s=_a(),i=xo().set(r,e);return s[n](i,t)}function bj(t,e,n){if(aa(t)&&(e=t,t=void 0),t=t||"",e!=null)return N1(t,e,n,"month");var r,s=[];for(r=0;r<12;r++)s[r]=N1(t,r,n,"month");return s}function XI(t,e,n,r){typeof t=="boolean"?(aa(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,aa(e)&&(n=e,e=void 0),e=e||"");var s=_a(),i=t?s._week.dow:0,o,a=[];if(n!=null)return N1(e,(n+i)%7,r,"day");for(o=0;o<7;o++)a[o]=N1(e,(o+i)%7,r,"day");return a}function ple(t,e){return bj(t,e,"months")}function mle(t,e){return bj(t,e,"monthsShort")}function gle(t,e,n){return XI(t,e,n,"weekdays")}function vle(t,e,n){return XI(t,e,n,"weekdaysShort")}function yle(t,e,n){return XI(t,e,n,"weekdaysMin")}dl("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=vt(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});me.lang=ui("moment.lang is deprecated. Use moment.locale instead.",dl);me.langData=ui("moment.langData is deprecated. Use moment.localeData instead.",_a);var So=Math.abs;function _le(){var t=this._data;return this._milliseconds=So(this._milliseconds),this._days=So(this._days),this._months=So(this._months),t.milliseconds=So(t.milliseconds),t.seconds=So(t.seconds),t.minutes=So(t.minutes),t.hours=So(t.hours),t.months=So(t.months),t.years=So(t.years),this}function Ij(t,e,n,r){var s=Fi(e,n);return t._milliseconds+=r*s._milliseconds,t._days+=r*s._days,t._months+=r*s._months,t._bubble()}function wle(t,e){return Ij(this,t,e,1)}function xle(t,e){return Ij(this,t,e,-1)}function xA(t){return t<0?Math.floor(t):Math.ceil(t)}function Ele(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,s,i,o,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=xA(BE(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,s=Hs(t/1e3),r.seconds=s%60,i=Hs(s/60),r.minutes=i%60,o=Hs(i/60),r.hours=o%24,e+=Hs(o/24),l=Hs(Tj(e)),n+=l,e-=xA(BE(l)),a=Hs(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function Tj(t){return t*4800/146097}function BE(t){return t*146097/4800}function Cle(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=di(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+Tj(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(BE(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function wa(t){return function(){return this.as(t)}}var Sj=wa("ms"),ble=wa("s"),Ile=wa("m"),Tle=wa("h"),Sle=wa("d"),kle=wa("w"),Rle=wa("M"),Ale=wa("Q"),Ple=wa("y"),Nle=Sj;function Dle(){return Fi(this)}function Lle(t){return t=di(t),this.isValid()?this[t+"s"]():NaN}function hu(t){return function(){return this.isValid()?this._data[t]:NaN}}var Mle=hu("milliseconds"),Ole=hu("seconds"),jle=hu("minutes"),$le=hu("hours"),Fle=hu("days"),Vle=hu("months"),Ule=hu("years");function zle(){return Hs(this.days()/7)}var Po=Math.round,ed={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Ble(t,e,n,r,s){return s.relativeTime(e||1,!!n,t,r)}function Wle(t,e,n,r){var s=Fi(t).abs(),i=Po(s.as("s")),o=Po(s.as("m")),a=Po(s.as("h")),l=Po(s.as("d")),c=Po(s.as("M")),u=Po(s.as("w")),h=Po(s.as("y")),f=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(f=f||u<=1&&["w"]||u<n.w&&["ww",u]),f=f||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h],f[2]=e,f[3]=+t>0,f[4]=r,Ble.apply(null,f)}function Hle(t){return t===void 0?Po:typeof t=="function"?(Po=t,!0):!1}function Gle(t,e){return ed[t]===void 0?!1:e===void 0?ed[t]:(ed[t]=e,t==="s"&&(ed.ss=e-1),!0)}function qle(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=ed,s,i;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},ed,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),s=this.localeData(),i=Wle(this,!n,r,s),n&&(i=s.pastFuture(+this,i)),s.postformat(i)}var tx=Math.abs;function Tu(t){return(t>0)-(t<0)||+t}function My(){if(!this.isValid())return this.localeData().invalidDate();var t=tx(this._milliseconds)/1e3,e=tx(this._days),n=tx(this._months),r,s,i,o,a=this.asSeconds(),l,c,u,h;return a?(r=Hs(t/60),s=Hs(r/60),t%=60,r%=60,i=Hs(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=Tu(this._months)!==Tu(a)?"-":"",u=Tu(this._days)!==Tu(a)?"-":"",h=Tu(this._milliseconds)!==Tu(a)?"-":"",l+"P"+(i?c+i+"Y":"")+(n?c+n+"M":"")+(e?u+e+"D":"")+(s||r||t?"T":"")+(s?h+s+"H":"")+(r?h+r+"M":"")+(t?h+o+"S":"")):"P0D"}var Ct=Dy.prototype;Ct.isValid=Voe;Ct.abs=_le;Ct.add=wle;Ct.subtract=xle;Ct.as=Cle;Ct.asMilliseconds=Sj;Ct.asSeconds=ble;Ct.asMinutes=Ile;Ct.asHours=Tle;Ct.asDays=Sle;Ct.asWeeks=kle;Ct.asMonths=Rle;Ct.asQuarters=Ale;Ct.asYears=Ple;Ct.valueOf=Nle;Ct._bubble=Ele;Ct.clone=Dle;Ct.get=Lle;Ct.milliseconds=Mle;Ct.seconds=Ole;Ct.minutes=jle;Ct.hours=$le;Ct.days=Fle;Ct.weeks=zle;Ct.months=Vle;Ct.years=Ule;Ct.humanize=qle;Ct.toISOString=My;Ct.toString=My;Ct.toJSON=My;Ct.locale=pj;Ct.localeData=gj;Ct.toIsoString=ui("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",My);Ct.lang=mj;De("X",0,0,"unix");De("x",0,0,"valueOf");xe("x",Ry);xe("X",pie);Wt("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});Wt("x",function(t,e,n){n._d=new Date(vt(t))});//! moment.js
me.version="2.30.1";Yse(en);me.fn=J;me.min=Ooe;me.max=joe;me.now=$oe;me.utc=xo;me.unix=hle;me.months=ple;me.isDate=om;me.locale=dl;me.invalid=Iy;me.duration=Fi;me.isMoment=Oi;me.weekdays=gle;me.parseZone=fle;me.localeData=_a;me.isDuration=Q2;me.monthsShort=mle;me.weekdaysMin=yle;me.defineLocale=BI;me.updateLocale=foe;me.locales=poe;me.weekdaysShort=vle;me.normalizeUnits=di;me.relativeTimeRounding=Hle;me.relativeTimeThreshold=Gle;me.calendarFormat=cae;me.prototype=J;me.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Yle={apiKey:"AIzaSyCwF75LGVuWriGfXEyHzoGBvobiOdMEwHs",authDomain:"star-education-academy.firebaseapp.com",projectId:"star-education-academy",storageBucket:"star-education-academy.appspot.com",messagingSenderId:"693801186794",appId:"1:693801186794:web:b202cdffa55530e687ee93",measurementId:"G-JN1DV2YT81",databaseURL:"https://star-education-academy-default-rtdb.asia-southeast1.firebasedatabase.app"},Oy=T8(Yle),Zr=MK(Oy),Kle=new Mo,be=HZ(Oy,{cache:hee()}),Ya=Cte(Oy),pp=Wse(Oy);GZ(be).then(()=>{console.log("Offline persistence enabled")}).catch(t=>{t.code==="failed-precondition"?console.log("Persistence failed, multiple tabs open"):t.code==="unimplemented"&&console.log("Persistence not availabel on this browser")});const Vn=(t,e=200)=>{setTimeout(()=>{t(!1)},e)},Nh=async(t,e,n,r,s,i=!1,o,a=200)=>{const l=br.get("userId");g.useEffect(()=>{if(!l)return;const c=zn(t,...e),u=$i(c,h=>{if(r(!0),h.empty)s(!0),n([]);else{const f=h.docs.map(p=>({...p.data(),[i?"uid":"id"]:p.id}));n(f),s(!1)}Vn(r,a)},h=>{console.log("Error fetching documents: ",h.message),Vn(r,a),o("Error fetching documents: "+h.message+" Come here again at 1:30 pm.")});return()=>u()},[])},Qle=async(t,e=3,n=1e3)=>{let r=0;for(;r<e;)try{await t(),console.log("User data save to firestore successfully");break}catch(s){if(r++,r>=e)throw console.log("Failed to save user data",s.message),s;console.warn(`Retrying Firestore write... (attempt ${r})`),await new Promise(i=>setTimeout(i,n*r))}},nx=async(t,e,n,r="",s)=>{try{const i=Ce(be,"users",s),o=await Li(i),a={name:t,email:e,password:n,image:r,isAdmin:!1,createdAt:dr()};o.exists()||await Qle(()=>wl(Ce(be,"users",s),a))}catch(i){console.log(i.message)}};function jy(t,e,n,r=[]){g.useEffect(()=>{const s=cp(pp,`/status/${t}`);Cy(s,i=>{if(i.exists()){const{status:o,lastChanged:a}=i.val();e(o),n(me(a).fromNow())}})},r)}function kj(t,e){localStorage.setItem(t,JSON.stringify(e))}function WE(t){let e=localStorage.getItem(t);try{return JSON.parse(e)}catch{return null}}function Xle(t,e){let n=!1;return e.forEach(r=>{r.id===t&&(n=!0)}),n}let EA;function Jle(t){t(!0),clearTimeout(EA),EA=setTimeout(()=>{t(!1)},[4e3])}function ei(t){scrollTo({top:0,...{behavior:t}})}function td(){const t=window.innerHeight,n=document.documentElement.scrollHeight-t;scrollTo({top:n+200})}function Zle(t){document.body.style.overflow=t}function $y(t,e){g.useEffect(()=>{const n=r=>{t.current&&!t.current.contains(r.target)&&e(!1)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[])}function ece(t){try{const e=t.split(":"),n=Number(e[0]),r=Number(e[1]),s=Number(e[2]);return`${rx(n,"hours")} ${rx(r,"minutes")} ${rx(s,"seconds")}`}catch{return null}}function rx(t,e){return t?`${t} ${e}`:""}function CA(t){return t>=10?t:`0${t}`}const Fy=(t,e)=>{const n=br.get("userId");let r;return t.forEach(s=>{s.id===e&&(r=s)}),r?r.seenBy.includes(n):!1},tce=(t,e)=>{let n=0;return t.forEach(r=>{Fy(t,r.id)||(n+=1)}),!!(n>0&&(e!=null&&e.name))};function um(t){g.useEffect(()=>{const e=()=>{const n=window.scrollY;kj(`SEA-scrollPosition-${t}`,n)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[])}function Vy(t){g.useEffect(()=>{const e=WE(`SEA-scrollPosition-${t}`);e&&scrollTo(0,parseInt(e,10))},[])}async function lo(t,e){try{console.log("Fetching counts...");const n=await U5(t);e(n.data().count)}catch(n){console.log(n.message)}}async function nce(t,e){const n=bA(t,e);try{if(n)return console.log("Fetched from the array..."),n;{const r=Ce(Ve(be,"users"),e);console.log("fetching user...");const s=await Li(r);if(s.exists()){const i={uid:s.id,...s.data()};return bA(t,s.id)?console.log("User already exists in the array:"):t.push(i),i}else return console.log("No user found in Firestore"),null}}catch(r){return console.error("Error fetching user:",r.message),null}}function bA(t,e){return t.find(n=>n.uid===e)}function Bn(t,e,n,r=()=>{},s=[],i=150){g.useEffect(()=>{(async()=>{r(!0);const a=await nce(e,t);n(a),Vn(r,i)})()},s)}const rce={black:"#000",white:"#fff"},mp=rce,sce={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Su=sce,ice={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ku=ice,oce={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ru=oce,ace={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Au=ace,lce={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Pu=lce,cce={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},mf=cce,uce={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},dce=uce;function la(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const hce=Object.freeze(Object.defineProperty({__proto__:null,default:la},Symbol.toStringTag,{value:"Module"})),Jd="$$material";function L(){return L=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L.apply(null,arguments)}function pe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function fce(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var pce=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,mce=fce(function(t){return pce.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),gce=!1;function vce(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function yce(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var _ce=function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!gce:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(yce(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=vce(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t}(),xr="-ms-",D1="-moz-",At="-webkit-",Rj="comm",JI="rule",ZI="decl",wce="@import",Aj="@keyframes",xce="@layer",Ece=Math.abs,Uy=String.fromCharCode,Cce=Object.assign;function bce(t,e){return lr(t,0)^45?(((e<<2^lr(t,0))<<2^lr(t,1))<<2^lr(t,2))<<2^lr(t,3):0}function Pj(t){return t.trim()}function Ice(t,e){return(t=e.exec(t))?t[0]:t}function Pt(t,e,n){return t.replace(e,n)}function HE(t,e){return t.indexOf(e)}function lr(t,e){return t.charCodeAt(e)|0}function gp(t,e,n){return t.slice(e,n)}function Bi(t){return t.length}function eT(t){return t.length}function c2(t,e){return e.push(t),t}function Tce(t,e){return t.map(e).join("")}var zy=1,Zd=1,Nj=0,ps=0,On=0,Dh="";function By(t,e,n,r,s,i,o){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:zy,column:Zd,length:o,return:""}}function gf(t,e){return Cce(By("",null,null,"",null,null,0),t,{length:-t.length},e)}function Sce(){return On}function kce(){return On=ps>0?lr(Dh,--ps):0,Zd--,On===10&&(Zd=1,zy--),On}function Ss(){return On=ps<Nj?lr(Dh,ps++):0,Zd++,On===10&&(Zd=1,zy++),On}function co(){return lr(Dh,ps)}function J2(){return ps}function dm(t,e){return gp(Dh,t,e)}function vp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Dj(t){return zy=Zd=1,Nj=Bi(Dh=t),ps=0,[]}function Lj(t){return Dh="",t}function Z2(t){return Pj(dm(ps-1,GE(t===91?t+2:t===40?t+1:t)))}function Rce(t){for(;(On=co())&&On<33;)Ss();return vp(t)>2||vp(On)>3?"":" "}function Ace(t,e){for(;--e&&Ss()&&!(On<48||On>102||On>57&&On<65||On>70&&On<97););return dm(t,J2()+(e<6&&co()==32&&Ss()==32))}function GE(t){for(;Ss();)switch(On){case t:return ps;case 34:case 39:t!==34&&t!==39&&GE(On);break;case 40:t===41&&GE(t);break;case 92:Ss();break}return ps}function Pce(t,e){for(;Ss()&&t+On!==57;)if(t+On===84&&co()===47)break;return"/*"+dm(e,ps-1)+"*"+Uy(t===47?t:Ss())}function Nce(t){for(;!vp(co());)Ss();return dm(t,ps)}function Dce(t){return Lj(eg("",null,null,null,[""],t=Dj(t),0,[0],t))}function eg(t,e,n,r,s,i,o,a,l){for(var c=0,u=0,h=o,f=0,p=0,m=0,v=1,E=1,y=1,w=0,_="",x=s,b=i,C=r,T=_;E;)switch(m=w,w=Ss()){case 40:if(m!=108&&lr(T,h-1)==58){HE(T+=Pt(Z2(w),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:T+=Z2(w);break;case 9:case 10:case 13:case 32:T+=Rce(m);break;case 92:T+=Ace(J2()-1,7);continue;case 47:switch(co()){case 42:case 47:c2(Lce(Pce(Ss(),J2()),e,n),l);break;default:T+="/"}break;case 123*v:a[c++]=Bi(T)*y;case 125*v:case 59:case 0:switch(w){case 0:case 125:E=0;case 59+u:y==-1&&(T=Pt(T,/\f/g,"")),p>0&&Bi(T)-h&&c2(p>32?TA(T+";",r,n,h-1):TA(Pt(T," ","")+";",r,n,h-2),l);break;case 59:T+=";";default:if(c2(C=IA(T,e,n,c,u,s,a,_,x=[],b=[],h),i),w===123)if(u===0)eg(T,e,C,C,x,i,h,a,b);else switch(f===99&&lr(T,3)===110?100:f){case 100:case 108:case 109:case 115:eg(t,C,C,r&&c2(IA(t,C,C,0,0,s,a,_,s,x=[],h),b),s,b,h,a,r?x:b);break;default:eg(T,C,C,C,[""],b,0,a,b)}}c=u=p=0,v=y=1,_=T="",h=o;break;case 58:h=1+Bi(T),p=m;default:if(v<1){if(w==123)--v;else if(w==125&&v++==0&&kce()==125)continue}switch(T+=Uy(w),w*v){case 38:y=u>0?1:(T+="\f",-1);break;case 44:a[c++]=(Bi(T)-1)*y,y=1;break;case 64:co()===45&&(T+=Z2(Ss())),f=co(),u=h=Bi(_=T+=Nce(J2())),w++;break;case 45:m===45&&Bi(T)==2&&(v=0)}}return i}function IA(t,e,n,r,s,i,o,a,l,c,u){for(var h=s-1,f=s===0?i:[""],p=eT(f),m=0,v=0,E=0;m<r;++m)for(var y=0,w=gp(t,h+1,h=Ece(v=o[m])),_=t;y<p;++y)(_=Pj(v>0?f[y]+" "+w:Pt(w,/&\f/g,f[y])))&&(l[E++]=_);return By(t,e,n,s===0?JI:a,l,c,u)}function Lce(t,e,n){return By(t,e,n,Rj,Uy(Sce()),gp(t,2,-2),0)}function TA(t,e,n,r){return By(t,e,n,ZI,gp(t,0,r),gp(t,r+1,-1),r)}function Ed(t,e){for(var n="",r=eT(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function Mce(t,e,n,r){switch(t.type){case xce:if(t.children.length)break;case wce:case ZI:return t.return=t.return||t.value;case Rj:return"";case Aj:return t.return=t.value+"{"+Ed(t.children,r)+"}";case JI:t.value=t.props.join(",")}return Bi(n=Ed(t.children,r))?t.return=t.value+"{"+n+"}":""}function Oce(t){var e=eT(t);return function(n,r,s,i){for(var o="",a=0;a<e;a++)o+=t[a](n,r,s,i)||"";return o}}function jce(t){return function(e){e.root||(e=e.return)&&t(e)}}var $ce=function(e,n,r){for(var s=0,i=0;s=i,i=co(),s===38&&i===12&&(n[r]=1),!vp(i);)Ss();return dm(e,ps)},Fce=function(e,n){var r=-1,s=44;do switch(vp(s)){case 0:s===38&&co()===12&&(n[r]=1),e[r]+=$ce(ps-1,n,r);break;case 2:e[r]+=Z2(s);break;case 4:if(s===44){e[++r]=co()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Uy(s)}while(s=Ss());return e},Vce=function(e,n){return Lj(Fce(Dj(e),n))},SA=new WeakMap,Uce=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!SA.get(r))&&!s){SA.set(e,!0);for(var i=[],o=Vce(n,i),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=i[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},zce=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Mj(t,e){switch(bce(t,e)){case 5103:return At+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return At+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return At+t+D1+t+xr+t+t;case 6828:case 4268:return At+t+xr+t+t;case 6165:return At+t+xr+"flex-"+t+t;case 5187:return At+t+Pt(t,/(\w+).+(:[^]+)/,At+"box-$1$2"+xr+"flex-$1$2")+t;case 5443:return At+t+xr+"flex-item-"+Pt(t,/flex-|-self/,"")+t;case 4675:return At+t+xr+"flex-line-pack"+Pt(t,/align-content|flex-|-self/,"")+t;case 5548:return At+t+xr+Pt(t,"shrink","negative")+t;case 5292:return At+t+xr+Pt(t,"basis","preferred-size")+t;case 6060:return At+"box-"+Pt(t,"-grow","")+At+t+xr+Pt(t,"grow","positive")+t;case 4554:return At+Pt(t,/([^-])(transform)/g,"$1"+At+"$2")+t;case 6187:return Pt(Pt(Pt(t,/(zoom-|grab)/,At+"$1"),/(image-set)/,At+"$1"),t,"")+t;case 5495:case 3959:return Pt(t,/(image-set\([^]*)/,At+"$1$`$1");case 4968:return Pt(Pt(t,/(.+:)(flex-)?(.*)/,At+"box-pack:$3"+xr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+At+t+t;case 4095:case 3583:case 4068:case 2532:return Pt(t,/(.+)-inline(.+)/,At+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Bi(t)-1-e>6)switch(lr(t,e+1)){case 109:if(lr(t,e+4)!==45)break;case 102:return Pt(t,/(.+:)(.+)-([^]+)/,"$1"+At+"$2-$3$1"+D1+(lr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~HE(t,"stretch")?Mj(Pt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(lr(t,e+1)!==115)break;case 6444:switch(lr(t,Bi(t)-3-(~HE(t,"!important")&&10))){case 107:return Pt(t,":",":"+At)+t;case 101:return Pt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+At+(lr(t,14)===45?"inline-":"")+"box$3$1"+At+"$2$3$1"+xr+"$2box$3")+t}break;case 5936:switch(lr(t,e+11)){case 114:return At+t+xr+Pt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return At+t+xr+Pt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return At+t+xr+Pt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return At+t+xr+t+t}return t}var Bce=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case ZI:e.return=Mj(e.value,e.length);break;case Aj:return Ed([gf(e,{value:Pt(e.value,"@","@"+At)})],s);case JI:if(e.length)return Tce(e.props,function(i){switch(Ice(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ed([gf(e,{props:[Pt(i,/:(read-\w+)/,":"+D1+"$1")]})],s);case"::placeholder":return Ed([gf(e,{props:[Pt(i,/:(plac\w+)/,":"+At+"input-$1")]}),gf(e,{props:[Pt(i,/:(plac\w+)/,":"+D1+"$1")]}),gf(e,{props:[Pt(i,/:(plac\w+)/,xr+"input-$1")]})],s)}return""})}},Wce=[Bce],Oj=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var E=v.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var s=e.stylisPlugins||Wce,i={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var E=v.getAttribute("data-emotion").split(" "),y=1;y<E.length;y++)i[E[y]]=!0;a.push(v)});var l,c=[Uce,zce];{var u,h=[Mce,jce(function(v){u.insert(v)})],f=Oce(c.concat(s,h)),p=function(E){return Ed(Dce(E),f)};l=function(E,y,w,_){u=w,p(E?E+"{"+y.styles+"}":y.styles),_&&(m.inserted[y.name]=!0)}}var m={key:n,sheet:new _ce({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return m.sheet.hydrate(a),m},jj={exports:{}},Vt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ir=typeof Symbol=="function"&&Symbol.for,tT=ir?Symbol.for("react.element"):60103,nT=ir?Symbol.for("react.portal"):60106,Wy=ir?Symbol.for("react.fragment"):60107,Hy=ir?Symbol.for("react.strict_mode"):60108,Gy=ir?Symbol.for("react.profiler"):60114,qy=ir?Symbol.for("react.provider"):60109,Yy=ir?Symbol.for("react.context"):60110,rT=ir?Symbol.for("react.async_mode"):60111,Ky=ir?Symbol.for("react.concurrent_mode"):60111,Qy=ir?Symbol.for("react.forward_ref"):60112,Xy=ir?Symbol.for("react.suspense"):60113,Hce=ir?Symbol.for("react.suspense_list"):60120,Jy=ir?Symbol.for("react.memo"):60115,Zy=ir?Symbol.for("react.lazy"):60116,Gce=ir?Symbol.for("react.block"):60121,qce=ir?Symbol.for("react.fundamental"):60117,Yce=ir?Symbol.for("react.responder"):60118,Kce=ir?Symbol.for("react.scope"):60119;function Fs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case tT:switch(t=t.type,t){case rT:case Ky:case Wy:case Gy:case Hy:case Xy:return t;default:switch(t=t&&t.$$typeof,t){case Yy:case Qy:case Zy:case Jy:case qy:return t;default:return e}}case nT:return e}}}function $j(t){return Fs(t)===Ky}Vt.AsyncMode=rT;Vt.ConcurrentMode=Ky;Vt.ContextConsumer=Yy;Vt.ContextProvider=qy;Vt.Element=tT;Vt.ForwardRef=Qy;Vt.Fragment=Wy;Vt.Lazy=Zy;Vt.Memo=Jy;Vt.Portal=nT;Vt.Profiler=Gy;Vt.StrictMode=Hy;Vt.Suspense=Xy;Vt.isAsyncMode=function(t){return $j(t)||Fs(t)===rT};Vt.isConcurrentMode=$j;Vt.isContextConsumer=function(t){return Fs(t)===Yy};Vt.isContextProvider=function(t){return Fs(t)===qy};Vt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===tT};Vt.isForwardRef=function(t){return Fs(t)===Qy};Vt.isFragment=function(t){return Fs(t)===Wy};Vt.isLazy=function(t){return Fs(t)===Zy};Vt.isMemo=function(t){return Fs(t)===Jy};Vt.isPortal=function(t){return Fs(t)===nT};Vt.isProfiler=function(t){return Fs(t)===Gy};Vt.isStrictMode=function(t){return Fs(t)===Hy};Vt.isSuspense=function(t){return Fs(t)===Xy};Vt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Wy||t===Ky||t===Gy||t===Hy||t===Xy||t===Hce||typeof t=="object"&&t!==null&&(t.$$typeof===Zy||t.$$typeof===Jy||t.$$typeof===qy||t.$$typeof===Yy||t.$$typeof===Qy||t.$$typeof===qce||t.$$typeof===Yce||t.$$typeof===Kce||t.$$typeof===Gce)};Vt.typeOf=Fs;jj.exports=Vt;var Qce=jj.exports,Fj=Qce,Xce={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Jce={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Vj={};Vj[Fj.ForwardRef]=Xce;Vj[Fj.Memo]=Jce;var Zce=!0;function eue(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):r+=s+" "}),r}var Uj=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||Zce===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},zj=function(e,n,r){Uj(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function tue(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var nue={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function rue(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var sue=!1,iue=/[A-Z]|^ms/g,oue=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Bj=function(e){return e.charCodeAt(1)===45},kA=function(e){return e!=null&&typeof e!="boolean"},sx=rue(function(t){return Bj(t)?t:t.replace(iue,"-$&").toLowerCase()}),RA=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(oue,function(r,s,i){return Wi={name:s,styles:i,next:Wi},s})}return nue[e]!==1&&!Bj(e)&&typeof n=="number"&&n!==0?n+"px":n},aue="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function yp(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return Wi={name:s.name,styles:s.styles,next:Wi},s.name;var i=n;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)Wi={name:o.name,styles:o.styles,next:Wi},o=o.next;var a=i.styles+";";return a}return lue(t,e,n)}case"function":{if(t!==void 0){var l=Wi,c=n(t);return Wi=l,yp(t,e,c)}break}}var u=n;if(e==null)return u;var h=e[u];return h!==void 0?h:u}function lue(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=yp(t,e,n[s])+";";else for(var i in n){var o=n[i];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=i+"{"+e[a]+"}":kA(a)&&(r+=sx(i)+":"+RA(i,a)+";")}else{if(i==="NO_COMPONENT_SELECTOR"&&sue)throw new Error(aue);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)kA(o[l])&&(r+=sx(i)+":"+RA(i,o[l])+";");else{var c=yp(t,e,o);switch(i){case"animation":case"animationName":{r+=sx(i)+":"+c+";";break}default:r+=i+"{"+c+"}"}}}}return r}var AA=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Wi;function sT(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";Wi=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,s+=yp(n,e,i);else{var o=i;s+=o[0]}for(var a=1;a<t.length;a++)if(s+=yp(n,e,t[a]),r){var l=i;s+=l[a]}AA.lastIndex=0;for(var c="",u;(u=AA.exec(s))!==null;)c+="-"+u[1];var h=tue(s)+c;return{name:h,styles:s,next:Wi}}var cue=function(e){return e()},Wj=pg.useInsertionEffect?pg.useInsertionEffect:!1,uue=Wj||cue,PA=Wj||g.useLayoutEffect,Hj=g.createContext(typeof HTMLElement<"u"?Oj({key:"css"}):null),due=Hj.Provider,Gj=function(e){return g.forwardRef(function(n,r){var s=g.useContext(Hj);return e(n,s,r)})},hm=g.createContext({}),ix={exports:{}},NA;function qj(){return NA||(NA=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)({}).hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(ix)),ix.exports}qj();var hue=Gj(function(t,e){var n=t.styles,r=sT([n],void 0,g.useContext(hm)),s=g.useRef();return PA(function(){var i=e.key+"-global",o=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",i),o.hydrate([l])),s.current=[o,a],function(){o.flush()}},[e]),PA(function(){var i=s.current,o=i[0],a=i[1];if(a){i[1]=!1;return}if(r.next!==void 0&&zj(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function ca(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return sT(e)}var Vi=function(){var e=ca.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},fue=mce,pue=function(e){return e!=="theme"},DA=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?fue:pue},LA=function(e,n,r){var s;if(n){var i=n.shouldForwardProp;s=e.__emotion_forwardProp&&i?function(o){return e.__emotion_forwardProp(o)&&i(o)}:i}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},mue=!1,gue=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return Uj(n,r,s),uue(function(){return zj(n,r,s)}),null},vue=function t(e,n){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,i,o;n!==void 0&&(i=n.label,o=n.target);var a=LA(e,n,r),l=a||DA(s),c=!l("as");return function(){var u=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&h.push("label:"+i+";"),u[0]==null||u[0].raw===void 0)h.push.apply(h,u);else{h.push(u[0][0]);for(var f=u.length,p=1;p<f;p++)h.push(u[p],u[0][p])}var m=Gj(function(v,E,y){var w=c&&v.as||s,_="",x=[],b=v;if(v.theme==null){b={};for(var C in v)b[C]=v[C];b.theme=g.useContext(hm)}typeof v.className=="string"?_=eue(E.registered,x,v.className):v.className!=null&&(_=v.className+" ");var T=sT(h.concat(x),E.registered,b);_+=E.key+"-"+T.name,o!==void 0&&(_+=" "+o);var I=c&&a===void 0?DA(w):l,S={};for(var R in v)c&&R==="as"||I(R)&&(S[R]=v[R]);return S.className=_,y&&(S.ref=y),g.createElement(g.Fragment,null,g.createElement(gue,{cache:E,serialized:T,isStringTag:typeof w=="string"}),g.createElement(w,S))});return m.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=h,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return o===void 0&&mue?"NO_COMPONENT_SELECTOR":"."+o}}),m.withComponent=function(v,E){return t(v,L({},n,E,{shouldForwardProp:LA(m,E,!0)})).apply(void 0,h)},m}},yue=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],qE=vue.bind();yue.forEach(function(t){qE[t]=qE(t)});let YE;typeof document=="object"&&(YE=Oj({key:"css",prepend:!0}));function _ue(t){const{injectFirst:e,children:n}=t;return e&&YE?d.jsx(due,{value:YE,children:n}):n}function wue(t){return t==null||Object.keys(t).length===0}function Yj(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?s=>e(wue(s)?n:s):e;return d.jsx(hue,{styles:r})}function iT(t,e){return qE(t,e)}const Kj=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},xue=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Yj,StyledEngineProvider:_ue,ThemeContext:hm,css:ca,default:iT,internal_processStyles:Kj,keyframes:Vi},Symbol.toStringTag,{value:"Module"}));function Oo(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Qj(t){if(!Oo(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=Qj(t[n])}),e}function Hr(t,e,n={clone:!0}){const r=n.clone?L({},t):t;return Oo(t)&&Oo(e)&&Object.keys(e).forEach(s=>{Oo(e[s])&&Object.prototype.hasOwnProperty.call(t,s)&&Oo(t[s])?r[s]=Hr(t[s],e[s],n):n.clone?r[s]=Oo(e[s])?Qj(e[s]):e[s]:r[s]=e[s]}),r}const Eue=Object.freeze(Object.defineProperty({__proto__:null,default:Hr,isPlainObject:Oo},Symbol.toStringTag,{value:"Module"})),Cue=["values","unit","step"],bue=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>L({},n,{[r.key]:r.val}),{})};function Xj(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,s=pe(t,Cue),i=bue(e),o=Object.keys(i);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function c(f,p){const m=o.indexOf(p);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(m!==-1&&typeof e[o[m]]=="number"?e[o[m]]:p)-r/100}${n})`}function u(f){return o.indexOf(f)+1<o.length?c(f,o[o.indexOf(f)+1]):a(f)}function h(f){const p=o.indexOf(f);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return L({keys:o,values:i,up:a,down:l,between:c,only:u,not:h,unit:n},s)}const Iue={borderRadius:4},Tue=Iue;function c0(t,e){return e?Hr(t,e,{clone:!1}):t}const oT={xs:0,sm:600,md:900,lg:1200,xl:1536},MA={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${oT[t]}px)`};function ms(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const i=r.breakpoints||MA;return e.reduce((o,a,l)=>(o[i.up(i.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const i=r.breakpoints||MA;return Object.keys(e).reduce((o,a)=>{if(Object.keys(i.values||oT).indexOf(a)!==-1){const l=i.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function Jj(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,s)=>{const i=t.up(s);return r[i]={},r},{}))||{}}function Zj(t,e){return t.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},e)}function Sue(t,...e){const n=Jj(t),r=[n,...e].reduce((s,i)=>Hr(s,i),{});return Zj(Object.keys(n),r)}function kue(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((s,i)=>{i<t.length&&(n[s]=!0)}):r.forEach(s=>{t[s]!=null&&(n[s]=!0)}),n}function bc({values:t,breakpoints:e,base:n}){const r=n||kue(t,e),s=Object.keys(r);if(s.length===0)return t;let i;return s.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[i],i=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[i],i=a):o[a]=t,o),{})}function ue(t){if(typeof t!="string")throw new Error(la(7));return t.charAt(0).toUpperCase()+t.slice(1)}const Rue=Object.freeze(Object.defineProperty({__proto__:null,default:ue},Symbol.toStringTag,{value:"Module"}));function e_(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,t);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,t)}function L1(t,e,n,r=n){let s;return typeof t=="function"?s=t(n):Array.isArray(t)?s=t[n]||r:s=e_(t,n)||r,e&&(s=e(s,r,t)),s}function Pn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:s}=t,i=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=e_(l,r)||{};return ms(o,a,h=>{let f=L1(c,s,h);return h===f&&typeof h=="string"&&(f=L1(c,s,`${e}${h==="default"?"":ue(h)}`,h)),n===!1?f:{[n]:f}})};return i.propTypes={},i.filterProps=[e],i}function Aue(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Pue={m:"margin",p:"padding"},Nue={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},OA={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Due=Aue(t=>{if(t.length>2)if(OA[t])t=OA[t];else return[t];const[e,n]=t.split(""),r=Pue[e],s=Nue[n]||"";return Array.isArray(s)?s.map(i=>r+i):[r+s]}),aT=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],lT=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...aT,...lT];function fm(t,e,n,r){var s;const i=(s=e_(t,e,!1))!=null?s:n;return typeof i=="number"?o=>typeof o=="string"?o:i*o:Array.isArray(i)?o=>typeof o=="string"?o:i[o]:typeof i=="function"?i:()=>{}}function cT(t){return fm(t,"spacing",8)}function Xc(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function Lue(t,e){return n=>t.reduce((r,s)=>(r[s]=Xc(e,n),r),{})}function Mue(t,e,n,r){if(e.indexOf(n)===-1)return null;const s=Due(n),i=Lue(s,r),o=t[n];return ms(t,o,i)}function e$(t,e){const n=cT(t.theme);return Object.keys(t).map(r=>Mue(t,e,r,n)).reduce(c0,{})}function gn(t){return e$(t,aT)}gn.propTypes={};gn.filterProps=aT;function vn(t){return e$(t,lT)}vn.propTypes={};vn.filterProps=lT;function Oue(t=8){if(t.mui)return t;const e=cT({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(i=>{const o=e(i);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function t_(...t){const e=t.reduce((r,s)=>(s.filterProps.forEach(i=>{r[i]=s}),r),{}),n=r=>Object.keys(r).reduce((s,i)=>e[i]?c0(s,e[i](r)):s,{});return n.propTypes={},n.filterProps=t.reduce((r,s)=>r.concat(s.filterProps),[]),n}function Gs(t){return typeof t!="number"?t:`${t}px solid`}function hi(t,e){return Pn({prop:t,themeKey:"borders",transform:e})}const jue=hi("border",Gs),$ue=hi("borderTop",Gs),Fue=hi("borderRight",Gs),Vue=hi("borderBottom",Gs),Uue=hi("borderLeft",Gs),zue=hi("borderColor"),Bue=hi("borderTopColor"),Wue=hi("borderRightColor"),Hue=hi("borderBottomColor"),Gue=hi("borderLeftColor"),que=hi("outline",Gs),Yue=hi("outlineColor"),n_=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=fm(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Xc(e,r)});return ms(t,t.borderRadius,n)}return null};n_.propTypes={};n_.filterProps=["borderRadius"];t_(jue,$ue,Fue,Vue,Uue,zue,Bue,Wue,Hue,Gue,n_,que,Yue);const r_=t=>{if(t.gap!==void 0&&t.gap!==null){const e=fm(t.theme,"spacing",8),n=r=>({gap:Xc(e,r)});return ms(t,t.gap,n)}return null};r_.propTypes={};r_.filterProps=["gap"];const s_=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=fm(t.theme,"spacing",8),n=r=>({columnGap:Xc(e,r)});return ms(t,t.columnGap,n)}return null};s_.propTypes={};s_.filterProps=["columnGap"];const i_=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=fm(t.theme,"spacing",8),n=r=>({rowGap:Xc(e,r)});return ms(t,t.rowGap,n)}return null};i_.propTypes={};i_.filterProps=["rowGap"];const Kue=Pn({prop:"gridColumn"}),Que=Pn({prop:"gridRow"}),Xue=Pn({prop:"gridAutoFlow"}),Jue=Pn({prop:"gridAutoColumns"}),Zue=Pn({prop:"gridAutoRows"}),ede=Pn({prop:"gridTemplateColumns"}),tde=Pn({prop:"gridTemplateRows"}),nde=Pn({prop:"gridTemplateAreas"}),rde=Pn({prop:"gridArea"});t_(r_,s_,i_,Kue,Que,Xue,Jue,Zue,ede,tde,nde,rde);function Cd(t,e){return e==="grey"?e:t}const sde=Pn({prop:"color",themeKey:"palette",transform:Cd}),ide=Pn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Cd}),ode=Pn({prop:"backgroundColor",themeKey:"palette",transform:Cd});t_(sde,ide,ode);function Es(t){return t<=1&&t!==0?`${t*100}%`:t}const ade=Pn({prop:"width",transform:Es}),uT=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,s;const i=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||oT[n];return i?((s=t.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${i}${t.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Es(n)}};return ms(t,t.maxWidth,e)}return null};uT.filterProps=["maxWidth"];const lde=Pn({prop:"minWidth",transform:Es}),cde=Pn({prop:"height",transform:Es}),ude=Pn({prop:"maxHeight",transform:Es}),dde=Pn({prop:"minHeight",transform:Es});Pn({prop:"size",cssProperty:"width",transform:Es});Pn({prop:"size",cssProperty:"height",transform:Es});const hde=Pn({prop:"boxSizing"});t_(ade,uT,lde,cde,ude,dde,hde);const fde={border:{themeKey:"borders",transform:Gs},borderTop:{themeKey:"borders",transform:Gs},borderRight:{themeKey:"borders",transform:Gs},borderBottom:{themeKey:"borders",transform:Gs},borderLeft:{themeKey:"borders",transform:Gs},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Gs},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:n_},color:{themeKey:"palette",transform:Cd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Cd},backgroundColor:{themeKey:"palette",transform:Cd},p:{style:vn},pt:{style:vn},pr:{style:vn},pb:{style:vn},pl:{style:vn},px:{style:vn},py:{style:vn},padding:{style:vn},paddingTop:{style:vn},paddingRight:{style:vn},paddingBottom:{style:vn},paddingLeft:{style:vn},paddingX:{style:vn},paddingY:{style:vn},paddingInline:{style:vn},paddingInlineStart:{style:vn},paddingInlineEnd:{style:vn},paddingBlock:{style:vn},paddingBlockStart:{style:vn},paddingBlockEnd:{style:vn},m:{style:gn},mt:{style:gn},mr:{style:gn},mb:{style:gn},ml:{style:gn},mx:{style:gn},my:{style:gn},margin:{style:gn},marginTop:{style:gn},marginRight:{style:gn},marginBottom:{style:gn},marginLeft:{style:gn},marginX:{style:gn},marginY:{style:gn},marginInline:{style:gn},marginInlineStart:{style:gn},marginInlineEnd:{style:gn},marginBlock:{style:gn},marginBlockStart:{style:gn},marginBlockEnd:{style:gn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:r_},rowGap:{style:i_},columnGap:{style:s_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Es},maxWidth:{style:uT},minWidth:{transform:Es},height:{transform:Es},maxHeight:{transform:Es},minHeight:{transform:Es},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},pm=fde;function pde(...t){const e=t.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function mde(t,e){return typeof t=="function"?t(e):t}function t$(){function t(n,r,s,i){const o={[n]:r,theme:s},a=i[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:h}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=e_(s,c)||{};return h?h(o):ms(o,r,m=>{let v=L1(f,u,m);return m===v&&typeof m=="string"&&(v=L1(f,u,`${n}${m==="default"?"":ue(m)}`,m)),l===!1?v:{[l]:v}})}function e(n){var r;const{sx:s,theme:i={}}=n||{};if(!s)return null;const o=(r=i.unstable_sxConfig)!=null?r:pm;function a(l){let c=l;if(typeof l=="function")c=l(i);else if(typeof l!="object")return l;if(!c)return null;const u=Jj(i.breakpoints),h=Object.keys(u);let f=u;return Object.keys(c).forEach(p=>{const m=mde(c[p],i);if(m!=null)if(typeof m=="object")if(o[p])f=c0(f,t(p,m,i,o));else{const v=ms({theme:i},m,E=>({[p]:E}));pde(v,m)?f[p]=e({sx:m,theme:i}):f=c0(f,v)}else f=c0(f,t(p,m,i,o))}),Zj(h,f)}return Array.isArray(s)?s.map(a):a(s)}return e}const n$=t$();n$.filterProps=["sx"];const mm=n$;function r$(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const gde=["breakpoints","palette","spacing","shape"];function gm(t={},...e){const{breakpoints:n={},palette:r={},spacing:s,shape:i={}}=t,o=pe(t,gde),a=Xj(n),l=Oue(s);let c=Hr({breakpoints:a,direction:"ltr",components:{},palette:L({mode:"light"},r),spacing:l,shape:L({},Tue,i)},o);return c.applyStyles=r$,c=e.reduce((u,h)=>Hr(u,h),c),c.unstable_sxConfig=L({},pm,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(h){return mm({sx:h,theme:this})},c}const vde=Object.freeze(Object.defineProperty({__proto__:null,default:gm,private_createBreakpoints:Xj,unstable_applyStyles:r$},Symbol.toStringTag,{value:"Module"}));function yde(t){return Object.keys(t).length===0}function dT(t=null){const e=g.useContext(hm);return!e||yde(e)?t:e}const _de=gm();function o_(t=_de){return dT(t)}function wde({styles:t,themeId:e,defaultTheme:n={}}){const r=o_(n),s=typeof t=="function"?t(e&&r[e]||r):t;return d.jsx(Yj,{styles:s})}const xde=["sx"],Ede=t=>{var e,n;const r={systemProps:{},otherProps:{}},s=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:pm;return Object.keys(t).forEach(i=>{s[i]?r.systemProps[i]=t[i]:r.otherProps[i]=t[i]}),r};function vm(t){const{sx:e}=t,n=pe(t,xde),{systemProps:r,otherProps:s}=Ede(n);let i;return Array.isArray(e)?i=[r,...e]:typeof e=="function"?i=(...o)=>{const a=e(...o);return Oo(a)?L({},r,a):r}:i=L({},r,e),L({},s,{sx:i})}const Cde=Object.freeze(Object.defineProperty({__proto__:null,default:mm,extendSxProp:vm,unstable_createStyleFunctionSx:t$,unstable_defaultSxConfig:pm},Symbol.toStringTag,{value:"Module"})),jA=t=>t,bde=()=>{let t=jA;return{configure(e){t=e},generate(e){return t(e)},reset(){t=jA}}},Ide=bde(),s$=Ide;function i$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=i$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Te(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=i$(t))&&(r&&(r+=" "),r+=e);return r}const Tde=["className","component"];function Sde(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:s}=t,i=iT("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(mm);return g.forwardRef(function(l,c){const u=o_(n),h=vm(l),{className:f,component:p="div"}=h,m=pe(h,Tde);return d.jsx(i,L({as:p,ref:c,className:Te(f,s?s(r):r),theme:e&&u[e]||u},m))})}const kde={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function lt(t,e,n="Mui"){const r=kde[e];return r?`${n}-${r}`:`${s$.generate(t)}-${e}`}function Xe(t,e,n="Mui"){const r={};return e.forEach(s=>{r[s]=lt(t,s,n)}),r}var o$={exports:{}},Ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT=Symbol.for("react.element"),fT=Symbol.for("react.portal"),a_=Symbol.for("react.fragment"),l_=Symbol.for("react.strict_mode"),c_=Symbol.for("react.profiler"),u_=Symbol.for("react.provider"),d_=Symbol.for("react.context"),Rde=Symbol.for("react.server_context"),h_=Symbol.for("react.forward_ref"),f_=Symbol.for("react.suspense"),p_=Symbol.for("react.suspense_list"),m_=Symbol.for("react.memo"),g_=Symbol.for("react.lazy"),Ade=Symbol.for("react.offscreen"),a$;a$=Symbol.for("react.module.reference");function fi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case hT:switch(t=t.type,t){case a_:case c_:case l_:case f_:case p_:return t;default:switch(t=t&&t.$$typeof,t){case Rde:case d_:case h_:case g_:case m_:case u_:return t;default:return e}}case fT:return e}}}Ut.ContextConsumer=d_;Ut.ContextProvider=u_;Ut.Element=hT;Ut.ForwardRef=h_;Ut.Fragment=a_;Ut.Lazy=g_;Ut.Memo=m_;Ut.Portal=fT;Ut.Profiler=c_;Ut.StrictMode=l_;Ut.Suspense=f_;Ut.SuspenseList=p_;Ut.isAsyncMode=function(){return!1};Ut.isConcurrentMode=function(){return!1};Ut.isContextConsumer=function(t){return fi(t)===d_};Ut.isContextProvider=function(t){return fi(t)===u_};Ut.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===hT};Ut.isForwardRef=function(t){return fi(t)===h_};Ut.isFragment=function(t){return fi(t)===a_};Ut.isLazy=function(t){return fi(t)===g_};Ut.isMemo=function(t){return fi(t)===m_};Ut.isPortal=function(t){return fi(t)===fT};Ut.isProfiler=function(t){return fi(t)===c_};Ut.isStrictMode=function(t){return fi(t)===l_};Ut.isSuspense=function(t){return fi(t)===f_};Ut.isSuspenseList=function(t){return fi(t)===p_};Ut.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===a_||t===c_||t===l_||t===f_||t===p_||t===Ade||typeof t=="object"&&t!==null&&(t.$$typeof===g_||t.$$typeof===m_||t.$$typeof===u_||t.$$typeof===d_||t.$$typeof===h_||t.$$typeof===a$||t.getModuleId!==void 0)};Ut.typeOf=fi;o$.exports=Ut;var $A=o$.exports;const Pde=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function l$(t){const e=`${t}`.match(Pde);return e&&e[1]||""}function c$(t,e=""){return t.displayName||t.name||l$(t)||e}function FA(t,e,n){const r=c$(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function Nde(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return c$(t,"Component");if(typeof t=="object")switch(t.$$typeof){case $A.ForwardRef:return FA(t,t.render,"ForwardRef");case $A.Memo:return FA(t,t.type,"memo");default:return}}}const Dde=Object.freeze(Object.defineProperty({__proto__:null,default:Nde,getFunctionName:l$},Symbol.toStringTag,{value:"Module"})),Lde=["ownerState"],Mde=["variants"],Ode=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function jde(t){return Object.keys(t).length===0}function $de(t){return typeof t=="string"&&t.charCodeAt(0)>96}function ox(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Fde=gm(),Vde=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function u2({defaultTheme:t,theme:e,themeId:n}){return jde(e)?t:e[n]||e}function Ude(t){return t?(e,n)=>n[t]:null}function tg(t,e){let{ownerState:n}=e,r=pe(e,Lde);const s=typeof t=="function"?t(L({ownerState:n},r)):t;if(Array.isArray(s))return s.flatMap(i=>tg(i,L({ownerState:n},r)));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:i=[]}=s;let a=pe(s,Mde);return i.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(L({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(L({ownerState:n},r,n)):l.style))}),a}return s}function zde(t={}){const{themeId:e,defaultTheme:n=Fde,rootShouldForwardProp:r=ox,slotShouldForwardProp:s=ox}=t,i=o=>mm(L({},o,{theme:u2(L({},o,{defaultTheme:n,themeId:e}))}));return i.__mui_systemSx=!0,(o,a={})=>{Kj(o,b=>b.filter(C=>!(C!=null&&C.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:h,overridesResolver:f=Ude(Vde(c))}=a,p=pe(a,Ode),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,v=h||!1;let E,y=ox;c==="Root"||c==="root"?y=r:c?y=s:$de(o)&&(y=void 0);const w=iT(o,L({shouldForwardProp:y,label:E},p)),_=b=>typeof b=="function"&&b.__emotion_real!==b||Oo(b)?C=>tg(b,L({},C,{theme:u2({theme:C.theme,defaultTheme:n,themeId:e})})):b,x=(b,...C)=>{let T=_(b);const I=C?C.map(_):[];l&&f&&I.push(k=>{const N=u2(L({},k,{defaultTheme:n,themeId:e}));if(!N.components||!N.components[l]||!N.components[l].styleOverrides)return null;const M=N.components[l].styleOverrides,D={};return Object.entries(M).forEach(([j,A])=>{D[j]=tg(A,L({},k,{theme:N}))}),f(k,D)}),l&&!m&&I.push(k=>{var N;const M=u2(L({},k,{defaultTheme:n,themeId:e})),D=M==null||(N=M.components)==null||(N=N[l])==null?void 0:N.variants;return tg({variants:D},L({},k,{theme:M}))}),v||I.push(i);const S=I.length-C.length;if(Array.isArray(b)&&S>0){const k=new Array(S).fill("");T=[...b,...k],T.raw=[...b.raw,...k]}const R=w(T,...I);return o.muiName&&(R.muiName=o.muiName),R};return w.withConfig&&(x.withConfig=w.withConfig),x}}const Bde=zde(),Wde=Bde;function _p(t,e){const n=L({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=L({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const s=t[r]||{},i=e[r];n[r]={},!i||!Object.keys(i)?n[r]=s:!s||!Object.keys(s)?n[r]=i:(n[r]=L({},i),Object.keys(s).forEach(o=>{n[r][o]=_p(s[o],i[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function u$(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:_p(e.components[n].defaultProps,r)}function Hde({props:t,name:e,defaultTheme:n,themeId:r}){let s=o_(n);return r&&(s=s[r]||s),u$({theme:s,name:e,props:t})}const Gde=typeof window<"u"?g.useLayoutEffect:g.useEffect,Ns=Gde;function qde(t,e,n,r,s){const[i,o]=g.useState(()=>s&&n?n(t).matches:r?r(t).matches:e);return Ns(()=>{let a=!0;if(!n)return;const l=n(t),c=()=>{a&&o(l.matches)};return c(),l.addListener(c),()=>{a=!1,l.removeListener(c)}},[t,n]),i}const d$=g.useSyncExternalStore;function Yde(t,e,n,r,s){const i=g.useCallback(()=>e,[e]),o=g.useMemo(()=>{if(s&&n)return()=>n(t).matches;if(r!==null){const{matches:u}=r(t);return()=>u}return i},[i,t,r,s,n]),[a,l]=g.useMemo(()=>{if(n===null)return[i,()=>()=>{}];const u=n(t);return[()=>u.matches,h=>(u.addListener(h),()=>{u.removeListener(h)})]},[i,n,t]);return d$(l,a,o)}function Kde(t,e={}){const n=dT(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:s=!1,matchMedia:i=r?window.matchMedia:null,ssrMatchMedia:o=null,noSsr:a=!1}=u$({name:"MuiUseMediaQuery",props:e,theme:n});let l=typeof t=="function"?t(n):t;return l=l.replace(/^@media( ?)/m,""),(d$!==void 0?Yde:qde)(l,s,i,o,a)}function h$(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const Qde=Object.freeze(Object.defineProperty({__proto__:null,default:h$},Symbol.toStringTag,{value:"Module"}));function Xde(t,e=0,n=1){return h$(t,e,n)}function Jde(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function f$(t){if(t.type)return t;if(t.charAt(0)==="#")return f$(Jde(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(la(9,t));let r=t.substring(e+1,t.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error(la(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}function Zde(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function ehe(t,e){return t=f$(t),e=Xde(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Zde(t)}function VA(...t){return t.reduce((e,n)=>n==null?e:function(...s){e.apply(this,s),n.apply(this,s)},()=>{})}function pT(t,e=166){let n;function r(...s){const i=()=>{t.apply(this,s)};clearTimeout(n),n=setTimeout(i,e)}return r.clear=()=>{clearTimeout(n)},r}function ax(t,e){var n,r;return g.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function xn(t){return t&&t.ownerDocument||document}function ks(t){return xn(t).defaultView||window}function KE(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let UA=0;function the(t){const[e,n]=g.useState(t),r=t||e;return g.useEffect(()=>{e==null&&(UA+=1,n(`mui-${UA}`))},[e]),r}const zA=pg.useId;function v_(t){if(zA!==void 0){const e=zA();return t??e}return the(t)}function QE({controlled:t,default:e,name:n,state:r="value"}){const{current:s}=g.useRef(t!==void 0),[i,o]=g.useState(e),a=s?t:i,l=g.useCallback(c=>{s||o(c)},[]);return[a,l]}function is(t){const e=g.useRef(t);return Ns(()=>{e.current=t}),g.useRef((...n)=>(0,e.current)(...n)).current}function An(...t){return g.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{KE(n,e)})},t)}const BA={};function nhe(t,e){const n=g.useRef(BA);return n.current===BA&&(n.current=t(e)),n}const rhe=[];function she(t){g.useEffect(t,rhe)}class ym{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new ym}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function hc(){const t=nhe(ym.create).current;return she(t.disposeEffect),t}let y_=!0,XE=!1;const ihe=new ym,ohe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ahe(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&ohe[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function lhe(t){t.metaKey||t.altKey||t.ctrlKey||(y_=!0)}function lx(){y_=!1}function che(){this.visibilityState==="hidden"&&XE&&(y_=!0)}function uhe(t){t.addEventListener("keydown",lhe,!0),t.addEventListener("mousedown",lx,!0),t.addEventListener("pointerdown",lx,!0),t.addEventListener("touchstart",lx,!0),t.addEventListener("visibilitychange",che,!0)}function dhe(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return y_||ahe(e)}function p$(){const t=g.useCallback(s=>{s!=null&&uhe(s.ownerDocument)},[]),e=g.useRef(!1);function n(){return e.current?(XE=!0,ihe.start(100,()=>{XE=!1}),e.current=!1,!0):!1}function r(s){return dhe(s)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function m$(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function dt(t,e,n=void 0){const r={};return Object.keys(t).forEach(s=>{r[s]=t[s].reduce((i,o)=>{if(o){const a=e(o);a!==""&&i.push(a),n&&n[o]&&i.push(n[o])}return i},[]).join(" ")}),r}function M1(t){return typeof t=="string"}function jf(t,e,n){return t===void 0||M1(t)?e:L({},e,{ownerState:L({},e.ownerState,n)})}function O1(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function WA(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function hhe(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:i}=t;if(!e){const p=Te(n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),m=L({},n==null?void 0:n.style,s==null?void 0:s.style,r==null?void 0:r.style),v=L({},n,s,r);return p.length>0&&(v.className=p),Object.keys(m).length>0&&(v.style=m),{props:v,internalRef:void 0}}const o=O1(L({},s,r)),a=WA(r),l=WA(s),c=e(o),u=Te(c==null?void 0:c.className,n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),h=L({},c==null?void 0:c.style,n==null?void 0:n.style,s==null?void 0:s.style,r==null?void 0:r.style),f=L({},c,n,l,a);return u.length>0&&(f.className=u),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:c.ref}}function fhe(t,e,n){return typeof t=="function"?t(e,n):t}const phe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Il(t){var e;const{elementType:n,externalSlotProps:r,ownerState:s,skipResolvingSlotProps:i=!1}=t,o=pe(t,phe),a=i?{}:fhe(r,s),{props:l,internalRef:c}=hhe(L({},o,{externalSlotProps:a})),u=An(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return jf(n,L({},l,{ref:u}),s)}const mhe=g.createContext(null),g$=mhe;function v$(){return g.useContext(g$)}const ghe=typeof Symbol=="function"&&Symbol.for,vhe=ghe?Symbol.for("mui.nested"):"__THEME_NESTED__";function yhe(t,e){return typeof e=="function"?e(t):L({},t,e)}function _he(t){const{children:e,theme:n}=t,r=v$(),s=g.useMemo(()=>{const i=r===null?n:yhe(r,n);return i!=null&&(i[vhe]=r!==null),i},[n,r]);return d.jsx(g$.Provider,{value:s,children:e})}const whe=["value"],y$=g.createContext();function xhe(t){let{value:e}=t,n=pe(t,whe);return d.jsx(y$.Provider,L({value:e??!0},n))}const __=()=>{const t=g.useContext(y$);return t??!1},_$=g.createContext(void 0);function Ehe({value:t,children:e}){return d.jsx(_$.Provider,{value:t,children:e})}function Che(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const s=e.components[n];return s.defaultProps?_p(s.defaultProps,r):!s.styleOverrides&&!s.variants?_p(s,r):r}function bhe({props:t,name:e}){const n=g.useContext(_$);return Che({props:t,name:e,theme:{components:n}})}const HA={};function GA(t,e,n,r=!1){return g.useMemo(()=>{const s=t&&e[t]||e;if(typeof n=="function"){const i=n(s),o=t?L({},e,{[t]:i}):i;return r?()=>o:o}return t?L({},e,{[t]:n}):L({},e,n)},[t,e,n,r])}function Ihe(t){const{children:e,theme:n,themeId:r}=t,s=dT(HA),i=v$()||HA,o=GA(r,s,n),a=GA(r,i,n,!0),l=o.direction==="rtl";return d.jsx(_he,{theme:a,children:d.jsx(hm.Provider,{value:o,children:d.jsx(xhe,{value:l,children:d.jsx(Ehe,{value:o==null?void 0:o.components,children:e})})})})}const The=["component","direction","spacing","divider","children","className","useFlexGap"],She=gm(),khe=Wde("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function Rhe(t){return Hde({props:t,name:"MuiStack",defaultTheme:She})}function Ahe(t,e){const n=g.Children.toArray(t).filter(Boolean);return n.reduce((r,s,i)=>(r.push(s),i<n.length-1&&r.push(g.cloneElement(e,{key:`separator-${i}`})),r),[])}const Phe=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],Nhe=({ownerState:t,theme:e})=>{let n=L({display:"flex",flexDirection:"column"},ms({theme:e},bc({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=cT(e),s=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),i=bc({values:t.direction,base:s}),o=bc({values:t.spacing,base:s});typeof i=="object"&&Object.keys(i).forEach((l,c,u)=>{if(!i[l]){const f=c>0?i[u[c-1]]:"column";i[l]=f}}),n=Hr(n,ms({theme:e},o,(l,c)=>t.useFlexGap?{gap:Xc(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Phe(c?i[c]:t.direction)}`]:Xc(r,l)}}))}return n=Sue(e.breakpoints,n),n};function Dhe(t={}){const{createStyledComponent:e=khe,useThemeProps:n=Rhe,componentName:r="MuiStack"}=t,s=()=>dt({root:["root"]},l=>lt(r,l),{}),i=e(Nhe);return g.forwardRef(function(l,c){const u=n(l),h=vm(u),{component:f="div",direction:p="column",spacing:m=0,divider:v,children:E,className:y,useFlexGap:w=!1}=h,_=pe(h,The),x={direction:p,spacing:m,useFlexGap:w},b=s();return d.jsx(i,L({as:f,ownerState:x,ref:c,className:Te(b.root,y)},_,{children:v?Ahe(E,v):E}))})}function Lhe(t,e){return L({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Nn={},w$={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(w$);var x$=w$.exports;const Mhe=Tl(hce),Ohe=Tl(Qde);var E$=x$;Object.defineProperty(Nn,"__esModule",{value:!0});var os=Nn.alpha=k$;Nn.blend=Yhe;Nn.colorChannel=void 0;var C$=Nn.darken=gT;Nn.decomposeColor=ii;var jhe=Nn.emphasize=R$,$he=Nn.getContrastRatio=Bhe;Nn.getLuminance=j1;Nn.hexToRgb=I$;Nn.hslToRgb=S$;var b$=Nn.lighten=vT;Nn.private_safeAlpha=Whe;Nn.private_safeColorChannel=void 0;Nn.private_safeDarken=Hhe;Nn.private_safeEmphasize=qhe;Nn.private_safeLighten=Ghe;Nn.recomposeColor=Lh;Nn.rgbToHex=zhe;var qA=E$(Mhe),Fhe=E$(Ohe);function mT(t,e=0,n=1){return(0,Fhe.default)(t,e,n)}function I$(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Vhe(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function ii(t){if(t.type)return t;if(t.charAt(0)==="#")return ii(I$(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,qA.default)(9,t));let r=t.substring(e+1,t.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error((0,qA.default)(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}const T$=t=>{const e=ii(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Nn.colorChannel=T$;const Uhe=(t,e)=>{try{return T$(t)}catch{return t}};Nn.private_safeColorChannel=Uhe;function Lh(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function zhe(t){if(t.indexOf("#")===0)return t;const{values:e}=ii(t);return`#${e.map((n,r)=>Vhe(r===3?Math.round(255*n):n)).join("")}`}function S$(t){t=ii(t);const{values:e}=t,n=e[0],r=e[1]/100,s=e[2]/100,i=r*Math.min(s,1-s),o=(c,u=(c+n/30)%12)=>s-i*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Lh({type:a,values:l})}function j1(t){t=ii(t);let e=t.type==="hsl"||t.type==="hsla"?ii(S$(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Bhe(t,e){const n=j1(t),r=j1(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function k$(t,e){return t=ii(t),e=mT(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Lh(t)}function Whe(t,e,n){try{return k$(t,e)}catch{return t}}function gT(t,e){if(t=ii(t),e=mT(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Lh(t)}function Hhe(t,e,n){try{return gT(t,e)}catch{return t}}function vT(t,e){if(t=ii(t),e=mT(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Lh(t)}function Ghe(t,e,n){try{return vT(t,e)}catch{return t}}function R$(t,e=.15){return j1(t)>.5?gT(t,e):vT(t,e)}function qhe(t,e,n){try{return R$(t,e)}catch{return t}}function Yhe(t,e,n,r=1){const s=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),i=ii(t),o=ii(e),a=[s(i.values[0],o.values[0]),s(i.values[1],o.values[1]),s(i.values[2],o.values[2])];return Lh({type:"rgb",values:a})}const Khe=["mode","contrastThreshold","tonalOffset"],YA={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:mp.white,default:mp.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},cx={text:{primary:mp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:mp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function KA(t,e,n,r){const s=r.light||r,i=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=b$(t.main,s):e==="dark"&&(t.dark=C$(t.main,i)))}function Qhe(t="light"){return t==="dark"?{main:Ru[200],light:Ru[50],dark:Ru[400]}:{main:Ru[700],light:Ru[400],dark:Ru[800]}}function Xhe(t="light"){return t==="dark"?{main:ku[200],light:ku[50],dark:ku[400]}:{main:ku[500],light:ku[300],dark:ku[700]}}function Jhe(t="light"){return t==="dark"?{main:Su[500],light:Su[300],dark:Su[700]}:{main:Su[700],light:Su[400],dark:Su[800]}}function Zhe(t="light"){return t==="dark"?{main:Au[400],light:Au[300],dark:Au[700]}:{main:Au[700],light:Au[500],dark:Au[900]}}function efe(t="light"){return t==="dark"?{main:Pu[400],light:Pu[300],dark:Pu[700]}:{main:Pu[800],light:Pu[500],dark:Pu[900]}}function tfe(t="light"){return t==="dark"?{main:mf[400],light:mf[300],dark:mf[700]}:{main:"#ed6c02",light:mf[500],dark:mf[900]}}function nfe(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,s=pe(t,Khe),i=t.primary||Qhe(e),o=t.secondary||Xhe(e),a=t.error||Jhe(e),l=t.info||Zhe(e),c=t.success||efe(e),u=t.warning||tfe(e);function h(v){return $he(v,cx.text.primary)>=n?cx.text.primary:YA.text.primary}const f=({color:v,name:E,mainShade:y=500,lightShade:w=300,darkShade:_=700})=>{if(v=L({},v),!v.main&&v[y]&&(v.main=v[y]),!v.hasOwnProperty("main"))throw new Error(la(11,E?` (${E})`:"",y));if(typeof v.main!="string")throw new Error(la(12,E?` (${E})`:"",JSON.stringify(v.main)));return KA(v,"light",w,r),KA(v,"dark",_,r),v.contrastText||(v.contrastText=h(v.main)),v},p={dark:cx,light:YA};return Hr(L({common:L({},mp),mode:e,primary:f({color:i,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:dce,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r},p[e]),s)}const rfe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function sfe(t){return Math.round(t*1e5)/1e5}const QA={textTransform:"uppercase"},XA='"Roboto", "Helvetica", "Arial", sans-serif';function ife(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=XA,fontSize:s=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:h}=n,f=pe(n,rfe),p=s/14,m=h||(y=>`${y/c*p}rem`),v=(y,w,_,x,b)=>L({fontFamily:r,fontWeight:y,fontSize:m(w),lineHeight:_},r===XA?{letterSpacing:`${sfe(x/w)}em`}:{},b,u),E={h1:v(i,96,1.167,-1.5),h2:v(i,60,1.2,-.5),h3:v(o,48,1.167,0),h4:v(o,34,1.235,.25),h5:v(o,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(o,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(o,16,1.5,.15),body2:v(o,14,1.43,.15),button:v(a,14,1.75,.4,QA),caption:v(o,12,1.66,.4),overline:v(o,12,2.66,1,QA),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Hr(L({htmlFontSize:c,pxToRem:m,fontFamily:r,fontSize:s,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},E),f,{clone:!1})}const ofe=.2,afe=.14,lfe=.12;function sn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${ofe})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${afe})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${lfe})`].join(",")}const cfe=["none",sn(0,2,1,-1,0,1,1,0,0,1,3,0),sn(0,3,1,-2,0,2,2,0,0,1,5,0),sn(0,3,3,-2,0,3,4,0,0,1,8,0),sn(0,2,4,-1,0,4,5,0,0,1,10,0),sn(0,3,5,-1,0,5,8,0,0,1,14,0),sn(0,3,5,-1,0,6,10,0,0,1,18,0),sn(0,4,5,-2,0,7,10,1,0,2,16,1),sn(0,5,5,-3,0,8,10,1,0,3,14,2),sn(0,5,6,-3,0,9,12,1,0,3,16,2),sn(0,6,6,-3,0,10,14,1,0,4,18,3),sn(0,6,7,-4,0,11,15,1,0,4,20,3),sn(0,7,8,-4,0,12,17,2,0,5,22,4),sn(0,7,8,-4,0,13,19,2,0,5,24,4),sn(0,7,9,-4,0,14,21,2,0,5,26,4),sn(0,8,9,-5,0,15,22,2,0,6,28,5),sn(0,8,10,-5,0,16,24,2,0,6,30,5),sn(0,8,11,-5,0,17,26,2,0,6,32,5),sn(0,9,11,-5,0,18,28,2,0,7,34,6),sn(0,9,12,-6,0,19,29,2,0,7,36,6),sn(0,10,13,-6,0,20,31,3,0,8,38,7),sn(0,10,13,-6,0,21,33,3,0,8,40,7),sn(0,10,14,-6,0,22,35,3,0,8,42,7),sn(0,11,14,-7,0,23,36,3,0,9,44,8),sn(0,11,15,-7,0,24,38,3,0,9,46,8)],ufe=cfe,dfe=["duration","easing","delay"],hfe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ffe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function JA(t){return`${Math.round(t)}ms`}function pfe(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function mfe(t){const e=L({},hfe,t.easing),n=L({},ffe,t.duration);return L({getAutoHeightDuration:pfe,create:(s=["all"],i={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=i;return pe(i,dfe),(Array.isArray(s)?s:[s]).map(c=>`${c} ${typeof o=="string"?o:JA(o)} ${a} ${typeof l=="string"?l:JA(l)}`).join(",")}},t,{easing:e,duration:n})}const gfe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},vfe=gfe,yfe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function yT(t={},...e){const{mixins:n={},palette:r={},transitions:s={},typography:i={}}=t,o=pe(t,yfe);if(t.vars)throw new Error(la(18));const a=nfe(r),l=gm(t);let c=Hr(l,{mixins:Lhe(l.breakpoints,n),palette:a,shadows:ufe.slice(),typography:ife(a,i),transitions:mfe(s),zIndex:L({},vfe)});return c=Hr(c,o),c=e.reduce((u,h)=>Hr(u,h),c),c.unstable_sxConfig=L({},pm,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(h){return mm({sx:h,theme:this})},c}function _fe(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function wfe(t){return parseFloat(t)}const xfe=yT(),_T=xfe;function _t(){const t=o_(_T);return t[Jd]||t}var _m={},ux={exports:{}},ZA;function Efe(){return ZA||(ZA=1,function(t){function e(n,r){if(n==null)return{};var s={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(r.includes(i))continue;s[i]=n[i]}return s}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(ux)),ux.exports}const A$=Tl(xue),Cfe=Tl(Eue),bfe=Tl(Rue),Ife=Tl(Dde),Tfe=Tl(vde),Sfe=Tl(Cde);var Mh=x$;Object.defineProperty(_m,"__esModule",{value:!0});var kfe=_m.default=Ufe;_m.shouldForwardProp=ng;_m.systemDefaultTheme=void 0;var Us=Mh(qj()),JE=Mh(Efe()),e6=Mfe(A$),Rfe=Cfe;Mh(bfe);Mh(Ife);var Afe=Mh(Tfe),Pfe=Mh(Sfe);const Nfe=["ownerState"],Dfe=["variants"],Lfe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function P$(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(P$=function(r){return r?n:e})(t)}function Mfe(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=P$(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function Ofe(t){return Object.keys(t).length===0}function jfe(t){return typeof t=="string"&&t.charCodeAt(0)>96}function ng(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const $fe=_m.systemDefaultTheme=(0,Afe.default)(),Ffe=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function d2({defaultTheme:t,theme:e,themeId:n}){return Ofe(e)?t:e[n]||e}function Vfe(t){return t?(e,n)=>n[t]:null}function rg(t,e){let{ownerState:n}=e,r=(0,JE.default)(e,Nfe);const s=typeof t=="function"?t((0,Us.default)({ownerState:n},r)):t;if(Array.isArray(s))return s.flatMap(i=>rg(i,(0,Us.default)({ownerState:n},r)));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:i=[]}=s;let a=(0,JE.default)(s,Dfe);return i.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,Us.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,Us.default)({ownerState:n},r,n)):l.style))}),a}return s}function Ufe(t={}){const{themeId:e,defaultTheme:n=$fe,rootShouldForwardProp:r=ng,slotShouldForwardProp:s=ng}=t,i=o=>(0,Pfe.default)((0,Us.default)({},o,{theme:d2((0,Us.default)({},o,{defaultTheme:n,themeId:e}))}));return i.__mui_systemSx=!0,(o,a={})=>{(0,e6.internal_processStyles)(o,b=>b.filter(C=>!(C!=null&&C.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:h,overridesResolver:f=Vfe(Ffe(c))}=a,p=(0,JE.default)(a,Lfe),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,v=h||!1;let E,y=ng;c==="Root"||c==="root"?y=r:c?y=s:jfe(o)&&(y=void 0);const w=(0,e6.default)(o,(0,Us.default)({shouldForwardProp:y,label:E},p)),_=b=>typeof b=="function"&&b.__emotion_real!==b||(0,Rfe.isPlainObject)(b)?C=>rg(b,(0,Us.default)({},C,{theme:d2({theme:C.theme,defaultTheme:n,themeId:e})})):b,x=(b,...C)=>{let T=_(b);const I=C?C.map(_):[];l&&f&&I.push(k=>{const N=d2((0,Us.default)({},k,{defaultTheme:n,themeId:e}));if(!N.components||!N.components[l]||!N.components[l].styleOverrides)return null;const M=N.components[l].styleOverrides,D={};return Object.entries(M).forEach(([j,A])=>{D[j]=rg(A,(0,Us.default)({},k,{theme:N}))}),f(k,D)}),l&&!m&&I.push(k=>{var N;const M=d2((0,Us.default)({},k,{defaultTheme:n,themeId:e})),D=M==null||(N=M.components)==null||(N=N[l])==null?void 0:N.variants;return rg({variants:D},(0,Us.default)({},k,{theme:M}))}),v||I.push(i);const S=I.length-C.length;if(Array.isArray(b)&&S>0){const k=new Array(S).fill("");T=[...b,...k],T.raw=[...b.raw,...k]}const R=w(T,...I);return o.muiName&&(R.muiName=o.muiName),R};return w.withConfig&&(x.withConfig=w.withConfig),x}}function N$(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const zfe=t=>N$(t)&&t!=="classes",Kr=zfe,Bfe=kfe({themeId:Jd,defaultTheme:_T,rootShouldForwardProp:Kr}),fe=Bfe,Wfe=["theme"];function Hfe(t){let{theme:e}=t,n=pe(t,Wfe);const r=e[Jd];return d.jsx(Ihe,L({},n,{themeId:r?Jd:void 0,theme:r||e}))}const Gfe=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},t6=Gfe;function rt(t){return bhe(t)}function qfe(t){return lt("MuiSvgIcon",t)}Xe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Yfe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Kfe=t=>{const{color:e,fontSize:n,classes:r}=t,s={root:["root",e!=="inherit"&&`color${ue(e)}`,`fontSize${ue(n)}`]};return dt(s,qfe,r)},Qfe=fe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${ue(n.color)}`],e[`fontSize${ue(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,s,i,o,a,l,c,u,h,f,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(s=t.transitions)==null||(s=s.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((i=t.typography)==null||(o=i.pxToRem)==null?void 0:o.call(i,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=t.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(h=(f=(t.vars||t).palette)==null||(f=f[e.color])==null?void 0:f.main)!=null?h:{action:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[e.color]}}),D$=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSvgIcon"}),{children:s,className:i,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:h,viewBox:f="0 0 24 24"}=r,p=pe(r,Yfe),m=g.isValidElement(s)&&s.type==="svg",v=L({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:m}),E={};u||(E.viewBox=f);const y=Kfe(v);return d.jsxs(Qfe,L({as:a,className:Te(y.root,i),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},E,p,m&&s.props,{ownerState:v,children:[m?s.props.children:s,h?d.jsx("title",{children:h}):null]}))});D$.muiName="SvgIcon";const n6=D$;function je(t,e){function n(r,s){return d.jsx(n6,L({"data-testid":`${e}Icon`,ref:s},r,{children:t}))}return n.muiName=n6.muiName,g.memo(g.forwardRef(n))}var Ht={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT=Symbol.for("react.element"),xT=Symbol.for("react.portal"),w_=Symbol.for("react.fragment"),x_=Symbol.for("react.strict_mode"),E_=Symbol.for("react.profiler"),C_=Symbol.for("react.provider"),b_=Symbol.for("react.context"),Xfe=Symbol.for("react.server_context"),I_=Symbol.for("react.forward_ref"),T_=Symbol.for("react.suspense"),S_=Symbol.for("react.suspense_list"),k_=Symbol.for("react.memo"),R_=Symbol.for("react.lazy"),Jfe=Symbol.for("react.offscreen"),L$;L$=Symbol.for("react.module.reference");function pi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case wT:switch(t=t.type,t){case w_:case E_:case x_:case T_:case S_:return t;default:switch(t=t&&t.$$typeof,t){case Xfe:case b_:case I_:case R_:case k_:case C_:return t;default:return e}}case xT:return e}}}Ht.ContextConsumer=b_;Ht.ContextProvider=C_;Ht.Element=wT;Ht.ForwardRef=I_;Ht.Fragment=w_;Ht.Lazy=R_;Ht.Memo=k_;Ht.Portal=xT;Ht.Profiler=E_;Ht.StrictMode=x_;Ht.Suspense=T_;Ht.SuspenseList=S_;Ht.isAsyncMode=function(){return!1};Ht.isConcurrentMode=function(){return!1};Ht.isContextConsumer=function(t){return pi(t)===b_};Ht.isContextProvider=function(t){return pi(t)===C_};Ht.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===wT};Ht.isForwardRef=function(t){return pi(t)===I_};Ht.isFragment=function(t){return pi(t)===w_};Ht.isLazy=function(t){return pi(t)===R_};Ht.isMemo=function(t){return pi(t)===k_};Ht.isPortal=function(t){return pi(t)===xT};Ht.isProfiler=function(t){return pi(t)===E_};Ht.isStrictMode=function(t){return pi(t)===x_};Ht.isSuspense=function(t){return pi(t)===T_};Ht.isSuspenseList=function(t){return pi(t)===S_};Ht.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===w_||t===E_||t===x_||t===T_||t===S_||t===Jfe||typeof t=="object"&&t!==null&&(t.$$typeof===R_||t.$$typeof===k_||t.$$typeof===C_||t.$$typeof===b_||t.$$typeof===I_||t.$$typeof===L$||t.getModuleId!==void 0)};Ht.typeOf=pi;function ZE(t,e){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ZE(t,e)}function M$(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ZE(t,e)}const r6={disabled:!1},$1=$r.createContext(null);var Zfe=function(e){return e.scrollTop},$f="unmounted",Ql="exited",Xl="entering",Fu="entered",eC="exiting",xa=function(t){M$(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var o=s,a=o&&!o.isMounting?r.enter:r.appear,l;return i.appearStatus=null,r.in?a?(l=Ql,i.appearStatus=Xl):l=Fu:r.unmountOnExit||r.mountOnEnter?l=$f:l=Ql,i.state={status:l},i.nextCallback=null,i}e.getDerivedStateFromProps=function(s,i){var o=s.in;return o&&i.status===$f?{status:Ql}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==Xl&&o!==Fu&&(i=Xl):(o===Xl||o===Fu)&&(i=eC)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,o,a;return i=o=a=s,s!=null&&typeof s!="number"&&(i=s.exit,o=s.enter,a=s.appear!==void 0?s.appear:o),{exit:i,enter:o,appear:a}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===Xl){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Wm.findDOMNode(this);o&&Zfe(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ql&&this.setState({status:$f})},n.performEnter=function(s){var i=this,o=this.props.enter,a=this.context?this.context.isMounting:s,l=this.props.nodeRef?[a]:[Wm.findDOMNode(this),a],c=l[0],u=l[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!s&&!o||r6.disabled){this.safeSetState({status:Fu},function(){i.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Xl},function(){i.props.onEntering(c,u),i.onTransitionEnd(f,function(){i.safeSetState({status:Fu},function(){i.props.onEntered(c,u)})})})},n.performExit=function(){var s=this,i=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Wm.findDOMNode(this);if(!i||r6.disabled){this.safeSetState({status:Ql},function(){s.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:eC},function(){s.props.onExiting(a),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:Ql},function(){s.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,i.nextCallback=null,s(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:Wm.findDOMNode(this),a=s==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===$f)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=pe(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return $r.createElement($1.Provider,{value:null},typeof o=="function"?o(s,a):$r.cloneElement($r.Children.only(o),a))},e}($r.Component);xa.contextType=$1;xa.propTypes={};function Nu(){}xa.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Nu,onEntering:Nu,onEntered:Nu,onExit:Nu,onExiting:Nu,onExited:Nu};xa.UNMOUNTED=$f;xa.EXITED=Ql;xa.ENTERING=Xl;xa.ENTERED=Fu;xa.EXITING=eC;const ET=xa;function e0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CT(t,e){var n=function(i){return e&&g.isValidElement(i)?e(i):i},r=Object.create(null);return t&&g.Children.map(t,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function t0e(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),s=[];for(var i in t)i in e?s.length&&(r[i]=s,s=[]):s.push(i);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<s.length;o++)a[s[o]]=n(s[o]);return a}function fc(t,e,n){return n[e]!=null?n[e]:t.props[e]}function n0e(t,e){return CT(t.children,function(n){return g.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:fc(n,"appear",t),enter:fc(n,"enter",t),exit:fc(n,"exit",t)})})}function r0e(t,e,n){var r=CT(t.children),s=t0e(e,r);return Object.keys(s).forEach(function(i){var o=s[i];if(g.isValidElement(o)){var a=i in e,l=i in r,c=e[i],u=g.isValidElement(c)&&!c.props.in;l&&(!a||u)?s[i]=g.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:fc(o,"exit",t),enter:fc(o,"enter",t)}):!l&&a&&!u?s[i]=g.cloneElement(o,{in:!1}):l&&a&&g.isValidElement(c)&&(s[i]=g.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:fc(o,"exit",t),enter:fc(o,"enter",t)}))}}),s}var s0e=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},i0e={component:"div",childFactory:function(e){return e}},bT=function(t){M$(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var o=i.handleExited.bind(e0e(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,i){var o=i.children,a=i.handleExited,l=i.firstRender;return{children:l?n0e(s,a):r0e(s,o,a),firstRender:!1}},n.handleExited=function(s,i){var o=CT(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(a){var l=L({},a.children);return delete l[s.key],{children:l}}))},n.render=function(){var s=this.props,i=s.component,o=s.childFactory,a=pe(s,["component","childFactory"]),l=this.state.contextValue,c=s0e(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,i===null?$r.createElement($1.Provider,{value:l},c):$r.createElement($1.Provider,{value:l},$r.createElement(i,a,c))},e}($r.Component);bT.propTypes={};bT.defaultProps=i0e;const o0e=bT,IT=t=>t.scrollTop;function Jc(t,e){var n,r;const{timeout:s,easing:i,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof s=="number"?s:s[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof i=="object"?i[e.mode]:i,delay:o.transitionDelay}}function a0e(t){return lt("MuiPaper",t)}Xe("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const l0e=["className","component","elevation","square","variant"],c0e=t=>{const{square:e,elevation:n,variant:r,classes:s}=t,i={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return dt(i,a0e,s)},u0e=fe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return L({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&L({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${os("#fff",t6(e.elevation))}, ${os("#fff",t6(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),d0e=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiPaper"}),{className:s,component:i="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,c=pe(r,l0e),u=L({},r,{component:i,elevation:o,square:a,variant:l}),h=c0e(u);return d.jsx(u0e,L({as:i,ownerState:u,className:Te(h.root,s),ref:n},c))}),Oh=d0e;function h0e(t){const{className:e,classes:n,pulsate:r=!1,rippleX:s,rippleY:i,rippleSize:o,in:a,onExited:l,timeout:c}=t,[u,h]=g.useState(!1),f=Te(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+i,left:-(o/2)+s},m=Te(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&h(!0),g.useEffect(()=>{if(!a&&l!=null){const v=setTimeout(l,c);return()=>{clearTimeout(v)}}},[l,a,c]),d.jsx("span",{className:f,style:p,children:d.jsx("span",{className:m})})}const f0e=Xe("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),zs=f0e,p0e=["center","classes","className"];let A_=t=>t,s6,i6,o6,a6;const tC=550,m0e=80,g0e=Vi(s6||(s6=A_`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),v0e=Vi(i6||(i6=A_`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),y0e=Vi(o6||(o6=A_`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),_0e=fe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),w0e=fe(h0e,{name:"MuiTouchRipple",slot:"Ripple"})(a6||(a6=A_`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),zs.rippleVisible,g0e,tC,({theme:t})=>t.transitions.easing.easeInOut,zs.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,zs.child,zs.childLeaving,v0e,tC,({theme:t})=>t.transitions.easing.easeInOut,zs.childPulsate,y0e,({theme:t})=>t.transitions.easing.easeInOut),x0e=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:i={},className:o}=r,a=pe(r,p0e),[l,c]=g.useState([]),u=g.useRef(0),h=g.useRef(null);g.useEffect(()=>{h.current&&(h.current(),h.current=null)},[l]);const f=g.useRef(!1),p=hc(),m=g.useRef(null),v=g.useRef(null),E=g.useCallback(x=>{const{pulsate:b,rippleX:C,rippleY:T,rippleSize:I,cb:S}=x;c(R=>[...R,d.jsx(w0e,{classes:{ripple:Te(i.ripple,zs.ripple),rippleVisible:Te(i.rippleVisible,zs.rippleVisible),ripplePulsate:Te(i.ripplePulsate,zs.ripplePulsate),child:Te(i.child,zs.child),childLeaving:Te(i.childLeaving,zs.childLeaving),childPulsate:Te(i.childPulsate,zs.childPulsate)},timeout:tC,pulsate:b,rippleX:C,rippleY:T,rippleSize:I},u.current)]),u.current+=1,h.current=S},[i]),y=g.useCallback((x={},b={},C=()=>{})=>{const{pulsate:T=!1,center:I=s||b.pulsate,fakeElement:S=!1}=b;if((x==null?void 0:x.type)==="mousedown"&&f.current){f.current=!1;return}(x==null?void 0:x.type)==="touchstart"&&(f.current=!0);const R=S?null:v.current,k=R?R.getBoundingClientRect():{width:0,height:0,left:0,top:0};let N,M,D;if(I||x===void 0||x.clientX===0&&x.clientY===0||!x.clientX&&!x.touches)N=Math.round(k.width/2),M=Math.round(k.height/2);else{const{clientX:j,clientY:A}=x.touches&&x.touches.length>0?x.touches[0]:x;N=Math.round(j-k.left),M=Math.round(A-k.top)}if(I)D=Math.sqrt((2*k.width**2+k.height**2)/3),D%2===0&&(D+=1);else{const j=Math.max(Math.abs((R?R.clientWidth:0)-N),N)*2+2,A=Math.max(Math.abs((R?R.clientHeight:0)-M),M)*2+2;D=Math.sqrt(j**2+A**2)}x!=null&&x.touches?m.current===null&&(m.current=()=>{E({pulsate:T,rippleX:N,rippleY:M,rippleSize:D,cb:C})},p.start(m0e,()=>{m.current&&(m.current(),m.current=null)})):E({pulsate:T,rippleX:N,rippleY:M,rippleSize:D,cb:C})},[s,E,p]),w=g.useCallback(()=>{y({},{pulsate:!0})},[y]),_=g.useCallback((x,b)=>{if(p.clear(),(x==null?void 0:x.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{_(x,b)});return}m.current=null,c(C=>C.length>0?C.slice(1):C),h.current=b},[p]);return g.useImperativeHandle(n,()=>({pulsate:w,start:y,stop:_}),[w,y,_]),d.jsx(_0e,L({className:Te(zs.root,i.root,o),ref:v},a,{children:d.jsx(o0e,{component:null,exit:!0,children:l})}))}),E0e=x0e;function C0e(t){return lt("MuiButtonBase",t)}const b0e=Xe("MuiButtonBase",["root","disabled","focusVisible"]),I0e=b0e,T0e=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],S0e=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:s}=t,o=dt({root:["root",e&&"disabled",n&&"focusVisible"]},C0e,s);return n&&r&&(o.root+=` ${r}`),o},k0e=fe("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${I0e.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),R0e=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:i=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:h=!1,focusRipple:f=!1,LinkComponent:p="a",onBlur:m,onClick:v,onContextMenu:E,onDragLeave:y,onFocus:w,onFocusVisible:_,onKeyDown:x,onKeyUp:b,onMouseDown:C,onMouseLeave:T,onMouseUp:I,onTouchEnd:S,onTouchMove:R,onTouchStart:k,tabIndex:N=0,TouchRippleProps:M,touchRippleRef:D,type:j}=r,A=pe(r,T0e),P=g.useRef(null),O=g.useRef(null),$=An(O,D),{isFocusVisibleRef:F,onFocus:G,onBlur:z,ref:B}=p$(),[U,V]=g.useState(!1);c&&U&&V(!1),g.useImperativeHandle(s,()=>({focusVisible:()=>{V(!0),P.current.focus()}}),[]);const[q,ce]=g.useState(!1);g.useEffect(()=>{ce(!0)},[]);const X=q&&!u&&!c;g.useEffect(()=>{U&&f&&!u&&q&&O.current.pulsate()},[u,f,U,q]);function Z(Ie,ht,rn=h){return is(qt=>(ht&&ht(qt),!rn&&O.current&&O.current[Ie](qt),!0))}const ee=Z("start",C),se=Z("stop",E),ae=Z("stop",y),ye=Z("stop",I),Ae=Z("stop",Ie=>{U&&Ie.preventDefault(),T&&T(Ie)}),_e=Z("start",k),Ye=Z("stop",S),He=Z("stop",R),Ue=Z("stop",Ie=>{z(Ie),F.current===!1&&V(!1),m&&m(Ie)},!1),pt=is(Ie=>{P.current||(P.current=Ie.currentTarget),G(Ie),F.current===!0&&(V(!0),_&&_(Ie)),w&&w(Ie)}),Ke=()=>{const Ie=P.current;return l&&l!=="button"&&!(Ie.tagName==="A"&&Ie.href)},Le=g.useRef(!1),bt=is(Ie=>{f&&!Le.current&&U&&O.current&&Ie.key===" "&&(Le.current=!0,O.current.stop(Ie,()=>{O.current.start(Ie)})),Ie.target===Ie.currentTarget&&Ke()&&Ie.key===" "&&Ie.preventDefault(),x&&x(Ie),Ie.target===Ie.currentTarget&&Ke()&&Ie.key==="Enter"&&!c&&(Ie.preventDefault(),v&&v(Ie))}),Be=is(Ie=>{f&&Ie.key===" "&&O.current&&U&&!Ie.defaultPrevented&&(Le.current=!1,O.current.stop(Ie,()=>{O.current.pulsate(Ie)})),b&&b(Ie),v&&Ie.target===Ie.currentTarget&&Ke()&&Ie.key===" "&&!Ie.defaultPrevented&&v(Ie)});let Re=l;Re==="button"&&(A.href||A.to)&&(Re=p);const wt={};Re==="button"?(wt.type=j===void 0?"button":j,wt.disabled=c):(!A.href&&!A.to&&(wt.role="button"),c&&(wt["aria-disabled"]=c));const zt=An(n,B,P),nn=L({},r,{centerRipple:i,component:l,disabled:c,disableRipple:u,disableTouchRipple:h,focusRipple:f,tabIndex:N,focusVisible:U}),Oe=S0e(nn);return d.jsxs(k0e,L({as:Re,className:Te(Oe.root,a),ownerState:nn,onBlur:Ue,onClick:v,onContextMenu:se,onFocus:pt,onKeyDown:bt,onKeyUp:Be,onMouseDown:ee,onMouseLeave:Ae,onMouseUp:ye,onDragLeave:ae,onTouchEnd:Ye,onTouchMove:He,onTouchStart:_e,ref:zt,tabIndex:c?-1:N,type:j},wt,A,{children:[o,X?d.jsx(E0e,L({ref:$,center:i},M)):null]}))}),P_=R0e;function A0e(t){return lt("MuiIconButton",t)}const P0e=Xe("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),N0e=P0e,D0e=["edge","children","className","color","disabled","disableFocusRipple","size"],L0e=t=>{const{classes:e,disabled:n,color:r,edge:s,size:i}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${ue(r)}`,s&&`edge${ue(s)}`,`size${ue(i)}`]};return dt(o,A0e,e)},M0e=fe(P_,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${ue(n.color)}`],n.edge&&e[`edge${ue(n.edge)}`],e[`size${ue(n.size)}`]]}})(({theme:t,ownerState:e})=>L({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:os(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return L({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&L({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":L({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:os(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${N0e.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),O0e=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiIconButton"}),{edge:s=!1,children:i,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,h=pe(r,D0e),f=L({},r,{edge:s,color:a,disabled:l,disableFocusRipple:c,size:u}),p=L0e(f);return d.jsx(M0e,L({className:Te(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},h,{ownerState:f,children:i}))}),qe=O0e;function j0e(t){return lt("MuiTypography",t)}Xe("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const $0e=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],F0e=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:s,variant:i,classes:o}=t,a={root:["root",i,t.align!=="inherit"&&`align${ue(e)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return dt(a,j0e,o)},V0e=fe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${ue(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>L({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),l6={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},U0e={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},z0e=t=>U0e[t]||t,B0e=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiTypography"}),s=z0e(r.color),i=vm(L({},r,{color:s})),{align:o="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:h=!1,variant:f="body1",variantMapping:p=l6}=i,m=pe(i,$0e),v=L({},i,{align:o,color:s,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:h,variant:f,variantMapping:p}),E=l||(h?"p":p[f]||l6[f])||"span",y=F0e(v);return d.jsx(V0e,L({as:E,ref:n,ownerState:v,className:Te(y.root,a)},m))}),ge=B0e;function W0e(t){return lt("MuiAppBar",t)}Xe("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const H0e=["className","color","enableColorOnDark","position"],G0e=t=>{const{color:e,position:n,classes:r}=t,s={root:["root",`color${ue(e)}`,`position${ue(n)}`]};return dt(s,W0e,r)},h2=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,q0e=fe(Oh,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${ue(n.position)}`],e[`color${ue(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return L({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&L({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&L({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&L({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:h2(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:h2(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:h2(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:h2(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},!["inherit","transparent"].includes(e.color)&&{backgroundColor:"var(--AppBar-background)"},{color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),Y0e=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiAppBar"}),{className:s,color:i="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=pe(r,H0e),c=L({},r,{color:i,position:a,enableColorOnDark:o}),u=G0e(c);return d.jsx(q0e,L({square:!0,component:"header",ownerState:c,elevation:4,className:Te(u.root,s,a==="fixed"&&"mui-fixed"),ref:n},l))}),O$=Y0e;var TT={};Object.defineProperty(TT,"__esModule",{value:!0});var j$=TT.default=void 0,K0e=X0e(g),Q0e=A$;function $$(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return($$=function(r){return r?n:e})(t)}function X0e(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=$$(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function J0e(t){return Object.keys(t).length===0}function Z0e(t=null){const e=K0e.useContext(Q0e.ThemeContext);return!e||J0e(e)?t:e}j$=TT.default=Z0e;var hs="top",oi="bottom",ai="right",fs="left",ST="auto",wm=[hs,oi,ai,fs],eh="start",wp="end",epe="clippingParents",F$="viewport",vf="popper",tpe="reference",c6=wm.reduce(function(t,e){return t.concat([e+"-"+eh,e+"-"+wp])},[]),V$=[].concat(wm,[ST]).reduce(function(t,e){return t.concat([e,e+"-"+eh,e+"-"+wp])},[]),npe="beforeRead",rpe="read",spe="afterRead",ipe="beforeMain",ope="main",ape="afterMain",lpe="beforeWrite",cpe="write",upe="afterWrite",dpe=[npe,rpe,spe,ipe,ope,ape,lpe,cpe,upe];function vo(t){return t?(t.nodeName||"").toLowerCase():null}function Ds(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Zc(t){var e=Ds(t).Element;return t instanceof e||t instanceof Element}function ti(t){var e=Ds(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function kT(t){if(typeof ShadowRoot>"u")return!1;var e=Ds(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function hpe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!ti(i)||!vo(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function fpe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!ti(s)||!vo(s)||(Object.assign(s.style,a),Object.keys(i).forEach(function(l){s.removeAttribute(l)}))})}}const ppe={name:"applyStyles",enabled:!0,phase:"write",fn:hpe,effect:fpe,requires:["computeStyles"]};function uo(t){return t.split("-")[0]}var Ic=Math.max,F1=Math.min,th=Math.round;function nC(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function U$(){return!/^((?!chrome|android).)*safari/i.test(nC())}function nh(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&ti(t)&&(s=t.offsetWidth>0&&th(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&th(r.height)/t.offsetHeight||1);var o=Zc(t)?Ds(t):window,a=o.visualViewport,l=!U$()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/s,u=(r.top+(l&&a?a.offsetTop:0))/i,h=r.width/s,f=r.height/i;return{width:h,height:f,top:u,right:c+h,bottom:u+f,left:c,x:c,y:u}}function RT(t){var e=nh(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function z$(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&kT(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ua(t){return Ds(t).getComputedStyle(t)}function mpe(t){return["table","td","th"].indexOf(vo(t))>=0}function jl(t){return((Zc(t)?t.ownerDocument:t.document)||window.document).documentElement}function N_(t){return vo(t)==="html"?t:t.assignedSlot||t.parentNode||(kT(t)?t.host:null)||jl(t)}function u6(t){return!ti(t)||ua(t).position==="fixed"?null:t.offsetParent}function gpe(t){var e=/firefox/i.test(nC()),n=/Trident/i.test(nC());if(n&&ti(t)){var r=ua(t);if(r.position==="fixed")return null}var s=N_(t);for(kT(s)&&(s=s.host);ti(s)&&["html","body"].indexOf(vo(s))<0;){var i=ua(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function xm(t){for(var e=Ds(t),n=u6(t);n&&mpe(n)&&ua(n).position==="static";)n=u6(n);return n&&(vo(n)==="html"||vo(n)==="body"&&ua(n).position==="static")?e:n||gpe(t)||e}function AT(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function u0(t,e,n){return Ic(t,F1(e,n))}function vpe(t,e,n){var r=u0(t,e,n);return r>n?n:r}function B$(){return{top:0,right:0,bottom:0,left:0}}function W$(t){return Object.assign({},B$(),t)}function H$(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var ype=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,W$(typeof e!="number"?e:H$(e,wm))};function _pe(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=uo(n.placement),l=AT(a),c=[fs,ai].indexOf(a)>=0,u=c?"height":"width";if(!(!i||!o)){var h=ype(s.padding,n),f=RT(i),p=l==="y"?hs:fs,m=l==="y"?oi:ai,v=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],E=o[l]-n.rects.reference[l],y=xm(i),w=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,_=v/2-E/2,x=h[p],b=w-f[u]-h[m],C=w/2-f[u]/2+_,T=u0(x,C,b),I=l;n.modifiersData[r]=(e={},e[I]=T,e.centerOffset=T-C,e)}}function wpe(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||z$(e.elements.popper,s)&&(e.elements.arrow=s))}const xpe={name:"arrow",enabled:!0,phase:"main",fn:_pe,effect:wpe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rh(t){return t.split("-")[1]}var Epe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Cpe(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:th(n*s)/s||0,y:th(r*s)/s||0}}function d6(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,h=t.isFixed,f=o.x,p=f===void 0?0:f,m=o.y,v=m===void 0?0:m,E=typeof u=="function"?u({x:p,y:v}):{x:p,y:v};p=E.x,v=E.y;var y=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),_=fs,x=hs,b=window;if(c){var C=xm(n),T="clientHeight",I="clientWidth";if(C===Ds(n)&&(C=jl(n),ua(C).position!=="static"&&a==="absolute"&&(T="scrollHeight",I="scrollWidth")),C=C,s===hs||(s===fs||s===ai)&&i===wp){x=oi;var S=h&&C===b&&b.visualViewport?b.visualViewport.height:C[T];v-=S-r.height,v*=l?1:-1}if(s===fs||(s===hs||s===oi)&&i===wp){_=ai;var R=h&&C===b&&b.visualViewport?b.visualViewport.width:C[I];p-=R-r.width,p*=l?1:-1}}var k=Object.assign({position:a},c&&Epe),N=u===!0?Cpe({x:p,y:v},Ds(n)):{x:p,y:v};if(p=N.x,v=N.y,l){var M;return Object.assign({},k,(M={},M[x]=w?"0":"",M[_]=y?"0":"",M.transform=(b.devicePixelRatio||1)<=1?"translate("+p+"px, "+v+"px)":"translate3d("+p+"px, "+v+"px, 0)",M))}return Object.assign({},k,(e={},e[x]=w?v+"px":"",e[_]=y?p+"px":"",e.transform="",e))}function bpe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:uo(e.placement),variation:rh(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,d6(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,d6(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Ipe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:bpe,data:{}};var f2={passive:!0};function Tpe(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,l=Ds(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&c.forEach(function(u){u.addEventListener("scroll",n.update,f2)}),a&&l.addEventListener("resize",n.update,f2),function(){i&&c.forEach(function(u){u.removeEventListener("scroll",n.update,f2)}),a&&l.removeEventListener("resize",n.update,f2)}}const Spe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Tpe,data:{}};var kpe={left:"right",right:"left",bottom:"top",top:"bottom"};function sg(t){return t.replace(/left|right|bottom|top/g,function(e){return kpe[e]})}var Rpe={start:"end",end:"start"};function h6(t){return t.replace(/start|end/g,function(e){return Rpe[e]})}function PT(t){var e=Ds(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function NT(t){return nh(jl(t)).left+PT(t).scrollLeft}function Ape(t,e){var n=Ds(t),r=jl(t),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;var c=U$();(c||!c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a+NT(t),y:l}}function Ppe(t){var e,n=jl(t),r=PT(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=Ic(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Ic(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+NT(t),l=-r.scrollTop;return ua(s||n).direction==="rtl"&&(a+=Ic(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:l}}function DT(t){var e=ua(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function G$(t){return["html","body","#document"].indexOf(vo(t))>=0?t.ownerDocument.body:ti(t)&&DT(t)?t:G$(N_(t))}function d0(t,e){var n;e===void 0&&(e=[]);var r=G$(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=Ds(r),o=s?[i].concat(i.visualViewport||[],DT(r)?r:[]):r,a=e.concat(o);return s?a:a.concat(d0(N_(o)))}function rC(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Npe(t,e){var n=nh(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function f6(t,e,n){return e===F$?rC(Ape(t,n)):Zc(e)?Npe(e,n):rC(Ppe(jl(t)))}function Dpe(t){var e=d0(N_(t)),n=["absolute","fixed"].indexOf(ua(t).position)>=0,r=n&&ti(t)?xm(t):t;return Zc(r)?e.filter(function(s){return Zc(s)&&z$(s,r)&&vo(s)!=="body"}):[]}function Lpe(t,e,n,r){var s=e==="clippingParents"?Dpe(t):[].concat(e),i=[].concat(s,[n]),o=i[0],a=i.reduce(function(l,c){var u=f6(t,c,r);return l.top=Ic(u.top,l.top),l.right=F1(u.right,l.right),l.bottom=F1(u.bottom,l.bottom),l.left=Ic(u.left,l.left),l},f6(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function q$(t){var e=t.reference,n=t.element,r=t.placement,s=r?uo(r):null,i=r?rh(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(s){case hs:l={x:o,y:e.y-n.height};break;case oi:l={x:o,y:e.y+e.height};break;case ai:l={x:e.x+e.width,y:a};break;case fs:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=s?AT(s):null;if(c!=null){var u=c==="y"?"height":"width";switch(i){case eh:l[c]=l[c]-(e[u]/2-n[u]/2);break;case wp:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function xp(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,o=i===void 0?t.strategy:i,a=n.boundary,l=a===void 0?epe:a,c=n.rootBoundary,u=c===void 0?F$:c,h=n.elementContext,f=h===void 0?vf:h,p=n.altBoundary,m=p===void 0?!1:p,v=n.padding,E=v===void 0?0:v,y=W$(typeof E!="number"?E:H$(E,wm)),w=f===vf?tpe:vf,_=t.rects.popper,x=t.elements[m?w:f],b=Lpe(Zc(x)?x:x.contextElement||jl(t.elements.popper),l,u,o),C=nh(t.elements.reference),T=q$({reference:C,element:_,strategy:"absolute",placement:s}),I=rC(Object.assign({},_,T)),S=f===vf?I:C,R={top:b.top-S.top+y.top,bottom:S.bottom-b.bottom+y.bottom,left:b.left-S.left+y.left,right:S.right-b.right+y.right},k=t.modifiersData.offset;if(f===vf&&k){var N=k[s];Object.keys(R).forEach(function(M){var D=[ai,oi].indexOf(M)>=0?1:-1,j=[hs,oi].indexOf(M)>=0?"y":"x";R[M]+=N[j]*D})}return R}function Mpe(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?V$:l,u=rh(r),h=u?a?c6:c6.filter(function(m){return rh(m)===u}):wm,f=h.filter(function(m){return c.indexOf(m)>=0});f.length===0&&(f=h);var p=f.reduce(function(m,v){return m[v]=xp(t,{placement:v,boundary:s,rootBoundary:i,padding:o})[uo(v)],m},{});return Object.keys(p).sort(function(m,v){return p[m]-p[v]})}function Ope(t){if(uo(t)===ST)return[];var e=sg(t);return[h6(t),e,h6(e)]}function jpe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,v=n.allowedAutoPlacements,E=e.options.placement,y=uo(E),w=y===E,_=l||(w||!m?[sg(E)]:Ope(E)),x=[E].concat(_).reduce(function(U,V){return U.concat(uo(V)===ST?Mpe(e,{placement:V,boundary:u,rootBoundary:h,padding:c,flipVariations:m,allowedAutoPlacements:v}):V)},[]),b=e.rects.reference,C=e.rects.popper,T=new Map,I=!0,S=x[0],R=0;R<x.length;R++){var k=x[R],N=uo(k),M=rh(k)===eh,D=[hs,oi].indexOf(N)>=0,j=D?"width":"height",A=xp(e,{placement:k,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),P=D?M?ai:fs:M?oi:hs;b[j]>C[j]&&(P=sg(P));var O=sg(P),$=[];if(i&&$.push(A[N]<=0),a&&$.push(A[P]<=0,A[O]<=0),$.every(function(U){return U})){S=k,I=!1;break}T.set(k,$)}if(I)for(var F=m?3:1,G=function(V){var q=x.find(function(ce){var X=T.get(ce);if(X)return X.slice(0,V).every(function(Z){return Z})});if(q)return S=q,"break"},z=F;z>0;z--){var B=G(z);if(B==="break")break}e.placement!==S&&(e.modifiersData[r]._skip=!0,e.placement=S,e.reset=!0)}}const $pe={name:"flip",enabled:!0,phase:"main",fn:jpe,requiresIfExists:["offset"],data:{_skip:!1}};function p6(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function m6(t){return[hs,ai,oi,fs].some(function(e){return t[e]>=0})}function Fpe(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=xp(e,{elementContext:"reference"}),a=xp(e,{altBoundary:!0}),l=p6(o,r),c=p6(a,s,i),u=m6(l),h=m6(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}const Vpe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Fpe};function Upe(t,e,n){var r=uo(t),s=[fs,hs].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*s,[fs,ai].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function zpe(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=V$.reduce(function(u,h){return u[h]=Upe(h,e.rects,i),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const Bpe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:zpe};function Wpe(t){var e=t.state,n=t.name;e.modifiersData[n]=q$({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Hpe={name:"popperOffsets",enabled:!0,phase:"read",fn:Wpe,data:{}};function Gpe(t){return t==="x"?"y":"x"}function qpe(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,f=n.tether,p=f===void 0?!0:f,m=n.tetherOffset,v=m===void 0?0:m,E=xp(e,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),y=uo(e.placement),w=rh(e.placement),_=!w,x=AT(y),b=Gpe(x),C=e.modifiersData.popperOffsets,T=e.rects.reference,I=e.rects.popper,S=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,R=typeof S=="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),k=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,N={x:0,y:0};if(C){if(i){var M,D=x==="y"?hs:fs,j=x==="y"?oi:ai,A=x==="y"?"height":"width",P=C[x],O=P+E[D],$=P-E[j],F=p?-I[A]/2:0,G=w===eh?T[A]:I[A],z=w===eh?-I[A]:-T[A],B=e.elements.arrow,U=p&&B?RT(B):{width:0,height:0},V=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:B$(),q=V[D],ce=V[j],X=u0(0,T[A],U[A]),Z=_?T[A]/2-F-X-q-R.mainAxis:G-X-q-R.mainAxis,ee=_?-T[A]/2+F+X+ce+R.mainAxis:z+X+ce+R.mainAxis,se=e.elements.arrow&&xm(e.elements.arrow),ae=se?x==="y"?se.clientTop||0:se.clientLeft||0:0,ye=(M=k==null?void 0:k[x])!=null?M:0,Ae=P+Z-ye-ae,_e=P+ee-ye,Ye=u0(p?F1(O,Ae):O,P,p?Ic($,_e):$);C[x]=Ye,N[x]=Ye-P}if(a){var He,Ue=x==="x"?hs:fs,pt=x==="x"?oi:ai,Ke=C[b],Le=b==="y"?"height":"width",bt=Ke+E[Ue],Be=Ke-E[pt],Re=[hs,fs].indexOf(y)!==-1,wt=(He=k==null?void 0:k[b])!=null?He:0,zt=Re?bt:Ke-T[Le]-I[Le]-wt+R.altAxis,nn=Re?Ke+T[Le]+I[Le]-wt-R.altAxis:Be,Oe=p&&Re?vpe(zt,Ke,nn):u0(p?zt:bt,Ke,p?nn:Be);C[b]=Oe,N[b]=Oe-Ke}e.modifiersData[r]=N}}const Ype={name:"preventOverflow",enabled:!0,phase:"main",fn:qpe,requiresIfExists:["offset"]};function Kpe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Qpe(t){return t===Ds(t)||!ti(t)?PT(t):Kpe(t)}function Xpe(t){var e=t.getBoundingClientRect(),n=th(e.width)/t.offsetWidth||1,r=th(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Jpe(t,e,n){n===void 0&&(n=!1);var r=ti(e),s=ti(e)&&Xpe(e),i=jl(e),o=nh(t,s,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((vo(e)!=="body"||DT(i))&&(a=Qpe(e)),ti(e)?(l=nh(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=NT(i))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Zpe(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&s(l)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function eme(t){var e=Zpe(t);return dpe.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function tme(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function nme(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var g6={placement:"bottom",modifiers:[],strategy:"absolute"};function v6(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function rme(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?g6:s;return function(a,l,c){c===void 0&&(c=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},g6,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],f=!1,p={state:u,setOptions:function(y){var w=typeof y=="function"?y(u.options):y;v(),u.options=Object.assign({},i,u.options,w),u.scrollParents={reference:Zc(a)?d0(a):a.contextElement?d0(a.contextElement):[],popper:d0(l)};var _=eme(nme([].concat(r,u.options.modifiers)));return u.orderedModifiers=_.filter(function(x){return x.enabled}),m(),p.update()},forceUpdate:function(){if(!f){var y=u.elements,w=y.reference,_=y.popper;if(v6(w,_)){u.rects={reference:Jpe(w,xm(_),u.options.strategy==="fixed"),popper:RT(_)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(R){return u.modifiersData[R.name]=Object.assign({},R.data)});for(var x=0;x<u.orderedModifiers.length;x++){if(u.reset===!0){u.reset=!1,x=-1;continue}var b=u.orderedModifiers[x],C=b.fn,T=b.options,I=T===void 0?{}:T,S=b.name;typeof C=="function"&&(u=C({state:u,options:I,name:S,instance:p})||u)}}}},update:tme(function(){return new Promise(function(E){p.forceUpdate(),E(u)})}),destroy:function(){v(),f=!0}};if(!v6(a,l))return p;p.setOptions(c).then(function(E){!f&&c.onFirstUpdate&&c.onFirstUpdate(E)});function m(){u.orderedModifiers.forEach(function(E){var y=E.name,w=E.options,_=w===void 0?{}:w,x=E.effect;if(typeof x=="function"){var b=x({state:u,name:y,instance:p,options:_}),C=function(){};h.push(b||C)}})}function v(){h.forEach(function(E){return E()}),h=[]}return p}}var sme=[Spe,Hpe,Ipe,ppe,Bpe,$pe,Ype,xpe,Vpe],ime=rme({defaultModifiers:sme});function ome(t){return typeof t=="function"?t():t}const ame=g.forwardRef(function(e,n){const{children:r,container:s,disablePortal:i=!1}=e,[o,a]=g.useState(null),l=An(g.isValidElement(r)?r.ref:null,n);if(Ns(()=>{i||a(ome(s)||document.body)},[s,i]),Ns(()=>{if(o&&!i)return KE(n,o),()=>{KE(n,null)}},[n,o,i]),i){if(g.isValidElement(r)){const c={ref:l};return g.cloneElement(r,c)}return d.jsx(g.Fragment,{children:r})}return d.jsx(g.Fragment,{children:o&&D0.createPortal(r,o)})}),Y$=ame;function lme(t){return lt("MuiPopper",t)}Xe("MuiPopper",["root"]);const cme=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],ume=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function dme(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function sC(t){return typeof t=="function"?t():t}function hme(t){return t.nodeType!==void 0}const fme=t=>{const{classes:e}=t;return dt({root:["root"]},lme,e)},pme={},mme=g.forwardRef(function(e,n){var r;const{anchorEl:s,children:i,direction:o,disablePortal:a,modifiers:l,open:c,placement:u,popperOptions:h,popperRef:f,slotProps:p={},slots:m={},TransitionProps:v}=e,E=pe(e,cme),y=g.useRef(null),w=An(y,n),_=g.useRef(null),x=An(_,f),b=g.useRef(x);Ns(()=>{b.current=x},[x]),g.useImperativeHandle(f,()=>_.current,[]);const C=dme(u,o),[T,I]=g.useState(C),[S,R]=g.useState(sC(s));g.useEffect(()=>{_.current&&_.current.forceUpdate()}),g.useEffect(()=>{s&&R(sC(s))},[s]),Ns(()=>{if(!S||!c)return;const j=O=>{I(O.placement)};let A=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:O})=>{j(O)}}];l!=null&&(A=A.concat(l)),h&&h.modifiers!=null&&(A=A.concat(h.modifiers));const P=ime(S,y.current,L({placement:C},h,{modifiers:A}));return b.current(P),()=>{P.destroy(),b.current(null)}},[S,a,l,c,h,C]);const k={placement:T};v!==null&&(k.TransitionProps=v);const N=fme(e),M=(r=m.root)!=null?r:"div",D=Il({elementType:M,externalSlotProps:p.root,externalForwardedProps:E,additionalProps:{role:"tooltip",ref:w},ownerState:e,className:N.root});return d.jsx(M,L({},D,{children:typeof i=="function"?i(k):i}))}),gme=g.forwardRef(function(e,n){const{anchorEl:r,children:s,container:i,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:h="bottom",popperOptions:f=pme,popperRef:p,style:m,transition:v=!1,slotProps:E={},slots:y={}}=e,w=pe(e,ume),[_,x]=g.useState(!0),b=()=>{x(!1)},C=()=>{x(!0)};if(!l&&!u&&(!v||_))return null;let T;if(i)T=i;else if(r){const R=sC(r);T=R&&hme(R)?xn(R).body:xn(null).body}const I=!u&&l&&(!v||_)?"none":void 0,S=v?{in:u,onEnter:b,onExited:C}:void 0;return d.jsx(Y$,{disablePortal:a,container:T,children:d.jsx(mme,L({anchorEl:r,direction:o,disablePortal:a,modifiers:c,ref:n,open:v?!_:u,placement:h,popperOptions:f,popperRef:p,slotProps:E,slots:y},w,{style:L({position:"fixed",top:0,left:0,display:I},m),TransitionProps:S,children:s}))})}),vme=gme,yme=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],_me=fe(vme,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),wme=g.forwardRef(function(e,n){var r;const s=j$(),i=rt({props:e,name:"MuiPopper"}),{anchorEl:o,component:a,components:l,componentsProps:c,container:u,disablePortal:h,keepMounted:f,modifiers:p,open:m,placement:v,popperOptions:E,popperRef:y,transition:w,slots:_,slotProps:x}=i,b=pe(i,yme),C=(r=_==null?void 0:_.root)!=null?r:l==null?void 0:l.Root,T=L({anchorEl:o,container:u,disablePortal:h,keepMounted:f,modifiers:p,open:m,placement:v,popperOptions:E,popperRef:y,transition:w},b);return d.jsx(_me,L({as:a,direction:s==null?void 0:s.direction,slots:{root:C},slotProps:x??c},T,{ref:n}))}),K$=wme,xme=["onChange","maxRows","minRows","style","value"];function p2(t){return parseInt(t,10)||0}const Eme={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Cme(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const bme=g.forwardRef(function(e,n){const{onChange:r,maxRows:s,minRows:i=1,style:o,value:a}=e,l=pe(e,xme),{current:c}=g.useRef(a!=null),u=g.useRef(null),h=An(n,u),f=g.useRef(null),p=g.useRef(null),m=g.useCallback(()=>{const y=u.current,_=ks(y).getComputedStyle(y);if(_.width==="0px")return{outerHeightStyle:0,overflowing:!1};const x=p.current;x.style.width=_.width,x.value=y.value||e.placeholder||"x",x.value.slice(-1)===`
`&&(x.value+=" ");const b=_.boxSizing,C=p2(_.paddingBottom)+p2(_.paddingTop),T=p2(_.borderBottomWidth)+p2(_.borderTopWidth),I=x.scrollHeight;x.value="x";const S=x.scrollHeight;let R=I;i&&(R=Math.max(Number(i)*S,R)),s&&(R=Math.min(Number(s)*S,R)),R=Math.max(R,S);const k=R+(b==="border-box"?C+T:0),N=Math.abs(R-I)<=1;return{outerHeightStyle:k,overflowing:N}},[s,i,e.placeholder]),v=g.useCallback(()=>{const y=m();if(Cme(y))return;const w=y.outerHeightStyle,_=u.current;f.current!==w&&(f.current=w,_.style.height=`${w}px`),_.style.overflow=y.overflowing?"hidden":""},[m]);Ns(()=>{const y=()=>{v()};let w;const _=pT(y),x=u.current,b=ks(x);b.addEventListener("resize",_);let C;return typeof ResizeObserver<"u"&&(C=new ResizeObserver(y),C.observe(x)),()=>{_.clear(),cancelAnimationFrame(w),b.removeEventListener("resize",_),C&&C.disconnect()}},[m,v]),Ns(()=>{v()});const E=y=>{c||v(),r&&r(y)};return d.jsxs(g.Fragment,{children:[d.jsx("textarea",L({value:a,onChange:E,ref:h,rows:i,style:o},l)),d.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:L({},Eme.shadow,o,{paddingTop:0,paddingBottom:0})})]})}),Ime=bme;function jh({props:t,states:e,muiFormControl:n}){return e.reduce((r,s)=>(r[s]=t[s],n&&typeof t[s]>"u"&&(r[s]=n[s]),r),{})}const Tme=g.createContext(void 0),LT=Tme;function $h(){return g.useContext(LT)}function Q$(t){return d.jsx(wde,L({},t,{defaultTheme:_T,themeId:Jd}))}function y6(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function V1(t,e=!1){return t&&(y6(t.value)&&t.value!==""||e&&y6(t.defaultValue)&&t.defaultValue!=="")}function Sme(t){return t.startAdornment}function kme(t){return lt("MuiInputBase",t)}const Rme=Xe("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),sh=Rme,Ame=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],D_=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${ue(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},L_=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},Pme=t=>{const{classes:e,color:n,disabled:r,error:s,endAdornment:i,focused:o,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:h,size:f,startAdornment:p,type:m}=t,v={root:["root",`color${ue(n)}`,r&&"disabled",s&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",f&&f!=="medium"&&`size${ue(f)}`,u&&"multiline",p&&"adornedStart",i&&"adornedEnd",c&&"hiddenLabel",h&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",u&&"inputMultiline",f==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",i&&"inputAdornedEnd",h&&"readOnly"]};return dt(v,kme,e)},M_=fe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:D_})(({theme:t,ownerState:e})=>L({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${sh.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&L({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),O_=fe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:L_})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=L({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),s={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return L({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${sh.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${sh.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),Nme=d.jsx(Q$,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Dme=g.forwardRef(function(e,n){var r;const s=rt({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:h,disabled:f,disableInjectingGlobalStyles:p,endAdornment:m,fullWidth:v=!1,id:E,inputComponent:y="input",inputProps:w={},inputRef:_,maxRows:x,minRows:b,multiline:C=!1,name:T,onBlur:I,onChange:S,onClick:R,onFocus:k,onKeyDown:N,onKeyUp:M,placeholder:D,readOnly:j,renderSuffix:A,rows:P,slotProps:O={},slots:$={},startAdornment:F,type:G="text",value:z}=s,B=pe(s,Ame),U=w.value!=null?w.value:z,{current:V}=g.useRef(U!=null),q=g.useRef(),ce=g.useCallback(Oe=>{},[]),X=An(q,_,w.ref,ce),[Z,ee]=g.useState(!1),se=$h(),ae=jh({props:s,muiFormControl:se,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ae.focused=se?se.focused:Z,g.useEffect(()=>{!se&&f&&Z&&(ee(!1),I&&I())},[se,f,Z,I]);const ye=se&&se.onFilled,Ae=se&&se.onEmpty,_e=g.useCallback(Oe=>{V1(Oe)?ye&&ye():Ae&&Ae()},[ye,Ae]);Ns(()=>{V&&_e({value:U})},[U,_e,V]);const Ye=Oe=>{if(ae.disabled){Oe.stopPropagation();return}k&&k(Oe),w.onFocus&&w.onFocus(Oe),se&&se.onFocus?se.onFocus(Oe):ee(!0)},He=Oe=>{I&&I(Oe),w.onBlur&&w.onBlur(Oe),se&&se.onBlur?se.onBlur(Oe):ee(!1)},Ue=(Oe,...Ie)=>{if(!V){const ht=Oe.target||q.current;if(ht==null)throw new Error(la(1));_e({value:ht.value})}w.onChange&&w.onChange(Oe,...Ie),S&&S(Oe,...Ie)};g.useEffect(()=>{_e(q.current)},[]);const pt=Oe=>{q.current&&Oe.currentTarget===Oe.target&&q.current.focus(),R&&R(Oe)};let Ke=y,Le=w;C&&Ke==="input"&&(P?Le=L({type:void 0,minRows:P,maxRows:P},Le):Le=L({type:void 0,maxRows:x,minRows:b},Le),Ke=Ime);const bt=Oe=>{_e(Oe.animationName==="mui-auto-fill-cancel"?q.current:{value:"x"})};g.useEffect(()=>{se&&se.setAdornedStart(!!F)},[se,F]);const Be=L({},s,{color:ae.color||"primary",disabled:ae.disabled,endAdornment:m,error:ae.error,focused:ae.focused,formControl:se,fullWidth:v,hiddenLabel:ae.hiddenLabel,multiline:C,size:ae.size,startAdornment:F,type:G}),Re=Pme(Be),wt=$.root||c.Root||M_,zt=O.root||u.root||{},nn=$.input||c.Input||O_;return Le=L({},Le,(r=O.input)!=null?r:u.input),d.jsxs(g.Fragment,{children:[!p&&Nme,d.jsxs(wt,L({},zt,!M1(wt)&&{ownerState:L({},Be,zt.ownerState)},{ref:n,onClick:pt},B,{className:Te(Re.root,zt.className,l,j&&"MuiInputBase-readOnly"),children:[F,d.jsx(LT.Provider,{value:null,children:d.jsx(nn,L({ownerState:Be,"aria-invalid":ae.error,"aria-describedby":i,autoComplete:o,autoFocus:a,defaultValue:h,disabled:ae.disabled,id:E,onAnimationStart:bt,name:T,placeholder:D,readOnly:j,required:ae.required,rows:P,value:U,onKeyDown:N,onKeyUp:M,type:G},Le,!M1(nn)&&{as:Ke,ownerState:L({},Be,Le.ownerState)},{ref:X,className:Te(Re.input,Le.className,j&&"MuiInputBase-readOnly"),onBlur:He,onChange:Ue,onFocus:Ye}))}),m,A?A(L({},ae,{startAdornment:F})):null]}))]})}),MT=Dme;function Lme(t){return lt("MuiInput",t)}const Mme=L({},sh,Xe("MuiInput",["root","underline","input"])),yf=Mme;function Ome(t){return lt("MuiOutlinedInput",t)}const jme=L({},sh,Xe("MuiOutlinedInput",["root","notchedOutline","input"])),Sa=jme;function $me(t){return lt("MuiFilledInput",t)}const Fme=L({},sh,Xe("MuiFilledInput",["root","underline","input"])),Bl=Fme,Vme=je(d.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Ume=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],zme={entering:{opacity:1},entered:{opacity:1}},Bme=g.forwardRef(function(e,n){const r=_t(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:a,easing:l,in:c,onEnter:u,onEntered:h,onEntering:f,onExit:p,onExited:m,onExiting:v,style:E,timeout:y=s,TransitionComponent:w=ET}=e,_=pe(e,Ume),x=g.useRef(null),b=An(x,a.ref,n),C=D=>j=>{if(D){const A=x.current;j===void 0?D(A):D(A,j)}},T=C(f),I=C((D,j)=>{IT(D);const A=Jc({style:E,timeout:y,easing:l},{mode:"enter"});D.style.webkitTransition=r.transitions.create("opacity",A),D.style.transition=r.transitions.create("opacity",A),u&&u(D,j)}),S=C(h),R=C(v),k=C(D=>{const j=Jc({style:E,timeout:y,easing:l},{mode:"exit"});D.style.webkitTransition=r.transitions.create("opacity",j),D.style.transition=r.transitions.create("opacity",j),p&&p(D)}),N=C(m),M=D=>{i&&i(x.current,D)};return d.jsx(w,L({appear:o,in:c,nodeRef:x,onEnter:I,onEntered:S,onEntering:T,onExit:k,onExited:N,onExiting:R,addEndListener:M,timeout:y},_,{children:(D,j)=>g.cloneElement(a,L({style:L({opacity:0,visibility:D==="exited"&&!c?"hidden":void 0},zme[D],E,a.props.style),ref:b},j))}))}),X$=Bme;function Wme(t){return lt("MuiBackdrop",t)}Xe("MuiBackdrop",["root","invisible"]);const Hme=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Gme=t=>{const{classes:e,invisible:n}=t;return dt({root:["root",n&&"invisible"]},Wme,e)},qme=fe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>L({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),Yme=g.forwardRef(function(e,n){var r,s,i;const o=rt({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:u={},componentsProps:h={},invisible:f=!1,open:p,slotProps:m={},slots:v={},TransitionComponent:E=X$,transitionDuration:y}=o,w=pe(o,Hme),_=L({},o,{component:c,invisible:f}),x=Gme(_),b=(r=m.root)!=null?r:h.root;return d.jsx(E,L({in:p,timeout:y},w,{children:d.jsx(qme,L({"aria-hidden":!0},b,{as:(s=(i=v.root)!=null?i:u.Root)!=null?s:c,className:Te(x.root,l,b==null?void 0:b.className),ownerState:L({},_,b==null?void 0:b.ownerState),classes:x,ref:n,children:a}))}))}),J$=Yme,Kme=Xe("MuiBox",["root"]),Qme=Kme,Xme=yT(),Jme=Sde({themeId:Jd,defaultTheme:Xme,defaultClassName:Qme.root,generateClassName:s$.generate}),Y=Jme;function Zme(t){return lt("MuiButton",t)}const e2e=Xe("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),m2=e2e,t2e=g.createContext({}),n2e=t2e,r2e=g.createContext(void 0),s2e=r2e,i2e=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],o2e=t=>{const{color:e,disableElevation:n,fullWidth:r,size:s,variant:i,classes:o}=t,a={root:["root",i,`${i}${ue(e)}`,`size${ue(s)}`,`${i}Size${ue(s)}`,`color${ue(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${ue(s)}`],endIcon:["icon","endIcon",`iconSize${ue(s)}`]},l=dt(a,Zme,o);return L({},o,l)},Z$=t=>L({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),a2e=fe(P_,{shouldForwardProp:t=>Kr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${ue(n.color)}`],e[`size${ue(n.size)}`],e[`${n.variant}Size${ue(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const s=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],i=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return L({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":L({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:os(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:os(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:os(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":L({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${m2.focusVisible}`]:L({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${m2.disabled}`]:L({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${os(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:s,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${m2.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${m2.disabled}`]:{boxShadow:"none"}}),l2e=fe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${ue(n.size)}`]]}})(({ownerState:t})=>L({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},Z$(t))),c2e=fe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${ue(n.size)}`]]}})(({ownerState:t})=>L({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},Z$(t))),u2e=g.forwardRef(function(e,n){const r=g.useContext(n2e),s=g.useContext(s2e),i=_p(r,e),o=rt({props:i,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:h=!1,disableElevation:f=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:v,fullWidth:E=!1,size:y="medium",startIcon:w,type:_,variant:x="text"}=o,b=pe(o,i2e),C=L({},o,{color:l,component:c,disabled:h,disableElevation:f,disableFocusRipple:p,fullWidth:E,size:y,type:_,variant:x}),T=o2e(C),I=w&&d.jsx(l2e,{className:T.startIcon,ownerState:C,children:w}),S=m&&d.jsx(c2e,{className:T.endIcon,ownerState:C,children:m}),R=s||"";return d.jsxs(a2e,L({ownerState:C,className:Te(r.className,T.root,u,R),component:c,disabled:h,focusRipple:!p,focusVisibleClassName:Te(T.focusVisible,v),ref:n,type:_},b,{classes:T,children:[I,a,S]}))}),ke=u2e;function d2e(t){return lt("MuiCircularProgress",t)}Xe("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const h2e=["className","color","disableShrink","size","style","thickness","value","variant"];let j_=t=>t,_6,w6,x6,E6;const ka=44,f2e=Vi(_6||(_6=j_`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),p2e=Vi(w6||(w6=j_`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),m2e=t=>{const{classes:e,variant:n,color:r,disableShrink:s}=t,i={root:["root",n,`color${ue(r)}`],svg:["svg"],circle:["circle",`circle${ue(n)}`,s&&"circleDisableShrink"]};return dt(i,d2e,e)},g2e=fe("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${ue(n.color)}`]]}})(({ownerState:t,theme:e})=>L({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&ca(x6||(x6=j_`
      animation: ${0} 1.4s linear infinite;
    `),f2e)),v2e=fe("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),y2e=fe("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${ue(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>L({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&ca(E6||(E6=j_`
      animation: ${0} 1.4s ease-in-out infinite;
    `),p2e)),_2e=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiCircularProgress"}),{className:s,color:i="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:h="indeterminate"}=r,f=pe(r,h2e),p=L({},r,{color:i,disableShrink:o,size:a,thickness:c,value:u,variant:h}),m=m2e(p),v={},E={},y={};if(h==="determinate"){const w=2*Math.PI*((ka-c)/2);v.strokeDasharray=w.toFixed(3),y["aria-valuenow"]=Math.round(u),v.strokeDashoffset=`${((100-u)/100*w).toFixed(3)}px`,E.transform="rotate(-90deg)"}return d.jsx(g2e,L({className:Te(m.root,s),style:L({width:a,height:a},E,l),ownerState:p,ref:n,role:"progressbar"},y,f,{children:d.jsx(v2e,{className:m.svg,ownerState:p,viewBox:`${ka/2} ${ka/2} ${ka} ${ka}`,children:d.jsx(y2e,{className:m.circle,style:v,ownerState:p,cx:ka,cy:ka,r:(ka-c)/2,fill:"none",strokeWidth:c})})}))}),eF=_2e;function C6(t){return t.substring(2).toLowerCase()}function w2e(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function x2e(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:s,touchEvent:i="onTouchEnd"}=t,o=g.useRef(!1),a=g.useRef(null),l=g.useRef(!1),c=g.useRef(!1);g.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const u=An(e.ref,a),h=is(m=>{const v=c.current;c.current=!1;const E=xn(a.current);if(!l.current||!a.current||"clientX"in m&&w2e(m,E))return;if(o.current){o.current=!1;return}let y;m.composedPath?y=m.composedPath().indexOf(a.current)>-1:y=!E.documentElement.contains(m.target)||a.current.contains(m.target),!y&&(n||!v)&&s(m)}),f=m=>v=>{c.current=!0;const E=e.props[m];E&&E(v)},p={ref:u};return i!==!1&&(p[i]=f(i)),g.useEffect(()=>{if(i!==!1){const m=C6(i),v=xn(a.current),E=()=>{o.current=!0};return v.addEventListener(m,h),v.addEventListener("touchmove",E),()=>{v.removeEventListener(m,h),v.removeEventListener("touchmove",E)}}},[h,i]),r!==!1&&(p[r]=f(r)),g.useEffect(()=>{if(r!==!1){const m=C6(r),v=xn(a.current);return v.addEventListener(m,h),()=>{v.removeEventListener(m,h)}}},[h,r]),d.jsx(g.Fragment,{children:g.cloneElement(e,p)})}const E2e=(t,e)=>L({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),C2e=t=>L({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),b2e=(t,e=!1)=>{var n;const r={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([o,a])=>{var l;r[t.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(l=a.palette)==null?void 0:l.mode}});let s=L({html:E2e(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:L({margin:0},C2e(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},r);const i=(n=t.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return i&&(s=[s,i]),s};function I2e(t){const e=rt({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return d.jsxs(g.Fragment,{children:[d.jsx(Q$,{styles:s=>b2e(s,r)}),n]})}function T2e(t){const e=xn(t);return e.body===t?ks(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function h0(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function b6(t){return parseInt(ks(t).getComputedStyle(t).paddingRight,10)||0}function S2e(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function I6(t,e,n,r,s){const i=[e,n,...r];[].forEach.call(t.children,o=>{const a=i.indexOf(o)===-1,l=!S2e(o);a&&l&&h0(o,s)})}function dx(t,e){let n=-1;return t.some((r,s)=>e(r)?(n=s,!0):!1),n}function k2e(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(T2e(r)){const o=m$(xn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${b6(r)+o}px`;const a=xn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${b6(l)+o}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=xn(r).body;else{const o=r.parentElement,a=ks(r);i=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:o,property:a})=>{i?o.style.setProperty(a,i):o.style.removeProperty(a)})}}function R2e(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class A2e{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&h0(e.modalRef,!1);const s=R2e(n);I6(n,e.mount,e.modalRef,s,!0);const i=dx(this.containers,o=>o.container===n);return i!==-1?(this.containers[i].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:s}),r)}mount(e,n){const r=dx(this.containers,i=>i.modals.indexOf(e)!==-1),s=this.containers[r];s.restore||(s.restore=k2e(s,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const s=dx(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[s];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),e.modalRef&&h0(e.modalRef,n),I6(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(s,1);else{const o=i.modals[i.modals.length-1];o.modalRef&&h0(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const P2e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function N2e(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function D2e(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function L2e(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||D2e(t))}function M2e(t){const e=[],n=[];return Array.from(t.querySelectorAll(P2e)).forEach((r,s)=>{const i=N2e(r);i===-1||!L2e(r)||(i===0?e.push(r):n.push({documentOrder:s,tabIndex:i,node:r}))}),n.sort((r,s)=>r.tabIndex===s.tabIndex?r.documentOrder-s.documentOrder:r.tabIndex-s.tabIndex).map(r=>r.node).concat(e)}function O2e(){return!0}function j2e(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:i=M2e,isEnabled:o=O2e,open:a}=t,l=g.useRef(!1),c=g.useRef(null),u=g.useRef(null),h=g.useRef(null),f=g.useRef(null),p=g.useRef(!1),m=g.useRef(null),v=An(e.ref,m),E=g.useRef(null);g.useEffect(()=>{!a||!m.current||(p.current=!n)},[n,a]),g.useEffect(()=>{if(!a||!m.current)return;const _=xn(m.current);return m.current.contains(_.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{s||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[a]),g.useEffect(()=>{if(!a||!m.current)return;const _=xn(m.current),x=T=>{E.current=T,!(r||!o()||T.key!=="Tab")&&_.activeElement===m.current&&T.shiftKey&&(l.current=!0,u.current&&u.current.focus())},b=()=>{const T=m.current;if(T===null)return;if(!_.hasFocus()||!o()||l.current){l.current=!1;return}if(T.contains(_.activeElement)||r&&_.activeElement!==c.current&&_.activeElement!==u.current)return;if(_.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!p.current)return;let I=[];if((_.activeElement===c.current||_.activeElement===u.current)&&(I=i(m.current)),I.length>0){var S,R;const k=!!((S=E.current)!=null&&S.shiftKey&&((R=E.current)==null?void 0:R.key)==="Tab"),N=I[0],M=I[I.length-1];typeof N!="string"&&typeof M!="string"&&(k?M.focus():N.focus())}else T.focus()};_.addEventListener("focusin",b),_.addEventListener("keydown",x,!0);const C=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&b()},50);return()=>{clearInterval(C),_.removeEventListener("focusin",b),_.removeEventListener("keydown",x,!0)}},[n,r,s,o,a,i]);const y=_=>{h.current===null&&(h.current=_.relatedTarget),p.current=!0,f.current=_.target;const x=e.props.onFocus;x&&x(_)},w=_=>{h.current===null&&(h.current=_.relatedTarget),p.current=!0};return d.jsxs(g.Fragment,{children:[d.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:c,"data-testid":"sentinelStart"}),g.cloneElement(e,{ref:v,onFocus:y}),d.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:u,"data-testid":"sentinelEnd"})]})}function $2e(t){return typeof t=="function"?t():t}function F2e(t){return t?t.props.hasOwnProperty("in"):!1}const V2e=new A2e;function U2e(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:s=V2e,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:h}=t,f=g.useRef({}),p=g.useRef(null),m=g.useRef(null),v=An(m,h),[E,y]=g.useState(!u),w=F2e(l);let _=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(_=!1);const x=()=>xn(p.current),b=()=>(f.current.modalRef=m.current,f.current.mount=p.current,f.current),C=()=>{s.mount(b(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},T=is(()=>{const A=$2e(e)||x().body;s.add(b(),A),m.current&&C()}),I=g.useCallback(()=>s.isTopModal(b()),[s]),S=is(A=>{p.current=A,A&&(u&&I()?C():m.current&&h0(m.current,_))}),R=g.useCallback(()=>{s.remove(b(),_)},[_,s]);g.useEffect(()=>()=>{R()},[R]),g.useEffect(()=>{u?T():(!w||!i)&&R()},[u,R,w,i,T]);const k=A=>P=>{var O;(O=A.onKeyDown)==null||O.call(A,P),!(P.key!=="Escape"||P.which===229||!I())&&(n||(P.stopPropagation(),c&&c(P,"escapeKeyDown")))},N=A=>P=>{var O;(O=A.onClick)==null||O.call(A,P),P.target===P.currentTarget&&c&&c(P,"backdropClick")};return{getRootProps:(A={})=>{const P=O1(t);delete P.onTransitionEnter,delete P.onTransitionExited;const O=L({},P,A);return L({role:"presentation"},O,{onKeyDown:k(O),ref:v})},getBackdropProps:(A={})=>{const P=A;return L({"aria-hidden":!0},P,{onClick:N(P),open:u})},getTransitionProps:()=>{const A=()=>{y(!1),o&&o()},P=()=>{y(!0),a&&a(),i&&R()};return{onEnter:VA(A,l==null?void 0:l.props.onEnter),onExited:VA(P,l==null?void 0:l.props.onExited)}},rootRef:v,portalRef:S,isTopModal:I,exited:E,hasTransition:w}}function z2e(t){return lt("MuiModal",t)}Xe("MuiModal",["root","hidden","backdrop"]);const B2e=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],W2e=t=>{const{open:e,exited:n,classes:r}=t;return dt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},z2e,r)},H2e=fe("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>L({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),G2e=fe(J$,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),q2e=g.forwardRef(function(e,n){var r,s,i,o,a,l;const c=rt({name:"MuiModal",props:e}),{BackdropComponent:u=G2e,BackdropProps:h,className:f,closeAfterTransition:p=!1,children:m,container:v,component:E,components:y={},componentsProps:w={},disableAutoFocus:_=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:b=!1,disablePortal:C=!1,disableRestoreFocus:T=!1,disableScrollLock:I=!1,hideBackdrop:S=!1,keepMounted:R=!1,onBackdropClick:k,open:N,slotProps:M,slots:D}=c,j=pe(c,B2e),A=L({},c,{closeAfterTransition:p,disableAutoFocus:_,disableEnforceFocus:x,disableEscapeKeyDown:b,disablePortal:C,disableRestoreFocus:T,disableScrollLock:I,hideBackdrop:S,keepMounted:R}),{getRootProps:P,getBackdropProps:O,getTransitionProps:$,portalRef:F,isTopModal:G,exited:z,hasTransition:B}=U2e(L({},A,{rootRef:n})),U=L({},A,{exited:z}),V=W2e(U),q={};if(m.props.tabIndex===void 0&&(q.tabIndex="-1"),B){const{onEnter:ye,onExited:Ae}=$();q.onEnter=ye,q.onExited=Ae}const ce=(r=(s=D==null?void 0:D.root)!=null?s:y.Root)!=null?r:H2e,X=(i=(o=D==null?void 0:D.backdrop)!=null?o:y.Backdrop)!=null?i:u,Z=(a=M==null?void 0:M.root)!=null?a:w.root,ee=(l=M==null?void 0:M.backdrop)!=null?l:w.backdrop,se=Il({elementType:ce,externalSlotProps:Z,externalForwardedProps:j,getSlotProps:P,additionalProps:{ref:n,as:E},ownerState:U,className:Te(f,Z==null?void 0:Z.className,V==null?void 0:V.root,!U.open&&U.exited&&(V==null?void 0:V.hidden))}),ae=Il({elementType:X,externalSlotProps:ee,additionalProps:h,getSlotProps:ye=>O(L({},ye,{onClick:Ae=>{k&&k(Ae),ye!=null&&ye.onClick&&ye.onClick(Ae)}})),className:Te(ee==null?void 0:ee.className,h==null?void 0:h.className,V==null?void 0:V.backdrop),ownerState:U});return!R&&!N&&(!B||z)?null:d.jsx(Y$,{ref:F,container:v,disablePortal:C,children:d.jsxs(ce,L({},se,{children:[!S&&u?d.jsx(X,L({},ae)):null,d.jsx(j2e,{disableEnforceFocus:x,disableAutoFocus:_,disableRestoreFocus:T,isEnabled:G,open:N,children:g.cloneElement(m,q)})]}))})}),OT=q2e;function Y2e(t){return lt("MuiDialog",t)}const K2e=Xe("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),hx=K2e,Q2e=g.createContext({}),tF=Q2e,X2e=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],J2e=fe(J$,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),Z2e=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:s,fullScreen:i}=t,o={root:["root"],container:["container",`scroll${ue(n)}`],paper:["paper",`paperScroll${ue(n)}`,`paperWidth${ue(String(r))}`,s&&"paperFullWidth",i&&"paperFullScreen"]};return dt(o,Y2e,e)},ege=fe(OT,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),tge=fe("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${ue(n.scroll)}`]]}})(({ownerState:t})=>L({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),nge=fe(Oh,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${ue(n.scroll)}`],e[`paperWidth${ue(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>L({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${hx.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${hx.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${hx.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),rge=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiDialog"}),s=_t(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:h,disableEscapeKeyDown:f=!1,fullScreen:p=!1,fullWidth:m=!1,maxWidth:v="sm",onBackdropClick:E,onClick:y,onClose:w,open:_,PaperComponent:x=Oh,PaperProps:b={},scroll:C="paper",TransitionComponent:T=X$,transitionDuration:I=i,TransitionProps:S}=r,R=pe(r,X2e),k=L({},r,{disableEscapeKeyDown:f,fullScreen:p,fullWidth:m,maxWidth:v,scroll:C}),N=Z2e(k),M=g.useRef(),D=O=>{M.current=O.target===O.currentTarget},j=O=>{y&&y(O),M.current&&(M.current=null,E&&E(O),w&&w(O,"backdropClick"))},A=v_(a),P=g.useMemo(()=>({titleId:A}),[A]);return d.jsx(ege,L({className:Te(N.root,h),closeAfterTransition:!0,components:{Backdrop:J2e},componentsProps:{backdrop:L({transitionDuration:I,as:l},c)},disableEscapeKeyDown:f,onClose:w,open:_,ref:n,onClick:j,ownerState:k},R,{children:d.jsx(T,L({appear:!0,in:_,timeout:I,role:"presentation"},S,{children:d.jsx(tge,{className:Te(N.container),onMouseDown:D,ownerState:k,children:d.jsx(nge,L({as:x,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":A},b,{className:Te(N.paper,b.className),ownerState:k,children:d.jsx(tF.Provider,{value:P,children:u})}))})}))}))}),gs=rge;function sge(t){return lt("MuiDialogTitle",t)}Xe("MuiDialogTitle",["root"]);const ige=["className","id"],oge=t=>{const{classes:e}=t;return dt({root:["root"]},sge,e)},age=fe(ge,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),lge=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiDialogTitle"}),{className:s,id:i}=r,o=pe(r,ige),a=r,l=oge(a),{titleId:c=i}=g.useContext(tF);return d.jsx(age,L({component:"h2",className:Te(l.root,s),ownerState:a,ref:n,variant:"h6",id:i??c},o))}),cge=lge,uge=Xe("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),T6=uge,dge=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function hge(t,e,n){const r=e.getBoundingClientRect(),s=n&&n.getBoundingClientRect(),i=ks(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const c=i.getComputedStyle(e);o=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let a=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const c=o.split("(")[1].split(")")[0].split(",");a=parseInt(c[4],10),l=parseInt(c[5],10)}return t==="left"?s?`translateX(${s.right+a-r.left}px)`:`translateX(${i.innerWidth+a-r.left}px)`:t==="right"?s?`translateX(-${r.right-s.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:t==="up"?s?`translateY(${s.bottom+l-r.top}px)`:`translateY(${i.innerHeight+l-r.top}px)`:s?`translateY(-${r.top-s.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function fge(t){return typeof t=="function"?t():t}function g2(t,e,n){const r=fge(n),s=hge(t,e,r);s&&(e.style.webkitTransform=s,e.style.transform=s)}const pge=g.forwardRef(function(e,n){const r=_t(),s={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:c,direction:u="down",easing:h=s,in:f,onEnter:p,onEntered:m,onEntering:v,onExit:E,onExited:y,onExiting:w,style:_,timeout:x=i,TransitionComponent:b=ET}=e,C=pe(e,dge),T=g.useRef(null),I=An(l.ref,T,n),S=O=>$=>{O&&($===void 0?O(T.current):O(T.current,$))},R=S((O,$)=>{g2(u,O,c),IT(O),p&&p(O,$)}),k=S((O,$)=>{const F=Jc({timeout:x,style:_,easing:h},{mode:"enter"});O.style.webkitTransition=r.transitions.create("-webkit-transform",L({},F)),O.style.transition=r.transitions.create("transform",L({},F)),O.style.webkitTransform="none",O.style.transform="none",v&&v(O,$)}),N=S(m),M=S(w),D=S(O=>{const $=Jc({timeout:x,style:_,easing:h},{mode:"exit"});O.style.webkitTransition=r.transitions.create("-webkit-transform",$),O.style.transition=r.transitions.create("transform",$),g2(u,O,c),E&&E(O)}),j=S(O=>{O.style.webkitTransition="",O.style.transition="",y&&y(O)}),A=O=>{o&&o(T.current,O)},P=g.useCallback(()=>{T.current&&g2(u,T.current,c)},[u,c]);return g.useEffect(()=>{if(f||u==="down"||u==="right")return;const O=pT(()=>{T.current&&g2(u,T.current,c)}),$=ks(T.current);return $.addEventListener("resize",O),()=>{O.clear(),$.removeEventListener("resize",O)}},[u,f,c]),g.useEffect(()=>{f||P()},[f,P]),d.jsx(b,L({nodeRef:T,onEnter:R,onEntered:N,onEntering:k,onExit:D,onExited:j,onExiting:M,addEndListener:A,appear:a,in:f,timeout:x},C,{children:(O,$)=>g.cloneElement(l,L({ref:I,style:L({visibility:O==="exited"&&!f?"hidden":void 0},_,l.props.style)},$))}))}),nF=pge;function mge(t){return lt("MuiDrawer",t)}Xe("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const gge=["BackdropProps"],vge=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],rF=(t,e)=>{const{ownerState:n}=t;return[e.root,(n.variant==="permanent"||n.variant==="persistent")&&e.docked,e.modal]},yge=t=>{const{classes:e,anchor:n,variant:r}=t,s={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${ue(n)}`,r!=="temporary"&&`paperAnchorDocked${ue(n)}`]};return dt(s,mge,e)},_ge=fe(OT,{name:"MuiDrawer",slot:"Root",overridesResolver:rF})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),S6=fe("div",{shouldForwardProp:Kr,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:rF})({flex:"0 0 auto"}),wge=fe(Oh,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`paperAnchor${ue(n.anchor)}`],n.variant!=="temporary"&&e[`paperAnchorDocked${ue(n.anchor)}`]]}})(({theme:t,ownerState:e})=>L({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),sF={left:"right",right:"left",top:"down",bottom:"up"};function nc(t){return["left","right"].indexOf(t)!==-1}function Ff({direction:t},e){return t==="rtl"&&nc(e)?sF[e]:e}const xge=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiDrawer"}),s=_t(),i=__(),o={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:c,className:u,elevation:h=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:p}={},onClose:m,open:v=!1,PaperProps:E={},SlideProps:y,TransitionComponent:w=nF,transitionDuration:_=o,variant:x="temporary"}=r,b=pe(r.ModalProps,gge),C=pe(r,vge),T=g.useRef(!1);g.useEffect(()=>{T.current=!0},[]);const I=Ff({direction:i?"rtl":"ltr"},a),R=L({},r,{anchor:a,elevation:h,open:v,variant:x},C),k=yge(R),N=d.jsx(wge,L({elevation:x==="temporary"?h:0,square:!0},E,{className:Te(k.paper,E.className),ownerState:R,children:c}));if(x==="permanent")return d.jsx(S6,L({className:Te(k.root,k.docked,u),ownerState:R,ref:n},C,{children:N}));const M=d.jsx(w,L({in:v,direction:sF[I],timeout:_,appear:T.current},y,{children:N}));return x==="persistent"?d.jsx(S6,L({className:Te(k.root,k.docked,u),ownerState:R,ref:n},C,{children:M})):d.jsx(_ge,L({BackdropProps:L({},l,p,{transitionDuration:_}),className:Te(k.root,k.modal,u),open:v,ownerState:R,onClose:m,hideBackdrop:f,ref:n},C,b,{children:M}))}),Ege=xge;function Cge(t){return lt("MuiFab",t)}const bge=Xe("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),k6=bge,Ige=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],Tge=t=>{const{color:e,variant:n,classes:r,size:s}=t,i={root:["root",n,`size${ue(s)}`,e==="inherit"?"colorInherit":e]},o=dt(i,Cge,r);return L({},r,o)},Sge=fe(P_,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>Kr(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${ue(n.size)}`],n.color==="inherit"&&e.colorInherit,e[ue(n.size)],e[n.color]]}})(({theme:t,ownerState:e})=>{var n,r;return L({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${k6.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]}},e.size==="small"&&{width:40,height:40},e.size==="medium"&&{width:48,height:48},e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},e.color==="inherit"&&{color:"inherit"})},({theme:t,ownerState:e})=>L({},e.color!=="inherit"&&e.color!=="default"&&(t.vars||t).palette[e.color]!=null&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}}),({theme:t})=>({[`&.${k6.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}})),kge=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFab"}),{children:s,className:i,color:o="default",component:a="button",disabled:l=!1,disableFocusRipple:c=!1,focusVisibleClassName:u,size:h="large",variant:f="circular"}=r,p=pe(r,Ige),m=L({},r,{color:o,component:a,disabled:l,disableFocusRipple:c,size:h,variant:f}),v=Tge(m);return d.jsx(Sge,L({className:Te(v.root,i),component:a,disabled:l,focusRipple:!c,focusVisibleClassName:Te(v.focusVisible,u),ownerState:m,ref:n},p,{classes:v,children:s}))}),Rge=kge,Age=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Pge=t=>{const{classes:e,disableUnderline:n}=t,s=dt({root:["root",!n&&"underline"],input:["input"]},$me,e);return L({},e,s)},Nge=fe(M_,{shouldForwardProp:t=>Kr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...D_(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",s=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return L({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i}},[`&.${Bl.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i},[`&.${Bl.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Bl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Bl.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Bl.disabled}, .${Bl.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Bl.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&L({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),Dge=fe(O_,{name:"MuiFilledInput",slot:"Input",overridesResolver:L_})(({theme:t,ownerState:e})=>L({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),iF=g.forwardRef(function(e,n){var r,s,i,o;const a=rt({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:h="input",multiline:f=!1,slotProps:p,slots:m={},type:v="text"}=a,E=pe(a,Age),y=L({},a,{fullWidth:u,inputComponent:h,multiline:f,type:v}),w=Pge(a),_={root:{ownerState:y},input:{ownerState:y}},x=p??c?Hr(_,p??c):_,b=(r=(s=m.root)!=null?s:l.Root)!=null?r:Nge,C=(i=(o=m.input)!=null?o:l.Input)!=null?i:Dge;return d.jsx(MT,L({slots:{root:b,input:C},componentsProps:x,fullWidth:u,inputComponent:h,multiline:f,ref:n,type:v},E,{classes:w}))});iF.muiName="Input";const oF=iF;function Lge(t){return lt("MuiFormControl",t)}Xe("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Mge=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Oge=t=>{const{classes:e,margin:n,fullWidth:r}=t,s={root:["root",n!=="none"&&`margin${ue(n)}`,r&&"fullWidth"]};return dt(s,Lge,e)},jge=fe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>L({},e.root,e[`margin${ue(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>L({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),$ge=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormControl"}),{children:s,className:i,color:o="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:h=!1,hiddenLabel:f=!1,margin:p="none",required:m=!1,size:v="medium",variant:E="outlined"}=r,y=pe(r,Mge),w=L({},r,{color:o,component:a,disabled:l,error:c,fullWidth:h,hiddenLabel:f,margin:p,required:m,size:v,variant:E}),_=Oge(w),[x,b]=g.useState(()=>{let M=!1;return s&&g.Children.forEach(s,D=>{if(!ax(D,["Input","Select"]))return;const j=ax(D,["Select"])?D.props.input:D;j&&Sme(j.props)&&(M=!0)}),M}),[C,T]=g.useState(()=>{let M=!1;return s&&g.Children.forEach(s,D=>{ax(D,["Input","Select"])&&(V1(D.props,!0)||V1(D.props.inputProps,!0))&&(M=!0)}),M}),[I,S]=g.useState(!1);l&&I&&S(!1);const R=u!==void 0&&!l?u:I;let k;const N=g.useMemo(()=>({adornedStart:x,setAdornedStart:b,color:o,disabled:l,error:c,filled:C,focused:R,fullWidth:h,hiddenLabel:f,size:v,onBlur:()=>{S(!1)},onEmpty:()=>{T(!1)},onFilled:()=>{T(!0)},onFocus:()=>{S(!0)},registerEffect:k,required:m,variant:E}),[x,o,l,c,C,R,h,f,k,m,v,E]);return d.jsx(LT.Provider,{value:N,children:d.jsx(jge,L({as:a,ownerState:w,className:Te(_.root,i),ref:n},y,{children:s}))})}),Fge=$ge,Vge=Dhe({createStyledComponent:fe("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>rt({props:t,name:"MuiStack"})}),Tr=Vge;function Uge(t){return lt("MuiFormHelperText",t)}const zge=Xe("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),R6=zge;var A6;const Bge=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Wge=t=>{const{classes:e,contained:n,size:r,disabled:s,error:i,filled:o,focused:a,required:l}=t,c={root:["root",s&&"disabled",i&&"error",r&&`size${ue(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return dt(c,Uge,e)},Hge=fe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${ue(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>L({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${R6.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${R6.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),Gge=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormHelperText"}),{children:s,className:i,component:o="p"}=r,a=pe(r,Bge),l=$h(),c=jh({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=L({},r,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=Wge(u);return d.jsx(Hge,L({as:o,ownerState:u,className:Te(h.root,i),ref:n},a,{children:s===" "?A6||(A6=d.jsx("span",{className:"notranslate",children:"​"})):s}))}),qge=Gge;function Yge(t){return lt("MuiFormLabel",t)}const Kge=Xe("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),f0=Kge,Qge=["children","className","color","component","disabled","error","filled","focused","required"],Xge=t=>{const{classes:e,color:n,focused:r,disabled:s,error:i,filled:o,required:a}=t,l={root:["root",`color${ue(n)}`,s&&"disabled",i&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",i&&"error"]};return dt(l,Yge,e)},Jge=fe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>L({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>L({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${f0.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${f0.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${f0.error}`]:{color:(t.vars||t).palette.error.main}})),Zge=fe("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${f0.error}`]:{color:(t.vars||t).palette.error.main}})),e1e=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormLabel"}),{children:s,className:i,component:o="label"}=r,a=pe(r,Qge),l=$h(),c=jh({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=L({},r,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=Xge(u);return d.jsxs(Jge,L({as:o,ownerState:u,className:Te(h.root,i),ref:n},a,{children:[s,c.required&&d.jsxs(Zge,{ownerState:u,"aria-hidden":!0,className:h.asterisk,children:[" ","*"]})]}))}),t1e=e1e,n1e=g.createContext(),P6=n1e;function r1e(t){return lt("MuiGrid",t)}const s1e=[0,1,2,3,4,5,6,7,8,9,10],i1e=["column-reverse","column","row-reverse","row"],o1e=["nowrap","wrap-reverse","wrap"],_f=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Ep=Xe("MuiGrid",["root","container","item","zeroMinWidth",...s1e.map(t=>`spacing-xs-${t}`),...i1e.map(t=>`direction-xs-${t}`),...o1e.map(t=>`wrap-xs-${t}`),..._f.map(t=>`grid-xs-${t}`),..._f.map(t=>`grid-sm-${t}`),..._f.map(t=>`grid-md-${t}`),..._f.map(t=>`grid-lg-${t}`),..._f.map(t=>`grid-xl-${t}`)]),a1e=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function bd(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function l1e({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,s)=>{let i={};if(e[s]&&(n=e[s]),!n)return r;if(n===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=bc({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[s]:o;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const u=t.spacing(e.columnSpacing);if(u!=="0px"){const h=`calc(${l} + ${bd(u)})`;c={flexBasis:h,maxWidth:h}}}i=L({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[s]===0?Object.assign(r,i):r[t.breakpoints.up(s)]=i,r},{})}function c1e({theme:t,ownerState:e}){const n=bc({values:e.direction,breakpoints:t.breakpoints.values});return ms({theme:t},n,r=>{const s={flexDirection:r};return r.indexOf("column")===0&&(s[`& > .${Ep.item}`]={maxWidth:"none"}),s})}function aF({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(s=>{n===""&&e[s]!==0&&(n=s)});const r=Object.keys(t).sort((s,i)=>t[s]-t[i]);return r.slice(0,r.indexOf(n))}function u1e({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let s={};if(n&&r!==0){const i=bc({values:r,breakpoints:t.breakpoints.values});let o;typeof i=="object"&&(o=aF({breakpoints:t.breakpoints.values,values:i})),s=ms({theme:t},i,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{marginTop:`-${bd(u)}`,[`& > .${Ep.item}`]:{paddingTop:bd(u)}}:(c=o)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${Ep.item}`]:{paddingTop:0}}})}return s}function d1e({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let s={};if(n&&r!==0){const i=bc({values:r,breakpoints:t.breakpoints.values});let o;typeof i=="object"&&(o=aF({breakpoints:t.breakpoints.values,values:i})),s=ms({theme:t},i,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{width:`calc(100% + ${bd(u)})`,marginLeft:`-${bd(u)}`,[`& > .${Ep.item}`]:{paddingLeft:bd(u)}}:(c=o)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Ep.item}`]:{paddingLeft:0}}})}return s}function h1e(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(s=>{const i=t[s];Number(i)>0&&r.push(n[`spacing-${s}-${String(i)}`])}),r}const f1e=fe("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:s,item:i,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=h1e(o,c,e));const h=[];return c.forEach(f=>{const p=n[f];p&&h.push(e[`grid-${f}-${String(p)}`])}),[e.root,r&&e.container,i&&e.item,l&&e.zeroMinWidth,...u,s!=="row"&&e[`direction-xs-${String(s)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...h]}})(({ownerState:t})=>L({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),c1e,u1e,d1e,l1e);function p1e(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const s=t[r];if(Number(s)>0){const i=`spacing-${r}-${String(s)}`;n.push(i)}}),n}const m1e=t=>{const{classes:e,container:n,direction:r,item:s,spacing:i,wrap:o,zeroMinWidth:a,breakpoints:l}=t;let c=[];n&&(c=p1e(i,l));const u=[];l.forEach(f=>{const p=t[f];p&&u.push(`grid-${f}-${String(p)}`)});const h={root:["root",n&&"container",s&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...u]};return dt(h,r1e,e)},g1e=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiGrid"}),{breakpoints:s}=_t(),i=vm(r),{className:o,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:h="row",item:f=!1,rowSpacing:p,spacing:m=0,wrap:v="wrap",zeroMinWidth:E=!1}=i,y=pe(i,a1e),w=p||m,_=l||m,x=g.useContext(P6),b=u?a||12:x,C={},T=L({},y);s.keys.forEach(R=>{y[R]!=null&&(C[R]=y[R],delete T[R])});const I=L({},i,{columns:b,container:u,direction:h,item:f,rowSpacing:w,columnSpacing:_,wrap:v,zeroMinWidth:E,spacing:m},C,{breakpoints:s.keys}),S=m1e(I);return d.jsx(P6.Provider,{value:b,children:d.jsx(f1e,L({ownerState:I,className:Te(S.root,o),as:c,ref:n},T))})}),Id=g1e,v1e=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function iC(t){return`scale(${t}, ${t**2})`}const y1e={entering:{opacity:1,transform:iC(1)},entered:{opacity:1,transform:"none"}},fx=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),lF=g.forwardRef(function(e,n){const{addEndListener:r,appear:s=!0,children:i,easing:o,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:h,onExited:f,onExiting:p,style:m,timeout:v="auto",TransitionComponent:E=ET}=e,y=pe(e,v1e),w=hc(),_=g.useRef(),x=_t(),b=g.useRef(null),C=An(b,i.ref,n),T=j=>A=>{if(j){const P=b.current;A===void 0?j(P):j(P,A)}},I=T(u),S=T((j,A)=>{IT(j);const{duration:P,delay:O,easing:$}=Jc({style:m,timeout:v,easing:o},{mode:"enter"});let F;v==="auto"?(F=x.transitions.getAutoHeightDuration(j.clientHeight),_.current=F):F=P,j.style.transition=[x.transitions.create("opacity",{duration:F,delay:O}),x.transitions.create("transform",{duration:fx?F:F*.666,delay:O,easing:$})].join(","),l&&l(j,A)}),R=T(c),k=T(p),N=T(j=>{const{duration:A,delay:P,easing:O}=Jc({style:m,timeout:v,easing:o},{mode:"exit"});let $;v==="auto"?($=x.transitions.getAutoHeightDuration(j.clientHeight),_.current=$):$=A,j.style.transition=[x.transitions.create("opacity",{duration:$,delay:P}),x.transitions.create("transform",{duration:fx?$:$*.666,delay:fx?P:P||$*.333,easing:O})].join(","),j.style.opacity=0,j.style.transform=iC(.75),h&&h(j)}),M=T(f),D=j=>{v==="auto"&&w.start(_.current||0,j),r&&r(b.current,j)};return d.jsx(E,L({appear:s,in:a,nodeRef:b,onEnter:S,onEntered:R,onEntering:I,onExit:N,onExited:M,onExiting:k,addEndListener:D,timeout:v==="auto"?null:v},y,{children:(j,A)=>g.cloneElement(i,L({style:L({opacity:0,transform:iC(.75),visibility:j==="exited"&&!a?"hidden":void 0},y1e[j],m,i.props.style),ref:C},A))}))});lF.muiSupportAuto=!0;const U1=lF,_1e=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],w1e=t=>{const{classes:e,disableUnderline:n}=t,s=dt({root:["root",!n&&"underline"],input:["input"]},Lme,e);return L({},e,s)},x1e=fe(M_,{shouldForwardProp:t=>Kr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...D_(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),L({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${yf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${yf.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${yf.disabled}, .${yf.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${yf.disabled}:before`]:{borderBottomStyle:"dotted"}})}),E1e=fe(O_,{name:"MuiInput",slot:"Input",overridesResolver:L_})({}),cF=g.forwardRef(function(e,n){var r,s,i,o;const a=rt({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:h=!1,inputComponent:f="input",multiline:p=!1,slotProps:m,slots:v={},type:E="text"}=a,y=pe(a,_1e),w=w1e(a),x={root:{ownerState:{disableUnderline:l}}},b=m??u?Hr(m??u,x):x,C=(r=(s=v.root)!=null?s:c.Root)!=null?r:x1e,T=(i=(o=v.input)!=null?o:c.Input)!=null?i:E1e;return d.jsx(MT,L({slots:{root:C,input:T},slotProps:b,fullWidth:h,inputComponent:f,multiline:p,ref:n,type:E},y,{classes:w}))});cF.muiName="Input";const uF=cF;function C1e(t){return lt("MuiInputLabel",t)}Xe("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const b1e=["disableAnimation","margin","shrink","variant","className"],I1e=t=>{const{classes:e,formControl:n,size:r,shrink:s,disableAnimation:i,variant:o,required:a}=t,l={root:["root",n&&"formControl",!i&&"animated",s&&"shrink",r&&r!=="normal"&&`size${ue(r)}`,o],asterisk:[a&&"asterisk"]},c=dt(l,C1e,e);return L({},e,c)},T1e=fe(t1e,{shouldForwardProp:t=>Kr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${f0.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>L({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&L({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&L({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&L({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),S1e=g.forwardRef(function(e,n){const r=rt({name:"MuiInputLabel",props:e}),{disableAnimation:s=!1,shrink:i,className:o}=r,a=pe(r,b1e),l=$h();let c=i;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=jh({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),h=L({},r,{disableAnimation:s,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),f=I1e(h);return d.jsx(T1e,L({"data-shrink":c,ownerState:h,ref:n,className:Te(f.root,o)},a,{classes:f}))}),k1e=S1e;function R1e(t){return lt("MuiLinearProgress",t)}Xe("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const A1e=["className","color","value","valueBuffer","variant"];let Fh=t=>t,N6,D6,L6,M6,O6,j6;const oC=4,P1e=Vi(N6||(N6=Fh`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),N1e=Vi(D6||(D6=Fh`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),D1e=Vi(L6||(L6=Fh`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),L1e=t=>{const{classes:e,variant:n,color:r}=t,s={root:["root",`color${ue(r)}`,n],dashed:["dashed",`dashedColor${ue(r)}`],bar1:["bar",`barColor${ue(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${ue(r)}`,n==="buffer"&&`color${ue(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return dt(s,R1e,e)},jT=(t,e)=>e==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?b$(t.palette[e].main,.62):C$(t.palette[e].main,.5),M1e=fe("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${ue(n.color)}`],e[n.variant]]}})(({ownerState:t,theme:e})=>L({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:jT(e,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),O1e=fe("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${ue(n.color)}`]]}})(({ownerState:t,theme:e})=>{const n=jT(e,t.color);return L({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},ca(M6||(M6=Fh`
    animation: ${0} 3s infinite linear;
  `),D1e)),j1e=fe("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${ue(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:t,theme:e})=>L({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${oC}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${oC}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&ca(O6||(O6=Fh`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),P1e)),$1e=fe("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${ue(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:t,theme:e})=>L({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:jT(e,t.color),transition:`transform .${oC}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&ca(j6||(j6=Fh`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),N1e)),F1e=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiLinearProgress"}),{className:s,color:i="primary",value:o,valueBuffer:a,variant:l="indeterminate"}=r,c=pe(r,A1e),u=L({},r,{color:i,variant:l}),h=L1e(u),f=__(),p={},m={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&o!==void 0){p["aria-valuenow"]=Math.round(o),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let v=o-100;f&&(v=-v),m.bar1.transform=`translateX(${v}%)`}if(l==="buffer"&&a!==void 0){let v=(a||0)-100;f&&(v=-v),m.bar2.transform=`translateX(${v}%)`}return d.jsxs(M1e,L({className:Te(h.root,s),ownerState:u,role:"progressbar"},p,{ref:n},c,{children:[l==="buffer"?d.jsx(O1e,{className:h.dashed,ownerState:u}):null,d.jsx(j1e,{className:h.bar1,ownerState:u,style:m.bar1}),l==="determinate"?null:d.jsx($1e,{className:h.bar2,ownerState:u,style:m.bar2})]}))}),V1e=F1e,U1e=g.createContext({}),aC=U1e;function z1e(t){return lt("MuiList",t)}Xe("MuiList",["root","padding","dense","subheader"]);const B1e=["children","className","component","dense","disablePadding","subheader"],W1e=t=>{const{classes:e,disablePadding:n,dense:r,subheader:s}=t;return dt({root:["root",!n&&"padding",r&&"dense",s&&"subheader"]},z1e,e)},H1e=fe("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>L({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),G1e=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiList"}),{children:s,className:i,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=pe(r,B1e),h=g.useMemo(()=>({dense:a}),[a]),f=L({},r,{component:o,dense:a,disablePadding:l}),p=W1e(f);return d.jsx(aC.Provider,{value:h,children:d.jsxs(H1e,L({as:o,className:Te(p.root,i),ref:n,ownerState:f},u,{children:[c,s]}))})}),q1e=G1e,Y1e=Xe("MuiListItemIcon",["root","alignItemsFlexStart"]),$6=Y1e,K1e=Xe("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),F6=K1e,Q1e=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function px(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function V6(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function dF(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function wf(t,e,n,r,s,i){let o=!1,a=s(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!dF(a,i)||l)a=s(t,a,n);else return a.focus(),!0}return!1}const X1e=g.forwardRef(function(e,n){const{actions:r,autoFocus:s=!1,autoFocusItem:i=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:h="selectedMenu"}=e,f=pe(e,Q1e),p=g.useRef(null),m=g.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ns(()=>{s&&p.current.focus()},[s]),g.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(_,{direction:x})=>{const b=!p.current.style.width;if(_.clientHeight<p.current.clientHeight&&b){const C=`${m$(xn(_))}px`;p.current.style[x==="rtl"?"paddingLeft":"paddingRight"]=C,p.current.style.width=`calc(100% + ${C})`}return p.current}}),[]);const v=_=>{const x=p.current,b=_.key,C=xn(x).activeElement;if(b==="ArrowDown")_.preventDefault(),wf(x,C,c,l,px);else if(b==="ArrowUp")_.preventDefault(),wf(x,C,c,l,V6);else if(b==="Home")_.preventDefault(),wf(x,null,c,l,px);else if(b==="End")_.preventDefault(),wf(x,null,c,l,V6);else if(b.length===1){const T=m.current,I=b.toLowerCase(),S=performance.now();T.keys.length>0&&(S-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&I!==T.keys[0]&&(T.repeating=!1)),T.lastTime=S,T.keys.push(I);const R=C&&!T.repeating&&dF(C,T);T.previousKeyMatched&&(R||wf(x,C,!1,l,px,T))?_.preventDefault():T.previousKeyMatched=!1}u&&u(_)},E=An(p,n);let y=-1;g.Children.forEach(o,(_,x)=>{if(!g.isValidElement(_)){y===x&&(y+=1,y>=o.length&&(y=-1));return}_.props.disabled||(h==="selectedMenu"&&_.props.selected||y===-1)&&(y=x),y===x&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(y+=1,y>=o.length&&(y=-1))});const w=g.Children.map(o,(_,x)=>{if(x===y){const b={};return i&&(b.autoFocus=!0),_.props.tabIndex===void 0&&h==="selectedMenu"&&(b.tabIndex=0),g.cloneElement(_,b)}return _});return d.jsx(q1e,L({role:"menu",ref:E,className:a,onKeyDown:v,tabIndex:s?0:-1},f,{children:w}))}),J1e=X1e;function Z1e(t){return lt("MuiPopover",t)}Xe("MuiPopover",["root","paper"]);const eve=["onEntering"],tve=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],nve=["slotProps"];function U6(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function z6(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function B6(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function mx(t){return typeof t=="function"?t():t}const rve=t=>{const{classes:e}=t;return dt({root:["root"],paper:["paper"]},Z1e,e)},sve=fe(OT,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),hF=fe(Oh,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),ive=g.forwardRef(function(e,n){var r,s,i;const o=rt({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:h="anchorEl",children:f,className:p,container:m,elevation:v=8,marginThreshold:E=16,open:y,PaperProps:w={},slots:_,slotProps:x,transformOrigin:b={vertical:"top",horizontal:"left"},TransitionComponent:C=U1,transitionDuration:T="auto",TransitionProps:{onEntering:I}={},disableScrollLock:S=!1}=o,R=pe(o.TransitionProps,eve),k=pe(o,tve),N=(r=x==null?void 0:x.paper)!=null?r:w,M=g.useRef(),D=An(M,N.ref),j=L({},o,{anchorOrigin:c,anchorReference:h,elevation:v,marginThreshold:E,externalPaperSlotProps:N,transformOrigin:b,TransitionComponent:C,transitionDuration:T,TransitionProps:R}),A=rve(j),P=g.useCallback(()=>{if(h==="anchorPosition")return u;const ye=mx(l),_e=(ye&&ye.nodeType===1?ye:xn(M.current).body).getBoundingClientRect();return{top:_e.top+U6(_e,c.vertical),left:_e.left+z6(_e,c.horizontal)}},[l,c.horizontal,c.vertical,u,h]),O=g.useCallback(ye=>({vertical:U6(ye,b.vertical),horizontal:z6(ye,b.horizontal)}),[b.horizontal,b.vertical]),$=g.useCallback(ye=>{const Ae={width:ye.offsetWidth,height:ye.offsetHeight},_e=O(Ae);if(h==="none")return{top:null,left:null,transformOrigin:B6(_e)};const Ye=P();let He=Ye.top-_e.vertical,Ue=Ye.left-_e.horizontal;const pt=He+Ae.height,Ke=Ue+Ae.width,Le=ks(mx(l)),bt=Le.innerHeight-E,Be=Le.innerWidth-E;if(E!==null&&He<E){const Re=He-E;He-=Re,_e.vertical+=Re}else if(E!==null&&pt>bt){const Re=pt-bt;He-=Re,_e.vertical+=Re}if(E!==null&&Ue<E){const Re=Ue-E;Ue-=Re,_e.horizontal+=Re}else if(Ke>Be){const Re=Ke-Be;Ue-=Re,_e.horizontal+=Re}return{top:`${Math.round(He)}px`,left:`${Math.round(Ue)}px`,transformOrigin:B6(_e)}},[l,h,P,O,E]),[F,G]=g.useState(y),z=g.useCallback(()=>{const ye=M.current;if(!ye)return;const Ae=$(ye);Ae.top!==null&&(ye.style.top=Ae.top),Ae.left!==null&&(ye.style.left=Ae.left),ye.style.transformOrigin=Ae.transformOrigin,G(!0)},[$]);g.useEffect(()=>(S&&window.addEventListener("scroll",z),()=>window.removeEventListener("scroll",z)),[l,S,z]);const B=(ye,Ae)=>{I&&I(ye,Ae),z()},U=()=>{G(!1)};g.useEffect(()=>{y&&z()}),g.useImperativeHandle(a,()=>y?{updatePosition:()=>{z()}}:null,[y,z]),g.useEffect(()=>{if(!y)return;const ye=pT(()=>{z()}),Ae=ks(l);return Ae.addEventListener("resize",ye),()=>{ye.clear(),Ae.removeEventListener("resize",ye)}},[l,y,z]);let V=T;T==="auto"&&!C.muiSupportAuto&&(V=void 0);const q=m||(l?xn(mx(l)).body:void 0),ce=(s=_==null?void 0:_.root)!=null?s:sve,X=(i=_==null?void 0:_.paper)!=null?i:hF,Z=Il({elementType:X,externalSlotProps:L({},N,{style:F?N.style:L({},N.style,{opacity:0})}),additionalProps:{elevation:v,ref:D},ownerState:j,className:Te(A.paper,N==null?void 0:N.className)}),ee=Il({elementType:ce,externalSlotProps:(x==null?void 0:x.root)||{},externalForwardedProps:k,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:q,open:y},ownerState:j,className:Te(A.root,p)}),{slotProps:se}=ee,ae=pe(ee,nve);return d.jsx(ce,L({},ae,!M1(ce)&&{slotProps:se,disableScrollLock:S},{children:d.jsx(C,L({appear:!0,in:y,onEntering:B,onExited:U,timeout:V},R,{children:d.jsx(X,L({},Z,{children:f}))}))}))}),ove=ive;function ave(t){return lt("MuiMenu",t)}Xe("MuiMenu",["root","paper","list"]);const lve=["onEntering"],cve=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],uve={vertical:"top",horizontal:"right"},dve={vertical:"top",horizontal:"left"},hve=t=>{const{classes:e}=t;return dt({root:["root"],paper:["paper"],list:["list"]},ave,e)},fve=fe(ove,{shouldForwardProp:t=>Kr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),pve=fe(hF,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),mve=fe(J1e,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),gve=g.forwardRef(function(e,n){var r,s;const i=rt({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:h,open:f,PaperProps:p={},PopoverClasses:m,transitionDuration:v="auto",TransitionProps:{onEntering:E}={},variant:y="selectedMenu",slots:w={},slotProps:_={}}=i,x=pe(i.TransitionProps,lve),b=pe(i,cve),C=__(),T=L({},i,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:u,onEntering:E,PaperProps:p,transitionDuration:v,TransitionProps:x,variant:y}),I=hve(T),S=o&&!c&&f,R=g.useRef(null),k=(O,$)=>{R.current&&R.current.adjustStyleForScrollbar(O,{direction:C?"rtl":"ltr"}),E&&E(O,$)},N=O=>{O.key==="Tab"&&(O.preventDefault(),h&&h(O,"tabKeyDown"))};let M=-1;g.Children.map(a,(O,$)=>{g.isValidElement(O)&&(O.props.disabled||(y==="selectedMenu"&&O.props.selected||M===-1)&&(M=$))});const D=(r=w.paper)!=null?r:pve,j=(s=_.paper)!=null?s:p,A=Il({elementType:w.root,externalSlotProps:_.root,ownerState:T,className:[I.root,l]}),P=Il({elementType:D,externalSlotProps:j,ownerState:T,className:I.paper});return d.jsx(fve,L({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?uve:dve,slots:{paper:D,root:w.root},slotProps:{root:A,paper:P},open:f,ref:n,transitionDuration:v,TransitionProps:L({onEntering:k},x),ownerState:T},b,{classes:m,children:d.jsx(mve,L({onKeyDown:N,actions:R,autoFocus:o&&(M===-1||c),autoFocusItem:S,variant:y},u,{className:Te(I.list,u.className),children:a}))}))}),vve=gve;function yve(t){return lt("MuiMenuItem",t)}const _ve=Xe("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),xf=_ve,wve=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],xve=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Eve=t=>{const{disabled:e,dense:n,divider:r,disableGutters:s,selected:i,classes:o}=t,l=dt({root:["root",n&&"dense",e&&"disabled",!s&&"gutters",r&&"divider",i&&"selected"]},yve,o);return L({},o,l)},Cve=fe(P_,{shouldForwardProp:t=>Kr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:xve})(({theme:t,ownerState:e})=>L({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${xf.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:os(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${xf.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:os(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${xf.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:os(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:os(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${xf.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${xf.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${T6.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${T6.inset}`]:{marginLeft:52},[`& .${F6.root}`]:{marginTop:0,marginBottom:0},[`& .${F6.inset}`]:{paddingLeft:36},[`& .${$6.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&L({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${$6.root} svg`]:{fontSize:"1.25rem"}}))),bve=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiMenuItem"}),{autoFocus:s=!1,component:i="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:h,className:f}=r,p=pe(r,wve),m=g.useContext(aC),v=g.useMemo(()=>({dense:o||m.dense||!1,disableGutters:l}),[m.dense,o,l]),E=g.useRef(null);Ns(()=>{s&&E.current&&E.current.focus()},[s]);const y=L({},r,{dense:v.dense,divider:a,disableGutters:l}),w=Eve(r),_=An(E,n);let x;return r.disabled||(x=h!==void 0?h:-1),d.jsx(aC.Provider,{value:v,children:d.jsx(Cve,L({ref:_,role:u,tabIndex:x,component:i,focusVisibleClassName:Te(w.focusVisible,c),className:Te(w.root,f)},p,{ownerState:y,classes:w}))})}),Ive=bve;function Tve(t){return lt("MuiNativeSelect",t)}const Sve=Xe("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),$T=Sve,kve=["className","disabled","error","IconComponent","inputRef","variant"],Rve=t=>{const{classes:e,variant:n,disabled:r,multiple:s,open:i,error:o}=t,a={select:["select",n,r&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${ue(n)}`,i&&"iconOpen",r&&"disabled"]};return dt(a,Tve,e)},fF=({ownerState:t,theme:e})=>L({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":L({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${$T.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),Ave=fe("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Kr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${$T.multiple}`]:e.multiple}]}})(fF),pF=({ownerState:t,theme:e})=>L({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${$T.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),Pve=fe("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ue(n.variant)}`],n.open&&e.iconOpen]}})(pF),Nve=g.forwardRef(function(e,n){const{className:r,disabled:s,error:i,IconComponent:o,inputRef:a,variant:l="standard"}=e,c=pe(e,kve),u=L({},e,{disabled:s,variant:l,error:i}),h=Rve(u);return d.jsxs(g.Fragment,{children:[d.jsx(Ave,L({ownerState:u,className:Te(h.select,r),disabled:s,ref:a||n},c)),e.multiple?null:d.jsx(Pve,{as:o,ownerState:u,className:h.icon})]})}),Dve=Nve;function Lve(t){const{children:e,defer:n=!1,fallback:r=null}=t,[s,i]=g.useState(!1);return Ns(()=>{n||i(!0)},[n]),g.useEffect(()=>{n&&i(!0)},[n]),d.jsx(g.Fragment,{children:s?e:r})}var W6;const Mve=["children","classes","className","label","notched"],Ove=fe("fieldset",{shouldForwardProp:Kr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),jve=fe("legend",{shouldForwardProp:Kr})(({ownerState:t,theme:e})=>L({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&L({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function $ve(t){const{className:e,label:n,notched:r}=t,s=pe(t,Mve),i=n!=null&&n!=="",o=L({},t,{notched:r,withLabel:i});return d.jsx(Ove,L({"aria-hidden":!0,className:e,ownerState:o},s,{children:d.jsx(jve,{ownerState:o,children:i?d.jsx("span",{children:n}):W6||(W6=d.jsx("span",{className:"notranslate",children:"​"}))})}))}const Fve=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Vve=t=>{const{classes:e}=t,r=dt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Ome,e);return L({},e,r)},Uve=fe(M_,{shouldForwardProp:t=>Kr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:D_})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return L({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Sa.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Sa.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Sa.focused} .${Sa.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Sa.error} .${Sa.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Sa.disabled} .${Sa.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&L({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),zve=fe($ve,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),Bve=fe(O_,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:L_})(({theme:t,ownerState:e})=>L({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),mF=g.forwardRef(function(e,n){var r,s,i,o,a;const l=rt({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:h="input",label:f,multiline:p=!1,notched:m,slots:v={},type:E="text"}=l,y=pe(l,Fve),w=Vve(l),_=$h(),x=jh({props:l,muiFormControl:_,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),b=L({},l,{color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:_,fullWidth:u,hiddenLabel:x.hiddenLabel,multiline:p,size:x.size,type:E}),C=(r=(s=v.root)!=null?s:c.Root)!=null?r:Uve,T=(i=(o=v.input)!=null?o:c.Input)!=null?i:Bve;return d.jsx(MT,L({slots:{root:C,input:T},renderSuffix:I=>d.jsx(zve,{ownerState:b,className:w.notchedOutline,label:f!=null&&f!==""&&x.required?a||(a=d.jsxs(g.Fragment,{children:[f," ","*"]})):f,notched:typeof m<"u"?m:!!(I.startAdornment||I.filled||I.focused)}),fullWidth:u,inputComponent:h,multiline:p,ref:n,type:E},y,{classes:L({},w,{notchedOutline:null})}))});mF.muiName="Input";const gF=mF;function Wve(t){return lt("MuiSelect",t)}const Hve=Xe("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Ef=Hve;var H6;const Gve=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],qve=fe("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Ef.select}`]:e.select},{[`&.${Ef.select}`]:e[n.variant]},{[`&.${Ef.error}`]:e.error},{[`&.${Ef.multiple}`]:e.multiple}]}})(fF,{[`&.${Ef.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Yve=fe("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ue(n.variant)}`],n.open&&e.iconOpen]}})(pF),Kve=fe("input",{shouldForwardProp:t=>N$(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function G6(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Qve(t){return t==null||typeof t=="string"&&!t.trim()}const Xve=t=>{const{classes:e,variant:n,disabled:r,multiple:s,open:i,error:o}=t,a={select:["select",n,r&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${ue(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return dt(a,Wve,e)},Jve=g.forwardRef(function(e,n){var r;const{"aria-describedby":s,"aria-label":i,autoFocus:o,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:h,disabled:f,displayEmpty:p,error:m=!1,IconComponent:v,inputRef:E,labelId:y,MenuProps:w={},multiple:_,name:x,onBlur:b,onChange:C,onClose:T,onFocus:I,onOpen:S,open:R,readOnly:k,renderValue:N,SelectDisplayProps:M={},tabIndex:D,value:j,variant:A="standard"}=e,P=pe(e,Gve),[O,$]=QE({controlled:j,default:h,name:"Select"}),[F,G]=QE({controlled:R,default:u,name:"Select"}),z=g.useRef(null),B=g.useRef(null),[U,V]=g.useState(null),{current:q}=g.useRef(R!=null),[ce,X]=g.useState(),Z=An(n,E),ee=g.useCallback(ve=>{B.current=ve,ve&&V(ve)},[]),se=U==null?void 0:U.parentNode;g.useImperativeHandle(Z,()=>({focus:()=>{B.current.focus()},node:z.current,value:O}),[O]),g.useEffect(()=>{u&&F&&U&&!q&&(X(a?null:se.clientWidth),B.current.focus())},[U,a]),g.useEffect(()=>{o&&B.current.focus()},[o]),g.useEffect(()=>{if(!y)return;const ve=xn(B.current).getElementById(y);if(ve){const Je=()=>{getSelection().isCollapsed&&B.current.focus()};return ve.addEventListener("click",Je),()=>{ve.removeEventListener("click",Je)}}},[y]);const ae=(ve,Je)=>{ve?S&&S(Je):T&&T(Je),q||(X(a?null:se.clientWidth),G(ve))},ye=ve=>{ve.button===0&&(ve.preventDefault(),B.current.focus(),ae(!0,ve))},Ae=ve=>{ae(!1,ve)},_e=g.Children.toArray(l),Ye=ve=>{const Je=_e.find(oe=>oe.props.value===ve.target.value);Je!==void 0&&($(Je.props.value),C&&C(ve,Je))},He=ve=>Je=>{let oe;if(Je.currentTarget.hasAttribute("tabindex")){if(_){oe=Array.isArray(O)?O.slice():[];const et=O.indexOf(ve.props.value);et===-1?oe.push(ve.props.value):oe.splice(et,1)}else oe=ve.props.value;if(ve.props.onClick&&ve.props.onClick(Je),O!==oe&&($(oe),C)){const et=Je.nativeEvent||Je,It=new et.constructor(et.type,et);Object.defineProperty(It,"target",{writable:!0,value:{value:oe,name:x}}),C(It,ve)}_||ae(!1,Je)}},Ue=ve=>{k||[" ","ArrowUp","ArrowDown","Enter"].indexOf(ve.key)!==-1&&(ve.preventDefault(),ae(!0,ve))},pt=U!==null&&F,Ke=ve=>{!pt&&b&&(Object.defineProperty(ve,"target",{writable:!0,value:{value:O,name:x}}),b(ve))};delete P["aria-invalid"];let Le,bt;const Be=[];let Re=!1;(V1({value:O})||p)&&(N?Le=N(O):Re=!0);const wt=_e.map(ve=>{if(!g.isValidElement(ve))return null;let Je;if(_){if(!Array.isArray(O))throw new Error(la(2));Je=O.some(oe=>G6(oe,ve.props.value)),Je&&Re&&Be.push(ve.props.children)}else Je=G6(O,ve.props.value),Je&&Re&&(bt=ve.props.children);return g.cloneElement(ve,{"aria-selected":Je?"true":"false",onClick:He(ve),onKeyUp:oe=>{oe.key===" "&&oe.preventDefault(),ve.props.onKeyUp&&ve.props.onKeyUp(oe)},role:"option",selected:Je,value:void 0,"data-value":ve.props.value})});Re&&(_?Be.length===0?Le=null:Le=Be.reduce((ve,Je,oe)=>(ve.push(Je),oe<Be.length-1&&ve.push(", "),ve),[]):Le=bt);let zt=ce;!a&&q&&U&&(zt=se.clientWidth);let nn;typeof D<"u"?nn=D:nn=f?null:0;const Oe=M.id||(x?`mui-component-select-${x}`:void 0),Ie=L({},e,{variant:A,value:O,open:pt,error:m}),ht=Xve(Ie),rn=L({},w.PaperProps,(r=w.slotProps)==null?void 0:r.paper),qt=v_();return d.jsxs(g.Fragment,{children:[d.jsx(qve,L({ref:ee,tabIndex:nn,role:"combobox","aria-controls":qt,"aria-disabled":f?"true":void 0,"aria-expanded":pt?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[y,Oe].filter(Boolean).join(" ")||void 0,"aria-describedby":s,onKeyDown:Ue,onMouseDown:f||k?null:ye,onBlur:Ke,onFocus:I},M,{ownerState:Ie,className:Te(M.className,ht.select,c),id:Oe,children:Qve(Le)?H6||(H6=d.jsx("span",{className:"notranslate",children:"​"})):Le})),d.jsx(Kve,L({"aria-invalid":m,value:Array.isArray(O)?O.join(","):O,name:x,ref:z,"aria-hidden":!0,onChange:Ye,tabIndex:-1,disabled:f,className:ht.nativeInput,autoFocus:o,ownerState:Ie},P)),d.jsx(Yve,{as:v,className:ht.icon,ownerState:Ie}),d.jsx(vve,L({id:`menu-${x||""}`,anchorEl:se,open:pt,onClose:Ae,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:L({"aria-labelledby":y,role:"listbox","aria-multiselectable":_?"true":void 0,disableListWrap:!0,id:qt},w.MenuListProps),slotProps:L({},w.slotProps,{paper:L({},rn,{style:L({minWidth:zt},rn!=null?rn.style:null)})}),children:wt}))]})}),Zve=Jve,eye=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],tye=["root"],nye=t=>{const{classes:e}=t;return e},FT={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Kr(t)&&t!=="variant",slot:"Root"},rye=fe(uF,FT)(""),sye=fe(gF,FT)(""),iye=fe(oF,FT)(""),vF=g.forwardRef(function(e,n){const r=rt({name:"MuiSelect",props:e}),{autoWidth:s=!1,children:i,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=Vme,id:h,input:f,inputProps:p,label:m,labelId:v,MenuProps:E,multiple:y=!1,native:w=!1,onClose:_,onOpen:x,open:b,renderValue:C,SelectDisplayProps:T,variant:I="outlined"}=r,S=pe(r,eye),R=w?Dve:Zve,k=$h(),N=jh({props:r,muiFormControl:k,states:["variant","error"]}),M=N.variant||I,D=L({},r,{variant:M,classes:o}),j=nye(D),A=pe(j,tye),P=f||{standard:d.jsx(rye,{ownerState:D}),outlined:d.jsx(sye,{label:m,ownerState:D}),filled:d.jsx(iye,{ownerState:D})}[M],O=An(n,P.ref);return d.jsx(g.Fragment,{children:g.cloneElement(P,L({inputComponent:R,inputProps:L({children:i,error:N.error,IconComponent:u,variant:M,type:void 0,multiple:y},w?{id:h}:{autoWidth:s,defaultOpen:l,displayEmpty:c,labelId:v,MenuProps:E,onClose:_,onOpen:x,open:b,renderValue:C,SelectDisplayProps:L({id:h},T)},p,{classes:p?Hr(A,p.classes):A},f?f.props.inputProps:{})},(y&&w||c)&&M==="outlined"?{notched:!0}:{},{ref:O,className:Te(P.props.className,a,j.root)},!f&&{variant:M},S))})});vF.muiName="Select";const yF=vF;function oye(t){return lt("MuiSkeleton",t)}Xe("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const aye=["animation","className","component","height","style","variant","width"];let z1=t=>t,q6,Y6,K6,Q6;const lye=t=>{const{classes:e,variant:n,animation:r,hasChildren:s,width:i,height:o}=t;return dt({root:["root",n,r,s&&"withChildren",s&&!i&&"fitContent",s&&!o&&"heightAuto"]},oye,e)},cye=Vi(q6||(q6=z1`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),uye=Vi(Y6||(Y6=z1`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),dye=fe("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.animation!==!1&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})(({theme:t,ownerState:e})=>{const n=_fe(t.shape.borderRadius)||"px",r=wfe(t.shape.borderRadius);return L({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:ehe(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em"},e.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},e.variant==="circular"&&{borderRadius:"50%"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.hasChildren&&{"& > *":{visibility:"hidden"}},e.hasChildren&&!e.width&&{maxWidth:"fit-content"},e.hasChildren&&!e.height&&{height:"auto"})},({ownerState:t})=>t.animation==="pulse"&&ca(K6||(K6=z1`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),cye),({ownerState:t,theme:e})=>t.animation==="wave"&&ca(Q6||(Q6=z1`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),uye,(e.vars||e).palette.action.hover)),hye=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSkeleton"}),{animation:s="pulse",className:i,component:o="span",height:a,style:l,variant:c="text",width:u}=r,h=pe(r,aye),f=L({},r,{animation:s,component:o,variant:c,hasChildren:!!h.children}),p=lye(f);return d.jsx(dye,L({as:o,ref:n,className:Te(p.root,i),ownerState:f},h,{style:L({width:u,height:a},l)}))}),le=hye;function fye(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:s,resumeHideDuration:i}=t,o=hc();g.useEffect(()=>{if(!s)return;function y(w){w.defaultPrevented||(w.key==="Escape"||w.key==="Esc")&&(r==null||r(w,"escapeKeyDown"))}return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[s,r]);const a=is((y,w)=>{r==null||r(y,w)}),l=is(y=>{!r||y==null||o.start(y,()=>{a(null,"timeout")})});g.useEffect(()=>(s&&l(e),o.clear),[s,e,l,o]);const c=y=>{r==null||r(y,"clickaway")},u=o.clear,h=g.useCallback(()=>{e!=null&&l(i??e*.5)},[e,i,l]),f=y=>w=>{const _=y.onBlur;_==null||_(w),h()},p=y=>w=>{const _=y.onFocus;_==null||_(w),u()},m=y=>w=>{const _=y.onMouseEnter;_==null||_(w),u()},v=y=>w=>{const _=y.onMouseLeave;_==null||_(w),h()};return g.useEffect(()=>{if(!n&&s)return window.addEventListener("focus",h),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",u)}},[n,s,h,u]),{getRootProps:(y={})=>{const w=L({},O1(t),O1(y));return L({role:"presentation"},y,w,{onBlur:f(w),onFocus:p(w),onMouseEnter:m(w),onMouseLeave:v(w)})},onClickAway:c}}function pye(t){return lt("MuiSnackbarContent",t)}Xe("MuiSnackbarContent",["root","message","action"]);const mye=["action","className","message","role"],gye=t=>{const{classes:e}=t;return dt({root:["root"],action:["action"],message:["message"]},pye,e)},vye=fe(Oh,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,n=jhe(t.palette.background.default,e);return L({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),yye=fe("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),_ye=fe("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),wye=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSnackbarContent"}),{action:s,className:i,message:o,role:a="alert"}=r,l=pe(r,mye),c=r,u=gye(c);return d.jsxs(vye,L({role:a,square:!0,elevation:6,className:Te(u.root,i),ownerState:c,ref:n},l,{children:[d.jsx(yye,{className:u.message,ownerState:c,children:o}),s?d.jsx(_ye,{className:u.action,ownerState:c,children:s}):null]}))}),xye=wye;function Eye(t){return lt("MuiSnackbar",t)}Xe("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Cye=["onEnter","onExited"],bye=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Iye=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${ue(n.vertical)}${ue(n.horizontal)}`]};return dt(r,Eye,e)},X6=fe("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${ue(n.anchorOrigin.vertical)}${ue(n.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return L({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:L({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&n,e.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},e.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),Tye=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSnackbar"}),s=_t(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:h,ClickAwayListenerProps:f,ContentProps:p,disableWindowBlurListener:m=!1,message:v,open:E,TransitionComponent:y=U1,transitionDuration:w=i,TransitionProps:{onEnter:_,onExited:x}={}}=r,b=pe(r.TransitionProps,Cye),C=pe(r,bye),T=L({},r,{anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:c,disableWindowBlurListener:m,TransitionComponent:y,transitionDuration:w}),I=Iye(T),{getRootProps:S,onClickAway:R}=fye(L({},T)),[k,N]=g.useState(!0),M=Il({elementType:X6,getSlotProps:S,externalForwardedProps:C,ownerState:T,additionalProps:{ref:n},className:[I.root,h]}),D=A=>{N(!0),x&&x(A)},j=(A,P)=>{N(!1),_&&_(A,P)};return!E&&k?null:d.jsx(x2e,L({onClickAway:R},f,{children:d.jsx(X6,L({},M,{children:d.jsx(y,L({appear:!0,in:E,timeout:w,direction:a==="top"?"down":"up",onEnter:j,onExited:D},b,{children:u||d.jsx(xye,L({message:v,action:o},p))}))}))}))}),Sye=Tye;function kye(t){return lt("MuiTooltip",t)}const Rye=Xe("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Ka=Rye,Aye=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Pye(t){return Math.round(t*1e5)/1e5}const Nye=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:s,placement:i}=t,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",s&&"touch",`tooltipPlacement${ue(i.split("-")[0])}`],arrow:["arrow"]};return dt(o,kye,e)},Dye=fe(K$,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>L({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${Ka.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Ka.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Ka.arrow}`]:L({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Ka.arrow}`]:L({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),Lye=fe("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${ue(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>L({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:os(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${Pye(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${Ka.popper}[data-popper-placement*="left"] &`]:L({transformOrigin:"right center"},e.isRtl?L({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):L({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${Ka.popper}[data-popper-placement*="right"] &`]:L({transformOrigin:"left center"},e.isRtl?L({marginRight:"14px"},e.touch&&{marginRight:"24px"}):L({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${Ka.popper}[data-popper-placement*="top"] &`]:L({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${Ka.popper}[data-popper-placement*="bottom"] &`]:L({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),Mye=fe("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:os(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let v2=!1;const J6=new ym;let Cf={x:0,y:0};function y2(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const Oye=g.forwardRef(function(e,n){var r,s,i,o,a,l,c,u,h,f,p,m,v,E,y,w,_,x,b;const C=rt({props:e,name:"MuiTooltip"}),{arrow:T=!1,children:I,components:S={},componentsProps:R={},describeChild:k=!1,disableFocusListener:N=!1,disableHoverListener:M=!1,disableInteractive:D=!1,disableTouchListener:j=!1,enterDelay:A=100,enterNextDelay:P=0,enterTouchDelay:O=700,followCursor:$=!1,id:F,leaveDelay:G=0,leaveTouchDelay:z=1500,onClose:B,onOpen:U,open:V,placement:q="bottom",PopperComponent:ce,PopperProps:X={},slotProps:Z={},slots:ee={},title:se,TransitionComponent:ae=U1,TransitionProps:ye}=C,Ae=pe(C,Aye),_e=g.isValidElement(I)?I:d.jsx("span",{children:I}),Ye=_t(),He=__(),[Ue,pt]=g.useState(),[Ke,Le]=g.useState(null),bt=g.useRef(!1),Be=D||$,Re=hc(),wt=hc(),zt=hc(),nn=hc(),[Oe,Ie]=QE({controlled:V,default:!1,name:"Tooltip",state:"open"});let ht=Oe;const rn=v_(F),qt=g.useRef(),ve=is(()=>{qt.current!==void 0&&(document.body.style.WebkitUserSelect=qt.current,qt.current=void 0),nn.clear()});g.useEffect(()=>ve,[ve]);const Je=mt=>{J6.clear(),v2=!0,Ie(!0),U&&!ht&&U(mt)},oe=is(mt=>{J6.start(800+G,()=>{v2=!1}),Ie(!1),B&&ht&&B(mt),Re.start(Ye.transitions.duration.shortest,()=>{bt.current=!1})}),et=mt=>{bt.current&&mt.type!=="touchstart"||(Ue&&Ue.removeAttribute("title"),wt.clear(),zt.clear(),A||v2&&P?wt.start(v2?P:A,()=>{Je(mt)}):Je(mt))},It=mt=>{wt.clear(),zt.start(G,()=>{oe(mt)})},{isFocusVisibleRef:In,onBlur:qn,onFocus:or,ref:Vl}=p$(),[,Dr]=g.useState(!1),vr=mt=>{qn(mt),In.current===!1&&(Dr(!1),It(mt))},bo=mt=>{Ue||pt(mt.currentTarget),or(mt),In.current===!0&&(Dr(!0),et(mt))},Ea=mt=>{bt.current=!0;const _s=_e.props;_s.onTouchStart&&_s.onTouchStart(mt)},Tm=mt=>{Ea(mt),zt.clear(),Re.clear(),ve(),qt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",nn.start(O,()=>{document.body.style.WebkitUserSelect=qt.current,et(mt)})},Io=mt=>{_e.props.onTouchEnd&&_e.props.onTouchEnd(mt),ve(),zt.start(z,()=>{oe(mt)})};g.useEffect(()=>{if(!ht)return;function mt(_s){(_s.key==="Escape"||_s.key==="Esc")&&oe(_s)}return document.addEventListener("keydown",mt),()=>{document.removeEventListener("keydown",mt)}},[oe,ht]);const To=An(_e.ref,Vl,pt,n);!se&&se!==0&&(ht=!1);const Y_=g.useRef(),zV=mt=>{const _s=_e.props;_s.onMouseMove&&_s.onMouseMove(mt),Cf={x:mt.clientX,y:mt.clientY},Y_.current&&Y_.current.update()},Bh={},K_=typeof se=="string";k?(Bh.title=!ht&&K_&&!M?se:null,Bh["aria-describedby"]=ht?rn:null):(Bh["aria-label"]=K_?se:null,Bh["aria-labelledby"]=ht&&!K_?rn:null);const gi=L({},Bh,Ae,_e.props,{className:Te(Ae.className,_e.props.className),onTouchStart:Ea,ref:To},$?{onMouseMove:zV}:{}),Wh={};j||(gi.onTouchStart=Tm,gi.onTouchEnd=Io),M||(gi.onMouseOver=y2(et,gi.onMouseOver),gi.onMouseLeave=y2(It,gi.onMouseLeave),Be||(Wh.onMouseOver=et,Wh.onMouseLeave=It)),N||(gi.onFocus=y2(bo,gi.onFocus),gi.onBlur=y2(vr,gi.onBlur),Be||(Wh.onFocus=bo,Wh.onBlur=vr));const BV=g.useMemo(()=>{var mt;let _s=[{name:"arrow",enabled:!!Ke,options:{element:Ke,padding:4}}];return(mt=X.popperOptions)!=null&&mt.modifiers&&(_s=_s.concat(X.popperOptions.modifiers)),L({},X.popperOptions,{modifiers:_s})},[Ke,X]),Hh=L({},C,{isRtl:He,arrow:T,disableInteractive:Be,placement:q,PopperComponentProp:ce,touch:bt.current}),Q_=Nye(Hh),dS=(r=(s=ee.popper)!=null?s:S.Popper)!=null?r:Dye,hS=(i=(o=(a=ee.transition)!=null?a:S.Transition)!=null?o:ae)!=null?i:U1,fS=(l=(c=ee.tooltip)!=null?c:S.Tooltip)!=null?l:Lye,pS=(u=(h=ee.arrow)!=null?h:S.Arrow)!=null?u:Mye,WV=jf(dS,L({},X,(f=Z.popper)!=null?f:R.popper,{className:Te(Q_.popper,X==null?void 0:X.className,(p=(m=Z.popper)!=null?m:R.popper)==null?void 0:p.className)}),Hh),HV=jf(hS,L({},ye,(v=Z.transition)!=null?v:R.transition),Hh),GV=jf(fS,L({},(E=Z.tooltip)!=null?E:R.tooltip,{className:Te(Q_.tooltip,(y=(w=Z.tooltip)!=null?w:R.tooltip)==null?void 0:y.className)}),Hh),qV=jf(pS,L({},(_=Z.arrow)!=null?_:R.arrow,{className:Te(Q_.arrow,(x=(b=Z.arrow)!=null?b:R.arrow)==null?void 0:x.className)}),Hh);return d.jsxs(g.Fragment,{children:[g.cloneElement(_e,gi),d.jsx(dS,L({as:ce??K$,placement:q,anchorEl:$?{getBoundingClientRect:()=>({top:Cf.y,left:Cf.x,right:Cf.x,bottom:Cf.y,width:0,height:0})}:Ue,popperRef:Y_,open:Ue?ht:!1,id:rn,transition:!0},Wh,WV,{popperOptions:BV,children:({TransitionProps:mt})=>d.jsx(hS,L({timeout:Ye.transitions.duration.shorter},mt,HV,{children:d.jsxs(fS,L({},GV,{children:[se,T?d.jsx(pS,L({},qV,{ref:Le})):null]}))}))}))]})}),Pe=Oye,jye=["anchor","classes","className","width","style"],$ye=fe("div",{shouldForwardProp:Kr})(({theme:t,ownerState:e})=>L({position:"fixed",top:0,left:0,bottom:0,zIndex:t.zIndex.drawer-1},e.anchor==="left"&&{right:"auto"},e.anchor==="right"&&{left:"auto",right:0},e.anchor==="top"&&{bottom:"auto",right:0},e.anchor==="bottom"&&{top:"auto",bottom:0,right:0})),Fye=g.forwardRef(function(e,n){const{anchor:r,classes:s={},className:i,width:o,style:a}=e,l=pe(e,jye),c=e;return d.jsx($ye,L({className:Te("PrivateSwipeArea-root",s.root,s[`anchor${ue(r)}`],i),ref:n,style:L({[nc(r)?"width":"height"]:o},a),ownerState:c},l))}),Vye=Fye,Uye=["BackdropProps"],zye=["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","allowSwipeInChildren","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"],_2=3,gx=20;let ko=null;function vx(t,e,n){return t==="right"?n.body.offsetWidth-e[0].pageX:e[0].pageX}function yx(t,e,n){return t==="bottom"?n.innerHeight-e[0].clientY:e[0].clientY}function bf(t,e){return t?e.clientWidth:e.clientHeight}function Z6(t,e,n,r){return Math.min(Math.max(n?e-t:r+e-t,0),r)}function Bye(t,e){const n=[];for(;t&&t!==e.parentElement;){const r=ks(e).getComputedStyle(t);r.getPropertyValue("position")==="absolute"||r.getPropertyValue("overflow-x")==="hidden"||(t.clientWidth>0&&t.scrollWidth>t.clientWidth||t.clientHeight>0&&t.scrollHeight>t.clientHeight)&&n.push(t),t=t.parentElement}return n}function Wye({domTreeShapes:t,start:e,current:n,anchor:r}){const s={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return t.some(i=>{let o=n>=e;(r==="top"||r==="left")&&(o=!o);const a=r==="left"||r==="right"?"x":"y",l=Math.round(i[s.scrollPosition[a]]),c=l>0,u=l+i[s.clientLength[a]]<i[s.scrollLength[a]];return!!(o&&u||!o&&c)})}const Hye=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),Gye=g.forwardRef(function(e,n){const r=rt({name:"MuiSwipeableDrawer",props:e}),s=_t(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{anchor:o="left",disableBackdropTransition:a=!1,disableDiscovery:l=!1,disableSwipeToOpen:c=Hye,hideBackdrop:u,hysteresis:h=.52,allowSwipeInChildren:f=!1,minFlingVelocity:p=450,ModalProps:{BackdropProps:m}={},onClose:v,onOpen:E,open:y=!1,PaperProps:w={},SwipeAreaProps:_,swipeAreaWidth:x=20,transitionDuration:b=i,variant:C="temporary"}=r,T=pe(r.ModalProps,Uye),I=pe(r,zye),[S,R]=g.useState(!1),k=g.useRef({isSwiping:null}),N=g.useRef(),M=g.useRef(),D=g.useRef(),j=An(w.ref,D),A=g.useRef(!1),P=g.useRef();Ns(()=>{P.current=null},[y]);const O=g.useCallback((B,U={})=>{const{mode:V=null,changeTransition:q=!0}=U,ce=Ff(s,o),X=["right","bottom"].indexOf(ce)!==-1?1:-1,Z=nc(o),ee=Z?`translate(${X*B}px, 0)`:`translate(0, ${X*B}px)`,se=D.current.style;se.webkitTransform=ee,se.transform=ee;let ae="";if(V&&(ae=s.transitions.create("all",Jc({easing:void 0,style:void 0,timeout:b},{mode:V}))),q&&(se.webkitTransition=ae,se.transition=ae),!a&&!u){const ye=M.current.style;ye.opacity=1-B/bf(Z,D.current),q&&(ye.webkitTransition=ae,ye.transition=ae)}},[o,a,u,s,b]),$=is(B=>{if(!A.current)return;if(ko=null,A.current=!1,D0.flushSync(()=>{R(!1)}),!k.current.isSwiping){k.current.isSwiping=null;return}k.current.isSwiping=null;const U=Ff(s,o),V=nc(o);let q;V?q=vx(U,B.changedTouches,xn(B.currentTarget)):q=yx(U,B.changedTouches,ks(B.currentTarget));const ce=V?k.current.startX:k.current.startY,X=bf(V,D.current),Z=Z6(q,ce,y,X),ee=Z/X;if(Math.abs(k.current.velocity)>p&&(P.current=Math.abs((X-Z)/k.current.velocity)*1e3),y){k.current.velocity>p||ee>h?v():O(0,{mode:"exit"});return}k.current.velocity<-p||1-ee>h?E():O(bf(V,D.current),{mode:"enter"})}),F=(B=!1)=>{if(!S){(B||!(l&&f))&&D0.flushSync(()=>{R(!0)});const U=nc(o);!y&&D.current&&O(bf(U,D.current)+(l?15:-gx),{changeTransition:!1}),k.current.velocity=0,k.current.lastTime=null,k.current.lastTranslate=null,k.current.paperHit=!1,A.current=!0}},G=is(B=>{if(!D.current||!A.current||ko!==null&&ko!==k.current)return;F(!0);const U=Ff(s,o),V=nc(o),q=vx(U,B.touches,xn(B.currentTarget)),ce=yx(U,B.touches,ks(B.currentTarget));if(y&&D.current.contains(B.target)&&ko===null){const ae=Bye(B.target,D.current);if(Wye({domTreeShapes:ae,start:V?k.current.startX:k.current.startY,current:V?q:ce,anchor:o})){ko=!0;return}ko=k.current}if(k.current.isSwiping==null){const ae=Math.abs(q-k.current.startX),ye=Math.abs(ce-k.current.startY),Ae=V?ae>ye&&ae>_2:ye>ae&&ye>_2;if(Ae&&B.cancelable&&B.preventDefault(),Ae===!0||(V?ye>_2:ae>_2)){if(k.current.isSwiping=Ae,!Ae){$(B);return}k.current.startX=q,k.current.startY=ce,!l&&!y&&(V?k.current.startX-=gx:k.current.startY-=gx)}}if(!k.current.isSwiping)return;const X=bf(V,D.current);let Z=V?k.current.startX:k.current.startY;y&&!k.current.paperHit&&(Z=Math.min(Z,X));const ee=Z6(V?q:ce,Z,y,X);if(y)if(k.current.paperHit)ee===0&&(k.current.startX=q,k.current.startY=ce);else if(V?q<X:ce<X)k.current.paperHit=!0,k.current.startX=q,k.current.startY=ce;else return;k.current.lastTranslate===null&&(k.current.lastTranslate=ee,k.current.lastTime=performance.now()+1);const se=(ee-k.current.lastTranslate)/(performance.now()-k.current.lastTime)*1e3;k.current.velocity=k.current.velocity*.4+se*.6,k.current.lastTranslate=ee,k.current.lastTime=performance.now(),B.cancelable&&B.preventDefault(),O(ee)}),z=is(B=>{if(B.defaultPrevented||B.defaultMuiPrevented||y&&(u||!M.current.contains(B.target))&&!D.current.contains(B.target))return;const U=Ff(s,o),V=nc(o),q=vx(U,B.touches,xn(B.currentTarget)),ce=yx(U,B.touches,ks(B.currentTarget));if(!y){var X;if(c||!(B.target===N.current||(X=D.current)!=null&&X.contains(B.target)&&(typeof f=="function"?f(B,N.current,D.current):f)))return;if(V){if(q>x)return}else if(ce>x)return}B.defaultMuiPrevented=!0,ko=null,k.current.startX=q,k.current.startY=ce,F()});return g.useEffect(()=>{if(C==="temporary"){const B=xn(D.current);return B.addEventListener("touchstart",z),B.addEventListener("touchmove",G,{passive:!y}),B.addEventListener("touchend",$),()=>{B.removeEventListener("touchstart",z),B.removeEventListener("touchmove",G,{passive:!y}),B.removeEventListener("touchend",$)}}},[C,y,z,G,$]),g.useEffect(()=>()=>{ko===k.current&&(ko=null)},[]),g.useEffect(()=>{y||R(!1)},[y]),d.jsxs(g.Fragment,{children:[d.jsx(Ege,L({open:C==="temporary"&&S?!0:y,variant:C,ModalProps:L({BackdropProps:L({},m,{ref:M})},C==="temporary"&&{keepMounted:!0},T),hideBackdrop:u,PaperProps:L({},w,{style:L({pointerEvents:C==="temporary"&&!y&&!f?"none":""},w.style),ref:j}),anchor:o,transitionDuration:P.current||b,onClose:v,ref:n},I)),!c&&C==="temporary"&&d.jsx(Lve,{children:d.jsx(Vye,L({anchor:o,ref:N,width:x},_))})]})}),qye=Gye;function Yye(t){return lt("MuiToolbar",t)}Xe("MuiToolbar",["root","gutters","regular","dense"]);const Kye=["className","component","disableGutters","variant"],Qye=t=>{const{classes:e,disableGutters:n,variant:r}=t;return dt({root:["root",!n&&"gutters",r]},Yye,e)},Xye=fe("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>L({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),Jye=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiToolbar"}),{className:s,component:i="div",disableGutters:o=!1,variant:a="regular"}=r,l=pe(r,Kye),c=L({},r,{component:i,disableGutters:o,variant:a}),u=Qye(c);return d.jsx(Xye,L({as:i,className:Te(u.root,s),ref:n,ownerState:c},l))}),_F=Jye;function Zye(t){return lt("MuiTextField",t)}Xe("MuiTextField",["root"]);const e_e=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],t_e={standard:uF,filled:oF,outlined:gF},n_e=t=>{const{classes:e}=t;return dt({root:["root"]},Zye,e)},r_e=fe(Fge,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),s_e=g.forwardRef(function(e,n){const r=rt({props:e,name:"MuiTextField"}),{autoComplete:s,autoFocus:i=!1,children:o,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:h=!1,FormHelperTextProps:f,fullWidth:p=!1,helperText:m,id:v,InputLabelProps:E,inputProps:y,InputProps:w,inputRef:_,label:x,maxRows:b,minRows:C,multiline:T=!1,name:I,onBlur:S,onChange:R,onFocus:k,placeholder:N,required:M=!1,rows:D,select:j=!1,SelectProps:A,type:P,value:O,variant:$="outlined"}=r,F=pe(r,e_e),G=L({},r,{autoFocus:i,color:l,disabled:u,error:h,fullWidth:p,multiline:T,required:M,select:j,variant:$}),z=n_e(G),B={};$==="outlined"&&(E&&typeof E.shrink<"u"&&(B.notched=E.shrink),B.label=x),j&&((!A||!A.native)&&(B.id=void 0),B["aria-describedby"]=void 0);const U=v_(v),V=m&&U?`${U}-helper-text`:void 0,q=x&&U?`${U}-label`:void 0,ce=t_e[$],X=d.jsx(ce,L({"aria-describedby":V,autoComplete:s,autoFocus:i,defaultValue:c,fullWidth:p,multiline:T,name:I,rows:D,maxRows:b,minRows:C,type:P,value:O,id:U,inputRef:_,onBlur:S,onChange:R,onFocus:k,placeholder:N,inputProps:y},B,w));return d.jsxs(r_e,L({className:Te(z.root,a),disabled:u,error:h,fullWidth:p,ref:n,required:M,color:l,variant:$,ownerState:G},F,{children:[x!=null&&x!==""&&d.jsx(k1e,L({htmlFor:U,id:q},E,{children:x})),j?d.jsx(yF,L({"aria-describedby":V,id:U,labelId:q,value:O,input:X},A,{children:o})):X,m&&d.jsx(qge,L({id:V},f,{children:m}))]}))}),Fn=s_e,vs=({isLoading:t,text:e})=>{if(t)return d.jsx(Y,{sx:{bgcolor:"background.default",position:"fixed",display:"flex",alignItems:"center",top:0,bottom:0,right:0,left:0},className:"fixed top-[70px] right-0 left-0 bottom-0 flex items-center justify-center",children:d.jsxs(Y,{className:"flex flex-col items-center justify-center gap-y-4",children:[d.jsx("img",{className:"w-20 rounded-lg",src:"/images/sea-logo.jpg"}),d.jsxs(Y,{className:"h-3 w-[200px] grid justify-center",children:[d.jsx(ge,{mb:2,children:e}),d.jsx(V1e,{})]})]})})},Mt=({text:t})=>d.jsx(Y,{m:2,children:d.jsx("div",{children:t})}),i_e=je(d.jsx("path",{d:"M21 3H3v18h18zm-9 3c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m7 13H5v-.23c0-.62.28-1.2.76-1.58C7.47 15.82 9.64 15 12 15s4.53.82 6.24 2.19c.48.38.76.97.76 1.58z"}),"AccountBoxSharp"),$_=je(d.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"AddSharp"),o_e=je([d.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),d.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettings"),a_e=je([d.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),d.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettingsSharp"),l_e=je(d.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),fu=je(d.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBackSharp"),c_e=je(d.jsx("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown"),u_e=je(d.jsx("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp"),d_e=je(d.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForwardSharp"),VT=je(d.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"CancelSharp"),h_e=je(d.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H6l-2 2V4h16z"}),"ChatBubbleOutline"),f_e=je(d.jsx("path",{d:"M22 2H2.01L2 22l4-4h16zM6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"ChatSharp"),eu=je(d.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"CloseSharp"),wF=je(d.jsx("path",{d:"M22 18V2H6v16zm-11-6 2.03 2.71L16 11l4 5H8zM2 6v16h16v-2H4V6z"}),"CollectionsSharp"),lC=je(d.jsx("path",{d:"M16 1H2v16h2V3h12zm5 4H6v18h15zm-2 16H8V7h11z"}),"ContentCopySharp"),pu=je(d.jsx("path",{d:"M6 21h12V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"DeleteSharp"),p_e=je(d.jsx("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"}),"DoneSharp"),m_e=je(d.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),g_e=je(d.jsx("path",{d:"M21.99 6.86 12 1 2 6.86V20h20zM12 13 3.74 7.84 12 3l8.26 4.84z"}),"DraftsSharp"),Vs=je(d.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM21.41 6.34l-3.75-3.75-2.53 2.54 3.75 3.75z"}),"EditSharp"),v_e=je(d.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMoreSharp"),B1=je(d.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite"),UT=je(d.jsx("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder"),y_e=je(d.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11zM8 21V7h6v5h5v9z"}),"FileCopyOutlined"),__e=je(d.jsx("path",{d:"M16 1H2v16h2V3h12zm-1 4 6 6v12H6V5zm-1 7h5.5L14 6.5z"}),"FileCopySharp"),xF=je(d.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"HelpSharp"),w_e=je(d.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.25 2.52.77-1.29-3.52-2.09V8z"}),"HistorySharp"),zT=je(d.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"HomeSharp"),x_e=je(d.jsx("path",{d:"M21 21V3H3v18zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"ImageSharp"),E_e=je(d.jsx("path",{d:"M19 7v4H5.83l3.58-3.59L8 6l-6 6 6 6 1.41-1.41L5.83 13H21V7z"}),"KeyboardReturnSharp"),C_e=je(d.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),Vh=je(d.jsx("path",{d:"M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8zm9-4h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z"}),"LinkSharp"),EF=je([d.jsx("path",{d:"M5 5h7V3H3v18h9v-2H5z"},"0"),d.jsx("path",{d:"m21 12-4-4v3H9v2h8v3z"},"1")],"LogoutSharp"),b_e=je(d.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),CF=je(d.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVertSharp"),I_e=je(d.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V2.5h-3v2.18C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"NotificationsSharp"),T_e=je(d.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"PeopleSharp"),S_e=je(d.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonSharp"),k_e=je(d.jsx("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1m-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1"}),"QuestionAnswer"),BT=je([d.jsx("path",{d:"M4 6H2v16h16v-2H4z"},"0"),d.jsx("path",{d:"M6 2v16h16V2zm7.51 8.16c.41-.73 1.18-1.16 1.63-1.8.48-.68.21-1.94-1.14-1.94-.88 0-1.32.67-1.5 1.23l-1.37-.57C11.51 5.96 12.52 5 13.99 5c1.23 0 2.08.56 2.51 1.26.37.6.58 1.73.01 2.57-.63.93-1.23 1.21-1.56 1.81-.13.24-.18.4-.18 1.18h-1.52c.01-.41-.06-1.08.26-1.66m-.56 3.79c0-.59.47-1.04 1.05-1.04.59 0 1.04.45 1.04 1.04 0 .58-.44 1.05-1.04 1.05-.58 0-1.05-.47-1.05-1.05"},"1")],"QuizSharp"),R_e=je(d.jsx("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11"}),"ReplySharp"),Em=je(d.jsx("path",{d:"M17 3H3v18h18V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"SaveSharp"),bF=je(d.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"SearchSharp"),A_e=je(d.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),P_e=je(d.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"SendSharp"),N_e=je(d.jsx("path",{d:"m19.44 12.99-.01.02c.04-.33.08-.67.08-1.01s-.03-.66-.07-.99l.01.02 2.44-1.92-2.43-4.22-2.87 1.16.01.01c-.52-.4-1.09-.74-1.71-1h.01L14.44 2H9.57l-.44 3.07h.01c-.62.26-1.19.6-1.71 1l.01-.01-2.88-1.17-2.44 4.22 2.44 1.92.01-.02c-.04.33-.07.65-.07.99s.03.68.08 1.01l-.01-.02-2.1 1.65-.33.26 2.43 4.2 2.88-1.15-.02-.04c.53.41 1.1.75 1.73 1.01h-.03L9.58 22h4.85s.03-.18.06-.42l.38-2.65h-.01c.62-.26 1.2-.6 1.73-1.01l-.02.04 2.88 1.15 2.43-4.2s-.14-.12-.33-.26zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5"}),"SettingsSharp"),D_e=je(d.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"}),"ShareSharp"),L_e=je(d.jsx("path",{d:"M15 1H9v2h6zm-4 13h2V8h-2zm8.03-6.61 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7"}),"TimerSharp"),IF=je(d.jsx("path",{d:"M11 8v5l4.25 2.52.77-1.28-3.52-2.09V8zm10 2V3l-2.64 2.64C16.74 4.01 14.49 3 12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9h-2c0 3.86-3.14 7-7 7s-7-3.14-7-7 3.14-7 7-7c1.93 0 3.68.79 4.95 2.05L14 10z"}),"UpdateSharp"),M_e=je(d.jsx("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"UploadSharp"),WT=je(d.jsx("path",{d:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"VisibilitySharp"),O_e=()=>{const{userId:t}=g.useContext(we),[e,n]=g.useState(!0),[r,s]=g.useState(!1),[i,o]=g.useState(null),[a,l]=g.useState(null),c=`${a==null?void 0:a.testName} - Results`,u=Math.round((a==null?void 0:a.score)/(a==null?void 0:a.totalScore)*100),h=Et(),{resultId:f}=Pl();g.useEffect(()=>{(async()=>{try{n(!0);const v=Ve(Ce(be,"users",t),"history"),E=Ce(v,f),y=await Li(E);y.exists()?(l(y.data()),Vn(n,1200)):(Vn(n),s(!0))}catch(v){Vn(n),o("Error fetching current result: "+v.message),console.log("Error")}})()},[f]),g.useEffect(()=>(ei(),ei()),[]);const p=async()=>{try{await navigator.share({title:"Check out my score!",text:`I scored ${a.score} out of ${a.totalScore} in '${a.testName}'.
Website URL - https://seaacademy.onrender.com/tests/
        `})}catch{console.log("Error")}};return r?d.jsx(Mt,{text:"No result available"}):i?d.jsx(Mt,{text:i}):d.jsx("div",{className:"p-5 ",children:d.jsxs("div",{className:"",children:[d.jsxs("div",{className:"flex items-center gap-x-1 h-10 font-medium mb-4",children:[d.jsx(Pe,{title:"Navigate up",arrow:!0,children:d.jsx(qe,{onClick:()=>h("/app/history"),children:d.jsx(fu,{})})}),e?d.jsx(le,{height:40,width:150}):d.jsx("div",{className:"text-lg pl-2 place-items-center bg-blue-40",children:c})]}),d.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[d.jsx("div",{children:d.jsx("div",{className:"grid items-center justify-center bg-blue-300/50 h-40 w-40 rounded-full",children:d.jsx("div",{className:"grid items-center justify-center bg-blue-400/50 h-32 w-32 rounded-full",children:d.jsx("div",{className:"grid items-center justify-center bg-blue-500/50 h-28 w-28 rounded-full",children:d.jsx("div",{className:"grid  h-20 w-20 items-center justify-center rounded-full",children:d.jsxs("div",{className:"flex flex-col items-center justify-center font-medium",children:[d.jsx("div",{className:"text-sm font-bold",children:"Your Score"}),e?d.jsx(le,{height:40,width:60}):d.jsxs("div",{className:" text-lg ",children:[a.score," / ",a.totalScore]})]})})})})})}),d.jsx("div",{className:`grid items-center justify-center font-bold
             text-lg `,children:e?d.jsx(le,{height:40,width:60}):d.jsxs("div",{children:[" ",a.level]})})]}),e?d.jsx(le,{width:"100%"}):d.jsxs("div",{className:"mt-1 mb-2 h-2 border flex ",children:[d.jsx("div",{className:"h-full",style:{width:`${u}%`}}),d.jsx("div",{className:"h-full bg-gray-200",style:{width:`${100-u}%`}})]}),e?d.jsx(le,{height:200,width:"100%"}):d.jsxs("div",{className:"grid border shadow-lg grid-cols-2 gap-y-2 border p-2 rounded-lg",children:[d.jsx(Wl,{text:"Score Percentage",value:`${u}%`,color:"text-lime-500"}),d.jsx(Wl,{text:"Total Questions",value:a.totalScore,color:"text-lime-500"}),d.jsx(Wl,{text:"Correct",value:a.score,color:"text-green-500"}),d.jsx(Wl,{text:"Wrong",value:a.totalScore-a.score,color:"text-red-500"}),d.jsx(Wl,{text:"Date",value:a.date,color:"text-lime-500"}),d.jsx(Wl,{text:"Time",value:a.time,color:"text-lime-500"}),d.jsx(Wl,{text:"Time taken",value:ece(a.timeTaken)||"Unknown",color:"text-lime-500"})]}),d.jsxs("div",{className:"grid grid-cols-3 justify-center gap-y-2 mt-5",children:[d.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e?d.jsx(le,{height:28,width:28}):d.jsx(qe,{onClick:()=>h(`/app/history/${f}/reviews`),children:d.jsx(WT,{})}),e?d.jsx(le,{width:60}):d.jsx("div",{className:"text-sm",children:"Review Answers"})]}),d.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e?d.jsx(le,{height:28,width:28}):d.jsx(qe,{onClick:p,children:d.jsx(D_e,{})}),e?d.jsx(le,{width:60}):d.jsx("div",{className:"text-sm",children:"Share Score"})]}),d.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e?d.jsx(le,{height:28,width:28}):d.jsx(qe,{onClick:()=>h("/app"),children:d.jsx(zT,{})}),e?d.jsx(le,{width:60}):d.jsx("div",{className:"text-sm",children:"Home"})]})]})]})})},Wl=({text:t,value:e,color:n})=>d.jsxs("div",{children:[d.jsxs("div",{className:`font-medium ${n}`,children:["● ",e]}),d.jsx("div",{className:"text-sm",children:t})]});function $l(t,e=15){const n=t==null?void 0:t.slice(0,e);return e>(t==null?void 0:t.length)?n:`${n}...`}const ys=({image:t,name:e,size:n="size-10",fontSize:r="text-lg",className:s})=>{const i=t&&t.trim(),o=e&&e.trim(),a=i&&o,l=()=>{const c=e.trim().split(" ");return c.length<=3?c[0][0].toUpperCase():`${c[0][0]}${c[1][0]}`.toUpperCase()};if(i||a)return d.jsx("img",{alt:e,className:`${n} rounded-full object-cover ${s}`,src:t});if(o)return d.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:l()});if(!a)return d.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:"U"})},da=({data:t})=>{const{yesButton:e,noButton:n,text:r,setValue:s,value:i}=t;return d.jsxs(gs,{open:!!i,onClose:()=>s(!1),children:[d.jsx(cge,{children:r}),d.jsxs(Tr,{direction:"row",alignItems:"center",justifyContent:"center",gap:1,margin:2,children:[d.jsx(ke,{onClick:e,children:"Yes"}),d.jsx(ke,{onClick:n,children:"No"})]})]})},j_e=({data:t})=>{const{setIsMenuOpen:e}=t,[n,r]=g.useState(!1),[s,i]=g.useState(!1),{setUserId:o,userId:a}=g.useContext(we);_t().palette;const c=g.useRef(null),u=Et(),{userData:h}=g.useContext(we),f=async()=>{try{await Z8(Zr),e(!1),br.remove("userId"),o(null),u("/login")}catch(p){console.log(p.message)}};return $y(c,r),d.jsxs(Y,{ref:c,className:"p-2 ",children:[d.jsx(Y,{className:"top-0 right-0 left-0 bottom-0",children:d.jsx(da,{data:{value:s,yesButton:f,noButton:()=>{i(!1)},text:"Are you sure to log out ?",setValue:i}})}),d.jsx(ke,{variant:n?"outlined":"text",size:"small",sx:{textTransform:"capitalize",justifyContent:"start"},onClick:()=>r(!n),className:`transition-all ${n?"bg-slate-100 shadow-md border border-slate-200":"hover:bg-slate-200/70"} p-1 flex items-center rounded-md cursor-pointer w-full min-h-14`,children:d.jsxs(Y,{className:"flex gap-x-2 items-center mb-2",children:[d.jsx(Y,{className:"relative size-10",children:d.jsx(ys,{image:h==null?void 0:h.image,name:h==null?void 0:h.name})}),d.jsx(Y,{className:"flex flex-1 items-center justify-between",children:d.jsx(ge,{fontSize:"1.1rem",variant:"h6",children:h!=null&&h.name?h.name:"Username"})})]})}),n&&d.jsx(Y,{className:"absolute bottom-[70px] left-1 border w-4/6 sm:w-3/5 md:w-4/6  p-2 rounded-md",children:d.jsxs(Y,{children:[d.jsx(ke,{size:"small",sx:{width:"100%"},onClick:()=>{u("/app/settings"),e(!1),r(!1)},startIcon:d.jsx(N_e,{}),children:"Settings"}),d.jsx(ke,{size:"small",sx:{width:"100%"},onClick:()=>{u(`/app/profile/${a}`),e(!1),r(!1)},startIcon:d.jsx(i_e,{}),children:"My Profile"}),d.jsx(ke,{size:"small",sx:{width:"100%"},onClick:()=>{i(!0)},startIcon:d.jsx(EF,{}),children:"Log out"})]})})]})},$_e=({isMenuOpen:t,setIsMenuOpen:e})=>{const n=["/app/admin","/app/admin/posts","/app/admin/users","/app/admin/helps","/app/admin/tests"],{userData:r,newMessages:s,historyCount:i,setHistoryCount:o,notiCount:a,setNotiCount:l,userId:c}=g.useContext(we),u=mh(),h=u.pathname.includes("/app/history"),f=n.includes(u.pathname),p=u.pathname==="/app/"||u.pathname==="/app",m=u.pathname.includes("/app/tests"),v=u.pathname.includes("/app/help"),E=u.pathname.includes("/app/notifications"),y=u.pathname.includes("/app/chatroom");g.useEffect(()=>{try{lo(Ve(Ce(be,"users",c),"history"),o),lo(Ve(be,"notifications"),l)}catch(C){console.log(C.message)}},[]);const w=()=>{let C=0;return s.forEach(T=>{Fy(s,T.id)||(C+=1)}),!!(C>0&&(r!=null&&r.name))},_=[{text:"Home",image:d.jsx(zT,{}),path:"/app",active:p},{text:"Tests",image:d.jsx(BT,{}),path:"/app/tests",active:m},{text:"History",image:d.jsx(w_e,{}),path:"/app/history",items:i,active:h},{text:"Notifications",image:d.jsx(I_e,{}),path:"/app/notifications",items:a,active:E},{text:"Chat Room",image:d.jsx(f_e,{}),path:"/app/chatroom",color:"bg-red-600",active:y},{text:"Admin",image:d.jsx(a_e,{}),path:"/app/admin",active:f},{text:"Help",image:d.jsx(xF,{}),path:"/app/help",active:v}],x=["Admin"],b=_.filter(C=>r!=null&&r.isAdmin?!0:!x.includes(C.text));return d.jsxs(qye,{variant:"temporary",transitionDuration:{enter:300,exit:300},anchor:"left",open:t,onOpen:()=>e(!0),onClose:()=>e(!1),sx:{"& .MuiDrawer-paper":{width:{xs:"300px",sm:"350px",md:"400px",lg:"450px",xl:"500px"}}},children:[d.jsx("div",{className:"flex p-2 items-center",children:d.jsxs("div",{className:"font-medium text-md flex-1 flex items-center",children:[d.jsx(Pe,{title:"Close",arrow:!0,children:d.jsx(qe,{onClick:()=>e(!1),children:d.jsx(eu,{})})}),d.jsx(ge,{variant:"h6",fontSize:"1rem",children:"STAR EDUCATION ACADEMY"})]})}),d.jsxs(Tr,{sx:{flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[d.jsx(nF,{direction:"right",in:t,mountOnEnter:!0,unmountOnExit:!0,children:d.jsx("div",{className:"mr-2 ml-2",children:b.map(C=>d.jsx(F_e,{setIsMenuOpen:e,data:{active:C.active,image:C.image,path:C.path,text:C.text,items:C==null?void 0:C.items,color:C.color,isThereNewMessages:w}},C.text))})}),d.jsx(j_e,{data:{setIsMenuOpen:e}})]})]})},F_e=({setIsMenuOpen:t,data:e})=>{const{active:n,image:r,text:s,items:i,path:o,color:a,isThereNewMessages:l}=e,c=Et(),{currentTest:u}=g.useContext(we);return d.jsxs(ke,{sx:{color:n?"white":"",height:47,justifyContent:"start",alignItems:"center",textTransform:"capitalize"},variant:n?"contained":"text",onClick:()=>{c(o),t(!1)},className:`relative font-bold p-2 hover:shadow-md pl-2 ${n?"bg-blue-500/70":"hover:bg-slate-200"} transition-all font-medium rounded-tr-3xl rounded-br-3xl flex items-center gap-x-1 w-full  hover:shadow-md 
      
      `,startIcon:r,children:[d.jsx("div",{children:s}),i&&i>=0?d.jsx("div",{className:` flex items-center rounded-full justify-center pl-1 pr-1  min-h-6 min-w-6 text-sm top-0 -left-1 font-bold text-white ${a||"bg-black"}`,children:i}):"",u&&s==="Home"&&d.jsxs("div",{className:"text-sm",children:["(Taking ",$l(u.name,45),")"]}),s==="Chat Room"&&(l()?d.jsx("div",{className:"absolute right-2 top-3 shadow-sm bg-red-500 size-3 rounded-full"}):"")]})},V_e=()=>{const{headerTitle:t,newMessages:e,userData:n,userId:r}=g.useContext(we),[s,i]=g.useState(!1),o=_t(),{mode:a}=o.palette;return d.jsx(O$,{position:"sticky",sx:{backgroundColor:a==="dark"?"background.default":"white",color:"text.primary"},children:d.jsx(_F,{sx:{padding:"5px"},children:d.jsxs(Id,{container:!0,justifyContent:"space-between",children:[d.jsxs(Id,{item:!0,display:"flex",alignItems:"center",children:[r&&d.jsxs(d.Fragment,{children:[d.jsx(Pe,{title:"Menu",arrow:!0,children:d.jsxs(qe,{sx:{position:"relative"},onClick:()=>i(!0),children:[d.jsx(b_e,{}),tce(e,n)?d.jsx("div",{className:"absolute left-2 top-2 shadow-sm bg-red-500 size-3 rounded-full"}):""]})}),s&&d.jsx($_e,{setIsMenuOpen:i,isMenuOpen:s})]}),d.jsx(ge,{variant:"h6",fontSize:"1.12rem",children:t})]}),d.jsx(Id,{item:!0,children:d.jsx("div",{className:"flex gap-x-2 items-center hidden small:block",children:d.jsx("img",{className:"size-12 rounded-full",src:"images/sea-logo.jpg"})})})]})})})},TF=({title:t,text:e})=>{const{userId:n,headerTitle:r,setHeaderTitle:s}=g.useContext(we),i=Et();return g.useEffect(()=>(s("STAR EDUCATION ACADEMY"),()=>{document.title=r}),[]),d.jsxs("div",{className:"grid p-5 gap-y-2",children:[e&&d.jsx(ge,{variant:"subtitle2",children:e}),d.jsx("div",{children:d.jsx(ke,{size:"small",onClick:()=>i(n?"/app":"/login"),startIcon:d.jsx(E_e,{}),children:"Return Home"})})]})},nd=()=>d.jsx("div",{className:"h-0.5 border border-dashed border-gray-200 mb-2 mt-2"}),U_e=({name:t,className:e,size:n="size-7"})=>d.jsx("img",{className:`${n} ${e}`,src:Ur(t)}),z_e=()=>{var x;const{userId:t,setHeaderTitle:e}=g.useContext(we),n=0,r=10,[s,i]=g.useState(r),[o,a]=g.useState({}),l=(x=o==null?void 0:o.results)==null?void 0:x.slice(n,s),c=`${o==null?void 0:o.testName}`,{resultId:u}=Pl(),[h,f]=g.useState(!0),[p,m]=g.useState(!1),[v,E]=g.useState(null),y=async()=>{try{f(!0);const b=Ve(Ce(be,"users",t),"history"),C=Ce(b,u),T=await Li(C);if(T.exists){const I={id:T.id,...T.data()};a(I),Vn(f)}else m(!0),Vn(f)}catch(b){E("Error fetching reviews: "+b.message),Vn(f)}};g.useEffect(()=>{y()},[u]),g.useEffect(()=>(ei(),ei()),[]);const w=()=>{i(s+r)},_=()=>{var b;if(s>((b=o==null?void 0:o.results)==null?void 0:b.length))return!0};return g.useEffect(()=>{e(c)}),h?d.jsx(vs,{isLoading:h,text:"Loading reviews..."}):p?d.jsx(Mt,{text:"No reviews available"}):v?d.jsx(Mt,{text:v}):d.jsx("div",{className:"p-5",children:o?d.jsxs("div",{className:"grid gap-y-5",children:[d.jsx("div",{className:"font-medium text-lg",children:c}),l==null?void 0:l.map(b=>{const{id:C,question:T,isTrue:I,answer:S,userAnswer:R}=b;return I?d.jsxs("div",{className:"grid font-padauk gap-y-2",children:[d.jsxs("div",{className:"flex gap-x-3 items-center",children:[d.jsx("div",{className:"bg-green-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:C}),d.jsx("div",{className:"flex-1",children:T})]}),d.jsx("div",{children:d.jsxs("div",{className:"grid gap-y-1",children:[d.jsx("div",{className:"text-green-500 font-bold",children:"Correct (your answer)"}),d.jsxs("div",{className:"min-h-12  flex gap-x-3 p-2 border text-green-500 border-green-500 rounded-lg items-center shadow-md shadow-lime-200",children:[d.jsx("img",{className:"w-5 h-5",src:Ur("trueIcon")}),d.jsx("div",{children:S})]})]})}),d.jsx(nd,{})]},`result-${C}`):d.jsxs("div",{className:"grid font-padauk gap-y-2",children:[d.jsxs("div",{className:"flex gap-x-3 items-center",children:[d.jsx("div",{className:"bg-red-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:C}),d.jsx("div",{className:"flex-1",children:T})]}),d.jsxs("div",{className:"grid gap-y-1",children:[d.jsxs("div",{className:"grid gap-y-1",children:[d.jsx("div",{className:"text-red-500 font-bold",children:"Incorrect (your answer)"}),d.jsxs("div",{className:"min-h-12 flex gap-x-3 p-2 border text-red-500 border-red-500 rounded-lg items-center shadow-md shadow-red-200",children:[d.jsx("img",{className:"w-5 h-5",src:Ur("falseIcon")}),d.jsx("div",{children:R})]})]}),d.jsxs("div",{className:"grid gap-y-1",children:[d.jsx("div",{className:"text-green-500 font-bold",children:"Correct"}),d.jsxs("div",{className:" min-h-12  flex gap-x-3 p-2 border text-green-500 shadow-md shadow-lime-200 border-green-500 rounded-lg items-center",children:[d.jsx("img",{className:"w-5 h-5",src:Ur("trueIcon")}),d.jsx("div",{children:S})]})]})]}),d.jsx(nd,{})]},`result-${C}`)}),_()?"":d.jsx("div",{className:"flex justify-center",children:d.jsx(ke,{size:"small",onClick:w,startIcon:d.jsx(v_e,{}),children:"See More"})}),d.jsx("div",{children:d.jsx(_W,{to:`/app/history/${u}`,children:d.jsx(ke,{size:"small",startIcon:d.jsx(fu,{}),children:"Back to results"})})})]}):d.jsx(TF,{text:"Unavailable"})})},SF=()=>d.jsxs("div",{className:"grid gap-y-2  p-2 ",children:[d.jsx(le,{variant:"text",width:150}),d.jsx(le,{variant:"rectangular",height:55,width:"100%"})]}),eP=()=>{const{deleteFromHistory:t,setHeaderTitle:e,userId:n,historyCount:r}=g.useContext(we),s=Et(),[i,o]=g.useState([]),[a,l]=g.useState(null),[c,u]=g.useState(!1),[h,f]=g.useState(!1),[p,m]=g.useState(!1),[v,E]=g.useState([]),y=_t(),{mode:w}=y.palette,_=Ve(Ce(be,"users",n),"history"),[x,b]=g.useState(!0),[C,T]=g.useState(!1),[I,S]=g.useState(null),[R,k]=g.useState(!0),[N,M]=g.useState(0),[D,j]=g.useState(null),A=8,P=async()=>{b(!0);let z=zn(_,po(A));D&&(z=zn(z,em(D)));try{const B=await ci(z);if(B.empty)T(!0);else{const U=B.docs.map(V=>({id:V.id,...V.data()}));o([...i,...U]),j(B.docs[B.docs.length-1]),Vn(b),M(N+1),U.length<A&&k(!1)}}catch(B){const U="Error fetching history: "+B.message;console.log(U),b(!1),S(U)}};g.useEffect(()=>{P()},[]);const O=z=>{p||s(`/app/history/${z.id}`)},$=()=>{t(a),l(null),u(!1)},F=()=>{u(!1),l(null)},G=()=>{const z=i.filter(B=>!v.includes(B.id));o(z),E([]),f(!1),m(!1)};return um("history-page"),Vy("history-page"),g.useEffect(()=>{e("History")},[]),x&&N===0?d.jsx(vs,{isLoading:x,text:"Loading history..."}):C?d.jsx(Mt,{text:"No items available"}):I?d.jsx(Mt,{text:I}):d.jsxs("div",{className:"m-2",children:[d.jsx(da,{data:{value:h,setValue:f,text:`Are you sure to delete ${v.length} ${v.length<=1?"item":"items"} ?`,yesButton:G,noButton:()=>f(!1),setValue:f}}),d.jsx(da,{data:{value:c,text:"Are you sure to delete ?",yesButton:$,noButton:F,setValue:u}}),d.jsxs("div",{className:`grid border  rounded-md shadow-md ${w==="dark"?"border-slate-700":"border-slate-200"}`,children:[i.map((z,B)=>d.jsx(B_e,{h:z,index:B,goToResults:O,mode:w},`history-item-${z.id}`)),R?d.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:d.jsx(ke,{size:"small",onClick:P,children:"load more"})}):""]})]})},B_e=({h:t,index:e,goToResults:n,mode:r})=>{const[s,i]=g.useState(!0);return Vn(i,2e3),s?d.jsx(SF,{}):d.jsxs(Y,{onClick:()=>n(t,e),className:`min-h-20 p-2 border-t  cursor-pointer ${e===0&&"border-t-0"} gap-x-3 ${r==="dark"?"border-slate-700":"border-slate-200"} `,children:[d.jsx("div",{className:"font-medium",children:t.testName}),d.jsx("div",{className:"p-2 flex items-center gap-x-2",children:d.jsx("div",{className:"flex flex-1 items-center gap-x-3",children:d.jsxs("div",{className:"flex-1 sm:flex items-center gap-x-3 ",children:[d.jsxs("div",{className:"",children:["Score: ",t.score," / ",t.results.length," "]}),d.jsxs("div",{className:" ",children:["Date: ",t.date," (",` ${t.time}`,")"]})]})})})]})},W_e=()=>{const[t,e]=g.useState(0),n=()=>{const r=window.innerHeight,s=document.documentElement.scrollHeight,i=window.scrollY,o=s-r,a=i/o*100;e(a)};return g.useEffect(()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}),[]),d.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-20",children:d.jsx("div",{style:{width:`${t}%`},className:"h-1 bg-blue-600"})})},H_e=()=>{const{setHeaderTitle:t}=g.useContext(we),[e,n]=g.useState(null),[r,s]=g.useState(null),[i,o]=g.useState(null),a=_t(),{mode:l}=a.palette,c=[{name:"Posts",image:d.jsx(zT,{}),path:"/app/admin/posts",counts:e},{name:"Tests",image:d.jsx(BT,{}),path:"/app/admin/tests",counts:r},{name:"Users",image:d.jsx(S_e,{}),path:"/app/admin/users",counts:i}],[u,h]=g.useState(c);g.useEffect(()=>{(async()=>{await lo(Ve(be,"posts"),n),await lo(Ve(be,"tests"),s),await lo(Ve(be,"users"),o)})()},[]);const f=Et();return g.useEffect(()=>{t("Admin")},[]),g.useEffect(()=>{h(c)},[e,r,i]),d.jsx("div",{className:"m-5 grid rounded-md border border-slate-200 shadow-md overflow-hidden ",children:u.map((p,m)=>d.jsxs(Y,{onClick:()=>{f(p.path)},className:`${m===0&&"border-t-0"} border-t ${m===u.length-1&&"border-b-0"} transition-all  pt-5 pb-5 border-slate-200 overflow-hidden flex items-center gap-x-1 p-2 cursor-pointer ${l==="light"?"hover:bg-slate-100":"hover:bg-slate-700"}`,children:[p.image,d.jsx("div",{children:p.name}),p.counts&&d.jsx("div",{className:" flex bg-black items-center rounded-full justify-center pl-1 pr-1  min-h-6 min-w-6 text-sm top-0 -left-1 font-bold text-white ",children:p.counts})]},p.name))})},G_e=()=>{const e=new Date().getFullYear();return _t(),d.jsxs(Tr,{bgColor:"background.default",color:"text.primary",className:"w-full shadow-t-md flex flex-col items-center p-1 border-t mt-auto",rowGap:.5,children:[d.jsxs(ge,{children:["SEA copyright 2015 - ",e]}),d.jsx(ge,{children:"All rights reserved."}),d.jsx(ge,{children:"Author: Than Aung Naing"})]})},q_e=()=>{const{setHeaderTitle:t,setUserId:e,openSnackbar:n}=g.useContext(we),[r,s]=g.useState(""),[i,o]=g.useState(""),[a,l]=g.useState(""),[c,u]=g.useState("login"),h=Et();g.useEffect(()=>{t("STAR EDUCATION ACADEMY")},[]);const f=()=>{h("/app")};Zle("auto");const p=async()=>{try{n("Signing in with Google...");const _=(await WY(Zr,Kle)).user,x=Ce(be,"users",_.uid);(await Li(x)).exists()||await nx(Zr.currentUser.displayName,Zr.currentUser.email,"",Zr.currentUser.photoURL,_.uid),br.set("userId",_.uid,{expires:365}),e(_.uid),f(),n(`Signed in as ${_.displayName} successfully`)}catch(w){n(w.message)}},m=async()=>{try{n("Logging in...");const _=(await yY(Zr,i,a)).user,x=Ce(be,"users",_.uid);(await Li(x)).exists()||await nx(_.displayName,_.email,"","",_.uid),br.set("userId",_.uid,{expires:365}),e(_.uid),f(),n("Logged in successfully")}catch(w){n(w.message)}},v=async()=>{try{n("Creating an account...");const w=await vY(Zr,i,a),{user:_}=w;br.set("userId",_.uid,{expires:365}),await nx(r,i,a,"",_.uid),e(_.uid),f(),n("Created an account successfully")}catch(w){n(w.message)}},E=()=>{const w=br.get("userId")||null;let _=!1;return w&&(_=!0),{loggedIn:_,userId:w}},y=()=>{switch(c){case"login":return d.jsx("div",{children:d.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[d.jsx(ge,{variant:"h6",color:"primary",children:"Log In"}),d.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[d.jsx(Fn,{name:"email",variant:"filled",color:"primary",label:"Enter your email",type:"email",size:"small",value:i,onChange:w=>o(w.target.value)}),d.jsx(Fn,{name:"email",variant:"filled",color:"primary",label:"Enter your password",type:"password",size:"small",value:a,onChange:w=>l(w.target.value)}),d.jsx(ke,{onClick:m,sx:{textTransform:"capitalize"},variant:"contained",color:"primary",children:"Log In"})]}),d.jsx(tP,{}),d.jsx("div",{children:d.jsx(ke,{onClick:p,startIcon:d.jsx("img",{className:"size-7",src:Ur("google")}),sx:{textTransform:"capitalize"},variant:"outlined",children:"Sign in With Google"})}),d.jsx(tP,{}),d.jsx("div",{children:d.jsx(ke,{onClick:()=>u("signup"),sx:{textTransform:"capitalize"},variant:"outlined",children:"Create new Account"})})]})});case"signup":return d.jsx("div",{children:d.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[d.jsx(ge,{variant:"h6",color:"primary",children:"Create a new account"}),d.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[d.jsx(Fn,{variant:"filled",color:"primary",label:"Enter your name",type:"email",size:"small",value:r,onChange:w=>s(w.target.value)}),d.jsx(Fn,{name:"email",variant:"filled",color:"primary",label:"Enter your email",type:"email",size:"small",value:i,onChange:w=>o(w.target.value)}),d.jsx(Fn,{name:"email",variant:"filled",color:"primary",label:"Enter your password",type:"password",size:"small",value:a,onChange:w=>l(w.target.value)}),d.jsx(ke,{onClick:()=>{v()},sx:{textTransform:"capitalize"},variant:"contained",color:"primary",children:"Sign up"}),d.jsx("div",{children:d.jsx(ke,{startIcon:d.jsx("img",{className:"size-7",src:Ur("back")}),onClick:()=>u("login"),sx:{textTransform:"capitalize"},variant:"outlined",color:"primary",children:"Log in"})})]})]})})}};return d.jsxs("div",{className:"Login mb-5",children:[d.jsx(vs,{}),E().loggedIn?d.jsx(Y_e,{userId:E().userId}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"text-md rounded-md font-medium  p-1 pl-2 border-b",children:"You must log in first."}),y()]})]})},tP=()=>d.jsx("div",{className:"mt-2 mb-2 ",children:"OR"}),Y_e=({userId:t})=>{const e=Et(),{userData:n}=g.useContext(we);return d.jsxs(Tr,{m:2,children:[d.jsxs(ge,{children:["You are already logged in as ",n==null?void 0:n.name,"."]}),d.jsx(Y,{mt:1,children:d.jsx(ke,{onClick:()=>e("/app/settings"),variant:"outlined",children:"Settings"})})]})};function K_e(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function kF(t,e){return new Promise(function(n,r){let s;return Q_e(t).then(function(i){try{return s=i,n(new Blob([e.slice(0,2),s,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const Q_e=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:s}})=>{const i=new DataView(s);let o=0;if(i.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const a=i.getUint16(o);if(a===65498)break;const l=i.getUint16(o+2);if(a===65505&&i.getUint32(o+4)===1165519206){const c=o+10;let u;switch(i.getUint16(c)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(i.getUint16(c+2,u)!==42)return n("TIFF header contains invalid version");const h=i.getUint32(c+4,u),f=c+h+2+12*i.getUint16(c+h,u);for(let p=c+h+2;p<f;p+=12)if(i.getUint16(p,u)==274){if(i.getUint16(p+2,u)!==3)return n("Orientation data type is invalid");if(i.getUint32(p+4,u)!==1)return n("Orientation data count is invalid");i.setUint16(p+8,1,u);break}return e(s.slice(o,o+2+l))}o+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var W1={},X_e={get exports(){return W1},set exports(t){W1=t}};(function(t){var e,n,r={};X_e.exports=r,r.parse=function(s,i){for(var o=r.bin.readUshort,a=r.bin.readUint,l=0,c={},u=new Uint8Array(s),h=u.length-4;a(u,h)!=101010256;)h--;l=h,l+=4;var f=o(u,l+=4);o(u,l+=2);var p=a(u,l+=2),m=a(u,l+=4);l+=4,l=m;for(var v=0;v<f;v++){a(u,l),l+=4,l+=4,l+=4,a(u,l+=4),p=a(u,l+=4);var E=a(u,l+=4),y=o(u,l+=4),w=o(u,l+2),_=o(u,l+4);l+=6;var x=a(u,l+=8);l+=4,l+=y+w+_,r._readLocal(u,x,c,p,E,i)}return c},r._readLocal=function(s,i,o,a,l,c){var u=r.bin.readUshort,h=r.bin.readUint;h(s,i),u(s,i+=4),u(s,i+=2);var f=u(s,i+=2);h(s,i+=2),h(s,i+=4),i+=4;var p=u(s,i+=8),m=u(s,i+=2);i+=2;var v=r.bin.readUTF8(s,i,p);if(i+=p,i+=m,c)o[v]={size:l,csize:a};else{var E=new Uint8Array(s.buffer,i);if(f==0)o[v]=new Uint8Array(E.buffer.slice(i,i+a));else{if(f!=8)throw"unknown compression method: "+f;var y=new Uint8Array(l);r.inflateRaw(E,y),o[v]=y}}},r.inflateRaw=function(s,i){return r.F.inflate(s,i)},r.inflate=function(s,i){return s[0],s[1],r.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),i)},r.deflate=function(s,i){i==null&&(i={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*s.length));a[o]=120,a[o+1]=156,o+=2,o=r.F.deflateRaw(s,a,o,i.level);var l=r.adler(s,0,s.length);return a[o+0]=l>>>24&255,a[o+1]=l>>>16&255,a[o+2]=l>>>8&255,a[o+3]=l>>>0&255,new Uint8Array(a.buffer,0,o+4)},r.deflateRaw=function(s,i){i==null&&(i={level:6});var o=new Uint8Array(50+Math.floor(1.1*s.length)),a=r.F.deflateRaw(s,o,a,i.level);return new Uint8Array(o.buffer,0,a)},r.encode=function(s,i){i==null&&(i=!1);var o=0,a=r.bin.writeUint,l=r.bin.writeUshort,c={};for(var u in s){var h=!r._noNeed(u)&&!i,f=s[u],p=r.crc.crc(f,0,f.length);c[u]={cpr:h,usize:f.length,crc:p,file:h?r.deflateRaw(f):f}}for(var u in c)o+=c[u].file.length+30+46+2*r.bin.sizeUTF8(u);o+=22;var m=new Uint8Array(o),v=0,E=[];for(var u in c){var y=c[u];E.push(v),v=r._writeHeader(m,v,u,y,0)}var w=0,_=v;for(var u in c)y=c[u],E.push(v),v=r._writeHeader(m,v,u,y,1,E[w++]);var x=v-_;return a(m,v,101010256),v+=4,l(m,v+=4,w),l(m,v+=2,w),a(m,v+=2,x),a(m,v+=4,_),v+=4,v+=2,m.buffer},r._noNeed=function(s){var i=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},r._writeHeader=function(s,i,o,a,l,c){var u=r.bin.writeUint,h=r.bin.writeUshort,f=a.file;return u(s,i,l==0?67324752:33639248),i+=4,l==1&&(i+=2),h(s,i,20),h(s,i+=2,0),h(s,i+=2,a.cpr?8:0),u(s,i+=2,0),u(s,i+=4,a.crc),u(s,i+=4,f.length),u(s,i+=4,a.usize),h(s,i+=4,r.bin.sizeUTF8(o)),h(s,i+=2,0),i+=2,l==1&&(i+=2,i+=2,u(s,i+=6,c),i+=4),i+=r.bin.writeUTF8(s,i,o),l==0&&(s.set(f,i),i+=f.length),i},r.crc={table:function(){for(var s=new Uint32Array(256),i=0;i<256;i++){for(var o=i,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;s[i]=o}return s}(),update:function(s,i,o,a){for(var l=0;l<a;l++)s=r.crc.table[255&(s^i[o+l])]^s>>>8;return s},crc:function(s,i,o){return 4294967295^r.crc.update(4294967295,s,i,o)}},r.adler=function(s,i,o){for(var a=1,l=0,c=i,u=i+o;c<u;){for(var h=Math.min(c+5552,u);c<h;)l+=a+=s[c++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(s,i){return s[i]|s[i+1]<<8},writeUshort:function(s,i,o){s[i]=255&o,s[i+1]=o>>8&255},readUint:function(s,i){return 16777216*s[i+3]+(s[i+2]<<16|s[i+1]<<8|s[i])},writeUint:function(s,i,o){s[i]=255&o,s[i+1]=o>>8&255,s[i+2]=o>>16&255,s[i+3]=o>>24&255},readASCII:function(s,i,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(s[i+l]);return a},writeASCII:function(s,i,o){for(var a=0;a<o.length;a++)s[i+a]=o.charCodeAt(a)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,i,o){for(var a,l="",c=0;c<o;c++)l+="%"+r.bin.pad(s[i+c].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(s,i,o)}return a},writeUTF8:function(s,i,o){for(var a=o.length,l=0,c=0;c<a;c++){var u=o.charCodeAt(c);if(!(4294967168&u))s[i+l]=u,l++;else if(!(4294965248&u))s[i+l]=192|u>>6,s[i+l+1]=128|u>>0&63,l+=2;else if(!(4294901760&u))s[i+l]=224|u>>12,s[i+l+1]=128|u>>6&63,s[i+l+2]=128|u>>0&63,l+=3;else{if(4292870144&u)throw"e";s[i+l]=240|u>>18,s[i+l+1]=128|u>>12&63,s[i+l+2]=128|u>>6&63,s[i+l+3]=128|u>>0&63,l+=4}}return l},sizeUTF8:function(s){for(var i=s.length,o=0,a=0;a<i;a++){var l=s.charCodeAt(a);if(!(4294967168&l))o++;else if(!(4294965248&l))o+=2;else if(!(4294901760&l))o+=3;else{if(4292870144&l)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(s,i,o,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],c=r.F.U,u=r.F._goodIndex;r.F._hash;var h=r.F._putsE,f=0,p=o<<3,m=0,v=s.length;if(a==0){for(;f<v;)h(i,p,f+(k=Math.min(65535,v-f))==v?1:0),p=r.F._copyExact(s,f,k,i,p+8),f+=k;return p>>>3}var E=c.lits,y=c.strt,w=c.prev,_=0,x=0,b=0,C=0,T=0,I=0;for(v>2&&(y[I=r.F._hash(s,0)]=0),f=0;f<v;f++){if(T=I,f+1<v-2){I=r.F._hash(s,f+1);var S=f+1&32767;w[S]=y[I],y[I]=S}if(m<=f){(_>14e3||x>26697)&&v-f>100&&(m<f&&(E[_]=f-m,_+=2,m=f),p=r.F._writeBlock(f==v-1||m==v?1:0,E,_,C,s,b,f-b,i,p),_=x=C=0,b=f);var R=0;f<v-2&&(R=r.F._bestMatch(s,f,w,T,Math.min(l[2],v-f),l[3]));var k=R>>>16,N=65535&R;if(R!=0){N=65535&R;var M=u(k=R>>>16,c.of0);c.lhst[257+M]++;var D=u(N,c.df0);c.dhst[D]++,C+=c.exb[M]+c.dxb[D],E[_]=k<<23|f-m,E[_+1]=N<<16|M<<8|D,_+=2,m=f+k}else c.lhst[s[f]]++;x++}}for(b==f&&s.length!=0||(m<f&&(E[_]=f-m,_+=2,m=f),p=r.F._writeBlock(1,E,_,C,s,b,f-b,i,p),_=0,x=0,_=x=C=0,b=f);7&p;)p++;return p>>>3},r.F._bestMatch=function(s,i,o,a,l,c){var u=32767&i,h=o[u],f=u-h+32768&32767;if(h==u||a!=r.F._hash(s,i-f))return 0;for(var p=0,m=0,v=Math.min(32767,i);f<=v&&--c!=0&&h!=u;){if(p==0||s[i+p]==s[i+p-f]){var E=r.F._howLong(s,i,f);if(E>p){if(m=f,(p=E)>=l)break;f+2<E&&(E=f+2);for(var y=0,w=0;w<E-2;w++){var _=i-f+w+32768&32767,x=_-o[_]+32768&32767;x>y&&(y=x,h=_)}}}f+=(u=h)-(h=o[u])+32768&32767}return p<<16|m},r.F._howLong=function(s,i,o){if(s[i]!=s[i-o]||s[i+1]!=s[i+1-o]||s[i+2]!=s[i+2-o])return 0;var a=i,l=Math.min(s.length,i+258);for(i+=3;i<l&&s[i]==s[i-o];)i++;return i-a},r.F._hash=function(s,i){return(s[i]<<8|s[i+1])+(s[i+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(s,i,o,a,l,c,u,h,f){var p,m,v,E,y,w,_,x,b,C=r.F.U,T=r.F._putsF,I=r.F._putsE;C.lhst[256]++,m=(p=r.F.getTrees())[0],v=p[1],E=p[2],y=p[3],w=p[4],_=p[5],x=p[6],b=p[7];var S=32+(f+3&7?8-(f+3&7):0)+(u<<3),R=a+r.F.contSize(C.fltree,C.lhst)+r.F.contSize(C.fdtree,C.dhst),k=a+r.F.contSize(C.ltree,C.lhst)+r.F.contSize(C.dtree,C.dhst);k+=14+3*_+r.F.contSize(C.itree,C.ihst)+(2*C.ihst[16]+3*C.ihst[17]+7*C.ihst[18]);for(var N=0;N<286;N++)C.lhst[N]=0;for(N=0;N<30;N++)C.dhst[N]=0;for(N=0;N<19;N++)C.ihst[N]=0;var M=S<R&&S<k?0:R<k?1:2;if(T(h,f,s),T(h,f+1,M),f+=3,M==0){for(;7&f;)f++;f=r.F._copyExact(l,c,u,h,f)}else{var D,j;if(M==1&&(D=C.fltree,j=C.fdtree),M==2){r.F.makeCodes(C.ltree,m),r.F.revCodes(C.ltree,m),r.F.makeCodes(C.dtree,v),r.F.revCodes(C.dtree,v),r.F.makeCodes(C.itree,E),r.F.revCodes(C.itree,E),D=C.ltree,j=C.dtree,I(h,f,y-257),I(h,f+=5,w-1),I(h,f+=5,_-4),f+=4;for(var A=0;A<_;A++)I(h,f+3*A,C.itree[1+(C.ordr[A]<<1)]);f+=3*_,f=r.F._codeTiny(x,C.itree,h,f),f=r.F._codeTiny(b,C.itree,h,f)}for(var P=c,O=0;O<o;O+=2){for(var $=i[O],F=$>>>23,G=P+(8388607&$);P<G;)f=r.F._writeLit(l[P++],D,h,f);if(F!=0){var z=i[O+1],B=z>>16,U=z>>8&255,V=255&z;I(h,f=r.F._writeLit(257+U,D,h,f),F-C.of0[U]),f+=C.exb[U],T(h,f=r.F._writeLit(V,j,h,f),B-C.df0[V]),f+=C.dxb[V],P+=F}}f=r.F._writeLit(256,D,h,f)}return f},r.F._copyExact=function(s,i,o,a,l){var c=l>>>3;return a[c]=o,a[c+1]=o>>>8,a[c+2]=255-a[c],a[c+3]=255-a[c+1],c+=4,a.set(new Uint8Array(s.buffer,i,o),c),l+(o+4<<3)},r.F.getTrees=function(){for(var s=r.F.U,i=r.F._hufTree(s.lhst,s.ltree,15),o=r.F._hufTree(s.dhst,s.dtree,15),a=[],l=r.F._lenCodes(s.ltree,a),c=[],u=r.F._lenCodes(s.dtree,c),h=0;h<a.length;h+=2)s.ihst[a[h]]++;for(h=0;h<c.length;h+=2)s.ihst[c[h]]++;for(var f=r.F._hufTree(s.ihst,s.itree,7),p=19;p>4&&s.itree[1+(s.ordr[p-1]<<1)]==0;)p--;return[i,o,f,l,u,p,a,c]},r.F.getSecond=function(s){for(var i=[],o=0;o<s.length;o+=2)i.push(s[o+1]);return i},r.F.nonZero=function(s){for(var i="",o=0;o<s.length;o+=2)s[o+1]!=0&&(i+=(o>>1)+",");return i},r.F.contSize=function(s,i){for(var o=0,a=0;a<i.length;a++)o+=i[a]*s[1+(a<<1)];return o},r.F._codeTiny=function(s,i,o,a){for(var l=0;l<s.length;l+=2){var c=s[l],u=s[l+1];a=r.F._writeLit(c,i,o,a);var h=c==16?2:c==17?3:7;c>15&&(r.F._putsE(o,a,u,h),a+=h)}return a},r.F._lenCodes=function(s,i){for(var o=s.length;o!=2&&s[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var l=s[a+1],c=a+3<o?s[a+3]:-1,u=a+5<o?s[a+5]:-1,h=a==0?-1:s[a-1];if(l==0&&c==l&&u==l){for(var f=a+5;f+2<o&&s[f+2]==l;)f+=2;(p=Math.min(f+1-a>>>1,138))<11?i.push(17,p-3):i.push(18,p-11),a+=2*p-2}else if(l==h&&c==l&&u==l){for(f=a+5;f+2<o&&s[f+2]==l;)f+=2;var p=Math.min(f+1-a>>>1,6);i.push(16,p-3),a+=2*p-2}else i.push(l,0)}return o>>>1},r.F._hufTree=function(s,i,o){var a=[],l=s.length,c=i.length,u=0;for(u=0;u<c;u+=2)i[u]=0,i[u+1]=0;for(u=0;u<l;u++)s[u]!=0&&a.push({lit:u,f:s[u]});var h=a.length,f=a.slice(0);if(h==0)return 0;if(h==1){var p=a[0].lit;return f=p==0?1:0,i[1+(p<<1)]=1,i[1+(f<<1)]=1,1}a.sort(function(x,b){return x.f-b.f});var m=a[0],v=a[1],E=0,y=1,w=2;for(a[0]={lit:-1,f:m.f+v.f,l:m,r:v,d:0};y!=h-1;)m=E!=y&&(w==h||a[E].f<a[w].f)?a[E++]:a[w++],v=E!=y&&(w==h||a[E].f<a[w].f)?a[E++]:a[w++],a[y++]={lit:-1,f:m.f+v.f,l:m,r:v};var _=r.F.setDepth(a[y-1],0);for(_>o&&(r.F.restrictDepth(f,o,_),_=o),u=0;u<h;u++)i[1+(f[u].lit<<1)]=f[u].d;return _},r.F.setDepth=function(s,i){return s.lit!=-1?(s.d=i,i):Math.max(r.F.setDepth(s.l,i+1),r.F.setDepth(s.r,i+1))},r.F.restrictDepth=function(s,i,o){var a=0,l=1<<o-i,c=0;for(s.sort(function(h,f){return f.d==h.d?h.f-f.f:f.d-h.d}),a=0;a<s.length&&s[a].d>i;a++){var u=s[a].d;s[a].d=i,c+=l-(1<<o-u)}for(c>>>=o-i;c>0;)(u=s[a].d)<i?(s[a].d++,c-=1<<i-u-1):a++;for(;a>=0;a--)s[a].d==i&&c<0&&(s[a].d--,c++);c!=0&&console.log("debt left")},r.F._goodIndex=function(s,i){var o=0;return i[16|o]<=s&&(o|=16),i[8|o]<=s&&(o|=8),i[4|o]<=s&&(o|=4),i[2|o]<=s&&(o|=2),i[1|o]<=s&&(o|=1),o},r.F._writeLit=function(s,i,o,a){return r.F._putsF(o,a,i[s<<1]),a+i[1+(s<<1)]},r.F.inflate=function(s,i){var o=Uint8Array;if(s[0]==3&&s[1]==0)return i||new o(0);var a=r.F,l=a._bitsF,c=a._bitsE,u=a._decodeTiny,h=a.makeCodes,f=a.codes2map,p=a._get17,m=a.U,v=i==null;v&&(i=new o(s.length>>>2<<3));for(var E,y,w=0,_=0,x=0,b=0,C=0,T=0,I=0,S=0,R=0;w==0;)if(w=l(s,R,1),_=l(s,R+1,2),R+=3,_!=0){if(v&&(i=r.F._check(i,S+(1<<17))),_==1&&(E=m.flmap,y=m.fdmap,T=511,I=31),_==2){x=c(s,R,5)+257,b=c(s,R+5,5)+1,C=c(s,R+10,4)+4,R+=14;for(var k=0;k<38;k+=2)m.itree[k]=0,m.itree[k+1]=0;var N=1;for(k=0;k<C;k++){var M=c(s,R+3*k,3);m.itree[1+(m.ordr[k]<<1)]=M,M>N&&(N=M)}R+=3*C,h(m.itree,N),f(m.itree,N,m.imap),E=m.lmap,y=m.dmap,R=u(m.imap,(1<<N)-1,x+b,s,R,m.ttree);var D=a._copyOut(m.ttree,0,x,m.ltree);T=(1<<D)-1;var j=a._copyOut(m.ttree,x,b,m.dtree);I=(1<<j)-1,h(m.ltree,D),f(m.ltree,D,E),h(m.dtree,j),f(m.dtree,j,y)}for(;;){var A=E[p(s,R)&T];R+=15&A;var P=A>>>4;if(!(P>>>8))i[S++]=P;else{if(P==256)break;var O=S+P-254;if(P>264){var $=m.ldef[P-257];O=S+($>>>3)+c(s,R,7&$),R+=7&$}var F=y[p(s,R)&I];R+=15&F;var G=F>>>4,z=m.ddef[G],B=(z>>>4)+l(s,R,15&z);for(R+=15&z,v&&(i=r.F._check(i,S+(1<<17)));S<O;)i[S]=i[S++-B],i[S]=i[S++-B],i[S]=i[S++-B],i[S]=i[S++-B];S=O}}}else{7&R&&(R+=8-(7&R));var U=4+(R>>>3),V=s[U-4]|s[U-3]<<8;v&&(i=r.F._check(i,S+V)),i.set(new o(s.buffer,s.byteOffset+U,V),S),R=U+V<<3,S+=V}return i.length==S?i:i.slice(0,S)},r.F._check=function(s,i){var o=s.length;if(i<=o)return s;var a=new Uint8Array(Math.max(o<<1,i));return a.set(s,0),a},r.F._decodeTiny=function(s,i,o,a,l,c){for(var u=r.F._bitsE,h=r.F._get17,f=0;f<o;){var p=s[h(a,l)&i];l+=15&p;var m=p>>>4;if(m<=15)c[f]=m,f++;else{var v=0,E=0;m==16?(E=3+u(a,l,2),l+=2,v=c[f-1]):m==17?(E=3+u(a,l,3),l+=3):m==18&&(E=11+u(a,l,7),l+=7);for(var y=f+E;f<y;)c[f]=v,f++}}return l},r.F._copyOut=function(s,i,o,a){for(var l=0,c=0,u=a.length>>>1;c<o;){var h=s[c+i];a[c<<1]=0,a[1+(c<<1)]=h,h>l&&(l=h),c++}for(;c<u;)a[c<<1]=0,a[1+(c<<1)]=0,c++;return l},r.F.makeCodes=function(s,i){for(var o,a,l,c,u=r.F.U,h=s.length,f=u.bl_count,p=0;p<=i;p++)f[p]=0;for(p=1;p<h;p+=2)f[s[p]]++;var m=u.next_code;for(o=0,f[0]=0,a=1;a<=i;a++)o=o+f[a-1]<<1,m[a]=o;for(l=0;l<h;l+=2)(c=s[l+1])!=0&&(s[l]=m[c],m[c]++)},r.F.codes2map=function(s,i,o){for(var a=s.length,l=r.F.U.rev15,c=0;c<a;c+=2)if(s[c+1]!=0)for(var u=c>>1,h=s[c+1],f=u<<4|h,p=i-h,m=s[c]<<p,v=m+(1<<p);m!=v;)o[l[m]>>>15-i]=f,m++},r.F.revCodes=function(s,i){for(var o=r.F.U.rev15,a=15-i,l=0;l<s.length;l+=2){var c=s[l]<<i-s[l+1];s[l]=o[c]>>>a}},r.F._putsE=function(s,i,o){o<<=7&i;var a=i>>>3;s[a]|=o,s[a+1]|=o>>>8},r.F._putsF=function(s,i,o){o<<=7&i;var a=i>>>3;s[a]|=o,s[a+1]|=o>>>8,s[a+2]|=o>>>16},r.F._bitsE=function(s,i,o){return(s[i>>>3]|s[1+(i>>>3)]<<8)>>>(7&i)&(1<<o)-1},r.F._bitsF=function(s,i,o){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)&(1<<o)-1},r.F._get17=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)},r.F._get25=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16|s[3+(i>>>3)]<<24)>>>(7&i)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var s=r.F.U,i=0;i<32768;i++){var o=i;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,s.rev15[i]=(o>>>16|o<<16)>>>17}function a(l,c,u){for(;c--!=0;)l.push(0,u)}for(i=0;i<32;i++)s.ldef[i]=s.of0[i]<<3|s.exb[i],s.ddef[i]=s.df0[i]<<4|s.dxb[i];a(s.fltree,144,8),a(s.fltree,112,9),a(s.fltree,24,7),a(s.fltree,8,8),r.F.makeCodes(s.fltree,9),r.F.codes2map(s.fltree,9,s.flmap),r.F.revCodes(s.fltree,9),a(s.fdtree,32,5),r.F.makeCodes(s.fdtree,5),r.F.codes2map(s.fdtree,5,s.fdmap),r.F.revCodes(s.fdtree,5),a(s.itree,19,0),a(s.ltree,286,0),a(s.dtree,30,0),a(s.ttree,320,0)}()})();var J_e=K_e({__proto__:null,default:W1},[W1]);const yi=function(){var t={nextZero(u,h){for(;u[h]!=0;)h++;return h},readUshort:(u,h)=>u[h]<<8|u[h+1],writeUshort(u,h,f){u[h]=f>>8&255,u[h+1]=255&f},readUint:(u,h)=>16777216*u[h]+(u[h+1]<<16|u[h+2]<<8|u[h+3]),writeUint(u,h,f){u[h]=f>>24&255,u[h+1]=f>>16&255,u[h+2]=f>>8&255,u[h+3]=255&f},readASCII(u,h,f){let p="";for(let m=0;m<f;m++)p+=String.fromCharCode(u[h+m]);return p},writeASCII(u,h,f){for(let p=0;p<f.length;p++)u[h+p]=f.charCodeAt(p)},readBytes(u,h,f){const p=[];for(let m=0;m<f;m++)p.push(u[h+m]);return p},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,h,f){let p,m="";for(let v=0;v<f;v++)m+=`%${t.pad(u[h+v].toString(16))}`;try{p=decodeURIComponent(m)}catch{return t.readASCII(u,h,f)}return p}};function e(u,h,f,p){const m=h*f,v=i(p),E=Math.ceil(h*v/8),y=new Uint8Array(4*m),w=new Uint32Array(y.buffer),{ctype:_}=p,{depth:x}=p,b=t.readUshort;if(_==6){const $=m<<2;if(x==8)for(var C=0;C<$;C+=4)y[C]=u[C],y[C+1]=u[C+1],y[C+2]=u[C+2],y[C+3]=u[C+3];if(x==16)for(C=0;C<$;C++)y[C]=u[C<<1]}else if(_==2){const $=p.tabs.tRNS;if($==null){if(x==8)for(C=0;C<m;C++){var T=3*C;w[C]=255<<24|u[T+2]<<16|u[T+1]<<8|u[T]}if(x==16)for(C=0;C<m;C++)T=6*C,w[C]=255<<24|u[T+4]<<16|u[T+2]<<8|u[T]}else{var I=$[0];const F=$[1],G=$[2];if(x==8)for(C=0;C<m;C++){var S=C<<2;T=3*C,w[C]=255<<24|u[T+2]<<16|u[T+1]<<8|u[T],u[T]==I&&u[T+1]==F&&u[T+2]==G&&(y[S+3]=0)}if(x==16)for(C=0;C<m;C++)S=C<<2,T=6*C,w[C]=255<<24|u[T+4]<<16|u[T+2]<<8|u[T],b(u,T)==I&&b(u,T+2)==F&&b(u,T+4)==G&&(y[S+3]=0)}}else if(_==3){const $=p.tabs.PLTE,F=p.tabs.tRNS,G=F?F.length:0;if(x==1)for(var R=0;R<f;R++){var k=R*E,N=R*h;for(C=0;C<h;C++){S=N+C<<2;var M=3*(D=u[k+(C>>3)]>>7-((7&C)<<0)&1);y[S]=$[M],y[S+1]=$[M+1],y[S+2]=$[M+2],y[S+3]=D<G?F[D]:255}}if(x==2)for(R=0;R<f;R++)for(k=R*E,N=R*h,C=0;C<h;C++)S=N+C<<2,M=3*(D=u[k+(C>>2)]>>6-((3&C)<<1)&3),y[S]=$[M],y[S+1]=$[M+1],y[S+2]=$[M+2],y[S+3]=D<G?F[D]:255;if(x==4)for(R=0;R<f;R++)for(k=R*E,N=R*h,C=0;C<h;C++)S=N+C<<2,M=3*(D=u[k+(C>>1)]>>4-((1&C)<<2)&15),y[S]=$[M],y[S+1]=$[M+1],y[S+2]=$[M+2],y[S+3]=D<G?F[D]:255;if(x==8)for(C=0;C<m;C++){var D;S=C<<2,M=3*(D=u[C]),y[S]=$[M],y[S+1]=$[M+1],y[S+2]=$[M+2],y[S+3]=D<G?F[D]:255}}else if(_==4){if(x==8)for(C=0;C<m;C++){S=C<<2;var j=u[A=C<<1];y[S]=j,y[S+1]=j,y[S+2]=j,y[S+3]=u[A+1]}if(x==16)for(C=0;C<m;C++){var A;S=C<<2,j=u[A=C<<2],y[S]=j,y[S+1]=j,y[S+2]=j,y[S+3]=u[A+2]}}else if(_==0)for(I=p.tabs.tRNS?p.tabs.tRNS:-1,R=0;R<f;R++){const $=R*E,F=R*h;if(x==1)for(var P=0;P<h;P++){var O=(j=255*(u[$+(P>>>3)]>>>7-(7&P)&1))==255*I?0:255;w[F+P]=O<<24|j<<16|j<<8|j}else if(x==2)for(P=0;P<h;P++)O=(j=85*(u[$+(P>>>2)]>>>6-((3&P)<<1)&3))==85*I?0:255,w[F+P]=O<<24|j<<16|j<<8|j;else if(x==4)for(P=0;P<h;P++)O=(j=17*(u[$+(P>>>1)]>>>4-((1&P)<<2)&15))==17*I?0:255,w[F+P]=O<<24|j<<16|j<<8|j;else if(x==8)for(P=0;P<h;P++)O=(j=u[$+P])==I?0:255,w[F+P]=O<<24|j<<16|j<<8|j;else if(x==16)for(P=0;P<h;P++)j=u[$+(P<<1)],O=b(u,$+(P<<1))==I?0:255,w[F+P]=O<<24|j<<16|j<<8|j}return y}function n(u,h,f,p){const m=i(u),v=Math.ceil(f*m/8),E=new Uint8Array((v+1+u.interlace)*p);return h=u.tabs.CgBI?s(h,E):r(h,E),u.interlace==0?h=o(h,u,0,f,p):u.interlace==1&&(h=function(w,_){const x=_.width,b=_.height,C=i(_),T=C>>3,I=Math.ceil(x*C/8),S=new Uint8Array(b*I);let R=0;const k=[0,0,4,0,2,0,1],N=[0,4,0,2,0,1,0],M=[8,8,8,4,4,2,2],D=[8,8,4,4,2,2,1];let j=0;for(;j<7;){const P=M[j],O=D[j];let $=0,F=0,G=k[j];for(;G<b;)G+=P,F++;let z=N[j];for(;z<x;)z+=O,$++;const B=Math.ceil($*C/8);o(w,_,R,$,F);let U=0,V=k[j];for(;V<b;){let q=N[j],ce=R+U*B<<3;for(;q<x;){var A;if(C==1&&(A=(A=w[ce>>3])>>7-(7&ce)&1,S[V*I+(q>>3)]|=A<<7-((7&q)<<0)),C==2&&(A=(A=w[ce>>3])>>6-(7&ce)&3,S[V*I+(q>>2)]|=A<<6-((3&q)<<1)),C==4&&(A=(A=w[ce>>3])>>4-(7&ce)&15,S[V*I+(q>>1)]|=A<<4-((1&q)<<2)),C>=8){const X=V*I+q*T;for(let Z=0;Z<T;Z++)S[X+Z]=w[(ce>>3)+Z]}ce+=C,q+=O}U++,V+=P}$*F!=0&&(R+=F*(1+B)),j+=1}return S}(h,u)),h}function r(u,h){return s(new Uint8Array(u.buffer,2,u.length-6),h)}var s=function(){const u={H:{}};return u.H.N=function(h,f){const p=Uint8Array;let m,v,E=0,y=0,w=0,_=0,x=0,b=0,C=0,T=0,I=0;if(h[0]==3&&h[1]==0)return f||new p(0);const S=u.H,R=S.b,k=S.e,N=S.R,M=S.n,D=S.A,j=S.Z,A=S.m,P=f==null;for(P&&(f=new p(h.length>>>2<<5));E==0;)if(E=R(h,I,1),y=R(h,I+1,2),I+=3,y!=0){if(P&&(f=u.H.W(f,T+(1<<17))),y==1&&(m=A.J,v=A.h,b=511,C=31),y==2){w=k(h,I,5)+257,_=k(h,I+5,5)+1,x=k(h,I+10,4)+4,I+=14;let $=1;for(var O=0;O<38;O+=2)A.Q[O]=0,A.Q[O+1]=0;for(O=0;O<x;O++){const z=k(h,I+3*O,3);A.Q[1+(A.X[O]<<1)]=z,z>$&&($=z)}I+=3*x,M(A.Q,$),D(A.Q,$,A.u),m=A.w,v=A.d,I=N(A.u,(1<<$)-1,w+_,h,I,A.v);const F=S.V(A.v,0,w,A.C);b=(1<<F)-1;const G=S.V(A.v,w,_,A.D);C=(1<<G)-1,M(A.C,F),D(A.C,F,m),M(A.D,G),D(A.D,G,v)}for(;;){const $=m[j(h,I)&b];I+=15&$;const F=$>>>4;if(!(F>>>8))f[T++]=F;else{if(F==256)break;{let G=T+F-254;if(F>264){const q=A.q[F-257];G=T+(q>>>3)+k(h,I,7&q),I+=7&q}const z=v[j(h,I)&C];I+=15&z;const B=z>>>4,U=A.c[B],V=(U>>>4)+R(h,I,15&U);for(I+=15&U;T<G;)f[T]=f[T++-V],f[T]=f[T++-V],f[T]=f[T++-V],f[T]=f[T++-V];T=G}}}}else{7&I&&(I+=8-(7&I));const $=4+(I>>>3),F=h[$-4]|h[$-3]<<8;P&&(f=u.H.W(f,T+F)),f.set(new p(h.buffer,h.byteOffset+$,F),T),I=$+F<<3,T+=F}return f.length==T?f:f.slice(0,T)},u.H.W=function(h,f){const p=h.length;if(f<=p)return h;const m=new Uint8Array(p<<1);return m.set(h,0),m},u.H.R=function(h,f,p,m,v,E){const y=u.H.e,w=u.H.Z;let _=0;for(;_<p;){const x=h[w(m,v)&f];v+=15&x;const b=x>>>4;if(b<=15)E[_]=b,_++;else{let C=0,T=0;b==16?(T=3+y(m,v,2),v+=2,C=E[_-1]):b==17?(T=3+y(m,v,3),v+=3):b==18&&(T=11+y(m,v,7),v+=7);const I=_+T;for(;_<I;)E[_]=C,_++}}return v},u.H.V=function(h,f,p,m){let v=0,E=0;const y=m.length>>>1;for(;E<p;){const w=h[E+f];m[E<<1]=0,m[1+(E<<1)]=w,w>v&&(v=w),E++}for(;E<y;)m[E<<1]=0,m[1+(E<<1)]=0,E++;return v},u.H.n=function(h,f){const p=u.H.m,m=h.length;let v,E,y,w;const _=p.j;for(var x=0;x<=f;x++)_[x]=0;for(x=1;x<m;x+=2)_[h[x]]++;const b=p.K;for(v=0,_[0]=0,E=1;E<=f;E++)v=v+_[E-1]<<1,b[E]=v;for(y=0;y<m;y+=2)w=h[y+1],w!=0&&(h[y]=b[w],b[w]++)},u.H.A=function(h,f,p){const m=h.length,v=u.H.m.r;for(let E=0;E<m;E+=2)if(h[E+1]!=0){const y=E>>1,w=h[E+1],_=y<<4|w,x=f-w;let b=h[E]<<x;const C=b+(1<<x);for(;b!=C;)p[v[b]>>>15-f]=_,b++}},u.H.l=function(h,f){const p=u.H.m.r,m=15-f;for(let v=0;v<h.length;v+=2){const E=h[v]<<f-h[v+1];h[v]=p[E]>>>m}},u.H.M=function(h,f,p){p<<=7&f;const m=f>>>3;h[m]|=p,h[m+1]|=p>>>8},u.H.I=function(h,f,p){p<<=7&f;const m=f>>>3;h[m]|=p,h[m+1]|=p>>>8,h[m+2]|=p>>>16},u.H.e=function(h,f,p){return(h[f>>>3]|h[1+(f>>>3)]<<8)>>>(7&f)&(1<<p)-1},u.H.b=function(h,f,p){return(h[f>>>3]|h[1+(f>>>3)]<<8|h[2+(f>>>3)]<<16)>>>(7&f)&(1<<p)-1},u.H.Z=function(h,f){return(h[f>>>3]|h[1+(f>>>3)]<<8|h[2+(f>>>3)]<<16)>>>(7&f)},u.H.i=function(h,f){return(h[f>>>3]|h[1+(f>>>3)]<<8|h[2+(f>>>3)]<<16|h[3+(f>>>3)]<<24)>>>(7&f)},u.H.m=function(){const h=Uint16Array,f=Uint32Array;return{K:new h(16),j:new h(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new h(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new f(32),J:new h(512),_:[],h:new h(32),$:[],w:new h(32768),C:[],v:[],d:new h(32768),D:[],u:new h(512),Q:[],r:new h(32768),s:new f(286),Y:new f(30),a:new f(19),t:new f(15e3),k:new h(65536),g:new h(32768)}}(),function(){const h=u.H.m;for(var f=0;f<32768;f++){let m=f;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,h.r[f]=(m>>>16|m<<16)>>>17}function p(m,v,E){for(;v--!=0;)m.push(0,E)}for(f=0;f<32;f++)h.q[f]=h.S[f]<<3|h.T[f],h.c[f]=h.p[f]<<4|h.z[f];p(h._,144,8),p(h._,112,9),p(h._,24,7),p(h._,8,8),u.H.n(h._,9),u.H.A(h._,9,h.J),u.H.l(h._,9),p(h.$,32,5),u.H.n(h.$,5),u.H.A(h.$,5,h.h),u.H.l(h.$,5),p(h.Q,19,0),p(h.C,286,0),p(h.D,30,0),p(h.v,320,0)}(),u.H.N}();function i(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function o(u,h,f,p,m){let v=i(h);const E=Math.ceil(p*v/8);let y,w;v=Math.ceil(v/8);let _=u[f],x=0;if(_>1&&(u[f]=[0,0,1][_-2]),_==3)for(x=v;x<E;x++)u[x+1]=u[x+1]+(u[x+1-v]>>>1)&255;for(let b=0;b<m;b++)if(y=f+b*E,w=y+b+1,_=u[w-1],x=0,_==0)for(;x<E;x++)u[y+x]=u[w+x];else if(_==1){for(;x<v;x++)u[y+x]=u[w+x];for(;x<E;x++)u[y+x]=u[w+x]+u[y+x-v]}else if(_==2)for(;x<E;x++)u[y+x]=u[w+x]+u[y+x-E];else if(_==3){for(;x<v;x++)u[y+x]=u[w+x]+(u[y+x-E]>>>1);for(;x<E;x++)u[y+x]=u[w+x]+(u[y+x-E]+u[y+x-v]>>>1)}else{for(;x<v;x++)u[y+x]=u[w+x]+a(0,u[y+x-E],0);for(;x<E;x++)u[y+x]=u[w+x]+a(u[y+x-v],u[y+x-E],u[y+x-v-E])}return u}function a(u,h,f){const p=u+h-f,m=p-u,v=p-h,E=p-f;return m*m<=v*v&&m*m<=E*E?u:v*v<=E*E?h:f}function l(u,h,f){f.width=t.readUint(u,h),h+=4,f.height=t.readUint(u,h),h+=4,f.depth=u[h],h++,f.ctype=u[h],h++,f.compress=u[h],h++,f.filter=u[h],h++,f.interlace=u[h],h++}function c(u,h,f,p,m,v,E,y,w){const _=Math.min(h,m),x=Math.min(f,v);let b=0,C=0;for(let j=0;j<x;j++)for(let A=0;A<_;A++)if(E>=0&&y>=0?(b=j*h+A<<2,C=(y+j)*m+E+A<<2):(b=(-y+j)*h-E+A<<2,C=j*m+A<<2),w==0)p[C]=u[b],p[C+1]=u[b+1],p[C+2]=u[b+2],p[C+3]=u[b+3];else if(w==1){var T=u[b+3]*.00392156862745098,I=u[b]*T,S=u[b+1]*T,R=u[b+2]*T,k=p[C+3]*(1/255),N=p[C]*k,M=p[C+1]*k,D=p[C+2]*k;const P=1-T,O=T+k*P,$=O==0?0:1/O;p[C+3]=255*O,p[C+0]=(I+N*P)*$,p[C+1]=(S+M*P)*$,p[C+2]=(R+D*P)*$}else if(w==2)T=u[b+3],I=u[b],S=u[b+1],R=u[b+2],k=p[C+3],N=p[C],M=p[C+1],D=p[C+2],T==k&&I==N&&S==M&&R==D?(p[C]=0,p[C+1]=0,p[C+2]=0,p[C+3]=0):(p[C]=I,p[C+1]=S,p[C+2]=R,p[C+3]=T);else if(w==3){if(T=u[b+3],I=u[b],S=u[b+1],R=u[b+2],k=p[C+3],N=p[C],M=p[C+1],D=p[C+2],T==k&&I==N&&S==M&&R==D)continue;if(T<220&&k>20)return!1}return!0}return{decode:function(h){const f=new Uint8Array(h);let p=8;const m=t,v=m.readUshort,E=m.readUint,y={tabs:{},frames:[]},w=new Uint8Array(f.length);let _,x=0,b=0;const C=[137,80,78,71,13,10,26,10];for(var T=0;T<8;T++)if(f[T]!=C[T])throw"The input is not a PNG file!";for(;p<f.length;){const j=m.readUint(f,p);p+=4;const A=m.readASCII(f,p,4);if(p+=4,A=="IHDR")l(f,p,y);else if(A=="iCCP"){for(var I=p;f[I]!=0;)I++;m.readASCII(f,p,I-p),f[I+1];const P=f.slice(I+2,p+j);let O=null;try{O=r(P)}catch{O=s(P)}y.tabs[A]=O}else if(A=="CgBI")y.tabs[A]=f.slice(p,p+4);else if(A=="IDAT"){for(T=0;T<j;T++)w[x+T]=f[p+T];x+=j}else if(A=="acTL")y.tabs[A]={num_frames:E(f,p),num_plays:E(f,p+4)},_=new Uint8Array(f.length);else if(A=="fcTL"){b!=0&&((D=y.frames[y.frames.length-1]).data=n(y,_.slice(0,b),D.rect.width,D.rect.height),b=0);const P={x:E(f,p+12),y:E(f,p+16),width:E(f,p+4),height:E(f,p+8)};let O=v(f,p+22);O=v(f,p+20)/(O==0?100:O);const $={rect:P,delay:Math.round(1e3*O),dispose:f[p+24],blend:f[p+25]};y.frames.push($)}else if(A=="fdAT"){for(T=0;T<j-4;T++)_[b+T]=f[p+T+4];b+=j-4}else if(A=="pHYs")y.tabs[A]=[m.readUint(f,p),m.readUint(f,p+4),f[p+8]];else if(A=="cHRM")for(y.tabs[A]=[],T=0;T<8;T++)y.tabs[A].push(m.readUint(f,p+4*T));else if(A=="tEXt"||A=="zTXt"){y.tabs[A]==null&&(y.tabs[A]={});var S=m.nextZero(f,p),R=m.readASCII(f,p,S-p),k=p+j-S-1;if(A=="tEXt")M=m.readASCII(f,S+1,k);else{var N=r(f.slice(S+2,S+2+k));M=m.readUTF8(N,0,N.length)}y.tabs[A][R]=M}else if(A=="iTXt"){y.tabs[A]==null&&(y.tabs[A]={}),S=0,I=p,S=m.nextZero(f,I),R=m.readASCII(f,I,S-I);const P=f[I=S+1];var M;f[I+1],I+=2,S=m.nextZero(f,I),m.readASCII(f,I,S-I),I=S+1,S=m.nextZero(f,I),m.readUTF8(f,I,S-I),k=j-((I=S+1)-p),P==0?M=m.readUTF8(f,I,k):(N=r(f.slice(I,I+k)),M=m.readUTF8(N,0,N.length)),y.tabs[A][R]=M}else if(A=="PLTE")y.tabs[A]=m.readBytes(f,p,j);else if(A=="hIST"){const P=y.tabs.PLTE.length/3;for(y.tabs[A]=[],T=0;T<P;T++)y.tabs[A].push(v(f,p+2*T))}else if(A=="tRNS")y.ctype==3?y.tabs[A]=m.readBytes(f,p,j):y.ctype==0?y.tabs[A]=v(f,p):y.ctype==2&&(y.tabs[A]=[v(f,p),v(f,p+2),v(f,p+4)]);else if(A=="gAMA")y.tabs[A]=m.readUint(f,p)/1e5;else if(A=="sRGB")y.tabs[A]=f[p];else if(A=="bKGD")y.ctype==0||y.ctype==4?y.tabs[A]=[v(f,p)]:y.ctype==2||y.ctype==6?y.tabs[A]=[v(f,p),v(f,p+2),v(f,p+4)]:y.ctype==3&&(y.tabs[A]=f[p]);else if(A=="IEND")break;p+=j,m.readUint(f,p),p+=4}var D;return b!=0&&((D=y.frames[y.frames.length-1]).data=n(y,_.slice(0,b),D.rect.width,D.rect.height)),y.data=n(y,w,y.width,y.height),delete y.compress,delete y.interlace,delete y.filter,y},toRGBA8:function(h){const f=h.width,p=h.height;if(h.tabs.acTL==null)return[e(h.data,f,p,h).buffer];const m=[];h.frames[0].data==null&&(h.frames[0].data=h.data);const v=f*p*4,E=new Uint8Array(v),y=new Uint8Array(v),w=new Uint8Array(v);for(let x=0;x<h.frames.length;x++){const b=h.frames[x],C=b.rect.x,T=b.rect.y,I=b.rect.width,S=b.rect.height,R=e(b.data,I,S,h);if(x!=0)for(var _=0;_<v;_++)w[_]=E[_];if(b.blend==0?c(R,I,S,E,f,p,C,T,0):b.blend==1&&c(R,I,S,E,f,p,C,T,1),m.push(E.buffer.slice(0)),b.dispose!=0){if(b.dispose==1)c(y,I,S,E,f,p,C,T,0);else if(b.dispose==2)for(_=0;_<v;_++)E[_]=w[_]}}return m},_paeth:a,_copyTile:c,_bin:t}}();(function(){const{_copyTile:t}=yi,{_bin:e}=yi,n=yi._paeth;var r={table:function(){const I=new Uint32Array(256);for(let S=0;S<256;S++){let R=S;for(let k=0;k<8;k++)1&R?R=3988292384^R>>>1:R>>>=1;I[S]=R}return I}(),update(I,S,R,k){for(let N=0;N<k;N++)I=r.table[255&(I^S[R+N])]^I>>>8;return I},crc:(I,S,R)=>4294967295^r.update(4294967295,I,S,R)};function s(I,S,R,k){S[R]+=I[0]*k>>4,S[R+1]+=I[1]*k>>4,S[R+2]+=I[2]*k>>4,S[R+3]+=I[3]*k>>4}function i(I){return Math.max(0,Math.min(255,I))}function o(I,S){const R=I[0]-S[0],k=I[1]-S[1],N=I[2]-S[2],M=I[3]-S[3];return R*R+k*k+N*N+M*M}function a(I,S,R,k,N,M,D){D==null&&(D=1);const j=k.length,A=[];for(var P=0;P<j;P++){const V=k[P];A.push([V>>>0&255,V>>>8&255,V>>>16&255,V>>>24&255])}for(P=0;P<j;P++){let V=4294967295;for(var O=0,$=0;$<j;$++){var F=o(A[P],A[$]);$!=P&&F<V&&(V=F,O=$)}}const G=new Uint32Array(N.buffer),z=new Int16Array(S*R*4),B=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(P=0;P<B.length;P++)B[P]=255*((B[P]+.5)/16-.5);for(let V=0;V<R;V++)for(let q=0;q<S;q++){var U;P=4*(V*S+q),D!=2?U=[i(I[P]+z[P]),i(I[P+1]+z[P+1]),i(I[P+2]+z[P+2]),i(I[P+3]+z[P+3])]:(F=B[4*(3&V)+(3&q)],U=[i(I[P]+F),i(I[P+1]+F),i(I[P+2]+F),i(I[P+3]+F)]),O=0;let ce=16777215;for($=0;$<j;$++){const ee=o(U,A[$]);ee<ce&&(ce=ee,O=$)}const X=A[O],Z=[U[0]-X[0],U[1]-X[1],U[2]-X[2],U[3]-X[3]];D==1&&(q!=S-1&&s(Z,z,P+4,7),V!=R-1&&(q!=0&&s(Z,z,P+4*S-4,3),s(Z,z,P+4*S,5),q!=S-1&&s(Z,z,P+4*S+4,1))),M[P>>2]=O,G[P>>2]=k[O]}}function l(I,S,R,k,N){N==null&&(N={});const{crc:M}=r,D=e.writeUint,j=e.writeUshort,A=e.writeASCII;let P=8;const O=I.frames.length>1;let $,F=!1,G=33+(O?20:0);if(N.sRGB!=null&&(G+=13),N.pHYs!=null&&(G+=21),N.iCCP!=null&&($=pako.deflate(N.iCCP),G+=21+$.length+4),I.ctype==3){for(var z=I.plte.length,B=0;B<z;B++)I.plte[B]>>>24!=255&&(F=!0);G+=8+3*z+4+(F?8+1*z+4:0)}for(var U=0;U<I.frames.length;U++)O&&(G+=38),G+=(X=I.frames[U]).cimg.length+12,U!=0&&(G+=4);G+=12;const V=new Uint8Array(G),q=[137,80,78,71,13,10,26,10];for(B=0;B<8;B++)V[B]=q[B];if(D(V,P,13),P+=4,A(V,P,"IHDR"),P+=4,D(V,P,S),P+=4,D(V,P,R),P+=4,V[P]=I.depth,P++,V[P]=I.ctype,P++,V[P]=0,P++,V[P]=0,P++,V[P]=0,P++,D(V,P,M(V,P-17,17)),P+=4,N.sRGB!=null&&(D(V,P,1),P+=4,A(V,P,"sRGB"),P+=4,V[P]=N.sRGB,P++,D(V,P,M(V,P-5,5)),P+=4),N.iCCP!=null){const Z=13+$.length;D(V,P,Z),P+=4,A(V,P,"iCCP"),P+=4,A(V,P,"ICC profile"),P+=11,P+=2,V.set($,P),P+=$.length,D(V,P,M(V,P-(Z+4),Z+4)),P+=4}if(N.pHYs!=null&&(D(V,P,9),P+=4,A(V,P,"pHYs"),P+=4,D(V,P,N.pHYs[0]),P+=4,D(V,P,N.pHYs[1]),P+=4,V[P]=N.pHYs[2],P++,D(V,P,M(V,P-13,13)),P+=4),O&&(D(V,P,8),P+=4,A(V,P,"acTL"),P+=4,D(V,P,I.frames.length),P+=4,D(V,P,N.loop!=null?N.loop:0),P+=4,D(V,P,M(V,P-12,12)),P+=4),I.ctype==3){for(D(V,P,3*(z=I.plte.length)),P+=4,A(V,P,"PLTE"),P+=4,B=0;B<z;B++){const Z=3*B,ee=I.plte[B],se=255&ee,ae=ee>>>8&255,ye=ee>>>16&255;V[P+Z+0]=se,V[P+Z+1]=ae,V[P+Z+2]=ye}if(P+=3*z,D(V,P,M(V,P-3*z-4,3*z+4)),P+=4,F){for(D(V,P,z),P+=4,A(V,P,"tRNS"),P+=4,B=0;B<z;B++)V[P+B]=I.plte[B]>>>24&255;P+=z,D(V,P,M(V,P-z-4,z+4)),P+=4}}let ce=0;for(U=0;U<I.frames.length;U++){var X=I.frames[U];O&&(D(V,P,26),P+=4,A(V,P,"fcTL"),P+=4,D(V,P,ce++),P+=4,D(V,P,X.rect.width),P+=4,D(V,P,X.rect.height),P+=4,D(V,P,X.rect.x),P+=4,D(V,P,X.rect.y),P+=4,j(V,P,k[U]),P+=2,j(V,P,1e3),P+=2,V[P]=X.dispose,P++,V[P]=X.blend,P++,D(V,P,M(V,P-30,30)),P+=4);const Z=X.cimg;D(V,P,(z=Z.length)+(U==0?0:4)),P+=4;const ee=P;A(V,P,U==0?"IDAT":"fdAT"),P+=4,U!=0&&(D(V,P,ce++),P+=4),V.set(Z,P),P+=z,D(V,P,M(V,ee,P-ee)),P+=4}return D(V,P,0),P+=4,A(V,P,"IEND"),P+=4,D(V,P,M(V,P-4,4)),P+=4,V.buffer}function c(I,S,R){for(let k=0;k<I.frames.length;k++){const N=I.frames[k];N.rect.width;const M=N.rect.height,D=new Uint8Array(M*N.bpl+M);N.cimg=p(N.img,M,N.bpp,N.bpl,D,S,R)}}function u(I,S,R,k,N){const M=N[0],D=N[1],j=N[2],A=N[3],P=N[4],O=N[5];let $=6,F=8,G=255;for(var z=0;z<I.length;z++){const Ye=new Uint8Array(I[z]);for(var B=Ye.length,U=0;U<B;U+=4)G&=Ye[U+3]}const V=G!=255,q=function(He,Ue,pt,Ke,Le,bt){const Be=[];for(var Re=0;Re<He.length;Re++){const ht=new Uint8Array(He[Re]),rn=new Uint32Array(ht.buffer);var wt;let qt=0,ve=0,Je=Ue,oe=pt,et=Ke?1:0;if(Re!=0){const It=bt||Ke||Re==1||Be[Re-2].dispose!=0?1:2;let In=0,qn=1e9;for(let or=0;or<It;or++){var zt=new Uint8Array(He[Re-1-or]);const Vl=new Uint32Array(He[Re-1-or]);let Dr=Ue,vr=pt,bo=-1,Ea=-1;for(let Io=0;Io<pt;Io++)for(let To=0;To<Ue;To++)rn[Oe=Io*Ue+To]!=Vl[Oe]&&(To<Dr&&(Dr=To),To>bo&&(bo=To),Io<vr&&(vr=Io),Io>Ea&&(Ea=Io));bo==-1&&(Dr=vr=bo=Ea=0),Le&&((1&Dr)==1&&Dr--,(1&vr)==1&&vr--);const Tm=(bo-Dr+1)*(Ea-vr+1);Tm<qn&&(qn=Tm,In=or,qt=Dr,ve=vr,Je=bo-Dr+1,oe=Ea-vr+1)}zt=new Uint8Array(He[Re-1-In]),In==1&&(Be[Re-1].dispose=2),wt=new Uint8Array(Je*oe*4),t(zt,Ue,pt,wt,Je,oe,-qt,-ve,0),et=t(ht,Ue,pt,wt,Je,oe,-qt,-ve,3)?1:0,et==1?f(ht,Ue,pt,wt,{x:qt,y:ve,width:Je,height:oe}):t(ht,Ue,pt,wt,Je,oe,-qt,-ve,0)}else wt=ht.slice(0);Be.push({rect:{x:qt,y:ve,width:Je,height:oe},img:wt,blend:et,dispose:0})}if(Ke)for(Re=0;Re<Be.length;Re++){if((Ie=Be[Re]).blend==1)continue;const ht=Ie.rect,rn=Be[Re-1].rect,qt=Math.min(ht.x,rn.x),ve=Math.min(ht.y,rn.y),Je={x:qt,y:ve,width:Math.max(ht.x+ht.width,rn.x+rn.width)-qt,height:Math.max(ht.y+ht.height,rn.y+rn.height)-ve};Be[Re-1].dispose=1,Re-1!=0&&h(He,Ue,pt,Be,Re-1,Je,Le),h(He,Ue,pt,Be,Re,Je,Le)}let nn=0;if(He.length!=1)for(var Oe=0;Oe<Be.length;Oe++){var Ie;nn+=(Ie=Be[Oe]).rect.width*Ie.rect.height}return Be}(I,S,R,M,D,j),ce={},X=[],Z=[];if(k!=0){const Ye=[];for(U=0;U<q.length;U++)Ye.push(q[U].img.buffer);const He=function(Le){let bt=0;for(var Be=0;Be<Le.length;Be++)bt+=Le[Be].byteLength;const Re=new Uint8Array(bt);let wt=0;for(Be=0;Be<Le.length;Be++){const zt=new Uint8Array(Le[Be]),nn=zt.length;for(let Oe=0;Oe<nn;Oe+=4){let Ie=zt[Oe],ht=zt[Oe+1],rn=zt[Oe+2];const qt=zt[Oe+3];qt==0&&(Ie=ht=rn=0),Re[wt+Oe]=Ie,Re[wt+Oe+1]=ht,Re[wt+Oe+2]=rn,Re[wt+Oe+3]=qt}wt+=nn}return Re.buffer}(Ye),Ue=v(He,k);for(U=0;U<Ue.plte.length;U++)X.push(Ue.plte[U].est.rgba);let pt=0;for(U=0;U<q.length;U++){const Ke=(se=q[U]).img.length;var ee=new Uint8Array(Ue.inds.buffer,pt>>2,Ke>>2);Z.push(ee);const Le=new Uint8Array(Ue.abuf,pt,Ke);O&&a(se.img,se.rect.width,se.rect.height,X,Le,ee),se.img.set(Le),pt+=Ke}}else for(z=0;z<q.length;z++){var se=q[z];const Ye=new Uint32Array(se.img.buffer);var ae=se.rect.width;for(B=Ye.length,ee=new Uint8Array(B),Z.push(ee),U=0;U<B;U++){const He=Ye[U];if(U!=0&&He==Ye[U-1])ee[U]=ee[U-1];else if(U>ae&&He==Ye[U-ae])ee[U]=ee[U-ae];else{let Ue=ce[He];if(Ue==null&&(ce[He]=Ue=X.length,X.push(He),X.length>=300))break;ee[U]=Ue}}}const ye=X.length;for(ye<=256&&P==0&&(F=ye<=2?1:ye<=4?2:ye<=16?4:8,F=Math.max(F,A)),z=0;z<q.length;z++){(se=q[z]).rect.x,se.rect.y,ae=se.rect.width;const Ye=se.rect.height;let He=se.img;new Uint32Array(He.buffer);let Ue=4*ae,pt=4;if(ye<=256&&P==0){Ue=Math.ceil(F*ae/8);var Ae=new Uint8Array(Ue*Ye);const Ke=Z[z];for(let Le=0;Le<Ye;Le++){U=Le*Ue;const bt=Le*ae;if(F==8)for(var _e=0;_e<ae;_e++)Ae[U+_e]=Ke[bt+_e];else if(F==4)for(_e=0;_e<ae;_e++)Ae[U+(_e>>1)]|=Ke[bt+_e]<<4-4*(1&_e);else if(F==2)for(_e=0;_e<ae;_e++)Ae[U+(_e>>2)]|=Ke[bt+_e]<<6-2*(3&_e);else if(F==1)for(_e=0;_e<ae;_e++)Ae[U+(_e>>3)]|=Ke[bt+_e]<<7-1*(7&_e)}He=Ae,$=3,pt=1}else if(V==0&&q.length==1){Ae=new Uint8Array(ae*Ye*3);const Ke=ae*Ye;for(U=0;U<Ke;U++){const Le=3*U,bt=4*U;Ae[Le]=He[bt],Ae[Le+1]=He[bt+1],Ae[Le+2]=He[bt+2]}He=Ae,$=2,pt=3,Ue=3*ae}se.img=He,se.bpl=Ue,se.bpp=pt}return{ctype:$,depth:F,plte:X,frames:q}}function h(I,S,R,k,N,M,D){const j=Uint8Array,A=Uint32Array,P=new j(I[N-1]),O=new A(I[N-1]),$=N+1<I.length?new j(I[N+1]):null,F=new j(I[N]),G=new A(F.buffer);let z=S,B=R,U=-1,V=-1;for(let ce=0;ce<M.height;ce++)for(let X=0;X<M.width;X++){const Z=M.x+X,ee=M.y+ce,se=ee*S+Z,ae=G[se];ae==0||k[N-1].dispose==0&&O[se]==ae&&($==null||$[4*se+3]!=0)||(Z<z&&(z=Z),Z>U&&(U=Z),ee<B&&(B=ee),ee>V&&(V=ee))}U==-1&&(z=B=U=V=0),D&&((1&z)==1&&z--,(1&B)==1&&B--),M={x:z,y:B,width:U-z+1,height:V-B+1};const q=k[N];q.rect=M,q.blend=1,q.img=new Uint8Array(M.width*M.height*4),k[N-1].dispose==0?(t(P,S,R,q.img,M.width,M.height,-M.x,-M.y,0),f(F,S,R,q.img,M)):t(F,S,R,q.img,M.width,M.height,-M.x,-M.y,0)}function f(I,S,R,k,N){t(I,S,R,k,N.width,N.height,-N.x,-N.y,2)}function p(I,S,R,k,N,M,D){const j=[];let A,P=[0,1,2,3,4];M!=-1?P=[M]:(S*k>5e5||R==1)&&(P=[0]),D&&(A={level:0});const O=J_e;for(var $=0;$<P.length;$++){for(let z=0;z<S;z++)m(N,I,z,k,R,P[$]);j.push(O.deflate(N,A))}let F,G=1e9;for($=0;$<j.length;$++)j[$].length<G&&(F=$,G=j[$].length);return j[F]}function m(I,S,R,k,N,M){const D=R*k;let j=D+R;if(I[j]=M,j++,M==0)if(k<500)for(var A=0;A<k;A++)I[j+A]=S[D+A];else I.set(new Uint8Array(S.buffer,D,k),j);else if(M==1){for(A=0;A<N;A++)I[j+A]=S[D+A];for(A=N;A<k;A++)I[j+A]=S[D+A]-S[D+A-N]+256&255}else if(R==0){for(A=0;A<N;A++)I[j+A]=S[D+A];if(M==2)for(A=N;A<k;A++)I[j+A]=S[D+A];if(M==3)for(A=N;A<k;A++)I[j+A]=S[D+A]-(S[D+A-N]>>1)+256&255;if(M==4)for(A=N;A<k;A++)I[j+A]=S[D+A]-n(S[D+A-N],0,0)+256&255}else{if(M==2)for(A=0;A<k;A++)I[j+A]=S[D+A]+256-S[D+A-k]&255;if(M==3){for(A=0;A<N;A++)I[j+A]=S[D+A]+256-(S[D+A-k]>>1)&255;for(A=N;A<k;A++)I[j+A]=S[D+A]+256-(S[D+A-k]+S[D+A-N]>>1)&255}if(M==4){for(A=0;A<N;A++)I[j+A]=S[D+A]+256-n(0,S[D+A-k],0)&255;for(A=N;A<k;A++)I[j+A]=S[D+A]+256-n(S[D+A-N],S[D+A-k],S[D+A-N-k])&255}}}function v(I,S){const R=new Uint8Array(I),k=R.slice(0),N=new Uint32Array(k.buffer),M=E(k,S),D=M[0],j=M[1],A=R.length,P=new Uint8Array(A>>2);let O;if(R.length<2e7)for(var $=0;$<A;$+=4)O=y(D,F=R[$]*(1/255),G=R[$+1]*(1/255),z=R[$+2]*(1/255),B=R[$+3]*(1/255)),P[$>>2]=O.ind,N[$>>2]=O.est.rgba;else for($=0;$<A;$+=4){var F=R[$]*.00392156862745098,G=R[$+1]*(1/255),z=R[$+2]*(1/255),B=R[$+3]*(1/255);for(O=D;O.left;)O=w(O.est,F,G,z,B)<=0?O.left:O.right;P[$>>2]=O.ind,N[$>>2]=O.est.rgba}return{abuf:k.buffer,inds:P,plte:j}}function E(I,S,R){R==null&&(R=1e-4);const k=new Uint32Array(I.buffer),N={i0:0,i1:I.length,bst:null,est:null,tdst:0,left:null,right:null};N.bst=b(I,N.i0,N.i1),N.est=C(N.bst);const M=[N];for(;M.length<S;){let j=0,A=0;for(var D=0;D<M.length;D++)M[D].est.L>j&&(j=M[D].est.L,A=D);if(j<R)break;const P=M[A],O=_(I,k,P.i0,P.i1,P.est.e,P.est.eMq255);if(P.i0>=O||P.i1<=O){P.est.L=0;continue}const $={i0:P.i0,i1:O,bst:null,est:null,tdst:0,left:null,right:null};$.bst=b(I,$.i0,$.i1),$.est=C($.bst);const F={i0:O,i1:P.i1,bst:null,est:null,tdst:0,left:null,right:null};for(F.bst={R:[],m:[],N:P.bst.N-$.bst.N},D=0;D<16;D++)F.bst.R[D]=P.bst.R[D]-$.bst.R[D];for(D=0;D<4;D++)F.bst.m[D]=P.bst.m[D]-$.bst.m[D];F.est=C(F.bst),P.left=$,P.right=F,M[A]=$,M.push(F)}for(M.sort((j,A)=>A.bst.N-j.bst.N),D=0;D<M.length;D++)M[D].ind=D;return[N,M]}function y(I,S,R,k,N){if(I.left==null)return I.tdst=function($,F,G,z,B){const U=F-$[0],V=G-$[1],q=z-$[2],ce=B-$[3];return U*U+V*V+q*q+ce*ce}(I.est.q,S,R,k,N),I;const M=w(I.est,S,R,k,N);let D=I.left,j=I.right;M>0&&(D=I.right,j=I.left);const A=y(D,S,R,k,N);if(A.tdst<=M*M)return A;const P=y(j,S,R,k,N);return P.tdst<A.tdst?P:A}function w(I,S,R,k,N){const{e:M}=I;return M[0]*S+M[1]*R+M[2]*k+M[3]*N-I.eMq}function _(I,S,R,k,N,M){for(k-=4;R<k;){for(;x(I,R,N)<=M;)R+=4;for(;x(I,k,N)>M;)k-=4;if(R>=k)break;const D=S[R>>2];S[R>>2]=S[k>>2],S[k>>2]=D,R+=4,k-=4}for(;x(I,R,N)>M;)R-=4;return R+4}function x(I,S,R){return I[S]*R[0]+I[S+1]*R[1]+I[S+2]*R[2]+I[S+3]*R[3]}function b(I,S,R){const k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N=[0,0,0,0],M=R-S>>2;for(let D=S;D<R;D+=4){const j=I[D]*.00392156862745098,A=I[D+1]*(1/255),P=I[D+2]*(1/255),O=I[D+3]*(1/255);N[0]+=j,N[1]+=A,N[2]+=P,N[3]+=O,k[0]+=j*j,k[1]+=j*A,k[2]+=j*P,k[3]+=j*O,k[5]+=A*A,k[6]+=A*P,k[7]+=A*O,k[10]+=P*P,k[11]+=P*O,k[15]+=O*O}return k[4]=k[1],k[8]=k[2],k[9]=k[6],k[12]=k[3],k[13]=k[7],k[14]=k[11],{R:k,m:N,N:M}}function C(I){const{R:S}=I,{m:R}=I,{N:k}=I,N=R[0],M=R[1],D=R[2],j=R[3],A=k==0?0:1/k,P=[S[0]-N*N*A,S[1]-N*M*A,S[2]-N*D*A,S[3]-N*j*A,S[4]-M*N*A,S[5]-M*M*A,S[6]-M*D*A,S[7]-M*j*A,S[8]-D*N*A,S[9]-D*M*A,S[10]-D*D*A,S[11]-D*j*A,S[12]-j*N*A,S[13]-j*M*A,S[14]-j*D*A,S[15]-j*j*A],O=P,$=T;let F=[Math.random(),Math.random(),Math.random(),Math.random()],G=0,z=0;if(k!=0)for(let U=0;U<16&&(F=$.multVec(O,F),z=Math.sqrt($.dot(F,F)),F=$.sml(1/z,F),!(U!=0&&Math.abs(z-G)<1e-9));U++)G=z;const B=[N*A,M*A,D*A,j*A];return{Cov:P,q:B,e:F,L:G,eMq255:$.dot($.sml(255,B),F),eMq:$.dot(F,B),rgba:(Math.round(255*B[3])<<24|Math.round(255*B[2])<<16|Math.round(255*B[1])<<8|Math.round(255*B[0])<<0)>>>0}}var T={multVec:(I,S)=>[I[0]*S[0]+I[1]*S[1]+I[2]*S[2]+I[3]*S[3],I[4]*S[0]+I[5]*S[1]+I[6]*S[2]+I[7]*S[3],I[8]*S[0]+I[9]*S[1]+I[10]*S[2]+I[11]*S[3],I[12]*S[0]+I[13]*S[1]+I[14]*S[2]+I[15]*S[3]],dot:(I,S)=>I[0]*S[0]+I[1]*S[1]+I[2]*S[2]+I[3]*S[3],sml:(I,S)=>[I*S[0],I*S[1],I*S[2],I*S[3]]};yi.encode=function(S,R,k,N,M,D,j){N==null&&(N=0),j==null&&(j=!1);const A=u(S,R,k,N,[!1,!1,!1,0,j,!1]);return c(A,-1),l(A,R,k,M,D)},yi.encodeLL=function(S,R,k,N,M,D,j,A){const P={ctype:0+(N==1?0:2)+(M==0?0:4),depth:D,frames:[]},O=(N+M)*D,$=O*R;for(let F=0;F<S.length;F++)P.frames.push({rect:{x:0,y:0,width:R,height:k},img:new Uint8Array(S[F]),blend:0,dispose:1,bpp:Math.ceil(O/8),bpl:Math.ceil($/8)});return c(P,0,!0),l(P,R,k,j,A)},yi.encode.compress=u,yi.encode.dither=a,yi.quantize=v,yi.quantize.getKDtree=E,yi.quantize.getNearest=y})();const RF={toArrayBuffer(t,e){const n=t.width,r=t.height,s=n<<2,i=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(i.data.buffer),a=(32*n+31)/32<<2,l=a*r,c=122+l,u=new ArrayBuffer(c),h=new DataView(u),f=1<<20;let p,m,v,E,y=f,w=0,_=0,x=0;function b(I){h.setUint16(_,I,!0),_+=2}function C(I){h.setUint32(_,I,!0),_+=4}function T(I){_+=I}b(19778),C(c),T(4),C(122),C(108),C(n),C(-r>>>0),b(1),b(32),C(3),C(l),C(2835),C(2835),T(8),C(16711680),C(65280),C(255),C(4278190080),C(1466527264),function I(){for(;w<r&&y>0;){for(E=122+w*a,p=0;p<s;)y--,m=o[x++],v=m>>>24,h.setUint32(E+p,m<<8|v),p+=4;w++}x<o.length?(y=f,setTimeout(I,RF._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var es={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Z_e={[es.CHROME]:16384,[es.FIREFOX]:11180,[es.DESKTOP_SAFARI]:16384,[es.IE]:8192,[es.IOS]:4096,[es.ETC]:8192};const HT=typeof window<"u",AF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,H1=HT&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),ewe=(HT||AF)&&(H1&&H1.getOriginalSymbol(window,"File")||typeof File<"u"&&File),PF=(HT||AF)&&(H1&&H1.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function GT(t,e,n=Date.now()){return new Promise(r=>{const s=t.split(","),i=s[0].match(/:(.*?);/)[1],o=globalThis.atob(s[1]);let a=o.length;const l=new Uint8Array(a);for(;a--;)l[a]=o.charCodeAt(a);const c=new Blob([l],{type:i});c.name=e,c.lastModified=n,r(c)})}function NF(t){return new Promise((e,n)=>{const r=new PF;r.onload=()=>e(r.result),r.onerror=s=>n(s),r.readAsDataURL(t)})}function DF(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=s=>n(s),r.src=t})}function pc(){if(pc.cachedResult!==void 0)return pc.cachedResult;let t=es.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=es.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=es.IOS:/Safari/i.test(e)?t=es.DESKTOP_SAFARI:/Firefox/i.test(e)?t=es.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=es.IE),pc.cachedResult=t,pc.cachedResult}function LF(t,e){const n=pc(),r=Z_e[n];let s=t,i=e,o=s*i;const a=s>i?i/s:s/i;for(;o>r*r;){const l=(r+s)/2,c=(r+i)/2;l<c?(i=c,s=c*a):(i=l*a,s=l),o=s*i}return{width:s,height:i}}function F_(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function MF(t,e){const{width:n,height:r}=LF(t.width,t.height),[s,i]=F_(n,r);return e&&/jpe?g/.test(e)&&(i.fillStyle="white",i.fillRect(0,0,s.width,s.height)),i.drawImage(t,0,0,s.width,s.height),s}function ig(){return ig.cachedResult!==void 0||(ig.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),ig.cachedResult}function G1(t,e={}){return new Promise(function(n,r){let s,i;var o=function(){try{return i=MF(s,e.fileType||t.type),n([s,i])}catch(l){return r(l)}},a=function(l){try{var c=function(u){try{throw u}catch(h){return r(h)}};try{let u;return NF(t).then(function(h){try{return u=h,DF(u).then(function(f){try{return s=f,function(){try{return o()}catch(p){return r(p)}}()}catch(p){return c(p)}},c)}catch(f){return c(f)}},c)}catch(u){c(u)}}catch(u){return r(u)}};try{if(ig()||[es.DESKTOP_SAFARI,es.MOBILE_SAFARI].includes(pc()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return s=l,o()}catch{return a()}},a)}catch{a()}})}function q1(t,e,n,r,s=1){return new Promise(function(i,o){let a;if(e==="image/png"){let h,f,p;return h=t.getContext("2d"),{data:f}=h.getImageData(0,0,t.width,t.height),p=yi.encode([f.buffer],t.width,t.height,4096*s),a=new Blob([p],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let h=function(){return l.call(this)};var c=h;if(e==="image/bmp")return new Promise(f=>RF.toBlob(t,f)).then((function(f){try{return a=f,a.name=n,a.lastModified=r,h.call(this)}catch(p){return o(p)}}).bind(this),o);{let f=function(){return h.call(this)};var u=f;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:s}).then((function(p){try{return a=p,a.name=n,a.lastModified=r,f.call(this)}catch(m){return o(m)}}).bind(this),o);{let p;return p=t.toDataURL(e,s),GT(p,n,r).then((function(m){try{return a=m,f.call(this)}catch(v){return o(v)}}).bind(this),o)}}}function l(){return i(a)}})}function Hi(t){t.width=0,t.height=0}function rd(){return new Promise(function(t,e){let n,r,s,i;return rd.cachedResult!==void 0?t(rd.cachedResult):GT("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,G1(n).then(function(a){try{return r=a[1],q1(r,n.type,n.name,n.lastModified).then(function(l){try{return s=l,Hi(r),G1(s).then(function(c){try{return i=c[0],rd.cachedResult=i.width===1&&i.height===2,t(rd.cachedResult)}catch(u){return e(u)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function OF(t){return new Promise((e,n)=>{const r=new PF;r.onload=s=>{const i=new DataView(s.target.result);if(i.getUint16(0,!1)!=65496)return e(-2);const o=i.byteLength;let a=2;for(;a<o;){if(i.getUint16(a+2,!1)<=8)return e(-1);const l=i.getUint16(a,!1);if(a+=2,l==65505){if(i.getUint32(a+=2,!1)!=1165519206)return e(-1);const c=i.getUint16(a+=6,!1)==18761;a+=i.getUint32(a+4,c);const u=i.getUint16(a,c);a+=2;for(let h=0;h<u;h++)if(i.getUint16(a+12*h,c)==274)return e(i.getUint16(a+12*h+8,c))}else{if((65280&l)!=65280)break;a+=i.getUint16(a,!1)}}return e(-1)},r.onerror=s=>n(s),r.readAsArrayBuffer(t)})}function jF(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:s}=e;let i,o=t;return isFinite(s)&&(n>s||r>s)&&([o,i]=F_(n,r),n>r?(o.width=s,o.height=r/n*s):(o.width=n/r*s,o.height=s),i.drawImage(t,0,0,o.width,o.height),Hi(t)),o}function $F(t,e){const{width:n}=t,{height:r}=t,[s,i]=F_(n,r);switch(e>4&&e<9?(s.width=r,s.height=n):(s.width=n,s.height=r),e){case 2:i.transform(-1,0,0,1,n,0);break;case 3:i.transform(-1,0,0,-1,n,r);break;case 4:i.transform(1,0,0,-1,0,r);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,r,0);break;case 7:i.transform(0,-1,-1,0,r,n);break;case 8:i.transform(0,-1,1,0,0,n)}return i.drawImage(t,0,0,n,r),Hi(t),s}function nP(t,e,n=0){return new Promise(function(r,s){let i,o,a,l,c,u,h,f,p,m,v,E,y,w,_,x,b,C,T,I;function S(k=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;i+=k,e.onProgress(Math.min(i,100))}function R(k){if(e.signal&&e.signal.aborted)throw e.signal.reason;i=Math.min(Math.max(k,i),100),e.onProgress(i)}return i=n,o=e.maxIteration||10,a=1024*e.maxSizeMB*1024,S(),G1(t,e).then((function(k){try{return[,l]=k,S(),c=jF(l,e),S(),new Promise(function(N,M){var D;if(!(D=e.exifOrientation))return OF(t).then((function(A){try{return D=A,j.call(this)}catch(P){return M(P)}}).bind(this),M);function j(){return N(D)}return j.call(this)}).then((function(N){try{return u=N,S(),rd().then((function(M){try{return h=M?c:$F(c,u),S(),f=e.initialQuality||1,p=e.fileType||t.type,q1(h,p,t.name,t.lastModified,f).then((function(D){try{{let O=function(){if(o--&&(_>a||_>y)){let F,G;return F=I?.95*T.width:T.width,G=I?.95*T.height:T.height,[b,C]=F_(F,G),C.drawImage(T,0,0,F,G),f*=p==="image/png"?.85:.95,q1(b,p,t.name,t.lastModified,f).then(function(z){try{return x=z,Hi(T),T=b,_=x.size,R(Math.min(99,Math.floor((w-_)/(w-a)*100))),O}catch(B){return s(B)}},s)}return[1]},$=function(){return Hi(T),Hi(b),Hi(c),Hi(h),Hi(l),R(100),r(x)};var A=O,P=$;if(m=D,S(),v=m.size>a,E=m.size>t.size,!v&&!E)return R(100),r(m);var j;return y=t.size,w=m.size,_=w,T=h,I=!e.alwaysKeepResolution&&v,(j=(function(F){for(;F;){if(F.then)return void F.then(j,s);try{if(F.pop){if(F.length)return F.pop()?$.call(this):F;F=O}else F=F.call(this)}catch(G){return s(G)}}}).bind(this))(O)}}catch(O){return s(O)}}).bind(this),s)}catch(D){return s(D)}}).bind(this),s)}catch(M){return s(M)}}).bind(this),s)}catch(N){return s(N)}}).bind(this),s)})}const twe=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let _x;function nwe(t,e){return new Promise((n,r)=>{_x||(_x=function(o){const a=[];return typeof o=="function"?a.push(`(${o})()`):a.push(o),URL.createObjectURL(new Blob(a))}(twe));const s=new Worker(_x);s.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)s.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void s.terminate();n(o.data.file),s.terminate()}else e.onProgress(o.data.progress)}),s.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),s.terminate()}),s.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function Ln(t,e){return new Promise(function(n,r){let s,i,o,a,l,c;if(s={...e},o=0,{onProgress:a}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof s.useWebWorker!="boolean"||s.useWebWorker,delete s.useWebWorker,s.onProgress=p=>{o=p,typeof a=="function"&&a(o)},!(t instanceof Blob||t instanceof ewe))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||c)return nP(t,s).then((function(p){try{return i=p,f.call(this)}catch(m){return r(m)}}).bind(this),r);var u=(function(){try{return f.call(this)}catch(p){return r(p)}}).bind(this),h=function(p){try{return nP(t,s).then(function(m){try{return i=m,u()}catch(v){return r(v)}},r)}catch(m){return r(m)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",nwe(t,s).then(function(p){try{return i=p,u()}catch{return h()}},h)}catch{h()}function f(){try{i.name=t.name,i.lastModified=t.lastModified}catch{}try{s.preserveExif&&t.type==="image/jpeg"&&(!s.fileType||s.fileType&&s.fileType===t.type)&&(i=kF(t,i))}catch{}return n(i)}})}Ln.getDataUrlFromFile=NF,Ln.getFilefromDataUrl=GT,Ln.loadImage=DF,Ln.drawImageInCanvas=MF,Ln.drawFileInCanvas=G1,Ln.canvasToFile=q1,Ln.getExifOrientation=OF,Ln.handleMaxWidthOrHeight=jF,Ln.followExifOrientation=$F,Ln.cleanupCanvasMemory=Hi,Ln.isAutoOrientationInBrowser=rd,Ln.approximateBelowMaximumCanvasSizeOfBrowser=LF,Ln.copyExifWithoutOrientation=kF,Ln.getBrowserName=pc,Ln.version="2.0.2";const rP=({options:t,setValue:e,label:n,gender:r})=>{const[s,i]=g.useState(r),o=a=>{i(a.target.value)};return g.useEffect(()=>{e(s)},[s]),g.useEffect(()=>{i(r)},[r]),d.jsx(yF,{size:"small",variant:"standard",id:n,labelId:n,value:s,onChange:o,label:n,displayEmpty:!0,children:t.map(a=>d.jsx(Ive,{value:a.value,children:a.label},a.value))})};var sP="__sak";function FF(){var t;return t={},t["dependent-sdk-initialized-before-auth"]="Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",t}var rwe=FF,cC=new Nl("auth","Firebase",FF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Td=new Pp("@firebase/auth");function swe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Td.logLevel<=st.WARN&&Td.warn.apply(Td,fr(["Auth (".concat(ji,"): ").concat(t)],e,!1))}function og(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Td.logLevel<=st.ERROR&&Td.error.apply(Td,fr(["Auth (".concat(ji,"): ").concat(t)],e,!1))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];throw YT.apply(void 0,fr([t],e,!1))}function qT(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return YT.apply(void 0,fr([t],e,!1))}function iwe(t,e,n){var r,s=ft(ft({},rwe()),(r={},r[e]=n,r)),i=new Nl("auth","Firebase",s);return i.create(e,{appName:t.name})}function YT(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(typeof t!="string"){var s=n[0],i=fr([],n.slice(1),!0);return i[0]&&(i[0].appName=t.name),(e=t._errorFactory).create.apply(e,fr([s],i,!1))}return cC.create.apply(cC,fr([t],n,!1))}function nt(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!t)throw YT.apply(void 0,fr([e],n,!1))}function qo(t){var e="INTERNAL ASSERTION FAILED: "+t;throw og(e),new Error(e)}function ih(t,e){t||qo(e)}function owe(){return iP()==="http:"||iP()==="https:"}function iP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function awe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(owe()||v8()||"connection"in navigator)?navigator.onLine:!0}function lwe(){if(typeof navigator>"u")return null;var t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cwe=function(){function t(e,n){this.shortDelay=e,this.longDelay=n,ih(n>e,"Short delay should be less than long delay!"),this.isMobile=yv()||_b()}return t.prototype.get=function(){return awe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uwe(t,e){ih(t.emulator,"Emulator should always be set here");var n=t.emulator.url;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VF=function(){function t(){}return t.initialize=function(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)},t.fetch=function(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.headers=function(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.response=function(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e,dwe=($e={},$e.CREDENTIAL_MISMATCH="custom-token-mismatch",$e.MISSING_CUSTOM_TOKEN="internal-error",$e.INVALID_IDENTIFIER="invalid-email",$e.MISSING_CONTINUE_URI="internal-error",$e.INVALID_PASSWORD="wrong-password",$e.MISSING_PASSWORD="missing-password",$e.INVALID_LOGIN_CREDENTIALS="invalid-credential",$e.EMAIL_EXISTS="email-already-in-use",$e.PASSWORD_LOGIN_DISABLED="operation-not-allowed",$e.INVALID_IDP_RESPONSE="invalid-credential",$e.INVALID_PENDING_TOKEN="invalid-credential",$e.FEDERATED_USER_ID_ALREADY_LINKED="credential-already-in-use",$e.MISSING_REQ_TYPE="internal-error",$e.EMAIL_NOT_FOUND="user-not-found",$e.RESET_PASSWORD_EXCEED_LIMIT="too-many-requests",$e.EXPIRED_OOB_CODE="expired-action-code",$e.INVALID_OOB_CODE="invalid-action-code",$e.MISSING_OOB_CODE="internal-error",$e.CREDENTIAL_TOO_OLD_LOGIN_AGAIN="requires-recent-login",$e.INVALID_ID_TOKEN="invalid-user-token",$e.TOKEN_EXPIRED="user-token-expired",$e.USER_NOT_FOUND="user-token-expired",$e.TOO_MANY_ATTEMPTS_TRY_LATER="too-many-requests",$e.PASSWORD_DOES_NOT_MEET_REQUIREMENTS="password-does-not-meet-requirements",$e.INVALID_CODE="invalid-verification-code",$e.INVALID_SESSION_INFO="invalid-verification-id",$e.INVALID_TEMPORARY_PROOF="invalid-credential",$e.MISSING_SESSION_INFO="missing-verification-id",$e.SESSION_EXPIRED="code-expired",$e.MISSING_ANDROID_PACKAGE_NAME="missing-android-pkg-name",$e.UNAUTHORIZED_DOMAIN="unauthorized-continue-uri",$e.INVALID_OAUTH_CLIENT_ID="invalid-oauth-client-id",$e.ADMIN_ONLY_OPERATION="admin-restricted-operation",$e.INVALID_MFA_PENDING_CREDENTIAL="invalid-multi-factor-session",$e.MFA_ENROLLMENT_NOT_FOUND="multi-factor-info-not-found",$e.MISSING_MFA_ENROLLMENT_ID="missing-multi-factor-info",$e.MISSING_MFA_PENDING_CREDENTIAL="missing-multi-factor-session",$e.SECOND_FACTOR_EXISTS="second-factor-already-in-use",$e.SECOND_FACTOR_LIMIT_EXCEEDED="maximum-second-factor-count-exceeded",$e.BLOCKING_FUNCTION_ERROR_RESPONSE="internal-error",$e.RECAPTCHA_NOT_ENABLED="recaptcha-not-enabled",$e.MISSING_RECAPTCHA_TOKEN="missing-recaptcha-token",$e.INVALID_RECAPTCHA_TOKEN="invalid-recaptcha-token",$e.INVALID_RECAPTCHA_ACTION="invalid-recaptcha-action",$e.MISSING_CLIENT_TYPE="missing-client-type",$e.MISSING_RECAPTCHA_VERSION="missing-recaptcha-version",$e.INVALID_RECAPTCHA_VERSION="invalid-recaptcha-version",$e.INVALID_REQ_TYPE="invalid-req-type",$e);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hwe=new cwe(3e4,6e4);function Co(t,e){return t.tenantId&&!e.tenantId?ft(ft({},e),{tenantId:t.tenantId}):e}function mu(t,e,n,r,s){return s===void 0&&(s={}),te(this,void 0,void 0,function(){var i=this;return ne(this,function(o){return[2,UF(t,s,function(){return te(i,void 0,void 0,function(){var a,l,c,u;return ne(this,function(h){switch(h.label){case 0:return a={},l={},r&&(e==="GET"?l=r:a={body:JSON.stringify(r)}),c=pa(ft({key:t.config.apiKey},l)).slice(1),[4,t._getAdditionalHeaders()];case 1:return u=h.sent(),u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),[2,VF.fetch()(zF(t,t.config.apiHost,n,c),ft({method:e,headers:u,referrerPolicy:"no-referrer"},a))]}})})})]})})}function UF(t,e,n){return te(this,void 0,void 0,function(){var r,s,i,o,a,l,c,u,h,f;return ne(this,function(p){switch(p.label){case 0:t._canInitEmulator=!1,r=ft(ft({},dwe),e),p.label=1;case 1:return p.trys.push([1,4,,5]),s=new pwe(t),[4,Promise.race([n(),s.promise])];case 2:return i=p.sent(),s.clearNetworkTimeout(),[4,i.json()];case 3:if(o=p.sent(),"needConfirmation"in o)throw Vf(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return[2,o];if(a=i.ok?o.errorMessage:o.error.message,l=a.split(" : "),c=l[0],u=l[1],c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vf(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Vf(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Vf(t,"user-disabled",o);if(h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-"),u)throw iwe(t,h,u);return ha(t,h),[3,5];case 4:if(f=p.sent(),f instanceof js)throw f;return ha(t,"network-request-failed",{message:String(f)}),[3,5];case 5:return[2]}})})}function gu(t,e,n,r,s){return s===void 0&&(s={}),te(this,void 0,void 0,function(){var i;return ne(this,function(o){switch(o.label){case 0:return[4,mu(t,e,n,r,s)];case 1:return i=o.sent(),"mfaPendingCredential"in i&&ha(t,"multi-factor-auth-required",{_serverResponse:i}),[2,i]}})})}function zF(t,e,n,r){var s="".concat(e).concat(n,"?").concat(r);return t.config.emulator?uwe(t.config,s):"".concat(t.config.apiScheme,"://").concat(s)}function fwe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var pwe=function(){function t(e){var n=this;this.auth=e,this.timer=null,this.promise=new Promise(function(r,s){n.timer=setTimeout(function(){return s(qT(n.auth,"network-request-failed"))},hwe.get())})}return t.prototype.clearNetworkTimeout=function(){clearTimeout(this.timer)},t}();function Vf(t,e,n){var r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var s=qT(t,e,r);return s.customData._tokenResponse=n,s}function oP(t){return t!==void 0&&t.enterprise!==void 0}var mwe=function(){function t(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}return t.prototype.getProviderEnforcementState=function(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(var n=0,r=this.recaptchaEnforcementState;n<r.length;n++){var s=r[n];if(s.provider&&s.provider===e)return fwe(s.enforcementState)}return null},t.prototype.isProviderEnabled=function(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"},t}();function gwe(t,e){return te(this,void 0,void 0,function(){return ne(this,function(n){return[2,mu(t,"GET","/v2/recaptchaConfig",Co(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vwe(t,e){return te(this,void 0,void 0,function(){return ne(this,function(n){return[2,mu(t,"POST","/v1/accounts:delete",e)]})})}function ywe(t,e){return te(this,void 0,void 0,function(){return ne(this,function(n){return[2,mu(t,"POST","/v1/accounts:lookup",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(t){if(t)try{var e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function _we(t,e){return e===void 0&&(e=!1),te(this,void 0,void 0,function(){var n,r,s,i,o;return ne(this,function(a){switch(a.label){case 0:return n=ut(t),[4,n.getIdToken(e)];case 1:return r=a.sent(),s=KT(r),nt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error"),i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider,[2,{claims:s,token:r,authTime:p0(wx(s.auth_time)),issuedAtTime:p0(wx(s.iat)),expirationTime:p0(wx(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}]}})})}function wx(t){return Number(t)*1e3}function KT(t){var e=t.split("."),n=e[0],r=e[1],s=e[2];if(n===void 0||r===void 0||s===void 0)return og("JWT malformed, contained fewer than 3 sections"),null;try{var i=O0(r);return i?JSON.parse(i):(og("Failed to decode base64 JWT payload"),null)}catch(o){return og("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function wwe(t){var e=KT(t);return nt(e,"internal-error"),nt(typeof e.exp<"u","internal-error"),nt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(t,e,n){return n===void 0&&(n=!1),te(this,void 0,void 0,function(){var r;return ne(this,function(s){switch(s.label){case 0:if(n)return[2,e];s.label=1;case 1:return s.trys.push([1,3,,6]),[4,e];case 2:return[2,s.sent()];case 3:return r=s.sent(),r instanceof js&&xwe(r)?t.auth.currentUser!==t?[3,5]:[4,t.auth.signOut()]:[3,5];case 4:s.sent(),s.label=5;case 5:throw r;case 6:return[2]}})})}function xwe(t){var e=t.code;return e==="auth/".concat("user-disabled")||e==="auth/".concat("user-token-expired")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ewe=function(){function t(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return t.prototype._start=function(){this.isRunning||(this.isRunning=!0,this.schedule())},t.prototype._stop=function(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))},t.prototype.getInterval=function(e){var n;if(e){var r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;var s=(n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0,r=s-Date.now()-3e5;return Math.max(0,r)}},t.prototype.schedule=function(e){var n=this;if(e===void 0&&(e=!1),!!this.isRunning){var r=this.getInterval(e);this.timerId=setTimeout(function(){return te(n,void 0,void 0,function(){return ne(this,function(s){switch(s.label){case 0:return[4,this.iteration()];case 1:return s.sent(),[2]}})})},r)}},t.prototype.iteration=function(){return te(this,void 0,void 0,function(){var e;return ne(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.user.getIdToken(!0)];case 1:return n.sent(),[3,3];case 2:return e=n.sent(),(e==null?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),[2];case 3:return this.schedule(),[2]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BF=function(){function t(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}return t.prototype._initializeTime=function(){this.lastSignInTime=p0(this.lastLoginAt),this.creationTime=p0(this.createdAt)},t.prototype._copy=function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()},t.prototype.toJSON=function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t){var e;return te(this,void 0,void 0,function(){var n,r,s,i,o,a,l,c,u,h;return ne(this,function(f){switch(f.label){case 0:return n=t.auth,[4,t.getIdToken()];case 1:return r=f.sent(),[4,Cp(t,ywe(n,{idToken:r}))];case 2:return s=f.sent(),nt(s==null?void 0:s.users.length,n,"internal-error"),i=s.users[0],t._notifyReloadListener(i),o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Iwe(i.providerUserInfo):[],a=bwe(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new BF(i.createdAt,i.lastLoginAt),isAnonymous:u},Object.assign(t,h),[2]}})})}function Cwe(t){return te(this,void 0,void 0,function(){var e;return ne(this,function(n){switch(n.label){case 0:return e=ut(t),[4,Y1(e)];case 1:return n.sent(),[4,e.auth._persistUserIfCurrent(e)];case 2:return n.sent(),e.auth._notifyListenersIfCurrent(e),[2]}})})}function bwe(t,e){var n=t.filter(function(r){return!e.some(function(s){return s.providerId===r.providerId})});return fr(fr([],n,!0),e,!0)}function Iwe(t){return t.map(function(e){var n=e.providerId,r=vh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Twe(t,e){return te(this,void 0,void 0,function(){var n,r=this;return ne(this,function(s){switch(s.label){case 0:return[4,UF(t,{},function(){return te(r,void 0,void 0,function(){var i,o,a,l,c,u;return ne(this,function(h){switch(h.label){case 0:return i=pa({grant_type:"refresh_token",refresh_token:e}).slice(1),o=t.config,a=o.tokenApiHost,l=o.apiKey,c=zF(t,a,"/v1/token","key=".concat(l)),[4,t._getAdditionalHeaders()];case 1:return u=h.sent(),u["Content-Type"]="application/x-www-form-urlencoded",[2,VF.fetch()(c,{method:"POST",headers:u,body:i})]}})})})];case 1:return n=s.sent(),[2,{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}]}})})}function Swe(t,e){return te(this,void 0,void 0,function(){return ne(this,function(n){return[2,mu(t,"POST","/v2/accounts:revokeToken",Co(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aP=function(){function t(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object.defineProperty(t.prototype,"isExpired",{get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4},enumerable:!1,configurable:!0}),t.prototype.updateFromServerResponse=function(e){nt(e.idToken,"internal-error"),nt(typeof e.idToken<"u","internal-error"),nt(typeof e.refreshToken<"u","internal-error");var n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wwe(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)},t.prototype.getToken=function(e,n){return n===void 0&&(n=!1),te(this,void 0,void 0,function(){return ne(this,function(r){switch(r.label){case 0:return nt(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?[2,this.accessToken]:this.refreshToken?[4,this.refresh(e,this.refreshToken)]:[3,2];case 1:return r.sent(),[2,this.accessToken];case 2:return[2,null]}})})},t.prototype.clearRefreshToken=function(){this.refreshToken=null},t.prototype.refresh=function(e,n){return te(this,void 0,void 0,function(){var r,s,i,o;return ne(this,function(a){switch(a.label){case 0:return[4,Twe(e,n)];case 1:return r=a.sent(),s=r.accessToken,i=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(s,i,Number(o)),[2]}})})},t.prototype.updateTokensAndExpiration=function(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3},t.fromJSON=function(e,n){var r=n.refreshToken,s=n.accessToken,i=n.expirationTime,o=new t;return r&&(nt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(nt(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(nt(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o},t.prototype.toJSON=function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}},t.prototype._assign=function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime},t.prototype._clone=function(){return Object.assign(new t,this.toJSON())},t.prototype._performRefresh=function(){return qo("not implemented")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t,e){nt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var uC=function(){function t(e){var n=e.uid,r=e.auth,s=e.stsTokenManager,i=vh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ewe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?fr([],i.providerData,!0):[],this.metadata=new BF(i.createdAt||void 0,i.lastLoginAt||void 0)}return t.prototype.getIdToken=function(e){return te(this,void 0,void 0,function(){var n;return ne(this,function(r){switch(r.label){case 0:return[4,Cp(this,this.stsTokenManager.getToken(this.auth,e))];case 1:return n=r.sent(),nt(n,this.auth,"internal-error"),this.accessToken===n?[3,3]:(this.accessToken=n,[4,this.auth._persistUserIfCurrent(this)]);case 2:r.sent(),this.auth._notifyListenersIfCurrent(this),r.label=3;case 3:return[2,n]}})})},t.prototype.getIdTokenResult=function(e){return _we(this,e)},t.prototype.reload=function(){return Cwe(this)},t.prototype._assign=function(e){this!==e&&(nt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(function(n){return ft({},n)}),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))},t.prototype._clone=function(e){var n=new t(ft(ft({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n},t.prototype._onReload=function(e){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)},t.prototype._notifyReloadListener=function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e},t.prototype._startProactiveRefresh=function(){this.proactiveRefresh._start()},t.prototype._stopProactiveRefresh=function(){this.proactiveRefresh._stop()},t.prototype._updateTokensIfNecessary=function(e,n){return n===void 0&&(n=!1),te(this,void 0,void 0,function(){var r;return ne(this,function(s){switch(s.label){case 0:return r=!1,e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n?[4,Y1(this)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,this.auth._persistUserIfCurrent(this)];case 3:return s.sent(),r&&this.auth._notifyListenersIfCurrent(this),[2]}})})},t.prototype.delete=function(){return te(this,void 0,void 0,function(){var e;return ne(this,function(n){switch(n.label){case 0:return[4,this.getIdToken()];case 1:return e=n.sent(),[4,Cp(this,vwe(this.auth,{idToken:e}))];case 2:return n.sent(),this.stsTokenManager.clearRefreshToken(),[2,this.auth.signOut()]}})})},t.prototype.toJSON=function(){return ft(ft({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(e){return ft({},e)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})},Object.defineProperty(t.prototype,"refreshToken",{get:function(){return this.stsTokenManager.refreshToken||""},enumerable:!1,configurable:!0}),t._fromJSON=function(e,n){var r,s,i,o,a,l,c,u,h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,_=n.uid,x=n.emailVerified,b=n.isAnonymous,C=n.providerData,T=n.stsTokenManager;nt(_&&T,e,"internal-error");var I=aP.fromJSON(this.name,T);nt(typeof _=="string",e,"internal-error"),Ra(h,e.name),Ra(f,e.name),nt(typeof x=="boolean",e,"internal-error"),nt(typeof b=="boolean",e,"internal-error"),Ra(p,e.name),Ra(m,e.name),Ra(v,e.name),Ra(E,e.name),Ra(y,e.name),Ra(w,e.name);var S=new t({uid:_,auth:e,email:f,emailVerified:x,displayName:h,isAnonymous:b,photoURL:m,phoneNumber:p,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:w});return C&&Array.isArray(C)&&(S.providerData=C.map(function(R){return ft({},R)})),E&&(S._redirectEventId=E),S},t._fromIdTokenResponse=function(e,n,r){return r===void 0&&(r=!1),te(this,void 0,void 0,function(){var s,i;return ne(this,function(o){switch(o.label){case 0:return s=new aP,s.updateFromServerResponse(n),i=new t({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r}),[4,Y1(i)];case 1:return o.sent(),[2,i]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lP=new Map;function Qa(t){ih(t instanceof Function,"Expected a class definition");var e=lP.get(t);return e?(ih(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kwe=function(){function t(){this.type="NONE",this.storage={}}return t.prototype._isAvailable=function(){return te(this,void 0,void 0,function(){return ne(this,function(e){return[2,!0]})})},t.prototype._set=function(e,n){return te(this,void 0,void 0,function(){return ne(this,function(r){return this.storage[e]=n,[2]})})},t.prototype._get=function(e){return te(this,void 0,void 0,function(){var n;return ne(this,function(r){return n=this.storage[e],[2,n===void 0?null:n]})})},t.prototype._remove=function(e){return te(this,void 0,void 0,function(){return ne(this,function(n){return delete this.storage[e],[2]})})},t.prototype._addListener=function(e,n){},t.prototype._removeListener=function(e,n){},t.type="NONE",t}(),cP=kwe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t,e,n){return"".concat("firebase",":").concat(t,":").concat(e,":").concat(n)}var uP=function(){function t(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;var s=this.auth,i=s.config,o=s.name;this.fullUserKey=ag(this.userKey,i.apiKey,o),this.fullPersistenceKey=ag("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return t.prototype.setCurrentUser=function(e){return this.persistence._set(this.fullUserKey,e.toJSON())},t.prototype.getCurrentUser=function(){return te(this,void 0,void 0,function(){var e;return ne(this,function(n){switch(n.label){case 0:return[4,this.persistence._get(this.fullUserKey)];case 1:return e=n.sent(),[2,e?uC._fromJSON(this.auth,e):null]}})})},t.prototype.removeCurrentUser=function(){return this.persistence._remove(this.fullUserKey)},t.prototype.savePersistenceForRedirect=function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)},t.prototype.setPersistence=function(e){return te(this,void 0,void 0,function(){var n;return ne(this,function(r){switch(r.label){case 0:return this.persistence===e?[2]:[4,this.getCurrentUser()];case 1:return n=r.sent(),[4,this.removeCurrentUser()];case 2:return r.sent(),this.persistence=e,n?[2,this.setCurrentUser(n)]:[2]}})})},t.prototype.delete=function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)},t.create=function(e,n,r){return r===void 0&&(r="authUser"),te(this,void 0,void 0,function(){var s,i,o,a,l,c,u,h,f,p,m=this;return ne(this,function(v){switch(v.label){case 0:return n.length?[4,Promise.all(n.map(function(E){return te(m,void 0,void 0,function(){return ne(this,function(y){switch(y.label){case 0:return[4,E._isAvailable()];case 1:return y.sent()?[2,E]:[2,void 0]}})})}))]:[2,new t(Qa(cP),e,r)];case 1:s=v.sent().filter(function(E){return E}),i=s[0]||Qa(cP),o=ag(r,e.config.apiKey,e.name),a=null,l=0,c=n,v.label=2;case 2:if(!(l<c.length))return[3,7];u=c[l],v.label=3;case 3:return v.trys.push([3,5,,6]),[4,u._get(o)];case 4:return h=v.sent(),h?(f=uC._fromJSON(e,h),u!==i&&(a=f),i=u,[3,7]):[3,6];case 5:return v.sent(),[3,6];case 6:return l++,[3,2];case 7:return p=s.filter(function(E){return E._shouldAllowMigration}),!i._shouldAllowMigration||!p.length?[2,new t(i,e,r)]:(i=p[0],a?[4,i._set(o,a.toJSON())]:[3,9]);case 8:v.sent(),v.label=9;case 9:return[4,Promise.all(n.map(function(E){return te(m,void 0,void 0,function(){return ne(this,function(y){switch(y.label){case 0:if(E===i)return[3,4];y.label=1;case 1:return y.trys.push([1,3,,4]),[4,E._remove(o)];case 2:return y.sent(),[3,4];case 3:return y.sent(),[3,4];case 4:return[2]}})})}))];case 10:return v.sent(),[2,new t(i,e,r)]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t){var e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Rwe(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qF(e))return"Blackberry";if(YF(e))return"Webos";if(WF(e))return"Safari";if((e.includes("chrome/")||Awe(e))&&!e.includes("edge/"))return"Chrome";if(GF(e))return"Android";var n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);return(r==null?void 0:r.length)===2?r[1]:"Other"}function Rwe(t){return t===void 0&&(t=kt()),/firefox\//i.test(t)}function WF(t){t===void 0&&(t=kt());var e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Awe(t){return t===void 0&&(t=kt()),/crios\//i.test(t)}function HF(t){return t===void 0&&(t=kt()),/iemobile/i.test(t)}function GF(t){return t===void 0&&(t=kt()),/android/i.test(t)}function qF(t){return t===void 0&&(t=kt()),/blackberry/i.test(t)}function YF(t){return t===void 0&&(t=kt()),/webos/i.test(t)}function KF(t){return t===void 0&&(t=kt()),/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Pwe(){return y8()&&document.documentMode===10}function Nwe(t){return t===void 0&&(t=kt()),KF(t)||GF(t)||YF(t)||qF(t)||/windows phone/i.test(t)||HF(t)}function Dwe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(t,e){e===void 0&&(e=[]);var n;switch(t){case"Browser":n=dP(kt());break;case"Worker":n="".concat(dP(kt()),"-").concat(t);break;default:n=t}var r=e.length?e.join(","):"FirebaseCore-web";return"".concat(n,"/").concat("JsCore","/").concat(ji,"/").concat(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lwe=function(){function t(e){this.auth=e,this.queue=[]}return t.prototype.pushCallback=function(e,n){var r=this,s=function(o){return new Promise(function(a,l){try{var c=e(o);a(c)}catch(u){l(u)}})};s.onAbort=n,this.queue.push(s);var i=this.queue.length-1;return function(){r.queue[i]=function(){return Promise.resolve()}}},t.prototype.runMiddleware=function(e){return te(this,void 0,void 0,function(){var n,r,s,i,o,a,l,c;return ne(this,function(u){switch(u.label){case 0:if(this.auth.currentUser===e)return[2];n=[],u.label=1;case 1:u.trys.push([1,6,,7]),r=0,s=this.queue,u.label=2;case 2:return r<s.length?(i=s[r],[4,i(e)]):[3,5];case 3:u.sent(),i.onAbort&&n.push(i.onAbort),u.label=4;case 4:return r++,[3,2];case 5:return[3,7];case 6:for(o=u.sent(),n.reverse(),a=0,l=n;a<l.length;a++){c=l[a];try{c()}catch{}}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o==null?void 0:o.message});case 7:return[2]}})})},t}();/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mwe(t,e){return e===void 0&&(e={}),te(this,void 0,void 0,function(){return ne(this,function(n){return[2,mu(t,"GET","/v2/passwordPolicy",Co(t,e))]})})}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Owe=6,jwe=function(){function t(e){var n,r,s,i,o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Owe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}return t.prototype.validatePassword=function(e){var n,r,s,i,o,a,l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l},t.prototype.validatePasswordLengthOptions=function(e,n){var r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)},t.prototype.validatePasswordCharacterOptions=function(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(var r,s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))},t.prototype.updatePasswordCharacterOptionsStatuses=function(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $we=function(){function t(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hP(this),this.idTokenSubscription=new hP(this),this.beforeStateQueue=new Lwe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}return t.prototype._initializeWithPersistence=function(e,n){var r=this;return n&&(this._popupRedirectResolver=Qa(n)),this._initializationPromise=this.queue(function(){return te(r,void 0,void 0,function(){var s,i,o;return ne(this,function(a){switch(a.label){case 0:return this._deleted?[2]:(s=this,[4,uP.create(this,e)]);case 1:if(s.persistenceManager=a.sent(),this._deleted)return[2];if(!(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively))return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this._popupRedirectResolver._initialize(this)];case 3:return a.sent(),[3,5];case 4:return a.sent(),[3,5];case 5:return[4,this.initializeCurrentUser(n)];case 6:return a.sent(),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,this._deleted?[2]:(this._isInitialized=!0,[2])}})})}),this._initializationPromise},t.prototype._onStorageEvent=function(){return te(this,void 0,void 0,function(){var e;return ne(this,function(n){switch(n.label){case 0:return this._deleted?[2]:[4,this.assertedPersistence.getCurrentUser()];case 1:return e=n.sent(),!this.currentUser&&!e?[2]:this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),[4,this.currentUser.getIdToken()]):[3,3];case 2:return n.sent(),[2];case 3:return[4,this._updateCurrentUser(e,!0)];case 4:return n.sent(),[2]}})})},t.prototype.initializeCurrentUser=function(e){var n;return te(this,void 0,void 0,function(){var r,s,i,o,a,l,c;return ne(this,function(u){switch(u.label){case 0:return[4,this.assertedPersistence.getCurrentUser()];case 1:return r=u.sent(),s=r,i=!1,e&&this.config.authDomain?[4,this.getOrInitRedirectPersistenceManager()]:[3,4];case 2:return u.sent(),o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,[4,this.tryRedirectSignIn(e)];case 3:l=u.sent(),(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0),u.label=4;case 4:if(!s)return[2,this.directlySetCurrentUser(null)];if(s._redirectEventId)return[3,9];if(!i)return[3,8];u.label=5;case 5:return u.trys.push([5,7,,8]),[4,this.beforeStateQueue.runMiddleware(s)];case 6:return u.sent(),[3,8];case 7:return c=u.sent(),s=r,this._popupRedirectResolver._overrideRedirectResult(this,function(){return Promise.reject(c)}),[3,8];case 8:return s?[2,this.reloadAndSetCurrentUserOrClear(s)]:[2,this.directlySetCurrentUser(null)];case 9:return nt(this._popupRedirectResolver,this,"argument-error"),[4,this.getOrInitRedirectPersistenceManager()];case 10:return u.sent(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?[2,this.directlySetCurrentUser(s)]:[2,this.reloadAndSetCurrentUserOrClear(s)]}})})},t.prototype.tryRedirectSignIn=function(e){return te(this,void 0,void 0,function(){var n;return ne(this,function(r){switch(r.label){case 0:n=null,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,this._popupRedirectResolver._completeRedirectFn(this,e,!0)];case 2:return n=r.sent(),[3,5];case 3:return r.sent(),[4,this._setRedirectUser(null)];case 4:return r.sent(),[3,5];case 5:return[2,n]}})})},t.prototype.reloadAndSetCurrentUserOrClear=function(e){return te(this,void 0,void 0,function(){var n;return ne(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Y1(e)];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),(n==null?void 0:n.code)!=="auth/".concat("network-request-failed")?[2,this.directlySetCurrentUser(null)]:[3,3];case 3:return[2,this.directlySetCurrentUser(e)]}})})},t.prototype.useDeviceLanguage=function(){this.languageCode=lwe()},t.prototype._delete=function(){return te(this,void 0,void 0,function(){return ne(this,function(e){return this._deleted=!0,[2]})})},t.prototype.updateCurrentUser=function(e){return te(this,void 0,void 0,function(){var n;return ne(this,function(r){return n=e?ut(e):null,n&&nt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),[2,this._updateCurrentUser(n&&n._clone(this))]})})},t.prototype._updateCurrentUser=function(e,n){return n===void 0&&(n=!1),te(this,void 0,void 0,function(){var r=this;return ne(this,function(s){switch(s.label){case 0:return this._deleted?[2]:(e&&nt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n?[3,2]:[4,this.beforeStateQueue.runMiddleware(e)]);case 1:s.sent(),s.label=2;case 2:return[2,this.queue(function(){return te(r,void 0,void 0,function(){return ne(this,function(i){switch(i.label){case 0:return[4,this.directlySetCurrentUser(e)];case 1:return i.sent(),this.notifyAuthListeners(),[2]}})})})]}})})},t.prototype.signOut=function(){return te(this,void 0,void 0,function(){return ne(this,function(e){switch(e.label){case 0:return[4,this.beforeStateQueue.runMiddleware(null)];case 1:return e.sent(),this.redirectPersistenceManager||this._popupRedirectResolver?[4,this._setRedirectUser(null)]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2,this._updateCurrentUser(null,!0)]}})})},t.prototype.setPersistence=function(e){var n=this;return this.queue(function(){return te(n,void 0,void 0,function(){return ne(this,function(r){switch(r.label){case 0:return[4,this.assertedPersistence.setPersistence(Qa(e))];case 1:return r.sent(),[2]}})})})},t.prototype._getRecaptchaConfig=function(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]},t.prototype.validatePassword=function(e){return te(this,void 0,void 0,function(){var n;return ne(this,function(r){switch(r.label){case 0:return this._getPasswordPolicyInternal()?[3,2]:[4,this._updatePasswordPolicy()];case 1:r.sent(),r.label=2;case 2:return n=this._getPasswordPolicyInternal(),n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?[2,Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{}))]:[2,n.validatePassword(e)]}})})},t.prototype._getPasswordPolicyInternal=function(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]},t.prototype._updatePasswordPolicy=function(){return te(this,void 0,void 0,function(){var e,n;return ne(this,function(r){switch(r.label){case 0:return[4,Mwe(this)];case 1:return e=r.sent(),n=new jwe(e),this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n,[2]}})})},t.prototype._getPersistence=function(){return this.assertedPersistence.persistence.type},t.prototype._updateErrorMap=function(e){this._errorFactory=new Nl("auth","Firebase",e())},t.prototype.onAuthStateChanged=function(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)},t.prototype.beforeAuthStateChanged=function(e,n){return this.beforeStateQueue.pushCallback(e,n)},t.prototype.onIdTokenChanged=function(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)},t.prototype.authStateReady=function(){var e=this;return new Promise(function(n,r){if(e.currentUser)n();else var s=e.onAuthStateChanged(function(){s(),n()},r)})},t.prototype.revokeAccessToken=function(e){return te(this,void 0,void 0,function(){var n,r;return ne(this,function(s){switch(s.label){case 0:return this.currentUser?[4,this.currentUser.getIdToken()]:[3,3];case 1:return n=s.sent(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n},this.tenantId!=null&&(r.tenantId=this.tenantId),[4,Swe(this,r)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.toJSON=function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}},t.prototype._setRedirectUser=function(e,n){return te(this,void 0,void 0,function(){var r;return ne(this,function(s){switch(s.label){case 0:return[4,this.getOrInitRedirectPersistenceManager(n)];case 1:return r=s.sent(),[2,e===null?r.removeCurrentUser():r.setCurrentUser(e)]}})})},t.prototype.getOrInitRedirectPersistenceManager=function(e){return te(this,void 0,void 0,function(){var n,r,s;return ne(this,function(i){switch(i.label){case 0:return this.redirectPersistenceManager?[3,3]:(n=e&&Qa(e)||this._popupRedirectResolver,nt(n,this,"argument-error"),r=this,[4,uP.create(this,[Qa(n._redirectPersistence)],"redirectUser")]);case 1:return r.redirectPersistenceManager=i.sent(),s=this,[4,this.redirectPersistenceManager.getCurrentUser()];case 2:s.redirectUser=i.sent(),i.label=3;case 3:return[2,this.redirectPersistenceManager]}})})},t.prototype._redirectUserForId=function(e){var n,r;return te(this,void 0,void 0,function(){var s=this;return ne(this,function(i){switch(i.label){case 0:return this._isInitialized?[4,this.queue(function(){return te(s,void 0,void 0,function(){return ne(this,function(o){return[2]})})})]:[3,2];case 1:i.sent(),i.label=2;case 2:return((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?[2,this._currentUser]:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?[2,this.redirectUser]:[2,null]}})})},t.prototype._persistUserIfCurrent=function(e){return te(this,void 0,void 0,function(){var n=this;return ne(this,function(r){return e===this.currentUser?[2,this.queue(function(){return te(n,void 0,void 0,function(){return ne(this,function(s){return[2,this.directlySetCurrentUser(e)]})})})]:[2]})})},t.prototype._notifyListenersIfCurrent=function(e){e===this.currentUser&&this.notifyAuthListeners()},t.prototype._key=function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)},t.prototype._startProactiveRefresh=function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()},t.prototype._stopProactiveRefresh=function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()},Object.defineProperty(t.prototype,"_currentUser",{get:function(){return this.currentUser},enumerable:!1,configurable:!0}),t.prototype.notifyAuthListeners=function(){var e,n;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}},t.prototype.registerStateListener=function(e,n,r,s){var i=this;if(this._deleted)return function(){};var o=typeof n=="function"?n:n.next.bind(n),a=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(nt(l,this,"internal-error"),l.then(function(){a||o(i.currentUser)}),typeof n=="function"){var c=e.addObserver(n,r,s);return function(){a=!0,c()}}else{var u=e.addObserver(n);return function(){a=!0,u()}}},t.prototype.directlySetCurrentUser=function(e){return te(this,void 0,void 0,function(){return ne(this,function(n){switch(n.label){case 0:return this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?[4,this.assertedPersistence.setCurrentUser(e)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.assertedPersistence.removeCurrentUser()];case 3:n.sent(),n.label=4;case 4:return[2]}})})},t.prototype.queue=function(e){return this.operations=this.operations.then(e,e),this.operations},Object.defineProperty(t.prototype,"assertedPersistence",{get:function(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager},enumerable:!1,configurable:!0}),t.prototype._logFramework=function(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QF(this.config.clientPlatform,this._getFrameworks()))},t.prototype._getFrameworks=function(){return this.frameworks},t.prototype._getAdditionalHeaders=function(){var e;return te(this,void 0,void 0,function(){var n,r,s,i;return ne(this,function(o){switch(o.label){case 0:return n=(i={},i["X-Client-Version"]=this.clientVersion,i),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),[4,(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader()];case 1:return r=o.sent(),r&&(n["X-Firebase-Client"]=r),[4,this._getAppCheckToken()];case 2:return s=o.sent(),s&&(n["X-Firebase-AppCheck"]=s),[2,n]}})})},t.prototype._getAppCheckToken=function(){var e;return te(this,void 0,void 0,function(){var n;return ne(this,function(r){switch(r.label){case 0:return[4,(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken()];case 1:return n=r.sent(),n!=null&&n.error&&swe("Error while retrieving App Check token: ".concat(n.error)),[2,n==null?void 0:n.token]}})})},t}();function XF(t){return ut(t)}var hP=function(){function t(e){var n=this;this.auth=e,this.observer=null,this.addObserver=C8(function(r){return n.observer=r})}return Object.defineProperty(t.prototype,"next",{get:function(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JF={loadJS:function(){return te(this,void 0,void 0,function(){return ne(this,function(t){throw new Error("Unable to load external scripts")})})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fwe(t){return JF.loadJS(t)}function Vwe(){return JF.recaptchaEnterpriseScript}var Uwe="recaptcha-enterprise",zwe="NO_RECAPTCHA",Bwe=function(){function t(e){this.type=Uwe,this.auth=XF(e)}return t.prototype.verify=function(e,n){return e===void 0&&(e="verify"),n===void 0&&(n=!1),te(this,void 0,void 0,function(){function r(o){return te(this,void 0,void 0,function(){var a=this;return ne(this,function(l){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return[2,o._agentRecaptchaConfig.siteKey];if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return[2,o._tenantRecaptchaConfigs[o.tenantId].siteKey]}return[2,new Promise(function(c,u){return te(a,void 0,void 0,function(){return ne(this,function(h){return gwe(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(function(f){if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{var p=new mwe(f);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(function(f){u(f)}),[2]})})})]})})}function s(o,a,l){var c=window.grecaptcha;oP(c)?c.enterprise.ready(function(){c.enterprise.execute(o,{action:e}).then(function(u){a(u)}).catch(function(){a(zwe)})}):l(Error("No reCAPTCHA enterprise script loaded."))}var i=this;return ne(this,function(o){return[2,new Promise(function(a,l){r(i.auth).then(function(c){if(!n&&oP(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}var u=Vwe();u.length!==0&&(u+=c),Fwe(u).then(function(){s(c,a,l)}).catch(function(h){l(h)})}}).catch(function(c){l(c)})})]})})},t}();function fP(t,e,n,r){return r===void 0&&(r=!1),te(this,void 0,void 0,function(){var s,i,o;return ne(this,function(a){switch(a.label){case 0:s=new Bwe(t),a.label=1;case 1:return a.trys.push([1,3,,5]),[4,s.verify(n)];case 2:return i=a.sent(),[3,5];case 3:return a.sent(),[4,s.verify(n,!0)];case 4:return i=a.sent(),[3,5];case 5:return o=ft({},e),r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),[2,o]}})})}function pP(t,e,n,r){var s;return te(this,void 0,void 0,function(){var i,o=this;return ne(this,function(a){switch(a.label){case 0:return!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")?[4,fP(t,e,n,n==="getOobCode")]:[3,2];case 1:return i=a.sent(),[2,r(t,i)];case 2:return[2,r(t,e).catch(function(l){return te(o,void 0,void 0,function(){var c;return ne(this,function(u){switch(u.label){case 0:return l.code!=="auth/".concat("missing-recaptcha-token")?[3,2]:(console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),[4,fP(t,e,n,n==="getOobCode")]);case 1:return c=u.sent(),[2,r(t,c)];case 2:return[2,Promise.reject(l)]}})})})]}})})}function Wwe(t,e){var n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cm=function(){function t(e,n){this.providerId=e,this.signInMethod=n}return t.prototype.toJSON=function(){return qo("not implemented")},t.prototype._getIdTokenResponse=function(e){return qo("not implemented")},t.prototype._linkToIdToken=function(e,n){return qo("not implemented")},t.prototype._getReauthenticationResolver=function(e){return qo("not implemented")},t}();function Hwe(t,e){return te(this,void 0,void 0,function(){return ne(this,function(n){return[2,mu(t,"POST","/v1/accounts:signUp",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gwe(t,e){return te(this,void 0,void 0,function(){return ne(this,function(n){return[2,gu(t,"POST","/v1/accounts:signInWithPassword",Co(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qwe(t,e){return te(this,void 0,void 0,function(){return ne(this,function(n){return[2,gu(t,"POST","/v1/accounts:signInWithEmailLink",Co(t,e))]})})}function Ywe(t,e){return te(this,void 0,void 0,function(){return ne(this,function(n){return[2,gu(t,"POST","/v1/accounts:signInWithEmailLink",Co(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mP=function(t){un(e,t);function e(n,r,s,i){i===void 0&&(i=null);var o=t.call(this,"password",s)||this;return o._email=n,o._password=r,o._tenantId=i,o}return e._fromEmailAndPassword=function(n,r){return new e(n,r,"password")},e._fromEmailAndCode=function(n,r,s){return s===void 0&&(s=null),new e(n,r,"emailLink",s)},e.prototype.toJSON=function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null},e.prototype._getIdTokenResponse=function(n){return te(this,void 0,void 0,function(){var r;return ne(this,function(s){switch(this.signInMethod){case"password":return r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,pP(n,r,"signInWithPassword",Gwe)];case"emailLink":return[2,qwe(n,{email:this._email,oobCode:this._password})];default:ha(n,"internal-error")}return[2]})})},e.prototype._linkToIdToken=function(n,r){return te(this,void 0,void 0,function(){var s;return ne(this,function(i){switch(this.signInMethod){case"password":return s={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,pP(n,s,"signUpPassword",Hwe)];case"emailLink":return[2,Ywe(n,{idToken:r,email:this._email,oobCode:this._password})];default:ha(n,"internal-error")}return[2]})})},e.prototype._getReauthenticationResolver=function(n){return this._getIdTokenResponse(n)},e}(Cm);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t,e){return te(this,void 0,void 0,function(){return ne(this,function(n){return[2,gu(t,"POST","/v1/accounts:signInWithIdp",Co(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kwe="http://localhost",oh=function(t){un(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.pendingToken=null,n}return e._fromParams=function(n){var r=new e(n.providerId,n.signInMethod);return n.idToken||n.accessToken?(n.idToken&&(r.idToken=n.idToken),n.accessToken&&(r.accessToken=n.accessToken),n.nonce&&!n.pendingToken&&(r.nonce=n.nonce),n.pendingToken&&(r.pendingToken=n.pendingToken)):n.oauthToken&&n.oauthTokenSecret?(r.accessToken=n.oauthToken,r.secret=n.oauthTokenSecret):ha("argument-error"),r},e.prototype.toJSON=function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,s=r.providerId,i=r.signInMethod,o=vh(r,["providerId","signInMethod"]);if(!s||!i)return null;var a=new e(s,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a},e.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return Jo(n,r)},e.prototype._linkToIdToken=function(n,r){var s=this.buildRequest();return s.idToken=r,Jo(n,s)},e.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,Jo(n,r)},e.prototype.buildRequest=function(){var n={requestUri:Kwe,returnSecureToken:!0};if(this.pendingToken)n.pendingToken=this.pendingToken;else{var r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),n.postBody=pa(r)}return n},e}(Cm);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xx;function Qwe(t,e){return te(this,void 0,void 0,function(){return ne(this,function(n){return[2,gu(t,"POST","/v1/accounts:signInWithPhoneNumber",Co(t,e))]})})}function Xwe(t,e){return te(this,void 0,void 0,function(){var n;return ne(this,function(r){switch(r.label){case 0:return[4,gu(t,"POST","/v1/accounts:signInWithPhoneNumber",Co(t,e))];case 1:if(n=r.sent(),n.temporaryProof)throw Vf(t,"account-exists-with-different-credential",n);return[2,n]}})})}var Jwe=(xx={},xx.USER_NOT_FOUND="user-not-found",xx);function Zwe(t,e){return te(this,void 0,void 0,function(){var n;return ne(this,function(r){return n=ft(ft({},e),{operation:"REAUTH"}),[2,gu(t,"POST","/v1/accounts:signInWithPhoneNumber",Co(t,n),Jwe)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){un(e,t);function e(n){var r=t.call(this,"phone","phone")||this;return r.params=n,r}return e._fromVerification=function(n,r){return new e({verificationId:n,verificationCode:r})},e._fromTokenResponse=function(n,r){return new e({phoneNumber:n,temporaryProof:r})},e.prototype._getIdTokenResponse=function(n){return Qwe(n,this._makeVerificationRequest())},e.prototype._linkToIdToken=function(n,r){return Xwe(n,ft({idToken:r},this._makeVerificationRequest()))},e.prototype._getReauthenticationResolver=function(n){return Zwe(n,this._makeVerificationRequest())},e.prototype._makeVerificationRequest=function(){var n=this.params,r=n.temporaryProof,s=n.phoneNumber,i=n.verificationId,o=n.verificationCode;return r&&s?{temporaryProof:r,phoneNumber:s}:{sessionInfo:i,code:o}},e.prototype.toJSON=function(){var n={providerId:this.providerId};return this.params.phoneNumber&&(n.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(n.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(n.verificationCode=this.params.verificationCode),this.params.verificationId&&(n.verificationId=this.params.verificationId),n},e.fromJSON=function(n){typeof n=="string"&&(n=JSON.parse(n));var r=n,s=r.verificationId,i=r.verificationCode,o=r.phoneNumber,a=r.temporaryProof;return!i&&!s&&!o&&!a?null:new e({verificationId:s,verificationCode:i,phoneNumber:o,temporaryProof:a})},e})(Cm);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function exe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function txe(t){var e=Qi(Xi(t)).link,n=e?Qi(Xi(e)).deep_link_id:null,r=Qi(Xi(t)).deep_link_id,s=r?Qi(Xi(r)).link:null;return s||r||n||e||t}var nxe=function(){function t(e){var n,r,s,i,o,a,l=Qi(Xi(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=exe((s=l.mode)!==null&&s!==void 0?s:null);nt(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}return t.parseLink=function(e){var n=txe(e);try{return new t(n)}catch{return null}},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rxe=function(){function t(){this.providerId=t.PROVIDER_ID}return t.credential=function(e,n){return mP._fromEmailAndPassword(e,n)},t.credentialWithLink=function(e,n){var r=nxe.parseLink(n);return nt(r,"argument-error"),mP._fromEmailAndCode(e,r.code,r.tenantId)},t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZF=function(){function t(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}return t.prototype.setDefaultLanguage=function(e){this.defaultLanguageCode=e},t.prototype.setCustomParameters=function(e){return this.customParameters=e,this},t.prototype.getCustomParameters=function(){return this.customParameters},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bm=function(t){un(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.scopes=[],n}return e.prototype.addScope=function(n){return this.scopes.includes(n)||this.scopes.push(n),this},e.prototype.getScopes=function(){return fr([],this.scopes,!0)},e}(ZF);(function(t){un(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.credentialFromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;return nt("providerId"in r&&"signInMethod"in r,"argument-error"),oh._fromParams(r)},e.prototype.credential=function(n){return this._credential(ft(ft({},n),{nonce:n.rawNonce}))},e.prototype._credential=function(n){return nt(n.idToken||n.accessToken,"argument-error"),oh._fromParams(ft(ft({},n),{providerId:this.providerId,signInMethod:this.providerId}))},e.credentialFromResult=function(n){return e.oauthCredentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.oauthCredentialFromTaggedObject(n.customData||{})},e.oauthCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var s=r,i=s.oauthIdToken,o=s.oauthAccessToken,a=s.oauthTokenSecret,l=s.pendingToken,c=s.nonce,u=s.providerId;if(!o&&!a&&!i&&!l||!u)return null;try{return new e(u)._credential({idToken:i,accessToken:o,nonce:c,pendingToken:l})}catch{return null}},e})(bm);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){un(e,t);function e(){return t.call(this,"facebook.com")||this}return e.credential=function(n){return oh._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:n})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return e.credential(r.oauthAccessToken)}catch{return null}},e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(bm);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){un(e,t);function e(){var n=t.call(this,"google.com")||this;return n.addScope("profile"),n}return e.credential=function(n,r){return oh._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var s=r,i=s.oauthIdToken,o=s.oauthAccessToken;if(!i&&!o)return null;try{return e.credential(i,o)}catch{return null}},e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(bm);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){un(e,t);function e(){return t.call(this,"github.com")||this}return e.credential=function(n){return oh._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:n})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return e.credential(r.oauthAccessToken)}catch{return null}},e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})(bm);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sxe="http://localhost",gP=function(t){un(e,t);function e(n,r){var s=t.call(this,n,n)||this;return s.pendingToken=r,s}return e.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return Jo(n,r)},e.prototype._linkToIdToken=function(n,r){var s=this.buildRequest();return s.idToken=r,Jo(n,s)},e.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,Jo(n,r)},e.prototype.toJSON=function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,s=r.providerId,i=r.signInMethod,o=r.pendingToken;return!s||!i||!o||s!==i?null:new e(s,o)},e._create=function(n,r){return new e(n,r)},e.prototype.buildRequest=function(){return{requestUri:sxe,returnSecureToken:!0,pendingToken:this.pendingToken}},e}(Cm);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ixe="saml.";(function(t){un(e,t);function e(n){return nt(n.startsWith(ixe),"argument-error"),t.call(this,n)||this}return e.credentialFromResult=function(n){return e.samlCredentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.samlCredentialFromTaggedObject(n.customData||{})},e.credentialFromJSON=function(n){var r=gP.fromJSON(n);return nt(r,"argument-error"),r},e.samlCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var s=r,i=s.pendingToken,o=s.providerId;if(!i||!o)return null;try{return gP._create(o,i)}catch{return null}},e})(ZF);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){un(e,t);function e(){return t.call(this,"twitter.com")||this}return e.credential=function(n,r){return oh._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:r})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var s=r,i=s.oauthAccessToken,o=s.oauthTokenSecret;if(!i||!o)return null;try{return e.credential(i,o)}catch{return null}},e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})(bm);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QT=function(){function t(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}return t._fromIdTokenResponse=function(e,n,r,s){return s===void 0&&(s=!1),te(this,void 0,void 0,function(){var i,o,a;return ne(this,function(l){switch(l.label){case 0:return[4,uC._fromIdTokenResponse(e,r,s)];case 1:return i=l.sent(),o=vP(r),a=new t({user:i,providerId:o,_tokenResponse:r,operationType:n}),[2,a]}})})},t._forOperation=function(e,n,r){return te(this,void 0,void 0,function(){var s;return ne(this,function(i){switch(i.label){case 0:return[4,e._updateTokensIfNecessary(r,!0)];case 1:return i.sent(),s=vP(r),[2,new t({user:e,providerId:s,_tokenResponse:r,operationType:n})]}})})},t}();function vP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oxe=function(t){un(e,t);function e(n,r,s,i){var o=this,a;return o=t.call(this,r.code,r.message)||this,o.operationType=s,o.user=i,Object.setPrototypeOf(o,e.prototype),o.customData={appName:n.name,tenantId:(a=n.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:s},o}return e._fromErrorAndOperation=function(n,r,s,i){return new e(n,r,s,i)},e}(js);function eV(t,e,n,r){var s=e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t);return s.catch(function(i){throw i.code==="auth/".concat("multi-factor-auth-required")?oxe._fromErrorAndOperation(t,i,e,r):i})}function axe(t,e,n){return n===void 0&&(n=!1),te(this,void 0,void 0,function(){var r,s,i,o,a,l;return ne(this,function(c){switch(c.label){case 0:return s=Cp,i=[t],a=(o=e)._linkToIdToken,l=[t.auth],[4,t.getIdToken()];case 1:return[4,s.apply(void 0,i.concat([a.apply(o,l.concat([c.sent()])),n]))];case 2:return r=c.sent(),[2,QT._forOperation(t,"link",r)]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lxe(t,e,n){return n===void 0&&(n=!1),te(this,void 0,void 0,function(){var r,s,i,o,a,l;return ne(this,function(c){switch(c.label){case 0:r=t.auth,s="reauthenticate",c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Cp(t,eV(r,s,e,t),n)];case 2:return i=c.sent(),nt(i.idToken,r,"internal-error"),o=KT(i.idToken),nt(o,r,"internal-error"),a=o.sub,nt(t.uid===a,r,"user-mismatch"),[2,QT._forOperation(t,s,i)];case 3:throw l=c.sent(),(l==null?void 0:l.code)==="auth/".concat("user-not-found")&&ha(r,"user-mismatch"),l;case 4:return[2]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cxe(t,e,n){return n===void 0&&(n=!1),te(this,void 0,void 0,function(){var r,s,i;return ne(this,function(o){switch(o.label){case 0:return r="signIn",[4,eV(t,r,e)];case 1:return s=o.sent(),[4,QT._fromIdTokenResponse(t,r,s)];case 2:return i=o.sent(),n?[3,4]:[4,t._updateCurrentUser(i.user)];case 3:o.sent(),o.label=4;case 4:return[2,i]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tV=function(){function t(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return t._fromServerResponse=function(e,n){return"phoneInfo"in n?uxe._fromServerResponse(e,n):"totpInfo"in n?dxe._fromServerResponse(e,n):ha(e,"internal-error")},t}(),uxe=function(t){un(e,t);function e(n){var r=t.call(this,"phone",n)||this;return r.phoneNumber=n.phoneInfo,r}return e._fromServerResponse=function(n,r){return new e(r)},e}(tV),dxe=function(t){un(e,t);function e(n){return t.call(this,"totp",n)||this}return e._fromServerResponse=function(n,r){return new e(r)},e}(tV),XT=function(){function t(e,n,r){r===void 0&&(r={}),this.isNewUser=e,this.providerId=n,this.profile=r}return t}(),nV=function(t){un(e,t);function e(n,r,s,i){var o=t.call(this,n,r,s)||this;return o.username=i,o}return e}(XT);(function(t){un(e,t);function e(n,r){return t.call(this,n,"facebook.com",r)||this}return e})(XT);(function(t){un(e,t);function e(n,r){return t.call(this,n,"github.com",r,typeof(r==null?void 0:r.login)=="string"?r==null?void 0:r.login:null)||this}return e})(nV);(function(t){un(e,t);function e(n,r){return t.call(this,n,"google.com",r)||this}return e})(XT);(function(t){un(e,t);function e(n,r,s){return t.call(this,n,"twitter.com",r,s)||this}return e})(nV);var yP="@firebase/auth",_P="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hxe=function(){function t(e){this.auth=e,this.internalListeners=new Map}return t.prototype.getUid=function(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null},t.prototype.getToken=function(e){return te(this,void 0,void 0,function(){var n;return ne(this,function(r){switch(r.label){case 0:return this.assertAuthConfigured(),[4,this.auth._initializationPromise];case 1:return r.sent(),this.auth.currentUser?[4,this.auth.currentUser.getIdToken(e)]:[2,null];case 2:return n=r.sent(),[2,{accessToken:n}]}})})},t.prototype.addAuthTokenListener=function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var n=this.auth.onIdTokenChanged(function(r){e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}},t.prototype.removeAuthTokenListener=function(e){this.assertAuthConfigured();var n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())},t.prototype.assertAuthConfigured=function(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")},t.prototype.updateProactiveRefresh=function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fxe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pxe(t){ho(new Pi("auth",function(e,n){var r=n.options,s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),a=s.options,l=a.apiKey,c=a.authDomain;nt(l&&!l.includes(":"),"invalid-api-key",{appName:s.name});var u={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QF(t)},h=new $we(s,i,o,u);return Wwe(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,n,r){var s=e.getProvider("auth-internal");s.initialize()})),ho(new Pi("auth-internal",function(e){var n=XF(e.getProvider("auth").getImmediate());return function(r){return new hxe(r)}(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(yP,_P,fxe(t)),us(yP,_P,"esm5")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rV=function(){function t(e,n){this.storageRetriever=e,this.type=n}return t.prototype._isAvailable=function(){try{return this.storage?(this.storage.setItem(sP,"1"),this.storage.removeItem(sP),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}},t.prototype._set=function(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()},t.prototype._get=function(e){var n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)},t.prototype._remove=function(e){return this.storage.removeItem(e),Promise.resolve()},Object.defineProperty(t.prototype,"storage",{get:function(){return this.storageRetriever()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mxe(){var t=kt();return WF(t)||KF(t)}var gxe=1e3,vxe=10;(function(t){un(e,t);function e(){var n=t.call(this,function(){return window.localStorage},"LOCAL")||this;return n.boundEventHandler=function(r,s){return n.onStorageEvent(r,s)},n.listeners={},n.localCache={},n.pollTimer=null,n.safariLocalStorageNotSynced=mxe()&&Dwe(),n.fallbackToPolling=Nwe(),n._shouldAllowMigration=!0,n}return e.prototype.forAllChangedKeys=function(n){for(var r=0,s=Object.keys(this.listeners);r<s.length;r++){var i=s[r],o=this.storage.getItem(i),a=this.localCache[i];o!==a&&n(i,a,o)}},e.prototype.onStorageEvent=function(n,r){var s=this;if(r===void 0&&(r=!1),!n.key){this.forAllChangedKeys(function(c,u,h){s.notifyListeners(c,h)});return}var i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var o=this.storage.getItem(i);if(n.newValue!==o)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}var a=function(){var c=s.storage.getItem(i);!r&&s.localCache[i]===c||s.notifyListeners(i,c)},l=this.storage.getItem(i);Pwe()&&l!==n.newValue&&n.newValue!==n.oldValue?setTimeout(a,vxe):a()},e.prototype.notifyListeners=function(n,r){this.localCache[n]=r;var s=this.listeners[n];if(s)for(var i=0,o=Array.from(s);i<o.length;i++){var a=o[i];a(r&&JSON.parse(r))}},e.prototype.startPolling=function(){var n=this;this.stopPolling(),this.pollTimer=setInterval(function(){n.forAllChangedKeys(function(r,s,i){n.onStorageEvent(new StorageEvent("storage",{key:r,oldValue:s,newValue:i}),!0)})},gxe)},e.prototype.stopPolling=function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)},e.prototype.attachListener=function(){window.addEventListener("storage",this.boundEventHandler)},e.prototype.detachListener=function(){window.removeEventListener("storage",this.boundEventHandler)},e.prototype._addListener=function(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)},e.prototype._removeListener=function(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())},e.prototype._set=function(n,r){return te(this,void 0,void 0,function(){return ne(this,function(s){switch(s.label){case 0:return[4,t.prototype._set.call(this,n,r)];case 1:return s.sent(),this.localCache[n]=JSON.stringify(r),[2]}})})},e.prototype._get=function(n){return te(this,void 0,void 0,function(){var r;return ne(this,function(s){switch(s.label){case 0:return[4,t.prototype._get.call(this,n)];case 1:return r=s.sent(),this.localCache[n]=JSON.stringify(r),[2,r]}})})},e.prototype._remove=function(n){return te(this,void 0,void 0,function(){return ne(this,function(r){switch(r.label){case 0:return[4,t.prototype._remove.call(this,n)];case 1:return r.sent(),delete this.localCache[n],[2]}})})},e.type="LOCAL",e})(rV);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){un(e,t);function e(){return t.call(this,function(){return window.sessionStorage},"SESSION")||this}return e.prototype._addListener=function(n,r){},e.prototype._removeListener=function(n,r){},e.type="SESSION",e})(rV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JT=function(t){un(e,t);function e(n){var r=t.call(this,"custom","custom")||this;return r.params=n,r}return e.prototype._getIdTokenResponse=function(n){return Jo(n,this._buildIdpRequest())},e.prototype._linkToIdToken=function(n,r){return Jo(n,this._buildIdpRequest(r))},e.prototype._getReauthenticationResolver=function(n){return Jo(n,this._buildIdpRequest())},e.prototype._buildIdpRequest=function(n){var r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return n&&(r.idToken=n),r},e}(Cm);function yxe(t){return cxe(t.auth,new JT(t),t.bypassAuthState)}function _xe(t){var e=t.auth,n=t.user;return nt(n,e,"internal-error"),lxe(n,new JT(t),t.bypassAuthState)}function wxe(t){return te(this,void 0,void 0,function(){var e,n;return ne(this,function(r){return e=t.auth,n=t.user,nt(n,e,"internal-error"),[2,axe(n,new JT(t),t.bypassAuthState)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xxe=function(){function t(e,n,r,s,i){i===void 0&&(i=!1),this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return t.prototype.execute=function(){var e=this;return new Promise(function(n,r){return te(e,void 0,void 0,function(){var s,i;return ne(this,function(o){switch(o.label){case 0:this.pendingPromise={resolve:n,reject:r},o.label=1;case 1:return o.trys.push([1,4,,5]),s=this,[4,this.resolver._initialize(this.auth)];case 2:return s.eventManager=o.sent(),[4,this.onExecution()];case 3:return o.sent(),this.eventManager.registerConsumer(this),[3,5];case 4:return i=o.sent(),this.reject(i),[3,5];case 5:return[2]}})})})},t.prototype.onAuthEvent=function(e){return te(this,void 0,void 0,function(){var n,r,s,i,o,a,l,c,u;return ne(this,function(h){switch(h.label){case 0:if(n=e.urlResponse,r=e.sessionId,s=e.postBody,i=e.tenantId,o=e.error,a=e.type,o)return this.reject(o),[2];l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState},h.label=1;case 1:return h.trys.push([1,3,,4]),c=this.resolve,[4,this.getIdpTask(a)(l)];case 2:return c.apply(this,[h.sent()]),[3,4];case 3:return u=h.sent(),this.reject(u),[3,4];case 4:return[2]}})})},t.prototype.onError=function(e){this.reject(e)},t.prototype.getIdpTask=function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yxe;case"linkViaPopup":case"linkViaRedirect":return wxe;case"reauthViaPopup":case"reauthViaRedirect":return _xe;default:ha(this.auth,"internal-error")}},t.prototype.resolve=function(e){ih(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()},t.prototype.reject=function(e){ih(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()},t.prototype.unregisterAndCleanUp=function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Exe="pendingRedirect",Ex=new Map;(function(t){un(e,t);function e(n,r,s){s===void 0&&(s=!1);var i=t.call(this,n,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,s)||this;return i.eventId=null,i}return e.prototype.execute=function(){return te(this,void 0,void 0,function(){var n,r,s,i,o;return ne(this,function(a){switch(a.label){case 0:if(n=Ex.get(this.auth._key()),n)return[3,8];a.label=1;case 1:return a.trys.push([1,6,,7]),[4,Cxe(this.resolver,this.auth)];case 2:return r=a.sent(),r?[4,t.prototype.execute.call(this)]:[3,4];case 3:return i=a.sent(),[3,5];case 4:i=null,a.label=5;case 5:return s=i,n=function(){return Promise.resolve(s)},[3,7];case 6:return o=a.sent(),n=function(){return Promise.reject(o)},[3,7];case 7:Ex.set(this.auth._key(),n),a.label=8;case 8:return this.bypassAuthState||Ex.set(this.auth._key(),function(){return Promise.resolve(null)}),[2,n()]}})})},e.prototype.onAuthEvent=function(n){return te(this,void 0,void 0,function(){var r;return ne(this,function(s){switch(s.label){case 0:return n.type==="signInViaRedirect"?[2,t.prototype.onAuthEvent.call(this,n)]:n.type==="unknown"?(this.resolve(null),[2]):n.eventId?[4,this.auth._redirectUserForId(n.eventId)]:[3,2];case 1:if(r=s.sent(),r)return this.user=r,[2,t.prototype.onAuthEvent.call(this,n)];this.resolve(null),s.label=2;case 2:return[2]}})})},e.prototype.onExecution=function(){return te(this,void 0,void 0,function(){return ne(this,function(n){return[2]})})},e.prototype.cleanUp=function(){},e})(xxe);function Cxe(t,e){return te(this,void 0,void 0,function(){var n,r,s;return ne(this,function(i){switch(i.label){case 0:return n=Ixe(e),r=bxe(t),[4,r._isAvailable()];case 1:return i.sent()?[4,r._get(n)]:[2,!1];case 2:return s=i.sent()==="true",[4,r._remove(n)];case 3:return i.sent(),[2,s]}})})}function bxe(t){return Qa(t._redirectPersistence)}function Ixe(t){return ag(Exe,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Txe=10*60*1e3,Sxe=function(){function t(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return t.prototype.registerConsumer=function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)},t.prototype.unregisterConsumer=function(e){this.consumers.delete(e)},t.prototype.onEvent=function(e){var n=this;if(this.hasEventBeenHandled(e))return!1;var r=!1;return this.consumers.forEach(function(s){n.isEventForConsumer(e,s)&&(r=!0,n.sendToConsumer(e,s),n.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kxe(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r},t.prototype.sendToConsumer=function(e,n){var r;if(e.error&&!sV(e)){var s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(qT(this.auth,s))}else n.onAuthEvent(e)},t.prototype.isEventForConsumer=function(e,n){var r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r},t.prototype.hasEventBeenHandled=function(e){return Date.now()-this.lastProcessedEventTime>=Txe&&this.cachedEventUids.clear(),this.cachedEventUids.has(wP(e))},t.prototype.saveEventToCache=function(e){this.cachedEventUids.add(wP(e)),this.lastProcessedEventTime=Date.now()},t}();function wP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(function(e){return e}).join("-")}function sV(t){var e=t.type,n=t.error;return e==="unknown"&&(n==null?void 0:n.code)==="auth/".concat("no-auth-event")}function kxe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sV(t);default:return!1}}(function(t){un(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.passiveListeners=new Set,n.initPromise=new Promise(function(r){n.resolveInialized=r}),n}return e.prototype.addPassiveListener=function(n){this.passiveListeners.add(n)},e.prototype.removePassiveListener=function(n){this.passiveListeners.delete(n)},e.prototype.resetRedirect=function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1},e.prototype.onEvent=function(n){return this.resolveInialized(),this.passiveListeners.forEach(function(r){return r(n)}),t.prototype.onEvent.call(this,n)},e.prototype.initialized=function(){return te(this,void 0,void 0,function(){return ne(this,function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),[2]}})})},e})(Sxe);pxe("Cordova");const Rxe=({openChangePassword:t,setOpenChangePassword:e,openMessage:n})=>{g.useContext(we);const[r,s]=g.useState(""),[i,o]=g.useState(""),a=async()=>{const h=Zr.currentUser;r.trim()&&i.trim()?await l(h):n("Enter both old and new password")},l=async h=>{try{const f=rxe.credential(h.email,r);await pY(h,f),await _Y(h,i),n("Your password is changed successfully"),e(!1)}catch(f){f.code==="auth/invalid-credentail"?n("Your old password is wrong"):n(`Re-authentication failed: ${f.message}`)}},c=()=>{try{a()}catch(h){n(h.message)}},u=async()=>{try{await gY(Zr,Zr.currentUser.email),n("Password rest email was sent to "+Zr.currentUser.email)}catch(h){n(h.message)}};return d.jsxs(gs,{open:t,onClose:()=>e(!1),children:[d.jsxs(Y,{m:2,children:[d.jsxs(Y,{mb:2,children:[d.jsx(ge,{variant:"h6",children:"Change your account password"}),d.jsx(ge,{variant:"caption",children:"Only change the password if you need to and keep your password"})]}),d.jsxs(Tr,{gap:2,children:[d.jsx(Fn,{type:"password",size:"small",label:"Enter old password",value:r,onChange:h=>s(h.target.value)}),d.jsx(Fn,{type:"password",size:"small",label:"Enter new password",value:i,onChange:h=>o(h.target.value)})]}),d.jsx(ke,{size:"small",onClick:c,variant:"outlined",sx:{mt:1},children:"Change"})]}),d.jsx(Y,{pb:2,pl:2,pr:2,children:d.jsxs(ge,{variant:"caption",children:["If you forgot your password,"," ",d.jsxs(ke,{onClick:u,sx:{textDecoration:"underline"},size:"small",children:[" ","click here"]})," ","to reset."]})})]})},Axe=({openViewPassword:t,setOpenViewPassword:e})=>{const{userData:n}=g.useContext(we),[r,s]=g.useState(!1),i=()=>{var o;return(o=n==null?void 0:n.password)!=null&&o.trim()?n==null?void 0:n.password:"You logged in with Google. So, your passwod is just blank."};return d.jsx(gs,{open:t,onClose:()=>e(!1),children:d.jsxs(Y,{m:3,children:[d.jsx(ge,{variant:"h6",mb:2,children:"Your account password"}),d.jsxs(Tr,{gap:2,children:[d.jsx(ge,{children:r?i():"*************"}),d.jsx(ke,{onClick:()=>s(!r),size:"small",sx:{textDecoration:"underline"},children:r?"Hide":"View"})]})]})})},Pxe=()=>{var Z;const{userData:t,setHeaderTitle:e,setSnackbarOpen:n,setSnackbarMessage:r,setUserId:s,mode:i,setMode:o,userId:a}=g.useContext(we),[l,c]=g.useState((t==null?void 0:t.name)||""),[u,h]=g.useState((t==null?void 0:t.bio)||""),[f,p]=g.useState((t==null?void 0:t.gender)||""),[m,v]=g.useState(null),[E,y]=g.useState(!1),[w,_]=g.useState(!1),x=_t(),[b,C]=g.useState(!0),T=g.useRef(null),I=Ce(be,"users",br.get("userId")),S=(t==null?void 0:t.nameChangeCount)||0,R=(Z=t==null?void 0:t.lastNameChangeDate)==null?void 0:Z.toDate(),k=new Date,N=k.getMonth()===(R==null?void 0:R.getMonth())&&k.getFullYear()===(R==null?void 0:R.getFullYear()),[M,D]=g.useState(!1),[j,A]=g.useState(!1),[P,O]=g.useState(null);g.useEffect(()=>{CY(Zr,ee=>{ee&&(O(ee),C(!1))})},[Zr]);const $=Et(),F=ee=>{n(!0),r(ee)};$y(T,y);const G=()=>(t==null?void 0:t.gender)!==f;g.useEffect(()=>{e("Settings")},[]),g.useEffect(()=>{(async()=>{!N&&(t!=null&&t.name)&&await er(I,{nameChangeCount:0,lastNameChangeDate:k})})()},[t]);const z=async(ee,se)=>{if(l.trim())try{await er(I,ee),F(se)}catch(ae){F(ae.message)}},B=()=>{const ee=new Date;if(N)if(S<3){const se={name:l.trim(),nameChangeCount:S+1,lastNameChangeDate:ee};z(se,"Updated name successfully!")}else F("You can only change your name 3 times per month!");else{const se={name:l.trim(),nameChangeCount:1,lastNameChangeDate:ee};z(se,"Updated name successfully!")}};g.useEffect(()=>{c(t==null?void 0:t.name),p(t==null?void 0:t.gender),h(t==null?void 0:t.bio)},[t]);const U=async()=>{const ee=await Ln(m,{maxSizeMB:.3,maxWidthOrHeight:300,useWebWorker:!0}),se=Bo(Ya,`profile/${t==null?void 0:t.uid}/${t==null?void 0:t.name}-${m.name}`);try{const ae=Ce(be,"users",t==null?void 0:t.uid);F("Uploading image...");const ye=await Gd(se,ee),_e={image:await qd(ye.ref)};await er(ae,_e),v(null),F("Updated profile picture successfully!")}catch(ae){F(ae.message)}},V=async()=>{try{await er(I,{gender:f}),F("Updated gender successfully!")}catch(ee){F("Error updating gender: "+ee.message)}},q=async()=>{try{await er(I,{bio:u}),F("Updated bio successfully!")}catch(ee){F("Error updating bio: "+ee.message)}},ce=()=>{m&&U(),(l==null?void 0:l.trim())!==(t==null?void 0:t.name)&&B(),G()&&V(),(u==null?void 0:u.trim())!==(t==null?void 0:t.bio)&&q()},X=async()=>{try{await Z8(Zr),br.remove("userId"),s(null),$("/login")}catch(ee){console.log(ee.message)}};return d.jsxs(Y,{color:"text.primary",className:"Settings m-2",children:[M&&d.jsx(Rxe,{openChangePassword:M,setOpenChangePassword:D,openMessage:F}),j&&d.jsx(Axe,{openViewPassword:j,setOpenViewPassword:A}),d.jsx(da,{data:{value:w,yesButton:X,noButton:()=>{_(!1)},text:"Are you sure to log out ?",setValue:_}}),d.jsx(vs,{}),d.jsxs(Y,{className:"",children:[d.jsxs("div",{className:"flex gap-x-2 items-center mt-2 mb-2",children:[d.jsx(ge,{sx:{fontWeight:600},children:"My Account"}),d.jsx(ke,{onClick:()=>$(`/app/profile/${a}`),sx:{textTransform:"capitalize"},size:"small",children:"Go To My profile"})]}),d.jsxs(Y,{bgcolor:"background.default",className:`border ${x.palette.mode==="light"?"border-slate-300":"border-slate-700"}  rounded-md shadow-lg`,children:[d.jsxs(Y,{className:"p-2 flex flex-col items-center",children:[d.jsx(Pe,{placement:"left",title:"Change profile picture",arrow:!0,children:d.jsxs("label",{className:"relative size-20 ",htmlFor:"imageInput",children:[t?d.jsx(ys,{className:"hover:opacity-70 cursor-pointer",name:(t==null?void 0:t.name)||l||"User",image:m?URL.createObjectURL(m):t==null?void 0:t.image,size:"size-full",fontSize:"text-3xl"}):d.jsx(le,{variant:"circular",width:"100%",height:"100%"}),d.jsx("input",{type:"file",accept:"image/*",id:"imageInput",className:"hidden ",onChange:ee=>v(ee.target.files[0])})]})}),d.jsxs("div",{ref:T,className:"flex mt-2 gap-x-2 items-center",children:[E?d.jsx(Fn,{name:"name",size:"small",variant:"standard",label:"Full Name",autoFocus:!0,value:l,onChange:ee=>c(ee.target.value),className:"pl-1 pr-1 w-auto font-bold",placeholder:"Enter your full name"}):d.jsx(d.Fragment,{children:t?d.jsx(ge,{className:"font-bold",children:l||(t==null?void 0:t.name)||"Username"}):d.jsx(le,{height:40,width:150})}),t?d.jsx(Pe,{title:"Edit name",arrow:!0,children:d.jsx(qe,{size:"small",onClick:()=>{y(!E)},className:" p-1  cursor-pointer",children:d.jsx(Vs,{sx:{width:20,height:20}})})}):d.jsx(le,{variant:"circular",height:20,width:20})]}),t?d.jsx(ge,{x:{fontSize:"0.8rem"},className:"text-slate-500",children:(t==null?void 0:t.email)||"example@gmail.com"}):d.jsx(le,{height:30,width:120}),t?d.jsxs(ge,{sx:{fontSize:"0.8rem"},children:["User ID: ",(t==null?void 0:t.uid)||"user12345"," ",d.jsx(Pe,{title:"Copy user ID",arrow:!0,children:d.jsx(qe,{size:"small",onClick:()=>{navigator.clipboard.writeText(t==null?void 0:t.uid),F("UID copied to the clipboard")},className:" p-1  cursor-pointer",children:d.jsx(lC,{sx:{width:20,height:20}})})})]}):d.jsx(le,{height:30,width:180}),t?d.jsx(ke,{startIcon:d.jsx(EF,{}),onClick:()=>_(!0),sx:{mt:2},variant:"outlined",children:"Log Out"}):d.jsx(le,{width:90,height:55})]}),d.jsx(Y,{className:"p-2 flex justify-center border-t ",children:d.jsxs(Tr,{direction:"row",sx:{width:"50%",alignItems:"center",justifyContent:"space-between"},children:[t?d.jsx(ge,{variant:"subtitle1",children:"Gender"}):d.jsx(le,{height:45,width:70}),t?d.jsx(rP,{label:"Gender",gender:f,options:[{value:"male",label:"Male"},{value:"female",label:"Female"}],setValue:p}):d.jsx(le,{height:45,width:70})]})}),P&&d.jsx(d.Fragment,{children:d.jsx(Y,{className:"p-2 flex justify-center border-t border-b ",children:d.jsxs(Tr,{direction:"row",sx:{width:"50%",alignItems:"center",justifyContent:"space-between"},children:[t?d.jsx(ge,{variant:"subtitle1",children:"Password"}):d.jsx(le,{height:45,width:70}),t?d.jsx(Tr,{direction:"row",children:d.jsx(ke,{size:"small",sx:{textDecoration:"underline"},onClick:()=>D(!0),variant:"text",children:"Change"})}):d.jsx(le,{height:45,width:70})]})})}),d.jsx(Y,{className:"p-2 flex justify-center border-t ",children:d.jsxs(Tr,{direction:"row",sx:{width:"50%",alignItems:"center",justifyContent:"space-between"},children:[t?d.jsx(ge,{variant:"subtitle1",children:"Theme"}):d.jsx(le,{height:45,width:70}),t?d.jsx(rP,{label:"Theme",gender:i,options:[{value:"system",label:"System"},{value:"light",label:"Light"},{value:"dark",label:"Dark"}],setValue:o}):d.jsx(le,{height:45,width:70})]})}),d.jsx(Y,{className:"grid gap-y-2 p-2",children:d.jsx(Y,{children:(t==null?void 0:t.name)&&d.jsxs(ge,{variant:"caption",color:"error",mb:1,children:["You have changed your name ",`${S} of 3`," ",S>1?"times":"time"," this month!"]})})})]})]}),d.jsx(Y,{className:"flex gap-x-2 mt-2",children:G()||m||(l==null?void 0:l.trim())!==(t==null?void 0:t.name)||(u==null?void 0:u.trim())!==(t==null?void 0:t.bio)?d.jsx(ke,{variant:"outlined",onClick:ce,startIcon:d.jsx(IF,{}),children:"Update"}):""})]})},xP=({data:t})=>{const{text:e,onChangeFn:n,value:r,placeholder:s}=t;return d.jsxs("div",{className:"grid items-center gap-y-2",children:[d.jsx("div",{className:"font-medium",children:e}),d.jsx(Fn,{onChange:n,value:r,size:"small",placeholder:s})]})},Nxe=({data:t})=>{const{close:e,testAdding:n}=t,{userId:r}=g.useContext(we),[s,i]=g.useState(""),[o,a]=g.useState(""),l=s.trim(),c=Ve(be,"tests"),u=async p=>{try{await xl(c,p)}catch(m){console.log(m.message)}},h=()=>{const p={uid:r,isUploaded:!1,name:s,description:o,quizzes:[],gradingRules:[],time:dr()};u(p),e()},f=()=>{l&&h()};return d.jsx(gs,{fullWidth:!0,open:n,onClose:e,children:d.jsxs(Y,{bgcolor:"background.default",className:" p-2",children:[d.jsxs("div",{className:"grid gap-y-2",children:[d.jsx(xP,{data:{text:"Name",onChangeFn:p=>i(p.target.value),value:s,placeholder:"Type test name here"}}),d.jsx(xP,{data:{text:"Description",onChangeFn:p=>a(p.target.value),value:o,placeholder:"Type description here"}})]}),d.jsxs("div",{className:"flex items-center gap-x-3 justify-center mt-2",children:[d.jsx(ke,{onClick:f,startIcon:d.jsx(Em,{}),children:"Save"}),d.jsx(ke,{onClick:e,startIcon:d.jsx(eu,{}),children:"Cancel"})]})]})})},Dxe=({data:t})=>{const{options:e,value:n,setValue:r}=t,[s,i]=g.useState(!1),o=g.useRef(null);$y(o,i);const a=()=>{i(!s)},l=c=>{r(c)};return d.jsxs("div",{ref:o,className:"w-full relative font-padauk",children:[d.jsxs("button",{onClick:a,className:"border flex items-center rounded-lg justify-between h-10 w-full cursor-pointer hover:border-blue-500 shadow-sm gap-x-2 px-2",children:[d.jsx("span",{children:n||"Select correct answer"}),d.jsx("img",{className:"h-6 w-6",src:Ur(s?"up":"down")})]}),s&&e.length!==0?d.jsx("div",{className:"absolute grid gap-y-1 min-w-full p-2 rounded-md border -top-40",children:e.map(c=>d.jsx("div",{onClick:()=>{a(),l(c)},className:"p-1 cursor-pointer  rounded-lg transition-all",children:c},`choice-${c}`))}):""]})},Ua=({data:t})=>{const{choice:e,handleFn:n,value:r,placeholder:s}=t;return d.jsxs("div",{className:"grid gap-y-2 font-padauk",children:[d.jsx("div",{className:"font-medium ",children:e}),d.jsx(Fn,{size:"small",onChange:i=>n(e,i),value:r,className:" w-full border rounded-md h-10 pl-1 pr-1",placeholder:s})]})},Lxe=({data:t})=>{const{cancel:e,quizzes:n,setQuizzes:r,editData:s,clearEditData:i,isAdding:o}=t,[a,l]=g.useState(s?s.question:""),[c,u]=g.useState(s?s.choices[0]:""),[h,f]=g.useState(s?s.choices[1]:""),[p,m]=g.useState(s?s.choices[2]:""),[v,E]=g.useState(s?s.choices[3]:""),[y,w]=g.useState(s?s.answer:"");let _=[];const x=c.trim()&&h.trim()&&p.trim()&&v.trim(),b=a.trim()&&c.trim()&&h.trim()&&p.trim()&&v.trim()&&y.trim();x&&(_=[c,h,p,v]);const C=(N,M)=>{N.toLowerCase()==="question"?l(M.target.value):w(M.target.value)},T=()=>{let N,M;b&&(N={id:n.length===0?1:n[n.length-1].id+1,question:a,choices:_,answer:y},M=[...n,N],r(M),td(),e())},I=()=>{const N=s.id,M={id:N,question:a,choices:_,answer:y},D=n.map(j=>N===j.id?M:j);r(D),e(),i()},S=(N,M)=>{N.toLowerCase()==="choice 1"?u(M.target.value):N.toLowerCase()==="choice 2"?f(M.target.value):N.toLowerCase()==="choice 3"?m(M.target.value):E(M.target.value)},R=()=>{s?I():T()},k=()=>{e(),i()};return d.jsx(gs,{fullWidth:!0,open:o,onClose:k,children:d.jsxs(Y,{bgcolor:"background.default",className:` grid gap-y-2  p-3  top-0 left-0 right-0 bottom-0 rounded-lg relative 
          `,children:[d.jsx("div",{className:"top-1 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center",children:s?s.number:n.length+1}),d.jsxs("div",{className:"grid gap-y-2",children:[d.jsx(Ua,{data:{handleFn:C,value:a,choice:"Question",placeholder:"Enter question"}}),d.jsx(Ua,{data:{handleFn:S,value:c,choice:"Choice 1",placeholder:"Enter choice 1"}}),d.jsx(Ua,{data:{handleFn:S,value:h,choice:"Choice 2",placeholder:"Enter choice 2"}}),d.jsx(Ua,{data:{handleFn:S,value:p,choice:"Choice 3",placeholder:"Enter choice 3"}}),d.jsx(Ua,{data:{handleFn:S,value:v,choice:"Choice 4",placeholder:"Enter choice 4"}}),d.jsxs("div",{className:"flex items-center gap-x-5",children:[d.jsx("div",{className:"font-medium",children:"Answer"}),d.jsx(Dxe,{data:{options:_,value:y,setValue:w}})]})]}),d.jsxs("div",{className:"flex justify-end gap-x-2",children:[d.jsx(Pe,{title:"Save",arrow:!0,children:d.jsx(qe,{onClick:R,children:d.jsx(Em,{})})}),d.jsx(Pe,{title:"Cancel",children:d.jsx(qe,{onClick:k,children:d.jsx(VT,{})})})]})]})})},Mxe=({data:t})=>{const{testName:e,numbers:n,changePage:r}=t;return d.jsx("div",{className:"text-lg p-1 font-medium sticky top-0 z-10 flex justify-between items-center",children:d.jsxs("div",{className:"flex items-center gap-x-2",children:[d.jsx(Pe,{title:"Navigate up",arrow:!0,children:d.jsx(qe,{onClick:()=>r("test"),children:d.jsx(fu,{})})}),d.jsxs("div",{children:[e,d.jsxs("span",{className:"text-sm",children:[" • "," ",n," ",n>1?"questions":"question"]})]})]})})},Oxe=({data:t})=>{const{quizzes:e,editQuestion:n,askToDelete:r,add:s}=t;return d.jsxs("div",{className:"grid gap-y-2",children:[d.jsx("div",{className:"pl-1 font-medium ",children:"Questions"}),e.map((i,o)=>d.jsxs("div",{className:"border font-padauk p-2 relative",children:[d.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-x-2",children:[d.jsx(Pe,{title:"Edit",arrow:!0,children:d.jsx(qe,{onClick:()=>n(i,o),children:d.jsx(Vs,{})})}),d.jsx(Pe,{title:"Delete",children:d.jsx(qe,{onClick:()=>r(i.id),children:d.jsx(pu,{})})})]}),d.jsxs("div",{className:"flex items-center justify-between gap-x-2",children:[d.jsx("div",{className:"overflow-x-auto p-0.5 flex-1",children:i.question}),d.jsx(ge,{variant:"caption",className:"top-0 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center ",children:o+1})]}),d.jsx("div",{className:"pl-2 pt-2 grid gap-y-1",children:i.choices.map((a,l)=>d.jsxs("div",{className:"flex gap-x-2",children:[d.jsx("div",{className:"w-8 flex h-8 items-center  justify-center text-white font-medium rounded-md ",children:l+1}),d.jsx("div",{className:"flex-1",children:a})]},`choice-${o}-${l}`))})]},`question-${o}`)),d.jsx("div",{className:"flex justify-center sticky bottom-5",children:d.jsx(Pe,{title:"Add a question",arrow:!0,children:d.jsx(qe,{onClick:s,children:d.jsx($_,{})})})})]})},jxe=({data:t})=>{const{currentTest:e,setCurrentTest:n,setIsRulesAdding:r,setEditData:s}=t,{gradingRules:i}=e,[o,a]=g.useState(null),l=p=>{const m=i.filter(E=>E.id!==p),v={...e,gradingRules:m};n(v)},c=p=>{a(p)},u=p=>{s(p),r(!0)},h=()=>{l(o),a(null)},f=()=>{a(null)};return d.jsxs("div",{className:"grid gap-y-3",children:[d.jsx("div",{className:"pl-1 font-medium",children:"Grading Rules"}),d.jsx(da,{data:{value:o,setValue:a,yesButton:h,noButton:f,text:"Are you sure to delete?"}}),i.map((p,m)=>d.jsxs("div",{className:"flex font-padauk items-center justify-between border  p-2 ",children:[d.jsxs("div",{className:"grid flex-1 grid-cols-3 justify-between mr-10",children:[d.jsx(Cx,{data:{text:"From",value:p.from}}),d.jsx(Cx,{data:{text:"To",value:p.to}}),d.jsx(Cx,{data:{text:"Level",value:p.level}})]}),d.jsxs("div",{className:"flex items-center gap-x-1 h-full ",children:[d.jsx(Pe,{title:"Edit",arrow:!0,children:d.jsx(qe,{onClick:()=>u(p),children:d.jsx(Vs,{})})}),d.jsx(Pe,{title:"Delete",arrow:!0,children:d.jsx(qe,{onClick:()=>c(p.id),children:d.jsx(pu,{})})})]})]},`rule-${m}-${p.from}-${p.to}-${p.level}`)),d.jsx("div",{className:"flex justify-center sticky bottom-5",children:d.jsx(Pe,{title:"Add a rule",arrow:!0,children:d.jsx(qe,{onClick:()=>r(!0),children:d.jsx($_,{})})})})]})},Cx=({data:t})=>{const{text:e,value:n}=t;return d.jsxs("div",{className:"grid gap-y-1",children:[d.jsx("div",{className:"font-medium",children:e}),d.jsx("div",{className:"font-medium max-h-10",children:typeof n=="string"?$l(n,15):n})]})},$xe=({data:t})=>{const{currentTest:e,setCurrentTest:n,editData:r,setEditData:s,isRulesAdding:i,setIsRulesAdding:o}=t,{gradingRules:a}=e,[l,c]=g.useState(r?r.from:null),[u,h]=g.useState(r?r.to:null),[f,p]=g.useState(r?r.level:""),m=l&&u&&f.trim(),v=()=>{const x={id:a.length===0?1:a[a.length-1].id+1,from:Number(l),to:Number(u),level:f},b={...e,gradingRules:[...a,x]};n(b)},E=()=>{const x=r.id,b={id:x,from:Number(l),to:Number(u),level:f},C=a.map(I=>x===I.id?b:I),T={...e,gradingRules:C};n(T)},y=()=>{o(!1),s(null)},w=()=>{m&&(r?E():v(),y())},_=(x,b)=>{const C=b.target.value;x.toLowerCase()==="from"?c(C):x.toLowerCase()==="to"?h(C):p(C)};return d.jsx(gs,{fullWidth:!0,open:i,onClose:()=>o(!1),children:d.jsx(Y,{bgcolor:"background.default",children:d.jsxs("div",{className:"grid gap-y-2 p-3  rounded-lg relative",children:[d.jsx(Ua,{data:{handleFn:_,value:l!==null?l:"",choice:"From",placeholder:"Enter 'from' value"}}),d.jsx(Ua,{data:{handleFn:_,value:u!==null?u:"",choice:"To",placeholder:"Enter 'to' value"}}),d.jsx(Ua,{data:{handleFn:_,value:f,choice:"Level",placeholder:"Enter level"}}),d.jsxs("div",{className:"flex justify-end gap-x-2",children:[d.jsx(Pe,{title:"Save",arrow:!0,children:d.jsx(qe,{onClick:w,children:d.jsx(Em,{})})}),d.jsx(Pe,{title:"Cancel",arrow:!0,children:d.jsx(qe,{onClick:y,children:d.jsx(VT,{})})})]})]})})})},EP=({data:t})=>{const{currentTest:e,setCurrentTest:n,title:r}=t,{description:s,name:i}=e,[o,a]=g.useState(r==="Description"?s:i),[l,c]=g.useState(!1),u=m=>{a(m.target.value)},h=()=>{if(r==="Description"){const m={...e,description:o};n(m)}else{const m={...e,name:o};n(m)}},f=()=>{h(),c(!1)},p=()=>{c(!1),a(r==="Description"?s:i)};return d.jsxs("div",{className:"grid gap-y-2",children:[d.jsx("div",{className:"font-medium ",children:r}),l?d.jsx(Fn,{multiline:!0,autoFocus:!0,placeholder:`Type ${r.toLowerCase()} here`,onChange:u,className:"p-1 border border-gray-200 outline-none",value:o}):d.jsx("div",{className:"text-gray-500 p-1 ",children:o||"No description"}),l?d.jsxs("div",{className:"flex gap-x-2",children:[d.jsx(Pe,{title:"Save",arrow:!0,children:d.jsx(qe,{onClick:f,children:d.jsx(Em,{})})}),d.jsx(Pe,{title:"Cancel",children:d.jsx(qe,{onClick:p,children:d.jsx(VT,{})})})]}):d.jsx(Y,{children:d.jsx(Pe,{title:"Edit",children:d.jsx(qe,{onClick:()=>c(!0),children:d.jsx(Vs,{})})})})]})},Fxe=({data:t})=>{g.useContext(we);const{setPage:e,currentTest:n,setCurrentTest:r}=t,[s,i]=g.useState(!1),[o,a]=g.useState(!1),[l,c]=g.useState(n.quizzes),[u,h]=g.useState(null),[f,p]=g.useState(null),m=async(k,N)=>{try{const M=Ce(be,"tests",k);await er(M,N)}catch(M){console.log(M.message)}};g.useEffect(()=>{v()},[n,l]);const v=()=>{m(n.id,{...n,quizzes:l})},E=()=>{i(!0)},y=()=>{i(!1),p(null)},w=k=>{p(k)},_=()=>{C(f),p(null)},x=()=>{p(null)},b=k=>{e(k)},C=k=>{const N=l.filter(M=>M.id!==k);c(N)},T=(k,N)=>{const M={...k,number:N+1};h(M),E()},I=()=>{h(null)},S={testName:n.name,numbers:l.length,changePage:b},R={quizzes:l,editQuestion:T,askToDelete:w,add:E};return d.jsxs("div",{className:"grid gap-y-2 z-65 p-5",children:[d.jsx(Mxe,{data:S}),d.jsx(nd,{}),d.jsx(EP,{data:{title:"Test Name",currentTest:n,setCurrentTest:r}}),d.jsx(EP,{data:{title:"Description",currentTest:n,setCurrentTest:r}}),d.jsx(nd,{}),d.jsx(jxe,{data:{currentTest:n,setEditData:h,setCurrentTest:r,setIsRulesAdding:a}}),d.jsx(nd,{}),d.jsx(Oxe,{data:R}),s&&d.jsx(Lxe,{data:{cancel:y,setQuizzes:c,quizzes:l,editData:u,clearEditData:I,isAdding:s}}),o&&d.jsx($xe,{data:{currentTest:n,setCurrentTest:r,editData:u,setEditData:h,isRulesAdding:o,setIsRulesAdding:a}}),d.jsx(da,{data:{value:f,setValue:p,yesButton:_,noButton:x,text:"Are you sure to delete ?"}}),d.jsx(nd,{})]})},ZT=({text:t,length:e})=>{const n=Et();return d.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[d.jsx(Pe,{title:"Navigate up",arrow:!0,children:d.jsx(qe,{onClick:()=>n("/app/admin"),children:d.jsx(fu,{})})}),d.jsxs("p",{children:[t," (",e,")"]})]})},iV=({options:t,handleClick:e,message:n,chatId:r,isComment:s,messageOption:i,setMessageOption:o,isOpened:a})=>{const{userId:l}=g.useContext(we),c=[{name:"like",image:"facebookLike"},{name:"love",image:"facebookLove"},{name:"haha",image:"facebookHaha"},{name:"wow",image:"facebookWow"},{name:"sad",image:"facebookSad"},{name:"angry",image:"facebookAngry"}],u=async f=>{const p=Ce(Ve(Ce(Ve(Ce(be,"chats",r),"messages"),n.id),"reactedBy"),l);await wl(p,{uid:l,reactionType:f})},h=()=>s?a:!!i;return d.jsx(gs,{fullWidth:!0,open:h,onClose:e,children:d.jsxs("div",{className:"m-2 ",children:[s?d.jsx(ge,{variant:"h6",children:"More Options"}):d.jsx("div",{className:" flex gap-x-1 rounded-md p-1",children:c.map(f=>d.jsx(Pe,{placement:"top",arrow:!0,title:f.name.toUpperCase(),children:d.jsx(qe,{onClick:()=>{e(),u(f.name)},children:d.jsx("img",{className:"w-6",src:Ur(f.image)})},f.name)}))}),d.jsx("div",{className:"grid gap-y-1 mt-2",children:t.map(f=>{if(f)return d.jsx(ke,{sx:{justifyContent:"start"},startIcon:f.icon,className:"flex items-center gap-x-1 p-2 hover:bg-slate-100",onClick:()=>{f.onClick(),e()},children:d.jsx("p",{children:f.text})},f.text)})})]})})},vu=({options:t,left:e="-left-[102px]",message:n,chatId:r,isComment:s})=>{const[i,o]=g.useState(!1),a=g.useRef(null);return $y(a,o),d.jsxs(d.Fragment,{children:[d.jsx(Pe,{title:"More options",arrow:!0,children:d.jsx(qe,{onClick:()=>o(!0),children:d.jsx(CF,{})})}),i&&d.jsx(iV,{handleClick:()=>{o(!1)},moreOptionRef:a,options:t,message:n,chatId:r,isComment:s,isOpened:i})]})},Vxe=()=>{const[t,e]=g.useState("test"),{tests:n,setTests:r,setHeaderTitle:s}=g.useContext(we),[i,o]=g.useState({}),[a,l]=g.useState(!1),[c,u]=g.useState(!1),[h,f]=g.useState(null),p=Ve(be,"tests"),[m,v]=g.useState(!0),[E,y]=g.useState(!1),[w,_]=g.useState(null),x=_t(),{mode:b}=x.palette;Nh(p,[],r,v,y,!1,_),g.useEffect(()=>{s("Admin - Tests")},[t]),g.useEffect(()=>(ei(),ei()),[]);const C=j=>{o(j),e("editTest")},T=j=>{f(j),u(!0)},I=async j=>{const A=Ce(be,"tests",j.id);await er(A,{isUploaded:!j.isUploaded})},S=()=>{M(h),f(null),u(!1)},R=()=>{u(!1)},k=()=>{l(!0)},N=()=>{l(!1)},M=async j=>{try{const A=Ce(be,"tests",j);await mo(A)}catch(A){console.log(A.message)}},D=()=>{switch(t){case"test":return d.jsxs("div",{className:"p-5 grid gap-y-2",children:[d.jsx("div",{className:"flex justify-between",children:d.jsx(ZT,{text:"Tests",length:n.length})}),a&&d.jsx(Nxe,{data:{close:N,testAdding:a}}),d.jsx(da,{data:{value:c,setValue:u,yesButton:S,noButton:R,text:"Are you sure to delete ?"}}),d.jsx("div",{className:"grid border overflow-hidden border-slate-200 shadow-md rounded-md overflow-hidden",children:n.map((j,A)=>d.jsxs("div",{className:` ${b==="light"?"hover:bg-slate-100":"hover:bg-slate-700"} cursor-pointer h ${A===0&&"border-t-0"} flex items-center border border-t p-2  min-h-[100px]`,children:[d.jsxs("div",{onClick:()=>{C(j)},className:"flex flex-1 gap-x-2 items-center",children:[d.jsx("input",{checked:j.isUploaded,onChange:()=>I(j),className:"size-6",type:"checkbox"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:j.name}),d.jsxs("div",{className:"text-sm",children:[j.quizzes.length,j.quizzes.length>1?" questions":" question",j.isUploaded?" (Uploaded)":" (Not uploaded)"]})]})]}),d.jsx("div",{className:"flex gap-x-2",children:d.jsx(vu,{isComment:!0,options:[{text:"Delete",icon:d.jsx(pu,{}),onClick:()=>T(j.id)}]})})]},` tests-${j.id}`))}),d.jsx("div",{children:d.jsx(ke,{variant:"outlined",startIcon:d.jsx(BT,{}),onClick:k,children:"New test"})})]});case"editTest":return d.jsx(Fxe,{data:{setPage:e,currentTest:i,setCurrentTest:o}})}};return m?d.jsx(vs,{text:"Loading tests..."}):E?d.jsx(Mt,{text:"No test available"}):w?d.jsx(Mt,{text:w}):D()};function mi(t,e,n="timestamp",r="older"){var o,a;const s=new Date((o=t[n])!=null&&o.seconds?t[n].seconds*1e3:t[n]),i=new Date((a=e[n])!=null&&a.seconds?e[n].seconds*1e3:e[n]);return r==="older"?s-i:i-s}const Uxe=["January","February","March","April","May","June","July","August","September","October","November","December"],zxe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function K1(t){const e=new Date().getTime(),n=new Date,r=e-t,s=Math.floor(r/1e3),i=Math.floor(s/60),o=Math.floor(i/60),a=Math.floor(o/24),l=Math.floor(a/7),c=Math.floor(a/30),u=Math.floor(c/12),h=new Date(t),f=h.getFullYear(),p=h.getMonth(),m=h.getDate(),v=zxe[h.getDay()],y=!(n.getDay()===h.getDay()&&n.getMonth()===h.getMonth()&&n.getFullYear()===h.getFullYear())&&h.getDay()===n.getDay()-1,w=Uxe[p],_=`${w} ${m}, ${f}`,x=h.toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0});if(u>0)return`${x} • ${_}`;if(c>0)return`${x} • ${w} ${m}`;if(l>0)return`${v}, ${x} • ${w} ${m}`;if(a>0)return`${y?"Yesterday":v}, ${x}`;if(o>0)return`${y?"Yesterday, ":""}${x}`;if(i>0)return x;if(s>0)return x}function Gr(t){return t!=null&&t.seconds?t.seconds*1e3:t}const Bxe=({password:t})=>{const[e,n]=g.useState(!1);return d.jsxs("div",{children:["Password: ",e?t:"*********"," ",d.jsx("span",{onClick:()=>n(!e),className:"cursor-pointer text-blue-500 underline",children:e?"hide":"show"})]})},Wxe=()=>{const{users:t,setHeaderTitle:e,userId:n,setUsers:r,setUserId:s}=g.useContext(we),i=Ve(be,"users"),[o,a]=g.useState(!0),[l,c]=g.useState(!1),[u,h]=g.useState(null);g.useEffect(()=>(ei(),ei()),[]),g.useEffect(()=>{e("Admin - Users")},[]);const f=Et(),p=v=>{s(v.uid),f("/app")},m=async v=>{const E=Ce(be,"users",v.uid);await er(E,{isAdmin:!v.isAdmin})};return Nh(i,[],r,a,c,!0,h),o?d.jsx(vs,{isLoading:o,text:"Loading users..."}):l?d.jsx(Mt,{text:"No users available"}):u?d.jsx(Mt,{text:u}):d.jsxs("div",{className:"mt-2 p-5",children:[d.jsx(ZT,{text:"Users",length:t==null?void 0:t.length}),d.jsx("div",{className:"mt-2 overflow-hidden grid border border-slate-200 shadow-md rounded-md",children:t.sort((v,E)=>mi(v,E,"createdAt","older")).map((v,E)=>d.jsxs("div",{className:`  ${E===0&&"border-t-0"} border-t p-2  }`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex w-5/6 gap-x-2 items-center",children:[d.jsx(ys,{image:v.image,name:v.name}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"font-medium",children:[v.name," ",d.jsxs("span",{className:`${v!=null&&v.isAdmin?"text-blue-500":"text-white"}`,children:["(",v!=null&&v.isAdmin?"admin":"user",")"," ",n===v.uid?"(You)":""]})]}),d.jsx("div",{className:"text-md ",children:v.email}),d.jsxs("div",{className:"text-md",children:["Created: ",K1(Gr(v.createdAt))]}),d.jsxs("div",{className:"text-md font-medium text-lime-600",children:["UID : ",v.uid]}),d.jsx(Bxe,{password:v.password})]})]}),n!==v.uid&&d.jsx(qe,{onClick:()=>p(v),children:d.jsx(WT,{})})]}),n!==v.uid&&d.jsx(ke,{onClick:()=>m(v),size:"small",startIcon:d.jsx(o_e,{}),children:v.isAdmin?"Remove from admin":"Set as admin"})]},v.uid))})]})},Hxe=["January","February","March","April","May","June","July","August","September","October","November","December"];function Fl(t){const n=new Date().getTime()-t,r=Math.floor(n/1e3),s=Math.floor(r/60),i=Math.floor(s/60),o=Math.floor(i/24),a=Math.floor(o/7),l=Math.floor(o/30),c=Math.floor(l/12),u=new Date(t),h=u.getFullYear(),f=u.getMonth(),p=u.getDate(),m=`${Hxe[f]} ${p}, ${h}`;if(c>0)return m;if(l>0)return`${m}`;if(a>0)return`${m}`;if(o>0)return`${o} ${o===1?"day":"days"} ago`;if(i>0)return`${i} ${i===1?"hour":"hours"} ago`;if(s>0)return`${s} ${s===1?"minute":"minutes"} ago`;if(r>0)return`${r} ${r===1?"second":"seconds"} ago`}const Gxe=({message:t,bgColor:e="bg-slate-200"})=>d.jsx("div",{className:"z-30 fixed flex justify-center bottom-5 left-0 right-0 ",children:d.jsx("div",{className:`${e} font-bold p-3 rounded-lg`,children:t})}),qxe=({data:t})=>{const{links:e,setLinks:n,setIsLinkAdding:r,isLinkAdding:s}=t,[i,o]=g.useState(""),[a,l]=g.useState(""),c=i.trim()&&a.trim(),u=()=>{if(c){const h={id:e.length===0?1:e[e.length-1].id+1,title:i.trim(),link:a.trim()},f=[...e,h];n(f),r(!1)}};return d.jsx(gs,{open:s,onClose:()=>r(!1),children:d.jsxs(Y,{m:4,children:[d.jsxs("div",{className:"grid gap-y-2",children:[d.jsx(Fn,{size:"small",value:i,onChange:h=>o(h.target.value),placeholder:"Enter title..."}),d.jsx(Fn,{size:"small",value:a,onChange:h=>l(h.target.value),placeholder:"Enter link..."})]}),d.jsx("div",{className:"mt-2",children:d.jsx(ke,{variant:"outlined",startIcon:d.jsx(C_e,{}),onClick:u,children:"Add Link"})})]})})},Yxe=()=>{const{users:t,posts:e,setPosts:n,setHeaderTitle:r,userId:s}=g.useContext(we),i=_t(),{mode:o}=i.palette,a=Ve(be,"posts"),[l,c]=g.useState(!0),[u,h]=g.useState(!1),[f,p]=g.useState(null),[m,v]=g.useState("posts"),[E,y]=g.useState(null),[w,_]=g.useState(!1);g.useEffect(()=>{r("Admin - Posts")},[]),Nh(a,[],n,c,h,!1,p);const x=async()=>{const C=Ce(be,"posts",w);await mo(C)};if(l)return d.jsx(vs,{text:"Loading posts..."});if(u)return d.jsx(Mt,{text:"No posts available"});if(f)return d.jsx(Mt,{text:f});const b=()=>{switch(m){case"posts":return d.jsxs("div",{className:"grid gap-y-2",children:[d.jsx(da,{data:{yesButton:x,noButton:()=>_(!1),text:"Are you sure to delete this post?",setValue:_,value:w}}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx(ZT,{text:"Posts",length:e.length}),d.jsx(ke,{size:"small",sx:{textDecoration:"underline"},onClick:()=>v("createPost"),children:"Create a post"})]}),d.jsx("div",{className:"grid border overflow-hidden shadow-md rounded-md border-slate-200 mb-2",children:e.sort((C,T)=>mi(C,T,"time","newer")).map((C,T)=>{var I,S,R;return d.jsxs(Y,{className:`${T===0&&"border-t-0"} overflow-hidden ${o==="light"?"hover:bg-slate-100":"hover:bg-slate-700"} cursor-pointer p-2 border-t   min-h-20 flex items-center`,children:[d.jsxs("div",{className:"flex-1",children:[d.jsx(Kxe,{post:C}),d.jsx("p",{className:"mb-2 break-words whitespace-normal",children:$l(C.description,25)}),d.jsxs("div",{className:"flex items-center gap-x-1",children:[C.images.length!==0&&d.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[d.jsx(x_e,{}),d.jsxs("span",{children:[C.images.length," ",C.images.length<=1?"image":"images"]})]}),C.files.length!==0&&d.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[d.jsx(y_e,{}),d.jsxs("span",{children:[C.files.length," ",C.files.length<=1?"file":"files"]})]}),C.links&&((I=C==null?void 0:C.links)==null?void 0:I.length)!==0&&d.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[d.jsx(U_e,{name:"link"}),d.jsxs("span",{children:[(S=C==null?void 0:C.links)==null?void 0:S.length," ",((R=C==null?void 0:C.links)==null?void 0:R.length)<=1?"link":"links"]})]}),C.draft&&d.jsx("div",{className:"p-1 min-h-9 flex items-center gap-x-1 rounded-md",children:d.jsx("span",{className:"font-bold text-red-500",children:"(Draft)"})})]})]}),d.jsx("div",{className:"flex items-center gap-x-1",children:d.jsx(vu,{isComment:!0,options:[{text:"Edit",icon:d.jsx(Vs,{}),onClick:()=>{y(C),v("createPost")}},{text:"Delete",icon:d.jsx(pu,{}),onClick:()=>_(C.id)}]})})]},`post-${C.id}`)})})]});case"createPost":return d.jsx(Qxe,{setPage:v,postData:E,setPostData:y})}};return d.jsx("div",{className:"m-5",children:b()})},Kxe=({post:t})=>{const{users:e}=g.useContext(we),[n,r]=g.useState(null),[s,i]=g.useState(!0);return Bn(t.uid,e,r,i,[],1200),d.jsxs("div",{className:"top-section flex mb-2 gap-x-2",children:[s?d.jsx(le,{variant:"circular",width:40,height:40}):d.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:n==null?void 0:n.image}),d.jsxs("div",{children:[s?d.jsx(le,{height:40,width:120}):d.jsx("div",{className:"font-medium",children:n==null?void 0:n.name}),d.jsx("div",{className:" text-sm",children:Fl(Gr(t.time))})]})]})},Qxe=({setPage:t,postData:e,setPostData:n})=>{const{openSnackbar:r,userId:s}=g.useContext(we),[i,o]=g.useState(e?e.images:[]),[a,l]=g.useState(null),[c,u]=g.useState(e?e.description:""),[h,f]=g.useState(e?e==null?void 0:e.files:[]),[p,m]=g.useState(e?(e==null?void 0:e.links)||[]:[]),[v,E]=g.useState(!1),y=c.trim()||i.length!==0||h.length!==0||p.length!==0,w=async(k=!1)=>{try{const N=Ve(be,"posts");await xl(N,{uid:s,time:dr(),editedTime:dr(),description:c,images:i,files:h,links:p,draft:k}),t("posts")}catch(N){console.log(N.message)}},_=async()=>{try{const k=Ce(be,"posts",e.id);await er(k,{editedTime:dr(),description:c,images:i,files:h,links:p,draft:!1}),t("posts")}catch(k){console.log(k.message)}},x=async()=>{try{if(e){const k=Ce(be,"posts",e.id);await er(k,{editedTime:dr(),description:c,images:i,files:h,links:p,draft:!0})}else w(!0);t("posts")}catch(k){console.log(k.message)}},b=async k=>{try{const N=await Ln(k,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),M=`posts/${s}/${k.name}`,D=Bo(Ya,M);l("Uploading image...");const j=await Gd(D,N),A=await qd(j.ref),P=[...i,{name:k.name,path:M,imageURL:A}];o(P),l("Uploaded image"),setTimeout(()=>{l(null)},3e3)}catch(N){l(N.message),setTimeout(()=>{l(null)},3e3)}},C=async k=>{try{const N=`posts/${s}/${k.name}`,M=Bo(Ya,N);l("Uploading file...");const D=await Gd(M,k),j=await qd(D.ref),A=[...h,{name:k.name,path:N,fileURL:j,size:k.size}];f(A),l("Uploaded file"),setTimeout(()=>{l(null)},3e3)}catch(N){l(N.message),setTimeout(()=>{l(null)},3e3)}},T=async(k,N)=>{const M=i.filter(j=>N!==j.imageURL);o(M);const D=Bo(Ya,k);await EE(D)},I=async(k,N)=>{const M=h.filter(j=>N!==j.fileURL);f(M);const D=Bo(Ya,k);await EE(D)},S=k=>{const N=p.filter(M=>k!==M.id);m(N)},R=k=>{document.getElementById(k).click()};return d.jsxs("div",{children:[d.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[a&&d.jsx(Gxe,{message:a}),d.jsxs("div",{className:"flex gap-x-1 items-center",children:[d.jsx(qe,{onClick:()=>{t("posts"),n(null)},children:d.jsx(fu,{})}),d.jsx("div",{children:e?"Edit post":"Create a post"})]}),d.jsxs("div",{className:"flex items-center gap-x-1",children:[d.jsx(ke,{size:"small",sx:{textDecoration:"underline"},onClick:()=>{y&&x()},startIcon:d.jsx(g_e,{}),children:"Draft"}),d.jsx(ke,{size:"small",sx:{textDecoration:"underline"},onClick:()=>{y?(e?_():w(),n(null)):r("Create a post first")},startIcon:d.jsx(M_e,{}),children:e?"Save":"Publish"})]})]}),d.jsxs("div",{className:"mb-2",children:[d.jsx(Fn,{multiline:!0,fullWidth:!0,maxRows:20,value:c,onChange:k=>u(k.target.value),className:"p-2 resize-none border",placeholder:"Write description here"}),d.jsx("input",{className:"hidden",id:"imagesInput",type:"file",accept:"image/*",onChange:k=>b(k.target.files[0])}),d.jsx("input",{className:"hidden",id:"filesInput",type:"file",onChange:k=>C(k.target.files[0])}),d.jsxs("div",{className:"flex justify-start gap-x-2 mt-2",children:[d.jsx(ke,{size:"small",onClick:()=>R("imagesInput"),variant:"outlined",startIcon:d.jsx(wF,{}),children:"Image"}),d.jsx(ke,{size:"small",onClick:()=>R("filesInput"),variant:"outlined",startIcon:d.jsx(__e,{}),children:"File"}),d.jsx(ke,{onClick:()=>{E(!0)},variant:"outlined",startIcon:d.jsx(Vh,{}),children:"Link"}),d.jsx(qxe,{data:{links:p,setLinks:m,setIsLinkAdding:E,isLinkAdding:v}})]})]}),i.length!==0&&d.jsx("div",{className:"grid gap-y-2",children:i.map(k=>d.jsxs("div",{className:"relative min-h-20",children:[d.jsx("img",{alt:k.name,className:"size-full",src:k.imageURL}),d.jsx("div",{className:"absolute top-1 right-1",children:d.jsx(bw,{data:{clickFn:()=>T(k.path,k.imageURL),image:"falseIcon"}})})]},k.imageURL))}),h.length!==0&&d.jsx("div",{className:"grid gap-y-1 mt-2",children:h.map(k=>d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:"p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500",children:[d.jsx("img",{className:"w-7 ",src:Ur("download")}),d.jsxs("div",{children:[d.jsx("p",{className:"underline text-blue-600",children:k.name}),(k==null?void 0:k.size)&&d.jsxs("p",{children:[(k.size/(1024*1024)).toFixed(2)," MB"]})]})]}),d.jsx("div",{className:"absolute top-1 right-1",children:d.jsx(bw,{data:{clickFn:()=>I(k.path,k.fileURL),image:"falseIcon"}})})]},k.fileURL))}),p.length!==0&&d.jsx("div",{className:"grid gap-y-1 mt-2",children:p.map(k=>d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:"p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ",children:[d.jsx("img",{className:"w-7 ",src:Ur("link")}),d.jsx("div",{children:d.jsx("p",{className:"underline text-blue-600",children:k.title})})]}),d.jsx("div",{className:"absolute top-1 right-1",children:d.jsx(bw,{data:{image:"falseIcon",clickFn:()=>S(k.id)}})})]},k.link))})]})},Xxe=()=>d.jsxs("div",{className:"flex gap-x-2 rounded-md p-2 items-center",children:[d.jsx("div",{children:d.jsx(le,{variant:"circular",width:40,height:40})}),d.jsxs("div",{className:"grid gap-y-2  flex-1 ",children:[d.jsx(le,{variant:"text",width:200}),d.jsx(le,{variant:"rectangular",height:55,width:"90%"})]})]}),Jxe=()=>{const{setHeaderTitle:t,notiCount:e,setNotiCount:n}=g.useContext(we),r=8,[s,i]=g.useState([]),[o,a]=g.useState(null),[l,c]=g.useState(!0),[u,h]=g.useState(!1),[f,p]=g.useState(null),[m,v]=g.useState(0),[E,y]=g.useState(!0),w=_t(),{mode:_}=w.palette,x=async()=>{c(!0);const b=Ve(be,"notifications");let C=zn(b,Hc("timestamp","desc"),po(r));o&&(C=zn(C,em(o)));try{const T=await ci(C);if(lo(b,n),T.empty)h(!0);else{const I=T.docs.map(S=>({id:S.id,...S.data()}));i([...s,...I]),a(T.docs[T.docs.length-1]),Vn(c),v(m+1),I.length<r&&y(!1)}}catch(T){const I="Error fetching notifications: "+T.message;console.log(I),c(!1),p(I)}};return g.useEffect(()=>{x()},[]),g.useEffect(()=>{t("Notifications")},[]),l&&m===0?d.jsx(vs,{isLoading:l,text:"Loading notifications..."}):u?d.jsx(Mt,{text:"No notifications available"}):f?d.jsx(Mt,{text:f}):d.jsxs(Y,{className:"m-2",children:[d.jsxs(Y,{className:`border overflow-hidden shadow-md rounded-md ${_==="dark"?"border-slate-700":"border-slate-200"}`,children:[s.map((b,C)=>d.jsx(Zxe,{mode:_,length:s.length,notification:b,index:C},b.id)),l&&d.jsx(Y,{className:"flex justify-center",children:d.jsxs(Y,{children:[d.jsx("div",{className:"mb-2",children:"Loading..."}),d.jsx(eF,{})]})})]}),E?d.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:d.jsx(ke,{size:"small",onClick:x,children:"load more"})}):""]})},Zxe=({notification:t,index:e,length:n,mode:r})=>{let s;const{type:i,description:o,timestamp:a,testName:l,comment:c}=t,u=`${i[0]} ${i[1]}`,{users:h}=g.useContext(we),[f,p]=g.useState(null),[m,v]=g.useState(!0),E=Et();switch(Bn(t.uid,h,p,v),u){case"like post":s="liked a post";break;case"like test":s="liked a test";break;case"comment post":s="commented on a post";break;case"comment test":s="commented on a test";break;case"added post":s="added a post";break;case"added test":s="added a test";break;case"took test":s="took a test";break}return m?d.jsx(Xxe,{}):d.jsxs("div",{onClick:()=>{if(t!=null&&t.postId){let y,w;i[1]==="post"?(y="sp",w="posts"):(y="st",w="tests"),E(`/app/${w}/${y}/${t.postId}`)}},className:`cursor-pointer flex items-center border-t ${e===0&&"border-t-0"} gap-x-2 p-2 ${e===n-1&&"border-b"} ${r==="dark"?"border-slate-700":"border-slate-200"}`,children:[d.jsx("div",{children:d.jsx("img",{className:"size-10 object-cover rounded-full object-center bg-cover",src:f==null?void 0:f.image})}),d.jsxs("div",{children:[d.jsxs("p",{children:[d.jsx("b",{children:f?f==null?void 0:f.name:"Unknown User"})," ",s]}),o&&d.jsx("p",{children:$l(o,30)}),l&&d.jsx("p",{children:l}),c&&d.jsx("p",{children:c}),d.jsx(ge,{variant:"caption",children:Fl(Gr(a))})]})]})},e3e=({isCreating:t,setIsCreating:e})=>{const[n,r]=g.useState(""),{userId:s}=g.useContext(we),i=async()=>{if(!n.trim())return;const o=Ve(be,"chats"),a=await xl(o,{name:n,image:null,lastMessage:{}}),l=Ve(Ce(o,a.id),"members");await xl(l,{uid:s,joinedAt:dr()})};return d.jsx(gs,{open:t,onClose:()=>e(!1),children:d.jsxs(Y,{className:"m-5 ",children:[d.jsx("div",{className:"mb-2 font-bold",children:"Group Name"}),d.jsxs(Tr,{direction:"row",gap:1,children:[d.jsx(Fn,{size:"small",placeholder:"Enter a name",value:n,onChange:o=>r(o.target.value)}),d.jsx(ke,{onClick:()=>{n.trim()&&(i(),e(!1))},variant:"outlined",size:"small",children:"Create"})]})]})})};var Qt="-ms-",m0="-moz-",Lt="-webkit-",oV="comm",V_="rule",eS="decl",t3e="@import",aV="@keyframes",n3e="@layer",lV=Math.abs,tS=String.fromCharCode,dC=Object.assign;function r3e(t,e){return Jn(t,0)^45?(((e<<2^Jn(t,0))<<2^Jn(t,1))<<2^Jn(t,2))<<2^Jn(t,3):0}function cV(t){return t.trim()}function No(t,e){return(t=e.exec(t))?t[0]:t}function tt(t,e,n){return t.replace(e,n)}function lg(t,e,n){return t.indexOf(e,n)}function Jn(t,e){return t.charCodeAt(e)|0}function ah(t,e,n){return t.slice(e,n)}function Gi(t){return t.length}function uV(t){return t.length}function Uf(t,e){return e.push(t),t}function s3e(t,e){return t.map(e).join("")}function CP(t,e){return t.filter(function(n){return!No(n,e)})}var U_=1,lh=1,dV=0,li=0,jn=0,Uh="";function z_(t,e,n,r,s,i,o,a){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:U_,column:lh,length:o,return:"",siblings:a}}function Aa(t,e){return dC(z_("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Du(t){for(;t.root;)t=Aa(t.root,{children:[t]});Uf(t,t.siblings)}function i3e(){return jn}function o3e(){return jn=li>0?Jn(Uh,--li):0,lh--,jn===10&&(lh=1,U_--),jn}function Ri(){return jn=li<dV?Jn(Uh,li++):0,lh++,jn===10&&(lh=1,U_++),jn}function Tc(){return Jn(Uh,li)}function cg(){return li}function B_(t,e){return ah(Uh,t,e)}function hC(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function a3e(t){return U_=lh=1,dV=Gi(Uh=t),li=0,[]}function l3e(t){return Uh="",t}function bx(t){return cV(B_(li-1,fC(t===91?t+2:t===40?t+1:t)))}function c3e(t){for(;(jn=Tc())&&jn<33;)Ri();return hC(t)>2||hC(jn)>3?"":" "}function u3e(t,e){for(;--e&&Ri()&&!(jn<48||jn>102||jn>57&&jn<65||jn>70&&jn<97););return B_(t,cg()+(e<6&&Tc()==32&&Ri()==32))}function fC(t){for(;Ri();)switch(jn){case t:return li;case 34:case 39:t!==34&&t!==39&&fC(jn);break;case 40:t===41&&fC(t);break;case 92:Ri();break}return li}function d3e(t,e){for(;Ri()&&t+jn!==57;)if(t+jn===84&&Tc()===47)break;return"/*"+B_(e,li-1)+"*"+tS(t===47?t:Ri())}function h3e(t){for(;!hC(Tc());)Ri();return B_(t,li)}function f3e(t){return l3e(ug("",null,null,null,[""],t=a3e(t),0,[0],t))}function ug(t,e,n,r,s,i,o,a,l){for(var c=0,u=0,h=o,f=0,p=0,m=0,v=1,E=1,y=1,w=0,_="",x=s,b=i,C=r,T=_;E;)switch(m=w,w=Ri()){case 40:if(m!=108&&Jn(T,h-1)==58){lg(T+=tt(bx(w),"&","&\f"),"&\f",lV(c?a[c-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:T+=bx(w);break;case 9:case 10:case 13:case 32:T+=c3e(m);break;case 92:T+=u3e(cg()-1,7);continue;case 47:switch(Tc()){case 42:case 47:Uf(p3e(d3e(Ri(),cg()),e,n,l),l);break;default:T+="/"}break;case 123*v:a[c++]=Gi(T)*y;case 125*v:case 59:case 0:switch(w){case 0:case 125:E=0;case 59+u:y==-1&&(T=tt(T,/\f/g,"")),p>0&&Gi(T)-h&&Uf(p>32?IP(T+";",r,n,h-1,l):IP(tt(T," ","")+";",r,n,h-2,l),l);break;case 59:T+=";";default:if(Uf(C=bP(T,e,n,c,u,s,a,_,x=[],b=[],h,i),i),w===123)if(u===0)ug(T,e,C,C,x,i,h,a,b);else switch(f===99&&Jn(T,3)===110?100:f){case 100:case 108:case 109:case 115:ug(t,C,C,r&&Uf(bP(t,C,C,0,0,s,a,_,s,x=[],h,b),b),s,b,h,a,r?x:b);break;default:ug(T,C,C,C,[""],b,0,a,b)}}c=u=p=0,v=y=1,_=T="",h=o;break;case 58:h=1+Gi(T),p=m;default:if(v<1){if(w==123)--v;else if(w==125&&v++==0&&o3e()==125)continue}switch(T+=tS(w),w*v){case 38:y=u>0?1:(T+="\f",-1);break;case 44:a[c++]=(Gi(T)-1)*y,y=1;break;case 64:Tc()===45&&(T+=bx(Ri())),f=Tc(),u=h=Gi(_=T+=h3e(cg())),w++;break;case 45:m===45&&Gi(T)==2&&(v=0)}}return i}function bP(t,e,n,r,s,i,o,a,l,c,u,h){for(var f=s-1,p=s===0?i:[""],m=uV(p),v=0,E=0,y=0;v<r;++v)for(var w=0,_=ah(t,f+1,f=lV(E=o[v])),x=t;w<m;++w)(x=cV(E>0?p[w]+" "+_:tt(_,/&\f/g,p[w])))&&(l[y++]=x);return z_(t,e,n,s===0?V_:a,l,c,u,h)}function p3e(t,e,n,r){return z_(t,e,n,oV,tS(i3e()),ah(t,2,-2),0,r)}function IP(t,e,n,r,s){return z_(t,e,n,eS,ah(t,0,r),ah(t,r+1,-1),r,s)}function hV(t,e,n){switch(r3e(t,e)){case 5103:return Lt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Lt+t+t;case 4789:return m0+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Lt+t+m0+t+Qt+t+t;case 5936:switch(Jn(t,e+11)){case 114:return Lt+t+Qt+tt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Lt+t+Qt+tt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Lt+t+Qt+tt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Lt+t+Qt+t+t;case 6165:return Lt+t+Qt+"flex-"+t+t;case 5187:return Lt+t+tt(t,/(\w+).+(:[^]+)/,Lt+"box-$1$2"+Qt+"flex-$1$2")+t;case 5443:return Lt+t+Qt+"flex-item-"+tt(t,/flex-|-self/g,"")+(No(t,/flex-|baseline/)?"":Qt+"grid-row-"+tt(t,/flex-|-self/g,""))+t;case 4675:return Lt+t+Qt+"flex-line-pack"+tt(t,/align-content|flex-|-self/g,"")+t;case 5548:return Lt+t+Qt+tt(t,"shrink","negative")+t;case 5292:return Lt+t+Qt+tt(t,"basis","preferred-size")+t;case 6060:return Lt+"box-"+tt(t,"-grow","")+Lt+t+Qt+tt(t,"grow","positive")+t;case 4554:return Lt+tt(t,/([^-])(transform)/g,"$1"+Lt+"$2")+t;case 6187:return tt(tt(tt(t,/(zoom-|grab)/,Lt+"$1"),/(image-set)/,Lt+"$1"),t,"")+t;case 5495:case 3959:return tt(t,/(image-set\([^]*)/,Lt+"$1$`$1");case 4968:return tt(tt(t,/(.+:)(flex-)?(.*)/,Lt+"box-pack:$3"+Qt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Lt+t+t;case 4200:if(!No(t,/flex-|baseline/))return Qt+"grid-column-align"+ah(t,e)+t;break;case 2592:case 3360:return Qt+tt(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,s){return e=s,No(r.props,/grid-\w+-end/)})?~lg(t+(n=n[e].value),"span",0)?t:Qt+tt(t,"-start","")+t+Qt+"grid-row-span:"+(~lg(n,"span",0)?No(n,/\d+/):+No(n,/\d+/)-+No(t,/\d+/))+";":Qt+tt(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return No(r.props,/grid-\w+-start/)})?t:Qt+tt(tt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return tt(t,/(.+)-inline(.+)/,Lt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Gi(t)-1-e>6)switch(Jn(t,e+1)){case 109:if(Jn(t,e+4)!==45)break;case 102:return tt(t,/(.+:)(.+)-([^]+)/,"$1"+Lt+"$2-$3$1"+m0+(Jn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~lg(t,"stretch",0)?hV(tt(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return tt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,s,i,o,a,l,c){return Qt+s+":"+i+c+(o?Qt+s+"-span:"+(a?l:+l-+i)+c:"")+t});case 4949:if(Jn(t,e+6)===121)return tt(t,":",":"+Lt)+t;break;case 6444:switch(Jn(t,Jn(t,14)===45?18:11)){case 120:return tt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Lt+(Jn(t,14)===45?"inline-":"")+"box$3$1"+Lt+"$2$3$1"+Qt+"$2box$3")+t;case 100:return tt(t,":",":"+Qt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return tt(t,"scroll-","scroll-snap-")+t}return t}function Q1(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function m3e(t,e,n,r){switch(t.type){case n3e:if(t.children.length)break;case t3e:case eS:return t.return=t.return||t.value;case oV:return"";case aV:return t.return=t.value+"{"+Q1(t.children,r)+"}";case V_:if(!Gi(t.value=t.props.join(",")))return""}return Gi(n=Q1(t.children,r))?t.return=t.value+"{"+n+"}":""}function g3e(t){var e=uV(t);return function(n,r,s,i){for(var o="",a=0;a<e;a++)o+=t[a](n,r,s,i)||"";return o}}function v3e(t){return function(e){e.root||(e=e.return)&&t(e)}}function y3e(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case eS:t.return=hV(t.value,t.length,n);return;case aV:return Q1([Aa(t,{value:tt(t.value,"@","@"+Lt)})],r);case V_:if(t.length)return s3e(n=t.props,function(s){switch(No(s,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Du(Aa(t,{props:[tt(s,/:(read-\w+)/,":"+m0+"$1")]})),Du(Aa(t,{props:[s]})),dC(t,{props:CP(n,r)});break;case"::placeholder":Du(Aa(t,{props:[tt(s,/:(plac\w+)/,":"+Lt+"input-$1")]})),Du(Aa(t,{props:[tt(s,/:(plac\w+)/,":"+m0+"$1")]})),Du(Aa(t,{props:[tt(s,/:(plac\w+)/,Qt+"input-$1")]})),Du(Aa(t,{props:[s]})),dC(t,{props:CP(n,r)});break}return""})}}var _3e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ws={},ch=typeof process<"u"&&ws!==void 0&&(ws.REACT_APP_SC_ATTR||ws.SC_ATTR)||"data-styled",fV="active",pV="data-styled-version",W_="6.1.11",nS=`/*!sc*/
`,rS=typeof window<"u"&&"HTMLElement"in window,w3e=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&ws!==void 0&&ws.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&ws.REACT_APP_SC_DISABLE_SPEEDY!==""?ws.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&ws.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&ws!==void 0&&ws.SC_DISABLE_SPEEDY!==void 0&&ws.SC_DISABLE_SPEEDY!==""&&ws.SC_DISABLE_SPEEDY!=="false"&&ws.SC_DISABLE_SPEEDY),H_=Object.freeze([]),uh=Object.freeze({});function x3e(t,e,n){return n===void 0&&(n=uh),t.theme!==n.theme&&t.theme||e||n.theme}var mV=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),E3e=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,C3e=/(^-|-$)/g;function TP(t){return t.replace(E3e,"-").replace(C3e,"")}var b3e=/(a)(d)/gi,w2=52,SP=function(t){return String.fromCharCode(t+(t>25?39:97))};function pC(t){var e,n="";for(e=Math.abs(t);e>w2;e=e/w2|0)n=SP(e%w2)+n;return(SP(e%w2)+n).replace(b3e,"$1-$2")}var Ix,gV=5381,sd=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},vV=function(t){return sd(gV,t)};function yV(t){return pC(vV(t)>>>0)}function I3e(t){return t.displayName||t.name||"Component"}function Tx(t){return typeof t=="string"&&!0}var _V=typeof Symbol=="function"&&Symbol.for,wV=_V?Symbol.for("react.memo"):60115,T3e=_V?Symbol.for("react.forward_ref"):60112,S3e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},k3e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},xV={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},R3e=((Ix={})[T3e]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ix[wV]=xV,Ix);function kP(t){return("type"in(e=t)&&e.type.$$typeof)===wV?xV:"$$typeof"in t?R3e[t.$$typeof]:S3e;var e}var A3e=Object.defineProperty,P3e=Object.getOwnPropertyNames,RP=Object.getOwnPropertySymbols,N3e=Object.getOwnPropertyDescriptor,D3e=Object.getPrototypeOf,AP=Object.prototype;function EV(t,e,n){if(typeof e!="string"){if(AP){var r=D3e(e);r&&r!==AP&&EV(t,r,n)}var s=P3e(e);RP&&(s=s.concat(RP(e)));for(var i=kP(t),o=kP(e),a=0;a<s.length;++a){var l=s[a];if(!(l in k3e||n&&n[l]||o&&l in o||i&&l in i)){var c=N3e(e,l);try{A3e(t,l,c)}catch{}}}}return t}function dh(t){return typeof t=="function"}function sS(t){return typeof t=="object"&&"styledComponentId"in t}function mc(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function mC(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function bp(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function gC(t,e,n){if(n===void 0&&(n=!1),!n&&!bp(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=gC(t[r],e[r]);else if(bp(e))for(var r in e)t[r]=gC(t[r],e[r]);return t}function iS(t,e){Object.defineProperty(t,"toString",{value:e})}function Im(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var L3e=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,s=r.length,i=s;e>=i;)if((i<<=1)<0)throw Im(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var o=s;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),s=r+n;this.groupSizes[e]=0;for(var i=r;i<s;i++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],s=this.indexOfGroup(e),i=s+r,o=s;o<i;o++)n+="".concat(this.tag.getRule(o)).concat(nS);return n},t}(),dg=new Map,X1=new Map,hg=1,x2=function(t){if(dg.has(t))return dg.get(t);for(;X1.has(hg);)hg++;var e=hg++;return dg.set(t,e),X1.set(e,t),e},M3e=function(t,e){hg=e+1,dg.set(t,e),X1.set(e,t)},O3e="style[".concat(ch,"][").concat(pV,'="').concat(W_,'"]'),j3e=new RegExp("^".concat(ch,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),$3e=function(t,e,n){for(var r,s=n.split(","),i=0,o=s.length;i<o;i++)(r=s[i])&&t.registerName(e,r)},F3e=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(nS),s=[],i=0,o=r.length;i<o;i++){var a=r[i].trim();if(a){var l=a.match(j3e);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(M3e(u,c),$3e(t,u,l[3]),t.getTag().insertRules(c,s)),s.length=0}else s.push(a)}}};function V3e(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var CV=function(t){var e=document.head,n=t||e,r=document.createElement("style"),s=function(a){var l=Array.from(a.querySelectorAll("style[".concat(ch,"]")));return l[l.length-1]}(n),i=s!==void 0?s.nextSibling:null;r.setAttribute(ch,fV),r.setAttribute(pV,W_);var o=V3e();return o&&r.setAttribute("nonce",o),n.insertBefore(r,i),r},U3e=function(){function t(e){this.element=CV(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,s=0,i=r.length;s<i;s++){var o=r[s];if(o.ownerNode===n)return o}throw Im(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),z3e=function(){function t(e){this.element=CV(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),B3e=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),PP=rS,W3e={isServer:!rS,useCSSOMInjection:!w3e},bV=function(){function t(e,n,r){e===void 0&&(e=uh),n===void 0&&(n={});var s=this;this.options=ft(ft({},W3e),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&rS&&PP&&(PP=!1,function(i){for(var o=document.querySelectorAll(O3e),a=0,l=o.length;a<l;a++){var c=o[a];c&&c.getAttribute(ch)!==fV&&(F3e(i,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),iS(this,function(){return function(i){for(var o=i.getTag(),a=o.length,l="",c=function(h){var f=function(y){return X1.get(y)}(h);if(f===void 0)return"continue";var p=i.names.get(f),m=o.getGroup(h);if(p===void 0||m.length===0)return"continue";var v="".concat(ch,".g").concat(h,'[id="').concat(f,'"]'),E="";p!==void 0&&p.forEach(function(y){y.length>0&&(E+="".concat(y,","))}),l+="".concat(m).concat(v,'{content:"').concat(E,'"}').concat(nS)},u=0;u<a;u++)c(u);return l}(s)})}return t.registerId=function(e){return x2(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(ft(ft({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,s=n.target;return n.isServer?new B3e(s):r?new U3e(s):new z3e(s)}(this.options),new L3e(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(x2(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(x2(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(x2(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),H3e=/&/g,G3e=/^\s*\/\/.*$/gm;function IV(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=IV(n.children,e)),n})}function q3e(t){var e,n,r,s=t===void 0?uh:t,i=s.options,o=i===void 0?uh:i,a=s.plugins,l=a===void 0?H_:a,c=function(f,p,m){return m.startsWith(n)&&m.endsWith(n)&&m.replaceAll(n,"").length>0?".".concat(e):f},u=l.slice();u.push(function(f){f.type===V_&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(H3e,n).replace(r,c))}),o.prefix&&u.push(y3e),u.push(m3e);var h=function(f,p,m,v){p===void 0&&(p=""),m===void 0&&(m=""),v===void 0&&(v="&"),e=v,n=p,r=new RegExp("\\".concat(n,"\\b"),"g");var E=f.replace(G3e,""),y=f3e(m||p?"".concat(m," ").concat(p," { ").concat(E," }"):E);o.namespace&&(y=IV(y,o.namespace));var w=[];return Q1(y,g3e(u.concat(v3e(function(_){return w.push(_)})))),w};return h.hash=l.length?l.reduce(function(f,p){return p.name||Im(15),sd(f,p.name)},gV).toString():"",h}var Y3e=new bV,vC=q3e(),TV=$r.createContext({shouldForwardProp:void 0,styleSheet:Y3e,stylis:vC});TV.Consumer;$r.createContext(void 0);function NP(){return g.useContext(TV)}var SV=function(){function t(e,n){var r=this;this.inject=function(s,i){i===void 0&&(i=vC);var o=r.name+i.hash;s.hasNameForId(r.id,o)||s.insertRules(r.id,o,i(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,iS(this,function(){throw Im(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=vC),this.name+e.hash},t}(),K3e=function(t){return t>="A"&&t<="Z"};function DP(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;K3e(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var kV=function(t){return t==null||t===!1||t===""},RV=function(t){var e,n,r=[];for(var s in t){var i=t[s];t.hasOwnProperty(s)&&!kV(i)&&(Array.isArray(i)&&i.isCss||dh(i)?r.push("".concat(DP(s),":"),i,";"):bp(i)?r.push.apply(r,fr(fr(["".concat(s," {")],RV(i),!1),["}"],!1)):r.push("".concat(DP(s),": ").concat((e=s,(n=i)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in _3e||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Sc(t,e,n,r){if(kV(t))return[];if(sS(t))return[".".concat(t.styledComponentId)];if(dh(t)){if(!dh(i=t)||i.prototype&&i.prototype.isReactComponent||!e)return[t];var s=t(e);return Sc(s,e,n,r)}var i;return t instanceof SV?n?(t.inject(n,r),[t.getName(r)]):[t]:bp(t)?RV(t):Array.isArray(t)?Array.prototype.concat.apply(H_,t.map(function(o){return Sc(o,e,n,r)})):[t.toString()]}function Q3e(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(dh(n)&&!sS(n))return!1}return!0}var X3e=vV(W_),J3e=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Q3e(e),this.componentId=n,this.baseHash=sd(X3e,n),this.baseStyle=r,bV.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))s=mc(s,this.staticRulesId);else{var i=mC(Sc(this.rules,e,n,r)),o=pC(sd(this.baseHash,i)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(i,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}s=mc(s,o),this.staticRulesId=o}else{for(var l=sd(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var h=this.rules[u];if(typeof h=="string")c+=h;else if(h){var f=mC(Sc(h,e,n,r));l=sd(l,f+u),c+=f}}if(c){var p=pC(l>>>0);n.hasNameForId(this.componentId,p)||n.insertRules(this.componentId,p,r(c,".".concat(p),void 0,this.componentId)),s=mc(s,p)}}return s},t}(),AV=$r.createContext(void 0);AV.Consumer;var Sx={};function Z3e(t,e,n){var r=sS(t),s=t,i=!Tx(t),o=e.attrs,a=o===void 0?H_:o,l=e.componentId,c=l===void 0?function(x,b){var C=typeof x!="string"?"sc":TP(x);Sx[C]=(Sx[C]||0)+1;var T="".concat(C,"-").concat(yV(W_+C+Sx[C]));return b?"".concat(b,"-").concat(T):T}(e.displayName,e.parentComponentId):l,u=e.displayName,h=u===void 0?function(x){return Tx(x)?"styled.".concat(x):"Styled(".concat(I3e(x),")")}(t):u,f=e.displayName&&e.componentId?"".concat(TP(e.displayName),"-").concat(e.componentId):e.componentId||c,p=r&&s.attrs?s.attrs.concat(a).filter(Boolean):a,m=e.shouldForwardProp;if(r&&s.shouldForwardProp){var v=s.shouldForwardProp;if(e.shouldForwardProp){var E=e.shouldForwardProp;m=function(x,b){return v(x,b)&&E(x,b)}}else m=v}var y=new J3e(n,f,r?s.componentStyle:void 0);function w(x,b){return function(C,T,I){var S=C.attrs,R=C.componentStyle,k=C.defaultProps,N=C.foldedComponentIds,M=C.styledComponentId,D=C.target,j=$r.useContext(AV),A=NP(),P=C.shouldForwardProp||A.shouldForwardProp,O=x3e(T,j,k)||uh,$=function(V,q,ce){for(var X,Z=ft(ft({},q),{className:void 0,theme:ce}),ee=0;ee<V.length;ee+=1){var se=dh(X=V[ee])?X(Z):X;for(var ae in se)Z[ae]=ae==="className"?mc(Z[ae],se[ae]):ae==="style"?ft(ft({},Z[ae]),se[ae]):se[ae]}return q.className&&(Z.className=mc(Z.className,q.className)),Z}(S,T,O),F=$.as||D,G={};for(var z in $)$[z]===void 0||z[0]==="$"||z==="as"||z==="theme"&&$.theme===O||(z==="forwardedAs"?G.as=$.forwardedAs:P&&!P(z,F)||(G[z]=$[z]));var B=function(V,q){var ce=NP(),X=V.generateAndInjectStyles(q,ce.styleSheet,ce.stylis);return X}(R,$),U=mc(N,M);return B&&(U+=" "+B),$.className&&(U+=" "+$.className),G[Tx(F)&&!mV.has(F)?"class":"className"]=U,G.ref=I,g.createElement(F,G)}(_,x,b)}w.displayName=h;var _=$r.forwardRef(w);return _.attrs=p,_.componentStyle=y,_.displayName=h,_.shouldForwardProp=m,_.foldedComponentIds=r?mc(s.foldedComponentIds,s.styledComponentId):"",_.styledComponentId=f,_.target=r?s.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(x){this._foldedDefaultProps=r?function(b){for(var C=[],T=1;T<arguments.length;T++)C[T-1]=arguments[T];for(var I=0,S=C;I<S.length;I++)gC(b,S[I],!0);return b}({},s.defaultProps,x):x}}),iS(_,function(){return".".concat(_.styledComponentId)}),i&&EV(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function LP(t,e){for(var n=[t[0]],r=0,s=e.length;r<s;r+=1)n.push(e[r],t[r+1]);return n}var MP=function(t){return Object.assign(t,{isCss:!0})};function PV(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(dh(t)||bp(t))return MP(Sc(LP(H_,fr([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Sc(r):MP(Sc(LP(r,e)))}function yC(t,e,n){if(n===void 0&&(n=uh),!e)throw Im(1,e);var r=function(s){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return t(e,n,PV.apply(void 0,fr([s],i,!1)))};return r.attrs=function(s){return yC(t,e,ft(ft({},n),{attrs:Array.prototype.concat(n.attrs,s).filter(Boolean)}))},r.withConfig=function(s){return yC(t,e,ft(ft({},n),s))},r}var NV=function(t){return yC(Z3e,t)},yu=NV;mV.forEach(function(t){yu[t]=NV(t)});function oS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=mC(PV.apply(void 0,fr([t],e,!1))),s=yV(r);return new SV(s,r)}yu.div`
  display: ${t=>t.$visible?"flex":"none"};
`;const _i=242.776657104492,eEe=1.6,tEe=oS`
12.5% {
  stroke-dasharray: ${_i*.14}px, ${_i}px;
  stroke-dashoffset: -${_i*.11}px;
}
43.75% {
  stroke-dasharray: ${_i*.35}px, ${_i}px;
  stroke-dashoffset: -${_i*.35}px;
}
100% {
  stroke-dasharray: ${_i*.01}px, ${_i}px;
  stroke-dashoffset: -${_i*.99}px;
}
`;yu.path`
  stroke-dasharray: ${_i*.01}px, ${_i};
  stroke-dashoffset: 0;
  animation: ${tEe} ${eEe}s linear infinite;
`;const nEe=oS`
to {
   transform: rotate(360deg);
 }
`;yu.svg`
  animation: ${nEe} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`;yu.polyline`
  stroke-width: ${t=>t.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const rEe=oS`
to {
   stroke-dashoffset: 136;
 }
`;yu.polygon`
  stroke-dasharray: 17;
  animation: ${rEe} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`;yu.svg`
  transform-origin: 50% 65%;
`;const sEe=({chat:t,index:e,chats:n})=>{var x;const[r,s]=g.useState(null),{newMessages:i}=g.useContext(we),[o,a]=g.useState(!0),[l,c]=g.useState(null),u=Et(),[h,f]=g.useState(!0),[p,m]=g.useState(!1),[v,E]=g.useState(null),y=_t(),{mode:w}=y.palette,_=async()=>{a(!0);const b=Ve(Ce(Ve(be,"chats"),t.id),"messages");console.log("fetching message counts..."),await lo(b,s),Vn(a)};return g.useEffect(()=>{const C=(()=>{const T=Ve(be,"chats"),I=Ve(Ce(T,t.id),"messages"),S=zn(I,Hc("timestamp","desc"),po(1));return $i(S,k=>{if(f(!0),console.log("fetching last message..."),k.empty)m(!0),Vn(f,300);else{const N=k.docs.map(M=>({id:M.id,...M.data()}));c(N[0]),_(),Vn(f,300)}},k=>{E("Error fetching last message: "+k.message),Vn(f,300)})})();return()=>{C&&C()}},[t.id]),d.jsxs(Y,{className:`${w==="dark"?"hover:bg-slate-700":"hover:bg-slate-100"} flex min-h-[100px] gap-x-[2px] items-center cursor-pointer p-1 relative  border-t ${e===0&&"border-t-0"} ${e===n.length-1&&"border-b"}  border-slate-200`,onClick:()=>u(`/app/chatroom/${t.id}`),children:[d.jsx(Y,{className:"flex items-start h-full mt-3",children:d.jsx("img",{alt:t.name,src:((x=t.image)==null?void 0:x.URL)||"images/sea-logo.jpg",className:"size-[48px] rounded-[8px] object-center object-cover mr-1"})}),d.jsxs(Y,{className:"grid items-start h-full",children:[d.jsxs(ge,{variant:"h6",children:[t.name,d.jsx(iEe,{messageCounts:r})]}),d.jsxs(Y,{container:!0,sx:{display:"grid"},children:[d.jsx(Y,{item:!0,sx:{display:"flex",columnGap:"4px",alignItems:"center"},children:d.jsx(aEe,{lastMessage:l})}),d.jsx(oEe,{lastMessage:l,isMessageEmpty:p,isMessageLoading:h,messageError:v}),d.jsx(lEe,{chat:t})]})]}),!Fy(i,t.id)&&d.jsx("div",{className:"absolute shadow-md right-1 top-1 bg-red-500 size-4 rounded-full"})]})},iEe=({messageCounts:t})=>t?d.jsxs("div",{className:"mb-2 flex items-center rounded-md justify-start pr-1 font-[600]  min-h-6 min-w-6 text-sm top-0  text-slate-400 ",children:[t," messages"]}):d.jsx(le,{width:120}),oEe=({lastMessage:t,isMessageLoading:e,isMessageEmpty:n,messageError:r})=>{var s,i;return e?d.jsxs("div",{children:[d.jsx(le,{width:"70%"}),d.jsx(le,{width:"60%"})]}):n?d.jsx(ge,{color:"warning",children:"No messages yet"}):r?d.jsx(ge,{color:"warning",children:r}):d.jsxs(Y,{sx:{marginTop:"2px",display:"grid"},children:[d.jsx(ge,{size:"small",variant:"caption",color:"textSecondary",children:$l(t==null?void 0:t.content,30)}),(t==null?void 0:t.image)&&d.jsx("img",{alt:(s=t==null?void 0:t.image)==null?void 0:s.name,className:"w-12",src:(i=t==null?void 0:t.image)==null?void 0:i.URL}),d.jsxs(ge,{size:"small",variant:"caption",color:"textSecondary",children:[(t==null?void 0:t.editedTime)&&"edited ",K1(Gr(t!=null&&t.editedTime?t.editedTime:t==null?void 0:t.timestamp))]})]})},aEe=({lastMessage:t})=>{const{users:e}=g.useContext(we),[n,r]=g.useState(null),[s,i]=g.useState(!0);return Bn(t==null?void 0:t.senderId,e,r,i,[t]),s?d.jsxs("div",{className:"flex items-center gap-x-1",children:[d.jsx(le,{variant:"circular",height:30,width:30}),d.jsx(le,{height:30,width:100})]}):d.jsxs(d.Fragment,{children:[d.jsx(ys,{size:"size-5",fontSize:"text-sm",name:n==null?void 0:n.name,image:n==null?void 0:n.image}),d.jsx(ge,{size:"small",fontWeight:"bold",variant:"caption",color:"textSecondary",children:n==null?void 0:n.name})]})},lEe=({chat:t})=>{const e=Ce(be,"chats",t.id),n=Ve(e,"typingUsers"),[r,s]=g.useState([]);if(g.useEffect(()=>{const o=$i(n,l=>{const c=l.docs.map(u=>({uid:u.id,...u.data()}));s(c)});return()=>{o&&o()}},[]),r.length>0)return d.jsx("div",{children:r.sort((i,o)=>mi(i,o,"timestamp","older")).map(i=>d.jsx(cEe,{typingUser:i},`typing-users-${i.uid}`))})},cEe=({typingUser:t})=>{const{users:e}=g.useContext(we),[n,r]=g.useState(null),[s,i]=g.useState();return Bn(t.uid,e,r,i),d.jsx("div",{className:"flex items-center gap-x-1 ",children:s?d.jsx(le,{width:30,height:30}):d.jsxs(d.Fragment,{children:[d.jsx(ys,{size:"size-5",fontSize:"text-sm",name:n==null?void 0:n.name,image:n==null?void 0:n.image}),d.jsx(le,{height:35,width:120})]})})},zh=()=>d.jsxs("div",{className:"flex gap-x-2 items-center",children:[d.jsx(le,{variant:"circular",height:40,width:40}),d.jsx(le,{variant:"text",height:40,width:"200px"})]}),aS=()=>{const t=Et();return d.jsx(Pe,{title:"Search",placement:"top",children:d.jsx(Rge,{size:"medium",color:"primary","aria-label":"search",sx:{position:"fixed",bottom:16,right:16},onClick:()=>t("/app/search"),children:d.jsx(bF,{})})})},uEe=()=>{const{setHeaderTitle:t,chats:e,setChats:n,myChats:r,setMyChats:s}=g.useContext(we),i=Ve(be,"chats"),[o,a]=g.useState(!0),[l,c]=g.useState(!1),[u,h]=g.useState(null);return Nh(i,[],n,a,c,!1,h,500),g.useEffect(()=>{t("Chat Room")},[]),o?d.jsx(vs,{isLoading:o,text:"Loading chat rooms..."}):l?d.jsx(Mt,{text:"No chat rooms available"}):u?d.jsx(Mt,{text:u}):d.jsx(dEe,{myChats:r,setMyChats:s})},dEe=({myChats:t,setMyChats:e})=>{const{chats:n,userData:r,userId:s}=g.useContext(we),[i,o]=g.useState(!1),[a,l]=g.useState(0),c=async(u,h)=>{const f=Ve(be,"chats"),p=Ve(Ce(f,u),"members"),m=zn(p,_l("uid","==",h),po(1));return console.log("Checking if a member..."),!(await ci(m)).empty};return g.useEffect(()=>{(async()=>{const h=await Promise.all(n.map(async f=>{const p=await c(f.id,s);return p&&l(a+1),p?f:null}));e(h.filter(f=>f!==null))})()},[n]),a?d.jsxs(d.Fragment,{children:[d.jsx(aS,{}),i&&d.jsx(e3e,{isCreating:i,setIsCreating:o}),d.jsxs("div",{className:"m-5 overflow-hidden grid border border-slate-200 rounded-md shadow-md ",children:[d.jsx(hEe,{}),t.map((u,h)=>d.jsx(sEe,{chat:u,index:h,chats:n},u.id)),(r==null?void 0:r.isAdmin)&&d.jsx(Y,{className:"m-2",children:d.jsx(ke,{size:"small",onClick:()=>o(!0),startIcon:d.jsx($_,{}),children:"Create group"})})]})]}):d.jsx(Mt,{text:"No chat rooms available for you"})},hEe=()=>{const[t,e]=g.useState(0),[n,r]=g.useState(!0),[s,i]=g.useState(!1);return g.useEffect(()=>{const a=(()=>{const l=cp(pp,"/status"),c=OO(l,LO("status"),MO("online"));return Cy(c,h=>{r(!0);const f=h.val(),p=Object.entries(f).map(([m,v])=>({uid:m,...v}));e(p),r(!1)})})();return()=>{a&&a()}},[]),n?d.jsx(le,{sx:{m:1},height:40,width:60}):d.jsxs(Y,{className:"p-2 border-b border-b-slate-200",children:[s&&d.jsx(fEe,{onlineUsers:t,open:s,setOpen:i}),d.jsxs(ke,{onClick:()=>i(!0),size:"small",sx:{textDecoration:"underline",textTransform:"capitalize"},children:[t.length," online"]})]})},fEe=({onlineUsers:t,open:e,setOpen:n})=>d.jsxs(gs,{fullWidth:!0,open:e,onClose:()=>n(!1),children:[d.jsx(Y,{m:1,children:d.jsx(ge,{variant:"h6",children:"Online Users"})}),d.jsx(Y,{sx:{m:1},className:"grid gap-y-2",children:t.map(r=>d.jsx(pEe,{user:r},r.uid))})]}),pEe=({user:t})=>{const{users:e}=g.useContext(we),[n,r]=g.useState(null),[s,i]=g.useState(!0);return Bn(t.uid,e,r,i),s?d.jsx(zh,{}):d.jsxs(Y,{className:" flex items-center gap-x-1",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{className:"size-9 rounded-full shadow-md object-cover",src:n.image}),d.jsx("div",{className:"absolute size-[16px] bg-white rounded-full flex justify-center items-center bottom-0 right-0",children:d.jsx("div",{className:`size-3 rounded-full bg-green-500
          `})})]}),d.jsx(ge,{variant:"h6",fontSize:"1rem",children:n.name})]})},mEe=()=>{const{headerTitle:t,setUserId:e,setUserData:n,openSnackbar:r,userId:s}=g.useContext(we),i=Et(),o=mh(),a=o.pathname!=="/"?o.pathname:"/app";g.useEffect(()=>{document.title="SEA • "+t||"STAR EDUCATION ACADEMY"},[t]),g.useEffect(()=>{const l=br.get("userId");if(!l)return;const c=$i(Ce(be,"users",l),u=>{if(u.exists()){const h={uid:u.id,...u.data()};n(h)}else e(null),br.remove("userId"),i("/login"),console.log("No user found..."),r("No user found")},u=>{console.log(u.message),r(u.message)});return()=>c()},[s]),g.useEffect(()=>{const l=br.get("userId")||null;l?(e(l),i(a)):i("/login")},[])},gEe=()=>{const{setHeaderTitle:t}=g.useContext(we),e={text:"About SEA",image:d.jsx(xF,{}),answer:`SEA stands for Star Education Academy, is an education academy founded by U Aye Kyaw and Daw Sandar Lwin in 2015. At SEA, you can study variety of subjects including
    English Language and four skills,
    Philosophy, Maths and Science.`},n=[{text:"Is my data private ?",answer:"Yes, your data is private."},{text:"Where can I give feedback to developer ?",answer:"You can give feedback at aungnaingthan22@gmail.com"}],r=[{text:"What are updated in the latest version ?",answer:"Updated UI design and fix bugs."},{text:"What is the last update time ?",answer:` Updated on ${Fl(1727025983012)}.`}];return um("help-page"),Vy("help-page"),g.useEffect(()=>{t("Help")},[]),d.jsxs(Y,{className:"m-5 border border-slate-200 rounded-md shadow-md",children:[d.jsx(vs,{}),d.jsx(If,{image:e.image,text:e.text,answer:e.answer}),d.jsx(If,{text:"FAQ",image:d.jsx(k_e,{}),answer:n.map(s=>d.jsx(If,{text:s.text,answer:s.answer},s.text))}),d.jsx(If,{image:d.jsx(IF,{}),text:"Updates",answer:r.map(s=>d.jsx(If,{text:s.text,answer:s.answer},s.text))})]})},If=({image:t,text:e,answer:n})=>{const[r,s]=g.useState(!1);return d.jsxs("div",{className:" p-2  mb-2 ",children:[d.jsxs("div",{onClick:()=>s(!r),className:"transition-all flex items-center rounded-md min-h-14 justify-between",children:[d.jsxs("div",{className:"flex items-center gap-x-2",children:[t&&t,d.jsx("div",{children:e})]}),d.jsx(Pe,{title:r?"Collapse":"Expand",arrow:!0,children:d.jsx(qe,{children:r?d.jsx(u_e,{}):d.jsx(c_e,{})})})]}),r&&d.jsx("div",{className:"font-medium ",children:n})]})},lS=({image:t,setViewingImage:e,postImage:n=!1})=>{const r=()=>{const s=(t==null?void 0:t.size)/1048576,i=(t==null?void 0:t.size)/1024;return s>1?`${s.toFixed(2)} MB`:isNaN(s)?null:`${i.toFixed(2)} kB`};return d.jsxs(gs,{fullScreen:!0,open:!!t,onClose:()=>e(!1),children:[d.jsx(Tr,{direction:"row",justifyContent:"end",sx:{pr:1,pt:1},children:d.jsx(Pe,{placement:"left",arrow:!0,title:"Close",children:d.jsx(qe,{size:"small",color:"primary",onClick:()=>{e(!1)},children:d.jsx(eu,{})})})}),t?d.jsxs("div",{className:"flex justify-center items-center h-full min-h-[200px] min-w-[200px] relative overflow-auto",children:[r()&&d.jsx("span",{className:"border border-gray-200 absolute right-1 bottom-1 bg-slate-300/70 p-1 rounded-lg font-bold ",children:r()}),d.jsx("img",{alt:t.name,className:"max-w-full max-h-full ",src:n?t.imageURL:t.URL,style:{transition:"transform 0.3s ease-in-out"}})]}):d.jsx("div",{className:" border border-slate-300 rounded-md",children:"Image not available."})]})},DV=({post:t,setViewingImage:e})=>{const[r,s]=g.useState(4),[i,o]=g.useState(!0),a=t.images.slice(0,r),l=t.images.length-4,c=()=>{o(!1),s(t.images.length)};return a.map((u,h)=>d.jsxs(Id,{item:!0,xs:4,sm:3,md:3,className:"relative cursor-pointer",children:[d.jsx("img",{onClick:()=>e(u),className:"w-full  ",src:u.imageURL,alt:u.name}),d.jsx("div",{className:"z-20 absolute right-1 top-1"}),h+1===4&&i&&l?d.jsx("div",{onClick:c,className:"z-10 absolute top-0 right-0 left-0 bottom-0 flex cursor-pointer items-center justify-center",children:d.jsxs("div",{className:"font-medium text-6xl text-white",children:["+",l]})}):""]},`post-${t.id}-image-${u.imageURL}`))},LV=({files:t})=>{const e=_t(),{mode:n}=e.palette;return d.jsxs(Y,{className:"grid mt-2",children:[d.jsx(ge,{className:"p-2 font-bold",children:"Files"}),t.map((r,s)=>d.jsx("a",{href:r.fileURL,download:r.name,target:"_blank",children:d.jsxs(Y,{className:`p-1 ${n==="light"?"hover:bg-slate-50 text-blue-600":"hover:bg-slate-700 text-blue-500"} cursor-pointer min-h-14 flex gap-x-1 items-center font-bold border-slate-300 border-t ${s===t.length-1&&"border-b"}  `,children:[d.jsx(m_e,{}),d.jsxs("div",{children:[d.jsx("p",{className:"underline",children:r.name}),(r==null?void 0:r.size)&&d.jsxs("p",{children:[(r.size/(1024*1024)).toFixed(2)," MB"]})]})]})},`${s}-${r.fileURL}`))]})},MV=({links:t})=>{const e=_t(),{mode:n}=e.palette;return d.jsxs("div",{className:"grid mt-2",children:[d.jsx("p",{className:"p-2 font-bold",children:"Links"}),t.map((r,s)=>d.jsx("a",{href:r.link,target:"_blank",children:d.jsxs(Y,{className:`p-1  cursor-pointer min-h-14 flex gap-x-1 items-center font-bold border-slate-300 border-t ${s===t.length-1&&"border-b"} ${n==="light"?"border-slate-200 hover:bg-slate-50 text-blue-600":"border-slate-700 hover:bg-slate-700 text-blue-500"} `,children:[d.jsx(Vh,{}),d.jsx("div",{children:d.jsx("p",{className:"underline",children:r.title})})]})},`${s}-${r.link}`))]})};async function G_(t,e,n,r=null,s){const i=br.get("userId");try{const o=Ve(be,"notifications"),a={uid:i,postId:s,type:t,[e]:n,timestamp:dr(),comment:r};await xl(o,a)}catch(o){console.log(o.message)}}const OV=({post:t,collectionName:e})=>{const{id:n}=t;_t().palette;const s=Et(),[i,o]=g.useState(null),[a,l]=g.useState(null),{userId:c}=g.useContext(we),[u,h]=g.useState(!1),[f,p]=g.useState(!1),m=e==="posts";Ve(Ce(be,e,n),"comments");const v=Ve(Ce(be,e,n),"likes"),[E,y]=g.useState(!1),w=async(x,b)=>{const C=Ve(Ce(be,e,n),x);console.log("Fetching counts...");const T=await U5(C);b(T.data().count)};g.useEffect(()=>{(async()=>{await w("likes",o),await w("comments",l)})()},[]),g.useEffect(()=>{(async()=>{const b=zn(v,_l("uid","==",c)),C=await ci(b);y(!C.empty)})()},[]);const _=async()=>{try{const x=async()=>{await w("likes",o)},b=Ce(v,c),C={uid:c,timestamp:dr()};E?(y(!1),await mo(b),x()):(y(!0),await wl(b,C),x(),G_(["like",m?"post":"test"],m?"description":"testName",m?t.description:t.name,null,n))}catch(x){console.log(x.message)}};return d.jsxs("div",{className:"mt-2",children:[d.jsxs(Y,{className:"transition-all mb-1 flex justify-between pl-2 pr-2",children:[d.jsx(ke,{size:"small",sx:{textDecoration:"underline",textTransform:"capitalize"},variant:u?"outlined":"text",onClick:()=>{s(`/app/${m?"posts":"tests"}/${m?"sp":"st"}/${n}`)},children:d.jsxs("span",{children:[i||0," ",i>1?"Likes":"Like"]})}),d.jsxs(ke,{size:"small",variant:f?"outlined":"text",sx:{textDecoration:"underline",textTransform:"capitalize"},onClick:()=>{s(`/app/${m?"posts":"tests"}/${m?"sp":"st"}/${n}`)},children:[a||0," ",a>1?"Comments":"Comment"]})]}),d.jsxs(Y,{className:"p-2 shadow-lg border-t pt-2 flex gap-x-2",children:[d.jsx(Pe,{title:E?"Unlike":"Like",arrow:!0,children:d.jsx(qe,{color:"error",size:"small",sx:{textTransform:"capitalize"},onClick:_,children:E?d.jsx(B1,{}):d.jsx(UT,{})})}),d.jsx(ke,{size:"small",sx:{textTransform:"capitalize"},onClick:()=>{s(`/app/${m?"posts":"tests"}/${m?"sp":"st"}/${n}`)},startIcon:d.jsx(h_e,{}),children:"Comment"})]})]})},cS=()=>d.jsxs("div",{className:"border border-slate-200 rounded-md shadow-md",children:[d.jsxs("div",{className:"flex gap-x-2 pl-2 pr-2 items-center",children:[d.jsx(le,{variant:"circular",width:35,height:35}),d.jsx(le,{width:"40%",height:50,variant:"text"})]}),d.jsxs("div",{className:"pl-2 pr-2",children:[d.jsx(le,{width:"100%"}),d.jsx(le,{width:"60%"})]}),d.jsxs("div",{className:"flex gap-x-1 pl-2 pr-2",children:[d.jsx(le,{height:100,width:"20%"}),d.jsx(le,{height:100,width:"20%"}),d.jsx(le,{height:100,width:"20%"})]}),d.jsxs("div",{className:"flex items-center gap-x-2 pl-2 pr-2 pb-1",children:[d.jsx(le,{width:70,animation:"wave",variant:"rounded",height:30}),d.jsx(le,{width:70,animation:"wave",variant:"rounded",height:30})]})]}),vEe=({post:t,setViewingImage:e})=>{var f,p;const{users:n,openSnackbar:r,userData:s}=g.useContext(we),[i,o]=g.useState(null),[a,l]=g.useState(!0);_t().palette;const u=Et(),h=s!=null&&s.isAdmin?{text:"Edit Post",icon:d.jsx(Vs,{}),onClick:()=>{u("/app/admin/posts/")}}:null;return Bn(t.uid,n,o,l,[],1200),a?d.jsx(cS,{}):d.jsxs(Y,{bgcolor:"background.default",color:"text.primary",className:"border border-slate-300 shadow-lg rounded-md",sx:{width:"full"},children:[d.jsxs(Y,{className:"top-section flex justify-between  mb-2 p-2",children:[d.jsxs(Y,{className:"flex gap-x-2",children:[d.jsx(Pe,{title:`View ${i&&i.name}'s profile`,arrow:!0,placement:"top",children:d.jsx("div",{className:"cursor-pointer",onClick:()=>u(`/app/profile/${i.uid}`),children:d.jsx("img",{className:"size-10 rounded-full shadow-md object-cover cursor-pointer",src:i?i.image:"images/sea-logo.jpg"})})}),d.jsxs(Y,{children:[d.jsx(Pe,{title:`View ${i&&i.name}'s profile`,arrow:!0,placement:"top",children:d.jsx(ge,{onClick:()=>u(`/app/profile/${i.uid}`),variant:"h6",fontSize:"1rem",sx:{cursor:"pointer"},children:i?i.name:"Unknown User"})}),d.jsx(ge,{variant:"caption",children:Fl(Gr(t.time))})]})]}),d.jsx(Y,{children:d.jsx(vu,{options:[{text:"Copy link",icon:d.jsx(Vh,{}),onClick:()=>{const m=`${location.origin}/#/app/posts/sp/${t.id}`;navigator.clipboard.writeText(m),r("Link copied successfully")}},h],isComment:!0})})]}),(t==null?void 0:t.description)&&d.jsx(ge,{p:1,children:t.description}),t.images.length!==0?d.jsx(Id,{container:!0,spacing:1,className:" p-0",sx:{p:1},children:d.jsx(DV,{post:t,setViewingImage:e})}):"",t.files&&((f=t==null?void 0:t.files)==null?void 0:f.length)!==0&&d.jsx(LV,{files:t.files}),(t==null?void 0:t.links)&&((p=t==null?void 0:t.links)==null?void 0:p.length)!==0&&d.jsx(MV,{links:t.links}),d.jsx(OV,{post:t,collectionName:"posts"})]})},yEe=()=>{const{setHeaderTitle:t}=g.useContext(we),[e,n]=g.useState([]);Et();const r=Ve(be,"posts"),[s,i]=g.useState(!0),[o,a]=g.useState(!1),[l,c]=g.useState(null),[u,h]=g.useState(0),[f,p]=g.useState(null),[m,v]=g.useState(!0),E=6,[y,w]=g.useState(null);g.useEffect(()=>{t("STAR EDUCATION ACADEMY")},[]);const _=async()=>{i(!0);let x=zn(r,Hc("time","desc"),po(E));y&&(x=zn(x,em(y)));try{const b=await ci(x);if(b.empty)a(!0);else{const C=b.docs.map(T=>({id:T.id,...T.data()}));n([...e,...C]),w(b.docs[b.docs.length-1]),Vn(i),h(u+1),C.length<E&&v(!1)}}catch(b){const C="Error fetching posts: "+b.message;console.log(C),i(!1),c(C)}};return g.useEffect(()=>{_()},[]),um("posts-page"),s&&u===0?d.jsx(vs,{isLoading:s,text:"Loading posts..."}):o?d.jsx(Mt,{text:"No posts available"}):l?d.jsx(Mt,{text:l}):d.jsxs(Y,{children:[d.jsx(aS,{}),d.jsxs("div",{className:"grid gap-y-6 m-2",children:[f&&d.jsx(lS,{image:f,setViewingImage:p,postImage:!0}),e.sort((x,b)=>mi(x,b,"time","newer")).map(x=>d.jsx(vEe,{setViewingImage:p,post:x},x.id))]}),m?d.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:d.jsx(ke,{size:"small",onClick:_,children:"load more"})}):""]})},uS=()=>d.jsxs("div",{className:"border border-slate-200 rounded-md shadow-md",children:[d.jsxs("div",{className:"flex gap-x-2 pl-2 pr-2 items-center",children:[d.jsx(le,{variant:"circular",width:35,height:35}),d.jsx(le,{width:"40%",height:50,variant:"text"})]}),d.jsxs("div",{className:"pl-2 pr-2",children:[d.jsx(le,{width:"100%"}),d.jsx(le,{width:"60%"})]}),d.jsx("div",{className:"flex gap-x-1 justify-center pl-2 pr-2",children:d.jsx(le,{height:100,width:"30%"})}),d.jsxs("div",{className:"flex items-center gap-x-2 pl-2 pr-2 pb-1",children:[d.jsx(le,{width:70,animation:"wave",variant:"rounded",height:30}),d.jsx(le,{width:70,animation:"wave",variant:"rounded",height:30})]})]}),_Ee=()=>{const{tests:t,setTests:e,setHeaderTitle:n,startTimer:r}=g.useContext(we);Et();const s=Ve(be,"tests"),[i,o]=g.useState(!0),[a,l]=g.useState(!1),[c,u]=g.useState(null);Nh(s,[],e,o,l,!1,u,500),g.useEffect(()=>{n("Tests")},[]);const h=()=>{r()};return um("tests-page"),Vy("tests-page"),i?d.jsx(vs,{isLoading:i,text:"Loading tests..."}):a?d.jsx(Mt,{text:"No tests available"}):c?d.jsx(Mt,{text:c}):d.jsx("div",{className:"grid gap-y-6 mb-2 m-2",children:t.sort((f,p)=>mi(f,p,"timestamp","newer")).map(f=>d.jsx(wEe,{takeTest:h,t:f},f.id))})},wEe=({t,takeTest:e})=>{const{users:n,openSnackbar:r,userData:s}=g.useContext(we),[i,o]=g.useState(null),[a,l]=g.useState(!0),c=Et(),u=_t(),{mode:h}=u.palette;Bn(t.uid,n,o,l);const f=s!=null&&s.isAdmin?{text:"Edit Test",icon:d.jsx(Vs,{}),onClick:()=>{c("/app/admin/tests/")}}:null;return a?d.jsx(uS,{}):d.jsxs(Y,{bgcolor:"background.default",color:"text.primary",className:`${h==="dark"?"border-slate-700":"border-slate-200"} flex flex-col justify-between min-h-60 border shadow-md rounded-md bg-gradient-to-tr`,children:[d.jsx(aS,{}),d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("div",{className:"flex gap-x-2 mb-2 p-2",children:[d.jsx(Pe,{title:`View ${i&&i.name}'s profile`,arrow:!0,placement:"top",children:d.jsx("div",{className:"cursor-pointer",onClick:()=>c(`/app/profile/${i.uid}`),children:d.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:i==null?void 0:i.image})})}),d.jsxs("div",{children:[d.jsx(Pe,{title:`View ${i&&i.name}'s profile`,arrow:!0,placement:"top",children:d.jsx(ge,{onClick:()=>c(`/app/profile/${i.uid}`),variant:"h6",fontSize:"1rem",sx:{cursor:"pointer"},children:i==null?void 0:i.name})}),d.jsx("div",{className:" text-sm",children:Fl(Gr(t.time))})]}),d.jsxs("span",{className:`rounded-md border  text-sm text-gray-400 flex items-center p-1 ${h==="dark"?"border-slate-700":"border-slate-200"}`,children:[t.quizzes.length,t.quizzes.length>1?" questions":" question"]})]}),d.jsx(Y,{children:d.jsx(vu,{options:[{text:"Copy link",icon:d.jsx(Vh,{}),onClick:()=>{const p=`${location.origin}/#/app/tests/st/${t.id}`;navigator.clipboard.writeText(p),r("Link copied successfully")}},f],isComment:!0})})]}),t.image&&d.jsx("div",{className:"m-2 flex justify-center p-2",children:d.jsx("img",{className:"h-[250px]",src:`images/tests/${t.image}`})}),d.jsxs("div",{className:`${h==="dark"?"border-slate-700":"border-slate-200"} p-2 rounded-bl-lg rounded-br-lg border-t shadow-t-md`,children:[d.jsx("div",{className:"font-medium text-lg",children:t.name}),d.jsx("p",{className:" mb-2 break-words white-space-pre-wrap",children:t.description.trim()||"No description"}),d.jsx(ke,{sx:{textDecoration:"underline"},size:"small",onClick:()=>{e(),c(`/app/tests/${t.id}`)},children:"Take the test"})]}),d.jsx(OV,{post:t,collectionName:"tests"})]})},xEe=({data:t})=>{const{pageTitle:e,currentPage:n,totalPage:r,percentage:s,answerLength:i,questionsLength:o}=t,{stopTest:a,formattedTime:l}=g.useContext(we),c=Et(),[u,h]=g.useState(!1),f=()=>{a(),h(!1),c("/app/tests")},p=()=>{h(!1)};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:" font-medium text-lg flex items-center justify-start",children:[d.jsx(Pe,{title:"Navigate up",arrow:!0,children:d.jsx(qe,{onClick:()=>h(!0),children:d.jsx(fu,{})})}),d.jsx("div",{className:"ml-2 ",children:e}),d.jsx(da,{data:{value:u,yesButton:f,noButton:p,text:"Are you sure to stop the test ?",setValue:h}})]}),d.jsxs("div",{className:"flex justify-between items-center sticky left-0 pt-1 right-0 z-10 ",children:[d.jsxs("div",{children:["Page ",n," of ",r]}),d.jsxs("div",{className:"w-2/3 border h-7 relative",children:[d.jsx("div",{style:{width:`${s}%`},className:"text-center h-full"}),d.jsxs("div",{className:"absolute top-0 left-2 font-medium",children:[i," ","/"," ",o]})]}),d.jsx("div",{className:"min-h-12 font-medium fixed right-0 top-1/4 h-10 min-w-20 bg-lime-200/50 backdrop-blur-lg flex items-center justify-center rounded-bl-lg rounded-tl-lg border-r-4 border-r-blue-400",children:l})]})]})},EEe=({data:t})=>{const{currentQuestions:e,chooseAnswer:n,answeredQuestions:r}=t;return d.jsx("div",{children:e==null?void 0:e.map((s,i)=>d.jsxs("div",{children:[d.jsxs("div",{className:"grid gap-y-2",children:[d.jsxs("div",{className:"flex gap-x-3 items-center",children:[d.jsx("div",{className:"bg-blue-600 rounded-sm shadow-lg h-9 w-9 text-white font-bold flex justify-center items-center ",children:s.id}),d.jsx("div",{className:"flex-1 font-padauk",children:s.question})]}),d.jsx("div",{className:"grid gap-y-2",children:s.choices.map((o,a)=>{let l,c=!1;return r.forEach(u=>{s.id===u.id&&(l=u)}),(l==null?void 0:l.userAnswer)===o&&(c=!0),d.jsxs("div",{onClick:()=>{n(s.id,o)},className:"border  h-12 flex gap-x-3 p-2 cursor-pointer items-center rounded-lg font-padauk",children:[d.jsx("input",{onChange:()=>{n(s.id,o)},className:"h-5 w-5",name:`question-${s.id}`,type:"radio",checked:!!c}),d.jsx("div",{children:o})]},`choice-${s.id}-${a}-${o}`)})})]}),d.jsx(CEe,{})]},`question-${s.id}-${i}-${s.question}`))})},CEe=()=>d.jsx("div",{className:" border border-dashed border-gray-500 mb-7 mt-7"}),bEe=()=>d.jsxs("div",{className:"flex gap-x-2 items-center",children:[d.jsx("img",{className:"w-8 ",src:Ur("error")}),d.jsx("div",{className:"text-red-600 font-bold",children:"You need to answer all questions before proceeding!"})]});function IEe(t,e,n){const r=e.name,s=TEe(t,e.quizzes),i=SEe(s),o=t.length,a=e.gradingRules.length!==0?kEe(i,e.gradingRules)||"There is an error in your grading rules":"Level is not defined",l=REe(),c=AEe();return{testName:r,results:s,score:i,totalScore:o,level:a,date:l,time:c,timeTaken:n}}function TEe(t,e){return e.map(r=>{const{id:s,question:i,answer:o}=r;let a;t.forEach(c=>{s===c.id&&(a=c)});const{userAnswer:l}=a;return l===r.answer?{id:s,question:i,userAnswer:l,answer:o,isTrue:!0}:{id:s,question:i,userAnswer:l,answer:o,isTrue:!1}})}function SEe(t){let e=0;return t.forEach(n=>{n.isTrue&&e++}),e}function kEe(t,e){let n;try{e.forEach(r=>{t>=Number(r.from)&&t<=Number(r.to)&&(n=r.level)})}catch(r){console.log(r.message)}return n}function REe(){const t=new Date,e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return`${e}/${n}/${r}`}function AEe(){const t=new Date;let e=t.getHours();const n=t.getMinutes(),r=e>12?"PM":"AM";e=e%12||12;const s=n<10?`0${n}`:n;return`${e}:${s} ${r}`}const PEe=({data:t})=>{const{nextPage:e,prevPage:n,isEnded:r,startIndex:s,currentTest:i,answeredQuestions:o,testId:a}=t,{formattedTime:l,stopTest:c,userId:u}=g.useContext(we),h=Et(),f=async()=>{try{const m=Ve(Ce(be,"users",u),"history"),v=IEe(o,i,l),E=await xl(m,v),y=(await Li(E)).id;h(`/app/history/${y}`)}catch(m){console.log(m.message)}},p=async()=>{await f(),c(),G_(["took","test"],"testName",i.name,null,a)};return d.jsxs("div",{className:"flex justify-center gap-x-5",children:[s!==0&&d.jsx(ke,{variant:"outlined",size:"small",onClick:n,startIcon:d.jsx(fu,{}),children:"Previous"}),r?d.jsx(ke,{variant:"outlined",size:"small",onClick:p,startIcon:d.jsx(p_e,{}),children:"Finish"}):d.jsx(ke,{variant:"outlined",size:"small",onClick:e,startIcon:d.jsx(d_e,{}),children:"Next"})]})},NEe=()=>{var j,A;g.useContext(we);const{testId:t}=Pl(),[e,n]=g.useState([]),[r,s]=g.useState(null),[i,o]=g.useState(!0),[a,l]=g.useState(!1),[c,u]=g.useState(null),[h,f]=g.useState(!1);g.useEffect(()=>{(async()=>{try{o(!0);const O=Ce(be,"tests",t),$=await Li(O);$.exists()?(s($.data()),Vn(o,1200)):(Vn(o),l(!0))}catch(O){Vn(o,1200),u("Failed to fetch current test: "+O.message)}})()},[]);const p=e==null?void 0:e.length,m=(j=r==null?void 0:r.quizzes)==null?void 0:j.length,[v,E]=g.useState(0),[y,w]=g.useState(!1),[_,x]=g.useState(!1),b=10;let C=(A=r==null?void 0:r.quizzes)==null?void 0:A.slice(v,v+b);const T=r==null?void 0:r.name,I=Math.ceil(m/b),S=Math.ceil((v+b)/b),R=Math.round(p/m*100);g.useEffect(()=>(ei(),ei()),[]),g.useEffect(()=>{p===m&&v+b>=m?w(!0):w(!1)},[v,e]),g.useEffect(()=>{p>=v+b?x(!0):x(!1)},[e,v]);const D={pageTitle:T,currentPage:S,totalPage:I,percentage:R,answerLength:p,questionsLength:m,answeredQuestions:e,currentQuestions:C,isEnded:y,chooseAnswer:(P,O)=>{const $=Xle(P,e);n($?e.map(F=>P===F.id?{id:P,userAnswer:O}:F):[...e,{id:P,userAnswer:O}])},nextPage:()=>{_?(E(v+b),p<=v+b&&ei()):Jle(f)},prevPage:()=>{E(Math.max(v-b,0))},startIndex:v,currentTest:r,testId:t};return i?d.jsx(vs,{isLoading:i,text:"Loading test..."}):a?d.jsx(Mt,{text:"No test available"}):c?d.jsx(Mt,{text:h}):d.jsxs("div",{className:"p-3 grid gap-y-3",children:[d.jsx(xEe,{data:D}),d.jsx(EEe,{data:D}),h&&d.jsx(bEe,{}),d.jsx(PEe,{data:D})]})},DEe=({members:t})=>d.jsxs("div",{className:"p-2 grid gap-y-2 ",children:[d.jsx("p",{className:"text-lg font-bold",children:"Members"}),d.jsx(Y,{className:"border rounded-md shadow-lg border-slate-200",children:t.sort((e,n)=>mi(e,n,"joinedAt","newer")).map((e,n)=>d.jsx("div",{className:`p-2 flex gap-x-2 items-center border-t ${t.length===n&&"border-b"} ${n===0&&"border-t-0"}`,children:d.jsx(LEe,{member:e})},e.uid+e.joinedAt))})]}),LEe=({member:t})=>{const{users:e}=g.useContext(we),[n,r]=g.useState(null),[s,i]=g.useState(!0),[o,a]=g.useState("offline"),[l,c]=g.useState(null),u=Et();jy(t.uid,a,c),Bn(t.uid,e,r,i);const h=()=>{u(`/app/profile/${n==null?void 0:n.uid}`)};return s?d.jsx(zh,{}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative",children:[d.jsx(Pe,{arrow:!0,placement:"top",title:`View ${n==null?void 0:n.name}'s profile`,children:d.jsx("div",{onClick:h,className:"cursor-pointer",children:d.jsx(ys,{image:n==null?void 0:n.image,name:n==null?void 0:n.name})})}),d.jsx("div",{className:"size-[16px] bg-white rounded-full flex justify-center items-center absolute bottom-0 right-0",children:d.jsx("div",{className:` size-3 rounded-full ${o==="online"?"bg-green-500":"bg-gray-500"}`})})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx(Pe,{arrow:!0,placement:"top",title:`View ${n==null?void 0:n.name}'s profile`,children:d.jsxs(ge,{onClick:h,sx:{cursor:"pointer"},variant:"h6",fontSize:"0.9rem",children:[n==null?void 0:n.name," ",n!=null&&n.isAdmin?d.jsx(ge,{variant:"caption",children:"(admin)"}):""]})}),d.jsx("p",{}),d.jsx("p",{className:`text-sm ${o==="online"?"text-blue-500":"text-gray-500"}`,children:o==="online"?"Online":l})]})]})},jV=({pageName:t,setSubPage:e,currentChat:n,infoPage:r,memberCounts:s,onlineUsers:i})=>{var c;const o=Et(),a=_t(),{mode:l}=a.palette;return d.jsx(O$,{sx:{backgroundColor:l==="dark"?"background.default":"white",color:"text.primary"},children:d.jsxs(_F,{className:`h-[70px] z-30 p-2 min-h-10 pb-2 flex items-center justify-between gap-x-1 ${l==="dark"?"border-slate-700":"border-slate-200"} border-b `,children:[d.jsxs("div",{className:"flex items-center gap-x-1",children:[d.jsx("div",{children:d.jsx(Pe,{title:"Navigate up",arrow:!0,children:d.jsx(qe,{onClick:()=>{r?e(t):o("/app/chatroom")},children:d.jsx(l_e,{})})})}),d.jsxs("div",{onClick:()=>e(t),className:"cursor-pointer",children:[d.jsx(ge,{variant:"h6",fontSize:"1.1rem",children:n.name}),d.jsxs("div",{className:"flex items-center",children:[s?d.jsxs("p",{className:"text-sm ",children:[s," ",s<=1?"member":"members"]}):d.jsx(le,{height:40,width:100}),i?d.jsxs(ge,{variant:"caption",children:[", "," ",i," online"]}):d.jsx(le,{height:40,width:60})]})]})]}),d.jsx("button",{onClick:()=>e(t),children:d.jsx("img",{src:((c=n==null?void 0:n.image)==null?void 0:c.URL)||"images/sea-logo.jpg",alt:"group-image",className:"size-12 rounded-full object-center object-cover "})})]})})},MEe=({setSubPage:t,currentChat:e,memberCounts:n,setMemberCounts:r,members:s,setMembers:i,onlineUsers:o})=>{var I;const{chatId:a}=Pl(),{users:l,userData:c}=g.useContext(we);_t().palette;const h=Ce(be,"chats",a),[f,p]=g.useState(""),[m,v]=g.useState(null),E=Ce(be,"chats",a),y=Ve(E,"members");g.useEffect(()=>{p(e.name)},[e]);const w=S=>{let R=!1;return s.forEach(k=>{k.uid===S&&(R=!0)}),R},_=async S=>{let R=!1;const k=zn(y,_l("uid","==",S),po(1));return console.log("Checking if a member..."),R=!(await ci(k)).empty,R};g.useEffect(()=>$i(y,N=>{N.empty||((async()=>await lo(y,r))(),i(N.docs.map(D=>({...D.data(),id:D.id}))))}),[]);const x=async S=>{try{const R=Ce(y,S);await _(S)||await wl(R,{uid:S,joinedAt:dr()})}catch(R){console.log(R.message)}},b=async S=>{try{const R=Ce(y,S);await mo(R)}catch(R){console.log(R.message)}},C=async()=>{if(!m)return;const S=`chats/${e.id}/groupImage-${m.name}`,R=Bo(storage,S),k=await Ln(m,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),N=await Gd(R,k),M=await qd(N.ref),D={name:m.name,path:S,URL:M,size:k.size};await er(h,{image:D})},T=async()=>{f.trim()&&await er(h,{name:f})};if(g.useEffect(()=>{C()},[m]),g.useEffect(()=>{scrollTo({top:0})},[]),e)return d.jsxs("div",{className:"",children:[d.jsx(jV,{pageName:"chat",infoPage:!0,setSubPage:t,currentChat:e,memberCounts:n,onlineUsers:o}),(c==null?void 0:c.isAdmin)&&d.jsxs(Y,{className:"p-2 m-1 mt-4 shadow-md border rounded-md border-slate-200",children:[d.jsx("input",{id:"imageInput",className:"hidden",type:"file",accept:"image/*",onChange:S=>v(S.target.files[0])}),d.jsxs("div",{className:"relative size-24",children:[d.jsx("img",{src:((I=e==null?void 0:e.image)==null?void 0:I.URL)||"images/sea-logo.jpg",className:"size-24 rounded-full object-cover object-center bg-cover"}),d.jsx("label",{htmlFor:"imageInput",className:" p-1 size-7 rounded-full absolute -bottom-1 -right-1 cursor-pointer ",children:d.jsx(Vs,{fontSize:"15px"})})]}),d.jsxs("div",{className:"mt-2 ",children:[d.jsx("p",{children:"Group Name"}),d.jsxs("div",{className:"flex gap-x-2 items-center",children:[d.jsx(Fn,{size:"small",value:f,onChange:S=>p(S.target.value),placeholder:"Enter group name..."}),d.jsx(qe,{size:"small",onClick:T,children:d.jsx(Em,{fontSize:"18px"})})]})]})]}),s&&d.jsx(DEe,{members:s}),(c==null?void 0:c.isAdmin)&&d.jsxs("div",{className:"p-2 grid gap-y-2 ",children:[d.jsx("p",{className:"text-lg font-bold",children:"Manage Members"}),d.jsx(Y,{className:"border rounded-md shadow-lg border-slate-200",children:l.sort((S,R)=>mi(S,R,"createdAt","newer")).map((S,R)=>d.jsx(OEe,{user:S,i:R,members:s,addMember:x,removeMember:b,isAMember:w},S.name+" "+S.image+R))})]})]})},OEe=({user:t,i:e,members:n,isAMember:r,removeMember:s,addMember:i})=>{const[o,a]=g.useState("offline"),[l,c]=g.useState(null),u=Et();jy(t.uid,a,c);const h=()=>{u(`/app/profile/${t==null?void 0:t.uid}`)};return d.jsxs("div",{className:`p-2 flex justify-between gap-x-2 items-center border-t border-slate-200 ${(n==null?void 0:n.length)===e&&"border-b"} ${e===0&&"border-t-0"} `,children:[d.jsxs("div",{className:"flex gap-x-2 items-center",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Pe,{arrow:!0,placement:"top",title:`View ${t==null?void 0:t.name}'s profile`,children:d.jsx("div",{onClick:h,className:"cursor-pointer",children:d.jsx(ys,{image:t==null?void 0:t.image,name:t==null?void 0:t.name})})}),d.jsx("div",{className:"size-[16px] bg-white rounded-full flex justify-center items-center absolute bottom-0 right-0",children:d.jsx("div",{className:` size-3 rounded-full ${o==="online"?"bg-green-500":"bg-gray-500"}`})})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx(Pe,{arrow:!0,placement:"top",title:`View ${t==null?void 0:t.name}'s profile`,children:d.jsx(ge,{onClick:h,sx:{cursor:"pointer"},variant:"h6",fontSize:"0.9rem",children:t==null?void 0:t.name})}),d.jsx("p",{className:`text-sm ${o==="online"?"text-blue-500":"text-gray-500"}`,children:o==="online"?"Online":l})]})]}),d.jsx("div",{children:r(t.uid)?!t.isAdmin&&d.jsx(Pe,{title:`Remove ${t.name}`,arrow:!0,placement:"left",children:d.jsx(qe,{size:"small",onClick:()=>s(t.uid),children:d.jsx(pu,{})})}):d.jsx(Pe,{title:`Add ${t.name}`,arrow:!0,placement:"left",children:d.jsx(qe,{size:"small",onClick:()=>i(t.uid),children:d.jsx($_,{})})})})]})},jEe=[{name:"like",image:"facebookLike"},{name:"love",image:"facebookLove"},{name:"haha",image:"facebookHaha"},{name:"wow",image:"facebookWow"},{name:"sad",image:"facebookSad"},{name:"angry",image:"facebookAngry"}],$Ee=({chatId:t,message:e,setReactedUsers:n})=>{g.useState(!1);const[r,s]=g.useState([]),i=Ve(Ce(Ve(Ce(be,"chats",t),"messages"),e.id),"reactedBy"),{userId:o}=g.useContext(we),a=_t(),{mode:l}=a.palette,c=()=>$i(i,m=>{if(m.empty)s([]);else{const v=m.docs.map(E=>E.data());s(v)}});g.useEffect(()=>{const p=c();return()=>{p&&p()}},[]);const u=async()=>{const p=Ce(i,o);await mo(p)},h=p=>{let m=!1;return r.forEach(v=>{v.reactionType===p&&(m=!0)}),m},f=jEe.filter(p=>h(p.name));if(r.length!==0)return d.jsx("div",{children:d.jsx(Pe,{arrow:!0,title:r.length===1?"1 reaction":`${r.length} reactions`,children:d.jsxs("button",{onClick:()=>n({reactedBy:r,removeReaction:u}),className:`mt-2 border ${l==="light"?"border-slate-200 ":"border-slate-700"}  p-1 rounded-lg flex justify-center items-center text-sm`,children:[f.map((p,m)=>d.jsx("img",{className:"w-4 ml-[-3px]",src:Ur(p.image)},`reaction-${p.name}-${m}`)),d.jsx("span",{className:"ml-1",children:r.length})]})})})};function _C(t){return new Date(t).toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0})}const FEe=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,VEe=/[\0-\x1F\x7F-\x9F]/,UEe=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,zEe=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/;function BEe(t){const e={};t=t||{},e.src_Any=FEe.source,e.src_Cc=VEe.source,e.src_Z=zEe.source,e.src_P=UEe.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><｜]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function wC(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){t[r]=n[r]})}),t}function q_(t){return Object.prototype.toString.call(t)}function WEe(t){return q_(t)==="[object String]"}function HEe(t){return q_(t)==="[object Object]"}function GEe(t){return q_(t)==="[object RegExp]"}function OP(t){return q_(t)==="[object Function]"}function qEe(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const $V={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function YEe(t){return Object.keys(t||{}).reduce(function(e,n){return e||$V.hasOwnProperty(n)},!1)}const KEe={"http:":{validate:function(t,e,n){const r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},QEe="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",XEe="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function JEe(t){t.__index__=-1,t.__text_cache__=""}function ZEe(t){return function(e,n){const r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}function jP(){return function(t,e){e.normalize(t)}}function J1(t){const e=t.re=BEe(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(QEe),n.push(e.src_xn),e.src_tlds=n.join("|");function r(a){return a.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");const s=[];t.__compiled__={};function i(a,l){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+l)}Object.keys(t.__schemas__).forEach(function(a){const l=t.__schemas__[a];if(l===null)return;const c={validate:null,link:null};if(t.__compiled__[a]=c,HEe(l)){GEe(l.validate)?c.validate=ZEe(l.validate):OP(l.validate)?c.validate=l.validate:i(a,l),OP(l.normalize)?c.normalize=l.normalize:l.normalize?i(a,l):c.normalize=jP();return}if(WEe(l)){s.push(a);return}i(a,l)}),s.forEach(function(a){t.__compiled__[t.__schemas__[a]]&&(t.__compiled__[a].validate=t.__compiled__[t.__schemas__[a]].validate,t.__compiled__[a].normalize=t.__compiled__[t.__schemas__[a]].normalize)}),t.__compiled__[""]={validate:null,normalize:jP()};const o=Object.keys(t.__compiled__).filter(function(a){return a.length>0&&t.__compiled__[a]}).map(qEe).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+o+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+o+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),JEe(t)}function eCe(t,e){const n=t.__index__,r=t.__last_index__,s=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=s,this.text=s,this.url=s}function xC(t,e){const n=new eCe(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function Ls(t,e){if(!(this instanceof Ls))return new Ls(t,e);e||YEe(t)&&(e=t,t={}),this.__opts__=wC({},$V,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=wC({},KEe,t),this.__compiled__={},this.__tlds__=XEe,this.__tlds_replaced__=!1,this.re={},J1(this)}Ls.prototype.add=function(e,n){return this.__schemas__[e]=n,J1(this),this};Ls.prototype.set=function(e){return this.__opts__=wC(this.__opts__,e),this};Ls.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,r,s,i,o,a,l,c,u;if(this.re.schema_test.test(e)){for(l=this.re.schema_search,l.lastIndex=0;(n=l.exec(e))!==null;)if(i=this.testSchemaAt(e,n[2],l.lastIndex),i){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+i;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(o=r.index+r[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(u=e.indexOf("@"),u>=0&&(s=e.match(this.re.email_fuzzy))!==null&&(o=s.index+s[1].length,a=s.index+s[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a))),this.__index__>=0};Ls.prototype.pretest=function(e){return this.re.pretest.test(e)};Ls.prototype.testSchemaAt=function(e,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,r,this):0};Ls.prototype.match=function(e){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(xC(this,r)),r=this.__last_index__);let s=r?e.slice(r):e;for(;this.test(s);)n.push(xC(this,r)),s=s.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};Ls.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const r=this.testSchemaAt(e,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,xC(this,0)):null};Ls.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,s,i){return r!==i[s-1]}).reverse(),J1(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,J1(this),this)};Ls.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};Ls.prototype.onCompile=function(){};const tCe=({message:t,messages:e,deleteMessage:n,setMessage:r,setImageObject:s,setEditMessageObject:i,setViewingImage:o,setReplyMessage:a,chatId:l,messagesRef:c,messageIndex:u,viewingOldMessages:h,setSeenUsers:f,setMessageOption:p,setReactedUsers:m,index:v})=>{var j;const{userData:E,userId:y}=g.useContext(we),w=_t(),{mode:_}=w.palette,x=y===t.senderId,b=(t==null?void 0:t.seenBy)&&t.seenBy.length>0,C=g.useRef(!1),[T,I]=g.useState(!1),S=A=>{I(A)},R={...t,index:u},k=x?{text:"Edit",icon:d.jsx(Vs,{}),onClick:()=>{i(R),r(t.content),s(t==null?void 0:t.image),a(t==null?void 0:t.reply)}}:null,N=x||E!=null&&E.isAdmin?{text:"Delete",icon:d.jsx(pu,{}),onClick:()=>{n(t,u)}}:null,M=()=>{let A=!1;return((t==null?void 0:t.seenBy)||[]).forEach(O=>{y===O.uid&&(A=!0)}),A},D=()=>v>=e.length-5&&v<=e.length-1;return g.useEffect(()=>{t&&(async()=>{const P=Ce(c,t.id);if(!C.current&&(console.log(!M()),!M()&&!x&&D()&&!h))try{await er(P,{seenBy:wE({uid:y,timestamp:new Date().getTime()})}),C.current=!0}catch(O){console.error("Error marking message as seen: ",O)}})()},[]),d.jsxs(Y,{onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),className:`${_==="dark"?"hover:bg-slate-700 border-slate-700/50":"hover:bg-slate-100 border-slate-200"}  rounded-md flex mb-1 gap-x-2 pt-2 pb-2   ${x?"flex-row-reverse":""} `,children:[d.jsx(nCe,{senderId:t.senderId}),d.jsx("div",{className:"grid gap-y-1 whitespace-pre-wrap ",children:d.jsxs("div",{className:`flex  items-start gap-x-1 ${x?"flex-row-reverse justify-start":""}`,children:[d.jsx("div",{className:"relative",children:d.jsxs("div",{className:`min-w-[200px] max-w-[300px]  shadow-md border border-slate-300 ${x?"justify-start":"fdbg-white  "} grid min-w-20 break-words whitespace-pre-wrap text-wrap rounded-[10px] border-slate-200 p-3 pb-0 `,children:[d.jsx(rCe,{senderId:t.senderId,isYourMessage:x}),(t==null?void 0:t.reply)&&d.jsx(sCe,{message:t,setViewingImage:o}),d.jsx(FV,{content:t.content,isYourMessage:x}),(t==null?void 0:t.image)&&d.jsx("img",{onClick:()=>{o(t.image)},className:"cursor-pointer mt-1 mb-1 rounded-md max-h-[200px] overflow-hidden  ",alt:t.image.name,src:t.image.URL}),d.jsx($Ee,{chatId:l,message:t,setReactedUsers:m}),d.jsx("div",{className:`flex  ${x?"flex-row-reverse":""} gap-x-1 items-center mt-1`,children:d.jsxs("p",{className:`  mt-1 p-1 text-sm text-gray-400 text-sm flex gap-x-1 items-center ${x?"text-right":""}`,children:[t!=null&&t.editedTime?d.jsxs("span",{children:["edited ",_C(Gr(t.editedTime))]}):d.jsx("span",{children:_C(Gr(t.timestamp))}),b?d.jsx(Pe,{title:t.seenBy.length==1?"Seen by 1 user":"Seen by "+t.seenBy.length+" users",arrow:!0,children:d.jsx(ke,{size:"small",startIcon:d.jsx(WT,{}),onClick:()=>{f(t.seenBy)},className:"flex gap-x-1 items-center",children:(j=t==null?void 0:t.seenBy)==null?void 0:j.length})}):""]})})]})}),T&&d.jsx(Pe,{title:"More options",arrow:!0,children:d.jsx(qe,{onClick:()=>p({...t,options:[k,N,{text:"Reply",icon:d.jsx(R_e,{}),onClick:()=>a(t)}]}),children:d.jsx(CF,{})})})]})})]})},FV=({content:t,isYourMessage:e=!1})=>{const n=new Ls;n.tlds("onion",!0),n.set({fuzzyLink:!0});const r=n.match(t),s=(i,o=30)=>i.length>o?i.slice(0,o)+"...":i;return r&&r.forEach(i=>{const o=i.url.startsWith("http")?i.url:`https://${i.url}`;t=t.replace(i.url,`<a href="${o}" style="text-decoration: underline; color: blue;" target="_blank" rel="noopener norefereer">${s(o)}<a>`)}),d.jsx("div",{className:"w-full max-w-full break-words  ",dangerouslySetInnerHTML:{__html:t}})},nCe=({senderId:t})=>{const{users:e}=g.useContext(we),[n,r]=g.useState(null),[s,i]=g.useState(!0);Bn(t,e,r,i);const[o,a]=g.useState("offline"),[l,c]=g.useState(null),u=Et();return jy(t,a,c),s?d.jsx(le,{variant:"circular",height:40,width:40}):d.jsxs("div",{className:"size-10  relative",children:[d.jsx(Pe,{placement:"top",arrow:!0,title:`View ${n==null?void 0:n.name}'s profile`,children:d.jsx("div",{className:"cursor-pointer",onClick:()=>u(`/app/profile/${n==null?void 0:n.uid}`),children:d.jsx(ys,{name:n&&n.name,image:n&&n.image})})}),d.jsx("div",{className:"size-[16px] bg-white rounded-full flex justify-center items-center absolute bottom-0 right-0",children:d.jsx("div",{className:` size-3 rounded-full ${o==="online"?"bg-green-500":"bg-gray-500"}`})})]})},rCe=({senderId:t,isYourMessage:e})=>{const{users:n}=g.useContext(we),[r,s]=g.useState(null),[i,o]=g.useState(!0),a=Et();return Bn(t,n,s,o),i?d.jsx("div",{className:`-mt-3 ${e?"text-right":""}`,children:d.jsx(le,{height:40,width:120})}):d.jsx(Pe,{placement:"top",arrow:!0,title:`View ${r==null?void 0:r.name}'s profile`,children:d.jsx("p",{onClick:()=>a(`/app/profile/${r==null?void 0:r.uid}`),className:`cursor-pointer font-bold mb-2 ${e?"text-right":""} `,children:r!=null&&r.name?r.name:"Unknown User"})})},sCe=({message:t,setViewingImage:e})=>{const{users:n}=g.useContext(we),{senderId:r,content:s,image:i}=t.reply,[o,a]=g.useState(!0),[l,c]=g.useState(!1),[u,h]=g.useState(null);return Bn(r,n,h,a),d.jsxs("div",{className:"mb-1 border-l-4 p-1 rounded-md border-l-green-500 ",children:[o?d.jsx(le,{width:120,height:40}):d.jsx("p",{className:"font-bold ",children:u==null?void 0:u.name}),s&&d.jsxs("p",{className:"w-full max-w-full break-words",children:[d.jsx(FV,{content:l?s:$l(s,25)}),s.length>=25&&d.jsx("span",{onClick:()=>{c(!l)},className:"font-bold text-blue-400 cursor-pointer",children:l?" see less":" see more"})]}),i&&d.jsx("img",{onClick:()=>{e(i)},className:"cursor-pointer border mt-1 mb-1 rounded-md border-slate-200 overflow-hidden max-h-[200px]",alt:i.name,src:i.URL})]})},iCe=({setIsRulesOpen:t,isRulesOpen:e,rules:n=["ရိုသေလေးစားမှုရှိပါ - Group ထဲတွင် ရှိသောသူများအားလုံးကို လေးစားရမည်။ မသင့်တော်သော စကားလုံးများ၊ အခြားသူများကို ထိခိုက်စေနိုင်သော စကားလုံးများကို မပြောရ။","No spamming - တူညီသော မက်ဆေ့ချ်များ၊ လင့်ခ် (link) များနှင့်၊ အမြောက်အများသော emoji များ ပို့ခြင်းကို မပြုရ။","Privacy ရှိပါ - တစ်စုံတစ်ဦး၏ ကိုယ်ရေးကိုယ်တာ အချက်အလက်များကို ခွင့်ပြုချက်မရှိဘဲ မမျှဝေရ။ လူတိုင်း၏ ကိုယ်ရေးကိုယ်တာကို လေးစားပါ။","အထက်ပါ စည်းမျဉ်းစည်းကမ်းများ (rules) ထဲမှ တစ်ခုခုကို ချိုးဖောက်ပါက Group ထဲမှ ရက်အကန့်အသတ်ဖြင့် သော်လည်းကောင်း၊ ရာသတ်ပန် သော်လည်းကောင်း ထုတ်ပယ်မည် (သို့မဟုတ်) ထိုက်တန်သော အပြစ်တစ်ခုခုကို ခံယူရမည်။"]})=>d.jsx(gs,{open:e,onClose:()=>t(!1),children:n?d.jsxs("div",{className:"p-2 max-h-[80%] overflow-auto",children:[d.jsx("p",{className:"font-bold mb-1",children:"Group Rules"}),n.map((r,s)=>d.jsxs("div",{className:"flex items-start  gap-x-1 mb-2",children:[d.jsx("p",{className:"size-10 items-center flex justify-center rounded-full ",children:s+1}),d.jsx("p",{className:"flex-1 text-sm",children:r})]},`${s}-${r}`))]}):d.jsx("div",{className:"p-2",children:"No rules"})}),oCe=({typingUsersRef:t,viewingOldMessages:e})=>{const{userId:n}=g.useContext(we),[r,s]=g.useState([]);if(g.useEffect(()=>{const o=$i(t,l=>{console.log("fetching typing users...");const c=l.docs.map(u=>({uid:u.id,...u.data()}));s(c)},l=>{console.log("Error fetching typing users: ",l.message)});return()=>{o&&o()}},[]),g.useEffect(()=>{!e&&r.length!==0&&td()},[r]),r.length>0)return d.jsx("div",{className:"",children:d.jsx("div",{className:"grid gap-y-1",children:r.sort((i,o)=>mi(i,o,"timestamp","older")).map(i=>{const o=n===i.uid;return d.jsxs("div",{className:`flex mb-2 gap-x-2 ${o?"flex-row-reverse":""} `,children:[d.jsx(aCe,{typingUser:i}),d.jsxs("div",{className:"grid gap-y-1 whitespace-pre-wrap",children:[d.jsx(lCe,{isYourMessage:o,typingUser:i}),d.jsx("div",{className:`flex items-start gap-x-1 ${o?"flex-row-reverse justify-start":""}`,children:d.jsxs("div",{children:[d.jsx(le,{height:40,width:150}),d.jsx(le,{sx:{mt:-1},height:30,width:100})]})})]})]},`typingUsers-${i.uid}`)})})})},aCe=({typingUser:t})=>{const{users:e}=g.useContext(we),[n,r]=g.useState(null),[s,i]=g.useState(!0);return Bn(t.uid,e,r,i),d.jsxs("div",{className:"size-10 relative",children:[s?d.jsx(le,{width:40,height:40}):d.jsx(ys,{name:n==null?void 0:n.name,image:n==null?void 0:n.image}),d.jsx("div",{className:"absolute bottom-0 right-0 size-3 rounded-full bg-green-500"})]})},lCe=({typingUser:t,isYourMessage:e})=>{const{users:n}=g.useContext(we),[r,s]=g.useState(null),[i,o]=g.useState(!0);return Bn(t.uid,n,s,o),d.jsx(d.Fragment,{children:i?d.jsx(le,{height:40,width:120}):d.jsx("p",{className:`font-bold ${e?"text-right":"text-left"} `,children:r==null?void 0:r.name})})},cCe=["January","February","March","April","May","June","July","August","September","October","November","December"],uCe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function VV(t){const e=new Date(t),n=new Date,r=e.getFullYear(),s=e.getMonth(),i=e.getDate(),o=uCe[e.getDay()],a=n.getDay()===e.getDay()&&n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear(),l=!a&&e.getDay()===n.getDay()-1;return a?"Today":l?"Yesterday":`${o}, ${cCe[s]} ${i}, ${r}`}const dCe=({seenUsers:t,setSeenUsers:e})=>{g.useContext(we);const n=_t(),{mode:r}=n.palette,s=()=>{const i=t.reduce((o,a)=>{const l=new Date(Gr(a.timestamp)),c=l.getFullYear(),u=l.getMonth(),h=l.getDate(),f=`${c}-${u+1}-${h}`;return o[f]||(o[f]={date:f,users:[]}),o[f].users.push(a),o},{});return Object.values(i)};return d.jsx(gs,{fullWidth:!0,anchor:"bottom",open:!!t,onClose:()=>e(!1),children:d.jsxs(Y,{className:" rounded-l-md rounded-r-md ",children:[d.jsx(ge,{sx:{p:1},variant:"h6",children:"People who have seen"}),d.jsx("div",{className:"flex flex-col p-2",children:s().map(i=>{const o=new Date(i.date).getTime(),a=VV(o);return d.jsxs(Y,{children:[d.jsx(ge,{variant:"caption",children:a}),i.users.sort((l,c)=>mi(l,c,"timestamp","older")).map((l,c)=>d.jsx(hCe,{seenPerson:l,mode:r},`seenUser-${l.uid}-${c}`))]},a+"seenUsers")})})]})})},hCe=({seenPerson:t,mode:e})=>{var a;const{users:n}=g.useContext(we),[r,s]=g.useState(null),[i,o]=g.useState(!0);return Bn(t.uid,n,s,o),i?d.jsx("div",{className:"mb-1 w-[275px]",children:d.jsx(zh,{})}):d.jsxs("div",{className:`${e==="light"?"hover:bg-slate-200":"hover:bg-slate-700"} flex p-2 justify-between items-center w-full rounded-md `,children:[d.jsxs("div",{className:"flex items-center gap-x-1",children:[d.jsx(ys,{image:r==null?void 0:r.image,name:r==null?void 0:r.name,size:"size-9"}),d.jsx("p",{children:((a=r==null?void 0:r.name)==null?void 0:a.length)>20?$l(r==null?void 0:r.name,20):r==null?void 0:r.name})]}),d.jsx(ge,{variant:"caption",children:_C(t.timestamp)})]})},fCe=({reactedBy:t,removeReaction:e,reactedUsers:n,setReactedUsers:r})=>{const{userId:s}=g.useContext(we),i=_t(),{mode:o}=i.palette,a=l=>({like:"facebookLike",love:"facebookLove",haha:"facebookHaha",wow:"facebookWow",sad:"facebookSad",angry:"facebookAngry"})[l];return d.jsx(gs,{fullWidth:!0,open:!!t,onClose:()=>r(null),children:d.jsxs("div",{className:"m-2  rounded-l-md rounded-r-md ",children:[d.jsx(ge,{variant:"h6",children:"Reactions"}),d.jsx("div",{className:"flex flex-col p-2  overflow-y-auto",children:t.map((l,c)=>{const u=l.uid===s;return d.jsx(pCe,{mode:o,okToRemove:u,reactedPerson:l,getReactIcon:a,removeReaction:e,close:()=>r(null)},`reactedBy-${l.uid}-${c}`)})})]})})},pCe=({getReactIcon:t,reactedPerson:e,okToRemove:n,close:r,removeReaction:s,mode:i})=>{const{users:o}=g.useContext(we),[a,l]=g.useState(null),[c,u]=g.useState(!0);return Bn(e.uid,o,l,u),c?d.jsx(zh,{}):d.jsxs("div",{onClick:()=>{n&&(s(),r())},className:`flex p-2 justify-between items-center ${i==="light"?"hover:bg-slate-100":"hover:bg-slate-700"} ${n?"cursor-pointer":""}`,children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(ys,{image:a==null?void 0:a.image,name:a==null?void 0:a.name,size:"size-9"}),d.jsxs("p",{className:"ml-[4px]",children:[a==null?void 0:a.name," ",n?d.jsx(ge,{variant:"caption",children:"(Tap to remove)"}):""]})]}),d.jsx("img",{className:"w-6 ",src:Ur(t(e.reactionType))})]})},kx=15,mCe=()=>{const{userId:t,users:e}=g.useContext(we),{chatId:n}=Pl(),[r,s]=g.useState(null),[i,o]=g.useState(!1),a=Ce(be,"chats",n),[l,c]=g.useState(!0),[u,h]=g.useState(!1),[f,p]=g.useState(null);return g.useEffect(()=>{const m=()=>$i(a,w=>{c(!0),w.exists()?(s({...w.data(),id:w.id}),h(!1)):h(!0),c(!1)},w=>{const _="Error fetching the current chat: "+w.message;console.log(_),p(_),c(!1)});(async()=>{try{const y=Ve(a,"members"),w=zn(y,_l("uid","==",t),po(1));console.log("Checking if a member...");const _=await ci(w);o(!_.empty)}catch(y){console.log(y.message)}})();const E=m();return()=>{E&&E()}},[n,i]),l?d.jsx(vs,{isLoading:l,text:"Loading chat..."}):u?d.jsx(Mt,{text:"No chat available"}):i?f?d.jsx(Mt,{text:f}):d.jsx(gCe,{chatId:n,currentChat:r}):d.jsx(Mt,{text:"You are not a member of this chat room"})},gCe=({chatId:t,currentChat:e})=>{const{userData:n,users:r,newMessages:s,userId:i,setHeaderTitle:o,openSnackbar:a}=g.useContext(we),[l,c]=g.useState(""),[u,h]=g.useState("chat"),[f,p]=g.useState(null),m=Ce(be,"chats",t),v=Ve(m,"messages"),[E,y]=g.useState(null),[w,_]=g.useState(!1),[x,b]=g.useState(!1),[C,T]=g.useState(null),[I,S]=g.useState(null),[R,k]=g.useState(null),[N,M]=g.useState(!1),D=Ve(m,"typingUsers"),j=Ce(D,i),[A,P]=g.useState(!1),[O,$]=g.useState(null),[F,G]=g.useState([]);g.useState([]);const[z,B]=g.useState([]),[U,V]=g.useState(),[q,ce]=g.useState(null),[X,Z]=g.useState(!1),[ee,se]=g.useState([]),[ae,ye]=g.useState(null),[Ae,_e]=g.useState(null),[Ye,He]=g.useState(null);g.useState(!1);const[Ue,pt]=g.useState(0),[Ke,Le]=g.useState(!0),bt=_t(),{mode:Be}=bt.palette;g.useEffect(()=>{const et=(()=>{const It=cp(pp,"/status"),In=OO(It,LO("status"),MO("online"));return Cy(In,or=>{pt(or.size)})})();return()=>{et&&et()}},[]),g.useEffect(()=>{(async()=>{const et=Ce(be,"chats",e.id),It=Ve(et,"members");await lo(It,ye)})()},[e]),g.useEffect(()=>{o((e==null?void 0:e.name)||"SEA - Chat ")},[]),g.useEffect(()=>{let oe;return l.trim()?P(!0):P(!1),oe=setTimeout(()=>{P(!1)},3e3),()=>{clearTimeout(oe)}},[l]);const Re=async()=>{console.log("I am typing...");try{await wl(j,{timestamp:dr()})}catch(oe){console.error("Error adding user to typing collection: ",oe)}},wt=async()=>{console.log("I am not typing...");try{await mo(j)}catch(oe){console.error("Error removing user from typing collection: ",oe)}};g.useEffect(()=>(A?Re():wt(),()=>{wt()}),[A]);const zt=oe=>{oe.docs.length>0&&(V(oe.docs[0]),ce(oe.docs[oe.docs.length-1]));const et=oe.docs.map(It=>({id:It.id,...It.data()})).sort((It,In)=>mi(It,In,"timestamp"));et.length<kx&&X&&(Le(!1),nn(),Z(!1),td()),G(et)},nn=()=>{if(X)return null;const oe=Ve(Ce(be,"chats",t),"messages");let et=zn(oe,Hc("timestamp","desc"),po(kx));const It=$i(et,In=>{console.log("Fetching messages..."),zt(In)});return()=>It()};g.useEffect(()=>{const oe=nn();return()=>{oe&&oe()}},[t,X]);const Oe=async oe=>{const et=oe==="old"?"desc":"asc";if(!q)return;const It=zn(v,Hc("timestamp",et),em(q),po(kx));console.log("Fetching messages...");const In=await ci(It);zt(In)};Bn(I==null?void 0:I.senderId,r,k,()=>{},[I]);const Ie=async oe=>{const et=new Date().getTime(),It=`chats/${t}/${et}-${n==null?void 0:n.name}-${oe==null?void 0:oe.name}`,In=Bo(Ya,It);_(!0),b(!0);try{const qn=await Ln(oe,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),or=await Gd(In,qn),Vl=await qd(or.ref),Dr={name:oe.name,path:It,URL:Vl,size:qn.size};y(Dr),_(!1),b(!1)}catch(qn){a(qn.message),_(!1),b(!1),console.log(qn.message)}},ht=async oe=>{const et=Bo(Ya,oe);await EE(et),y(null)},rn=async()=>{const oe=Ce(Ve(be,"newMessages"),t);await wl(oe,{seenBy:wE(i)})};g.useEffect(()=>{(async()=>{const et=Ce(Ve(be,"newMessages"),t);Fy(s,t)||await er(et,{seenBy:wE(i)})})()},[F]);const qt=async()=>{try{const oe={senderId:i,content:l.trim(),timestamp:dr(),image:E||null,reply:I||null,seenBy:[]};b(!0),await xl(v,oe),rn(),c(""),y(null),td(),b(!1),S(null),k(null),P(!1)}catch(oe){b(!1),a(oe.message),console.log(oe.message)}},ve=async()=>{try{const oe=Ce(v,f.id),et={senderId:i,content:l.trim(),editedTime:dr(),image:E||null,reply:I||null};b(!0),await er(oe,et),rn(),ve&&c(""),y(null),p(null),b(!1),S(null),k(null)}catch(oe){b(!1),a(oe.message),console.log(oe.message)}},Je=async(oe,et)=>{const It=Ce(v,oe.id);await mo(It),X&&Oe("old")};return g.useEffect(()=>{B((()=>{if(F.length>0){const et=F.reduce((It,In)=>{const qn=new Date(Gr(In.timestamp)),or=qn.getFullYear(),Vl=qn.getMonth(),Dr=qn.getDate(),vr=`${or}-${Vl+1}-${Dr}`;return It[vr]||(It[vr]={date:vr,messages:[]}),It[vr].messages.push(In),It},{});return Object.values(et)}else return})())},[F]),u==="info"?d.jsx(MEe,{setSubPage:h,currentChat:e,memberCounts:ae,setMemberCounts:ye,members:ee,setMembers:se,onlineUsers:Ue}):d.jsxs(Y,{color:"text.primary",className:"",children:[d.jsx(vCe,{}),Ye&&d.jsx(fCe,{reactedBy:Ye.reactedBy,removeReaction:Ye.removeReaction,reactedUsers:Ye,setReactedUsers:He}),Ae&&d.jsx(iV,{handleClick:()=>{_e(null)},messageOption:Ae,setMessageOption:_e,options:Ae.options,message:Ae,chatId:t,isComment:!1}),C&&d.jsx(lS,{image:C,setViewingImage:T}),N&&d.jsx(iCe,{isRulesOpen:N,setIsRulesOpen:M,rules:e==null?void 0:e.rules}),O&&d.jsx(dCe,{seenUsers:O,setSeenUsers:$}),d.jsx(jV,{pageName:"info",setSubPage:h,currentChat:e,memberCounts:ae,onlineUsers:Ue}),d.jsxs("div",{id:"message-container",className:"p-2 gap-y-3 mb-[55px]",children:[d.jsx("div",{className:"flex justify-center mb-2",children:d.jsx(ke,{sx:{textTransform:"capitalize",mt:1},variant:"text",size:"small",onClick:()=>{Oe("old"),td(),Z(!0)},children:"Older messages"})}),d.jsx(Y,{children:z==null?void 0:z.map((oe,et)=>{const It=new Date(oe.date).getTime(),In=VV(It);return d.jsxs(Y,{children:[d.jsx(Y,{className:"z-10 sticky top-[70px] flex justify-center",children:d.jsx(ge,{sx:{p:"3px",borderRadius:1},bgcolor:"background.default",variant:"caption",children:In})}),oe.messages.map((qn,or)=>d.jsx(tCe,{editMessage:ve,setEditMessageObject:p,deleteMessage:Je,message:qn,setMessage:c,setImageObject:y,setViewingImage:T,setReplyMessage:S,chatId:t,messagesRef:v,groupIndex:et,messageIndex:or,viewingOldMessages:X,setSeenUsers:$,messages:F,setMessageOption:_e,setReactedUsers:He,index:or},`${or}-${qn.id}`))]},oe.date)})}),X&&Ke?d.jsxs("div",{className:"flex gap-x-1 justify-center mt-1 mb-2",children:[d.jsx(ke,{size:"small",sx:{textTransform:"capitalize"},onClick:async()=>{await Oe("new"),ei()},children:"Newer messages"}),d.jsx(ke,{size:"small",variant:"text",sx:{textTransform:"capitalize"},onClick:()=>{nn(),Z(!1),td()},children:"Latest messages"})]}):"",d.jsx(oCe,{typingUsersRef:D,viewingOldMessages:X})]}),d.jsxs(Y,{bgcolor:"background.default",className:`fixed ${Be==="light"?"border-t-slate-100":"border-t-slate-700"} z-30 bottom-0 border-t  shadow-t-md right-0 left-0 p-2 min-h-[80px] flex flex-col items-center`,children:[d.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 pt-0 md:w-2/3 lg:w-1/2",children:d.jsx(ke,{size:"small",sx:{textDecoration:"underline"},onClick:()=>M(!0),className:"text-sm underline text-blue-300",children:"Group Rules"})}),f&&d.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[d.jsx("p",{children:"Editing a message"}),d.jsx(qe,{onClick:()=>{p(null),c(""),y(null),S(null),k(null)},children:d.jsx(eu,{})})]}),I&&d.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("p",{className:"font-bold",children:["Reply to ",R==null?void 0:R.name]}),d.jsx("p",{children:$l(I==null?void 0:I.content,25)})]}),d.jsx(qe,{onClick:()=>{S(null),k(null)},children:d.jsx(eu,{})})]}),w&&d.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:d.jsx("p",{children:"Uploading image..."})}),E&&d.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[d.jsxs("div",{className:"flex flex-1 items-center gap-x-1",children:[d.jsx("img",{src:E.URL,className:"h-10 rounded-sm"}),d.jsx("p",{children:E.name})]}),d.jsx("button",{onClick:()=>{ht(E.path),y(null)},className:"rounded-full shadow-sm p-1",children:d.jsx("img",{className:"w-6",src:Ur("falseIcon")})})]}),d.jsxs(Y,{className:`border ${Be==="light"?"border-t-slate-100":"border-slate-700"} shadow-sm w-full md:w-2/3 lg:w-1/2 p-1 rounded-[12px] flex items-center justify-between `,children:[d.jsx("input",{id:"imageFile",className:"hidden",type:"file",onChange:oe=>{Ie(oe.target.files[0])},accept:"image/*"}),d.jsx(Pe,{arrow:!0,title:"Upload an image",placement:"top",children:d.jsx("label",{htmlFor:"imageFile",className:"p-1 cursor-pointer rounded-md",children:d.jsx(wF,{sx:{width:28}})})}),d.jsx(Fn,{multiline:!0,maxRows:4,fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{"& fieldset":{border:"none"}}},inputProps:{sx:{padding:"5px"},inputMode:"text",autoCorrect:"off",autoCapitalize:"off"},value:l,onChange:oe=>c(oe.target.value),placeholder:"Type a message..."}),d.jsx(Pe,{title:"Send",arrow:!0,placement:"top",children:d.jsx(qe,{disabled:x,sx:{color:Be==="light"&&"black"},onClick:()=>{!x&&(l.trim()||E)&&(f?ve():qt())},children:d.jsx(A_e,{})})})]})]})]})},vCe=()=>{um("chat-page"),Vy("chat-page")},yCe=()=>d.jsxs("div",{className:"m-3 grid gap-y-2",children:[d.jsx(cS,{}),d.jsx(uS,{}),d.jsx(zh,{}),d.jsx(SF,{})]}),_Ce=({userId:t})=>(g.useEffect(()=>{if(t){const e=cp(pp,`/status/${t}`),n={status:"online",lastChanged:mA()},r={status:"offline",lastChanged:mA()},s=cp(pp,".info/connected");Cy(s,i=>{i.val()===!0&&Pse(e,n),Ase(e).set(r)})}},[t]),null),UV=({post:t,collectionName:e})=>{const{id:n}=t;_t().palette,Et();const[s,i]=g.useState(null),[o,a]=g.useState(null),{userId:l}=g.useContext(we),[c,u]=g.useState(!1),[h,f]=g.useState(!0),p=e==="posts",m=Ve(Ce(be,e,n),"comments"),v=Ve(Ce(be,e,n),"likes"),[E,y]=g.useState(!1),w=async(x,b)=>{const C=Ve(Ce(be,e,n),x);console.log("Fetching counts...");const T=await U5(C);b(T.data().count)};g.useEffect(()=>{(async()=>{await w("likes",i),await w("comments",a)})()},[]),g.useEffect(()=>{(async()=>{const b=zn(v,_l("uid","==",l)),C=await ci(b);y(!C.empty)})()},[]);const _=async()=>{try{const x=async()=>{await w("likes",i)},b=Ce(v,l),C={uid:l,timestamp:dr()};E?(y(!1),await mo(b),x()):(y(!0),await wl(b,C),x(),G_(["like",p?"post":"test"],p?"description":"testName",p?t.description:t.name,null,n))}catch(x){console.log(x.message)}};return d.jsxs("div",{className:"mt-2",children:[d.jsxs(Y,{className:"transition-all mb-1 flex justify-between pl-2 pr-2",children:[d.jsx(ke,{size:"small",sx:{textDecoration:"underline",textTransform:"capitalize"},variant:c?"outlined":"text",onClick:()=>{u(!c),f(!h)},children:d.jsxs("span",{children:[s||0," ",s>1?"Likes":"Like"]})}),d.jsxs(ke,{size:"small",sx:{textDecoration:"underline",textTransform:"capitalize"},variant:h?"outlined":"text",onClick:()=>{u(!c),f(!h)},children:[o||0," ",o>1?"Comments":"Comment"]})]}),d.jsx(Y,{className:"p-2 shadow-lg border-t pt-2 flex gap-x-2",children:d.jsx(Pe,{title:E?"Unlike":"Like",arrow:!0,children:d.jsx(qe,{color:"error",size:"small",sx:{textTransform:"capitalize"},onClick:_,children:E?d.jsx(B1,{}):d.jsx(UT,{})})})}),c&&d.jsx(wCe,{isLikesOpen:c,setIsLikesOpen:u,likesRef:v,likeCounts:s}),h&&d.jsx(ECe,{isPost:p,post:t,commentsRef:m,collectionName:e,commentCounts:o,setCommentCounts:a,getCounts:w,isCommentsOpen:h,setIsCommentsOpen:f})]})},wCe=({likesRef:t,likeCounts:e})=>{const[r,s]=g.useState([]),[i,o]=g.useState(null),[a,l]=g.useState(!0),[c,u]=g.useState(!0),[h,f]=g.useState(!1);_t();const p=async()=>{let m=zn(t,Hc("timestamp","desc"),po(8));i&&(m=zn(m,em(i)));const v=await ci(m);if(v.empty)f(!0),s([]);else{const E=v.docs.map(y=>({id:y.id,...y.data()}));s([...r,...E]),f(!1),E.length<8&&u(!1)}l(!1),o(v.docs[v.docs.length-1])};return g.useEffect(()=>{p()},[]),d.jsxs(Y,{sx:{width:{xs:"100%"}},className:"",bgcolor:"background.default",children:[d.jsx(Tr,{direction:"row",sx:{display:"flex",justifyContent:"space-between",p:1},children:d.jsx(ge,{variant:"h6",children:"Likes"})}),h&&d.jsx("div",{className:"flex items-center justify-center ",children:"No likes yet..."}),a?d.jsx("div",{className:"flex justify-center p-1",children:d.jsx(eF,{})}):d.jsxs("div",{className:"m-2 grid gap-y-2 ",children:[r.sort((m,v)=>mi(m,v,"timestamp","newer")).map((m,v)=>d.jsx(xCe,{like:m},`user-${m.uid}-${v}`)),d.jsx(Tr,{direction:"row",justifyContent:"center",children:c?d.jsx(ke,{size:"small",onClick:p,children:"Load More"}):""})]})]})},xCe=({like:t})=>{const{users:e}=g.useContext(we),[n,r]=g.useState(null),[s,i]=g.useState(),o=Et();return Bn(t.uid,e,r,i),s?d.jsx(zh,{}):d.jsxs("div",{className:"flex gap-x-2 items-center",children:[d.jsx(Pe,{title:n?`View ${n&&n.name}'s profile`:"Deleted User",arrow:!0,placement:"top",children:d.jsx("div",{className:"cursor-pointer",onClick:()=>o(`/app/profile/${n==null?void 0:n.uid}`),children:d.jsx(ys,{image:n?n.image:"images/sea-logo.jpg",name:n&&n.name,size:"size-8"})})}),d.jsx(Pe,{title:n?`View ${n&&n.name}'s profile`:"Deleted User",arrow:!0,placement:"top",children:d.jsx(ge,{onClick:()=>o(`/app/profile/${n==null?void 0:n.uid}`),variant:"h6",fontSize:"0.8rem",sx:{cursor:"pointer"},children:n?n.name:"Unknown User"})})]})},ECe=({post:t,isPost:e,commentsRef:n,setCommentCounts:r,getCounts:s})=>{const[i,o]=g.useState(""),[a,l]=g.useState([]),[c,u]=g.useState(!0),[h,f]=g.useState(!1),{userId:p}=g.useContext(we),[m,v]=g.useState(null);_t();const E=()=>{const x=zn(n,Hc("timestamp","desc"));return u(!0),$i(x,C=>{s("comments",r),C.empty?(u(!1),f(!0),l([])):(l(C.docs.map(T=>({id:T.id,...T.data()})).sort((T,I)=>mi(T,I,"timestamp"))),f(!1),u(!1))})};g.useEffect(()=>{const x=E();return()=>{x&&x()}},[]);const y=async()=>{if(i.trim()){const x={uid:p,text:i.trim(),timestamp:dr()};await xl(n,x),o(""),G_(["comment",e?"post":"test"],e?"description":"testName",e?t.description:t.name,i.trim(),t.id)}},w=async()=>{const x=Ce(n,m);if(i.trim()){const b={text:i.trim(),editedTime:dr()};await er(x,b),o(""),v(null)}},_=async x=>{const b=Ce(n,x);try{await mo(b)}catch(C){console.log(C.message)}};return d.jsxs(Y,{sx:{width:{xs:"100%"}},bgcolor:"background.default",children:[d.jsx(Tr,{direction:"row",sx:{display:"flex",justifyContent:"space-between",p:1},children:d.jsx(ge,{variant:"h6",children:"Comments"})}),h&&d.jsx("div",{className:"flex items-center justify-center ",children:"No comments yet..."}),d.jsx("div",{className:"grid gap-y-2 m-2",children:a.map(x=>{const b=x.uid===p,C=b&&{text:"Edit",icon:d.jsx(Vs,{}),onClick:()=>{v(x.id),o(x.text)}};return d.jsx(CCe,{comment:x,editOption:C,yourComment:b,deleteComment:_},`${x.uid}-${x.id}`)})}),d.jsxs("div",{className:"mt-2 flex  gap-x-1 m-2",children:[d.jsx(Fn,{fullWidth:!0,size:"small",onChange:x=>o(x.target.value),value:i,placeholder:"Write a comment..."}),d.jsxs("div",{className:"flex gap-x-1",children:[m&&d.jsx(qe,{onClick:()=>{v(null),o("")},children:d.jsx(eu,{})}),d.jsx(qe,{onClick:()=>{i.trim()&&(m?w():y())},children:d.jsx(P_e,{})})]})]})]})},CCe=({comment:t,editOption:e,yourComment:n,deleteComment:r})=>{const{users:s,userData:i}=g.useContext(we),[o,a]=g.useState(null),[l,c]=g.useState(),u=Et();return Bn(t.uid,s,a,c),d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex gap-x-1",children:[d.jsx("div",{children:l?d.jsx(le,{variant:"circular",height:40,width:40}):d.jsx(Pe,{title:o?`View ${o&&o.name}'s profile`:"Deleted User",arrow:!0,placement:"top",children:d.jsx("div",{onClick:()=>u(`/app/profile/${o==null?void 0:o.uid}`),className:"cursor-pointer",children:d.jsx(ys,{image:o&&o.image,name:o&&o.name,size:"size-8"})})})}),d.jsxs("div",{className:"max-w-[250px]",children:[d.jsxs("div",{className:"p-2 border  shadow-md border-slate-200 rounded-lg",children:[l?d.jsx(le,{height:40,width:120}):d.jsx(Pe,{title:o?`View ${o&&o.name}'s profile`:"Deleted User",arrow:!0,placement:"top",children:d.jsx(ge,{onClick:()=>u(`/app/profile/${o==null?void 0:o.uid}`),sx:{cursor:"pointer"},variant:"h6",fontSize:"0.8rem",children:o?o.name:"Unknown User"})}),l?d.jsx(le,{sx:{mt:-1},height:60,width:200}):d.jsx("div",{className:"text-left",children:t.text})]}),d.jsx("div",{className:"text-sm text-left mt-1",children:t!=null&&t.editedTime?d.jsxs("span",{children:["edited ",K1(Gr(t.editedTime))]}):d.jsx("span",{children:K1(Gr(t.timestamp))})})]})]}),n||i!=null&&i.isAdmin?d.jsx(vu,{options:[e,{text:"Delete",icon:d.jsx(pu,{}),onClick:()=>r(t.id)}],isComment:!0}):""]})},bCe=()=>{var T,I;const{postId:t,type:e}=Pl(),[n,r]=g.useState(null),{users:s,openSnackbar:i,setViewingImage:o,viewingImage:a,userData:l,setHeaderTitle:c}=g.useContext(we),[u,h]=g.useState(null),f=Et(),[p,m]=g.useState(null),[v,E]=g.useState(!1),[y,w]=g.useState(!0),[_,x]=g.useState(!0),b=l!=null&&l.isAdmin?{text:"Edit Post",icon:d.jsx(Vs,{}),onClick:()=>{f("/app/admin/posts/")}}:null;return _t().palette,g.useState(!1),g.useEffect(()=>{(async()=>{try{w(!0);const R=Ce(be,"posts",t),k=await Li(R);k.exists()?(r({id:k.id,...k.data()}),w(!1)):(w(!1),E(!0))}catch(R){w(!1),m(R.message),i(R.message),console.log(R.message)}})()},[t]),Bn(n==null?void 0:n.uid,s,h,x,[t,n],1200),g.useEffect(()=>{!_&&u&&c((u==null?void 0:u.name)+"'s post")},[_]),y?d.jsx(Y,{m:2,children:d.jsx(cS,{})}):v?d.jsx(Mt,{text:"No post available"}):p?d.jsx(Mt,{text:p}):d.jsx(Y,{m:2,children:d.jsxs(Y,{bgcolor:"background.default",color:"text.primary",className:"border border-slate-300 shadow-lg rounded-md",sx:{width:"full"},children:[a&&d.jsx(lS,{image:a,setViewingImage:o,postImage:!0}),d.jsxs(Y,{className:"top-section flex justify-between  mb-2 p-2",children:[d.jsxs(Y,{className:"flex gap-x-2",children:[_?d.jsx(le,{width:35,height:35,variant:"circular"}):d.jsx(Pe,{title:`View ${u&&u.name}'s profile`,arrow:!0,placement:"top",children:d.jsx("div",{className:"cursor-pointer",onClick:()=>f(`/app/profile/${u.uid}`),children:d.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:u?u.image:"images/sea-logo.jpg"})})}),d.jsxs(Y,{children:[_?d.jsx(le,{height:40,width:120}):d.jsx(Pe,{title:`View ${u&&u.name}'s profile`,arrow:!0,placement:"top",children:d.jsx(ge,{onClick:()=>f(`/app/profile/${u.uid}`),variant:"h6",fontSize:"1rem",sx:{cursor:"pointer"},children:u?u.name:"Unknown User"})}),d.jsx(ge,{variant:"caption",children:Fl(Gr(n.time))})]})]}),d.jsx(Y,{children:d.jsx(vu,{options:[{text:"Copy link",icon:d.jsx(Vh,{}),onClick:()=>{const S=`${location.origin}/#/app/posts/sp/${n.id}`;navigator.clipboard.writeText(S),i("Link copied successfully")}},b],isComment:!0})})]}),(n==null?void 0:n.description)&&d.jsx(ge,{p:1,children:n.description}),n.images.length!==0?d.jsx(Id,{container:!0,spacing:1,className:" p-0",sx:{p:1},children:d.jsx(DV,{post:n,setViewingImage:o})}):"",n.files&&((T=n==null?void 0:n.files)==null?void 0:T.length)!==0&&d.jsx(LV,{files:n.files}),(n==null?void 0:n.links)&&((I=n==null?void 0:n.links)==null?void 0:I.length)!==0&&d.jsx(MV,{links:n.links}),d.jsx(UV,{post:n,collectionName:"posts"})]})})},ICe=()=>{const{testId:t}=Pl(),e=Et(),[n,r]=g.useState(null),{users:s,openSnackbar:i,startTimer:o,userData:a,setHeaderTitle:l}=g.useContext(we),[c,u]=g.useState(null),[h,f]=g.useState(null),[p,m]=g.useState(!1),[v,E]=g.useState(!0),[y,w]=g.useState(!0),_=_t(),{mode:x}=_.palette;g.useState(!1);const b=a!=null&&a.isAdmin?{text:"Edit Test",icon:d.jsx(Vs,{}),onClick:()=>{e("/app/admin/tests/")}}:null;return g.useEffect(()=>{(async()=>{try{E(!0);const T=Ce(be,"tests",t),I=await Li(T);I.exists()?(r({id:I.id,...I.data()}),E(!1)):(E(!1),m(!0))}catch(T){E(!1),f(T.message),i(T.message),console.log(T.message)}})()},[t]),Bn(n==null?void 0:n.uid,s,u,w,[t,n],1200),g.useEffect(()=>{c&&l(c.name+"'s post")},[c]),v?d.jsx(Y,{m:2,children:d.jsx(uS,{})}):p?d.jsx(Mt,{text:"No post available"}):h?d.jsx(Mt,{text:h}):d.jsx(Y,{m:2,children:d.jsxs(Y,{bgcolor:"background.default",color:"text.primary",className:`${x==="dark"?"border-slate-700":"border-slate-200"} flex flex-col justify-between min-h-60 border shadow-md rounded-md bg-gradient-to-tr`,children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("div",{className:"flex gap-x-2 mb-2 p-2",children:[y?d.jsx(le,{width:35,height:35,variant:"circular"}):d.jsx(Pe,{title:`View ${c&&c.name}'s profile`,arrow:!0,placement:"top",children:d.jsx("div",{className:"cursor-pointer",onClick:()=>e(`/app/profile/${c.uid}`),children:d.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:c?c.image:"images/sea-logo.jpg"})})}),d.jsxs("div",{children:[y?d.jsx(le,{height:40,width:120}):d.jsx(Pe,{title:`View ${c&&c.name}'s profile`,arrow:!0,placement:"top",children:d.jsx(ge,{onClick:()=>e(`/app/profile/${c.uid}`),variant:"h6",fontSize:"1rem",sx:{cursor:"pointer"},children:c?c.name:"Unknown User"})}),d.jsx("div",{className:" text-sm",children:Fl(Gr(n.time))})]}),d.jsxs("span",{className:`rounded-md border  text-sm text-gray-400 flex items-center p-1 ${x==="dark"?"border-slate-700":"border-slate-200"}`,children:[n.quizzes.length,n.quizzes.length>1?" questions":" question"]})]}),d.jsx(Y,{children:d.jsx(vu,{options:[{text:"Copy link",icon:d.jsx(Vh,{}),onClick:()=>{const C=`${location.origin}/#/app/tests/st/${n.id}`;navigator.clipboard.writeText(C),i("Link copied successfully")}},b],isComment:!0})})]}),n.image&&d.jsx("div",{className:"m-2 flex justify-center p-2",children:d.jsx("img",{className:"h-[250px]",src:`images/tests/${n.image}`})}),d.jsxs("div",{className:`${x==="dark"?"border-slate-700":"border-slate-200"} p-2 rounded-bl-lg rounded-br-lg border-t shadow-t-md`,children:[d.jsx("div",{className:"font-medium text-lg",children:n.name}),d.jsx("p",{className:" mb-2 break-words white-space-pre-wrap",children:n.description.trim()||"No description"}),d.jsx(ke,{sx:{textDecoration:"underline"},size:"small",onClick:()=>{o(),e(`/app/tests/${n.id}`)},children:"Take the test"})]}),d.jsx(UV,{post:n,collectionName:"tests"})]})})},TCe=()=>{const{userData:t,users:e,setHeaderTitle:n,openSnackbar:r}=g.useContext(we),[s,i]=g.useState(null),[o,a]=g.useState(!1),[l,c]=g.useState(!1),[u,h]=g.useState(null),[f,p]=g.useState(null),{userId:m}=Pl(),v=Ve(be,`users/${m}/likes`),E=Ce(be,`/users/${m}`),[y,w]=g.useState(!1),[_,x]=g.useState(""),[b,C]=g.useState("offline"),[T,I]=g.useState(null);jy(s==null?void 0:s.uid,C,I,[m,s]);const S=()=>$i(E,P=>{P.exists()?(i({uid:P.id,...P.data()}),a(!1)):a(!0)});g.useEffect(()=>{const A=S();return()=>{A&&A()}},[m]);const R=()=>s&&t?t.uid===s.uid:!1,k=async()=>{await lo(v,h)};g.useEffect(()=>{const A=br.get("userId");(async()=>{const O=zn(v,_l("uid","==",A)),$=await ci(O);c(!$.empty)})(),k()},[]);const N=async()=>{try{const A=br.get("userId"),P=Ce(v,t==null?void 0:t.uid),O={uid:A,timestamp:dr()};l?(c(!1),await mo(P),k()):(c(!0),await wl(P,O),k())}catch(A){console.log(A.message)}};g.useEffect(()=>{s&&(R()?n("My Profile"):n(`${s.name}'s Profile`))},[s,m]);const M=async()=>{const A=br.get("userId"),P=Ce(be,`users/${A}`);if(!f)return;const O=`profile/${A}/${f.name}`,$=Bo(Ya,O);r("Compressing image...");const F=await Ln(f,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0});r("Uploading image...");const G=await Gd($,F),z=await qd(G.ref);await er(P,{coverImage:z}),r("Changed cover image successfully")},D=()=>{document.getElementById("imageInput").click()};g.useEffect(()=>{M()},[f]),g.useEffect(()=>{x(s==null?void 0:s.bio)},[s]);const j=async()=>{_.trim()&&await er(E,{bio:_})};return o?d.jsx(Y,{m:2,children:"User not available!"}):d.jsxs(Y,{children:[d.jsx("input",{id:"imageInput",className:"hidden",type:"file",accept:"image/*",onChange:A=>p(A.target.files[0])}),d.jsxs(Y,{className:"relative ",children:[s?d.jsx("img",{onClick:()=>{R()&&D()},className:`w-full h-[150px] object-cover ${R()?"cursor-pointer hover:opacity-80":""}`,src:s!=null&&s.coverImage?s==null?void 0:s.coverImage:"/images/education.jpg"}):d.jsx(le,{sx:{mt:-5},height:200,width:"100%"}),s?d.jsx("div",{className:"absolute -bottom-[40%] left-[10%]",children:d.jsxs("div",{className:"relative",children:[d.jsx("img",{alt:s.name,className:"rounded-full  size-24 object-cover border ",src:s.image}),d.jsx("div",{className:"size-[20px] bg-white rounded-full flex justify-center items-center absolute bottom-0 right-2",children:d.jsx("div",{className:` size-4 rounded-full ${b==="online"?"bg-green-500":"bg-gray-500"}`})})]})}):d.jsx("div",{className:"absolute z-10 bottom-0 left-[10%]",children:d.jsx(le,{variant:"circular",height:"96px",width:"96px"})})]}),d.jsxs(Y,{m:2,mt:8,className:"",children:[s?d.jsxs(d.Fragment,{children:[d.jsxs(Y,{className:"flex gap-x-3",children:[d.jsx(ge,{variant:"h5",children:s.name}),d.jsx(ke,{onClick:N,color:"error",size:"small",sx:{textTransform:"capitalize"},variant:l?"contained":"outlined",startIcon:l?d.jsx(B1,{}):d.jsx(UT,{}),children:l?"Liked":"Like"})]}),d.jsx(ge,{sx:{mb:1,mt:-1},children:b==="online"?d.jsx(ge,{variant:"caption",sx:{color:"green"},children:"Online"}):d.jsx(ge,{variant:"caption",sx:{color:"gray"},children:T})}),R()&&d.jsx(Tr,{children:d.jsx(ge,{variant:"caption",children:s.email})}),d.jsxs(Y,{className:"flex gap-x-2 items-center mt-1",children:[d.jsxs(ge,{variant:"caption",children:["UID: ",s.uid]}),d.jsx("div",{children:d.jsx(qe,{onClick:()=>{navigator.clipboard.writeText(s.uid),r("UID copied successfully")},size:"small",children:d.jsx(lC,{fontSize:"18px"})})})]})]}):d.jsx(le,{sx:{marginTop:"-50px"},height:35,width:150}),s?d.jsxs("div",{className:"flex mt-2 mb-2 gap-x-2 items-center  border border-dashed rounded-md shadow-md border-slate-400 p-2",children:[y?d.jsx(Fn,{fullWidth:!0,name:"bio",size:"small",variant:"standard",multiline:!0,maxRows:5,autoFocus:!0,value:_,onChange:A=>x(A.target.value),className:"pl-1 pr-1 w-auto font-bold text-sm",placeholder:"Enter description",inputProps:{sx:{fontSize:12}}}):d.jsx(d.Fragment,{children:s?d.jsx(ge,{sx:{whiteSpace:"pre-line",width:"90%"},variant:"caption",className:"font-bold",children:s!=null&&s.bio?s.bio:R()?"Bio: I am a student":"No bio"}):d.jsx(le,{height:40,width:150})}),s&&R()?d.jsx(Pe,{title:"Edit bio",arrow:!0,children:d.jsx(qe,{size:"small",onClick:()=>{w(!y),y&&j()},className:" p-1  cursor-pointer",children:d.jsx(Vs,{sx:{width:20,height:20}})})}):d.jsx(d.Fragment,{children:R()&&d.jsx(le,{variant:"circular",height:20,width:20})})]}):d.jsx(le,{height:40,width:250})]}),d.jsx(Y,{m:2,className:"",children:s?d.jsxs(Y,{className:"grid gap-y-2",children:[d.jsxs(ge,{variant:"caption",children:[d.jsx(L_e,{})," Joined: ",Fl(Gr(s.createdAt))]}),u?d.jsxs(ge,{variant:"caption",children:[d.jsx(B1,{color:"error"})," ",u," ",u<=1?"person":"people"]}):"",d.jsx("div",{className:"flex justify-start mt-2",children:d.jsx(ke,{onClick:()=>{const A=`${location.origin}/#/app/profile/${m}`;navigator.clipboard.writeText(A),r(`Copied ${s==null?void 0:s.name}'s profile link successfully!`)},startIcon:d.jsx(lC,{}),size:"small",children:"Copy link"})})]}):d.jsxs(d.Fragment,{children:[d.jsx(le,{height:35,width:150}),d.jsx(le,{height:35,width:150})]})})]})},SCe=()=>{const{setHeaderTitle:t}=g.useContext(we),[e,n]=g.useState(""),[r,s]=g.useState([{title:"Users",icon:d.jsx(T_e,{})}]),[i,o]=g.useState("Users");g.useState([]);const[a,l]=g.useState([]),c=Et(),u=()=>{switch(i){case"Users":return"Enter uid or name...";case"Posts":return"Enter the title...";case"Tests":return"Enter the title..."}};g.useEffect(()=>{t("Search")},[]);const h=async()=>{const p=Ve(be,"users");let m=[];if(e.trim())try{const v=zn(p,_l("name",">=",e.trim()),_l("name","<=",e.trim()+"")),y=(await ci(v)).docs.map(x=>({uid:x.id,...x.data()}));m=[...m,...y];const w=Ce(p,e.trim()),_=await Li(w);_.exists()&&m.push({uid:_.id,..._.data()}),l(m)}catch(v){console.log(v.message)}},f=p=>{c(`/app/profile/${p}`)};return d.jsxs("div",{className:"p-5 ",children:[d.jsx("div",{className:"flex gap-x-1 items-center mb-2",children:r.map(p=>d.jsx(ke,{onClick:()=>o(p.title),color:"primary",startIcon:p.icon,size:"small",variant:i===p.title?"contained":"outlined",children:p.title},p.title))}),d.jsxs("div",{className:" flex items-center mb-1",children:[d.jsx("div",{className:"h-11 flex-1 ",children:d.jsx(Fn,{placeholder:u(),size:"small",fullWidth:!0,value:e,onChange:p=>n(p.target.value)})}),d.jsx("button",{onClick:h,className:"bg-gray-500 rounded-full p-3 -ml-6 z-10",children:d.jsx(bF,{})})]}),d.jsx("div",{className:"",children:e.trim()&&d.jsxs("div",{className:" mb-2 text-sm flex justify-between items-center mr-2 ml-2",children:[d.jsxs("div",{className:" flex-1",children:['Results for "',e,'"']}),d.jsx(qe,{onClick:()=>n(""),children:d.jsx(eu,{})})]})}),a.length>0?d.jsx("div",{className:"border border-slate-400 shadow-md rounded-md ",children:a.map(p=>d.jsxs("div",{className:"flex items-center gap-x-2 p-1 b",children:[d.jsx(Pe,{arrow:!0,placement:"top",title:`View ${p==null?void 0:p.name}'s profile`,children:d.jsx("div",{onClick:()=>f(p.uid),className:"cursor-pointer",children:d.jsx(ys,{image:p==null?void 0:p.image,name:p==null?void 0:p.name})})}),d.jsx(Pe,{arrow:!0,placement:"top",title:`View ${p==null?void 0:p.name}'s profile`,children:d.jsxs(ge,{onClick:()=>f(p.uid),sx:{cursor:"pointer"},variant:"h6",fontSize:"0.9rem",children:[p==null?void 0:p.name," ",p!=null&&p.isAdmin?d.jsx(ge,{variant:"caption",children:"(admin)"}):""]})})]}))}):""]})},we=g.createContext();function kCe(){var ye,Ae,_e;const t=WE("sea-localStorage"),e=Kde("(prefers-color-scheme : dark)"),[n,r]=g.useState(WE("sea-website-theme")||"dark"),[s,i]=g.useState(((ye=t==null?void 0:t.timer)==null?void 0:ye.seconds)||0),[o,a]=g.useState(((Ae=t==null?void 0:t.timer)==null?void 0:Ae.minutes)||0),[l,c]=g.useState(((_e=t==null?void 0:t.timer)==null?void 0:_e.hours)||0),[u,h]=g.useState(null),[f,p]=g.useState([]),[m,v]=g.useState(null),[E,y]=g.useState(null),[w,_]=g.useState(null),[x,b]=g.useState(!1),[C,T]=g.useState(""),[I,S]=g.useState(!1),[R,k]=g.useState([]),[N,M]=g.useState([]),[D,j]=g.useState([]),[A,P]=g.useState(null),[O,$]=g.useState([]),[F,G]=g.useState(!1),[z,B]=g.useState(""),[U,V]=g.useState(null),q=Ye=>{G(!0),B(Ye)};g.useEffect(()=>{kj("sea-website-theme",n)},[n]);const ce=Ye=>({palette:{mode:Ye,...Ye==="dark"?{primary:{main:"#90caf9"},secondary:{main:"#f48fb1"},background:{default:"#121212",paper:"#1d1d1d"},text:{primary:"#ffffff"}}:{primary:{main:"#1976d2"},secondary:{main:"#ff4081"},background:{default:"#ffffff",paper:"#f5f5f5"},text:{primary:"#000000"}},components:{MuiAppBar:{styleOverrides:{...Ye==="light"&&{backgroundColor:"#ffffff",color:"#000000"}}}}}}),X=g.useMemo(()=>yT(ce(n==="system"?e?"dark":"light":n)));Nh(Ve(be,"newMessages"),[],j,()=>{},()=>{});const Z=()=>{},ee=()=>{i(0),a(0),c(0)},se=()=>{ee()},ae=`${l}:${CA(o)}:${CA(s)}`;return g.useEffect(()=>{const Ye=setInterval(()=>{s<59?i(s+1):(i(0),a(o+1)),o===59&&(a(0),c(l+1))},1e3);return()=>{clearInterval(Ye)}},[s]),d.jsx(we.Provider,{value:{myChats:O,setMyChats:$,stopTest:se,seaLocalStorage:t,formattedTime:ae,startTimer:ee,seconds:s,minutes:o,hours:l,inspecting:x,userData:u,setUserData:h,users:f,setUsers:p,headerTitle:C,setHeaderTitle:T,refreshUserData:Z,isOnline:I,setIsOnline:S,userId:m,setUserId:v,setInspecting:b,posts:R,setPosts:k,tests:N,setTests:M,history,chats:A,setChats:P,newMessages:D,notiCount:w,setNotiCount:_,historyCount:E,setHistoryCount:y,snackbarOpen:F,setSnackbarOpen:G,snackbarMessage:z,setSnackbarMessage:B,openSnackbar:q,setMode:r,mode:n,viewingImage:U,setViewingImage:V},children:d.jsxs(Hfe,{theme:X,children:[d.jsx(I2e,{}),d.jsxs(Y,{bgcolor:"background.default",className:" App font-padauk flex flex-col items-center min-h-screen ",children:[d.jsx(Sye,{bgcolor:"background.default",open:F,onClose:()=>G(!1),autoHideDuration:4e3,message:z}),d.jsxs(gW,{children:[d.jsx(_Ce,{userId:m}),d.jsx(mEe,{}),C!=="Chat"&&d.jsx(V_e,{}),d.jsx(W_e,{}),d.jsx("div",{className:"flex-1 w-full h-full md:w-4/5 lg:w-3/5 ",children:d.jsxs(cW,{children:[d.jsx(on,{exact:!0,path:"/test",element:d.jsx(yCe,{})}),d.jsx(on,{exact:!0,path:"/login",element:d.jsx(q_e,{})}),m&&d.jsxs(d.Fragment,{children:[d.jsx(on,{exact:!0,path:"/app",element:d.jsx(yEe,{})}),d.jsx(on,{exact:!0,path:"/app/search",element:d.jsx(SCe,{})}),d.jsx(on,{exact:!0,path:"/app/profile/:userId",element:d.jsx(TCe,{})}),d.jsx(on,{exact:!0,path:"/app/posts/sp/:postId",element:d.jsx(bCe,{})}),d.jsx(on,{exact:!0,path:"/app/tests/st/:testId",element:d.jsx(ICe,{})}),d.jsx(on,{exact:!0,path:"/app/tests",element:d.jsx(_Ee,{})}),d.jsx(on,{exact:!0,path:"/app/tests/:testId",element:d.jsx(NEe,{})}),d.jsx(on,{exact:!0,path:"/app/history",element:d.jsx(eP,{})}),d.jsx(on,{exact:!0,path:"/app/history/:resultId",element:d.jsx(O_e,{})}),d.jsx(on,{exact:!0,path:"/app/help",element:d.jsx(gEe,{})}),d.jsx(on,{exact:!0,path:"/app/history/:resultId/reviews",element:d.jsx(z_e,{})}),d.jsx(on,{path:"/app/history",element:d.jsx(eP,{})}),d.jsx(on,{path:"/app/chatroom",element:d.jsx(uEe,{})}),d.jsx(on,{path:"/app/chatroom/:chatId",element:d.jsx(mCe,{})}),d.jsx(on,{path:"/app/notifications",element:d.jsx(Jxe,{})}),(u==null?void 0:u.isAdmin)&&d.jsxs(d.Fragment,{children:[d.jsx(on,{path:"/app/admin",element:d.jsx(H_e,{})}),d.jsx(on,{path:"/app/admin/tests",element:d.jsx(Vxe,{})}),d.jsx(on,{path:"/app/admin/users",element:d.jsx(Wxe,{})}),d.jsx(on,{path:"/app/admin/posts",element:d.jsx(Yxe,{})})]}),d.jsx(on,{exact:!0,path:"/app/settings",element:d.jsx(Pxe,{})})]}),d.jsx(on,{path:"*",element:d.jsx(TF,{title:"No page found!",text:"No page found!"})})]})}),C!=="Chat Room"&&d.jsx(G_e,{})]})]})]})})}Rx.createRoot(document.getElementById("root")).render(d.jsx(d.Fragment,{children:d.jsx(kCe,{})}))});export default RCe();
