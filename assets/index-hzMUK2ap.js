function E7(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function pT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function zo(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var mT={exports:{}},D2={},gT={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh=Symbol.for("react.element"),b7=Symbol.for("react.portal"),C7=Symbol.for("react.fragment"),I7=Symbol.for("react.strict_mode"),T7=Symbol.for("react.profiler"),S7=Symbol.for("react.provider"),R7=Symbol.for("react.context"),A7=Symbol.for("react.forward_ref"),k7=Symbol.for("react.suspense"),P7=Symbol.for("react.memo"),N7=Symbol.for("react.lazy"),U5=Symbol.iterator;function L7(t){return t===null||typeof t!="object"?null:(t=U5&&t[U5]||t["@@iterator"],typeof t=="function"?t:null)}var yT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vT=Object.assign,_T={};function ou(t,e,n){this.props=t,this.context=e,this.refs=_T,this.updater=n||yT}ou.prototype.isReactComponent={};ou.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ou.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wT(){}wT.prototype=ou.prototype;function ew(t,e,n){this.props=t,this.context=e,this.refs=_T,this.updater=n||yT}var tw=ew.prototype=new wT;tw.constructor=ew;vT(tw,ou.prototype);tw.isPureReactComponent=!0;var B5=Array.isArray,xT=Object.prototype.hasOwnProperty,nw={current:null},ET={key:!0,ref:!0,__self:!0,__source:!0};function bT(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)xT.call(e,r)&&!ET.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Hh,type:t,key:i,ref:o,props:s,_owner:nw.current}}function M7(t,e){return{$$typeof:Hh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hh}function D7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var z5=/\/+/g;function a1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?D7(""+t.key):e.toString(36)}function k0(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Hh:case b7:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+a1(o,0):r,B5(s)?(n="",t!=null&&(n=t.replace(z5,"$&/")+"/"),k0(s,e,n,"",function(c){return c})):s!=null&&(rw(s)&&(s=M7(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(z5,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",B5(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+a1(i,a);o+=k0(i,e,n,l,s)}else if(l=L7(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+a1(i,a++),o+=k0(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vf(t,e,n){if(t==null)return t;var r=[],s=0;return k0(t,r,"","",function(i){return e.call(n,i,s++)}),r}function O7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pr={current:null},P0={transition:null},$7={ReactCurrentDispatcher:pr,ReactCurrentBatchConfig:P0,ReactCurrentOwner:nw};Ue.Children={map:Vf,forEach:function(t,e,n){Vf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vf(t,function(){e++}),e},toArray:function(t){return Vf(t,function(e){return e})||[]},only:function(t){if(!rw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ue.Component=ou;Ue.Fragment=C7;Ue.Profiler=T7;Ue.PureComponent=ew;Ue.StrictMode=I7;Ue.Suspense=k7;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$7;Ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vT({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=nw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)xT.call(e,l)&&!ET.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Hh,type:t.type,key:s,ref:i,props:r,_owner:o}};Ue.createContext=function(t){return t={$$typeof:R7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:S7,_context:t},t.Consumer=t};Ue.createElement=bT;Ue.createFactory=function(t){var e=bT.bind(null,t);return e.type=t,e};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(t){return{$$typeof:A7,render:t}};Ue.isValidElement=rw;Ue.lazy=function(t){return{$$typeof:N7,_payload:{_status:-1,_result:t},_init:O7}};Ue.memo=function(t,e){return{$$typeof:P7,type:t,compare:e===void 0?null:e}};Ue.startTransition=function(t){var e=P0.transition;P0.transition={};try{t()}finally{P0.transition=e}};Ue.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ue.useCallback=function(t,e){return pr.current.useCallback(t,e)};Ue.useContext=function(t){return pr.current.useContext(t)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(t){return pr.current.useDeferredValue(t)};Ue.useEffect=function(t,e){return pr.current.useEffect(t,e)};Ue.useId=function(){return pr.current.useId()};Ue.useImperativeHandle=function(t,e,n){return pr.current.useImperativeHandle(t,e,n)};Ue.useInsertionEffect=function(t,e){return pr.current.useInsertionEffect(t,e)};Ue.useLayoutEffect=function(t,e){return pr.current.useLayoutEffect(t,e)};Ue.useMemo=function(t,e){return pr.current.useMemo(t,e)};Ue.useReducer=function(t,e,n){return pr.current.useReducer(t,e,n)};Ue.useRef=function(t){return pr.current.useRef(t)};Ue.useState=function(t){return pr.current.useState(t)};Ue.useSyncExternalStore=function(t,e,n){return pr.current.useSyncExternalStore(t,e,n)};Ue.useTransition=function(){return pr.current.useTransition()};Ue.version="18.2.0";gT.exports=Ue;var v=gT.exports;const sr=pT(v),fp=E7({__proto__:null,default:sr},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j7=v,F7=Symbol.for("react.element"),V7=Symbol.for("react.fragment"),U7=Object.prototype.hasOwnProperty,B7=j7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z7={key:!0,ref:!0,__self:!0,__source:!0};function CT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)U7.call(e,r)&&!z7.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:F7,type:t,key:i,ref:o,props:s,_owner:B7.current}}D2.Fragment=V7;D2.jsx=CT;D2.jsxs=CT;mT.exports=D2;var f=mT.exports,ky={},IT={exports:{}},zr={},TT={exports:{}},ST={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,$){var F=D.length;D.push($);e:for(;0<F;){var q=F-1>>>1,W=D[q];if(0<s(W,$))D[q]=$,D[F]=W,F=q;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var $=D[0],F=D.pop();if(F!==$){D[0]=F;e:for(var q=0,W=D.length,z=W>>>1;q<z;){var B=2*(q+1)-1,V=D[B],G=B+1,ne=D[G];if(0>s(V,F))G<W&&0>s(ne,V)?(D[q]=ne,D[G]=F,q=G):(D[q]=V,D[B]=F,q=B);else if(G<W&&0>s(ne,F))D[q]=ne,D[G]=F,q=G;else break e}}return $}function s(D,$){var F=D.sortIndex-$.sortIndex;return F!==0?F:D.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=D)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function x(D){if(y=!1,_(D),!m)if(n(l)!==null)m=!0,P(S);else{var $=n(c);$!==null&&k(x,$.startTime-D)}}function S(D,$){m=!1,y&&(y=!1,g(C),C=-1),p=!0;var F=h;try{for(_($),d=n(l);d!==null&&(!(d.expirationTime>$)||D&&!R());){var q=d.callback;if(typeof q=="function"){d.callback=null,h=d.priorityLevel;var W=q(d.expirationTime<=$);$=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),_($)}else r(l);d=n(l)}if(d!==null)var z=!0;else{var B=n(c);B!==null&&k(x,B.startTime-$),z=!1}return z}finally{d=null,h=F,p=!1}}var b=!1,T=null,C=-1,A=5,I=-1;function R(){return!(t.unstable_now()-I<A)}function N(){if(T!==null){var D=t.unstable_now();I=D;var $=!0;try{$=T(!0,D)}finally{$?M():(b=!1,T=null)}}else b=!1}var M;if(typeof w=="function")M=function(){w(N)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,O=L.port2;L.port1.onmessage=N,M=function(){O.postMessage(null)}}else M=function(){E(N,0)};function P(D){T=D,b||(b=!0,M())}function k(D,$){C=E(function(){D(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(S))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var F=h;h=$;try{return D()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var F=h;h=D;try{return $()}finally{h=F}},t.unstable_scheduleCallback=function(D,$,F){var q=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?q+F:q):F=q,D){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=F+W,D={id:u++,callback:$,priorityLevel:D,startTime:F,expirationTime:W,sortIndex:-1},F>q?(D.sortIndex=F,e(c,D),n(l)===null&&D===n(c)&&(y?(g(C),C=-1):y=!0,k(x,F-q))):(D.sortIndex=W,e(l,D),m||p||(m=!0,P(S))),D},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(D){var $=h;return function(){var F=h;h=$;try{return D.apply(this,arguments)}finally{h=F}}}})(ST);TT.exports=ST;var W7=TT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RT=v,Vr=W7;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AT=new Set,Hd={};function ml(t,e){Lc(t,e),Lc(t+"Capture",e)}function Lc(t,e){for(Hd[t]=e,t=0;t<e.length;t++)AT.add(e[t])}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Py=Object.prototype.hasOwnProperty,H7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W5={},H5={};function q7(t){return Py.call(H5,t)?!0:Py.call(W5,t)?!1:H7.test(t)?H5[t]=!0:(W5[t]=!0,!1)}function G7(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function K7(t,e,n,r){if(e===null||typeof e>"u"||G7(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mr(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nn[t]=new mr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nn[e]=new mr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nn[t]=new mr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nn[t]=new mr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nn[t]=new mr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nn[t]=new mr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nn[t]=new mr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nn[t]=new mr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nn[t]=new mr(t,5,!1,t.toLowerCase(),null,!1,!1)});var sw=/[\-:]([a-z])/g;function iw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sw,iw);Nn[e]=new mr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sw,iw);Nn[e]=new mr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sw,iw);Nn[e]=new mr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nn[t]=new mr(t,1,!1,t.toLowerCase(),null,!1,!1)});Nn.xlinkHref=new mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nn[t]=new mr(t,1,!1,t.toLowerCase(),null,!0,!0)});function ow(t,e,n,r){var s=Nn.hasOwnProperty(e)?Nn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(K7(e,n,s,r)&&(n=null),r||s===null?q7(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Bi=RT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uf=Symbol.for("react.element"),Xl=Symbol.for("react.portal"),Jl=Symbol.for("react.fragment"),aw=Symbol.for("react.strict_mode"),Ny=Symbol.for("react.profiler"),kT=Symbol.for("react.provider"),PT=Symbol.for("react.context"),lw=Symbol.for("react.forward_ref"),Ly=Symbol.for("react.suspense"),My=Symbol.for("react.suspense_list"),cw=Symbol.for("react.memo"),eo=Symbol.for("react.lazy"),NT=Symbol.for("react.offscreen"),q5=Symbol.iterator;function ku(t){return t===null||typeof t!="object"?null:(t=q5&&t[q5]||t["@@iterator"],typeof t=="function"?t:null)}var Dt=Object.assign,l1;function id(t){if(l1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);l1=e&&e[1]||""}return`
`+l1+t}var c1=!1;function u1(t,e){if(!t||c1)return"";c1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{c1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?id(t):""}function Q7(t){switch(t.tag){case 5:return id(t.type);case 16:return id("Lazy");case 13:return id("Suspense");case 19:return id("SuspenseList");case 0:case 2:case 15:return t=u1(t.type,!1),t;case 11:return t=u1(t.type.render,!1),t;case 1:return t=u1(t.type,!0),t;default:return""}}function Dy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jl:return"Fragment";case Xl:return"Portal";case Ny:return"Profiler";case aw:return"StrictMode";case Ly:return"Suspense";case My:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case PT:return(t.displayName||"Context")+".Consumer";case kT:return(t._context.displayName||"Context")+".Provider";case lw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cw:return e=t.displayName||null,e!==null?e:Dy(t.type)||"Memo";case eo:e=t._payload,t=t._init;try{return Dy(t(e))}catch{}}return null}function Y7(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dy(e);case 8:return e===aw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function No(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function LT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function X7(t){var e=LT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bf(t){t._valueTracker||(t._valueTracker=X7(t))}function MT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=LT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Oy(t,e){var n=e.checked;return Dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function G5(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=No(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function DT(t,e){e=e.checked,e!=null&&ow(t,"checked",e,!1)}function $y(t,e){DT(t,e);var n=No(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jy(t,e.type,n):e.hasOwnProperty("defaultValue")&&jy(t,e.type,No(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function K5(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jy(t,e,n){(e!=="number"||pp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var od=Array.isArray;function mc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+No(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Fy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return Dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Q5(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(od(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:No(n)}}function OT(t,e){var n=No(e.value),r=No(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Y5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $T(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$T(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zf,jT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zf=zf||document.createElement("div"),zf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J7=["Webkit","ms","Moz","O"];Object.keys(wd).forEach(function(t){J7.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wd[e]=wd[t]})});function FT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wd.hasOwnProperty(t)&&wd[t]?(""+e).trim():e+"px"}function VT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=FT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Z7=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uy(t,e){if(e){if(Z7[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function By(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zy=null;function uw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wy=null,gc=null,yc=null;function X5(t){if(t=Kh(t)){if(typeof Wy!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=V2(e),Wy(t.stateNode,t.type,e))}}function UT(t){gc?yc?yc.push(t):yc=[t]:gc=t}function BT(){if(gc){var t=gc,e=yc;if(yc=gc=null,X5(t),e)for(t=0;t<e.length;t++)X5(e[t])}}function zT(t,e){return t(e)}function WT(){}var d1=!1;function HT(t,e,n){if(d1)return t(e,n);d1=!0;try{return zT(t,e,n)}finally{d1=!1,(gc!==null||yc!==null)&&(WT(),BT())}}function Gd(t,e){var n=t.stateNode;if(n===null)return null;var r=V2(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var Hy=!1;if(Ni)try{var Pu={};Object.defineProperty(Pu,"passive",{get:function(){Hy=!0}}),window.addEventListener("test",Pu,Pu),window.removeEventListener("test",Pu,Pu)}catch{Hy=!1}function eL(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var xd=!1,mp=null,gp=!1,qy=null,tL={onError:function(t){xd=!0,mp=t}};function nL(t,e,n,r,s,i,o,a,l){xd=!1,mp=null,eL.apply(tL,arguments)}function rL(t,e,n,r,s,i,o,a,l){if(nL.apply(this,arguments),xd){if(xd){var c=mp;xd=!1,mp=null}else throw Error(Q(198));gp||(gp=!0,qy=c)}}function gl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function J5(t){if(gl(t)!==t)throw Error(Q(188))}function sL(t){var e=t.alternate;if(!e){if(e=gl(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return J5(s),t;if(i===r)return J5(s),e;i=i.sibling}throw Error(Q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function GT(t){return t=sL(t),t!==null?KT(t):null}function KT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KT(t);if(e!==null)return e;t=t.sibling}return null}var QT=Vr.unstable_scheduleCallback,Z5=Vr.unstable_cancelCallback,iL=Vr.unstable_shouldYield,oL=Vr.unstable_requestPaint,qt=Vr.unstable_now,aL=Vr.unstable_getCurrentPriorityLevel,dw=Vr.unstable_ImmediatePriority,YT=Vr.unstable_UserBlockingPriority,yp=Vr.unstable_NormalPriority,lL=Vr.unstable_LowPriority,XT=Vr.unstable_IdlePriority,O2=null,ri=null;function cL(t){if(ri&&typeof ri.onCommitFiberRoot=="function")try{ri.onCommitFiberRoot(O2,t,void 0,(t.current.flags&128)===128)}catch{}}var Rs=Math.clz32?Math.clz32:hL,uL=Math.log,dL=Math.LN2;function hL(t){return t>>>=0,t===0?32:31-(uL(t)/dL|0)|0}var Wf=64,Hf=4194304;function ad(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ad(a):(i&=o,i!==0&&(r=ad(i)))}else o=n&~s,o!==0?r=ad(o):i!==0&&(r=ad(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rs(e),s=1<<n,r|=t[n],e&=~s;return r}function fL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Rs(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=fL(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Gy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function JT(){var t=Wf;return Wf<<=1,!(Wf&4194240)&&(Wf=64),t}function h1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rs(e),t[e]=n}function mL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Rs(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function hw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var lt=0;function ZT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eS,fw,tS,nS,rS,Ky=!1,qf=[],yo=null,vo=null,_o=null,Kd=new Map,Qd=new Map,no=[],gL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eE(t,e){switch(t){case"focusin":case"focusout":yo=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":_o=null;break;case"pointerover":case"pointerout":Kd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qd.delete(e.pointerId)}}function Nu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Kh(e),e!==null&&fw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function yL(t,e,n,r,s){switch(e){case"focusin":return yo=Nu(yo,t,e,n,r,s),!0;case"dragenter":return vo=Nu(vo,t,e,n,r,s),!0;case"mouseover":return _o=Nu(_o,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Kd.set(i,Nu(Kd.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Qd.set(i,Nu(Qd.get(i)||null,t,e,n,r,s)),!0}return!1}function sS(t){var e=xa(t.target);if(e!==null){var n=gl(e);if(n!==null){if(e=n.tag,e===13){if(e=qT(n),e!==null){t.blockedOn=e,rS(t.priority,function(){tS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function N0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zy=r,n.target.dispatchEvent(r),zy=null}else return e=Kh(n),e!==null&&fw(e),t.blockedOn=n,!1;e.shift()}return!0}function tE(t,e,n){N0(t)&&n.delete(e)}function vL(){Ky=!1,yo!==null&&N0(yo)&&(yo=null),vo!==null&&N0(vo)&&(vo=null),_o!==null&&N0(_o)&&(_o=null),Kd.forEach(tE),Qd.forEach(tE)}function Lu(t,e){t.blockedOn===e&&(t.blockedOn=null,Ky||(Ky=!0,Vr.unstable_scheduleCallback(Vr.unstable_NormalPriority,vL)))}function Yd(t){function e(s){return Lu(s,t)}if(0<qf.length){Lu(qf[0],t);for(var n=1;n<qf.length;n++){var r=qf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(yo!==null&&Lu(yo,t),vo!==null&&Lu(vo,t),_o!==null&&Lu(_o,t),Kd.forEach(e),Qd.forEach(e),n=0;n<no.length;n++)r=no[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<no.length&&(n=no[0],n.blockedOn===null);)sS(n),n.blockedOn===null&&no.shift()}var vc=Bi.ReactCurrentBatchConfig,_p=!0;function _L(t,e,n,r){var s=lt,i=vc.transition;vc.transition=null;try{lt=1,pw(t,e,n,r)}finally{lt=s,vc.transition=i}}function wL(t,e,n,r){var s=lt,i=vc.transition;vc.transition=null;try{lt=4,pw(t,e,n,r)}finally{lt=s,vc.transition=i}}function pw(t,e,n,r){if(_p){var s=Qy(t,e,n,r);if(s===null)E1(t,e,r,wp,n),eE(t,r);else if(yL(s,t,e,n,r))r.stopPropagation();else if(eE(t,r),e&4&&-1<gL.indexOf(t)){for(;s!==null;){var i=Kh(s);if(i!==null&&eS(i),i=Qy(t,e,n,r),i===null&&E1(t,e,r,wp,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else E1(t,e,r,null,n)}}var wp=null;function Qy(t,e,n,r){if(wp=null,t=uw(r),t=xa(t),t!==null)if(e=gl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wp=t,null}function iS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aL()){case dw:return 1;case YT:return 4;case yp:case lL:return 16;case XT:return 536870912;default:return 16}default:return 16}}var ho=null,mw=null,L0=null;function oS(){if(L0)return L0;var t,e=mw,n=e.length,r,s="value"in ho?ho.value:ho.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return L0=s.slice(t,1<r?1-r:void 0)}function M0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gf(){return!0}function nE(){return!1}function Wr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Gf:nE,this.isPropagationStopped=nE,this}return Dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gf)},persist:function(){},isPersistent:Gf}),e}var au={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gw=Wr(au),Gh=Dt({},au,{view:0,detail:0}),xL=Wr(Gh),f1,p1,Mu,$2=Dt({},Gh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mu&&(Mu&&t.type==="mousemove"?(f1=t.screenX-Mu.screenX,p1=t.screenY-Mu.screenY):p1=f1=0,Mu=t),f1)},movementY:function(t){return"movementY"in t?t.movementY:p1}}),rE=Wr($2),EL=Dt({},$2,{dataTransfer:0}),bL=Wr(EL),CL=Dt({},Gh,{relatedTarget:0}),m1=Wr(CL),IL=Dt({},au,{animationName:0,elapsedTime:0,pseudoElement:0}),TL=Wr(IL),SL=Dt({},au,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RL=Wr(SL),AL=Dt({},au,{data:0}),sE=Wr(AL),kL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NL[t])?!!e[t]:!1}function yw(){return LL}var ML=Dt({},Gh,{key:function(t){if(t.key){var e=kL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=M0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yw,charCode:function(t){return t.type==="keypress"?M0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?M0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),DL=Wr(ML),OL=Dt({},$2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iE=Wr(OL),$L=Dt({},Gh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yw}),jL=Wr($L),FL=Dt({},au,{propertyName:0,elapsedTime:0,pseudoElement:0}),VL=Wr(FL),UL=Dt({},$2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BL=Wr(UL),zL=[9,13,27,32],vw=Ni&&"CompositionEvent"in window,Ed=null;Ni&&"documentMode"in document&&(Ed=document.documentMode);var WL=Ni&&"TextEvent"in window&&!Ed,aS=Ni&&(!vw||Ed&&8<Ed&&11>=Ed),oE=" ",aE=!1;function lS(t,e){switch(t){case"keyup":return zL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zl=!1;function HL(t,e){switch(t){case"compositionend":return cS(e);case"keypress":return e.which!==32?null:(aE=!0,oE);case"textInput":return t=e.data,t===oE&&aE?null:t;default:return null}}function qL(t,e){if(Zl)return t==="compositionend"||!vw&&lS(t,e)?(t=oS(),L0=mw=ho=null,Zl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aS&&e.locale!=="ko"?null:e.data;default:return null}}var GL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!GL[t.type]:e==="textarea"}function uS(t,e,n,r){UT(r),e=xp(e,"onChange"),0<e.length&&(n=new gw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var bd=null,Xd=null;function KL(t){xS(t,0)}function j2(t){var e=nc(t);if(MT(e))return t}function QL(t,e){if(t==="change")return e}var dS=!1;if(Ni){var g1;if(Ni){var y1="oninput"in document;if(!y1){var cE=document.createElement("div");cE.setAttribute("oninput","return;"),y1=typeof cE.oninput=="function"}g1=y1}else g1=!1;dS=g1&&(!document.documentMode||9<document.documentMode)}function uE(){bd&&(bd.detachEvent("onpropertychange",hS),Xd=bd=null)}function hS(t){if(t.propertyName==="value"&&j2(Xd)){var e=[];uS(e,Xd,t,uw(t)),HT(KL,e)}}function YL(t,e,n){t==="focusin"?(uE(),bd=e,Xd=n,bd.attachEvent("onpropertychange",hS)):t==="focusout"&&uE()}function XL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return j2(Xd)}function JL(t,e){if(t==="click")return j2(e)}function ZL(t,e){if(t==="input"||t==="change")return j2(e)}function eM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ms=typeof Object.is=="function"?Object.is:eM;function Jd(t,e){if(Ms(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Py.call(e,s)||!Ms(t[s],e[s]))return!1}return!0}function dE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hE(t,e){var n=dE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dE(n)}}function fS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pS(){for(var t=window,e=pp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pp(t.document)}return e}function _w(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tM(t){var e=pS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fS(n.ownerDocument.documentElement,n)){if(r!==null&&_w(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=hE(n,i);var o=hE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nM=Ni&&"documentMode"in document&&11>=document.documentMode,ec=null,Yy=null,Cd=null,Xy=!1;function fE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xy||ec==null||ec!==pp(r)||(r=ec,"selectionStart"in r&&_w(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cd&&Jd(Cd,r)||(Cd=r,r=xp(Yy,"onSelect"),0<r.length&&(e=new gw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ec)))}function Kf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var tc={animationend:Kf("Animation","AnimationEnd"),animationiteration:Kf("Animation","AnimationIteration"),animationstart:Kf("Animation","AnimationStart"),transitionend:Kf("Transition","TransitionEnd")},v1={},mS={};Ni&&(mS=document.createElement("div").style,"AnimationEvent"in window||(delete tc.animationend.animation,delete tc.animationiteration.animation,delete tc.animationstart.animation),"TransitionEvent"in window||delete tc.transitionend.transition);function F2(t){if(v1[t])return v1[t];if(!tc[t])return t;var e=tc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mS)return v1[t]=e[n];return t}var gS=F2("animationend"),yS=F2("animationiteration"),vS=F2("animationstart"),_S=F2("transitionend"),wS=new Map,pE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wo(t,e){wS.set(t,e),ml(e,[t])}for(var _1=0;_1<pE.length;_1++){var w1=pE[_1],rM=w1.toLowerCase(),sM=w1[0].toUpperCase()+w1.slice(1);Wo(rM,"on"+sM)}Wo(gS,"onAnimationEnd");Wo(yS,"onAnimationIteration");Wo(vS,"onAnimationStart");Wo("dblclick","onDoubleClick");Wo("focusin","onFocus");Wo("focusout","onBlur");Wo(_S,"onTransitionEnd");Lc("onMouseEnter",["mouseout","mouseover"]);Lc("onMouseLeave",["mouseout","mouseover"]);Lc("onPointerEnter",["pointerout","pointerover"]);Lc("onPointerLeave",["pointerout","pointerover"]);ml("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ml("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ml("onBeforeInput",["compositionend","keypress","textInput","paste"]);ml("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ml("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ml("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ld="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iM=new Set("cancel close invalid load scroll toggle".split(" ").concat(ld));function mE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,rL(r,e,void 0,t),t.currentTarget=null}function xS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;mE(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;mE(s,a,c),i=l}}}if(gp)throw t=qy,gp=!1,qy=null,t}function Et(t,e){var n=e[nv];n===void 0&&(n=e[nv]=new Set);var r=t+"__bubble";n.has(r)||(ES(e,t,2,!1),n.add(r))}function x1(t,e,n){var r=0;e&&(r|=4),ES(n,t,r,e)}var Qf="_reactListening"+Math.random().toString(36).slice(2);function Zd(t){if(!t[Qf]){t[Qf]=!0,AT.forEach(function(n){n!=="selectionchange"&&(iM.has(n)||x1(n,!1,t),x1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qf]||(e[Qf]=!0,x1("selectionchange",!1,e))}}function ES(t,e,n,r){switch(iS(e)){case 1:var s=_L;break;case 4:s=wL;break;default:s=pw}n=s.bind(null,e,n,t),s=void 0,!Hy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function E1(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=xa(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}HT(function(){var c=i,u=uw(n),d=[];e:{var h=wS.get(t);if(h!==void 0){var p=gw,m=t;switch(t){case"keypress":if(M0(n)===0)break e;case"keydown":case"keyup":p=DL;break;case"focusin":m="focus",p=m1;break;case"focusout":m="blur",p=m1;break;case"beforeblur":case"afterblur":p=m1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=rE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=bL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=jL;break;case gS:case yS:case vS:p=TL;break;case _S:p=VL;break;case"scroll":p=xL;break;case"wheel":p=BL;break;case"copy":case"cut":case"paste":p=RL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=iE}var y=(e&4)!==0,E=!y&&t==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var w=c,_;w!==null;){_=w;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,g!==null&&(x=Gd(w,g),x!=null&&y.push(eh(w,x,_)))),E)break;w=w.return}0<y.length&&(h=new p(h,m,null,n,u),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==zy&&(m=n.relatedTarget||n.fromElement)&&(xa(m)||m[Li]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?xa(m):null,m!==null&&(E=gl(m),m!==E||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=rE,x="onMouseLeave",g="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=iE,x="onPointerLeave",g="onPointerEnter",w="pointer"),E=p==null?h:nc(p),_=m==null?h:nc(m),h=new y(x,w+"leave",p,n,u),h.target=E,h.relatedTarget=_,x=null,xa(u)===c&&(y=new y(g,w+"enter",m,n,u),y.target=_,y.relatedTarget=E,x=y),E=x,p&&m)t:{for(y=p,g=m,w=0,_=y;_;_=Nl(_))w++;for(_=0,x=g;x;x=Nl(x))_++;for(;0<w-_;)y=Nl(y),w--;for(;0<_-w;)g=Nl(g),_--;for(;w--;){if(y===g||g!==null&&y===g.alternate)break t;y=Nl(y),g=Nl(g)}y=null}else y=null;p!==null&&gE(d,h,p,y,!1),m!==null&&E!==null&&gE(d,E,m,y,!0)}}e:{if(h=c?nc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=QL;else if(lE(h))if(dS)S=ZL;else{S=XL;var b=YL}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=JL);if(S&&(S=S(t,c))){uS(d,S,n,u);break e}b&&b(t,h,c),t==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&jy(h,"number",h.value)}switch(b=c?nc(c):window,t){case"focusin":(lE(b)||b.contentEditable==="true")&&(ec=b,Yy=c,Cd=null);break;case"focusout":Cd=Yy=ec=null;break;case"mousedown":Xy=!0;break;case"contextmenu":case"mouseup":case"dragend":Xy=!1,fE(d,n,u);break;case"selectionchange":if(nM)break;case"keydown":case"keyup":fE(d,n,u)}var T;if(vw)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Zl?lS(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(aS&&n.locale!=="ko"&&(Zl||C!=="onCompositionStart"?C==="onCompositionEnd"&&Zl&&(T=oS()):(ho=u,mw="value"in ho?ho.value:ho.textContent,Zl=!0)),b=xp(c,C),0<b.length&&(C=new sE(C,t,null,n,u),d.push({event:C,listeners:b}),T?C.data=T:(T=cS(n),T!==null&&(C.data=T)))),(T=WL?HL(t,n):qL(t,n))&&(c=xp(c,"onBeforeInput"),0<c.length&&(u=new sE("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=T))}xS(d,e)})}function eh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xp(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Gd(t,n),i!=null&&r.unshift(eh(t,i,s)),i=Gd(t,e),i!=null&&r.push(eh(t,i,s))),t=t.return}return r}function Nl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Gd(n,i),l!=null&&o.unshift(eh(n,l,a))):s||(l=Gd(n,i),l!=null&&o.push(eh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var oM=/\r\n?/g,aM=/\u0000|\uFFFD/g;function yE(t){return(typeof t=="string"?t:""+t).replace(oM,`
`).replace(aM,"")}function Yf(t,e,n){if(e=yE(e),yE(t)!==e&&n)throw Error(Q(425))}function Ep(){}var Jy=null,Zy=null;function ev(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tv=typeof setTimeout=="function"?setTimeout:void 0,lM=typeof clearTimeout=="function"?clearTimeout:void 0,vE=typeof Promise=="function"?Promise:void 0,cM=typeof queueMicrotask=="function"?queueMicrotask:typeof vE<"u"?function(t){return vE.resolve(null).then(t).catch(uM)}:tv;function uM(t){setTimeout(function(){throw t})}function b1(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Yd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Yd(e)}function wo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _E(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var lu=Math.random().toString(36).slice(2),Ks="__reactFiber$"+lu,th="__reactProps$"+lu,Li="__reactContainer$"+lu,nv="__reactEvents$"+lu,dM="__reactListeners$"+lu,hM="__reactHandles$"+lu;function xa(t){var e=t[Ks];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Li]||n[Ks]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_E(t);t!==null;){if(n=t[Ks])return n;t=_E(t)}return e}t=n,n=t.parentNode}return null}function Kh(t){return t=t[Ks]||t[Li],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function nc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function V2(t){return t[th]||null}var rv=[],rc=-1;function Ho(t){return{current:t}}function St(t){0>rc||(t.current=rv[rc],rv[rc]=null,rc--)}function wt(t,e){rc++,rv[rc]=t.current,t.current=e}var Lo={},Zn=Ho(Lo),br=Ho(!1),Ha=Lo;function Mc(t,e){var n=t.type.contextTypes;if(!n)return Lo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Cr(t){return t=t.childContextTypes,t!=null}function bp(){St(br),St(Zn)}function wE(t,e,n){if(Zn.current!==Lo)throw Error(Q(168));wt(Zn,e),wt(br,n)}function bS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Q(108,Y7(t)||"Unknown",s));return Dt({},n,r)}function Cp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Lo,Ha=Zn.current,wt(Zn,t),wt(br,br.current),!0}function xE(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=bS(t,e,Ha),r.__reactInternalMemoizedMergedChildContext=t,St(br),St(Zn),wt(Zn,t)):St(br),wt(br,n)}var gi=null,U2=!1,C1=!1;function CS(t){gi===null?gi=[t]:gi.push(t)}function fM(t){U2=!0,CS(t)}function qo(){if(!C1&&gi!==null){C1=!0;var t=0,e=lt;try{var n=gi;for(lt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gi=null,U2=!1}catch(s){throw gi!==null&&(gi=gi.slice(t+1)),QT(dw,qo),s}finally{lt=e,C1=!1}}return null}var sc=[],ic=0,Ip=null,Tp=0,Xr=[],Jr=0,qa=null,wi=1,xi="";function ca(t,e){sc[ic++]=Tp,sc[ic++]=Ip,Ip=t,Tp=e}function IS(t,e,n){Xr[Jr++]=wi,Xr[Jr++]=xi,Xr[Jr++]=qa,qa=t;var r=wi;t=xi;var s=32-Rs(r)-1;r&=~(1<<s),n+=1;var i=32-Rs(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,wi=1<<32-Rs(e)+s|n<<s|r,xi=i+t}else wi=1<<i|n<<s|r,xi=t}function ww(t){t.return!==null&&(ca(t,1),IS(t,1,0))}function xw(t){for(;t===Ip;)Ip=sc[--ic],sc[ic]=null,Tp=sc[--ic],sc[ic]=null;for(;t===qa;)qa=Xr[--Jr],Xr[Jr]=null,xi=Xr[--Jr],Xr[Jr]=null,wi=Xr[--Jr],Xr[Jr]=null}var Or=null,Lr=null,kt=!1,Is=null;function TS(t,e){var n=ts(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function EE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Or=t,Lr=wo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Or=t,Lr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qa!==null?{id:wi,overflow:xi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ts(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Or=t,Lr=null,!0):!1;default:return!1}}function sv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function iv(t){if(kt){var e=Lr;if(e){var n=e;if(!EE(t,e)){if(sv(t))throw Error(Q(418));e=wo(n.nextSibling);var r=Or;e&&EE(t,e)?TS(r,n):(t.flags=t.flags&-4097|2,kt=!1,Or=t)}}else{if(sv(t))throw Error(Q(418));t.flags=t.flags&-4097|2,kt=!1,Or=t}}}function bE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Or=t}function Xf(t){if(t!==Or)return!1;if(!kt)return bE(t),kt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ev(t.type,t.memoizedProps)),e&&(e=Lr)){if(sv(t))throw SS(),Error(Q(418));for(;e;)TS(t,e),e=wo(e.nextSibling)}if(bE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Lr=wo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Lr=null}}else Lr=Or?wo(t.stateNode.nextSibling):null;return!0}function SS(){for(var t=Lr;t;)t=wo(t.nextSibling)}function Dc(){Lr=Or=null,kt=!1}function Ew(t){Is===null?Is=[t]:Is.push(t)}var pM=Bi.ReactCurrentBatchConfig;function bs(t,e){if(t&&t.defaultProps){e=Dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Sp=Ho(null),Rp=null,oc=null,bw=null;function Cw(){bw=oc=Rp=null}function Iw(t){var e=Sp.current;St(Sp),t._currentValue=e}function ov(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _c(t,e){Rp=t,bw=oc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_r=!0),t.firstContext=null)}function us(t){var e=t._currentValue;if(bw!==t)if(t={context:t,memoizedValue:e,next:null},oc===null){if(Rp===null)throw Error(Q(308));oc=t,Rp.dependencies={lanes:0,firstContext:t}}else oc=oc.next=t;return e}var Ea=null;function Tw(t){Ea===null?Ea=[t]:Ea.push(t)}function RS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Tw(e)):(n.next=s.next,s.next=n),e.interleaved=n,Mi(t,r)}function Mi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var to=!1;function Sw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ai(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Qe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Mi(t,n)}return s=r.interleaved,s===null?(e.next=e,Tw(r)):(e.next=s.next,s.next=e),r.interleaved=e,Mi(t,n)}function D0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hw(t,n)}}function CE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ap(t,e,n,r){var s=t.updateQueue;to=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(h=e,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=Dt({},d,h);break e;case 2:to=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ka|=o,t.lanes=o,t.memoizedState=d}}function IE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Q(191,s));s.call(r)}}}var kS=new RT.Component().refs;function av(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var B2={isMounted:function(t){return(t=t._reactInternals)?gl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ar(),s=bo(t),i=Ai(r,s);i.payload=e,n!=null&&(i.callback=n),e=xo(t,i,s),e!==null&&(As(e,t,s,r),D0(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ar(),s=bo(t),i=Ai(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=xo(t,i,s),e!==null&&(As(e,t,s,r),D0(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ar(),r=bo(t),s=Ai(n,r);s.tag=2,e!=null&&(s.callback=e),e=xo(t,s,r),e!==null&&(As(e,t,r,n),D0(e,t,r))}};function TE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Jd(n,r)||!Jd(s,i):!0}function PS(t,e,n){var r=!1,s=Lo,i=e.contextType;return typeof i=="object"&&i!==null?i=us(i):(s=Cr(e)?Ha:Zn.current,r=e.contextTypes,i=(r=r!=null)?Mc(t,s):Lo),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=B2,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function SE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&B2.enqueueReplaceState(e,e.state,null)}function lv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=kS,Sw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=us(i):(i=Cr(e)?Ha:Zn.current,s.context=Mc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(av(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&B2.enqueueReplaceState(s,s.state,null),Ap(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Du(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===kS&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function Jf(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function RE(t){var e=t._init;return e(t._payload)}function NS(t){function e(g,w){if(t){var _=g.deletions;_===null?(g.deletions=[w],g.flags|=16):_.push(w)}}function n(g,w){if(!t)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function r(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function s(g,w){return g=Co(g,w),g.index=0,g.sibling=null,g}function i(g,w,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<w?(g.flags|=2,w):_):(g.flags|=2,w)):(g.flags|=1048576,w)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,w,_,x){return w===null||w.tag!==6?(w=P1(_,g.mode,x),w.return=g,w):(w=s(w,_),w.return=g,w)}function l(g,w,_,x){var S=_.type;return S===Jl?u(g,w,_.props.children,x,_.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===eo&&RE(S)===w.type)?(x=s(w,_.props),x.ref=Du(g,w,_),x.return=g,x):(x=U0(_.type,_.key,_.props,null,g.mode,x),x.ref=Du(g,w,_),x.return=g,x)}function c(g,w,_,x){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=N1(_,g.mode,x),w.return=g,w):(w=s(w,_.children||[]),w.return=g,w)}function u(g,w,_,x,S){return w===null||w.tag!==7?(w=La(_,g.mode,x,S),w.return=g,w):(w=s(w,_),w.return=g,w)}function d(g,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=P1(""+w,g.mode,_),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Uf:return _=U0(w.type,w.key,w.props,null,g.mode,_),_.ref=Du(g,null,w),_.return=g,_;case Xl:return w=N1(w,g.mode,_),w.return=g,w;case eo:var x=w._init;return d(g,x(w._payload),_)}if(od(w)||ku(w))return w=La(w,g.mode,_,null),w.return=g,w;Jf(g,w)}return null}function h(g,w,_,x){var S=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(g,w,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Uf:return _.key===S?l(g,w,_,x):null;case Xl:return _.key===S?c(g,w,_,x):null;case eo:return S=_._init,h(g,w,S(_._payload),x)}if(od(_)||ku(_))return S!==null?null:u(g,w,_,x,null);Jf(g,_)}return null}function p(g,w,_,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(_)||null,a(w,g,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Uf:return g=g.get(x.key===null?_:x.key)||null,l(w,g,x,S);case Xl:return g=g.get(x.key===null?_:x.key)||null,c(w,g,x,S);case eo:var b=x._init;return p(g,w,_,b(x._payload),S)}if(od(x)||ku(x))return g=g.get(_)||null,u(w,g,x,S,null);Jf(w,x)}return null}function m(g,w,_,x){for(var S=null,b=null,T=w,C=w=0,A=null;T!==null&&C<_.length;C++){T.index>C?(A=T,T=null):A=T.sibling;var I=h(g,T,_[C],x);if(I===null){T===null&&(T=A);break}t&&T&&I.alternate===null&&e(g,T),w=i(I,w,C),b===null?S=I:b.sibling=I,b=I,T=A}if(C===_.length)return n(g,T),kt&&ca(g,C),S;if(T===null){for(;C<_.length;C++)T=d(g,_[C],x),T!==null&&(w=i(T,w,C),b===null?S=T:b.sibling=T,b=T);return kt&&ca(g,C),S}for(T=r(g,T);C<_.length;C++)A=p(T,g,C,_[C],x),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?C:A.key),w=i(A,w,C),b===null?S=A:b.sibling=A,b=A);return t&&T.forEach(function(R){return e(g,R)}),kt&&ca(g,C),S}function y(g,w,_,x){var S=ku(_);if(typeof S!="function")throw Error(Q(150));if(_=S.call(_),_==null)throw Error(Q(151));for(var b=S=null,T=w,C=w=0,A=null,I=_.next();T!==null&&!I.done;C++,I=_.next()){T.index>C?(A=T,T=null):A=T.sibling;var R=h(g,T,I.value,x);if(R===null){T===null&&(T=A);break}t&&T&&R.alternate===null&&e(g,T),w=i(R,w,C),b===null?S=R:b.sibling=R,b=R,T=A}if(I.done)return n(g,T),kt&&ca(g,C),S;if(T===null){for(;!I.done;C++,I=_.next())I=d(g,I.value,x),I!==null&&(w=i(I,w,C),b===null?S=I:b.sibling=I,b=I);return kt&&ca(g,C),S}for(T=r(g,T);!I.done;C++,I=_.next())I=p(T,g,C,I.value,x),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?C:I.key),w=i(I,w,C),b===null?S=I:b.sibling=I,b=I);return t&&T.forEach(function(N){return e(g,N)}),kt&&ca(g,C),S}function E(g,w,_,x){if(typeof _=="object"&&_!==null&&_.type===Jl&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Uf:e:{for(var S=_.key,b=w;b!==null;){if(b.key===S){if(S=_.type,S===Jl){if(b.tag===7){n(g,b.sibling),w=s(b,_.props.children),w.return=g,g=w;break e}}else if(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===eo&&RE(S)===b.type){n(g,b.sibling),w=s(b,_.props),w.ref=Du(g,b,_),w.return=g,g=w;break e}n(g,b);break}else e(g,b);b=b.sibling}_.type===Jl?(w=La(_.props.children,g.mode,x,_.key),w.return=g,g=w):(x=U0(_.type,_.key,_.props,null,g.mode,x),x.ref=Du(g,w,_),x.return=g,g=x)}return o(g);case Xl:e:{for(b=_.key;w!==null;){if(w.key===b)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(g,w.sibling),w=s(w,_.children||[]),w.return=g,g=w;break e}else{n(g,w);break}else e(g,w);w=w.sibling}w=N1(_,g.mode,x),w.return=g,g=w}return o(g);case eo:return b=_._init,E(g,w,b(_._payload),x)}if(od(_))return m(g,w,_,x);if(ku(_))return y(g,w,_,x);Jf(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(g,w.sibling),w=s(w,_),w.return=g,g=w):(n(g,w),w=P1(_,g.mode,x),w.return=g,g=w),o(g)):n(g,w)}return E}var Oc=NS(!0),LS=NS(!1),Qh={},si=Ho(Qh),nh=Ho(Qh),rh=Ho(Qh);function ba(t){if(t===Qh)throw Error(Q(174));return t}function Rw(t,e){switch(wt(rh,e),wt(nh,t),wt(si,Qh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vy(e,t)}St(si),wt(si,e)}function $c(){St(si),St(nh),St(rh)}function MS(t){ba(rh.current);var e=ba(si.current),n=Vy(e,t.type);e!==n&&(wt(nh,t),wt(si,n))}function Aw(t){nh.current===t&&(St(si),St(nh))}var Pt=Ho(0);function kp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var I1=[];function kw(){for(var t=0;t<I1.length;t++)I1[t]._workInProgressVersionPrimary=null;I1.length=0}var O0=Bi.ReactCurrentDispatcher,T1=Bi.ReactCurrentBatchConfig,Ga=0,Lt=null,cn=null,fn=null,Pp=!1,Id=!1,sh=0,mM=0;function jn(){throw Error(Q(321))}function Pw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ms(t[n],e[n]))return!1;return!0}function Nw(t,e,n,r,s,i){if(Ga=i,Lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,O0.current=t===null||t.memoizedState===null?_M:wM,t=n(r,s),Id){i=0;do{if(Id=!1,sh=0,25<=i)throw Error(Q(301));i+=1,fn=cn=null,e.updateQueue=null,O0.current=xM,t=n(r,s)}while(Id)}if(O0.current=Np,e=cn!==null&&cn.next!==null,Ga=0,fn=cn=Lt=null,Pp=!1,e)throw Error(Q(300));return t}function Lw(){var t=sh!==0;return sh=0,t}function Bs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Lt.memoizedState=fn=t:fn=fn.next=t,fn}function ds(){if(cn===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=cn.next;var e=fn===null?Lt.memoizedState:fn.next;if(e!==null)fn=e,cn=t;else{if(t===null)throw Error(Q(310));cn=t,t={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},fn===null?Lt.memoizedState=fn=t:fn=fn.next=t}return fn}function ih(t,e){return typeof e=="function"?e(t):e}function S1(t){var e=ds(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=cn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Ga&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Lt.lanes|=u,Ka|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Ms(r,e.memoizedState)||(_r=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Lt.lanes|=i,Ka|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function R1(t){var e=ds(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ms(i,e.memoizedState)||(_r=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function DS(){}function OS(t,e){var n=Lt,r=ds(),s=e(),i=!Ms(r.memoizedState,s);if(i&&(r.memoizedState=s,_r=!0),r=r.queue,Mw(FS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||fn!==null&&fn.memoizedState.tag&1){if(n.flags|=2048,oh(9,jS.bind(null,n,r,s,e),void 0,null),vn===null)throw Error(Q(349));Ga&30||$S(n,e,s)}return s}function $S(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Lt.updateQueue,e===null?(e={lastEffect:null,stores:null},Lt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jS(t,e,n,r){e.value=n,e.getSnapshot=r,VS(e)&&US(t)}function FS(t,e,n){return n(function(){VS(e)&&US(t)})}function VS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ms(t,n)}catch{return!0}}function US(t){var e=Mi(t,1);e!==null&&As(e,t,1,-1)}function AE(t){var e=Bs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ih,lastRenderedState:t},e.queue=t,t=t.dispatch=vM.bind(null,Lt,t),[e.memoizedState,t]}function oh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Lt.updateQueue,e===null?(e={lastEffect:null,stores:null},Lt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function BS(){return ds().memoizedState}function $0(t,e,n,r){var s=Bs();Lt.flags|=t,s.memoizedState=oh(1|e,n,void 0,r===void 0?null:r)}function z2(t,e,n,r){var s=ds();r=r===void 0?null:r;var i=void 0;if(cn!==null){var o=cn.memoizedState;if(i=o.destroy,r!==null&&Pw(r,o.deps)){s.memoizedState=oh(e,n,i,r);return}}Lt.flags|=t,s.memoizedState=oh(1|e,n,i,r)}function kE(t,e){return $0(8390656,8,t,e)}function Mw(t,e){return z2(2048,8,t,e)}function zS(t,e){return z2(4,2,t,e)}function WS(t,e){return z2(4,4,t,e)}function HS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qS(t,e,n){return n=n!=null?n.concat([t]):null,z2(4,4,HS.bind(null,e,t),n)}function Dw(){}function GS(t,e){var n=ds();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function KS(t,e){var n=ds();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function QS(t,e,n){return Ga&21?(Ms(n,e)||(n=JT(),Lt.lanes|=n,Ka|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_r=!0),t.memoizedState=n)}function gM(t,e){var n=lt;lt=n!==0&&4>n?n:4,t(!0);var r=T1.transition;T1.transition={};try{t(!1),e()}finally{lt=n,T1.transition=r}}function YS(){return ds().memoizedState}function yM(t,e,n){var r=bo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},XS(t))JS(e,n);else if(n=RS(t,e,n,r),n!==null){var s=ar();As(n,t,r,s),ZS(n,e,r)}}function vM(t,e,n){var r=bo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(XS(t))JS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ms(a,o)){var l=e.interleaved;l===null?(s.next=s,Tw(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=RS(t,e,s,r),n!==null&&(s=ar(),As(n,t,r,s),ZS(n,e,r))}}function XS(t){var e=t.alternate;return t===Lt||e!==null&&e===Lt}function JS(t,e){Id=Pp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hw(t,n)}}var Np={readContext:us,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},_M={readContext:us,useCallback:function(t,e){return Bs().memoizedState=[t,e===void 0?null:e],t},useContext:us,useEffect:kE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$0(4194308,4,HS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $0(4194308,4,t,e)},useInsertionEffect:function(t,e){return $0(4,2,t,e)},useMemo:function(t,e){var n=Bs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=yM.bind(null,Lt,t),[r.memoizedState,t]},useRef:function(t){var e=Bs();return t={current:t},e.memoizedState=t},useState:AE,useDebugValue:Dw,useDeferredValue:function(t){return Bs().memoizedState=t},useTransition:function(){var t=AE(!1),e=t[0];return t=gM.bind(null,t[1]),Bs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Lt,s=Bs();if(kt){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),vn===null)throw Error(Q(349));Ga&30||$S(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,kE(FS.bind(null,r,i,t),[t]),r.flags|=2048,oh(9,jS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Bs(),e=vn.identifierPrefix;if(kt){var n=xi,r=wi;n=(r&~(1<<32-Rs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=sh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wM={readContext:us,useCallback:GS,useContext:us,useEffect:Mw,useImperativeHandle:qS,useInsertionEffect:zS,useLayoutEffect:WS,useMemo:KS,useReducer:S1,useRef:BS,useState:function(){return S1(ih)},useDebugValue:Dw,useDeferredValue:function(t){var e=ds();return QS(e,cn.memoizedState,t)},useTransition:function(){var t=S1(ih)[0],e=ds().memoizedState;return[t,e]},useMutableSource:DS,useSyncExternalStore:OS,useId:YS,unstable_isNewReconciler:!1},xM={readContext:us,useCallback:GS,useContext:us,useEffect:Mw,useImperativeHandle:qS,useInsertionEffect:zS,useLayoutEffect:WS,useMemo:KS,useReducer:R1,useRef:BS,useState:function(){return R1(ih)},useDebugValue:Dw,useDeferredValue:function(t){var e=ds();return cn===null?e.memoizedState=t:QS(e,cn.memoizedState,t)},useTransition:function(){var t=R1(ih)[0],e=ds().memoizedState;return[t,e]},useMutableSource:DS,useSyncExternalStore:OS,useId:YS,unstable_isNewReconciler:!1};function jc(t,e){try{var n="",r=e;do n+=Q7(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function A1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var EM=typeof WeakMap=="function"?WeakMap:Map;function e6(t,e,n){n=Ai(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Mp||(Mp=!0,_v=r),cv(t,e)},n}function t6(t,e,n){n=Ai(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){cv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){cv(t,e),typeof r!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function PE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new EM;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=OM.bind(null,t,e,n),e.then(t,t))}function NE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function LE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ai(-1,1),e.tag=2,xo(n,e,1))),n.lanes|=1),t)}var bM=Bi.ReactCurrentOwner,_r=!1;function nr(t,e,n,r){e.child=t===null?LS(e,null,n,r):Oc(e,t.child,n,r)}function ME(t,e,n,r,s){n=n.render;var i=e.ref;return _c(e,s),r=Nw(t,e,n,r,i,s),n=Lw(),t!==null&&!_r?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Di(t,e,s)):(kt&&n&&ww(e),e.flags|=1,nr(t,e,r,s),e.child)}function DE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!zw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,n6(t,e,i,r,s)):(t=U0(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Jd,n(o,r)&&t.ref===e.ref)return Di(t,e,s)}return e.flags|=1,t=Co(i,r),t.ref=e.ref,t.return=e,e.child=t}function n6(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Jd(i,r)&&t.ref===e.ref)if(_r=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(_r=!0);else return e.lanes=t.lanes,Di(t,e,s)}return uv(t,e,n,r,s)}function r6(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(lc,Pr),Pr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,wt(lc,Pr),Pr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,wt(lc,Pr),Pr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,wt(lc,Pr),Pr|=r;return nr(t,e,s,n),e.child}function s6(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function uv(t,e,n,r,s){var i=Cr(n)?Ha:Zn.current;return i=Mc(e,i),_c(e,s),n=Nw(t,e,n,r,i,s),r=Lw(),t!==null&&!_r?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Di(t,e,s)):(kt&&r&&ww(e),e.flags|=1,nr(t,e,n,s),e.child)}function OE(t,e,n,r,s){if(Cr(n)){var i=!0;Cp(e)}else i=!1;if(_c(e,s),e.stateNode===null)j0(t,e),PS(e,n,r),lv(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=us(c):(c=Cr(n)?Ha:Zn.current,c=Mc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&SE(e,o,r,c),to=!1;var h=e.memoizedState;o.state=h,Ap(e,r,o,s),l=e.memoizedState,a!==r||h!==l||br.current||to?(typeof u=="function"&&(av(e,n,u,r),l=e.memoizedState),(a=to||TE(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,AS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:bs(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=us(l):(l=Cr(n)?Ha:Zn.current,l=Mc(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&SE(e,o,r,l),to=!1,h=e.memoizedState,o.state=h,Ap(e,r,o,s);var m=e.memoizedState;a!==d||h!==m||br.current||to?(typeof p=="function"&&(av(e,n,p,r),m=e.memoizedState),(c=to||TE(e,n,c,r,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return dv(t,e,n,r,i,s)}function dv(t,e,n,r,s,i){s6(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&xE(e,n,!1),Di(t,e,i);r=e.stateNode,bM.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Oc(e,t.child,null,i),e.child=Oc(e,null,a,i)):nr(t,e,a,i),e.memoizedState=r.state,s&&xE(e,n,!0),e.child}function i6(t){var e=t.stateNode;e.pendingContext?wE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wE(t,e.context,!1),Rw(t,e.containerInfo)}function $E(t,e,n,r,s){return Dc(),Ew(s),e.flags|=256,nr(t,e,n,r),e.child}var hv={dehydrated:null,treeContext:null,retryLane:0};function fv(t){return{baseLanes:t,cachePool:null,transitions:null}}function o6(t,e,n){var r=e.pendingProps,s=Pt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),wt(Pt,s&1),t===null)return iv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=q2(o,r,0,null),t=La(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=fv(n),e.memoizedState=hv,t):Ow(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return CM(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Co(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Co(a,i):(i=La(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?fv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=hv,r}return i=t.child,t=i.sibling,r=Co(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ow(t,e){return e=q2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zf(t,e,n,r){return r!==null&&Ew(r),Oc(e,t.child,null,n),t=Ow(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CM(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=A1(Error(Q(422))),Zf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=q2({mode:"visible",children:r.children},s,0,null),i=La(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Oc(e,t.child,null,o),e.child.memoizedState=fv(o),e.memoizedState=hv,i);if(!(e.mode&1))return Zf(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Q(419)),r=A1(i,r,void 0),Zf(t,e,o,r)}if(a=(o&t.childLanes)!==0,_r||a){if(r=vn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Mi(t,s),As(r,t,s,-1))}return Bw(),r=A1(Error(Q(421))),Zf(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=$M.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Lr=wo(s.nextSibling),Or=e,kt=!0,Is=null,t!==null&&(Xr[Jr++]=wi,Xr[Jr++]=xi,Xr[Jr++]=qa,wi=t.id,xi=t.overflow,qa=e),e=Ow(e,r.children),e.flags|=4096,e)}function jE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ov(t.return,e,n)}function k1(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function a6(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(nr(t,e,r.children,n),r=Pt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jE(t,n,e);else if(t.tag===19)jE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(wt(Pt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&kp(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),k1(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&kp(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}k1(e,!0,n,null,i);break;case"together":k1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function j0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Di(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ka|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Co(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Co(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function IM(t,e,n){switch(e.tag){case 3:i6(e),Dc();break;case 5:MS(e);break;case 1:Cr(e.type)&&Cp(e);break;case 4:Rw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;wt(Sp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(wt(Pt,Pt.current&1),e.flags|=128,null):n&e.child.childLanes?o6(t,e,n):(wt(Pt,Pt.current&1),t=Di(t,e,n),t!==null?t.sibling:null);wt(Pt,Pt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return a6(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),wt(Pt,Pt.current),r)break;return null;case 22:case 23:return e.lanes=0,r6(t,e,n)}return Di(t,e,n)}var l6,pv,c6,u6;l6=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pv=function(){};c6=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ba(si.current);var i=null;switch(n){case"input":s=Oy(t,s),r=Oy(t,r),i=[];break;case"select":s=Dt({},s,{value:void 0}),r=Dt({},r,{value:void 0}),i=[];break;case"textarea":s=Fy(t,s),r=Fy(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ep)}Uy(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hd.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Et("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};u6=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ou(t,e){if(!kt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Fn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TM(t,e,n){var r=e.pendingProps;switch(xw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fn(e),null;case 1:return Cr(e.type)&&bp(),Fn(e),null;case 3:return r=e.stateNode,$c(),St(br),St(Zn),kw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Is!==null&&(Ev(Is),Is=null))),pv(t,e),Fn(e),null;case 5:Aw(e);var s=ba(rh.current);if(n=e.type,t!==null&&e.stateNode!=null)c6(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Fn(e),null}if(t=ba(si.current),Xf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ks]=e,r[th]=i,t=(e.mode&1)!==0,n){case"dialog":Et("cancel",r),Et("close",r);break;case"iframe":case"object":case"embed":Et("load",r);break;case"video":case"audio":for(s=0;s<ld.length;s++)Et(ld[s],r);break;case"source":Et("error",r);break;case"img":case"image":case"link":Et("error",r),Et("load",r);break;case"details":Et("toggle",r);break;case"input":G5(r,i),Et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Et("invalid",r);break;case"textarea":Q5(r,i),Et("invalid",r)}Uy(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Yf(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Yf(r.textContent,a,t),s=["children",""+a]):Hd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Et("scroll",r)}switch(n){case"input":Bf(r),K5(r,i,!0);break;case"textarea":Bf(r),Y5(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ep)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$T(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ks]=e,t[th]=r,l6(t,e,!1,!1),e.stateNode=t;e:{switch(o=By(n,r),n){case"dialog":Et("cancel",t),Et("close",t),s=r;break;case"iframe":case"object":case"embed":Et("load",t),s=r;break;case"video":case"audio":for(s=0;s<ld.length;s++)Et(ld[s],t);s=r;break;case"source":Et("error",t),s=r;break;case"img":case"image":case"link":Et("error",t),Et("load",t),s=r;break;case"details":Et("toggle",t),s=r;break;case"input":G5(t,r),s=Oy(t,r),Et("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Dt({},r,{value:void 0}),Et("invalid",t);break;case"textarea":Q5(t,r),s=Fy(t,r),Et("invalid",t);break;default:s=r}Uy(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?VT(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jT(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qd(t,l):typeof l=="number"&&qd(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Hd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Et("scroll",t):l!=null&&ow(t,i,l,o))}switch(n){case"input":Bf(t),K5(t,r,!1);break;case"textarea":Bf(t),Y5(t);break;case"option":r.value!=null&&t.setAttribute("value",""+No(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?mc(t,!!r.multiple,i,!1):r.defaultValue!=null&&mc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ep)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Fn(e),null;case 6:if(t&&e.stateNode!=null)u6(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=ba(rh.current),ba(si.current),Xf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ks]=e,(i=r.nodeValue!==n)&&(t=Or,t!==null))switch(t.tag){case 3:Yf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yf(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ks]=e,e.stateNode=r}return Fn(e),null;case 13:if(St(Pt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(kt&&Lr!==null&&e.mode&1&&!(e.flags&128))SS(),Dc(),e.flags|=98560,i=!1;else if(i=Xf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[Ks]=e}else Dc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fn(e),i=!1}else Is!==null&&(Ev(Is),Is=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pt.current&1?un===0&&(un=3):Bw())),e.updateQueue!==null&&(e.flags|=4),Fn(e),null);case 4:return $c(),pv(t,e),t===null&&Zd(e.stateNode.containerInfo),Fn(e),null;case 10:return Iw(e.type._context),Fn(e),null;case 17:return Cr(e.type)&&bp(),Fn(e),null;case 19:if(St(Pt),i=e.memoizedState,i===null)return Fn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ou(i,!1);else{if(un!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=kp(t),o!==null){for(e.flags|=128,Ou(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return wt(Pt,Pt.current&1|2),e.child}t=t.sibling}i.tail!==null&&qt()>Fc&&(e.flags|=128,r=!0,Ou(i,!1),e.lanes=4194304)}else{if(!r)if(t=kp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ou(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!kt)return Fn(e),null}else 2*qt()-i.renderingStartTime>Fc&&n!==1073741824&&(e.flags|=128,r=!0,Ou(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=qt(),e.sibling=null,n=Pt.current,wt(Pt,r?n&1|2:n&1),e):(Fn(e),null);case 22:case 23:return Uw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pr&1073741824&&(Fn(e),e.subtreeFlags&6&&(e.flags|=8192)):Fn(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function SM(t,e){switch(xw(e),e.tag){case 1:return Cr(e.type)&&bp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $c(),St(br),St(Zn),kw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Aw(e),null;case 13:if(St(Pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Dc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return St(Pt),null;case 4:return $c(),null;case 10:return Iw(e.type._context),null;case 22:case 23:return Uw(),null;case 24:return null;default:return null}}var e0=!1,Bn=!1,RM=typeof WeakSet=="function"?WeakSet:Set,oe=null;function ac(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ft(t,e,r)}else n.current=null}function mv(t,e,n){try{n()}catch(r){Ft(t,e,r)}}var FE=!1;function AM(t,e){if(Jy=_p,t=pS(),_w(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zy={focusedElem:t,selectionRange:n},_p=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,E=m.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:bs(e.type,y),E);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(x){Ft(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return m=FE,FE=!1,m}function Td(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&mv(e,n,i)}s=s.next}while(s!==r)}}function W2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function d6(t){var e=t.alternate;e!==null&&(t.alternate=null,d6(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ks],delete e[th],delete e[nv],delete e[dM],delete e[hM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function h6(t){return t.tag===5||t.tag===3||t.tag===4}function VE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||h6(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ep));else if(r!==4&&(t=t.child,t!==null))for(yv(t,e,n),t=t.sibling;t!==null;)yv(t,e,n),t=t.sibling}function vv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vv(t,e,n),t=t.sibling;t!==null;)vv(t,e,n),t=t.sibling}var Cn=null,Cs=!1;function Gi(t,e,n){for(n=n.child;n!==null;)f6(t,e,n),n=n.sibling}function f6(t,e,n){if(ri&&typeof ri.onCommitFiberUnmount=="function")try{ri.onCommitFiberUnmount(O2,n)}catch{}switch(n.tag){case 5:Bn||ac(n,e);case 6:var r=Cn,s=Cs;Cn=null,Gi(t,e,n),Cn=r,Cs=s,Cn!==null&&(Cs?(t=Cn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Cn.removeChild(n.stateNode));break;case 18:Cn!==null&&(Cs?(t=Cn,n=n.stateNode,t.nodeType===8?b1(t.parentNode,n):t.nodeType===1&&b1(t,n),Yd(t)):b1(Cn,n.stateNode));break;case 4:r=Cn,s=Cs,Cn=n.stateNode.containerInfo,Cs=!0,Gi(t,e,n),Cn=r,Cs=s;break;case 0:case 11:case 14:case 15:if(!Bn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&mv(n,e,o),s=s.next}while(s!==r)}Gi(t,e,n);break;case 1:if(!Bn&&(ac(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ft(n,e,a)}Gi(t,e,n);break;case 21:Gi(t,e,n);break;case 22:n.mode&1?(Bn=(r=Bn)||n.memoizedState!==null,Gi(t,e,n),Bn=r):Gi(t,e,n);break;default:Gi(t,e,n)}}function UE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RM),e.forEach(function(r){var s=jM.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ws(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Cn=a.stateNode,Cs=!1;break e;case 3:Cn=a.stateNode.containerInfo,Cs=!0;break e;case 4:Cn=a.stateNode.containerInfo,Cs=!0;break e}a=a.return}if(Cn===null)throw Error(Q(160));f6(i,o,s),Cn=null,Cs=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ft(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)p6(e,t),e=e.sibling}function p6(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ws(e,t),Us(t),r&4){try{Td(3,t,t.return),W2(3,t)}catch(y){Ft(t,t.return,y)}try{Td(5,t,t.return)}catch(y){Ft(t,t.return,y)}}break;case 1:ws(e,t),Us(t),r&512&&n!==null&&ac(n,n.return);break;case 5:if(ws(e,t),Us(t),r&512&&n!==null&&ac(n,n.return),t.flags&32){var s=t.stateNode;try{qd(s,"")}catch(y){Ft(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&DT(s,i),By(a,o);var c=By(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?VT(s,d):u==="dangerouslySetInnerHTML"?jT(s,d):u==="children"?qd(s,d):ow(s,u,d,c)}switch(a){case"input":$y(s,i);break;case"textarea":OT(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?mc(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?mc(s,!!i.multiple,i.defaultValue,!0):mc(s,!!i.multiple,i.multiple?[]:"",!1))}s[th]=i}catch(y){Ft(t,t.return,y)}}break;case 6:if(ws(e,t),Us(t),r&4){if(t.stateNode===null)throw Error(Q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){Ft(t,t.return,y)}}break;case 3:if(ws(e,t),Us(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yd(e.containerInfo)}catch(y){Ft(t,t.return,y)}break;case 4:ws(e,t),Us(t);break;case 13:ws(e,t),Us(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Fw=qt())),r&4&&UE(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Bn=(c=Bn)||u,ws(e,t),Bn=c):ws(e,t),Us(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(oe=t,u=t.child;u!==null;){for(d=oe=u;oe!==null;){switch(h=oe,p=h.child,h.tag){case 0:case 11:case 14:case 15:Td(4,h,h.return);break;case 1:ac(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){Ft(r,n,y)}}break;case 5:ac(h,h.return);break;case 22:if(h.memoizedState!==null){zE(d);continue}}p!==null?(p.return=h,oe=p):zE(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=FT("display",o))}catch(y){Ft(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Ft(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ws(e,t),Us(t),r&4&&UE(t);break;case 21:break;default:ws(e,t),Us(t)}}function Us(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(h6(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(qd(s,""),r.flags&=-33);var i=VE(t);vv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=VE(t);yv(t,a,o);break;default:throw Error(Q(161))}}catch(l){Ft(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kM(t,e,n){oe=t,m6(t)}function m6(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var s=oe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||e0;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Bn;a=e0;var c=Bn;if(e0=o,(Bn=l)&&!c)for(oe=s;oe!==null;)o=oe,l=o.child,o.tag===22&&o.memoizedState!==null?WE(s):l!==null?(l.return=o,oe=l):WE(s);for(;i!==null;)oe=i,m6(i),i=i.sibling;oe=s,e0=a,Bn=c}BE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,oe=i):BE(t)}}function BE(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bn||W2(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:bs(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&IE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}IE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Yd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Bn||e.flags&512&&gv(e)}catch(h){Ft(e,e.return,h)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function zE(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function WE(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{W2(4,e)}catch(l){Ft(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ft(e,s,l)}}var i=e.return;try{gv(e)}catch(l){Ft(e,i,l)}break;case 5:var o=e.return;try{gv(e)}catch(l){Ft(e,o,l)}}}catch(l){Ft(e,e.return,l)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var PM=Math.ceil,Lp=Bi.ReactCurrentDispatcher,$w=Bi.ReactCurrentOwner,is=Bi.ReactCurrentBatchConfig,Qe=0,vn=null,tn=null,kn=0,Pr=0,lc=Ho(0),un=0,ah=null,Ka=0,H2=0,jw=0,Sd=null,yr=null,Fw=0,Fc=1/0,pi=null,Mp=!1,_v=null,Eo=null,t0=!1,fo=null,Dp=0,Rd=0,wv=null,F0=-1,V0=0;function ar(){return Qe&6?qt():F0!==-1?F0:F0=qt()}function bo(t){return t.mode&1?Qe&2&&kn!==0?kn&-kn:pM.transition!==null?(V0===0&&(V0=JT()),V0):(t=lt,t!==0||(t=window.event,t=t===void 0?16:iS(t.type)),t):1}function As(t,e,n,r){if(50<Rd)throw Rd=0,wv=null,Error(Q(185));qh(t,n,r),(!(Qe&2)||t!==vn)&&(t===vn&&(!(Qe&2)&&(H2|=n),un===4&&ro(t,kn)),Ir(t,r),n===1&&Qe===0&&!(e.mode&1)&&(Fc=qt()+500,U2&&qo()))}function Ir(t,e){var n=t.callbackNode;pL(t,e);var r=vp(t,t===vn?kn:0);if(r===0)n!==null&&Z5(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Z5(n),e===1)t.tag===0?fM(HE.bind(null,t)):CS(HE.bind(null,t)),cM(function(){!(Qe&6)&&qo()}),n=null;else{switch(ZT(r)){case 1:n=dw;break;case 4:n=YT;break;case 16:n=yp;break;case 536870912:n=XT;break;default:n=yp}n=b6(n,g6.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function g6(t,e){if(F0=-1,V0=0,Qe&6)throw Error(Q(327));var n=t.callbackNode;if(wc()&&t.callbackNode!==n)return null;var r=vp(t,t===vn?kn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Op(t,r);else{e=r;var s=Qe;Qe|=2;var i=v6();(vn!==t||kn!==e)&&(pi=null,Fc=qt()+500,Na(t,e));do try{MM();break}catch(a){y6(t,a)}while(!0);Cw(),Lp.current=i,Qe=s,tn!==null?e=0:(vn=null,kn=0,e=un)}if(e!==0){if(e===2&&(s=Gy(t),s!==0&&(r=s,e=xv(t,s))),e===1)throw n=ah,Na(t,0),ro(t,r),Ir(t,qt()),n;if(e===6)ro(t,r);else{if(s=t.current.alternate,!(r&30)&&!NM(s)&&(e=Op(t,r),e===2&&(i=Gy(t),i!==0&&(r=i,e=xv(t,i))),e===1))throw n=ah,Na(t,0),ro(t,r),Ir(t,qt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:ua(t,yr,pi);break;case 3:if(ro(t,r),(r&130023424)===r&&(e=Fw+500-qt(),10<e)){if(vp(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ar(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=tv(ua.bind(null,t,yr,pi),e);break}ua(t,yr,pi);break;case 4:if(ro(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Rs(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=qt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PM(r/1960))-r,10<r){t.timeoutHandle=tv(ua.bind(null,t,yr,pi),r);break}ua(t,yr,pi);break;case 5:ua(t,yr,pi);break;default:throw Error(Q(329))}}}return Ir(t,qt()),t.callbackNode===n?g6.bind(null,t):null}function xv(t,e){var n=Sd;return t.current.memoizedState.isDehydrated&&(Na(t,e).flags|=256),t=Op(t,e),t!==2&&(e=yr,yr=n,e!==null&&Ev(e)),t}function Ev(t){yr===null?yr=t:yr.push.apply(yr,t)}function NM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ms(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ro(t,e){for(e&=~jw,e&=~H2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rs(e),r=1<<n;t[n]=-1,e&=~r}}function HE(t){if(Qe&6)throw Error(Q(327));wc();var e=vp(t,0);if(!(e&1))return Ir(t,qt()),null;var n=Op(t,e);if(t.tag!==0&&n===2){var r=Gy(t);r!==0&&(e=r,n=xv(t,r))}if(n===1)throw n=ah,Na(t,0),ro(t,e),Ir(t,qt()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ua(t,yr,pi),Ir(t,qt()),null}function Vw(t,e){var n=Qe;Qe|=1;try{return t(e)}finally{Qe=n,Qe===0&&(Fc=qt()+500,U2&&qo())}}function Qa(t){fo!==null&&fo.tag===0&&!(Qe&6)&&wc();var e=Qe;Qe|=1;var n=is.transition,r=lt;try{if(is.transition=null,lt=1,t)return t()}finally{lt=r,is.transition=n,Qe=e,!(Qe&6)&&qo()}}function Uw(){Pr=lc.current,St(lc)}function Na(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lM(n)),tn!==null)for(n=tn.return;n!==null;){var r=n;switch(xw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bp();break;case 3:$c(),St(br),St(Zn),kw();break;case 5:Aw(r);break;case 4:$c();break;case 13:St(Pt);break;case 19:St(Pt);break;case 10:Iw(r.type._context);break;case 22:case 23:Uw()}n=n.return}if(vn=t,tn=t=Co(t.current,null),kn=Pr=e,un=0,ah=null,jw=H2=Ka=0,yr=Sd=null,Ea!==null){for(e=0;e<Ea.length;e++)if(n=Ea[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ea=null}return t}function y6(t,e){do{var n=tn;try{if(Cw(),O0.current=Np,Pp){for(var r=Lt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Pp=!1}if(Ga=0,fn=cn=Lt=null,Id=!1,sh=0,$w.current=null,n===null||n.return===null){un=1,ah=e,tn=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=kn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=NE(o);if(p!==null){p.flags&=-257,LE(p,o,a,i,e),p.mode&1&&PE(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){PE(i,c,e),Bw();break e}l=Error(Q(426))}}else if(kt&&a.mode&1){var E=NE(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),LE(E,o,a,i,e),Ew(jc(l,a));break e}}i=l=jc(l,a),un!==4&&(un=2),Sd===null?Sd=[i]:Sd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=e6(i,l,e);CE(i,g);break e;case 1:a=l;var w=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Eo===null||!Eo.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=t6(i,a,e);CE(i,x);break e}}i=i.return}while(i!==null)}w6(n)}catch(S){e=S,tn===n&&n!==null&&(tn=n=n.return);continue}break}while(!0)}function v6(){var t=Lp.current;return Lp.current=Np,t===null?Np:t}function Bw(){(un===0||un===3||un===2)&&(un=4),vn===null||!(Ka&268435455)&&!(H2&268435455)||ro(vn,kn)}function Op(t,e){var n=Qe;Qe|=2;var r=v6();(vn!==t||kn!==e)&&(pi=null,Na(t,e));do try{LM();break}catch(s){y6(t,s)}while(!0);if(Cw(),Qe=n,Lp.current=r,tn!==null)throw Error(Q(261));return vn=null,kn=0,un}function LM(){for(;tn!==null;)_6(tn)}function MM(){for(;tn!==null&&!iL();)_6(tn)}function _6(t){var e=E6(t.alternate,t,Pr);t.memoizedProps=t.pendingProps,e===null?w6(t):tn=e,$w.current=null}function w6(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=SM(n,e),n!==null){n.flags&=32767,tn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{un=6,tn=null;return}}else if(n=TM(n,e,Pr),n!==null){tn=n;return}if(e=e.sibling,e!==null){tn=e;return}tn=e=t}while(e!==null);un===0&&(un=5)}function ua(t,e,n){var r=lt,s=is.transition;try{is.transition=null,lt=1,DM(t,e,n,r)}finally{is.transition=s,lt=r}return null}function DM(t,e,n,r){do wc();while(fo!==null);if(Qe&6)throw Error(Q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(mL(t,i),t===vn&&(tn=vn=null,kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||t0||(t0=!0,b6(yp,function(){return wc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=is.transition,is.transition=null;var o=lt;lt=1;var a=Qe;Qe|=4,$w.current=null,AM(t,n),p6(n,t),tM(Zy),_p=!!Jy,Zy=Jy=null,t.current=n,kM(n),oL(),Qe=a,lt=o,is.transition=i}else t.current=n;if(t0&&(t0=!1,fo=t,Dp=s),i=t.pendingLanes,i===0&&(Eo=null),cL(n.stateNode),Ir(t,qt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Mp)throw Mp=!1,t=_v,_v=null,t;return Dp&1&&t.tag!==0&&wc(),i=t.pendingLanes,i&1?t===wv?Rd++:(Rd=0,wv=t):Rd=0,qo(),null}function wc(){if(fo!==null){var t=ZT(Dp),e=is.transition,n=lt;try{if(is.transition=null,lt=16>t?16:t,fo===null)var r=!1;else{if(t=fo,fo=null,Dp=0,Qe&6)throw Error(Q(331));var s=Qe;for(Qe|=4,oe=t.current;oe!==null;){var i=oe,o=i.child;if(oe.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(oe=c;oe!==null;){var u=oe;switch(u.tag){case 0:case 11:case 15:Td(8,u,i)}var d=u.child;if(d!==null)d.return=u,oe=d;else for(;oe!==null;){u=oe;var h=u.sibling,p=u.return;if(d6(u),u===c){oe=null;break}if(h!==null){h.return=p,oe=h;break}oe=p}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}oe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,oe=o;else e:for(;oe!==null;){if(i=oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Td(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,oe=g;break e}oe=i.return}}var w=t.current;for(oe=w;oe!==null;){o=oe;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,oe=_;else e:for(o=w;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:W2(9,a)}}catch(S){Ft(a,a.return,S)}if(a===o){oe=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,oe=x;break e}oe=a.return}}if(Qe=s,qo(),ri&&typeof ri.onPostCommitFiberRoot=="function")try{ri.onPostCommitFiberRoot(O2,t)}catch{}r=!0}return r}finally{lt=n,is.transition=e}}return!1}function qE(t,e,n){e=jc(n,e),e=e6(t,e,1),t=xo(t,e,1),e=ar(),t!==null&&(qh(t,1,e),Ir(t,e))}function Ft(t,e,n){if(t.tag===3)qE(t,t,n);else for(;e!==null;){if(e.tag===3){qE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Eo===null||!Eo.has(r))){t=jc(n,t),t=t6(e,t,1),e=xo(e,t,1),t=ar(),e!==null&&(qh(e,1,t),Ir(e,t));break}}e=e.return}}function OM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ar(),t.pingedLanes|=t.suspendedLanes&n,vn===t&&(kn&n)===n&&(un===4||un===3&&(kn&130023424)===kn&&500>qt()-Fw?Na(t,0):jw|=n),Ir(t,e)}function x6(t,e){e===0&&(t.mode&1?(e=Hf,Hf<<=1,!(Hf&130023424)&&(Hf=4194304)):e=1);var n=ar();t=Mi(t,e),t!==null&&(qh(t,e,n),Ir(t,n))}function $M(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),x6(t,n)}function jM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),x6(t,n)}var E6;E6=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||br.current)_r=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _r=!1,IM(t,e,n);_r=!!(t.flags&131072)}else _r=!1,kt&&e.flags&1048576&&IS(e,Tp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;j0(t,e),t=e.pendingProps;var s=Mc(e,Zn.current);_c(e,n),s=Nw(null,e,r,t,s,n);var i=Lw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cr(r)?(i=!0,Cp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Sw(e),s.updater=B2,e.stateNode=s,s._reactInternals=e,lv(e,r,t,n),e=dv(null,e,r,!0,i,n)):(e.tag=0,kt&&i&&ww(e),nr(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(j0(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=VM(r),t=bs(r,t),s){case 0:e=uv(null,e,r,t,n);break e;case 1:e=OE(null,e,r,t,n);break e;case 11:e=ME(null,e,r,t,n);break e;case 14:e=DE(null,e,r,bs(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bs(r,s),uv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bs(r,s),OE(t,e,r,s,n);case 3:e:{if(i6(e),t===null)throw Error(Q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,AS(t,e),Ap(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=jc(Error(Q(423)),e),e=$E(t,e,r,n,s);break e}else if(r!==s){s=jc(Error(Q(424)),e),e=$E(t,e,r,n,s);break e}else for(Lr=wo(e.stateNode.containerInfo.firstChild),Or=e,kt=!0,Is=null,n=LS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dc(),r===s){e=Di(t,e,n);break e}nr(t,e,r,n)}e=e.child}return e;case 5:return MS(e),t===null&&iv(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,ev(r,s)?o=null:i!==null&&ev(r,i)&&(e.flags|=32),s6(t,e),nr(t,e,o,n),e.child;case 6:return t===null&&iv(e),null;case 13:return o6(t,e,n);case 4:return Rw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Oc(e,null,r,n):nr(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bs(r,s),ME(t,e,r,s,n);case 7:return nr(t,e,e.pendingProps,n),e.child;case 8:return nr(t,e,e.pendingProps.children,n),e.child;case 12:return nr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,wt(Sp,r._currentValue),r._currentValue=o,i!==null)if(Ms(i.value,o)){if(i.children===s.children&&!br.current){e=Di(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ai(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ov(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ov(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}nr(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,_c(e,n),s=us(s),r=r(s),e.flags|=1,nr(t,e,r,n),e.child;case 14:return r=e.type,s=bs(r,e.pendingProps),s=bs(r.type,s),DE(t,e,r,s,n);case 15:return n6(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bs(r,s),j0(t,e),e.tag=1,Cr(r)?(t=!0,Cp(e)):t=!1,_c(e,n),PS(e,r,s),lv(e,r,s,n),dv(null,e,r,!0,t,n);case 19:return a6(t,e,n);case 22:return r6(t,e,n)}throw Error(Q(156,e.tag))};function b6(t,e){return QT(t,e)}function FM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ts(t,e,n,r){return new FM(t,e,n,r)}function zw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VM(t){if(typeof t=="function")return zw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lw)return 11;if(t===cw)return 14}return 2}function Co(t,e){var n=t.alternate;return n===null?(n=ts(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function U0(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")zw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Jl:return La(n.children,s,i,e);case aw:o=8,s|=8;break;case Ny:return t=ts(12,n,e,s|2),t.elementType=Ny,t.lanes=i,t;case Ly:return t=ts(13,n,e,s),t.elementType=Ly,t.lanes=i,t;case My:return t=ts(19,n,e,s),t.elementType=My,t.lanes=i,t;case NT:return q2(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kT:o=10;break e;case PT:o=9;break e;case lw:o=11;break e;case cw:o=14;break e;case eo:o=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=ts(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function La(t,e,n,r){return t=ts(7,t,r,e),t.lanes=n,t}function q2(t,e,n,r){return t=ts(22,t,r,e),t.elementType=NT,t.lanes=n,t.stateNode={isHidden:!1},t}function P1(t,e,n){return t=ts(6,t,null,e),t.lanes=n,t}function N1(t,e,n){return e=ts(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UM(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=h1(0),this.expirationTimes=h1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=h1(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ww(t,e,n,r,s,i,o,a,l){return t=new UM(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ts(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sw(i),t}function BM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function C6(t){if(!t)return Lo;t=t._reactInternals;e:{if(gl(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(Cr(n))return bS(t,n,e)}return e}function I6(t,e,n,r,s,i,o,a,l){return t=Ww(n,r,!0,t,s,i,o,a,l),t.context=C6(null),n=t.current,r=ar(),s=bo(n),i=Ai(r,s),i.callback=e??null,xo(n,i,s),t.current.lanes=s,qh(t,s,r),Ir(t,r),t}function G2(t,e,n,r){var s=e.current,i=ar(),o=bo(s);return n=C6(n),e.context===null?e.context=n:e.pendingContext=n,e=Ai(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xo(s,e,o),t!==null&&(As(t,s,o,i),D0(t,s,o)),o}function $p(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function GE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hw(t,e){GE(t,e),(t=t.alternate)&&GE(t,e)}function zM(){return null}var T6=typeof reportError=="function"?reportError:function(t){console.error(t)};function qw(t){this._internalRoot=t}K2.prototype.render=qw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));G2(t,e,null,null)};K2.prototype.unmount=qw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qa(function(){G2(null,t,null,null)}),e[Li]=null}};function K2(t){this._internalRoot=t}K2.prototype.unstable_scheduleHydration=function(t){if(t){var e=nS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<no.length&&e!==0&&e<no[n].priority;n++);no.splice(n,0,t),n===0&&sS(t)}};function Gw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Q2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function KE(){}function WM(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=$p(o);i.call(c)}}var o=I6(e,r,t,0,null,!1,!1,"",KE);return t._reactRootContainer=o,t[Li]=o.current,Zd(t.nodeType===8?t.parentNode:t),Qa(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=$p(l);a.call(c)}}var l=Ww(t,0,!1,null,null,!1,!1,"",KE);return t._reactRootContainer=l,t[Li]=l.current,Zd(t.nodeType===8?t.parentNode:t),Qa(function(){G2(e,l,n,r)}),l}function Y2(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=$p(o);a.call(l)}}G2(e,o,t,s)}else o=WM(n,e,t,s,r);return $p(o)}eS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ad(e.pendingLanes);n!==0&&(hw(e,n|1),Ir(e,qt()),!(Qe&6)&&(Fc=qt()+500,qo()))}break;case 13:Qa(function(){var r=Mi(t,1);if(r!==null){var s=ar();As(r,t,1,s)}}),Hw(t,1)}};fw=function(t){if(t.tag===13){var e=Mi(t,134217728);if(e!==null){var n=ar();As(e,t,134217728,n)}Hw(t,134217728)}};tS=function(t){if(t.tag===13){var e=bo(t),n=Mi(t,e);if(n!==null){var r=ar();As(n,t,e,r)}Hw(t,e)}};nS=function(){return lt};rS=function(t,e){var n=lt;try{return lt=t,e()}finally{lt=n}};Wy=function(t,e,n){switch(e){case"input":if($y(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=V2(r);if(!s)throw Error(Q(90));MT(r),$y(r,s)}}}break;case"textarea":OT(t,n);break;case"select":e=n.value,e!=null&&mc(t,!!n.multiple,e,!1)}};zT=Vw;WT=Qa;var HM={usingClientEntryPoint:!1,Events:[Kh,nc,V2,UT,BT,Vw]},$u={findFiberByHostInstance:xa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},qM={bundleType:$u.bundleType,version:$u.version,rendererPackageName:$u.rendererPackageName,rendererConfig:$u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=GT(t),t===null?null:t.stateNode},findFiberByHostInstance:$u.findFiberByHostInstance||zM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var n0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!n0.isDisabled&&n0.supportsFiber)try{O2=n0.inject(qM),ri=n0}catch{}}zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HM;zr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gw(e))throw Error(Q(200));return BM(t,e,null,n)};zr.createRoot=function(t,e){if(!Gw(t))throw Error(Q(299));var n=!1,r="",s=T6;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ww(t,1,!1,null,null,n,!1,r,s),t[Li]=e.current,Zd(t.nodeType===8?t.parentNode:t),new qw(e)};zr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=GT(e),t=t===null?null:t.stateNode,t};zr.flushSync=function(t){return Qa(t)};zr.hydrate=function(t,e,n){if(!Q2(e))throw Error(Q(200));return Y2(null,t,e,!0,n)};zr.hydrateRoot=function(t,e,n){if(!Gw(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=T6;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=I6(e,null,t,1,n??null,s,!1,i,o),t[Li]=e.current,Zd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new K2(e)};zr.render=function(t,e,n){if(!Q2(e))throw Error(Q(200));return Y2(null,t,e,!1,n)};zr.unmountComponentAtNode=function(t){if(!Q2(t))throw Error(Q(40));return t._reactRootContainer?(Qa(function(){Y2(null,null,t,!1,function(){t._reactRootContainer=null,t[Li]=null})}),!0):!1};zr.unstable_batchedUpdates=Vw;zr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Q2(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return Y2(t,e,n,!1,r)};zr.version="18.2.0-next-9e3b772b8-20220608";function S6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S6)}catch(t){console.error(t)}}S6(),IT.exports=zr;var lh=IT.exports;const r0=pT(lh);var QE=lh;ky.createRoot=QE.createRoot,ky.hydrateRoot=QE.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ch.apply(this,arguments)}var po;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(po||(po={}));const YE="popstate";function GM(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=yl(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),bv("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:jp(i))}function r(s,i){X2(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return QM(e,n,r,t)}function rn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function X2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KM(){return Math.random().toString(36).substr(2,8)}function XE(t,e){return{usr:t.state,key:t.key,idx:e}}function bv(t,e,n,r){return n===void 0&&(n=null),ch({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yl(e):e,{state:n,key:e&&e.key||r||KM()})}function jp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function yl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function QM(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=po.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(ch({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=po.Pop;let E=u(),g=E==null?null:E-c;c=E,l&&l({action:a,location:y.location,delta:g})}function h(E,g){a=po.Push;let w=bv(y.location,E,g);n&&n(w,E),c=u()+1;let _=XE(w,c),x=y.createHref(w);try{o.pushState(_,"",x)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(x)}i&&l&&l({action:a,location:y.location,delta:1})}function p(E,g){a=po.Replace;let w=bv(y.location,E,g);n&&n(w,E),c=u();let _=XE(w,c),x=y.createHref(w);o.replaceState(_,"",x),i&&l&&l({action:a,location:y.location,delta:0})}function m(E){let g=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof E=="string"?E:jp(E);return rn(g,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,g)}let y={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(YE,d),l=E,()=>{s.removeEventListener(YE,d),l=null}},createHref(E){return e(s,E)},createURL:m,encodeLocation(E){let g=m(E);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(E){return o.go(E)}};return y}var JE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(JE||(JE={}));function YM(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?yl(e):e,s=Kw(r.pathname||"/",n);if(s==null)return null;let i=R6(t);XM(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=oD(i[a],cD(s));return o}function R6(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(rn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Io([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(rn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),R6(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:sD(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of A6(i.path))s(i,o,l)}),e}function A6(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=A6(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function XM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const JM=/^:[\w-]+$/,ZM=3,eD=2,tD=1,nD=10,rD=-2,ZE=t=>t==="*";function sD(t,e){let n=t.split("/"),r=n.length;return n.some(ZE)&&(r+=rD),e&&(r+=eD),n.filter(s=>!ZE(s)).reduce((s,i)=>s+(JM.test(i)?ZM:i===""?tD:nD),r)}function iD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function oD(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=aD({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;i.push({params:r,pathname:Io([s,u.pathname]),pathnameBase:pD(Io([s,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(s=Io([s,u.pathnameBase]))}return i}function aD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let y=a[d]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?c[h]=void 0:c[h]=uD(m||"",h),c},{}),pathname:i,pathnameBase:o,pattern:t}}function lD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),X2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function cD(t){try{return decodeURI(t)}catch(e){return X2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function uD(t,e){try{return decodeURIComponent(t)}catch(n){return X2(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Kw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function dD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?yl(t):t;return{pathname:n?n.startsWith("/")?n:hD(n,e):e,search:mD(r),hash:gD(s)}}function hD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function L1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function k6(t,e){let n=fD(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function P6(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=yl(t):(s=ch({},t),rn(!s.pathname||!s.pathname.includes("?"),L1("?","pathname","search",s)),rn(!s.pathname||!s.pathname.includes("#"),L1("#","pathname","hash",s)),rn(!s.search||!s.search.includes("#"),L1("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=dD(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Io=t=>t.join("/").replace(/\/\/+/g,"/"),pD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const N6=["post","put","patch","delete"];new Set(N6);const vD=["get",...N6];new Set(vD);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uh(){return uh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uh.apply(this,arguments)}const Qw=v.createContext(null),_D=v.createContext(null),vl=v.createContext(null),J2=v.createContext(null),Go=v.createContext({outlet:null,matches:[],isDataRoute:!1}),L6=v.createContext(null);function wD(t,e){let{relative:n}=e===void 0?{}:e;Yh()||rn(!1);let{basename:r,navigator:s}=v.useContext(vl),{hash:i,pathname:o,search:a}=D6(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Io([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Yh(){return v.useContext(J2)!=null}function cu(){return Yh()||rn(!1),v.useContext(J2).location}function M6(t){v.useContext(vl).static||v.useLayoutEffect(t)}function wn(){let{isDataRoute:t}=v.useContext(Go);return t?LD():xD()}function xD(){Yh()||rn(!1);let t=v.useContext(Qw),{basename:e,future:n,navigator:r}=v.useContext(vl),{matches:s}=v.useContext(Go),{pathname:i}=cu(),o=JSON.stringify(k6(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return M6(()=>{a.current=!0}),v.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=P6(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Io([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function Xh(){let{matches:t}=v.useContext(Go),e=t[t.length-1];return e?e.params:{}}function D6(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(vl),{matches:s}=v.useContext(Go),{pathname:i}=cu(),o=JSON.stringify(k6(s,r.v7_relativeSplatPath));return v.useMemo(()=>P6(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function ED(t,e){return bD(t,e)}function bD(t,e,n,r){Yh()||rn(!1);let{navigator:s}=v.useContext(vl),{matches:i}=v.useContext(Go),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=cu(),u;if(e){var d;let E=typeof e=="string"?yl(e):e;l==="/"||(d=E.pathname)!=null&&d.startsWith(l)||rn(!1),u=E}else u=c;let h=u.pathname||"/",p=l==="/"?h:h.slice(l.length)||"/",m=YM(t,{pathname:p}),y=RD(m&&m.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Io([l,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Io([l,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&y?v.createElement(J2.Provider,{value:{location:uh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:po.Pop}},y):y}function CD(){let t=ND(),e=yD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,i)}const ID=v.createElement(CD,null);class TD extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(Go.Provider,{value:this.props.routeContext},v.createElement(L6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SD(t){let{routeContext:e,match:n,children:r}=t,s=v.useContext(Qw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Go.Provider,{value:e},r)}function RD(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||rn(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let p,m=!1,y=null,E=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||ID,l&&(c<0&&h===0?(MD("route-fallback",!1),m=!0,E=null):c===h&&(m=!0,E=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,h+1)),w=()=>{let _;return p?_=y:m?_=E:d.route.Component?_=v.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,v.createElement(SD,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?v.createElement(TD,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):w()},null)}var O6=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(O6||{}),Fp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Fp||{});function AD(t){let e=v.useContext(Qw);return e||rn(!1),e}function kD(t){let e=v.useContext(_D);return e||rn(!1),e}function PD(t){let e=v.useContext(Go);return e||rn(!1),e}function $6(t){let e=PD(),n=e.matches[e.matches.length-1];return n.route.id||rn(!1),n.route.id}function ND(){var t;let e=v.useContext(L6),n=kD(Fp.UseRouteError),r=$6(Fp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function LD(){let{router:t}=AD(O6.UseNavigateStable),e=$6(Fp.UseNavigateStable),n=v.useRef(!1);return M6(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,uh({fromRouteId:e},i)))},[t,e])}const eb={};function MD(t,e,n){!e&&!eb[t]&&(eb[t]=!0)}function an(t){rn(!1)}function DD(t){let{basename:e="/",children:n=null,location:r,navigationType:s=po.Pop,navigator:i,static:o=!1,future:a}=t;Yh()&&rn(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:i,static:o,future:uh({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=yl(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,y=v.useMemo(()=>{let E=Kw(u,l);return E==null?null:{location:{pathname:E,search:d,hash:h,state:p,key:m},navigationType:s}},[l,u,d,h,p,m,s]);return y==null?null:v.createElement(vl.Provider,{value:c},v.createElement(J2.Provider,{children:n,value:y}))}function OD(t){let{children:e,location:n}=t;return ED(Cv(e),n)}new Promise(()=>{});function Cv(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,s)=>{if(!v.isValidElement(r))return;let i=[...e,s];if(r.type===v.Fragment){n.push.apply(n,Cv(r.props.children,i));return}r.type!==an&&rn(!1),!r.props.index||!r.props.children||rn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Cv(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iv(){return Iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iv.apply(this,arguments)}function $D(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function jD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FD(t,e){return t.button===0&&(!e||e==="_self")&&!jD(t)}const VD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],UD="6";try{window.__reactRouterVersion=UD}catch{}const BD="startTransition",tb=fp[BD];function zD(t){let{basename:e,children:n,future:r,window:s}=t,i=v.useRef();i.current==null&&(i.current=GM({window:s,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=v.useCallback(d=>{c&&tb?tb(()=>l(d)):l(d)},[l,c]);return v.useLayoutEffect(()=>o.listen(u),[o,u]),v.createElement(DD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const WD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qD=v.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,h=$D(e,VD),{basename:p}=v.useContext(vl),m,y=!1;if(typeof c=="string"&&HD.test(c)&&(m=c,WD))try{let _=new URL(window.location.href),x=c.startsWith("//")?new URL(_.protocol+c):new URL(c),S=Kw(x.pathname,p);x.origin===_.origin&&S!=null?c=S+x.search+x.hash:y=!0}catch{}let E=wD(c,{relative:s}),g=GD(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:d});function w(_){r&&r(_),_.defaultPrevented||g(_)}return v.createElement("a",Iv({},h,{href:m||E,onClick:y||i?r:w,ref:n,target:l}))});var nb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(nb||(nb={}));var rb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(rb||(rb={}));function GD(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=wn(),c=cu(),u=D6(t,{relative:o});return v.useCallback(d=>{if(FD(d,n)){d.preventDefault();let h=r!==void 0?r:jp(c)===jp(u);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}const KD="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M41.9375%208.625C41.273438%208.648438%2040.664063%209%2040.3125%209.5625L21.5%2038.34375L9.3125%2027.8125C8.789063%2027.269531%208.003906%2027.066406%207.28125%2027.292969C6.5625%2027.515625%206.027344%2028.125%205.902344%2028.867188C5.777344%2029.613281%206.078125%2030.363281%206.6875%2030.8125L20.625%2042.875C21.0625%2043.246094%2021.640625%2043.410156%2022.207031%2043.328125C22.777344%2043.242188%2023.28125%2042.917969%2023.59375%2042.4375L43.6875%2011.75C44.117188%2011.121094%2044.152344%2010.308594%2043.78125%209.644531C43.410156%208.984375%2042.695313%208.589844%2041.9375%208.625Z'%20fill='%231EE97C'%20/%3e%3c/svg%3e",QD="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",YD="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%203C14.168432%203%2013.456063%203.5067238%2013.154297%204.2285156L2.3007812%2022.947266L2.3007812%2022.949219%20A%202%202%200%200%200%202%2024%20A%202%202%200%200%200%204%2026%20A%202%202%200%200%200%204.140625%2025.994141L4.1445312%2026L15%2026L25.855469%2026L25.859375%2025.992188%20A%202%202%200%200%200%2026%2026%20A%202%202%200%200%200%2028%2024%20A%202%202%200%200%200%2027.699219%2022.947266L27.683594%2022.919922%20A%202%202%200%200%200%2027.681641%2022.917969L16.845703%204.2285156C16.543937%203.5067238%2015.831568%203%2015%203%20z%20M%2013.787109%2011.359375L16.212891%2011.359375L16.011719%2017.832031L13.988281%2017.832031L13.787109%2011.359375%20z%20M%2015.003906%2019.810547C15.825906%2019.810547%2016.318359%2020.252813%2016.318359%2021.007812C16.318359%2021.748812%2015.825906%2022.189453%2015.003906%2022.189453C14.175906%2022.189453%2013.679688%2021.748813%2013.679688%2021.007812C13.679688%2020.252813%2014.174906%2019.810547%2015.003906%2019.810547%20z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",XD="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M3,12v-2c0-0.386,0.223-0.738,0.572-0.904s0.762-0.115,1.062,0.13L15,17.708l10.367-8.482%20c0.299-0.245,0.712-0.295,1.062-0.13C26.779,9.261,27,9.614,27,10v2c0,0.3-0.135,0.584-0.367,0.774l-11,9%20c-0.369,0.301-0.898,0.301-1.267,0l-11-9C3.135,12.584,3,12.3,3,12z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",JD="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M17,3h2c0.386,0,0.738,0.223,0.904,0.572s0.115,0.762-0.13,1.062L11.292,15l8.482,10.367%20c0.245,0.299,0.295,0.712,0.13,1.062S19.386,27,19,27h-2c-0.3,0-0.584-0.135-0.774-0.367l-9-11c-0.301-0.369-0.301-0.898,0-1.267%20l9-11C16.416,3.135,16.7,3,17,3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",ZD="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M19,7h-6.774l0.564-1.551c0.604-1.662-0.134-3.512-1.716-4.302c-0.691-0.345-1.532-0.064-1.877,0.627L6.339,7.504%20C5.532,8.042,5,8.958,5,10v7c0,2.209,1.791,4,4,4h6.989c2.344,0,4.373-1.628,4.881-3.915L22,12v-2C22,8.343,20.657,7,19,7z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M7,19.5c0-0.386,0-10.614,0-11C7,7.672,6.328,7,5.5,7S4,7.672,4,8.5c0,0.386,0,10.614,0,11C4,20.328,4.672,21,5.5,21S7,20.328,7,19.5z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",eO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M12,6h4V3.706c0-0.615,0.742-0.924,1.178-0.491l4.104,4.075c0.395,0.391,0.395,1.03,0,1.421l-4.104,4.075C16.742,13.218,16,12.908,16,12.294V10h-4c-4.351,0-5,2.661-5,4H3C3,10.31,5.357,6,12,6z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M8,22c0.513,0,1.024-0.196,1.415-0.587c0.78-0.781,0.78-2.046,0-2.827C8.786,17.951,7,15.753,7,14c0-6.845,5-8,5-8c-6.643,0-9,4.31-9,8c0,3.726,3.22,7.049,3.587,7.415C6.978,21.805,7.488,22,8,22z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",tO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M12,27h-2c-0.386,0-0.738-0.223-0.904-0.572s-0.115-0.762,0.13-1.062L17.708,15L9.226,4.633%20c-0.245-0.299-0.295-0.712-0.13-1.062S9.614,3,10,3h2c0.3,0,0.584,0.135,0.774,0.367l9,11c0.301,0.369,0.301,0.898,0,1.267l-9,11%20C12.584,26.865,12.3,27,12,27z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",nO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L11.5%206%20z%20M%2011.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209%20z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",rO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C11.832031%204%208.152344%206.113281%206%209.34375L6%206L4%206L4%2013L11%2013L11%2011L7.375%2011C9.101563%208.019531%2012.296875%206%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016L4%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2015%208L15%2017L22%2017L22%2015L17%2015L17%208Z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",sO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L5%203C4.4%203%204%203.4%204%204C4%204.6%204.4%205%205%205L7%205L17%205L19%205C19.6%205%2020%204.6%2020%204C20%203.4%2019.6%203%2019%203L15%203L14%202L10%202%20z%20M%205%207L5%2020C5%2021.1%205.9%2022%207%2022L17%2022C18.1%2022%2019%2021.1%2019%2020L19%207L5%207%20z%20M%209%209C9.6%209%2010%209.4%2010%2010L10%2019C10%2019.6%209.6%2020%209%2020C8.4%2020%208%2019.6%208%2019L8%2010C8%209.4%208.4%209%209%209%20z%20M%2015%209C15.6%209%2016%209.4%2016%2010L16%2019C16%2019.6%2015.6%2020%2015%2020C14.4%2020%2014%2019.6%2014%2019L14%2010C14%209.4%2014.4%209%2015%209%20z'%20fill='%23FF4A33'%20/%3e%3c/svg%3e",iO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20fill='%230F0F0F'%20/%3e%3cpath%20d='M3%2011H21V13H3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",oO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3cpath%20d='M79.335938%2015.667969C78.064453%2015.622266%2076.775%2015.762109%2075.5%2016.099609C72.1%2016.999609%2069.299609%2019.199219%2067.599609%2022.199219L64%2028.699219C63.2%2030.099219%2063.699609%2032.000781%2065.099609%2032.800781L82.400391%2042.800781C82.900391%2043.100781%2083.400391%2043.199219%2083.900391%2043.199219C84.200391%2043.199219%2084.399219%2043.199609%2084.699219%2043.099609C85.499219%2042.899609%2086.1%2042.399219%2086.5%2041.699219L90.199219%2035.199219C91.899219%2032.199219%2092.4%2028.700781%2091.5%2025.300781C90.6%2021.900781%2088.400391%2019.100391%2085.400391%2017.400391C83.525391%2016.337891%2081.455078%2015.744141%2079.335938%2015.667969%20z%20M%2060.097656%2038.126953C59.128906%2038.201172%2058.199219%2038.724609%2057.699219%2039.599609L27.5%2092C24.1%2097.8%2022.200781%20104.30039%2021.800781%20110.90039L21%20123.80078C20.9%20124.90078%2021.5%20125.99961%2022.5%20126.59961C23%20126.89961%2023.5%20127%2024%20127C24.6%20127%2025.199219%20126.8%2025.699219%20126.5L36.5%20119.40039C42%20115.70039%2046.7%20110.8%2050%20105L80.300781%2052.599609C81.100781%2051.199609%2080.599219%2049.3%2079.199219%2048.5C77.799219%2047.7%2075.899609%2048.199609%2075.099609%2049.599609L44.800781%20102C41.900781%20106.9%2037.899609%20111.20039%2033.099609%20114.40039L27.300781%20118.19922L27.699219%20111.30078C27.999219%20105.60078%2029.699609%20100%2032.599609%2095L62.900391%2042.599609C63.700391%2041.199609%2063.200781%2039.3%2061.800781%2038.5C61.275781%2038.2%2060.678906%2038.082422%2060.097656%2038.126953%20z%20M%2049%20121C47.3%20121%2046%20122.3%2046%20124C46%20125.7%2047.3%20127%2049%20127L89%20127C90.7%20127%2092%20125.7%2092%20124C92%20122.3%2090.7%20121%2089%20121L49%20121%20z%20M%20104%20121%20A%203%203%200%200%200%20101%20124%20A%203%203%200%200%200%20104%20127%20A%203%203%200%200%200%20107%20124%20A%203%203%200%200%200%20104%20121%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",aO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M5%203C3.9057453%203%203%203.9057453%203%205L3%2019C3%2020.094255%203.9057453%2021%205%2021L19%2021C20.094255%2021%2021%2020.094255%2021%2019L21%207L17%203L5%203%20z%20M%205%205L16.171875%205L19%207.828125L19%2019L5%2019L5%205%20z%20M%207%207L7%2010L15%2010L15%207L7%207%20z%20M%2011.5%2012%20A%202.5%202.5%200%200%200%209%2014.5%20A%202.5%202.5%200%200%200%2011.5%2017%20A%202.5%202.5%200%200%200%2014%2014.5%20A%202.5%202.5%200%200%200%2011.5%2012%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",lO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M27,18v2c0,0.386-0.223,0.738-0.572,0.904c-0.349,0.166-0.762,0.115-1.062-0.13L15,12.292L4.633,20.774%20c-0.299,0.245-0.712,0.295-1.062,0.13C3.221,20.739,3,20.386,3,20v-2c0-0.3,0.135-0.584,0.367-0.774l11-9%20c0.369-0.301,0.898-0.301,1.267,0l11,9C26.865,17.416,27,17.7,27,18z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",cO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%200C13.35499%200%2012%201.3549904%2012%203L8%203C6.3550302%203%205%204.3550302%205%206L5%2024C5%2025.64497%206.3550302%2027%208%2027L22%2027C23.64497%2027%2025%2025.64497%2025%2024L25%206C25%204.3550302%2023.64497%203%2022%203L18%203C18%201.3549904%2016.64501%200%2015%200%20z%20M%2015%202C15.564129%202%2016%202.4358706%2016%203C16%203.5641294%2015.564129%204%2015%204C14.435871%204%2014%203.5641294%2014%203C14%202.4358706%2014.435871%202%2015%202%20z%20M%208%205L12%205L12%206C12%206.552%2012.448%207%2013%207L17%207C17.552%207%2018%206.552%2018%206L18%205L22%205C22.56503%205%2023%205.4349698%2023%206L23%2024C23%2024.56503%2022.56503%2025%2022%2025L8%2025C7.4349698%2025%207%2024.56503%207%2024L7%206C7%205.4349698%207.4349698%205%208%205%20z%20M%2011%2011%20A%201.0001%201.0001%200%201%200%2011%2013L19%2013%20A%201.0001%201.0001%200%201%200%2019%2011L11%2011%20z%20M%2011%2015%20A%201.0001%201.0001%200%201%200%2011%2017L16%2017%20A%201.0001%201.0001%200%201%200%2016%2015L11%2015%20z%20M%2011%2019%20A%201.0001%201.0001%200%201%200%2011%2021L19%2021%20A%201.0001%201.0001%200%201%200%2019%2019L11%2019%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",uO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16.03125%204C14.921875%204%2013.8125%204.15625%2012.71875%204.46875L11.9375%204.6875L12%205.5C12.042969%206.238281%2011.679688%206.949219%2011%207.34375C10.320313%207.738281%209.523438%207.6875%208.90625%207.28125L8.25%206.84375L7.65625%207.375C6.023438%208.957031%204.910156%2010.957031%204.375%2013.09375L4.1875%2013.875L4.875%2014.21875C5.535156%2014.550781%206%2015.210938%206%2016C6%2016.789063%205.535156%2017.449219%204.875%2017.78125L4.15625%2018.125L4.375%2018.90625C4.636719%2019.957031%205.019531%2021.007813%205.59375%2022C6.167969%2022.992188%206.878906%2023.871094%207.65625%2024.625L8.25%2025.1875L8.90625%2024.75C9.523438%2024.34375%2010.316406%2024.261719%2011%2024.65625C11.683594%2025.050781%2012.042969%2025.761719%2012%2026.5L11.9375%2027.3125L12.71875%2027.53125C14.109375%2027.925781%2015.558594%2028.039063%2017%2027.90625L17%2032L32%2032L32%2018L27.59375%2018L27.125%2017.78125C26.464844%2017.449219%2026%2016.789063%2026%2016C26%2015.210938%2026.464844%2014.550781%2027.125%2014.21875L27.84375%2013.875L27.625%2013.09375C27.363281%2012.042969%2026.980469%2010.992188%2026.40625%2010C25.832031%209.007813%2025.121094%208.128906%2024.34375%207.375L23.78125%206.8125L23.09375%207.28125C22.476563%207.6875%2021.683594%207.738281%2021%207.34375L20.96875%207.3125C20.3125%206.914063%2019.957031%206.222656%2020%205.5L20.0625%204.6875L19.28125%204.46875C18.222656%204.167969%2017.140625%204%2016.03125%204%20Z%20M%2016%206.09375C16.742188%206.09375%2017.496094%206.179688%2018.21875%206.34375C18.429688%207.4375%2018.960938%208.460938%2020%209.0625C21.050781%209.667969%2022.21875%209.597656%2023.28125%209.21875C23.785156%209.757813%2024.273438%2010.335938%2024.65625%2011C25.042969%2011.671875%2025.285156%2012.378906%2025.5%2013.09375C24.648438%2013.824219%2024%2014.792969%2024%2016C24%2016.730469%2024.214844%2017.410156%2024.5625%2018L21.65625%2018C21.882813%2017.378906%2022%2016.703125%2022%2016C22%2012.699219%2019.300781%2010%2016%2010C12.699219%2010%2010%2012.699219%2010%2016C10%2019.300781%2012.699219%2022%2016%2022C16.34375%2022%2016.671875%2021.960938%2017%2021.90625L17%2025.90625C15.910156%2026.007813%2014.832031%2025.921875%2013.78125%2025.6875C13.574219%2024.582031%2013.050781%2023.542969%2012%2022.9375C10.949219%2022.332031%209.78125%2022.402344%208.71875%2022.78125C8.210938%2022.238281%207.726563%2021.664063%207.34375%2021C6.957031%2020.328125%206.714844%2019.621094%206.5%2018.90625C7.351563%2018.175781%208%2017.207031%208%2016C8%2014.792969%207.351563%2013.824219%206.5%2013.09375C6.933594%2011.667969%207.710938%2010.371094%208.75%209.25C9.800781%209.609375%2010.960938%209.660156%2012%209.0625C13.039063%208.464844%2013.570313%207.4375%2013.78125%206.34375C14.523438%206.175781%2015.257813%206.09375%2016%206.09375%20Z%20M%2016%2012C18.21875%2012%2020%2013.78125%2020%2016C20%2016.730469%2019.785156%2017.40625%2019.4375%2018L17%2018L17%2019.84375C16.675781%2019.933594%2016.351563%2020%2016%2020C13.78125%2020%2012%2018.21875%2012%2016C12%2013.78125%2013.78125%2012%2016%2012%20Z%20M%2019%2020L30%2020L30%2021L19%2021%20Z%20M%2019%2023L30%2023L30%2030L19%2030%20Z%20M%2026.28125%2023.78125L24%2026.0625L22.71875%2024.78125L21.28125%2026.21875L23.28125%2028.21875L24%2028.90625L24.71875%2028.21875L27.71875%2025.21875Z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",dO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M4%207L4%209L28%209L28%207%20Z%20M%204%2015L4%2017L28%2017L28%2015%20Z%20M%204%2023L4%2025L28%2025L28%2023Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",hO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%202.59375L15.28125%203.28125L2.28125%2016.28125L3.71875%2017.71875L5%2016.4375L5%2028L14%2028L14%2018L18%2018L18%2028L27%2028L27%2016.4375L28.28125%2017.71875L29.71875%2016.28125L16.71875%203.28125%20Z%20M%2016%205.4375L25%2014.4375L25%2026L20%2026L20%2016L12%2016L12%2026L7%2026L7%2014.4375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",fO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M20.5%204C18.203405%204%2016.305701%205.7666235%2016.050781%208L12.5%208C10.032499%208%208%2010.032499%208%2012.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2012.5C40%2010.032499%2037.967501%208%2035.5%208L31.949219%208C31.694299%205.7666235%2029.796595%204%2027.5%204L20.5%204%20z%20M%2020.5%207L27.5%207C28.346499%207%2029%207.6535009%2029%208.5C29%209.3464991%2028.346499%2010%2027.5%2010L20.5%2010C19.653501%2010%2019%209.3464991%2019%208.5C19%207.6535009%2019.653501%207%2020.5%207%20z%20M%2012.5%2011L16.769531%2011C17.581237%2012.2019%2018.954719%2013%2020.5%2013L27.5%2013C29.045281%2013%2030.418763%2012.2019%2031.230469%2011L35.5%2011C36.346499%2011%2037%2011.653501%2037%2012.5L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%2012.5C11%2011.653501%2011.653501%2011%2012.5%2011%20z%20M%2032.470703%2018.986328%20A%201.50015%201.50015%200%200%200%2031.439453%2019.439453L28.5%2022.378906L27.560547%2021.439453%20A%201.50015%201.50015%200%201%200%2025.439453%2023.560547L27.439453%2025.560547%20A%201.50015%201.50015%200%200%200%2029.560547%2025.560547L33.560547%2021.560547%20A%201.50015%201.50015%200%200%200%2032.470703%2018.986328%20z%20M%2015.5%2021%20A%201.50015%201.50015%200%201%200%2015.5%2024L21.5%2024%20A%201.50015%201.50015%200%201%200%2021.5%2021L15.5%2021%20z%20M%2032.486328%2027.978516%20A%201.50015%201.50015%200%200%200%2031.439453%2028.439453L30%2029.878906L28.560547%2028.439453%20A%201.50015%201.50015%200%200%200%2027.484375%2027.984375%20A%201.50015%201.50015%200%200%200%2026.439453%2030.560547L27.878906%2032L26.439453%2033.439453%20A%201.50015%201.50015%200%201%200%2028.560547%2035.560547L30%2034.121094L31.439453%2035.560547%20A%201.50015%201.50015%200%201%200%2033.560547%2033.439453L32.121094%2032L33.560547%2030.560547%20A%201.50015%201.50015%200%200%200%2032.486328%2027.978516%20z%20M%2015.5%2030%20A%201.50015%201.50015%200%201%200%2015.5%2033L21.5%2033%20A%201.50015%201.50015%200%201%200%2021.5%2030L15.5%2030%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",pO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C9.382813%204%204%209.382813%204%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016C6%2010.464844%2010.464844%206%2016%206%20Z%20M%2016%2010C13.800781%2010%2012%2011.800781%2012%2014L14%2014C14%2012.882813%2014.882813%2012%2016%2012C17.117188%2012%2018%2012.882813%2018%2014C18%2014.765625%2017.507813%2015.445313%2016.78125%2015.6875L16.375%2015.8125C15.558594%2016.082031%2015%2016.863281%2015%2017.71875L15%2019L17%2019L17%2017.71875L17.40625%2017.59375C18.945313%2017.082031%2020%2015.621094%2020%2014C20%2011.800781%2018.199219%2010%2016%2010%20Z%20M%2015%2020L15%2022L17%2022L17%2020Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",mO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20x='0'%20y='0'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3ccircle%20cx='64'%20cy='64'%20r='55'%20fill='%23fff'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,122C32,122,6,96,6,64S32,6,64,6s58,26,58,58S96,122,64,122z%20M64,12c-28.7,0-52,23.3-52,52s23.3,52,52,52%20s52-23.3,52-52S92.7,12,64,12z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,90c-1.7,0-3-1.3-3-3V61c0-1.7,1.3-3,3-3s3,1.3,3,3v26C67,88.7,65.7,90,64,90z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,49c-1.7,0-3-1.3-3-3v-5c0-1.7,1.3-3,3-3s3,1.3,3,3v5C67,47.7,65.7,49,64,49z'%20/%3e%3c/svg%3e",gO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M6%203L6%2029L17.765625%2029C19.233126%2030.826376%2021.480367%2032%2024%2032C26.396%2032%2028.534%2030.929859%2030%2029.255859L30%2032L32%2032L32%2026L26%2026L26%2028L28.445312%2028C27.347313%2029.221%2025.768%2030%2024%2030C20.691%2030%2018%2027.309%2018%2024C18%2020.691%2020.691%2018%2024%2018C27.309%2018%2030%2020.691%2030%2024L32%2024C32%2020.280606%2029.444687%2017.153349%2026%2016.261719L26%209.5859375L19.414062%203L6%203%20z%20M%208%205L18%205L18%2011L24%2011L24%2016C21.979283%2016%2020.136244%2016.75962%2018.726562%2018L11%2018L11%2020L17.082031%2020C16.722543%2020.619242%2016.445366%2021.290505%2016.261719%2022L11%2022L11%2024L16%2024C16%2025.060938%2016.211142%2026.072669%2016.587891%2027L8%2027L8%205%20z%20M%2020%206.4140625L22.585938%209L20%209L20%206.4140625%20z%20M%2011%2014L11%2016L21%2016L21%2014L11%2014%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",yO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M4.0097656%203C2.9179106%203%202.0097656%203.9049841%202.0097656%204.9980469L2%2023L6%2019L20%2019C21.093063%2019%2022%2018.093063%2022%2017L22%205C22%203.9069372%2021.093063%203%2020%203L4.0097656%203%20z%20M%204.0097656%205L20%205L20%2017L5.171875%2017L4.0039062%2018.167969L4.0097656%205%20z%20M%2011%207L11%209L13%209L13%207L11%207%20z%20M%2011%2011L11%2015L13%2015L13%2011L11%2011%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",vO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M11%203L11%2011L3%2011L3%2013L11%2013L11%2021L13%2021L13%2013L21%2013L21%2011L13%2011L13%203L11%203%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",_O="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20transform='rotate(90%2012%2012)'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",wO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M18%202%20A%203%203%200%200%200%2015%205%20A%203%203%200%200%200%2015.054688%205.5605469L7.9394531%209.7109375%20A%203%203%200%200%200%206%209%20A%203%203%200%200%200%203%2012%20A%203%203%200%200%200%206%2015%20A%203%203%200%200%200%207.9355469%2014.287109L15.054688%2018.439453%20A%203%203%200%200%200%2015%2019%20A%203%203%200%200%200%2018%2022%20A%203%203%200%200%200%2021%2019%20A%203%203%200%200%200%2018%2016%20A%203%203%200%200%200%2016.0625%2016.712891L8.9453125%2012.560547%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%208.9453125%2011.439453L16.060547%207.2890625%20A%203%203%200%200%200%2018%208%20A%203%203%200%200%200%2021%205%20A%203%203%200%200%200%2018%202%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",xO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%208C7.664063%208%201.25%2015.34375%201.25%2015.34375L0.65625%2016L1.25%2016.65625C1.25%2016.65625%207.097656%2023.324219%2014.875%2023.9375C15.246094%2023.984375%2015.617188%2024%2016%2024C16.382813%2024%2016.753906%2023.984375%2017.125%2023.9375C24.902344%2023.324219%2030.75%2016.65625%2030.75%2016.65625L31.34375%2016L30.75%2015.34375C30.75%2015.34375%2024.335938%208%2016%208%20Z%20M%2016%2010C18.203125%2010%2020.234375%2010.601563%2022%2011.40625C22.636719%2012.460938%2023%2013.675781%2023%2015C23%2018.613281%2020.289063%2021.582031%2016.78125%2021.96875C16.761719%2021.972656%2016.738281%2021.964844%2016.71875%2021.96875C16.480469%2021.980469%2016.242188%2022%2016%2022C15.734375%2022%2015.476563%2021.984375%2015.21875%2021.96875C11.710938%2021.582031%209%2018.613281%209%2015C9%2013.695313%209.351563%2012.480469%209.96875%2011.4375L9.9375%2011.4375C11.71875%2010.617188%2013.773438%2010%2016%2010%20Z%20M%2016%2012C14.34375%2012%2013%2013.34375%2013%2015C13%2016.65625%2014.34375%2018%2016%2018C17.65625%2018%2019%2016.65625%2019%2015C19%2013.34375%2017.65625%2012%2016%2012%20Z%20M%207.25%2012.9375C7.09375%2013.609375%207%2014.285156%207%2015C7%2016.753906%207.5%2018.394531%208.375%2019.78125C5.855469%2018.324219%204.105469%2016.585938%203.53125%2016C4.011719%2015.507813%205.351563%2014.203125%207.25%2012.9375%20Z%20M%2024.75%2012.9375C26.648438%2014.203125%2027.988281%2015.507813%2028.46875%2016C27.894531%2016.585938%2026.144531%2018.324219%2023.625%2019.78125C24.5%2018.394531%2025%2016.753906%2025%2015C25%2014.285156%2024.90625%2013.601563%2024.75%2012.9375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",EO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2017.5%20A%201.50015%201.50015%200%201%200%209%2017.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209L17.5%209%20A%201.50015%201.50015%200%201%200%2017.5%206L11.5%206%20z%20M%2030.5%206%20A%201.50015%201.50015%200%201%200%2030.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2017.5%20A%201.50015%201.50015%200%201%200%2042%2017.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L30.5%206%20z%20M%207.4765625%2028.978516%20A%201.50015%201.50015%200%200%200%206%2030.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L17.5%2042%20A%201.50015%201.50015%200%201%200%2017.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2030.5%20A%201.50015%201.50015%200%200%200%207.4765625%2028.978516%20z%20M%2040.476562%2028.978516%20A%201.50015%201.50015%200%200%200%2039%2030.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L30.5%2039%20A%201.50015%201.50015%200%201%200%2030.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2030.5%20A%201.50015%201.50015%200%200%200%2040.476562%2028.978516%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",bO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M19%203C13.488281%203%209%207.488281%209%2013C9%2015.394531%209.839844%2017.589844%2011.25%2019.3125L3.28125%2027.28125L4.71875%2028.71875L12.6875%2020.75C14.410156%2022.160156%2016.605469%2023%2019%2023C24.511719%2023%2029%2018.511719%2029%2013C29%207.488281%2024.511719%203%2019%203%20Z%20M%2019%205C23.429688%205%2027%208.570313%2027%2013C27%2017.429688%2023.429688%2021%2019%2021C14.570313%2021%2011%2017.429688%2011%2013C11%208.570313%2014.570313%205%2019%205Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",CO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M9%202C5.1458514%202%202%205.1458514%202%209C2%2012.854149%205.1458514%2016%209%2016C10.747998%2016%2012.345009%2015.348024%2013.574219%2014.28125L14%2014.707031L14%2016L19.585938%2021.585938C20.137937%2022.137937%2021.033938%2022.137938%2021.585938%2021.585938C22.137938%2021.033938%2022.137938%2020.137938%2021.585938%2019.585938L16%2014L14.707031%2014L14.28125%2013.574219C15.348024%2012.345009%2016%2010.747998%2016%209C16%205.1458514%2012.854149%202%209%202%20z%20M%209%204C11.773268%204%2014%206.2267316%2014%209C14%2011.773268%2011.773268%2014%209%2014C6.2267316%2014%204%2011.773268%204%209C4%206.2267316%206.2267316%204%209%204%20z'%20fill='%23F0F0F0'%20/%3e%3c/svg%3e",IO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23313131'%20/%3e%3c/svg%3e",TO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M18.5%205C15.480226%205%2013%207.4802259%2013%2010.5L13%2032.5C13%2035.519774%2015.480226%2038%2018.5%2038L34.5%2038C37.519774%2038%2040%2035.519774%2040%2032.5L40%2010.5C40%207.4802259%2037.519774%205%2034.5%205L18.5%205%20z%20M%2018.5%208L34.5%208C35.898226%208%2037%209.1017741%2037%2010.5L37%2032.5C37%2033.898226%2035.898226%2035%2034.5%2035L18.5%2035C17.101774%2035%2016%2033.898226%2016%2032.5L16%2010.5C16%209.1017741%2017.101774%208%2018.5%208%20z%20M%2011%2010L9.78125%2010.8125C8.66825%2011.5545%208%2012.803625%208%2014.140625L8%2033.5C8%2038.747%2012.253%2043%2017.5%2043L30.859375%2043C32.197375%2043%2033.4465%2042.33175%2034.1875%2041.21875L35%2040L17.5%2040C13.91%2040%2011%2037.09%2011%2033.5L11%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",SO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='480'%20height='480'%20viewBox='0%200%2048%2048'%3e%3cpath%20fill='%23FFC107'%20d='M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3cpath%20fill='%23FF3D00'%20d='M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z'%20/%3e%3cpath%20fill='%234CAF50'%20d='M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z'%20/%3e%3cpath%20fill='%231976D2'%20d='M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3c/svg%3e",RO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C10.886719%204%206.617188%207.160156%204.875%2011.625L6.71875%2012.375C8.175781%208.640625%2011.710938%206%2016%206C19.242188%206%2022.132813%207.589844%2023.9375%2010L20%2010L20%2012L27%2012L27%205L25%205L25%208.09375C22.808594%205.582031%2019.570313%204%2016%204%20Z%20M%2025.28125%2019.625C23.824219%2023.359375%2020.289063%2026%2016%2026C12.722656%2026%209.84375%2024.386719%208.03125%2022L12%2022L12%2020L5%2020L5%2027L7%2027L7%2023.90625C9.1875%2026.386719%2012.394531%2028%2016%2028C21.113281%2028%2025.382813%2024.839844%2027.125%2020.375Z'%20fill='%23313131'%20/%3e%3c/svg%3e",AO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M6%200C4.34375%200%203%201.34375%203%203L3%2023C3%2024.65625%204.34375%2026%206%2026L20%2026C21.65625%2026%2023%2024.65625%2023%2023L23%2017.8125L21%2019.5625L21%2023C21%2023.550781%2020.550781%2024%2020%2024L6%2024C5.449219%2024%205%2023.550781%205%2023L5%203C5%202.449219%205.449219%202%206%202L20%202C20.550781%202%2021%202.449219%2021%203L21%206.4375L23%208.1875L23%203C23%201.34375%2021.65625%200%2020%200%20Z%20M%2016.5%206.46875C16.25%206.542969%2016%206.796875%2016%207.46875L16%2010L10%2010C9.449219%2010%209%2010.449219%209%2011L9%2015C9%2015.550781%209.449219%2016%2010%2016L16%2016L16%2018.5C16%2019.78125%2017%2019.5%2017%2019.5L24.5%2013L17%206.5C17%206.5%2016.75%206.394531%2016.5%206.46875Z'%20fill='%23313131'%20/%3e%3c/svg%3e",kO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M12.5%204C10.032499%204%208%206.0324991%208%208.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2018.5%20A%201.50015%201.50015%200%200%200%2039.560547%2017.439453L39.544922%2017.423828L26.560547%204.4394531%20A%201.50015%201.50015%200%200%200%2025.5%204L12.5%204%20z%20M%2012.5%207L24%207L24%2015.5C24%2017.967501%2026.032499%2020%2028.5%2020L37%2020L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%208.5C11%207.6535009%2011.653501%207%2012.5%207%20z%20M%2027%209.1210938L34.878906%2017L28.5%2017C27.653501%2017%2027%2016.346499%2027%2015.5L27%209.1210938%20z%20M%2019%2022.998047C18.391%2022.998047%2017.841328%2023.365687%2017.611328%2023.929688L13.111328%2034.929688C12.797328%2035.696688%2013.164641%2036.573719%2013.931641%2036.886719C14.698641%2037.202719%2015.575672%2036.834406%2015.888672%2036.066406L16.326172%2034.998047L21.673828%2034.998047L22.111328%2036.066406C22.349328%2036.647406%2022.909%2036.998047%2023.5%2036.998047C23.689%2036.998047%2023.881359%2036.963719%2024.068359%2036.886719C24.834359%2036.573719%2025.202672%2035.696688%2024.888672%2034.929688L20.388672%2023.929688C20.158672%2023.365688%2019.609%2022.998047%2019%2022.998047%20z%20M%2030.476562%2023.978516%20A%201.50015%201.50015%200%200%200%2029%2025.5L29%2027L27.5%2027%20A%201.50015%201.50015%200%201%200%2027.5%2030L29%2030L29%2031.5%20A%201.50015%201.50015%200%201%200%2032%2031.5L32%2030L33.5%2030%20A%201.50015%201.50015%200%201%200%2033.5%2027L32%2027L32%2025.5%20A%201.50015%201.50015%200%200%200%2030.476562%2023.978516%20z%20M%2019%2028.460938L20.447266%2031.998047L17.552734%2031.998047L19%2028.460938%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",PO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M26.886719%203.0234375C26.437415%203.0492805%2025.990861%203.1581308%2025.574219%203.3847656C24.740935%203.8380352%2024.23601%204.6408958%2023.933594%205.484375%20A%201.50015%201.50015%200%200%200%2023.931641%205.4863281C23.856851%205.6965582%2023.895729%205.5996163%2023.880859%205.6503906C23.865989%205.7011646%2023.846326%205.768146%2023.822266%205.8515625C23.774136%206.0183955%2023.709041%206.2482122%2023.630859%206.5214844C23.474496%207.0680287%2023.269926%207.787416%2023.066406%208.5019531C22.659368%209.9310274%2022.255859%2011.345703%2022.255859%2011.345703%20A%201.50015%201.50015%200%200%200%2022.255859%2011.349609C22.141471%2011.755416%2022.046189%2011.970637%2022.005859%2012.033203%20A%201.50015%201.50015%200%200%200%2022.003906%2012.037109C20.528039%2014.338252%2018.938262%2016.655605%2017.394531%2019L10.5%2019C8.0324991%2019%206%2021.032499%206%2023.5L6%2039.5C6%2041.967501%208.0324991%2044%2010.5%2044L14.5%2044C15.757335%2044%2016.892811%2043.465209%2017.712891%2042.621094C20.020827%2043.120886%2022.596814%2043.674636%2024.695312%2044.117188C25.795053%2044.349109%2026.761579%2044.550006%2027.490234%2044.697266C28.21796%2044.844337%2028.488997%2044.922925%2028.96875%2044.96875C29.276882%2044.99849%2029.582707%2045.013672%2029.884766%2045.013672C34.166546%2045.013672%2037.951276%2042.101357%2039.046875%2037.871094C39.884581%2034.63323%2041.600002%2027.921603%2041.607422%2027.892578C41.746989%2027.37849%2041.941717%2026.687301%2041.986328%2025.859375%20A%201.50015%201.50015%200%200%200%2041.986328%2025.857422C42.082078%2024.068723%2041.461123%2022.328247%2040.242188%2021.039062%20A%201.50015%201.50015%200%200%200%2040.242188%2021.037109C39.003328%2019.728222%2037.266509%2019.003801%2035.439453%2019%20A%201.50015%201.50015%200%200%200%2035.435547%2019L31.466797%2019C31.818422%2017.742495%2032.16537%2016.527227%2032.417969%2015.541016%20A%201.50015%201.50015%200%200%200%2032.417969%2015.539062C33.021899%2013.169223%2033.163006%2011.052777%2032.796875%209.0214844%20A%201.50015%201.50015%200%200%200%2032.796875%209.0195312C32.612962%208.0064557%2032.266053%206.5283049%2031.216797%205.1679688C30.454227%204.1798868%2029.406708%203.4604803%2028.21875%203.1621094%20A%201.50015%201.50015%200%200%200%2028.214844%203.1621094C27.787706%203.0556602%2027.336023%202.9975943%2026.886719%203.0234375%20z%20M%2027.083984%206.0097656C27.153229%206.0089389%2027.277677%206.0200946%2027.488281%206.0722656C28.020323%206.2058951%2028.434367%206.4720819%2028.841797%207C29.43854%207.7736637%2029.69161%208.705806%2029.845703%209.5546875C30.125167%2011.106826%2030.039576%2012.7275%2029.511719%2014.798828C29.151131%2016.206389%2028.056641%2020.09375%2028.056641%2020.09375%20A%201.50015%201.50015%200%200%200%2029.5%2022L35.435547%2022C36.491612%2022.0027%2037.39379%2022.393048%2038.0625%2023.099609C38.717564%2023.792425%2039.04448%2024.683965%2038.990234%2025.697266C38.966844%2026.13134%2038.851324%2026.59751%2038.712891%2027.107422%20A%201.50015%201.50015%200%200%200%2038.707031%2027.128906C38.707031%2027.128906%2036.979062%2033.886003%2036.142578%2037.119141C35.380177%2040.062877%2032.818985%2042.013672%2029.884766%2042.013672C29.676824%2042.013672%2029.467681%2042.002682%2029.257812%2041.982422%20A%201.50015%201.50015%200%200%200%2029.255859%2041.982422C29.484761%2042.004222%2028.797548%2041.902023%2028.083984%2041.757812C27.370421%2041.613604%2026.409589%2041.412593%2025.314453%2041.181641C23.401221%2040.778161%2021.082509%2040.278628%2018.935547%2039.814453C18.94375%2039.705129%2019%2039.611242%2019%2039.5L19%2022.011719C20.770748%2019.246238%2022.705347%2016.498683%2024.527344%2013.658203L24.529297%2013.65625C24.857875%2013.14567%2025.005183%2012.649533%2025.142578%2012.162109C25.143578%2012.158509%2025.544977%2010.748377%2025.951172%209.3222656C26.154528%208.6083028%2026.357942%207.891987%2026.513672%207.3476562C26.591532%207.0754909%2026.658135%206.8463076%2026.705078%206.6835938C26.728548%206.6022368%2026.746996%206.5377315%2026.759766%206.4941406C26.916091%206.0606215%2027.022027%206.0117998%2027.007812%206.0195312C27.000698%206.0234013%2027.014739%206.0105924%2027.083984%206.0097656%20z%20M%2010.5%2022L16%2022L16%2039.5C16%2040.346499%2015.346499%2041%2014.5%2041L10.5%2041C9.6535009%2041%209%2040.346499%209%2039.5L9%2023.5C9%2022.653501%209.6535009%2022%2010.5%2022%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",NO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11.677734%202.1816406C11.255625%202.2202656%2010.879797%202.5279063%2010.779297%202.9726562L10.224609%205.4179688L7.5136719%208.4296875C7.1826719%208.7966875%207%209.2735781%207%209.7675781L7%2019C7%2020.105%207.895%2021%209%2021L17.03125%2021C17.77225%2021%2018.443141%2020.563719%2018.744141%2019.886719L21.746094%2013.130859C21.913094%2012.756859%2022%2012.351406%2022%2011.941406L22%2011C22%209.9%2021.1%209%2020%209L13%209C13%209%2014%206.6292813%2014%204.8632812C14%203.2502813%2012.962422%202.5443281%2012.107422%202.2363281C11.964672%202.1845781%2011.818437%202.1687656%2011.677734%202.1816406%20z%20M%203.5%209C2.672%209%202%209.672%202%2010.5L2%2019.5C2%2020.328%202.672%2021%203.5%2021C4.328%2021%205%2020.328%205%2019.5L5%2010.5C5%209.672%204.328%209%203.5%209%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",LO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%207C6.9280619%207%204%209.9280619%204%2013.5L4%2030.5C4%2034.071938%206.9280619%2037%2010.5%2037L12%2037L12%2042.5C12%2044.46599%2014.427297%2045.67893%2016%2044.5L26%2037L37.5%2037C41.071938%2037%2044%2034.071938%2044%2030.5L44%2013.5C44%209.9280619%2041.071938%207%2037.5%207L10.5%207%20z%20M%2010.5%2010L37.5%2010C39.450062%2010%2041%2011.549938%2041%2013.5L41%2030.5C41%2032.450062%2039.450062%2034%2037.5%2034L25.5%2034%20A%201.50015%201.50015%200%200%200%2024.599609%2034.300781L15%2041.5L15%2035.5%20A%201.50015%201.50015%200%200%200%2013.5%2034L10.5%2034C8.5499381%2034%207%2032.450062%207%2030.5L7%2013.5C7%2011.549938%208.5499381%2010%2010.5%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",MO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M26%203%20A%201%201%200%200%200%2025.716797%203.0429688%20A%201%201%200%200%200%2025.636719%203.0683594L3.6503906%2010.060547L3.6503906%2010.064453%20A%201%201%200%200%200%203%2011%20A%201%201%200%200%200%203.4824219%2011.853516L10.164062%2017.154297L23.373047%206.6269531L12.845703%2019.835938L18.142578%2026.513672%20A%201%201%200%200%200%2019%2027%20A%201%201%200%200%200%2019.935547%2026.349609L19.939453%2026.349609L26.9375%204.34375%20A%201%201%200%200%200%2026.957031%204.2832031%20A%201%201%200%200%200%2027%204%20A%201%201%200%200%200%2026%203%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",DO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M6%202C4.897%202%204%202.897%204%204L4%2020C4%2021.103%204.897%2022%206%2022L18%2022C19.103%2022%2020%2021.103%2020%2020L20%2015.25L18.001953%2016.748047L18.001953%2020L6%2020L6%204L18%204L18%207.25L20%208.75L20%204C20%202.897%2019.103%202%2018%202L6%202%20z%20M%2016%208.25L16%2011L11%2011L11%2013L16%2013L16%2015.75L21%2012L16%208.25%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",OO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%203%20A%204%204%200%200%200%208%207%20A%204%204%200%200%200%2012%2011%20A%204%204%200%200%200%2016%207%20A%204%204%200%200%200%2012%203%20z%20M%2012%2014C8.996%2014%203%2015.508%203%2018.5L3%2020C3%2020.552%203.448%2021%204%2021L20%2021C20.552%2021%2021%2020.552%2021%2020L21%2018.5C21%2015.508%2015.004%2014%2012%2014%20z'%20/%3e%3c/svg%3e",$O="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M17,18H4c-1.105,0-2-0.895-2-2V6c0-1.105,0.895-2,2-2h13c1.105,0,2,0.895,2,2v10C19,17.105,18.105,18,17,18z'%20opacity='.35'%20/%3e%3ccircle%20cx='14.5'%20cy='7.5'%20r='1.5'%20/%3e%3cpath%20d='M4,15.125C4,15.604,4.364,16,4.812,16h11.375C16.636,16,17,15.611,17,15.125C17,13.932,15.829,12,14.969,12%20c-0.896,0-1.383,1.001-2.969,1.001C10.015,13.001,8.875,9,7.25,9S4,12.817,4,15.125z'%20/%3e%3cpath%20d='M20,6h-1v10c0,1.105-0.895,2-2,2H5c0,1.105,0.895,2,2,2h13c1.105,0,2-0.895,2-2V8C22,6.895,21.105,6,20,6z'%20/%3e%3c/svg%3e",jO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M14,15.5V8h3l-5-5L7,8h3v7.5c0,0.3,0.2,0.5,0.5,0.5h3C13.8,16,14,15.8,14,15.5z'%20opacity='.3'%20/%3e%3cpath%20d='M2%2020H22V22H2zM13.5%2017h-3C9.7%2017%209%2016.3%209%2015.5V9H4.6L12%201.6%2019.4%209H15v6.5C15%2016.3%2014.3%2017%2013.5%2017zM11%2015h2V7h1.6L12%204.4%209.4%207H11V15z'%20/%3e%3c/svg%3e",FO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M14.984375%200.98632812%20A%201.0001%201.0001%200%200%200%2014%202L14%205%20A%201.0001%201.0001%200%201%200%2016%205L16%202%20A%201.0001%201.0001%200%200%200%2014.984375%200.98632812%20z%20M%205.796875%204.7988281%20A%201.0001%201.0001%200%200%200%205.1015625%206.515625L7.2226562%208.6367188%20A%201.0001%201.0001%200%201%200%208.6367188%207.2226562L6.515625%205.1015625%20A%201.0001%201.0001%200%200%200%205.796875%204.7988281%20z%20M%2024.171875%204.7988281%20A%201.0001%201.0001%200%200%200%2023.484375%205.1015625L21.363281%207.2226562%20A%201.0001%201.0001%200%201%200%2022.777344%208.6367188L24.898438%206.515625%20A%201.0001%201.0001%200%200%200%2024.171875%204.7988281%20z%20M%2015%208%20A%207%207%200%200%200%208%2015%20A%207%207%200%200%200%2015%2022%20A%207%207%200%200%200%2022%2015%20A%207%207%200%200%200%2015%208%20z%20M%202%2014%20A%201.0001%201.0001%200%201%200%202%2016L5%2016%20A%201.0001%201.0001%200%201%200%205%2014L2%2014%20z%20M%2025%2014%20A%201.0001%201.0001%200%201%200%2025%2016L28%2016%20A%201.0001%201.0001%200%201%200%2028%2014L25%2014%20z%20M%207.9101562%2021.060547%20A%201.0001%201.0001%200%200%200%207.2226562%2021.363281L5.1015625%2023.484375%20A%201.0001%201.0001%200%201%200%206.515625%2024.898438L8.6367188%2022.777344%20A%201.0001%201.0001%200%200%200%207.9101562%2021.060547%20z%20M%2022.060547%2021.060547%20A%201.0001%201.0001%200%200%200%2021.363281%2022.777344L23.484375%2024.898438%20A%201.0001%201.0001%200%201%200%2024.898438%2023.484375L22.777344%2021.363281%20A%201.0001%201.0001%200%200%200%2022.060547%2021.060547%20z%20M%2014.984375%2023.986328%20A%201.0001%201.0001%200%200%200%2014%2025L14%2028%20A%201.0001%201.0001%200%201%200%2016%2028L16%2025%20A%201.0001%201.0001%200%200%200%2014.984375%2023.986328%20z'%20/%3e%3c/svg%3e",VO="/assets/dark-i8sdGySW.svg",UO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%2018.071L6.429%2012.5%204.929%2014%2012%2021.071%2019.071%2014%2017.571%2012.5z'%20/%3e%3cpath%20d='M4%2010H20V12H4z'%20transform='rotate(-90%2012%2011)'%20/%3e%3c/svg%3e",BO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M4,19V5c0-1.657,1.343-3,3-3h7l6,6v11c0,1.657-1.343,3-3,3H7C5.343,22,4,20.657,4,19z'%20opacity='.35'%20/%3e%3cpath%20d='M14,6V2l6,6h-4C14.895,8,14,7.105,14,6z'%20/%3e%3c/svg%3e",zO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M23.277344%204.0175781C15.193866%204.3983176%209%2011.343391%209%2019.380859L9%2026.648438L6.3496094%2031.980469%20A%201.50015%201.50015%200%200%200%206.3359375%2032.009766C5.2696804%2034.277268%206.9957076%2037%209.5019531%2037L18%2037C18%2040.295865%2020.704135%2043%2024%2043C27.295865%2043%2030%2040.295865%2030%2037L38.496094%2037C41.002339%2037%2042.730582%2034.277829%2041.664062%2032.009766%20A%201.50015%201.50015%200%200%200%2041.650391%2031.980469L39%2026.648438L39%2019C39%2010.493798%2031.863289%203.6133643%2023.277344%204.0175781%20z%20M%2023.417969%207.0136719C30.338024%206.6878857%2036%2012.162202%2036%2019L36%2027%20A%201.50015%201.50015%200%200%200%2036.15625%2027.667969L38.949219%2033.289062C39.128826%2033.674017%2038.921017%2034%2038.496094%2034L9.5019531%2034C9.077027%2034%208.8709034%2033.674574%209.0507812%2033.289062C9.0507812%2033.289062%209.0507812%2033.287109%209.0507812%2033.287109L11.84375%2027.667969%20A%201.50015%201.50015%200%200%200%2012%2027L12%2019.380859C12%2012.880328%2016.979446%207.3169324%2023.417969%207.0136719%20z%20M%2021%2037L27%2037C27%2038.674135%2025.674135%2040%2024%2040C22.325865%2040%2021%2038.674135%2021%2037%20z'%20/%3e%3c/svg%3e",WO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%206C6.9280619%206%204%208.9280619%204%2012.5L4%2028.5L4%2034.535156C4%2036.486795%206.3899087%2037.705105%207.96875%2036.558594%20A%201.50015%201.50015%200%200%200%207.9707031%2036.558594L12.291016%2033.416016C13.114957%2036.061625%2015.594339%2038%2018.5%2038L31.011719%2038L40.029297%2044.558594%20A%201.50015%201.50015%200%200%200%2040.03125%2044.558594C41.610044%2045.705105%2044%2044.486795%2044%2042.535156L44%2036.5L44%2020.5C44%2016.928062%2041.071938%2014%2037.5%2014L36%2014L36%2012.5C36%208.9280619%2033.071938%206%2029.5%206L10.5%206%20z%20M%2010.5%209L29.5%209C31.450062%209%2033%2010.549938%2033%2012.5L33%2023.5C33%2025.450062%2031.450062%2027%2029.5%2027L16.5%2027%20A%201.50015%201.50015%200%200%200%2015.617188%2027.287109L7%2033.554688L7%2028.5L7%2012.5C7%2010.549938%208.5499381%209%2010.5%209%20z%20M%2036%2017L37.5%2017C39.450062%2017%2041%2018.549938%2041%2020.5L41%2036.5L41%2041.554688L32.382812%2035.287109%20A%201.50015%201.50015%200%200%200%2031.5%2035L18.5%2035C16.549938%2035%2015%2033.450062%2015%2031.5L15%2031.445312L16.988281%2030L29.5%2030C33.071938%2030%2036%2027.071938%2036%2023.5L36%2017%20z'%20/%3e%3c/svg%3e",HO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M5%201L10.3125%2011L4%2011L1%207L0%207L1%2013L0%2019L1%2019L4%2015L10.3125%2015L5%2025L7.1875%2025L15.90625%2015L24%2015C25.101563%2015%2026%2014.101563%2026%2013C26%2011.898438%2025.101563%2011%2024%2011L15.90625%2011L7.1875%201Z'%20/%3e%3c/svg%3e",qO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M5.40625%205.40625C-0.441406%2011.253906%20-0.441406%2020.746094%205.40625%2026.59375L6.8125%2025.1875C1.726563%2020.101563%201.726563%2011.898438%206.8125%206.8125%20Z%20M%2026.59375%205.40625L25.1875%206.8125C30.273438%2011.898438%2030.273438%2020.101563%2025.1875%2025.1875L26.59375%2026.59375C32.441406%2020.746094%2032.441406%2011.253906%2026.59375%205.40625%20Z%20M%209.625%209.625C6.117188%2013.132813%206.117188%2018.867188%209.625%2022.375L11.0625%2020.9375C8.320313%2018.195313%208.320313%2013.804688%2011.0625%2011.0625%20Z%20M%2022.375%209.625L20.9375%2011.0625C23.679688%2013.804688%2023.679688%2018.195313%2020.9375%2020.9375L22.375%2022.375C25.882813%2018.867188%2025.882813%2013.132813%2022.375%209.625%20Z%20M%2016%2013C14.355469%2013%2013%2014.355469%2013%2016C13%2017.644531%2014.355469%2019%2016%2019C17.644531%2019%2019%2017.644531%2019%2016C19%2014.355469%2017.644531%2013%2016%2013%20Z%20M%2016%2015C16.5625%2015%2017%2015.4375%2017%2016C17%2016.5625%2016.5625%2017%2016%2017C15.4375%2017%2015%2016.5625%2015%2016C15%2015.4375%2015.4375%2015%2016%2015Z'%20/%3e%3c/svg%3e",GO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='240'%20height='240'%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWa'%20x1='21.302'%20x2='27.254'%20y1='21.302'%20y2='27.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='24'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWa)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWb'%20x1='21.302'%20x2='27.254'%20y1='7.302'%20y2='13.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='10'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWb)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWc'%20x1='21.302'%20x2='27.254'%20y1='35.302'%20y2='41.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='38'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWc)'%20/%3e%3c/svg%3e",KO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L4%203L4%205L20%205L20%203L15%203L14%202L10%202%20z%20M%205%207L5%2022L14.220703%2022L16.230469%2020L14%2020L14%209L16%209L16%2015.978516L16.464844%2015.515625L17.878906%2014.101562L19%2015.222656L19%207L5%207%20z%20M%208%209L10%209L10%2020L8%2020L8%209%20z%20M%2017.878906%2016.929688L16.464844%2018.34375L18.585938%2020.464844L16.464844%2022.585938L17.878906%2024L20%2021.878906L22.121094%2024L23.535156%2022.585938L21.414062%2020.464844L23.535156%2018.34375L22.121094%2016.929688L20%2019.050781L17.878906%2016.929688%20z'%20/%3e%3c/svg%3e",QO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M20.011,3.989c-1.318-1.318-3.455-1.318-4.773,0L4.208,14.998c-0.302,0.302-0.503,0.689-0.576,1.11l-0.615,3.567c-0.133,0.772,0.538,1.442,1.31,1.308l3.525-0.613c0.418-0.073,0.804-0.273,1.104-0.573L20.011,8.761C21.33,7.443,21.33,5.307,20.011,3.989z'%20opacity='.35'%20/%3e%3cpolygon%20points='13.075,6.144%2017.848,10.917%2019.832,8.94%2015.059,4.167'%20/%3e%3cpath%20d='M3.392,17.5l-0.375,2.175c-0.133,0.772,0.538,1.442,1.31,1.308l2.171-0.378L3.392,17.5z'%20/%3e%3c/svg%3e",YO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M16.414,7.586c-0.781-0.781-2.047-0.781-2.828,0l-6,6c-0.781,0.781-0.781,2.047,0,2.828c0.781,0.781,2.047,0.781,2.828,0l6-6C17.195,9.633,17.195,8.367,16.414,7.586z'%20/%3e%3cpath%20d='M20.389,3.611c-2.148-2.148-5.63-2.148-7.778,0c-0.171,0.171-0.829,0.829-1,1c-1.548,1.548-1.963,3.786-1.279,5.722%20c-1.936-0.684-4.173-0.27-5.721,1.278c-0.171,0.171-0.829,0.829-1,1c-2.148,2.148-2.148,5.63,0,7.778%20c2.148,2.148,5.63,2.148,7.778,0c0.171-0.171,0.829-0.829,1-1c1.548-1.548,1.963-3.786,1.279-5.722%20c1.936,0.684,4.173,0.27,5.721-1.278c0.171-0.171,0.829-0.829,1-1C22.537,9.241,22.537,5.759,20.389,3.611z'%20opacity='.35'%20/%3e%3c/svg%3e",XO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20/%3e%3c/svg%3e",JO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20fill='%238D8D8D'%20/%3e%3c/svg%3e",ZO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M19.999,3H4.01c-1.1,0-2.001,0.9-2.001,2L2,16.999C2,18.104,2.895,19,4,19h1.499c0.276,0,0.5,0.224,0.5,0.5v2.086%20c0,0.891,1.077,1.337,1.707,0.707l3-3C10.894,19.105,11.148,19,11.413,19h8.586c1.1,0,2-0.9,2-2V5C21.999,3.9,21.099,3,19.999,3z%20M15.903,15c-0.492,0-0.883-0.363-0.988-0.843C14.472,12.147,12.455,12.006,12,12V14c0,0.404-0.243,0.769-0.617,0.924%20C11.259,14.975,11.129,15,11,15c-0.26,0-0.516-0.102-0.707-0.293l-3-3c-0.391-0.391-0.391-1.023,0-1.414l3-3%20c0.286-0.286,0.715-0.371,1.09-0.217C11.757,7.231,12,7.595,12,8v2v0c1.535,0,4.284,0.823,4.883,3.773%20C17.011,14.403,16.545,15,15.903,15z'%20fill='%23050505'%20/%3e%3c/svg%3e",e$="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='-9.31019674359186%20-9.31019674359186%20200.60019674359185%20200.59919674359185'%3e%3clinearGradient%20id='a'%20x1='47.061%25'%20x2='47.061%25'%20y1='-3.394%25'%20y2='96.606%25'%3e%3cstop%20offset='0'%20stop-color='%2337aeff'/%3e%3cstop%20offset='.05'%20stop-color='%2337aeff'/%3e%3cstop%20offset='1'%20stop-color='%231861f7'/%3e%3c/linearGradient%3e%3cg%20fill='none'%3e%3cpath%20d='M0%2095.645c0%2052.823%2042.822%2095.644%2095.645%2095.644%2052.823%200%2095.644-42.821%2095.644-95.644C191.29%2042.822%20148.468%200%2095.645%200A95.617%2095.617%200%200%200%200%2095.645'%20fill='url(%23a)'/%3e%3cpath%20d='M151.421%2099.986a9.095%209.095%200%200%200-3.901-8.737%2018.08%2018.08%200%200%200%203.6-8.628c0-8.463-7.941-10.99-20.168-10.99-7.27.08-14.51.936-21.597%202.555.66-3.627%205.496-14.15%205.496-17.667%200-7.31-1.731-16.486-8.436-19.976a11.925%2011.925%200%200%200-6.154-1.593c-2.68-.126-5.303.8-7.309%202.583a6.32%206.32%200%200%200-.742%203.681l1.21%2013.738c0%2010.99-16.899%2024.729-16.899%2040.528v33.136c0%205.88%207.886%2010.056%2019.234%2010.056h31.46c8.243%200%2010.084-1.428%2012.2-5.275a7.583%207.583%200%200%200-.166-8.023%2012.364%2012.364%200%200%200%207.749-8.93c.487-2.412.118-4.92-1.044-7.089a9.48%209.48%200%200%200%205.495-9.369M48.743%2080.945h9.836a8.243%208.243%200%200%201%208.243%208.243V135.1a8.243%208.243%200%200%201-8.243%208.242h-9.836a8.243%208.243%200%200%201-8.243-8.242V89.298a8.243%208.243%200%200%201%208.243-8.243'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",t$="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3e%3clinearGradient%20id='a'%20x1='50%25'%20x2='50%25'%20y1='0%25'%20y2='100%25'%3e%3cstop%20offset='0'%20stop-color='%23f65e7a'/%3e%3cstop%20offset='.051'%20stop-color='%23f65e7a'/%3e%3cstop%20offset='.1'%20stop-color='%23f65d79'/%3e%3cstop%20offset='.146'%20stop-color='%23f55c78'/%3e%3cstop%20offset='.191'%20stop-color='%23f45b76'/%3e%3cstop%20offset='.233'%20stop-color='%23f35974'/%3e%3cstop%20offset='.274'%20stop-color='%23f25771'/%3e%3cstop%20offset='.314'%20stop-color='%23f1546f'/%3e%3cstop%20offset='.353'%20stop-color='%23f0526b'/%3e%3cstop%20offset='.39'%20stop-color='%23ee4f68'/%3e%3cstop%20offset='.427'%20stop-color='%23ed4b64'/%3e%3cstop%20offset='.464'%20stop-color='%23eb4860'/%3e%3cstop%20offset='.5'%20stop-color='%23e9445c'/%3e%3cstop%20offset='.536'%20stop-color='%23e84057'/%3e%3cstop%20offset='.573'%20stop-color='%23e63c53'/%3e%3cstop%20offset='.61'%20stop-color='%23e5374e'/%3e%3cstop%20offset='.647'%20stop-color='%23e33349'/%3e%3cstop%20offset='.686'%20stop-color='%23e22e44'/%3e%3cstop%20offset='.726'%20stop-color='%23e02940'/%3e%3cstop%20offset='.767'%20stop-color='%23df253b'/%3e%3cstop%20offset='.809'%20stop-color='%23de2037'/%3e%3cstop%20offset='.854'%20stop-color='%23dd1c33'/%3e%3cstop%20offset='.9'%20stop-color='%23dd1830'/%3e%3cstop%20offset='.949'%20stop-color='%23dc152e'/%3e%3cstop%20offset='1'%20stop-color='%23dc142d'/%3e%3c/linearGradient%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='96'%20cy='96'%20fill='url(%23a)'%20r='96'/%3e%3cpath%20d='M95.926%2070.264c1.666-5.311%205.057-9.77%2010.171-13.374%208.485-5.982%2029.714-7.652%2040.268%208.14%2010.555%2015.791%205.613%2037.04-10.554%2053.746-10.555%2010.905-23.674%2021.075-39.358%2030.508a2%202%200%200%201-2.018.026c-13.021-7.386-26.062-17.564-39.12-30.534-20.1-19.962-21.546-37.989-10.773-53.747%2010.772-15.757%2031.73-14.12%2040.215-8.14%205.115%203.606%208.52%208.065%2010.215%2013.377a.5.5%200%200%200%20.954-.002z'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",n$="/assets/facebook-reaction-sad-fp-d8NwB.svg",r$="/assets/facebook-reaction-wow-4aGHxQqX.svg",s$="data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201500%201500'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:url(%23SVGID_1_)}.st1{fill:%23262c38}.st2{fill:none;stroke:%23262c38;stroke-width:60;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}%3c/style%3e%3clinearGradient%20id='SVGID_1_'%20gradientUnits='userSpaceOnUse'%20x1='750'%20y1='1501.519'%20x2='750'%20y2='4.759'%20gradientTransform='matrix(1%200%200%20-1%200%201499.72)'%3e%3cstop%20offset='.098'%20stop-color='%23f05766'/%3e%3cstop%20offset='.25'%20stop-color='%23f3766a'/%3e%3cstop%20offset='.826'%20stop-color='%23ffda6b'/%3e%3c/linearGradient%3e%3ccircle%20class='st0'%20cx='750'%20cy='750'%20r='750'/%3e%3ccircle%20class='st1'%20cx='416.7'%20cy='947'%20r='73.7'/%3e%3ccircle%20class='st1'%20cx='1082.7'%20cy='947'%20r='73.7'/%3e%3cpath%20class='st2'%20d='M205.9%20805.1s120.5%2093.7%20423.4%2093.7M1291.9%20805.1s-120.5%2093.7-423.4%2093.7'/%3e%3cpath%20class='st1'%20d='M987.6%201211.4c0%2041.7-106.7%2043.3-238.4%2043.3s-238.4-1.7-238.4-43.3c0-36.8%20109.9-54.6%20241.5-54.6s235.3%2017.7%20235.3%2054.6z'/%3e%3c/svg%3e",i$="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3e%3cradialGradient%20id='a'%20cy='0%25'%20gradientTransform='matrix(0%201%20-1.26314%200%20.5%20-.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%23fce16b'/%3e%3cstop%20offset='.11'%20stop-color='%23fce16b'/%3e%3cstop%20offset='.205'%20stop-color='%23fce06a'/%3e%3cstop%20offset='.288'%20stop-color='%23fcdf69'/%3e%3cstop%20offset='.36'%20stop-color='%23fcdd68'/%3e%3cstop%20offset='.424'%20stop-color='%23fbda66'/%3e%3cstop%20offset='.483'%20stop-color='%23fbd764'/%3e%3cstop%20offset='.537'%20stop-color='%23fbd361'/%3e%3cstop%20offset='.591'%20stop-color='%23facf5e'/%3e%3cstop%20offset='.644'%20stop-color='%23fac959'/%3e%3cstop%20offset='.701'%20stop-color='%23f9c254'/%3e%3cstop%20offset='.763'%20stop-color='%23f8bb4e'/%3e%3cstop%20offset='.832'%20stop-color='%23f8b147'/%3e%3cstop%20offset='.91'%20stop-color='%23f7a73d'/%3e%3cstop%20offset='1'%20stop-color='%23f69a31'/%3e%3c/radialGradient%3e%3cradialGradient%20id='b'%20cy='100%25'%20gradientTransform='matrix(0%20-1%201.136%200%20-.636%201.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%2383370e'/%3e%3cstop%20offset='.226'%20stop-color='%2383370e'/%3e%3cstop%20offset='1'%20stop-color='%23482213'/%3e%3c/radialGradient%3e%3cradialGradient%20id='c'%20cy='0%25'%20gradientTransform='matrix(0%201%20-.7355%200%20.5%20-.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%23f75b73'/%3e%3cstop%20offset='1'%20stop-color='%23c51f2d'/%3e%3c/radialGradient%3e%3cfilter%20id='d'%20height='116.4%25'%20width='112.8%25'%20x='-6.4%25'%20y='-8.2%25'%3e%3cfeGaussianBlur%20in='SourceGraphic'%20stdDeviation='1'/%3e%3c/filter%3e%3cfilter%20id='e'%20height='116.4%25'%20width='112.8%25'%20x='-6.4%25'%20y='-8.2%25'%3e%3cfeGaussianBlur%20in='SourceGraphic'%20stdDeviation='1'/%3e%3c/filter%3e%3clinearGradient%20id='f'%20x1='85.463%25'%20y1='19.628%25'%20y2='80.372%25'%3e%3cstop%20offset='0'%20stop-color='%23222845'/%3e%3cstop%20offset='.086'%20stop-color='%23222845'/%3e%3cstop%20offset='.166'%20stop-color='%23232946'/%3e%3cstop%20offset='.239'%20stop-color='%23232b48'/%3e%3cstop%20offset='.308'%20stop-color='%23242d4a'/%3e%3cstop%20offset='.374'%20stop-color='%23262f4c'/%3e%3cstop%20offset='.438'%20stop-color='%2327314e'/%3e%3cstop%20offset='.5'%20stop-color='%23283350'/%3e%3cstop%20offset='.562'%20stop-color='%23293552'/%3e%3cstop%20offset='.626'%20stop-color='%232a3754'/%3e%3cstop%20offset='.692'%20stop-color='%232b3956'/%3e%3cstop%20offset='.761'%20stop-color='%232c3a58'/%3e%3cstop%20offset='.834'%20stop-color='%232c3b59'/%3e%3cstop%20offset='.914'%20stop-color='%232d3c5a'/%3e%3cstop%20offset='1'%20stop-color='%232d3c5a'/%3e%3c/linearGradient%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='96'%20cy='96'%20fill='url(%23a)'%20r='96'/%3e%3cpath%20d='M96%20166c38.66%200%2064-31.34%2064-70%200-.66-7-13-64-13S32%2095.34%2032%2096c0%2038.66%2025.34%2070%2064%2070z'%20fill='url(%23b)'/%3e%3cpath%20d='M52.272%20148.44C60.808%20139.232%2077.192%20133%2096%20133s35.192%206.231%2043.728%2015.44C128.75%20159.368%20113.785%20166%2096%20166s-32.75-6.633-43.728-17.56z'%20fill='url(%23c)'/%3e%3cpath%20d='M143.907%2039.169c-8.207%202.389-27.788%2013.373-30.542%2017.594s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.582-8.024%2018.07-10.617%205.49-2.593%203.226-11.026-4.982-8.636z'%20fill='%23fff3c5'%20filter='url(%23d)'%20opacity='.449'/%3e%3cpath%20d='M64.797%2039.169C56.59%2041.558%2037.01%2052.542%2034.255%2056.763s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.583-8.024%2018.071-10.617%205.488-2.593%203.225-11.026-4.983-8.636z'%20fill='%23fff3c5'%20filter='url(%23e)'%20opacity='.449'%20transform='matrix(-1%200%200%201%20112.83%200)'/%3e%3cg%20fill='url(%23f)'%3e%3cpath%20d='M143.907%2035.169c-8.207%202.389-27.788%2013.373-30.542%2017.594s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.582-8.024%2018.07-10.617%205.49-2.593%203.226-11.026-4.982-8.636zM48.032%2035.169c8.208%202.389%2027.789%2013.373%2030.543%2017.594s.61%209.333-2.896%2010.056c-9.101%200-24.786%202.671-35.423%207.776-5.94%203.015-9.499-5.293-5.66-7.776%205.597-4.395%2014.438-7.194%2026.525-8.397-.992-3.035-12.583-8.024-18.071-10.617-5.489-2.593-3.225-11.026%204.982-8.636z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",o$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M43.470703%208.9863281%20A%201.50015%201.50015%200%200%200%2042.439453%209.4394531L16.5%2035.378906L5.5605469%2024.439453%20A%201.50015%201.50015%200%201%200%203.4394531%2026.560547L15.439453%2038.560547%20A%201.50015%201.50015%200%200%200%2017.560547%2038.560547L44.560547%2011.560547%20A%201.50015%201.50015%200%200%200%2043.470703%208.9863281%20z'%20/%3e%3c/svg%3e",a$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M13%2042C12.472656%2042%2011.960938%2041.789063%2011.585938%2041.414063L0.585938%2030.414063C-0.195313%2029.632813%20-0.195313%2028.367188%200.585938%2027.585938C1.367188%2026.804688%202.632813%2026.804688%203.414063%2027.585938L12.859375%2037.03125L35.460938%209.726563C36.164063%208.871094%2037.425781%208.753906%2038.273438%209.460938C39.125%2010.164063%2039.246094%2011.425781%2038.539063%2012.273438L14.539063%2041.273438C14.183594%2041.710938%2013.65625%2041.972656%2013.09375%2041.996094C13.0625%2042%2013.03125%2042%2013%2042%20Z%20M%2024.09375%2041.996094C24.65625%2041.972656%2025.179688%2041.710938%2025.539063%2041.273438L49.539063%2012.273438C50.246094%2011.425781%2050.125%2010.164063%2049.273438%209.460938C48.425781%208.753906%2047.164063%208.875%2046.460938%209.726563L23.859375%2037.03125L23.414063%2036.585938C22.632813%2035.804688%2021.367188%2035.804688%2020.585938%2036.585938C19.804688%2037.367188%2019.804688%2038.632813%2020.585938%2039.414063L22.585938%2041.414063C22.960938%2041.789063%2023.472656%2042%2024%2042C24.03125%2042%2024.0625%2042%2024.09375%2041.996094Z'%20/%3e%3c/svg%3e",l$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M12%204C4%204%201%2012%201%2012C1%2012%204%2020%2012%2020C20%2020%2023%2012%2023%2012C23%2012%2020%204%2012%204%20z%20M%2012%207C14.761%207%2017%209.239%2017%2012C17%2014.761%2014.761%2017%2012%2017C9.239%2017%207%2014.761%207%2012C7%209.239%209.239%207%2012%207%20z%20M%2012%209%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%2012%2015%20A%203%203%200%200%200%2015%2012%20A%203%203%200%200%200%2012%209%20z'%20/%3e%3c/svg%3e",c$={sent:o$,eye:l$,seen:a$,link:YO,reply:ZO,sendLetter:XO,sendingLetter:JO,deleteIcon:KO,editPencil:QO,moreOption:GO,download:UO,offline:HO,online:qO,chat:WO,notification:zO,file:BO,light:FO,dark:VO,upload:jO,trueIcon:KD,falseIcon:QD,error:YD,down:XD,back:JD,thumbUp:ZD,redo:eO,next:tO,finish:nO,history:rO,trash:sO,add:iO,edit:oO,save:aO,up:lO,clipboard:cO,admin:uO,menu:dO,home:hO,result:fO,help:pO,about:mO,update:gO,faq:yO,plus:vO,minus:_O,share:wO,review:xO,fullScreen:EO,search:bO,searchLeft:CO,close:IO,copy:TO,google:SO,refresh:RO,exit:AO,exam:kO,like:PO,liked:NO,comment:LO,send:MO,logout:DO,user:OO,image:$O,facebookAngry:s$,facebookHaha:i$,facebookLike:e$,facebookLove:t$,facebookSad:n$,facebookWow:r$};function Ae(t){return c$[t]||null}const ks=({data:t})=>{const{clickFn:e,text:n,image:r}=t,s=Ae(r),{theme:i}=v.useContext(X),o=()=>{e&&e()};return f.jsxs("button",{onClick:o,className:`min-h-10 shadow-md hover:opacity-70 border  font-medium px-2 py-1 rounded-lg flex justify-center items-center gap-x-1 transition-all ${i==="light"?"bg-blue-200/60 border-gray-200":"bg-blue-200/60 text-white border-slate-500/70"}`,children:[r&&f.jsx("img",{className:" h-7",src:s}),n&&f.jsx("span",{children:n})]})},u$={black:"#000",white:"#fff"},dh=u$,d$={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ll=d$,h$={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ml=h$,f$={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Dl=f$,p$={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ol=p$,m$={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},$l=m$,g$={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ju=g$,y$={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},v$=y$;function Ya(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const _$=Object.freeze(Object.defineProperty({__proto__:null,default:Ya},Symbol.toStringTag,{value:"Module"})),Z2="$$material";function j(){return j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j.apply(null,arguments)}function ue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function j6(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var w$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,x$=j6(function(t){return w$.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function E$(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function b$(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var C$=function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(b$(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=E$(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Un="-ms-",Vp="-moz-",tt="-webkit-",F6="comm",Yw="rule",Xw="decl",I$="@import",V6="@keyframes",T$="@layer",S$=Math.abs,em=String.fromCharCode,R$=Object.assign;function A$(t,e){return Tn(t,0)^45?(((e<<2^Tn(t,0))<<2^Tn(t,1))<<2^Tn(t,2))<<2^Tn(t,3):0}function U6(t){return t.trim()}function k$(t,e){return(t=e.exec(t))?t[0]:t}function nt(t,e,n){return t.replace(e,n)}function Tv(t,e){return t.indexOf(e)}function Tn(t,e){return t.charCodeAt(e)|0}function hh(t,e,n){return t.slice(e,n)}function zs(t){return t.length}function Jw(t){return t.length}function s0(t,e){return e.push(t),t}function P$(t,e){return t.map(e).join("")}var tm=1,Vc=1,B6=0,Tr=0,Zt=0,uu="";function nm(t,e,n,r,s,i,o){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:tm,column:Vc,length:o,return:""}}function Fu(t,e){return R$(nm("",null,null,"",null,null,0),t,{length:-t.length},e)}function N$(){return Zt}function L$(){return Zt=Tr>0?Tn(uu,--Tr):0,Vc--,Zt===10&&(Vc=1,tm--),Zt}function $r(){return Zt=Tr<B6?Tn(uu,Tr++):0,Vc++,Zt===10&&(Vc=1,tm++),Zt}function ii(){return Tn(uu,Tr)}function B0(){return Tr}function Jh(t,e){return hh(uu,t,e)}function fh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function z6(t){return tm=Vc=1,B6=zs(uu=t),Tr=0,[]}function W6(t){return uu="",t}function z0(t){return U6(Jh(Tr-1,Sv(t===91?t+2:t===40?t+1:t)))}function M$(t){for(;(Zt=ii())&&Zt<33;)$r();return fh(t)>2||fh(Zt)>3?"":" "}function D$(t,e){for(;--e&&$r()&&!(Zt<48||Zt>102||Zt>57&&Zt<65||Zt>70&&Zt<97););return Jh(t,B0()+(e<6&&ii()==32&&$r()==32))}function Sv(t){for(;$r();)switch(Zt){case t:return Tr;case 34:case 39:t!==34&&t!==39&&Sv(Zt);break;case 40:t===41&&Sv(t);break;case 92:$r();break}return Tr}function O$(t,e){for(;$r()&&t+Zt!==57;)if(t+Zt===84&&ii()===47)break;return"/*"+Jh(e,Tr-1)+"*"+em(t===47?t:$r())}function $$(t){for(;!fh(ii());)$r();return Jh(t,Tr)}function j$(t){return W6(W0("",null,null,null,[""],t=z6(t),0,[0],t))}function W0(t,e,n,r,s,i,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,m=0,y=1,E=1,g=1,w=0,_="",x=s,S=i,b=r,T=_;E;)switch(m=w,w=$r()){case 40:if(m!=108&&Tn(T,d-1)==58){Tv(T+=nt(z0(w),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:T+=z0(w);break;case 9:case 10:case 13:case 32:T+=M$(m);break;case 92:T+=D$(B0()-1,7);continue;case 47:switch(ii()){case 42:case 47:s0(F$(O$($r(),B0()),e,n),l);break;default:T+="/"}break;case 123*y:a[c++]=zs(T)*g;case 125*y:case 59:case 0:switch(w){case 0:case 125:E=0;case 59+u:g==-1&&(T=nt(T,/\f/g,"")),p>0&&zs(T)-d&&s0(p>32?ib(T+";",r,n,d-1):ib(nt(T," ","")+";",r,n,d-2),l);break;case 59:T+=";";default:if(s0(b=sb(T,e,n,c,u,s,a,_,x=[],S=[],d),i),w===123)if(u===0)W0(T,e,b,b,x,i,d,a,S);else switch(h===99&&Tn(T,3)===110?100:h){case 100:case 108:case 109:case 115:W0(t,b,b,r&&s0(sb(t,b,b,0,0,s,a,_,s,x=[],d),S),s,S,d,a,r?x:S);break;default:W0(T,b,b,b,[""],S,0,a,S)}}c=u=p=0,y=g=1,_=T="",d=o;break;case 58:d=1+zs(T),p=m;default:if(y<1){if(w==123)--y;else if(w==125&&y++==0&&L$()==125)continue}switch(T+=em(w),w*y){case 38:g=u>0?1:(T+="\f",-1);break;case 44:a[c++]=(zs(T)-1)*g,g=1;break;case 64:ii()===45&&(T+=z0($r())),h=ii(),u=d=zs(_=T+=$$(B0())),w++;break;case 45:m===45&&zs(T)==2&&(y=0)}}return i}function sb(t,e,n,r,s,i,o,a,l,c,u){for(var d=s-1,h=s===0?i:[""],p=Jw(h),m=0,y=0,E=0;m<r;++m)for(var g=0,w=hh(t,d+1,d=S$(y=o[m])),_=t;g<p;++g)(_=U6(y>0?h[g]+" "+w:nt(w,/&\f/g,h[g])))&&(l[E++]=_);return nm(t,e,n,s===0?Yw:a,l,c,u)}function F$(t,e,n){return nm(t,e,n,F6,em(N$()),hh(t,2,-2),0)}function ib(t,e,n,r){return nm(t,e,n,Xw,hh(t,0,r),hh(t,r+1,-1),r)}function xc(t,e){for(var n="",r=Jw(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function V$(t,e,n,r){switch(t.type){case T$:if(t.children.length)break;case I$:case Xw:return t.return=t.return||t.value;case F6:return"";case V6:return t.return=t.value+"{"+xc(t.children,r)+"}";case Yw:t.value=t.props.join(",")}return zs(n=xc(t.children,r))?t.return=t.value+"{"+n+"}":""}function U$(t){var e=Jw(t);return function(n,r,s,i){for(var o="",a=0;a<e;a++)o+=t[a](n,r,s,i)||"";return o}}function B$(t){return function(e){e.root||(e=e.return)&&t(e)}}var z$=function(e,n,r){for(var s=0,i=0;s=i,i=ii(),s===38&&i===12&&(n[r]=1),!fh(i);)$r();return Jh(e,Tr)},W$=function(e,n){var r=-1,s=44;do switch(fh(s)){case 0:s===38&&ii()===12&&(n[r]=1),e[r]+=z$(Tr-1,n,r);break;case 2:e[r]+=z0(s);break;case 4:if(s===44){e[++r]=ii()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=em(s)}while(s=$r());return e},H$=function(e,n){return W6(W$(z6(e),n))},ob=new WeakMap,q$=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!ob.get(r))&&!s){ob.set(e,!0);for(var i=[],o=H$(n,i),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=i[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},G$=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function H6(t,e){switch(A$(t,e)){case 5103:return tt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return tt+t+Vp+t+Un+t+t;case 6828:case 4268:return tt+t+Un+t+t;case 6165:return tt+t+Un+"flex-"+t+t;case 5187:return tt+t+nt(t,/(\w+).+(:[^]+)/,tt+"box-$1$2"+Un+"flex-$1$2")+t;case 5443:return tt+t+Un+"flex-item-"+nt(t,/flex-|-self/,"")+t;case 4675:return tt+t+Un+"flex-line-pack"+nt(t,/align-content|flex-|-self/,"")+t;case 5548:return tt+t+Un+nt(t,"shrink","negative")+t;case 5292:return tt+t+Un+nt(t,"basis","preferred-size")+t;case 6060:return tt+"box-"+nt(t,"-grow","")+tt+t+Un+nt(t,"grow","positive")+t;case 4554:return tt+nt(t,/([^-])(transform)/g,"$1"+tt+"$2")+t;case 6187:return nt(nt(nt(t,/(zoom-|grab)/,tt+"$1"),/(image-set)/,tt+"$1"),t,"")+t;case 5495:case 3959:return nt(t,/(image-set\([^]*)/,tt+"$1$`$1");case 4968:return nt(nt(t,/(.+:)(flex-)?(.*)/,tt+"box-pack:$3"+Un+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tt+t+t;case 4095:case 3583:case 4068:case 2532:return nt(t,/(.+)-inline(.+)/,tt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(zs(t)-1-e>6)switch(Tn(t,e+1)){case 109:if(Tn(t,e+4)!==45)break;case 102:return nt(t,/(.+:)(.+)-([^]+)/,"$1"+tt+"$2-$3$1"+Vp+(Tn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Tv(t,"stretch")?H6(nt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Tn(t,e+1)!==115)break;case 6444:switch(Tn(t,zs(t)-3-(~Tv(t,"!important")&&10))){case 107:return nt(t,":",":"+tt)+t;case 101:return nt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tt+(Tn(t,14)===45?"inline-":"")+"box$3$1"+tt+"$2$3$1"+Un+"$2box$3")+t}break;case 5936:switch(Tn(t,e+11)){case 114:return tt+t+Un+nt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return tt+t+Un+nt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return tt+t+Un+nt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return tt+t+Un+t+t}return t}var K$=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case Xw:e.return=H6(e.value,e.length);break;case V6:return xc([Fu(e,{value:nt(e.value,"@","@"+tt)})],s);case Yw:if(e.length)return P$(e.props,function(i){switch(k$(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return xc([Fu(e,{props:[nt(i,/:(read-\w+)/,":"+Vp+"$1")]})],s);case"::placeholder":return xc([Fu(e,{props:[nt(i,/:(plac\w+)/,":"+tt+"input-$1")]}),Fu(e,{props:[nt(i,/:(plac\w+)/,":"+Vp+"$1")]}),Fu(e,{props:[nt(i,/:(plac\w+)/,Un+"input-$1")]})],s)}return""})}},Q$=[K$],q6=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var E=y.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var s=e.stylisPlugins||Q$,i={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var E=y.getAttribute("data-emotion").split(" "),g=1;g<E.length;g++)i[E[g]]=!0;a.push(y)});var l,c=[q$,G$];{var u,d=[V$,B$(function(y){u.insert(y)})],h=U$(c.concat(s,d)),p=function(E){return xc(j$(E),h)};l=function(E,g,w,_){u=w,p(E?E+"{"+g.styles+"}":g.styles),_&&(m.inserted[g.name]=!0)}}var m={key:n,sheet:new C$({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return m.sheet.hydrate(a),m},G6={exports:{}},ut={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xn=typeof Symbol=="function"&&Symbol.for,Zw=xn?Symbol.for("react.element"):60103,e3=xn?Symbol.for("react.portal"):60106,rm=xn?Symbol.for("react.fragment"):60107,sm=xn?Symbol.for("react.strict_mode"):60108,im=xn?Symbol.for("react.profiler"):60114,om=xn?Symbol.for("react.provider"):60109,am=xn?Symbol.for("react.context"):60110,t3=xn?Symbol.for("react.async_mode"):60111,lm=xn?Symbol.for("react.concurrent_mode"):60111,cm=xn?Symbol.for("react.forward_ref"):60112,um=xn?Symbol.for("react.suspense"):60113,Y$=xn?Symbol.for("react.suspense_list"):60120,dm=xn?Symbol.for("react.memo"):60115,hm=xn?Symbol.for("react.lazy"):60116,X$=xn?Symbol.for("react.block"):60121,J$=xn?Symbol.for("react.fundamental"):60117,Z$=xn?Symbol.for("react.responder"):60118,ej=xn?Symbol.for("react.scope"):60119;function Hr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Zw:switch(t=t.type,t){case t3:case lm:case rm:case im:case sm:case um:return t;default:switch(t=t&&t.$$typeof,t){case am:case cm:case hm:case dm:case om:return t;default:return e}}case e3:return e}}}function K6(t){return Hr(t)===lm}ut.AsyncMode=t3;ut.ConcurrentMode=lm;ut.ContextConsumer=am;ut.ContextProvider=om;ut.Element=Zw;ut.ForwardRef=cm;ut.Fragment=rm;ut.Lazy=hm;ut.Memo=dm;ut.Portal=e3;ut.Profiler=im;ut.StrictMode=sm;ut.Suspense=um;ut.isAsyncMode=function(t){return K6(t)||Hr(t)===t3};ut.isConcurrentMode=K6;ut.isContextConsumer=function(t){return Hr(t)===am};ut.isContextProvider=function(t){return Hr(t)===om};ut.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zw};ut.isForwardRef=function(t){return Hr(t)===cm};ut.isFragment=function(t){return Hr(t)===rm};ut.isLazy=function(t){return Hr(t)===hm};ut.isMemo=function(t){return Hr(t)===dm};ut.isPortal=function(t){return Hr(t)===e3};ut.isProfiler=function(t){return Hr(t)===im};ut.isStrictMode=function(t){return Hr(t)===sm};ut.isSuspense=function(t){return Hr(t)===um};ut.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===rm||t===lm||t===im||t===sm||t===um||t===Y$||typeof t=="object"&&t!==null&&(t.$$typeof===hm||t.$$typeof===dm||t.$$typeof===om||t.$$typeof===am||t.$$typeof===cm||t.$$typeof===J$||t.$$typeof===Z$||t.$$typeof===ej||t.$$typeof===X$)};ut.typeOf=Hr;G6.exports=ut;var tj=G6.exports,Q6=tj,nj={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},rj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Y6={};Y6[Q6.ForwardRef]=nj;Y6[Q6.Memo]=rj;var sj=!0;function ij(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):r+=s+" "}),r}var X6=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||sj===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},J6=function(e,n,r){X6(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function oj(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Z6={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},aj=/[A-Z]|^ms/g,lj=/_EMO_([^_]+?)_([^]*?)_EMO_/g,eR=function(e){return e.charCodeAt(1)===45},ab=function(e){return e!=null&&typeof e!="boolean"},M1=j6(function(t){return eR(t)?t:t.replace(aj,"-$&").toLowerCase()}),lb=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(lj,function(r,s,i){return Ws={name:s,styles:i,next:Ws},s})}return Z6[e]!==1&&!eR(e)&&typeof n=="number"&&n!==0?n+"px":n};function ph(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ws={name:n.name,styles:n.styles,next:Ws},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Ws={name:r.name,styles:r.styles,next:Ws},r=r.next;var s=n.styles+";";return s}return cj(t,e,n)}case"function":{if(t!==void 0){var i=Ws,o=n(t);return Ws=i,ph(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function cj(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=ph(t,e,n[s])+";";else for(var i in n){var o=n[i];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=i+"{"+e[o]+"}":ab(o)&&(r+=M1(i)+":"+lb(i,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)ab(o[a])&&(r+=M1(i)+":"+lb(i,o[a])+";");else{var l=ph(t,e,o);switch(i){case"animation":case"animationName":{r+=M1(i)+":"+l+";";break}default:r+=i+"{"+l+"}"}}}return r}var cb=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ws,n3=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var s=!0,i="";Ws=void 0;var o=e[0];o==null||o.raw===void 0?(s=!1,i+=ph(r,n,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=ph(r,n,e[a]),s&&(i+=o[a]);cb.lastIndex=0;for(var l="",c;(c=cb.exec(i))!==null;)l+="-"+c[1];var u=oj(i)+l;return{name:u,styles:i,next:Ws}},uj=function(e){return e()},tR=fp.useInsertionEffect?fp.useInsertionEffect:!1,dj=tR||uj,ub=tR||v.useLayoutEffect,nR=v.createContext(typeof HTMLElement<"u"?q6({key:"css"}):null),hj=nR.Provider,rR=function(e){return v.forwardRef(function(n,r){var s=v.useContext(nR);return e(n,s,r)})},fm=v.createContext({}),D1={exports:{}},db;function sR(){return db||(db=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)({}).hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(D1)),D1.exports}sR();var fj=rR(function(t,e){var n=t.styles,r=n3([n],void 0,v.useContext(fm)),s=v.useRef();return ub(function(){var i=e.key+"-global",o=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",i),o.hydrate([l])),s.current=[o,a],function(){o.flush()}},[e]),ub(function(){var i=s.current,o=i[0],a=i[1];if(a){i[1]=!1;return}if(r.next!==void 0&&J6(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function _l(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return n3(e)}var zi=function(){var e=_l.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},pj=x$,mj=function(e){return e!=="theme"},hb=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?pj:mj},fb=function(e,n,r){var s;if(n){var i=n.shouldForwardProp;s=e.__emotion_forwardProp&&i?function(o){return e.__emotion_forwardProp(o)&&i(o)}:i}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},gj=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return X6(n,r,s),dj(function(){return J6(n,r,s)}),null},yj=function t(e,n){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,i,o;n!==void 0&&(i=n.label,o=n.target);var a=fb(e,n,r),l=a||hb(s),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&d.push("label:"+i+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var m=rR(function(y,E,g){var w=c&&y.as||s,_="",x=[],S=y;if(y.theme==null){S={};for(var b in y)S[b]=y[b];S.theme=v.useContext(fm)}typeof y.className=="string"?_=ij(E.registered,x,y.className):y.className!=null&&(_=y.className+" ");var T=n3(d.concat(x),E.registered,S);_+=E.key+"-"+T.name,o!==void 0&&(_+=" "+o);var C=c&&a===void 0?hb(w):l,A={};for(var I in y)c&&I==="as"||C(I)&&(A[I]=y[I]);return A.className=_,A.ref=g,v.createElement(v.Fragment,null,v.createElement(gj,{cache:E,serialized:T,isStringTag:typeof w=="string"}),v.createElement(w,A))});return m.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(y,E){return t(y,j({},n,E,{shouldForwardProp:fb(m,E,!0)})).apply(void 0,d)},m}},vj=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Rv=yj.bind();vj.forEach(function(t){Rv[t]=Rv(t)});let Av;typeof document=="object"&&(Av=q6({key:"css",prepend:!0}));function _j(t){const{injectFirst:e,children:n}=t;return e&&Av?f.jsx(hj,{value:Av,children:n}):n}function wj(t){return t==null||Object.keys(t).length===0}function iR(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?s=>e(wj(s)?n:s):e;return f.jsx(fj,{styles:r})}function r3(t,e){return Rv(t,e)}const oR=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},xj=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:iR,StyledEngineProvider:_j,ThemeContext:fm,css:_l,default:r3,internal_processStyles:oR,keyframes:zi},Symbol.toStringTag,{value:"Module"}));function yi(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function aR(t){if(!yi(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=aR(t[n])}),e}function lr(t,e,n={clone:!0}){const r=n.clone?j({},t):t;return yi(t)&&yi(e)&&Object.keys(e).forEach(s=>{yi(e[s])&&Object.prototype.hasOwnProperty.call(t,s)&&yi(t[s])?r[s]=lr(t[s],e[s],n):n.clone?r[s]=yi(e[s])?aR(e[s]):e[s]:r[s]=e[s]}),r}const Ej=Object.freeze(Object.defineProperty({__proto__:null,default:lr,isPlainObject:yi},Symbol.toStringTag,{value:"Module"})),bj=["values","unit","step"],Cj=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>j({},n,{[r.key]:r.val}),{})};function lR(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,s=ue(t,bj),i=Cj(e),o=Object.keys(i);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function c(h,p){const m=o.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(m!==-1&&typeof e[o[m]]=="number"?e[o[m]]:p)-r/100}${n})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return j({keys:o,values:i,up:a,down:l,between:c,only:u,not:d,unit:n},s)}const Ij={borderRadius:4},Tj=Ij;function Ad(t,e){return e?lr(t,e,{clone:!1}):t}const s3={xs:0,sm:600,md:900,lg:1200,xl:1536},pb={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${s3[t]}px)`};function Sr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const i=r.breakpoints||pb;return e.reduce((o,a,l)=>(o[i.up(i.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const i=r.breakpoints||pb;return Object.keys(e).reduce((o,a)=>{if(Object.keys(i.values||s3).indexOf(a)!==-1){const l=i.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function cR(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,s)=>{const i=t.up(s);return r[i]={},r},{}))||{}}function uR(t,e){return t.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},e)}function Sj(t,...e){const n=cR(t),r=[n,...e].reduce((s,i)=>lr(s,i),{});return uR(Object.keys(n),r)}function Rj(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((s,i)=>{i<t.length&&(n[s]=!0)}):r.forEach(s=>{t[s]!=null&&(n[s]=!0)}),n}function Ma({values:t,breakpoints:e,base:n}){const r=n||Rj(t,e),s=Object.keys(r);if(s.length===0)return t;let i;return s.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[i],i=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[i],i=a):o[a]=t,o),{})}function ie(t){if(typeof t!="string")throw new Error(Ya(7));return t.charAt(0).toUpperCase()+t.slice(1)}const Aj=Object.freeze(Object.defineProperty({__proto__:null,default:ie},Symbol.toStringTag,{value:"Module"}));function pm(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,t);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,t)}function Up(t,e,n,r=n){let s;return typeof t=="function"?s=t(n):Array.isArray(t)?s=t[n]||r:s=pm(t,n)||r,e&&(s=e(s,r,t)),s}function Kt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:s}=t,i=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=pm(l,r)||{};return Sr(o,a,d=>{let h=Up(c,s,d);return d===h&&typeof d=="string"&&(h=Up(c,s,`${e}${d==="default"?"":ie(d)}`,d)),n===!1?h:{[n]:h}})};return i.propTypes={},i.filterProps=[e],i}function kj(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Pj={m:"margin",p:"padding"},Nj={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},mb={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Lj=kj(t=>{if(t.length>2)if(mb[t])t=mb[t];else return[t];const[e,n]=t.split(""),r=Pj[e],s=Nj[n]||"";return Array.isArray(s)?s.map(i=>r+i):[r+s]}),i3=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],o3=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...i3,...o3];function Zh(t,e,n,r){var s;const i=(s=pm(t,e,!1))!=null?s:n;return typeof i=="number"?o=>typeof o=="string"?o:i*o:Array.isArray(i)?o=>typeof o=="string"?o:i[o]:typeof i=="function"?i:()=>{}}function a3(t){return Zh(t,"spacing",8)}function Xa(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function Mj(t,e){return n=>t.reduce((r,s)=>(r[s]=Xa(e,n),r),{})}function Dj(t,e,n,r){if(e.indexOf(n)===-1)return null;const s=Lj(n),i=Mj(s,r),o=t[n];return Sr(t,o,i)}function dR(t,e){const n=a3(t.theme);return Object.keys(t).map(r=>Dj(t,e,r,n)).reduce(Ad,{})}function $t(t){return dR(t,i3)}$t.propTypes={};$t.filterProps=i3;function jt(t){return dR(t,o3)}jt.propTypes={};jt.filterProps=o3;function Oj(t=8){if(t.mui)return t;const e=a3({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(i=>{const o=e(i);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function mm(...t){const e=t.reduce((r,s)=>(s.filterProps.forEach(i=>{r[i]=s}),r),{}),n=r=>Object.keys(r).reduce((s,i)=>e[i]?Ad(s,e[i](r)):s,{});return n.propTypes={},n.filterProps=t.reduce((r,s)=>r.concat(s.filterProps),[]),n}function Zr(t){return typeof t!="number"?t:`${t}px solid`}function gs(t,e){return Kt({prop:t,themeKey:"borders",transform:e})}const $j=gs("border",Zr),jj=gs("borderTop",Zr),Fj=gs("borderRight",Zr),Vj=gs("borderBottom",Zr),Uj=gs("borderLeft",Zr),Bj=gs("borderColor"),zj=gs("borderTopColor"),Wj=gs("borderRightColor"),Hj=gs("borderBottomColor"),qj=gs("borderLeftColor"),Gj=gs("outline",Zr),Kj=gs("outlineColor"),gm=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Zh(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Xa(e,r)});return Sr(t,t.borderRadius,n)}return null};gm.propTypes={};gm.filterProps=["borderRadius"];mm($j,jj,Fj,Vj,Uj,Bj,zj,Wj,Hj,qj,gm,Gj,Kj);const ym=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Zh(t.theme,"spacing",8),n=r=>({gap:Xa(e,r)});return Sr(t,t.gap,n)}return null};ym.propTypes={};ym.filterProps=["gap"];const vm=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Zh(t.theme,"spacing",8),n=r=>({columnGap:Xa(e,r)});return Sr(t,t.columnGap,n)}return null};vm.propTypes={};vm.filterProps=["columnGap"];const _m=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Zh(t.theme,"spacing",8),n=r=>({rowGap:Xa(e,r)});return Sr(t,t.rowGap,n)}return null};_m.propTypes={};_m.filterProps=["rowGap"];const Qj=Kt({prop:"gridColumn"}),Yj=Kt({prop:"gridRow"}),Xj=Kt({prop:"gridAutoFlow"}),Jj=Kt({prop:"gridAutoColumns"}),Zj=Kt({prop:"gridAutoRows"}),eF=Kt({prop:"gridTemplateColumns"}),tF=Kt({prop:"gridTemplateRows"}),nF=Kt({prop:"gridTemplateAreas"}),rF=Kt({prop:"gridArea"});mm(ym,vm,_m,Qj,Yj,Xj,Jj,Zj,eF,tF,nF,rF);function Ec(t,e){return e==="grey"?e:t}const sF=Kt({prop:"color",themeKey:"palette",transform:Ec}),iF=Kt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ec}),oF=Kt({prop:"backgroundColor",themeKey:"palette",transform:Ec});mm(sF,iF,oF);function Nr(t){return t<=1&&t!==0?`${t*100}%`:t}const aF=Kt({prop:"width",transform:Nr}),l3=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,s;const i=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||s3[n];return i?((s=t.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${i}${t.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Nr(n)}};return Sr(t,t.maxWidth,e)}return null};l3.filterProps=["maxWidth"];const lF=Kt({prop:"minWidth",transform:Nr}),cF=Kt({prop:"height",transform:Nr}),uF=Kt({prop:"maxHeight",transform:Nr}),dF=Kt({prop:"minHeight",transform:Nr});Kt({prop:"size",cssProperty:"width",transform:Nr});Kt({prop:"size",cssProperty:"height",transform:Nr});const hF=Kt({prop:"boxSizing"});mm(aF,l3,lF,cF,uF,dF,hF);const fF={border:{themeKey:"borders",transform:Zr},borderTop:{themeKey:"borders",transform:Zr},borderRight:{themeKey:"borders",transform:Zr},borderBottom:{themeKey:"borders",transform:Zr},borderLeft:{themeKey:"borders",transform:Zr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Zr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:gm},color:{themeKey:"palette",transform:Ec},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ec},backgroundColor:{themeKey:"palette",transform:Ec},p:{style:jt},pt:{style:jt},pr:{style:jt},pb:{style:jt},pl:{style:jt},px:{style:jt},py:{style:jt},padding:{style:jt},paddingTop:{style:jt},paddingRight:{style:jt},paddingBottom:{style:jt},paddingLeft:{style:jt},paddingX:{style:jt},paddingY:{style:jt},paddingInline:{style:jt},paddingInlineStart:{style:jt},paddingInlineEnd:{style:jt},paddingBlock:{style:jt},paddingBlockStart:{style:jt},paddingBlockEnd:{style:jt},m:{style:$t},mt:{style:$t},mr:{style:$t},mb:{style:$t},ml:{style:$t},mx:{style:$t},my:{style:$t},margin:{style:$t},marginTop:{style:$t},marginRight:{style:$t},marginBottom:{style:$t},marginLeft:{style:$t},marginX:{style:$t},marginY:{style:$t},marginInline:{style:$t},marginInlineStart:{style:$t},marginInlineEnd:{style:$t},marginBlock:{style:$t},marginBlockStart:{style:$t},marginBlockEnd:{style:$t},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ym},rowGap:{style:_m},columnGap:{style:vm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Nr},maxWidth:{style:l3},minWidth:{transform:Nr},height:{transform:Nr},maxHeight:{transform:Nr},minHeight:{transform:Nr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},ef=fF;function pF(...t){const e=t.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function mF(t,e){return typeof t=="function"?t(e):t}function hR(){function t(n,r,s,i){const o={[n]:r,theme:s},a=i[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=pm(s,c)||{};return d?d(o):Sr(o,r,m=>{let y=Up(h,u,m);return m===y&&typeof m=="string"&&(y=Up(h,u,`${n}${m==="default"?"":ie(m)}`,m)),l===!1?y:{[l]:y}})}function e(n){var r;const{sx:s,theme:i={}}=n||{};if(!s)return null;const o=(r=i.unstable_sxConfig)!=null?r:ef;function a(l){let c=l;if(typeof l=="function")c=l(i);else if(typeof l!="object")return l;if(!c)return null;const u=cR(i.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(p=>{const m=mF(c[p],i);if(m!=null)if(typeof m=="object")if(o[p])h=Ad(h,t(p,m,i,o));else{const y=Sr({theme:i},m,E=>({[p]:E}));pF(y,m)?h[p]=e({sx:m,theme:i}):h=Ad(h,y)}else h=Ad(h,t(p,m,i,o))}),uR(d,h)}return Array.isArray(s)?s.map(a):a(s)}return e}const fR=hR();fR.filterProps=["sx"];const tf=fR;function pR(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const gF=["breakpoints","palette","spacing","shape"];function nf(t={},...e){const{breakpoints:n={},palette:r={},spacing:s,shape:i={}}=t,o=ue(t,gF),a=lR(n),l=Oj(s);let c=lr({breakpoints:a,direction:"ltr",components:{},palette:j({mode:"light"},r),spacing:l,shape:j({},Tj,i)},o);return c.applyStyles=pR,c=e.reduce((u,d)=>lr(u,d),c),c.unstable_sxConfig=j({},ef,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return tf({sx:d,theme:this})},c}const yF=Object.freeze(Object.defineProperty({__proto__:null,default:nf,private_createBreakpoints:lR,unstable_applyStyles:pR},Symbol.toStringTag,{value:"Module"}));function vF(t){return Object.keys(t).length===0}function _F(t=null){const e=v.useContext(fm);return!e||vF(e)?t:e}const wF=nf();function wm(t=wF){return _F(t)}function xF({styles:t,themeId:e,defaultTheme:n={}}){const r=wm(n),s=typeof t=="function"?t(e&&r[e]||r):t;return f.jsx(iR,{styles:s})}const EF=["sx"],bF=t=>{var e,n;const r={systemProps:{},otherProps:{}},s=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:ef;return Object.keys(t).forEach(i=>{s[i]?r.systemProps[i]=t[i]:r.otherProps[i]=t[i]}),r};function rf(t){const{sx:e}=t,n=ue(t,EF),{systemProps:r,otherProps:s}=bF(n);let i;return Array.isArray(e)?i=[r,...e]:typeof e=="function"?i=(...o)=>{const a=e(...o);return yi(a)?j({},r,a):r}:i=j({},r,e),j({},s,{sx:i})}const CF=Object.freeze(Object.defineProperty({__proto__:null,default:tf,extendSxProp:rf,unstable_createStyleFunctionSx:hR,unstable_defaultSxConfig:ef},Symbol.toStringTag,{value:"Module"})),gb=t=>t,IF=()=>{let t=gb;return{configure(e){t=e},generate(e){return t(e)},reset(){t=gb}}},TF=IF(),mR=TF;function gR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=gR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xe(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=gR(t))&&(r&&(r+=" "),r+=e);return r}const SF=["className","component"];function RF(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:s}=t,i=r3("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(tf);return v.forwardRef(function(l,c){const u=wm(n),d=rf(l),{className:h,component:p="div"}=d,m=ue(d,SF);return f.jsx(i,j({as:p,ref:c,className:xe(h,s?s(r):r),theme:e&&u[e]||u},m))})}const AF={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ye(t,e,n="Mui"){const r=AF[e];return r?`${n}-${r}`:`${mR.generate(t)}-${e}`}function Be(t,e,n="Mui"){const r={};return e.forEach(s=>{r[s]=Ye(t,s,n)}),r}var yR={exports:{}},dt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c3=Symbol.for("react.element"),u3=Symbol.for("react.portal"),xm=Symbol.for("react.fragment"),Em=Symbol.for("react.strict_mode"),bm=Symbol.for("react.profiler"),Cm=Symbol.for("react.provider"),Im=Symbol.for("react.context"),kF=Symbol.for("react.server_context"),Tm=Symbol.for("react.forward_ref"),Sm=Symbol.for("react.suspense"),Rm=Symbol.for("react.suspense_list"),Am=Symbol.for("react.memo"),km=Symbol.for("react.lazy"),PF=Symbol.for("react.offscreen"),vR;vR=Symbol.for("react.module.reference");function ys(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case c3:switch(t=t.type,t){case xm:case bm:case Em:case Sm:case Rm:return t;default:switch(t=t&&t.$$typeof,t){case kF:case Im:case Tm:case km:case Am:case Cm:return t;default:return e}}case u3:return e}}}dt.ContextConsumer=Im;dt.ContextProvider=Cm;dt.Element=c3;dt.ForwardRef=Tm;dt.Fragment=xm;dt.Lazy=km;dt.Memo=Am;dt.Portal=u3;dt.Profiler=bm;dt.StrictMode=Em;dt.Suspense=Sm;dt.SuspenseList=Rm;dt.isAsyncMode=function(){return!1};dt.isConcurrentMode=function(){return!1};dt.isContextConsumer=function(t){return ys(t)===Im};dt.isContextProvider=function(t){return ys(t)===Cm};dt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===c3};dt.isForwardRef=function(t){return ys(t)===Tm};dt.isFragment=function(t){return ys(t)===xm};dt.isLazy=function(t){return ys(t)===km};dt.isMemo=function(t){return ys(t)===Am};dt.isPortal=function(t){return ys(t)===u3};dt.isProfiler=function(t){return ys(t)===bm};dt.isStrictMode=function(t){return ys(t)===Em};dt.isSuspense=function(t){return ys(t)===Sm};dt.isSuspenseList=function(t){return ys(t)===Rm};dt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xm||t===bm||t===Em||t===Sm||t===Rm||t===PF||typeof t=="object"&&t!==null&&(t.$$typeof===km||t.$$typeof===Am||t.$$typeof===Cm||t.$$typeof===Im||t.$$typeof===Tm||t.$$typeof===vR||t.getModuleId!==void 0)};dt.typeOf=ys;yR.exports=dt;var yb=yR.exports;const NF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function _R(t){const e=`${t}`.match(NF);return e&&e[1]||""}function wR(t,e=""){return t.displayName||t.name||_R(t)||e}function vb(t,e,n){const r=wR(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function LF(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return wR(t,"Component");if(typeof t=="object")switch(t.$$typeof){case yb.ForwardRef:return vb(t,t.render,"ForwardRef");case yb.Memo:return vb(t,t.type,"memo");default:return}}}const MF=Object.freeze(Object.defineProperty({__proto__:null,default:LF,getFunctionName:_R},Symbol.toStringTag,{value:"Module"})),DF=["ownerState"],OF=["variants"],$F=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function jF(t){return Object.keys(t).length===0}function FF(t){return typeof t=="string"&&t.charCodeAt(0)>96}function O1(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const VF=nf(),UF=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function i0({defaultTheme:t,theme:e,themeId:n}){return jF(e)?t:e[n]||e}function BF(t){return t?(e,n)=>n[t]:null}function H0(t,e){let{ownerState:n}=e,r=ue(e,DF);const s=typeof t=="function"?t(j({ownerState:n},r)):t;if(Array.isArray(s))return s.flatMap(i=>H0(i,j({ownerState:n},r)));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:i=[]}=s;let a=ue(s,OF);return i.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(j({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(j({ownerState:n},r,n)):l.style))}),a}return s}function zF(t={}){const{themeId:e,defaultTheme:n=VF,rootShouldForwardProp:r=O1,slotShouldForwardProp:s=O1}=t,i=o=>tf(j({},o,{theme:i0(j({},o,{defaultTheme:n,themeId:e}))}));return i.__mui_systemSx=!0,(o,a={})=>{oR(o,S=>S.filter(b=>!(b!=null&&b.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=BF(UF(c))}=a,p=ue(a,$F),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,y=d||!1;let E,g=O1;c==="Root"||c==="root"?g=r:c?g=s:FF(o)&&(g=void 0);const w=r3(o,j({shouldForwardProp:g,label:E},p)),_=S=>typeof S=="function"&&S.__emotion_real!==S||yi(S)?b=>H0(S,j({},b,{theme:i0({theme:b.theme,defaultTheme:n,themeId:e})})):S,x=(S,...b)=>{let T=_(S);const C=b?b.map(_):[];l&&h&&C.push(R=>{const N=i0(j({},R,{defaultTheme:n,themeId:e}));if(!N.components||!N.components[l]||!N.components[l].styleOverrides)return null;const M=N.components[l].styleOverrides,L={};return Object.entries(M).forEach(([O,P])=>{L[O]=H0(P,j({},R,{theme:N}))}),h(R,L)}),l&&!m&&C.push(R=>{var N;const M=i0(j({},R,{defaultTheme:n,themeId:e})),L=M==null||(N=M.components)==null||(N=N[l])==null?void 0:N.variants;return H0({variants:L},j({},R,{theme:M}))}),y||C.push(i);const A=C.length-b.length;if(Array.isArray(S)&&A>0){const R=new Array(A).fill("");T=[...S,...R],T.raw=[...S.raw,...R]}const I=w(T,...C);return o.muiName&&(I.muiName=o.muiName),I};return w.withConfig&&(x.withConfig=w.withConfig),x}}const WF=zF(),HF=WF;function mh(t,e){const n=j({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=j({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const s=t[r]||{},i=e[r];n[r]={},!i||!Object.keys(i)?n[r]=s:!s||!Object.keys(s)?n[r]=i:(n[r]=j({},i),Object.keys(s).forEach(o=>{n[r][o]=mh(s[o],i[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function qF(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:mh(e.components[n].defaultProps,r)}function GF({props:t,name:e,defaultTheme:n,themeId:r}){let s=wm(n);return r&&(s=s[r]||s),qF({theme:s,name:e,props:t})}const KF=typeof window<"u"?v.useLayoutEffect:v.useEffect,li=KF;function QF(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const YF=Object.freeze(Object.defineProperty({__proto__:null,default:QF},Symbol.toStringTag,{value:"Module"}));function _b(...t){return t.reduce((e,n)=>n==null?e:function(...s){e.apply(this,s),n.apply(this,s)},()=>{})}function d3(t,e=166){let n;function r(...s){const i=()=>{t.apply(this,s)};clearTimeout(n),n=setTimeout(i,e)}return r.clear=()=>{clearTimeout(n)},r}function $1(t,e){var n,r;return v.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function An(t){return t&&t.ownerDocument||document}function jr(t){return An(t).defaultView||window}function kv(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let wb=0;function XF(t){const[e,n]=v.useState(t),r=t||e;return v.useEffect(()=>{e==null&&(wb+=1,n(`mui-${wb}`))},[e]),r}const xb=fp.useId;function h3(t){if(xb!==void 0){const e=xb();return t??e}return XF(t)}function Eb({controlled:t,default:e,name:n,state:r="value"}){const{current:s}=v.useRef(t!==void 0),[i,o]=v.useState(e),a=s?t:i,l=v.useCallback(c=>{s||o(c)},[]);return[a,l]}function Ei(t){const e=v.useRef(t);return li(()=>{e.current=t}),v.useRef((...n)=>(0,e.current)(...n)).current}function Ln(...t){return v.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{kv(n,e)})},t)}const bb={};function JF(t,e){const n=v.useRef(bb);return n.current===bb&&(n.current=t(e)),n}const ZF=[];function eV(t){v.useEffect(t,ZF)}class Pm{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Pm}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function xR(){const t=JF(Pm.create).current;return eV(t.disposeEffect),t}let Nm=!0,Pv=!1;const tV=new Pm,nV={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function rV(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&nV[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function sV(t){t.metaKey||t.altKey||t.ctrlKey||(Nm=!0)}function j1(){Nm=!1}function iV(){this.visibilityState==="hidden"&&Pv&&(Nm=!0)}function oV(t){t.addEventListener("keydown",sV,!0),t.addEventListener("mousedown",j1,!0),t.addEventListener("pointerdown",j1,!0),t.addEventListener("touchstart",j1,!0),t.addEventListener("visibilitychange",iV,!0)}function aV(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Nm||rV(e)}function lV(){const t=v.useCallback(s=>{s!=null&&oV(s.ownerDocument)},[]),e=v.useRef(!1);function n(){return e.current?(Pv=!0,tV.start(100,()=>{Pv=!1}),e.current=!1,!0):!1}function r(s){return aV(s)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function ER(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function Ze(t,e,n=void 0){const r={};return Object.keys(t).forEach(s=>{r[s]=t[s].reduce((i,o)=>{if(o){const a=e(o);a!==""&&i.push(a),n&&n[o]&&i.push(n[o])}return i},[]).join(" ")}),r}function Bp(t){return typeof t=="string"}function cV(t,e,n){return t===void 0||Bp(t)?e:j({},e,{ownerState:j({},e.ownerState,n)})}function bR(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function Cb(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function uV(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:i}=t;if(!e){const p=xe(n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),m=j({},n==null?void 0:n.style,s==null?void 0:s.style,r==null?void 0:r.style),y=j({},n,s,r);return p.length>0&&(y.className=p),Object.keys(m).length>0&&(y.style=m),{props:y,internalRef:void 0}}const o=bR(j({},s,r)),a=Cb(r),l=Cb(s),c=e(o),u=xe(c==null?void 0:c.className,n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),d=j({},c==null?void 0:c.style,n==null?void 0:n.style,s==null?void 0:s.style,r==null?void 0:r.style),h=j({},c,n,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}function dV(t,e,n){return typeof t=="function"?t(e,n):t}const hV=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Uc(t){var e;const{elementType:n,externalSlotProps:r,ownerState:s,skipResolvingSlotProps:i=!1}=t,o=ue(t,hV),a=i?{}:dV(r,s),{props:l,internalRef:c}=uV(j({},o,{externalSlotProps:a})),u=Ln(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return cV(n,j({},l,{ref:u}),s)}const fV=v.createContext(),f3=()=>{const t=v.useContext(fV);return t??!1},pV=v.createContext(void 0);function mV(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const s=e.components[n];return s.defaultProps?mh(s.defaultProps,r):!s.styleOverrides&&!s.variants?mh(s,r):r}function gV({props:t,name:e}){const n=v.useContext(pV);return mV({props:t,name:e,theme:{components:n}})}const yV=["component","direction","spacing","divider","children","className","useFlexGap"],vV=nf(),_V=HF("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function wV(t){return GF({props:t,name:"MuiStack",defaultTheme:vV})}function xV(t,e){const n=v.Children.toArray(t).filter(Boolean);return n.reduce((r,s,i)=>(r.push(s),i<n.length-1&&r.push(v.cloneElement(e,{key:`separator-${i}`})),r),[])}const EV=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],bV=({ownerState:t,theme:e})=>{let n=j({display:"flex",flexDirection:"column"},Sr({theme:e},Ma({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=a3(e),s=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),i=Ma({values:t.direction,base:s}),o=Ma({values:t.spacing,base:s});typeof i=="object"&&Object.keys(i).forEach((l,c,u)=>{if(!i[l]){const h=c>0?i[u[c-1]]:"column";i[l]=h}}),n=lr(n,Sr({theme:e},o,(l,c)=>t.useFlexGap?{gap:Xa(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${EV(c?i[c]:t.direction)}`]:Xa(r,l)}}))}return n=Sj(e.breakpoints,n),n};function CV(t={}){const{createStyledComponent:e=_V,useThemeProps:n=wV,componentName:r="MuiStack"}=t,s=()=>Ze({root:["root"]},l=>Ye(r,l),{}),i=e(bV);return v.forwardRef(function(l,c){const u=n(l),d=rf(u),{component:h="div",direction:p="column",spacing:m=0,divider:y,children:E,className:g,useFlexGap:w=!1}=d,_=ue(d,yV),x={direction:p,spacing:m,useFlexGap:w},S=s();return f.jsx(i,j({as:h,ownerState:x,ref:c,className:xe(S.root,g)},_,{children:y?xV(E,y):E}))})}function IV(t,e){return j({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Qt={},CR={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(CR);var IR=CR.exports;const TV=zo(_$),SV=zo(YF);var TR=IR;Object.defineProperty(Qt,"__esModule",{value:!0});var ns=Qt.alpha=NR;Qt.blend=jV;Qt.colorChannel=void 0;var SR=Qt.darken=m3;Qt.decomposeColor=hs;Qt.emphasize=LR;var RV=Qt.getContrastRatio=LV;Qt.getLuminance=zp;Qt.hexToRgb=AR;Qt.hslToRgb=PR;var RR=Qt.lighten=g3;Qt.private_safeAlpha=MV;Qt.private_safeColorChannel=void 0;Qt.private_safeDarken=DV;Qt.private_safeEmphasize=$V;Qt.private_safeLighten=OV;Qt.recomposeColor=du;Qt.rgbToHex=NV;var Ib=TR(TV),AV=TR(SV);function p3(t,e=0,n=1){return(0,AV.default)(t,e,n)}function AR(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function kV(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function hs(t){if(t.type)return t;if(t.charAt(0)==="#")return hs(AR(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,Ib.default)(9,t));let r=t.substring(e+1,t.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error((0,Ib.default)(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}const kR=t=>{const e=hs(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Qt.colorChannel=kR;const PV=(t,e)=>{try{return kR(t)}catch{return t}};Qt.private_safeColorChannel=PV;function du(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function NV(t){if(t.indexOf("#")===0)return t;const{values:e}=hs(t);return`#${e.map((n,r)=>kV(r===3?Math.round(255*n):n)).join("")}`}function PR(t){t=hs(t);const{values:e}=t,n=e[0],r=e[1]/100,s=e[2]/100,i=r*Math.min(s,1-s),o=(c,u=(c+n/30)%12)=>s-i*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),du({type:a,values:l})}function zp(t){t=hs(t);let e=t.type==="hsl"||t.type==="hsla"?hs(PR(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function LV(t,e){const n=zp(t),r=zp(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function NR(t,e){return t=hs(t),e=p3(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,du(t)}function MV(t,e,n){try{return NR(t,e)}catch{return t}}function m3(t,e){if(t=hs(t),e=p3(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return du(t)}function DV(t,e,n){try{return m3(t,e)}catch{return t}}function g3(t,e){if(t=hs(t),e=p3(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return du(t)}function OV(t,e,n){try{return g3(t,e)}catch{return t}}function LR(t,e=.15){return zp(t)>.5?m3(t,e):g3(t,e)}function $V(t,e,n){try{return LR(t,e)}catch{return t}}function jV(t,e,n,r=1){const s=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),i=hs(t),o=hs(e),a=[s(i.values[0],o.values[0]),s(i.values[1],o.values[1]),s(i.values[2],o.values[2])];return du({type:"rgb",values:a})}const FV=["mode","contrastThreshold","tonalOffset"],Tb={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:dh.white,default:dh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},F1={text:{primary:dh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:dh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Sb(t,e,n,r){const s=r.light||r,i=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=RR(t.main,s):e==="dark"&&(t.dark=SR(t.main,i)))}function VV(t="light"){return t==="dark"?{main:Dl[200],light:Dl[50],dark:Dl[400]}:{main:Dl[700],light:Dl[400],dark:Dl[800]}}function UV(t="light"){return t==="dark"?{main:Ml[200],light:Ml[50],dark:Ml[400]}:{main:Ml[500],light:Ml[300],dark:Ml[700]}}function BV(t="light"){return t==="dark"?{main:Ll[500],light:Ll[300],dark:Ll[700]}:{main:Ll[700],light:Ll[400],dark:Ll[800]}}function zV(t="light"){return t==="dark"?{main:Ol[400],light:Ol[300],dark:Ol[700]}:{main:Ol[700],light:Ol[500],dark:Ol[900]}}function WV(t="light"){return t==="dark"?{main:$l[400],light:$l[300],dark:$l[700]}:{main:$l[800],light:$l[500],dark:$l[900]}}function HV(t="light"){return t==="dark"?{main:ju[400],light:ju[300],dark:ju[700]}:{main:"#ed6c02",light:ju[500],dark:ju[900]}}function qV(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,s=ue(t,FV),i=t.primary||VV(e),o=t.secondary||UV(e),a=t.error||BV(e),l=t.info||zV(e),c=t.success||WV(e),u=t.warning||HV(e);function d(y){return RV(y,F1.text.primary)>=n?F1.text.primary:Tb.text.primary}const h=({color:y,name:E,mainShade:g=500,lightShade:w=300,darkShade:_=700})=>{if(y=j({},y),!y.main&&y[g]&&(y.main=y[g]),!y.hasOwnProperty("main"))throw new Error(Ya(11,E?` (${E})`:"",g));if(typeof y.main!="string")throw new Error(Ya(12,E?` (${E})`:"",JSON.stringify(y.main)));return Sb(y,"light",w,r),Sb(y,"dark",_,r),y.contrastText||(y.contrastText=d(y.main)),y},p={dark:F1,light:Tb};return lr(j({common:j({},dh),mode:e,primary:h({color:i,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:v$,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[e]),s)}const GV=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function KV(t){return Math.round(t*1e5)/1e5}const Rb={textTransform:"uppercase"},Ab='"Roboto", "Helvetica", "Arial", sans-serif';function QV(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=Ab,fontSize:s=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,h=ue(n,GV),p=s/14,m=d||(g=>`${g/c*p}rem`),y=(g,w,_,x,S)=>j({fontFamily:r,fontWeight:g,fontSize:m(w),lineHeight:_},r===Ab?{letterSpacing:`${KV(x/w)}em`}:{},S,u),E={h1:y(i,96,1.167,-1.5),h2:y(i,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(a,14,1.75,.4,Rb),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,Rb),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return lr(j({htmlFontSize:c,pxToRem:m,fontFamily:r,fontSize:s,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},E),h,{clone:!1})}const YV=.2,XV=.14,JV=.12;function At(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${YV})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${XV})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${JV})`].join(",")}const ZV=["none",At(0,2,1,-1,0,1,1,0,0,1,3,0),At(0,3,1,-2,0,2,2,0,0,1,5,0),At(0,3,3,-2,0,3,4,0,0,1,8,0),At(0,2,4,-1,0,4,5,0,0,1,10,0),At(0,3,5,-1,0,5,8,0,0,1,14,0),At(0,3,5,-1,0,6,10,0,0,1,18,0),At(0,4,5,-2,0,7,10,1,0,2,16,1),At(0,5,5,-3,0,8,10,1,0,3,14,2),At(0,5,6,-3,0,9,12,1,0,3,16,2),At(0,6,6,-3,0,10,14,1,0,4,18,3),At(0,6,7,-4,0,11,15,1,0,4,20,3),At(0,7,8,-4,0,12,17,2,0,5,22,4),At(0,7,8,-4,0,13,19,2,0,5,24,4),At(0,7,9,-4,0,14,21,2,0,5,26,4),At(0,8,9,-5,0,15,22,2,0,6,28,5),At(0,8,10,-5,0,16,24,2,0,6,30,5),At(0,8,11,-5,0,17,26,2,0,6,32,5),At(0,9,11,-5,0,18,28,2,0,7,34,6),At(0,9,12,-6,0,19,29,2,0,7,36,6),At(0,10,13,-6,0,20,31,3,0,8,38,7),At(0,10,13,-6,0,21,33,3,0,8,40,7),At(0,10,14,-6,0,22,35,3,0,8,42,7),At(0,11,14,-7,0,23,36,3,0,9,44,8),At(0,11,15,-7,0,24,38,3,0,9,46,8)],eU=ZV,tU=["duration","easing","delay"],nU={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},rU={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function kb(t){return`${Math.round(t)}ms`}function sU(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function iU(t){const e=j({},nU,t.easing),n=j({},rU,t.duration);return j({getAutoHeightDuration:sU,create:(s=["all"],i={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=i;return ue(i,tU),(Array.isArray(s)?s:[s]).map(c=>`${c} ${typeof o=="string"?o:kb(o)} ${a} ${typeof l=="string"?l:kb(l)}`).join(",")}},t,{easing:e,duration:n})}const oU={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},aU=oU,lU=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function MR(t={},...e){const{mixins:n={},palette:r={},transitions:s={},typography:i={}}=t,o=ue(t,lU);if(t.vars)throw new Error(Ya(18));const a=qV(r),l=nf(t);let c=lr(l,{mixins:IV(l.breakpoints,n),palette:a,shadows:eU.slice(),typography:QV(a,i),transitions:iU(s),zIndex:j({},aU)});return c=lr(c,o),c=e.reduce((u,d)=>lr(u,d),c),c.unstable_sxConfig=j({},ef,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return tf({sx:d,theme:this})},c}const cU=MR(),y3=cU;function wl(){const t=wm(y3);return t[Z2]||t}var sf={},V1={exports:{}},Pb;function uU(){return Pb||(Pb=1,function(t){function e(n,r){if(n==null)return{};var s={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(r.indexOf(i)>=0)continue;s[i]=n[i]}return s}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(V1)),V1.exports}const dU=zo(xj),hU=zo(Ej),fU=zo(Aj),pU=zo(MF),mU=zo(yF),gU=zo(CF);var hu=IR;Object.defineProperty(sf,"__esModule",{value:!0});var yU=sf.default=kU;sf.shouldForwardProp=q0;sf.systemDefaultTheme=void 0;var Qr=hu(sR()),Nv=hu(uU()),Nb=CU(dU),vU=hU;hu(fU);hu(pU);var _U=hu(mU),wU=hu(gU);const xU=["ownerState"],EU=["variants"],bU=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function DR(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(DR=function(r){return r?n:e})(t)}function CU(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=DR(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function IU(t){return Object.keys(t).length===0}function TU(t){return typeof t=="string"&&t.charCodeAt(0)>96}function q0(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const SU=sf.systemDefaultTheme=(0,_U.default)(),RU=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function o0({defaultTheme:t,theme:e,themeId:n}){return IU(e)?t:e[n]||e}function AU(t){return t?(e,n)=>n[t]:null}function G0(t,e){let{ownerState:n}=e,r=(0,Nv.default)(e,xU);const s=typeof t=="function"?t((0,Qr.default)({ownerState:n},r)):t;if(Array.isArray(s))return s.flatMap(i=>G0(i,(0,Qr.default)({ownerState:n},r)));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:i=[]}=s;let a=(0,Nv.default)(s,EU);return i.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,Qr.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,Qr.default)({ownerState:n},r,n)):l.style))}),a}return s}function kU(t={}){const{themeId:e,defaultTheme:n=SU,rootShouldForwardProp:r=q0,slotShouldForwardProp:s=q0}=t,i=o=>(0,wU.default)((0,Qr.default)({},o,{theme:o0((0,Qr.default)({},o,{defaultTheme:n,themeId:e}))}));return i.__mui_systemSx=!0,(o,a={})=>{(0,Nb.internal_processStyles)(o,S=>S.filter(b=>!(b!=null&&b.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=AU(RU(c))}=a,p=(0,Nv.default)(a,bU),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,y=d||!1;let E,g=q0;c==="Root"||c==="root"?g=r:c?g=s:TU(o)&&(g=void 0);const w=(0,Nb.default)(o,(0,Qr.default)({shouldForwardProp:g,label:E},p)),_=S=>typeof S=="function"&&S.__emotion_real!==S||(0,vU.isPlainObject)(S)?b=>G0(S,(0,Qr.default)({},b,{theme:o0({theme:b.theme,defaultTheme:n,themeId:e})})):S,x=(S,...b)=>{let T=_(S);const C=b?b.map(_):[];l&&h&&C.push(R=>{const N=o0((0,Qr.default)({},R,{defaultTheme:n,themeId:e}));if(!N.components||!N.components[l]||!N.components[l].styleOverrides)return null;const M=N.components[l].styleOverrides,L={};return Object.entries(M).forEach(([O,P])=>{L[O]=G0(P,(0,Qr.default)({},R,{theme:N}))}),h(R,L)}),l&&!m&&C.push(R=>{var N;const M=o0((0,Qr.default)({},R,{defaultTheme:n,themeId:e})),L=M==null||(N=M.components)==null||(N=N[l])==null?void 0:N.variants;return G0({variants:L},(0,Qr.default)({},R,{theme:M}))}),y||C.push(i);const A=C.length-b.length;if(Array.isArray(S)&&A>0){const R=new Array(A).fill("");T=[...S,...R],T.raw=[...S.raw,...R]}const I=w(T,...C);return o.muiName&&(I.muiName=o.muiName),I};return w.withConfig&&(x.withConfig=w.withConfig),x}}function OR(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const PU=t=>OR(t)&&t!=="classes",Ar=PU,NU=yU({themeId:Z2,defaultTheme:y3,rootShouldForwardProp:Ar}),le=NU,LU=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},Lb=LU;function Xe(t){return gV(t)}function MU(t){return Ye("MuiSvgIcon",t)}Be("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const DU=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],OU=t=>{const{color:e,fontSize:n,classes:r}=t,s={root:["root",e!=="inherit"&&`color${ie(e)}`,`fontSize${ie(n)}`]};return Ze(s,MU,r)},$U=le("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${ie(n.color)}`],e[`fontSize${ie(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,s,i,o,a,l,c,u,d,h,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(s=t.transitions)==null||(s=s.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((i=t.typography)==null||(o=i.pxToRem)==null?void 0:o.call(i,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=t.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[e.color]}}),$R=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiSvgIcon"}),{children:s,className:i,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,p=ue(r,DU),m=v.isValidElement(s)&&s.type==="svg",y=j({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:m}),E={};u||(E.viewBox=h);const g=OU(y);return f.jsxs($U,j({as:a,className:xe(g.root,i),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},E,p,m&&s.props,{ownerState:y,children:[m?s.props.children:s,d?f.jsx("title",{children:d}):null]}))});$R.muiName="SvgIcon";const Mb=$R;function jU(t,e){function n(r,s){return f.jsx(Mb,j({"data-testid":`${e}Icon`,ref:s},r,{children:t}))}return n.muiName=Mb.muiName,v.memo(v.forwardRef(n))}var gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v3=Symbol.for("react.element"),_3=Symbol.for("react.portal"),Lm=Symbol.for("react.fragment"),Mm=Symbol.for("react.strict_mode"),Dm=Symbol.for("react.profiler"),Om=Symbol.for("react.provider"),$m=Symbol.for("react.context"),FU=Symbol.for("react.server_context"),jm=Symbol.for("react.forward_ref"),Fm=Symbol.for("react.suspense"),Vm=Symbol.for("react.suspense_list"),Um=Symbol.for("react.memo"),Bm=Symbol.for("react.lazy"),VU=Symbol.for("react.offscreen"),jR;jR=Symbol.for("react.module.reference");function vs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case v3:switch(t=t.type,t){case Lm:case Dm:case Mm:case Fm:case Vm:return t;default:switch(t=t&&t.$$typeof,t){case FU:case $m:case jm:case Bm:case Um:case Om:return t;default:return e}}case _3:return e}}}gt.ContextConsumer=$m;gt.ContextProvider=Om;gt.Element=v3;gt.ForwardRef=jm;gt.Fragment=Lm;gt.Lazy=Bm;gt.Memo=Um;gt.Portal=_3;gt.Profiler=Dm;gt.StrictMode=Mm;gt.Suspense=Fm;gt.SuspenseList=Vm;gt.isAsyncMode=function(){return!1};gt.isConcurrentMode=function(){return!1};gt.isContextConsumer=function(t){return vs(t)===$m};gt.isContextProvider=function(t){return vs(t)===Om};gt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===v3};gt.isForwardRef=function(t){return vs(t)===jm};gt.isFragment=function(t){return vs(t)===Lm};gt.isLazy=function(t){return vs(t)===Bm};gt.isMemo=function(t){return vs(t)===Um};gt.isPortal=function(t){return vs(t)===_3};gt.isProfiler=function(t){return vs(t)===Dm};gt.isStrictMode=function(t){return vs(t)===Mm};gt.isSuspense=function(t){return vs(t)===Fm};gt.isSuspenseList=function(t){return vs(t)===Vm};gt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Lm||t===Dm||t===Mm||t===Fm||t===Vm||t===VU||typeof t=="object"&&t!==null&&(t.$$typeof===Bm||t.$$typeof===Um||t.$$typeof===Om||t.$$typeof===$m||t.$$typeof===jm||t.$$typeof===jR||t.getModuleId!==void 0)};gt.typeOf=vs;function Lv(t,e){return Lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Lv(t,e)}function FR(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Lv(t,e)}const Db={disabled:!1},Wp=sr.createContext(null);var UU=function(e){return e.scrollTop},cd="unmounted",da="exited",ha="entering",ql="entered",Mv="exiting",Wi=function(t){FR(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var o=s,a=o&&!o.isMounting?r.enter:r.appear,l;return i.appearStatus=null,r.in?a?(l=da,i.appearStatus=ha):l=ql:r.unmountOnExit||r.mountOnEnter?l=cd:l=da,i.state={status:l},i.nextCallback=null,i}e.getDerivedStateFromProps=function(s,i){var o=s.in;return o&&i.status===cd?{status:da}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==ha&&o!==ql&&(i=ha):(o===ha||o===ql)&&(i=Mv)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,o,a;return i=o=a=s,s!=null&&typeof s!="number"&&(i=s.exit,o=s.enter,a=s.appear!==void 0?s.appear:o),{exit:i,enter:o,appear:a}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===ha){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:r0.findDOMNode(this);o&&UU(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===da&&this.setState({status:cd})},n.performEnter=function(s){var i=this,o=this.props.enter,a=this.context?this.context.isMounting:s,l=this.props.nodeRef?[a]:[r0.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!s&&!o||Db.disabled){this.safeSetState({status:ql},function(){i.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:ha},function(){i.props.onEntering(c,u),i.onTransitionEnd(h,function(){i.safeSetState({status:ql},function(){i.props.onEntered(c,u)})})})},n.performExit=function(){var s=this,i=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:r0.findDOMNode(this);if(!i||Db.disabled){this.safeSetState({status:da},function(){s.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Mv},function(){s.props.onExiting(a),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:da},function(){s.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,i.nextCallback=null,s(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:r0.findDOMNode(this),a=s==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===cd)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=ue(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return sr.createElement(Wp.Provider,{value:null},typeof o=="function"?o(s,a):sr.cloneElement(sr.Children.only(o),a))},e}(sr.Component);Wi.contextType=Wp;Wi.propTypes={};function jl(){}Wi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:jl,onEntering:jl,onEntered:jl,onExit:jl,onExiting:jl,onExited:jl};Wi.UNMOUNTED=cd;Wi.EXITED=da;Wi.ENTERING=ha;Wi.ENTERED=ql;Wi.EXITING=Mv;const w3=Wi;function BU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x3(t,e){var n=function(i){return e&&v.isValidElement(i)?e(i):i},r=Object.create(null);return t&&v.Children.map(t,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function zU(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),s=[];for(var i in t)i in e?s.length&&(r[i]=s,s=[]):s.push(i);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<s.length;o++)a[s[o]]=n(s[o]);return a}function Ca(t,e,n){return n[e]!=null?n[e]:t.props[e]}function WU(t,e){return x3(t.children,function(n){return v.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ca(n,"appear",t),enter:Ca(n,"enter",t),exit:Ca(n,"exit",t)})})}function HU(t,e,n){var r=x3(t.children),s=zU(e,r);return Object.keys(s).forEach(function(i){var o=s[i];if(v.isValidElement(o)){var a=i in e,l=i in r,c=e[i],u=v.isValidElement(c)&&!c.props.in;l&&(!a||u)?s[i]=v.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Ca(o,"exit",t),enter:Ca(o,"enter",t)}):!l&&a&&!u?s[i]=v.cloneElement(o,{in:!1}):l&&a&&v.isValidElement(c)&&(s[i]=v.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Ca(o,"exit",t),enter:Ca(o,"enter",t)}))}}),s}var qU=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},GU={component:"div",childFactory:function(e){return e}},E3=function(t){FR(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var o=i.handleExited.bind(BU(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,i){var o=i.children,a=i.handleExited,l=i.firstRender;return{children:l?WU(s,a):HU(s,o,a),firstRender:!1}},n.handleExited=function(s,i){var o=x3(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(a){var l=j({},a.children);return delete l[s.key],{children:l}}))},n.render=function(){var s=this.props,i=s.component,o=s.childFactory,a=ue(s,["component","childFactory"]),l=this.state.contextValue,c=qU(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,i===null?sr.createElement(Wp.Provider,{value:l},c):sr.createElement(Wp.Provider,{value:l},sr.createElement(i,a,c))},e}(sr.Component);E3.propTypes={};E3.defaultProps=GU;const KU=E3,b3=t=>t.scrollTop;function Ja(t,e){var n,r;const{timeout:s,easing:i,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof s=="number"?s:s[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof i=="object"?i[e.mode]:i,delay:o.transitionDelay}}function QU(t){return Ye("MuiPaper",t)}Be("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const YU=["className","component","elevation","square","variant"],XU=t=>{const{square:e,elevation:n,variant:r,classes:s}=t,i={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Ze(i,QU,s)},JU=le("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return j({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&j({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${ns("#fff",Lb(e.elevation))}, ${ns("#fff",Lb(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),ZU=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiPaper"}),{className:s,component:i="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,c=ue(r,YU),u=j({},r,{component:i,elevation:o,square:a,variant:l}),d=XU(u);return f.jsx(JU,j({as:i,ownerState:u,className:xe(d.root,s),ref:n},c))}),of=ZU;function eB(t){const{className:e,classes:n,pulsate:r=!1,rippleX:s,rippleY:i,rippleSize:o,in:a,onExited:l,timeout:c}=t,[u,d]=v.useState(!1),h=xe(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+i,left:-(o/2)+s},m=xe(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),v.useEffect(()=>{if(!a&&l!=null){const y=setTimeout(l,c);return()=>{clearTimeout(y)}}},[l,a,c]),f.jsx("span",{className:h,style:p,children:f.jsx("span",{className:m})})}const tB=Be("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Yr=tB,nB=["center","classes","className"];let zm=t=>t,Ob,$b,jb,Fb;const Dv=550,rB=80,sB=zi(Ob||(Ob=zm`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),iB=zi($b||($b=zm`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),oB=zi(jb||(jb=zm`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),aB=le("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),lB=le(eB,{name:"MuiTouchRipple",slot:"Ripple"})(Fb||(Fb=zm`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Yr.rippleVisible,sB,Dv,({theme:t})=>t.transitions.easing.easeInOut,Yr.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Yr.child,Yr.childLeaving,iB,Dv,({theme:t})=>t.transitions.easing.easeInOut,Yr.childPulsate,oB,({theme:t})=>t.transitions.easing.easeInOut),cB=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:i={},className:o}=r,a=ue(r,nB),[l,c]=v.useState([]),u=v.useRef(0),d=v.useRef(null);v.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=v.useRef(!1),p=xR(),m=v.useRef(null),y=v.useRef(null),E=v.useCallback(x=>{const{pulsate:S,rippleX:b,rippleY:T,rippleSize:C,cb:A}=x;c(I=>[...I,f.jsx(lB,{classes:{ripple:xe(i.ripple,Yr.ripple),rippleVisible:xe(i.rippleVisible,Yr.rippleVisible),ripplePulsate:xe(i.ripplePulsate,Yr.ripplePulsate),child:xe(i.child,Yr.child),childLeaving:xe(i.childLeaving,Yr.childLeaving),childPulsate:xe(i.childPulsate,Yr.childPulsate)},timeout:Dv,pulsate:S,rippleX:b,rippleY:T,rippleSize:C},u.current)]),u.current+=1,d.current=A},[i]),g=v.useCallback((x={},S={},b=()=>{})=>{const{pulsate:T=!1,center:C=s||S.pulsate,fakeElement:A=!1}=S;if((x==null?void 0:x.type)==="mousedown"&&h.current){h.current=!1;return}(x==null?void 0:x.type)==="touchstart"&&(h.current=!0);const I=A?null:y.current,R=I?I.getBoundingClientRect():{width:0,height:0,left:0,top:0};let N,M,L;if(C||x===void 0||x.clientX===0&&x.clientY===0||!x.clientX&&!x.touches)N=Math.round(R.width/2),M=Math.round(R.height/2);else{const{clientX:O,clientY:P}=x.touches&&x.touches.length>0?x.touches[0]:x;N=Math.round(O-R.left),M=Math.round(P-R.top)}if(C)L=Math.sqrt((2*R.width**2+R.height**2)/3),L%2===0&&(L+=1);else{const O=Math.max(Math.abs((I?I.clientWidth:0)-N),N)*2+2,P=Math.max(Math.abs((I?I.clientHeight:0)-M),M)*2+2;L=Math.sqrt(O**2+P**2)}x!=null&&x.touches?m.current===null&&(m.current=()=>{E({pulsate:T,rippleX:N,rippleY:M,rippleSize:L,cb:b})},p.start(rB,()=>{m.current&&(m.current(),m.current=null)})):E({pulsate:T,rippleX:N,rippleY:M,rippleSize:L,cb:b})},[s,E,p]),w=v.useCallback(()=>{g({},{pulsate:!0})},[g]),_=v.useCallback((x,S)=>{if(p.clear(),(x==null?void 0:x.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{_(x,S)});return}m.current=null,c(b=>b.length>0?b.slice(1):b),d.current=S},[p]);return v.useImperativeHandle(n,()=>({pulsate:w,start:g,stop:_}),[w,g,_]),f.jsx(aB,j({className:xe(Yr.root,i.root,o),ref:y},a,{children:f.jsx(KU,{component:null,exit:!0,children:l})}))}),uB=cB;function dB(t){return Ye("MuiButtonBase",t)}const hB=Be("MuiButtonBase",["root","disabled","focusVisible"]),fB=hB,pB=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],mB=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:s}=t,o=Ze({root:["root",e&&"disabled",n&&"focusVisible"]},dB,s);return n&&r&&(o.root+=` ${r}`),o},gB=le("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${fB.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),yB=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:i=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:m,onClick:y,onContextMenu:E,onDragLeave:g,onFocus:w,onFocusVisible:_,onKeyDown:x,onKeyUp:S,onMouseDown:b,onMouseLeave:T,onMouseUp:C,onTouchEnd:A,onTouchMove:I,onTouchStart:R,tabIndex:N=0,TouchRippleProps:M,touchRippleRef:L,type:O}=r,P=ue(r,pB),k=v.useRef(null),D=v.useRef(null),$=Ln(D,L),{isFocusVisibleRef:F,onFocus:q,onBlur:W,ref:z}=lV(),[B,V]=v.useState(!1);c&&B&&V(!1),v.useImperativeHandle(s,()=>({focusVisible:()=>{V(!0),k.current.focus()}}),[]);const[G,ne]=v.useState(!1);v.useEffect(()=>{ne(!0)},[]);const re=G&&!u&&!c;v.useEffect(()=>{B&&h&&!u&&G&&D.current.pulsate()},[u,h,B,G]);function te(pe,vt,Yt=d){return Ei(Xt=>(vt&&vt(Xt),!Yt&&D.current&&D.current[pe](Xt),!0))}const fe=te("start",b),ae=te("stop",E),se=te("stop",g),he=te("stop",C),Ie=te("stop",pe=>{B&&pe.preventDefault(),T&&T(pe)}),ve=te("start",R),ht=te("stop",A),De=te("stop",I),Le=te("stop",pe=>{W(pe),F.current===!1&&V(!1),m&&m(pe)},!1),Je=Ei(pe=>{k.current||(k.current=pe.currentTarget),q(pe),F.current===!0&&(V(!0),_&&_(pe)),w&&w(pe)}),et=()=>{const pe=k.current;return l&&l!=="button"&&!(pe.tagName==="A"&&pe.href)},Te=v.useRef(!1),_t=Ei(pe=>{h&&!Te.current&&B&&D.current&&pe.key===" "&&(Te.current=!0,D.current.stop(pe,()=>{D.current.start(pe)})),pe.target===pe.currentTarget&&et()&&pe.key===" "&&pe.preventDefault(),x&&x(pe),pe.target===pe.currentTarget&&et()&&pe.key==="Enter"&&!c&&(pe.preventDefault(),y&&y(pe))}),$e=Ei(pe=>{h&&pe.key===" "&&D.current&&B&&!pe.defaultPrevented&&(Te.current=!1,D.current.stop(pe,()=>{D.current.pulsate(pe)})),S&&S(pe),y&&pe.target===pe.currentTarget&&et()&&pe.key===" "&&!pe.defaultPrevented&&y(pe)});let _e=l;_e==="button"&&(P.href||P.to)&&(_e=p);const yt={};_e==="button"?(yt.type=O===void 0?"button":O,yt.disabled=c):(!P.href&&!P.to&&(yt.role="button"),c&&(yt["aria-disabled"]=c));const on=Ln(n,z,k),On=j({},r,{centerRipple:i,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:N,focusVisible:B}),Ce=mB(On);return f.jsxs(gB,j({as:_e,className:xe(Ce.root,a),ownerState:On,onBlur:Le,onClick:y,onContextMenu:ae,onFocus:Je,onKeyDown:_t,onKeyUp:$e,onMouseDown:fe,onMouseLeave:Ie,onMouseUp:he,onDragLeave:se,onTouchEnd:ht,onTouchMove:De,onTouchStart:ve,ref:on,tabIndex:c?-1:N,type:O},yt,P,{children:[o,re?f.jsx(uB,j({ref:$,center:i},M)):null]}))}),C3=yB;function vB(t){return Ye("MuiIconButton",t)}const _B=Be("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),wB=_B,xB=["edge","children","className","color","disabled","disableFocusRipple","size"],EB=t=>{const{classes:e,disabled:n,color:r,edge:s,size:i}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${ie(r)}`,s&&`edge${ie(s)}`,`size${ie(i)}`]};return Ze(o,vB,e)},bB=le(C3,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${ie(n.color)}`],n.edge&&e[`edge${ie(n.edge)}`],e[`size${ie(n.size)}`]]}})(({theme:t,ownerState:e})=>j({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ns(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return j({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&j({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":j({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ns(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${wB.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),CB=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiIconButton"}),{edge:s=!1,children:i,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=ue(r,xB),h=j({},r,{edge:s,color:a,disabled:l,disableFocusRipple:c,size:u}),p=EB(h);return f.jsx(bB,j({className:xe(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:h,children:i}))}),cr=CB;function IB(t){return Ye("MuiTypography",t)}Be("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const TB=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],SB=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:s,variant:i,classes:o}=t,a={root:["root",i,t.align!=="inherit"&&`align${ie(e)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return Ze(a,IB,o)},RB=le("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${ie(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>j({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),Vb={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},AB={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},kB=t=>AB[t]||t,PB=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiTypography"}),s=kB(r.color),i=rf(j({},r,{color:s})),{align:o="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:h="body1",variantMapping:p=Vb}=i,m=ue(i,TB),y=j({},i,{align:o,color:s,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:h,variantMapping:p}),E=l||(d?"p":p[h]||Vb[h])||"span",g=SB(y);return f.jsx(RB,j({as:E,ref:n,ownerState:y,className:xe(g.root,a)},m))}),yn=PB;function NB(t){return Ye("MuiAppBar",t)}Be("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const LB=["className","color","enableColorOnDark","position"],MB=t=>{const{color:e,position:n,classes:r}=t,s={root:["root",`color${ie(e)}`,`position${ie(n)}`]};return Ze(s,NB,r)},a0=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,DB=le(of,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${ie(n.position)}`],e[`color${ie(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return j({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&j({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&j({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&j({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:a0(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:a0(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:a0(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:a0(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},!["inherit","transparent"].includes(e.color)&&{backgroundColor:"var(--AppBar-background)"},{color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),OB=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiAppBar"}),{className:s,color:i="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=ue(r,LB),c=j({},r,{color:i,position:a,enableColorOnDark:o}),u=MB(c);return f.jsx(DB,j({square:!0,component:"header",ownerState:c,elevation:4,className:xe(u.root,s,a==="fixed"&&"mui-fixed"),ref:n},l))}),VR=OB;function $B(t){return typeof t=="function"?t():t}const jB=v.forwardRef(function(e,n){const{children:r,container:s,disablePortal:i=!1}=e,[o,a]=v.useState(null),l=Ln(v.isValidElement(r)?r.ref:null,n);if(li(()=>{i||a($B(s)||document.body)},[s,i]),li(()=>{if(o&&!i)return kv(n,o),()=>{kv(n,null)}},[n,o,i]),i){if(v.isValidElement(r)){const c={ref:l};return v.cloneElement(r,c)}return f.jsx(v.Fragment,{children:r})}return f.jsx(v.Fragment,{children:o&&lh.createPortal(r,o)})}),FB=jB,VB=["onChange","maxRows","minRows","style","value"];function l0(t){return parseInt(t,10)||0}const UB={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function BB(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const zB=v.forwardRef(function(e,n){const{onChange:r,maxRows:s,minRows:i=1,style:o,value:a}=e,l=ue(e,VB),{current:c}=v.useRef(a!=null),u=v.useRef(null),d=Ln(n,u),h=v.useRef(null),p=v.useRef(null),m=v.useCallback(()=>{const g=u.current,_=jr(g).getComputedStyle(g);if(_.width==="0px")return{outerHeightStyle:0,overflowing:!1};const x=p.current;x.style.width=_.width,x.value=g.value||e.placeholder||"x",x.value.slice(-1)===`
`&&(x.value+=" ");const S=_.boxSizing,b=l0(_.paddingBottom)+l0(_.paddingTop),T=l0(_.borderBottomWidth)+l0(_.borderTopWidth),C=x.scrollHeight;x.value="x";const A=x.scrollHeight;let I=C;i&&(I=Math.max(Number(i)*A,I)),s&&(I=Math.min(Number(s)*A,I)),I=Math.max(I,A);const R=I+(S==="border-box"?b+T:0),N=Math.abs(I-C)<=1;return{outerHeightStyle:R,overflowing:N}},[s,i,e.placeholder]),y=v.useCallback(()=>{const g=m();if(BB(g))return;const w=g.outerHeightStyle,_=u.current;h.current!==w&&(h.current=w,_.style.height=`${w}px`),_.style.overflow=g.overflowing?"hidden":""},[m]);li(()=>{const g=()=>{y()};let w;const _=d3(g),x=u.current,S=jr(x);S.addEventListener("resize",_);let b;return typeof ResizeObserver<"u"&&(b=new ResizeObserver(g),b.observe(x)),()=>{_.clear(),cancelAnimationFrame(w),S.removeEventListener("resize",_),b&&b.disconnect()}},[m,y]),li(()=>{y()});const E=g=>{c||y(),r&&r(g)};return f.jsxs(v.Fragment,{children:[f.jsx("textarea",j({value:a,onChange:E,ref:d,rows:i,style:o},l)),f.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:j({},UB.shadow,o,{paddingTop:0,paddingBottom:0})})]})}),WB=zB;function fu({props:t,states:e,muiFormControl:n}){return e.reduce((r,s)=>(r[s]=t[s],n&&typeof t[s]>"u"&&(r[s]=n[s]),r),{})}const HB=v.createContext(void 0),I3=HB;function pu(){return v.useContext(I3)}function qB(t){return f.jsx(xF,j({},t,{defaultTheme:y3,themeId:Z2}))}function Ub(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Hp(t,e=!1){return t&&(Ub(t.value)&&t.value!==""||e&&Ub(t.defaultValue)&&t.defaultValue!=="")}function GB(t){return t.startAdornment}function KB(t){return Ye("MuiInputBase",t)}const QB=Be("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Bc=QB,YB=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Wm=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${ie(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Hm=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},XB=t=>{const{classes:e,color:n,disabled:r,error:s,endAdornment:i,focused:o,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:m}=t,y={root:["root",`color${ie(n)}`,r&&"disabled",s&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h&&h!=="medium"&&`size${ie(h)}`,u&&"multiline",p&&"adornedStart",i&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",i&&"inputAdornedEnd",d&&"readOnly"]};return Ze(y,KB,e)},qm=le("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Wm})(({theme:t,ownerState:e})=>j({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Bc.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&j({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Gm=le("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Hm})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=j({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),s={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return j({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Bc.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Bc.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),JB=f.jsx(qB,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),ZB=v.forwardRef(function(e,n){var r;const s=Xe({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:m,fullWidth:y=!1,id:E,inputComponent:g="input",inputProps:w={},inputRef:_,maxRows:x,minRows:S,multiline:b=!1,name:T,onBlur:C,onChange:A,onClick:I,onFocus:R,onKeyDown:N,onKeyUp:M,placeholder:L,readOnly:O,renderSuffix:P,rows:k,slotProps:D={},slots:$={},startAdornment:F,type:q="text",value:W}=s,z=ue(s,YB),B=w.value!=null?w.value:W,{current:V}=v.useRef(B!=null),G=v.useRef(),ne=v.useCallback(Ce=>{},[]),re=Ln(G,_,w.ref,ne),[te,fe]=v.useState(!1),ae=pu(),se=fu({props:s,muiFormControl:ae,states:["color","disabled","error","hiddenLabel","size","required","filled"]});se.focused=ae?ae.focused:te,v.useEffect(()=>{!ae&&h&&te&&(fe(!1),C&&C())},[ae,h,te,C]);const he=ae&&ae.onFilled,Ie=ae&&ae.onEmpty,ve=v.useCallback(Ce=>{Hp(Ce)?he&&he():Ie&&Ie()},[he,Ie]);li(()=>{V&&ve({value:B})},[B,ve,V]);const ht=Ce=>{if(se.disabled){Ce.stopPropagation();return}R&&R(Ce),w.onFocus&&w.onFocus(Ce),ae&&ae.onFocus?ae.onFocus(Ce):fe(!0)},De=Ce=>{C&&C(Ce),w.onBlur&&w.onBlur(Ce),ae&&ae.onBlur?ae.onBlur(Ce):fe(!1)},Le=(Ce,...pe)=>{if(!V){const vt=Ce.target||G.current;if(vt==null)throw new Error(Ya(1));ve({value:vt.value})}w.onChange&&w.onChange(Ce,...pe),A&&A(Ce,...pe)};v.useEffect(()=>{ve(G.current)},[]);const Je=Ce=>{G.current&&Ce.currentTarget===Ce.target&&G.current.focus(),I&&I(Ce)};let et=g,Te=w;b&&et==="input"&&(k?Te=j({type:void 0,minRows:k,maxRows:k},Te):Te=j({type:void 0,maxRows:x,minRows:S},Te),et=WB);const _t=Ce=>{ve(Ce.animationName==="mui-auto-fill-cancel"?G.current:{value:"x"})};v.useEffect(()=>{ae&&ae.setAdornedStart(!!F)},[ae,F]);const $e=j({},s,{color:se.color||"primary",disabled:se.disabled,endAdornment:m,error:se.error,focused:se.focused,formControl:ae,fullWidth:y,hiddenLabel:se.hiddenLabel,multiline:b,size:se.size,startAdornment:F,type:q}),_e=XB($e),yt=$.root||c.Root||qm,on=D.root||u.root||{},On=$.input||c.Input||Gm;return Te=j({},Te,(r=D.input)!=null?r:u.input),f.jsxs(v.Fragment,{children:[!p&&JB,f.jsxs(yt,j({},on,!Bp(yt)&&{ownerState:j({},$e,on.ownerState)},{ref:n,onClick:Je},z,{className:xe(_e.root,on.className,l,O&&"MuiInputBase-readOnly"),children:[F,f.jsx(I3.Provider,{value:null,children:f.jsx(On,j({ownerState:$e,"aria-invalid":se.error,"aria-describedby":i,autoComplete:o,autoFocus:a,defaultValue:d,disabled:se.disabled,id:E,onAnimationStart:_t,name:T,placeholder:L,readOnly:O,required:se.required,rows:k,value:B,onKeyDown:N,onKeyUp:M,type:q},Te,!Bp(On)&&{as:et,ownerState:j({},$e,Te.ownerState)},{ref:re,className:xe(_e.input,Te.className,O&&"MuiInputBase-readOnly"),onBlur:De,onChange:Le,onFocus:ht}))}),m,P?P(j({},se,{startAdornment:F})):null]}))]})}),T3=ZB;function ez(t){return Ye("MuiInput",t)}const tz=j({},Bc,Be("MuiInput",["root","underline","input"])),Vu=tz;function nz(t){return Ye("MuiOutlinedInput",t)}const rz=j({},Bc,Be("MuiOutlinedInput",["root","notchedOutline","input"])),Ki=rz;function sz(t){return Ye("MuiFilledInput",t)}const iz=j({},Bc,Be("MuiFilledInput",["root","underline","input"])),oa=iz,oz=jU(f.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),az=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],lz={entering:{opacity:1},entered:{opacity:1}},cz=v.forwardRef(function(e,n){const r=wl(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:m,onExiting:y,style:E,timeout:g=s,TransitionComponent:w=w3}=e,_=ue(e,az),x=v.useRef(null),S=Ln(x,a.ref,n),b=L=>O=>{if(L){const P=x.current;O===void 0?L(P):L(P,O)}},T=b(h),C=b((L,O)=>{b3(L);const P=Ja({style:E,timeout:g,easing:l},{mode:"enter"});L.style.webkitTransition=r.transitions.create("opacity",P),L.style.transition=r.transitions.create("opacity",P),u&&u(L,O)}),A=b(d),I=b(y),R=b(L=>{const O=Ja({style:E,timeout:g,easing:l},{mode:"exit"});L.style.webkitTransition=r.transitions.create("opacity",O),L.style.transition=r.transitions.create("opacity",O),p&&p(L)}),N=b(m),M=L=>{i&&i(x.current,L)};return f.jsx(w,j({appear:o,in:c,nodeRef:x,onEnter:C,onEntered:A,onEntering:T,onExit:R,onExited:N,onExiting:I,addEndListener:M,timeout:g},_,{children:(L,O)=>v.cloneElement(a,j({style:j({opacity:0,visibility:L==="exited"&&!c?"hidden":void 0},lz[L],E,a.props.style),ref:S},O))}))}),UR=cz;function uz(t){return Ye("MuiBackdrop",t)}Be("MuiBackdrop",["root","invisible"]);const dz=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],hz=t=>{const{classes:e,invisible:n}=t;return Ze({root:["root",n&&"invisible"]},uz,e)},fz=le("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>j({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),pz=v.forwardRef(function(e,n){var r,s,i;const o=Xe({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:u={},componentsProps:d={},invisible:h=!1,open:p,slotProps:m={},slots:y={},TransitionComponent:E=UR,transitionDuration:g}=o,w=ue(o,dz),_=j({},o,{component:c,invisible:h}),x=hz(_),S=(r=m.root)!=null?r:d.root;return f.jsx(E,j({in:p,timeout:g},w,{children:f.jsx(fz,j({"aria-hidden":!0},S,{as:(s=(i=y.root)!=null?i:u.Root)!=null?s:c,className:xe(x.root,l,S==null?void 0:S.className),ownerState:j({},_,S==null?void 0:S.ownerState),classes:x,ref:n,children:a}))}))}),BR=pz,mz=Be("MuiBox",["root"]),gz=mz,yz=MR(),vz=RF({themeId:Z2,defaultTheme:yz,defaultClassName:gz.root,generateClassName:mR.generate}),Ee=vz;function _z(t){return Ye("MuiButton",t)}const wz=Be("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),c0=wz,xz=v.createContext({}),Ez=xz,bz=v.createContext(void 0),Cz=bz,Iz=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Tz=t=>{const{color:e,disableElevation:n,fullWidth:r,size:s,variant:i,classes:o}=t,a={root:["root",i,`${i}${ie(e)}`,`size${ie(s)}`,`${i}Size${ie(s)}`,`color${ie(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${ie(s)}`],endIcon:["icon","endIcon",`iconSize${ie(s)}`]},l=Ze(a,_z,o);return j({},o,l)},zR=t=>j({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Sz=le(C3,{shouldForwardProp:t=>Ar(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${ie(n.color)}`],e[`size${ie(n.size)}`],e[`${n.variant}Size${ie(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const s=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],i=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return j({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":j({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:ns(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ns(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ns(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":j({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${c0.focusVisible}`]:j({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${c0.disabled}`]:j({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${ns(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:s,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${c0.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${c0.disabled}`]:{boxShadow:"none"}}),Rz=le("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${ie(n.size)}`]]}})(({ownerState:t})=>j({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},zR(t))),Az=le("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${ie(n.size)}`]]}})(({ownerState:t})=>j({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},zR(t))),kz=v.forwardRef(function(e,n){const r=v.useContext(Ez),s=v.useContext(Cz),i=mh(r,e),o=Xe({props:i,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:y,fullWidth:E=!1,size:g="medium",startIcon:w,type:_,variant:x="text"}=o,S=ue(o,Iz),b=j({},o,{color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:E,size:g,type:_,variant:x}),T=Tz(b),C=w&&f.jsx(Rz,{className:T.startIcon,ownerState:b,children:w}),A=m&&f.jsx(Az,{className:T.endIcon,ownerState:b,children:m}),I=s||"";return f.jsxs(Sz,j({ownerState:b,className:xe(r.className,T.root,u,I),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:xe(T.focusVisible,y),ref:n,type:_},S,{classes:T,children:[C,a,A]}))}),He=kz;function Pz(t){return Ye("MuiCircularProgress",t)}Be("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Nz=["className","color","disableShrink","size","style","thickness","value","variant"];let Km=t=>t,Bb,zb,Wb,Hb;const Qi=44,Lz=zi(Bb||(Bb=Km`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Mz=zi(zb||(zb=Km`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Dz=t=>{const{classes:e,variant:n,color:r,disableShrink:s}=t,i={root:["root",n,`color${ie(r)}`],svg:["svg"],circle:["circle",`circle${ie(n)}`,s&&"circleDisableShrink"]};return Ze(i,Pz,e)},Oz=le("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${ie(n.color)}`]]}})(({ownerState:t,theme:e})=>j({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&_l(Wb||(Wb=Km`
      animation: ${0} 1.4s linear infinite;
    `),Lz)),$z=le("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),jz=le("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${ie(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>j({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&_l(Hb||(Hb=Km`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Mz)),Fz=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiCircularProgress"}),{className:s,color:i="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,h=ue(r,Nz),p=j({},r,{color:i,disableShrink:o,size:a,thickness:c,value:u,variant:d}),m=Dz(p),y={},E={},g={};if(d==="determinate"){const w=2*Math.PI*((Qi-c)/2);y.strokeDasharray=w.toFixed(3),g["aria-valuenow"]=Math.round(u),y.strokeDashoffset=`${((100-u)/100*w).toFixed(3)}px`,E.transform="rotate(-90deg)"}return f.jsx(Oz,j({className:xe(m.root,s),style:j({width:a,height:a},E,l),ownerState:p,ref:n,role:"progressbar"},g,h,{children:f.jsx($z,{className:m.svg,ownerState:p,viewBox:`${Qi/2} ${Qi/2} ${Qi} ${Qi}`,children:f.jsx(jz,{className:m.circle,style:y,ownerState:p,cx:Qi,cy:Qi,r:(Qi-c)/2,fill:"none",strokeWidth:c})})}))}),Vz=Fz;function Uz(t){const e=An(t);return e.body===t?jr(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function kd(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function qb(t){return parseInt(jr(t).getComputedStyle(t).paddingRight,10)||0}function Bz(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function Gb(t,e,n,r,s){const i=[e,n,...r];[].forEach.call(t.children,o=>{const a=i.indexOf(o)===-1,l=!Bz(o);a&&l&&kd(o,s)})}function U1(t,e){let n=-1;return t.some((r,s)=>e(r)?(n=s,!0):!1),n}function zz(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Uz(r)){const o=ER(An(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${qb(r)+o}px`;const a=An(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${qb(l)+o}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=An(r).body;else{const o=r.parentElement,a=jr(r);i=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:o,property:a})=>{i?o.style.setProperty(a,i):o.style.removeProperty(a)})}}function Wz(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class Hz{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&kd(e.modalRef,!1);const s=Wz(n);Gb(n,e.mount,e.modalRef,s,!0);const i=U1(this.containers,o=>o.container===n);return i!==-1?(this.containers[i].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:s}),r)}mount(e,n){const r=U1(this.containers,i=>i.modals.indexOf(e)!==-1),s=this.containers[r];s.restore||(s.restore=zz(s,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const s=U1(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[s];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),e.modalRef&&kd(e.modalRef,n),Gb(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(s,1);else{const o=i.modals[i.modals.length-1];o.modalRef&&kd(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const qz=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Gz(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Kz(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Qz(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Kz(t))}function Yz(t){const e=[],n=[];return Array.from(t.querySelectorAll(qz)).forEach((r,s)=>{const i=Gz(r);i===-1||!Qz(r)||(i===0?e.push(r):n.push({documentOrder:s,tabIndex:i,node:r}))}),n.sort((r,s)=>r.tabIndex===s.tabIndex?r.documentOrder-s.documentOrder:r.tabIndex-s.tabIndex).map(r=>r.node).concat(e)}function Xz(){return!0}function Jz(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:i=Yz,isEnabled:o=Xz,open:a}=t,l=v.useRef(!1),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),h=v.useRef(null),p=v.useRef(!1),m=v.useRef(null),y=Ln(e.ref,m),E=v.useRef(null);v.useEffect(()=>{!a||!m.current||(p.current=!n)},[n,a]),v.useEffect(()=>{if(!a||!m.current)return;const _=An(m.current);return m.current.contains(_.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{s||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),v.useEffect(()=>{if(!a||!m.current)return;const _=An(m.current),x=T=>{E.current=T,!(r||!o()||T.key!=="Tab")&&_.activeElement===m.current&&T.shiftKey&&(l.current=!0,u.current&&u.current.focus())},S=()=>{const T=m.current;if(T===null)return;if(!_.hasFocus()||!o()||l.current){l.current=!1;return}if(T.contains(_.activeElement)||r&&_.activeElement!==c.current&&_.activeElement!==u.current)return;if(_.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let C=[];if((_.activeElement===c.current||_.activeElement===u.current)&&(C=i(m.current)),C.length>0){var A,I;const R=!!((A=E.current)!=null&&A.shiftKey&&((I=E.current)==null?void 0:I.key)==="Tab"),N=C[0],M=C[C.length-1];typeof N!="string"&&typeof M!="string"&&(R?M.focus():N.focus())}else T.focus()};_.addEventListener("focusin",S),_.addEventListener("keydown",x,!0);const b=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&S()},50);return()=>{clearInterval(b),_.removeEventListener("focusin",S),_.removeEventListener("keydown",x,!0)}},[n,r,s,o,a,i]);const g=_=>{d.current===null&&(d.current=_.relatedTarget),p.current=!0,h.current=_.target;const x=e.props.onFocus;x&&x(_)},w=_=>{d.current===null&&(d.current=_.relatedTarget),p.current=!0};return f.jsxs(v.Fragment,{children:[f.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:c,"data-testid":"sentinelStart"}),v.cloneElement(e,{ref:y,onFocus:g}),f.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:u,"data-testid":"sentinelEnd"})]})}function Zz(t){return typeof t=="function"?t():t}function eW(t){return t?t.props.hasOwnProperty("in"):!1}const tW=new Hz;function nW(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:s=tW,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=t,h=v.useRef({}),p=v.useRef(null),m=v.useRef(null),y=Ln(m,d),[E,g]=v.useState(!u),w=eW(l);let _=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(_=!1);const x=()=>An(p.current),S=()=>(h.current.modalRef=m.current,h.current.mount=p.current,h.current),b=()=>{s.mount(S(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},T=Ei(()=>{const P=Zz(e)||x().body;s.add(S(),P),m.current&&b()}),C=v.useCallback(()=>s.isTopModal(S()),[s]),A=Ei(P=>{p.current=P,P&&(u&&C()?b():m.current&&kd(m.current,_))}),I=v.useCallback(()=>{s.remove(S(),_)},[_,s]);v.useEffect(()=>()=>{I()},[I]),v.useEffect(()=>{u?T():(!w||!i)&&I()},[u,I,w,i,T]);const R=P=>k=>{var D;(D=P.onKeyDown)==null||D.call(P,k),!(k.key!=="Escape"||k.which===229||!C())&&(n||(k.stopPropagation(),c&&c(k,"escapeKeyDown")))},N=P=>k=>{var D;(D=P.onClick)==null||D.call(P,k),k.target===k.currentTarget&&c&&c(k,"backdropClick")};return{getRootProps:(P={})=>{const k=bR(t);delete k.onTransitionEnter,delete k.onTransitionExited;const D=j({},k,P);return j({role:"presentation"},D,{onKeyDown:R(D),ref:y})},getBackdropProps:(P={})=>{const k=P;return j({"aria-hidden":!0},k,{onClick:N(k),open:u})},getTransitionProps:()=>{const P=()=>{g(!1),o&&o()},k=()=>{g(!0),a&&a(),i&&I()};return{onEnter:_b(P,l==null?void 0:l.props.onEnter),onExited:_b(k,l==null?void 0:l.props.onExited)}},rootRef:y,portalRef:A,isTopModal:C,exited:E,hasTransition:w}}function rW(t){return Ye("MuiModal",t)}Be("MuiModal",["root","hidden","backdrop"]);const sW=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],iW=t=>{const{open:e,exited:n,classes:r}=t;return Ze({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},rW,r)},oW=le("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>j({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),aW=le(BR,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),lW=v.forwardRef(function(e,n){var r,s,i,o,a,l;const c=Xe({name:"MuiModal",props:e}),{BackdropComponent:u=aW,BackdropProps:d,className:h,closeAfterTransition:p=!1,children:m,container:y,component:E,components:g={},componentsProps:w={},disableAutoFocus:_=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:S=!1,disablePortal:b=!1,disableRestoreFocus:T=!1,disableScrollLock:C=!1,hideBackdrop:A=!1,keepMounted:I=!1,onBackdropClick:R,open:N,slotProps:M,slots:L}=c,O=ue(c,sW),P=j({},c,{closeAfterTransition:p,disableAutoFocus:_,disableEnforceFocus:x,disableEscapeKeyDown:S,disablePortal:b,disableRestoreFocus:T,disableScrollLock:C,hideBackdrop:A,keepMounted:I}),{getRootProps:k,getBackdropProps:D,getTransitionProps:$,portalRef:F,isTopModal:q,exited:W,hasTransition:z}=nW(j({},P,{rootRef:n})),B=j({},P,{exited:W}),V=iW(B),G={};if(m.props.tabIndex===void 0&&(G.tabIndex="-1"),z){const{onEnter:he,onExited:Ie}=$();G.onEnter=he,G.onExited=Ie}const ne=(r=(s=L==null?void 0:L.root)!=null?s:g.Root)!=null?r:oW,re=(i=(o=L==null?void 0:L.backdrop)!=null?o:g.Backdrop)!=null?i:u,te=(a=M==null?void 0:M.root)!=null?a:w.root,fe=(l=M==null?void 0:M.backdrop)!=null?l:w.backdrop,ae=Uc({elementType:ne,externalSlotProps:te,externalForwardedProps:O,getSlotProps:k,additionalProps:{ref:n,as:E},ownerState:B,className:xe(h,te==null?void 0:te.className,V==null?void 0:V.root,!B.open&&B.exited&&(V==null?void 0:V.hidden))}),se=Uc({elementType:re,externalSlotProps:fe,additionalProps:d,getSlotProps:he=>D(j({},he,{onClick:Ie=>{R&&R(Ie),he!=null&&he.onClick&&he.onClick(Ie)}})),className:xe(fe==null?void 0:fe.className,d==null?void 0:d.className,V==null?void 0:V.backdrop),ownerState:B});return!I&&!N&&(!z||W)?null:f.jsx(FB,{ref:F,container:y,disablePortal:b,children:f.jsxs(ne,j({},ae,{children:[!A&&u?f.jsx(re,j({},se)):null,f.jsx(Jz,{disableEnforceFocus:x,disableAutoFocus:_,disableRestoreFocus:T,isEnabled:q,open:N,children:v.cloneElement(m,G)})]}))})}),S3=lW;function cW(t){return Ye("MuiDialog",t)}const uW=Be("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),B1=uW,dW=v.createContext({}),WR=dW,hW=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],fW=le(BR,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),pW=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:s,fullScreen:i}=t,o={root:["root"],container:["container",`scroll${ie(n)}`],paper:["paper",`paperScroll${ie(n)}`,`paperWidth${ie(String(r))}`,s&&"paperFullWidth",i&&"paperFullScreen"]};return Ze(o,cW,e)},mW=le(S3,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),gW=le("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${ie(n.scroll)}`]]}})(({ownerState:t})=>j({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),yW=le(of,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${ie(n.scroll)}`],e[`paperWidth${ie(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>j({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${B1.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${B1.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${B1.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),vW=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiDialog"}),s=wl(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:h=!1,fullScreen:p=!1,fullWidth:m=!1,maxWidth:y="sm",onBackdropClick:E,onClick:g,onClose:w,open:_,PaperComponent:x=of,PaperProps:S={},scroll:b="paper",TransitionComponent:T=UR,transitionDuration:C=i,TransitionProps:A}=r,I=ue(r,hW),R=j({},r,{disableEscapeKeyDown:h,fullScreen:p,fullWidth:m,maxWidth:y,scroll:b}),N=pW(R),M=v.useRef(),L=D=>{M.current=D.target===D.currentTarget},O=D=>{g&&g(D),M.current&&(M.current=null,E&&E(D),w&&w(D,"backdropClick"))},P=h3(a),k=v.useMemo(()=>({titleId:P}),[P]);return f.jsx(mW,j({className:xe(N.root,d),closeAfterTransition:!0,components:{Backdrop:fW},componentsProps:{backdrop:j({transitionDuration:C,as:l},c)},disableEscapeKeyDown:h,onClose:w,open:_,ref:n,onClick:O,ownerState:R},I,{children:f.jsx(T,j({appear:!0,in:_,timeout:C,role:"presentation"},A,{children:f.jsx(gW,{className:xe(N.container),onMouseDown:L,ownerState:R,children:f.jsx(yW,j({as:x,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":P},S,{className:xe(N.paper,S.className),ownerState:R,children:f.jsx(WR.Provider,{value:k,children:u})}))})}))}))}),xl=vW;function _W(t){return Ye("MuiDialogTitle",t)}Be("MuiDialogTitle",["root"]);const wW=["className","id"],xW=t=>{const{classes:e}=t;return Ze({root:["root"]},_W,e)},EW=le(yn,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),bW=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiDialogTitle"}),{className:s,id:i}=r,o=ue(r,wW),a=r,l=xW(a),{titleId:c=i}=v.useContext(WR);return f.jsx(EW,j({component:"h2",className:xe(l.root,s),ownerState:a,ref:n,variant:"h6",id:i??c},o))}),CW=bW,IW=Be("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Kb=IW,TW=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function SW(t,e,n){const r=e.getBoundingClientRect(),s=n&&n.getBoundingClientRect(),i=jr(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const c=i.getComputedStyle(e);o=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let a=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const c=o.split("(")[1].split(")")[0].split(",");a=parseInt(c[4],10),l=parseInt(c[5],10)}return t==="left"?s?`translateX(${s.right+a-r.left}px)`:`translateX(${i.innerWidth+a-r.left}px)`:t==="right"?s?`translateX(-${r.right-s.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:t==="up"?s?`translateY(${s.bottom+l-r.top}px)`:`translateY(${i.innerHeight+l-r.top}px)`:s?`translateY(-${r.top-s.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function RW(t){return typeof t=="function"?t():t}function u0(t,e,n){const r=RW(n),s=SW(t,e,r);s&&(e.style.webkitTransform=s,e.style.transform=s)}const AW=v.forwardRef(function(e,n){const r=wl(),s={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:c,direction:u="down",easing:d=s,in:h,onEnter:p,onEntered:m,onEntering:y,onExit:E,onExited:g,onExiting:w,style:_,timeout:x=i,TransitionComponent:S=w3}=e,b=ue(e,TW),T=v.useRef(null),C=Ln(l.ref,T,n),A=D=>$=>{D&&($===void 0?D(T.current):D(T.current,$))},I=A((D,$)=>{u0(u,D,c),b3(D),p&&p(D,$)}),R=A((D,$)=>{const F=Ja({timeout:x,style:_,easing:d},{mode:"enter"});D.style.webkitTransition=r.transitions.create("-webkit-transform",j({},F)),D.style.transition=r.transitions.create("transform",j({},F)),D.style.webkitTransform="none",D.style.transform="none",y&&y(D,$)}),N=A(m),M=A(w),L=A(D=>{const $=Ja({timeout:x,style:_,easing:d},{mode:"exit"});D.style.webkitTransition=r.transitions.create("-webkit-transform",$),D.style.transition=r.transitions.create("transform",$),u0(u,D,c),E&&E(D)}),O=A(D=>{D.style.webkitTransition="",D.style.transition="",g&&g(D)}),P=D=>{o&&o(T.current,D)},k=v.useCallback(()=>{T.current&&u0(u,T.current,c)},[u,c]);return v.useEffect(()=>{if(h||u==="down"||u==="right")return;const D=d3(()=>{T.current&&u0(u,T.current,c)}),$=jr(T.current);return $.addEventListener("resize",D),()=>{D.clear(),$.removeEventListener("resize",D)}},[u,h,c]),v.useEffect(()=>{h||k()},[h,k]),f.jsx(S,j({nodeRef:T,onEnter:I,onEntered:N,onEntering:R,onExit:L,onExited:O,onExiting:M,addEndListener:P,appear:a,in:h,timeout:x},b,{children:(D,$)=>v.cloneElement(l,j({ref:C,style:j({visibility:D==="exited"&&!h?"hidden":void 0},_,l.props.style)},$))}))}),HR=AW;function kW(t){return Ye("MuiDrawer",t)}Be("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const PW=["BackdropProps"],NW=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],qR=(t,e)=>{const{ownerState:n}=t;return[e.root,(n.variant==="permanent"||n.variant==="persistent")&&e.docked,e.modal]},LW=t=>{const{classes:e,anchor:n,variant:r}=t,s={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${ie(n)}`,r!=="temporary"&&`paperAnchorDocked${ie(n)}`]};return Ze(s,kW,e)},MW=le(S3,{name:"MuiDrawer",slot:"Root",overridesResolver:qR})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),Qb=le("div",{shouldForwardProp:Ar,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:qR})({flex:"0 0 auto"}),DW=le(of,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`paperAnchor${ie(n.anchor)}`],n.variant!=="temporary"&&e[`paperAnchorDocked${ie(n.anchor)}`]]}})(({theme:t,ownerState:e})=>j({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),GR={left:"right",right:"left",top:"down",bottom:"up"};function ga(t){return["left","right"].indexOf(t)!==-1}function ud({direction:t},e){return t==="rtl"&&ga(e)?GR[e]:e}const OW=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiDrawer"}),s=wl(),i=f3(),o={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:c,className:u,elevation:d=16,hideBackdrop:h=!1,ModalProps:{BackdropProps:p}={},onClose:m,open:y=!1,PaperProps:E={},SlideProps:g,TransitionComponent:w=HR,transitionDuration:_=o,variant:x="temporary"}=r,S=ue(r.ModalProps,PW),b=ue(r,NW),T=v.useRef(!1);v.useEffect(()=>{T.current=!0},[]);const C=ud({direction:i?"rtl":"ltr"},a),I=j({},r,{anchor:a,elevation:d,open:y,variant:x},b),R=LW(I),N=f.jsx(DW,j({elevation:x==="temporary"?d:0,square:!0},E,{className:xe(R.paper,E.className),ownerState:I,children:c}));if(x==="permanent")return f.jsx(Qb,j({className:xe(R.root,R.docked,u),ownerState:I,ref:n},b,{children:N}));const M=f.jsx(w,j({in:y,direction:GR[C],timeout:_,appear:T.current},g,{children:N}));return x==="persistent"?f.jsx(Qb,j({className:xe(R.root,R.docked,u),ownerState:I,ref:n},b,{children:M})):f.jsx(MW,j({BackdropProps:j({},l,p,{transitionDuration:_}),className:xe(R.root,R.modal,u),open:y,ownerState:I,onClose:m,hideBackdrop:h,ref:n},b,S,{children:M}))}),$W=OW,jW=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],FW=t=>{const{classes:e,disableUnderline:n}=t,s=Ze({root:["root",!n&&"underline"],input:["input"]},sz,e);return j({},e,s)},VW=le(qm,{shouldForwardProp:t=>Ar(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Wm(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",s=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return j({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i}},[`&.${oa.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i},[`&.${oa.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${oa.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${oa.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${oa.disabled}, .${oa.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${oa.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&j({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),UW=le(Gm,{name:"MuiFilledInput",slot:"Input",overridesResolver:Hm})(({theme:t,ownerState:e})=>j({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),KR=v.forwardRef(function(e,n){var r,s,i,o;const a=Xe({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:p,slots:m={},type:y="text"}=a,E=ue(a,jW),g=j({},a,{fullWidth:u,inputComponent:d,multiline:h,type:y}),w=FW(a),_={root:{ownerState:g},input:{ownerState:g}},x=p??c?lr(_,p??c):_,S=(r=(s=m.root)!=null?s:l.Root)!=null?r:VW,b=(i=(o=m.input)!=null?o:l.Input)!=null?i:UW;return f.jsx(T3,j({slots:{root:S,input:b},componentsProps:x,fullWidth:u,inputComponent:d,multiline:h,ref:n,type:y},E,{classes:w}))});KR.muiName="Input";const QR=KR;function BW(t){return Ye("MuiFormControl",t)}Be("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const zW=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],WW=t=>{const{classes:e,margin:n,fullWidth:r}=t,s={root:["root",n!=="none"&&`margin${ie(n)}`,r&&"fullWidth"]};return Ze(s,BW,e)},HW=le("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>j({},e.root,e[`margin${ie(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>j({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),qW=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiFormControl"}),{children:s,className:i,color:o="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:m=!1,size:y="medium",variant:E="outlined"}=r,g=ue(r,zW),w=j({},r,{color:o,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:p,required:m,size:y,variant:E}),_=WW(w),[x,S]=v.useState(()=>{let M=!1;return s&&v.Children.forEach(s,L=>{if(!$1(L,["Input","Select"]))return;const O=$1(L,["Select"])?L.props.input:L;O&&GB(O.props)&&(M=!0)}),M}),[b,T]=v.useState(()=>{let M=!1;return s&&v.Children.forEach(s,L=>{$1(L,["Input","Select"])&&(Hp(L.props,!0)||Hp(L.props.inputProps,!0))&&(M=!0)}),M}),[C,A]=v.useState(!1);l&&C&&A(!1);const I=u!==void 0&&!l?u:C;let R;const N=v.useMemo(()=>({adornedStart:x,setAdornedStart:S,color:o,disabled:l,error:c,filled:b,focused:I,fullWidth:d,hiddenLabel:h,size:y,onBlur:()=>{A(!1)},onEmpty:()=>{T(!1)},onFilled:()=>{T(!0)},onFocus:()=>{A(!0)},registerEffect:R,required:m,variant:E}),[x,o,l,c,b,I,d,h,R,m,y,E]);return f.jsx(I3.Provider,{value:N,children:f.jsx(HW,j({as:a,ownerState:w,className:xe(_.root,i),ref:n},g,{children:s}))})}),GW=qW,KW=CV({createStyledComponent:le("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>Xe({props:t,name:"MuiStack"})}),Ko=KW;function QW(t){return Ye("MuiFormHelperText",t)}const YW=Be("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),Yb=YW;var Xb;const XW=["children","className","component","disabled","error","filled","focused","margin","required","variant"],JW=t=>{const{classes:e,contained:n,size:r,disabled:s,error:i,filled:o,focused:a,required:l}=t,c={root:["root",s&&"disabled",i&&"error",r&&`size${ie(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return Ze(c,QW,e)},ZW=le("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${ie(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>j({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Yb.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Yb.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),eH=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiFormHelperText"}),{children:s,className:i,component:o="p"}=r,a=ue(r,XW),l=pu(),c=fu({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=j({},r,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=JW(u);return f.jsx(ZW,j({as:o,ownerState:u,className:xe(d.root,i),ref:n},a,{children:s===" "?Xb||(Xb=f.jsx("span",{className:"notranslate",children:"​"})):s}))}),tH=eH;function nH(t){return Ye("MuiFormLabel",t)}const rH=Be("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Pd=rH,sH=["children","className","color","component","disabled","error","filled","focused","required"],iH=t=>{const{classes:e,color:n,focused:r,disabled:s,error:i,filled:o,required:a}=t,l={root:["root",`color${ie(n)}`,s&&"disabled",i&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",i&&"error"]};return Ze(l,nH,e)},oH=le("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>j({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>j({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Pd.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Pd.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Pd.error}`]:{color:(t.vars||t).palette.error.main}})),aH=le("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Pd.error}`]:{color:(t.vars||t).palette.error.main}})),lH=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiFormLabel"}),{children:s,className:i,component:o="label"}=r,a=ue(r,sH),l=pu(),c=fu({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=j({},r,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=iH(u);return f.jsxs(oH,j({as:o,ownerState:u,className:xe(d.root,i),ref:n},a,{children:[s,c.required&&f.jsxs(aH,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),cH=lH,uH=v.createContext(),Jb=uH;function dH(t){return Ye("MuiGrid",t)}const hH=[0,1,2,3,4,5,6,7,8,9,10],fH=["column-reverse","column","row-reverse","row"],pH=["nowrap","wrap-reverse","wrap"],Uu=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],gh=Be("MuiGrid",["root","container","item","zeroMinWidth",...hH.map(t=>`spacing-xs-${t}`),...fH.map(t=>`direction-xs-${t}`),...pH.map(t=>`wrap-xs-${t}`),...Uu.map(t=>`grid-xs-${t}`),...Uu.map(t=>`grid-sm-${t}`),...Uu.map(t=>`grid-md-${t}`),...Uu.map(t=>`grid-lg-${t}`),...Uu.map(t=>`grid-xl-${t}`)]),mH=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function bc(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function gH({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,s)=>{let i={};if(e[s]&&(n=e[s]),!n)return r;if(n===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=Ma({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[s]:o;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const u=t.spacing(e.columnSpacing);if(u!=="0px"){const d=`calc(${l} + ${bc(u)})`;c={flexBasis:d,maxWidth:d}}}i=j({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[s]===0?Object.assign(r,i):r[t.breakpoints.up(s)]=i,r},{})}function yH({theme:t,ownerState:e}){const n=Ma({values:e.direction,breakpoints:t.breakpoints.values});return Sr({theme:t},n,r=>{const s={flexDirection:r};return r.indexOf("column")===0&&(s[`& > .${gh.item}`]={maxWidth:"none"}),s})}function YR({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(s=>{n===""&&e[s]!==0&&(n=s)});const r=Object.keys(t).sort((s,i)=>t[s]-t[i]);return r.slice(0,r.indexOf(n))}function vH({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let s={};if(n&&r!==0){const i=Ma({values:r,breakpoints:t.breakpoints.values});let o;typeof i=="object"&&(o=YR({breakpoints:t.breakpoints.values,values:i})),s=Sr({theme:t},i,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{marginTop:`-${bc(u)}`,[`& > .${gh.item}`]:{paddingTop:bc(u)}}:(c=o)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${gh.item}`]:{paddingTop:0}}})}return s}function _H({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let s={};if(n&&r!==0){const i=Ma({values:r,breakpoints:t.breakpoints.values});let o;typeof i=="object"&&(o=YR({breakpoints:t.breakpoints.values,values:i})),s=Sr({theme:t},i,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{width:`calc(100% + ${bc(u)})`,marginLeft:`-${bc(u)}`,[`& > .${gh.item}`]:{paddingLeft:bc(u)}}:(c=o)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${gh.item}`]:{paddingLeft:0}}})}return s}function wH(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(s=>{const i=t[s];Number(i)>0&&r.push(n[`spacing-${s}-${String(i)}`])}),r}const xH=le("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:s,item:i,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=wH(o,c,e));const d=[];return c.forEach(h=>{const p=n[h];p&&d.push(e[`grid-${h}-${String(p)}`])}),[e.root,r&&e.container,i&&e.item,l&&e.zeroMinWidth,...u,s!=="row"&&e[`direction-xs-${String(s)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:t})=>j({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),yH,vH,_H,gH);function EH(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const s=t[r];if(Number(s)>0){const i=`spacing-${r}-${String(s)}`;n.push(i)}}),n}const bH=t=>{const{classes:e,container:n,direction:r,item:s,spacing:i,wrap:o,zeroMinWidth:a,breakpoints:l}=t;let c=[];n&&(c=EH(i,l));const u=[];l.forEach(h=>{const p=t[h];p&&u.push(`grid-${h}-${String(p)}`)});const d={root:["root",n&&"container",s&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...u]};return Ze(d,dH,e)},CH=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiGrid"}),{breakpoints:s}=wl(),i=rf(r),{className:o,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:h=!1,rowSpacing:p,spacing:m=0,wrap:y="wrap",zeroMinWidth:E=!1}=i,g=ue(i,mH),w=p||m,_=l||m,x=v.useContext(Jb),S=u?a||12:x,b={},T=j({},g);s.keys.forEach(I=>{g[I]!=null&&(b[I]=g[I],delete T[I])});const C=j({},i,{columns:S,container:u,direction:d,item:h,rowSpacing:w,columnSpacing:_,wrap:y,zeroMinWidth:E,spacing:m},b,{breakpoints:s.keys}),A=bH(C);return f.jsx(Jb.Provider,{value:S,children:f.jsx(xH,j({ownerState:C,className:xe(A.root,o),as:c,ref:n},T))})}),Nd=CH,IH=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Ov(t){return`scale(${t}, ${t**2})`}const TH={entering:{opacity:1,transform:Ov(1)},entered:{opacity:1,transform:"none"}},z1=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),XR=v.forwardRef(function(e,n){const{addEndListener:r,appear:s=!0,children:i,easing:o,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:m,timeout:y="auto",TransitionComponent:E=w3}=e,g=ue(e,IH),w=xR(),_=v.useRef(),x=wl(),S=v.useRef(null),b=Ln(S,i.ref,n),T=O=>P=>{if(O){const k=S.current;P===void 0?O(k):O(k,P)}},C=T(u),A=T((O,P)=>{b3(O);const{duration:k,delay:D,easing:$}=Ja({style:m,timeout:y,easing:o},{mode:"enter"});let F;y==="auto"?(F=x.transitions.getAutoHeightDuration(O.clientHeight),_.current=F):F=k,O.style.transition=[x.transitions.create("opacity",{duration:F,delay:D}),x.transitions.create("transform",{duration:z1?F:F*.666,delay:D,easing:$})].join(","),l&&l(O,P)}),I=T(c),R=T(p),N=T(O=>{const{duration:P,delay:k,easing:D}=Ja({style:m,timeout:y,easing:o},{mode:"exit"});let $;y==="auto"?($=x.transitions.getAutoHeightDuration(O.clientHeight),_.current=$):$=P,O.style.transition=[x.transitions.create("opacity",{duration:$,delay:k}),x.transitions.create("transform",{duration:z1?$:$*.666,delay:z1?k:k||$*.333,easing:D})].join(","),O.style.opacity=0,O.style.transform=Ov(.75),d&&d(O)}),M=T(h),L=O=>{y==="auto"&&w.start(_.current||0,O),r&&r(S.current,O)};return f.jsx(E,j({appear:s,in:a,nodeRef:S,onEnter:A,onEntered:I,onEntering:C,onExit:N,onExited:M,onExiting:R,addEndListener:L,timeout:y==="auto"?null:y},g,{children:(O,P)=>v.cloneElement(i,j({style:j({opacity:0,transform:Ov(.75),visibility:O==="exited"&&!a?"hidden":void 0},TH[O],m,i.props.style),ref:b},P))}))});XR.muiSupportAuto=!0;const SH=XR,RH=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],AH=t=>{const{classes:e,disableUnderline:n}=t,s=Ze({root:["root",!n&&"underline"],input:["input"]},ez,e);return j({},e,s)},kH=le(qm,{shouldForwardProp:t=>Ar(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Wm(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),j({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Vu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Vu.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Vu.disabled}, .${Vu.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Vu.disabled}:before`]:{borderBottomStyle:"dotted"}})}),PH=le(Gm,{name:"MuiInput",slot:"Input",overridesResolver:Hm})({}),JR=v.forwardRef(function(e,n){var r,s,i,o;const a=Xe({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:h="input",multiline:p=!1,slotProps:m,slots:y={},type:E="text"}=a,g=ue(a,RH),w=AH(a),x={root:{ownerState:{disableUnderline:l}}},S=m??u?lr(m??u,x):x,b=(r=(s=y.root)!=null?s:c.Root)!=null?r:kH,T=(i=(o=y.input)!=null?o:c.Input)!=null?i:PH;return f.jsx(T3,j({slots:{root:b,input:T},slotProps:S,fullWidth:d,inputComponent:h,multiline:p,ref:n,type:E},g,{classes:w}))});JR.muiName="Input";const ZR=JR;function NH(t){return Ye("MuiInputLabel",t)}Be("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const LH=["disableAnimation","margin","shrink","variant","className"],MH=t=>{const{classes:e,formControl:n,size:r,shrink:s,disableAnimation:i,variant:o,required:a}=t,l={root:["root",n&&"formControl",!i&&"animated",s&&"shrink",r&&r!=="normal"&&`size${ie(r)}`,o],asterisk:[a&&"asterisk"]},c=Ze(l,NH,e);return j({},e,c)},DH=le(cH,{shouldForwardProp:t=>Ar(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Pd.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>j({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&j({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&j({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&j({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),OH=v.forwardRef(function(e,n){const r=Xe({name:"MuiInputLabel",props:e}),{disableAnimation:s=!1,shrink:i,className:o}=r,a=ue(r,LH),l=pu();let c=i;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=fu({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=j({},r,{disableAnimation:s,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),h=MH(d);return f.jsx(DH,j({"data-shrink":c,ownerState:d,ref:n,className:xe(h.root,o)},a,{classes:h}))}),$H=OH;function jH(t){return Ye("MuiLinearProgress",t)}Be("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const FH=["className","color","value","valueBuffer","variant"];let mu=t=>t,Zb,eC,tC,nC,rC,sC;const $v=4,VH=zi(Zb||(Zb=mu`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),UH=zi(eC||(eC=mu`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),BH=zi(tC||(tC=mu`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),zH=t=>{const{classes:e,variant:n,color:r}=t,s={root:["root",`color${ie(r)}`,n],dashed:["dashed",`dashedColor${ie(r)}`],bar1:["bar",`barColor${ie(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${ie(r)}`,n==="buffer"&&`color${ie(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return Ze(s,jH,e)},R3=(t,e)=>e==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?RR(t.palette[e].main,.62):SR(t.palette[e].main,.5),WH=le("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${ie(n.color)}`],e[n.variant]]}})(({ownerState:t,theme:e})=>j({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:R3(e,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),HH=le("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${ie(n.color)}`]]}})(({ownerState:t,theme:e})=>{const n=R3(e,t.color);return j({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},_l(nC||(nC=mu`
    animation: ${0} 3s infinite linear;
  `),BH)),qH=le("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${ie(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:t,theme:e})=>j({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${$v}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${$v}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&_l(rC||(rC=mu`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),VH)),GH=le("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${ie(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:t,theme:e})=>j({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:R3(e,t.color),transition:`transform .${$v}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&_l(sC||(sC=mu`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),UH)),KH=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiLinearProgress"}),{className:s,color:i="primary",value:o,valueBuffer:a,variant:l="indeterminate"}=r,c=ue(r,FH),u=j({},r,{color:i,variant:l}),d=zH(u),h=f3(),p={},m={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&o!==void 0){p["aria-valuenow"]=Math.round(o),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let y=o-100;h&&(y=-y),m.bar1.transform=`translateX(${y}%)`}if(l==="buffer"&&a!==void 0){let y=(a||0)-100;h&&(y=-y),m.bar2.transform=`translateX(${y}%)`}return f.jsxs(WH,j({className:xe(d.root,s),ownerState:u,role:"progressbar"},p,{ref:n},c,{children:[l==="buffer"?f.jsx(HH,{className:d.dashed,ownerState:u}):null,f.jsx(qH,{className:d.bar1,ownerState:u,style:m.bar1}),l==="determinate"?null:f.jsx(GH,{className:d.bar2,ownerState:u,style:m.bar2})]}))}),Wt=KH,QH=v.createContext({}),jv=QH;function YH(t){return Ye("MuiList",t)}Be("MuiList",["root","padding","dense","subheader"]);const XH=["children","className","component","dense","disablePadding","subheader"],JH=t=>{const{classes:e,disablePadding:n,dense:r,subheader:s}=t;return Ze({root:["root",!n&&"padding",r&&"dense",s&&"subheader"]},YH,e)},ZH=le("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>j({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),eq=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiList"}),{children:s,className:i,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=ue(r,XH),d=v.useMemo(()=>({dense:a}),[a]),h=j({},r,{component:o,dense:a,disablePadding:l}),p=JH(h);return f.jsx(jv.Provider,{value:d,children:f.jsxs(ZH,j({as:o,className:xe(p.root,i),ref:n,ownerState:h},u,{children:[c,s]}))})}),tq=eq,nq=Be("MuiListItemIcon",["root","alignItemsFlexStart"]),iC=nq,rq=Be("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),oC=rq,sq=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function W1(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function aC(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function eA(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Bu(t,e,n,r,s,i){let o=!1,a=s(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!eA(a,i)||l)a=s(t,a,n);else return a.focus(),!0}return!1}const iq=v.forwardRef(function(e,n){const{actions:r,autoFocus:s=!1,autoFocusItem:i=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=ue(e,sq),p=v.useRef(null),m=v.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});li(()=>{s&&p.current.focus()},[s]),v.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(_,{direction:x})=>{const S=!p.current.style.width;if(_.clientHeight<p.current.clientHeight&&S){const b=`${ER(An(_))}px`;p.current.style[x==="rtl"?"paddingLeft":"paddingRight"]=b,p.current.style.width=`calc(100% + ${b})`}return p.current}}),[]);const y=_=>{const x=p.current,S=_.key,b=An(x).activeElement;if(S==="ArrowDown")_.preventDefault(),Bu(x,b,c,l,W1);else if(S==="ArrowUp")_.preventDefault(),Bu(x,b,c,l,aC);else if(S==="Home")_.preventDefault(),Bu(x,null,c,l,W1);else if(S==="End")_.preventDefault(),Bu(x,null,c,l,aC);else if(S.length===1){const T=m.current,C=S.toLowerCase(),A=performance.now();T.keys.length>0&&(A-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&C!==T.keys[0]&&(T.repeating=!1)),T.lastTime=A,T.keys.push(C);const I=b&&!T.repeating&&eA(b,T);T.previousKeyMatched&&(I||Bu(x,b,!1,l,W1,T))?_.preventDefault():T.previousKeyMatched=!1}u&&u(_)},E=Ln(p,n);let g=-1;v.Children.forEach(o,(_,x)=>{if(!v.isValidElement(_)){g===x&&(g+=1,g>=o.length&&(g=-1));return}_.props.disabled||(d==="selectedMenu"&&_.props.selected||g===-1)&&(g=x),g===x&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(g+=1,g>=o.length&&(g=-1))});const w=v.Children.map(o,(_,x)=>{if(x===g){const S={};return i&&(S.autoFocus=!0),_.props.tabIndex===void 0&&d==="selectedMenu"&&(S.tabIndex=0),v.cloneElement(_,S)}return _});return f.jsx(tq,j({role:"menu",ref:E,className:a,onKeyDown:y,tabIndex:s?0:-1},h,{children:w}))}),oq=iq;function aq(t){return Ye("MuiPopover",t)}Be("MuiPopover",["root","paper"]);const lq=["onEntering"],cq=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],uq=["slotProps"];function lC(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function cC(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function uC(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function H1(t){return typeof t=="function"?t():t}const dq=t=>{const{classes:e}=t;return Ze({root:["root"],paper:["paper"]},aq,e)},hq=le(S3,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),tA=le(of,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),fq=v.forwardRef(function(e,n){var r,s,i;const o=Xe({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:p,container:m,elevation:y=8,marginThreshold:E=16,open:g,PaperProps:w={},slots:_,slotProps:x,transformOrigin:S={vertical:"top",horizontal:"left"},TransitionComponent:b=SH,transitionDuration:T="auto",TransitionProps:{onEntering:C}={},disableScrollLock:A=!1}=o,I=ue(o.TransitionProps,lq),R=ue(o,cq),N=(r=x==null?void 0:x.paper)!=null?r:w,M=v.useRef(),L=Ln(M,N.ref),O=j({},o,{anchorOrigin:c,anchorReference:d,elevation:y,marginThreshold:E,externalPaperSlotProps:N,transformOrigin:S,TransitionComponent:b,transitionDuration:T,TransitionProps:I}),P=dq(O),k=v.useCallback(()=>{if(d==="anchorPosition")return u;const he=H1(l),ve=(he&&he.nodeType===1?he:An(M.current).body).getBoundingClientRect();return{top:ve.top+lC(ve,c.vertical),left:ve.left+cC(ve,c.horizontal)}},[l,c.horizontal,c.vertical,u,d]),D=v.useCallback(he=>({vertical:lC(he,S.vertical),horizontal:cC(he,S.horizontal)}),[S.horizontal,S.vertical]),$=v.useCallback(he=>{const Ie={width:he.offsetWidth,height:he.offsetHeight},ve=D(Ie);if(d==="none")return{top:null,left:null,transformOrigin:uC(ve)};const ht=k();let De=ht.top-ve.vertical,Le=ht.left-ve.horizontal;const Je=De+Ie.height,et=Le+Ie.width,Te=jr(H1(l)),_t=Te.innerHeight-E,$e=Te.innerWidth-E;if(E!==null&&De<E){const _e=De-E;De-=_e,ve.vertical+=_e}else if(E!==null&&Je>_t){const _e=Je-_t;De-=_e,ve.vertical+=_e}if(E!==null&&Le<E){const _e=Le-E;Le-=_e,ve.horizontal+=_e}else if(et>$e){const _e=et-$e;Le-=_e,ve.horizontal+=_e}return{top:`${Math.round(De)}px`,left:`${Math.round(Le)}px`,transformOrigin:uC(ve)}},[l,d,k,D,E]),[F,q]=v.useState(g),W=v.useCallback(()=>{const he=M.current;if(!he)return;const Ie=$(he);Ie.top!==null&&(he.style.top=Ie.top),Ie.left!==null&&(he.style.left=Ie.left),he.style.transformOrigin=Ie.transformOrigin,q(!0)},[$]);v.useEffect(()=>(A&&window.addEventListener("scroll",W),()=>window.removeEventListener("scroll",W)),[l,A,W]);const z=(he,Ie)=>{C&&C(he,Ie),W()},B=()=>{q(!1)};v.useEffect(()=>{g&&W()}),v.useImperativeHandle(a,()=>g?{updatePosition:()=>{W()}}:null,[g,W]),v.useEffect(()=>{if(!g)return;const he=d3(()=>{W()}),Ie=jr(l);return Ie.addEventListener("resize",he),()=>{he.clear(),Ie.removeEventListener("resize",he)}},[l,g,W]);let V=T;T==="auto"&&!b.muiSupportAuto&&(V=void 0);const G=m||(l?An(H1(l)).body:void 0),ne=(s=_==null?void 0:_.root)!=null?s:hq,re=(i=_==null?void 0:_.paper)!=null?i:tA,te=Uc({elementType:re,externalSlotProps:j({},N,{style:F?N.style:j({},N.style,{opacity:0})}),additionalProps:{elevation:y,ref:L},ownerState:O,className:xe(P.paper,N==null?void 0:N.className)}),fe=Uc({elementType:ne,externalSlotProps:(x==null?void 0:x.root)||{},externalForwardedProps:R,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:G,open:g},ownerState:O,className:xe(P.root,p)}),{slotProps:ae}=fe,se=ue(fe,uq);return f.jsx(ne,j({},se,!Bp(ne)&&{slotProps:ae,disableScrollLock:A},{children:f.jsx(b,j({appear:!0,in:g,onEntering:z,onExited:B,timeout:V},I,{children:f.jsx(re,j({},te,{children:h}))}))}))}),pq=fq;function mq(t){return Ye("MuiMenu",t)}Be("MuiMenu",["root","paper","list"]);const gq=["onEntering"],yq=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],vq={vertical:"top",horizontal:"right"},_q={vertical:"top",horizontal:"left"},wq=t=>{const{classes:e}=t;return Ze({root:["root"],paper:["paper"],list:["list"]},mq,e)},xq=le(pq,{shouldForwardProp:t=>Ar(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Eq=le(tA,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),bq=le(oq,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Cq=v.forwardRef(function(e,n){var r,s;const i=Xe({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:p={},PopoverClasses:m,transitionDuration:y="auto",TransitionProps:{onEntering:E}={},variant:g="selectedMenu",slots:w={},slotProps:_={}}=i,x=ue(i.TransitionProps,gq),S=ue(i,yq),b=f3(),T=j({},i,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:u,onEntering:E,PaperProps:p,transitionDuration:y,TransitionProps:x,variant:g}),C=wq(T),A=o&&!c&&h,I=v.useRef(null),R=(D,$)=>{I.current&&I.current.adjustStyleForScrollbar(D,{direction:b?"rtl":"ltr"}),E&&E(D,$)},N=D=>{D.key==="Tab"&&(D.preventDefault(),d&&d(D,"tabKeyDown"))};let M=-1;v.Children.map(a,(D,$)=>{v.isValidElement(D)&&(D.props.disabled||(g==="selectedMenu"&&D.props.selected||M===-1)&&(M=$))});const L=(r=w.paper)!=null?r:Eq,O=(s=_.paper)!=null?s:p,P=Uc({elementType:w.root,externalSlotProps:_.root,ownerState:T,className:[C.root,l]}),k=Uc({elementType:L,externalSlotProps:O,ownerState:T,className:C.paper});return f.jsx(xq,j({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:b?"right":"left"},transformOrigin:b?vq:_q,slots:{paper:L,root:w.root},slotProps:{root:P,paper:k},open:h,ref:n,transitionDuration:y,TransitionProps:j({onEntering:R},x),ownerState:T},S,{classes:m,children:f.jsx(bq,j({onKeyDown:N,actions:I,autoFocus:o&&(M===-1||c),autoFocusItem:A,variant:g},u,{className:xe(C.list,u.className),children:a}))}))}),Iq=Cq;function Tq(t){return Ye("MuiMenuItem",t)}const Sq=Be("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),zu=Sq,Rq=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Aq=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},kq=t=>{const{disabled:e,dense:n,divider:r,disableGutters:s,selected:i,classes:o}=t,l=Ze({root:["root",n&&"dense",e&&"disabled",!s&&"gutters",r&&"divider",i&&"selected"]},Tq,o);return j({},o,l)},Pq=le(C3,{shouldForwardProp:t=>Ar(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Aq})(({theme:t,ownerState:e})=>j({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${zu.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ns(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${zu.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:ns(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${zu.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ns(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:ns(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${zu.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${zu.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${Kb.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${Kb.inset}`]:{marginLeft:52},[`& .${oC.root}`]:{marginTop:0,marginBottom:0},[`& .${oC.inset}`]:{paddingLeft:36},[`& .${iC.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&j({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${iC.root} svg`]:{fontSize:"1.25rem"}}))),Nq=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiMenuItem"}),{autoFocus:s=!1,component:i="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h}=r,p=ue(r,Rq),m=v.useContext(jv),y=v.useMemo(()=>({dense:o||m.dense||!1,disableGutters:l}),[m.dense,o,l]),E=v.useRef(null);li(()=>{s&&E.current&&E.current.focus()},[s]);const g=j({},r,{dense:y.dense,divider:a,disableGutters:l}),w=kq(r),_=Ln(E,n);let x;return r.disabled||(x=d!==void 0?d:-1),f.jsx(jv.Provider,{value:y,children:f.jsx(Pq,j({ref:_,role:u,tabIndex:x,component:i,focusVisibleClassName:xe(w.focusVisible,c),className:xe(w.root,h)},p,{ownerState:g,classes:w}))})}),Lq=Nq;function Mq(t){return Ye("MuiNativeSelect",t)}const Dq=Be("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),A3=Dq,Oq=["className","disabled","error","IconComponent","inputRef","variant"],$q=t=>{const{classes:e,variant:n,disabled:r,multiple:s,open:i,error:o}=t,a={select:["select",n,r&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${ie(n)}`,i&&"iconOpen",r&&"disabled"]};return Ze(a,Mq,e)},nA=({ownerState:t,theme:e})=>j({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":j({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${A3.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),jq=le("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ar,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${A3.multiple}`]:e.multiple}]}})(nA),rA=({ownerState:t,theme:e})=>j({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${A3.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),Fq=le("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ie(n.variant)}`],n.open&&e.iconOpen]}})(rA),Vq=v.forwardRef(function(e,n){const{className:r,disabled:s,error:i,IconComponent:o,inputRef:a,variant:l="standard"}=e,c=ue(e,Oq),u=j({},e,{disabled:s,variant:l,error:i}),d=$q(u);return f.jsxs(v.Fragment,{children:[f.jsx(jq,j({ownerState:u,className:xe(d.select,r),disabled:s,ref:a||n},c)),e.multiple?null:f.jsx(Fq,{as:o,ownerState:u,className:d.icon})]})}),Uq=Vq;function Bq(t){const{children:e,defer:n=!1,fallback:r=null}=t,[s,i]=v.useState(!1);return li(()=>{n||i(!0)},[n]),v.useEffect(()=>{n&&i(!0)},[n]),f.jsx(v.Fragment,{children:s?e:r})}var dC;const zq=["children","classes","className","label","notched"],Wq=le("fieldset",{shouldForwardProp:Ar})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Hq=le("legend",{shouldForwardProp:Ar})(({ownerState:t,theme:e})=>j({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&j({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function qq(t){const{className:e,label:n,notched:r}=t,s=ue(t,zq),i=n!=null&&n!=="",o=j({},t,{notched:r,withLabel:i});return f.jsx(Wq,j({"aria-hidden":!0,className:e,ownerState:o},s,{children:f.jsx(Hq,{ownerState:o,children:i?f.jsx("span",{children:n}):dC||(dC=f.jsx("span",{className:"notranslate",children:"​"}))})}))}const Gq=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Kq=t=>{const{classes:e}=t,r=Ze({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},nz,e);return j({},e,r)},Qq=le(qm,{shouldForwardProp:t=>Ar(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Wm})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return j({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Ki.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ki.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Ki.focused} .${Ki.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Ki.error} .${Ki.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Ki.disabled} .${Ki.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&j({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),Yq=le(qq,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),Xq=le(Gm,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Hm})(({theme:t,ownerState:e})=>j({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),sA=v.forwardRef(function(e,n){var r,s,i,o,a;const l=Xe({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:p=!1,notched:m,slots:y={},type:E="text"}=l,g=ue(l,Gq),w=Kq(l),_=pu(),x=fu({props:l,muiFormControl:_,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),S=j({},l,{color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:_,fullWidth:u,hiddenLabel:x.hiddenLabel,multiline:p,size:x.size,type:E}),b=(r=(s=y.root)!=null?s:c.Root)!=null?r:Qq,T=(i=(o=y.input)!=null?o:c.Input)!=null?i:Xq;return f.jsx(T3,j({slots:{root:b,input:T},renderSuffix:C=>f.jsx(Yq,{ownerState:S,className:w.notchedOutline,label:h!=null&&h!==""&&x.required?a||(a=f.jsxs(v.Fragment,{children:[h," ","*"]})):h,notched:typeof m<"u"?m:!!(C.startAdornment||C.filled||C.focused)}),fullWidth:u,inputComponent:d,multiline:p,ref:n,type:E},g,{classes:j({},w,{notchedOutline:null})}))});sA.muiName="Input";const iA=sA;function Jq(t){return Ye("MuiSelect",t)}const Zq=Be("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Wu=Zq;var hC;const eG=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],tG=le("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Wu.select}`]:e.select},{[`&.${Wu.select}`]:e[n.variant]},{[`&.${Wu.error}`]:e.error},{[`&.${Wu.multiple}`]:e.multiple}]}})(nA,{[`&.${Wu.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),nG=le("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ie(n.variant)}`],n.open&&e.iconOpen]}})(rA),rG=le("input",{shouldForwardProp:t=>OR(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function fC(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function sG(t){return t==null||typeof t=="string"&&!t.trim()}const iG=t=>{const{classes:e,variant:n,disabled:r,multiple:s,open:i,error:o}=t,a={select:["select",n,r&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${ie(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Ze(a,Jq,e)},oG=v.forwardRef(function(e,n){var r;const{"aria-describedby":s,"aria-label":i,autoFocus:o,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:p,error:m=!1,IconComponent:y,inputRef:E,labelId:g,MenuProps:w={},multiple:_,name:x,onBlur:S,onChange:b,onClose:T,onFocus:C,onOpen:A,open:I,readOnly:R,renderValue:N,SelectDisplayProps:M={},tabIndex:L,value:O,variant:P="standard"}=e,k=ue(e,eG),[D,$]=Eb({controlled:O,default:d,name:"Select"}),[F,q]=Eb({controlled:I,default:u,name:"Select"}),W=v.useRef(null),z=v.useRef(null),[B,V]=v.useState(null),{current:G}=v.useRef(I!=null),[ne,re]=v.useState(),te=Ln(n,E),fe=v.useCallback(ce=>{z.current=ce,ce&&V(ce)},[]),ae=B==null?void 0:B.parentNode;v.useImperativeHandle(te,()=>({focus:()=>{z.current.focus()},node:W.current,value:D}),[D]),v.useEffect(()=>{u&&F&&B&&!G&&(re(a?null:ae.clientWidth),z.current.focus())},[B,a]),v.useEffect(()=>{o&&z.current.focus()},[o]),v.useEffect(()=>{if(!g)return;const ce=An(z.current).getElementById(g);if(ce){const je=()=>{getSelection().isCollapsed&&z.current.focus()};return ce.addEventListener("click",je),()=>{ce.removeEventListener("click",je)}}},[g]);const se=(ce,je)=>{ce?A&&A(je):T&&T(je),G||(re(a?null:ae.clientWidth),q(ce))},he=ce=>{ce.button===0&&(ce.preventDefault(),z.current.focus(),se(!0,ce))},Ie=ce=>{se(!1,ce)},ve=v.Children.toArray(l),ht=ce=>{const je=ve.find(ft=>ft.props.value===ce.target.value);je!==void 0&&($(je.props.value),b&&b(ce,je))},De=ce=>je=>{let ft;if(je.currentTarget.hasAttribute("tabindex")){if(_){ft=Array.isArray(D)?D.slice():[];const Gr=D.indexOf(ce.props.value);Gr===-1?ft.push(ce.props.value):ft.splice(Gr,1)}else ft=ce.props.value;if(ce.props.onClick&&ce.props.onClick(je),D!==ft&&($(ft),b)){const Gr=je.nativeEvent||je,me=new Gr.constructor(Gr.type,Gr);Object.defineProperty(me,"target",{writable:!0,value:{value:ft,name:x}}),b(me,ce)}_||se(!1,je)}},Le=ce=>{R||[" ","ArrowUp","ArrowDown","Enter"].indexOf(ce.key)!==-1&&(ce.preventDefault(),se(!0,ce))},Je=B!==null&&F,et=ce=>{!Je&&S&&(Object.defineProperty(ce,"target",{writable:!0,value:{value:D,name:x}}),S(ce))};delete k["aria-invalid"];let Te,_t;const $e=[];let _e=!1;(Hp({value:D})||p)&&(N?Te=N(D):_e=!0);const yt=ve.map(ce=>{if(!v.isValidElement(ce))return null;let je;if(_){if(!Array.isArray(D))throw new Error(Ya(2));je=D.some(ft=>fC(ft,ce.props.value)),je&&_e&&$e.push(ce.props.children)}else je=fC(D,ce.props.value),je&&_e&&(_t=ce.props.children);return v.cloneElement(ce,{"aria-selected":je?"true":"false",onClick:De(ce),onKeyUp:ft=>{ft.key===" "&&ft.preventDefault(),ce.props.onKeyUp&&ce.props.onKeyUp(ft)},role:"option",selected:je,value:void 0,"data-value":ce.props.value})});_e&&(_?$e.length===0?Te=null:Te=$e.reduce((ce,je,ft)=>(ce.push(je),ft<$e.length-1&&ce.push(", "),ce),[]):Te=_t);let on=ne;!a&&G&&B&&(on=ae.clientWidth);let On;typeof L<"u"?On=L:On=h?null:0;const Ce=M.id||(x?`mui-component-select-${x}`:void 0),pe=j({},e,{variant:P,value:D,open:Je,error:m}),vt=iG(pe),Yt=j({},w.PaperProps,(r=w.slotProps)==null?void 0:r.paper),Xt=h3();return f.jsxs(v.Fragment,{children:[f.jsx(tG,j({ref:fe,tabIndex:On,role:"combobox","aria-controls":Xt,"aria-disabled":h?"true":void 0,"aria-expanded":Je?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[g,Ce].filter(Boolean).join(" ")||void 0,"aria-describedby":s,onKeyDown:Le,onMouseDown:h||R?null:he,onBlur:et,onFocus:C},M,{ownerState:pe,className:xe(M.className,vt.select,c),id:Ce,children:sG(Te)?hC||(hC=f.jsx("span",{className:"notranslate",children:"​"})):Te})),f.jsx(rG,j({"aria-invalid":m,value:Array.isArray(D)?D.join(","):D,name:x,ref:W,"aria-hidden":!0,onChange:ht,tabIndex:-1,disabled:h,className:vt.nativeInput,autoFocus:o,ownerState:pe},k)),f.jsx(nG,{as:y,className:vt.icon,ownerState:pe}),f.jsx(Iq,j({id:`menu-${x||""}`,anchorEl:ae,open:Je,onClose:Ie,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:j({"aria-labelledby":g,role:"listbox","aria-multiselectable":_?"true":void 0,disableListWrap:!0,id:Xt},w.MenuListProps),slotProps:j({},w.slotProps,{paper:j({},Yt,{style:j({minWidth:on},Yt!=null?Yt.style:null)})}),children:yt}))]})}),aG=oG,lG=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],cG=["root"],uG=t=>{const{classes:e}=t;return e},k3={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Ar(t)&&t!=="variant",slot:"Root"},dG=le(ZR,k3)(""),hG=le(iA,k3)(""),fG=le(QR,k3)(""),oA=v.forwardRef(function(e,n){const r=Xe({name:"MuiSelect",props:e}),{autoWidth:s=!1,children:i,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=oz,id:d,input:h,inputProps:p,label:m,labelId:y,MenuProps:E,multiple:g=!1,native:w=!1,onClose:_,onOpen:x,open:S,renderValue:b,SelectDisplayProps:T,variant:C="outlined"}=r,A=ue(r,lG),I=w?Uq:aG,R=pu(),N=fu({props:r,muiFormControl:R,states:["variant","error"]}),M=N.variant||C,L=j({},r,{variant:M,classes:o}),O=uG(L),P=ue(O,cG),k=h||{standard:f.jsx(dG,{ownerState:L}),outlined:f.jsx(hG,{label:m,ownerState:L}),filled:f.jsx(fG,{ownerState:L})}[M],D=Ln(n,k.ref);return f.jsx(v.Fragment,{children:v.cloneElement(k,j({inputComponent:I,inputProps:j({children:i,error:N.error,IconComponent:u,variant:M,type:void 0,multiple:g},w?{id:d}:{autoWidth:s,defaultOpen:l,displayEmpty:c,labelId:y,MenuProps:E,onClose:_,onOpen:x,open:S,renderValue:b,SelectDisplayProps:j({id:d},T)},p,{classes:p?lr(P,p.classes):P},h?h.props.inputProps:{})},(g&&w||c)&&M==="outlined"?{notched:!0}:{},{ref:D,className:xe(k.props.className,a,O.root)},!h&&{variant:M},A))})});oA.muiName="Select";const aA=oA,pG=["anchor","classes","className","width","style"],mG=le("div",{shouldForwardProp:Ar})(({theme:t,ownerState:e})=>j({position:"fixed",top:0,left:0,bottom:0,zIndex:t.zIndex.drawer-1},e.anchor==="left"&&{right:"auto"},e.anchor==="right"&&{left:"auto",right:0},e.anchor==="top"&&{bottom:"auto",right:0},e.anchor==="bottom"&&{top:"auto",bottom:0,right:0})),gG=v.forwardRef(function(e,n){const{anchor:r,classes:s={},className:i,width:o,style:a}=e,l=ue(e,pG),c=e;return f.jsx(mG,j({className:xe("PrivateSwipeArea-root",s.root,s[`anchor${ie(r)}`],i),ref:n,style:j({[ga(r)?"width":"height"]:o},a),ownerState:c},l))}),yG=gG,vG=["BackdropProps"],_G=["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","allowSwipeInChildren","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"],d0=3,q1=20;let hi=null;function G1(t,e,n){return t==="right"?n.body.offsetWidth-e[0].pageX:e[0].pageX}function K1(t,e,n){return t==="bottom"?n.innerHeight-e[0].clientY:e[0].clientY}function Hu(t,e){return t?e.clientWidth:e.clientHeight}function pC(t,e,n,r){return Math.min(Math.max(n?e-t:r+e-t,0),r)}function wG(t,e){const n=[];for(;t&&t!==e.parentElement;){const r=jr(e).getComputedStyle(t);r.getPropertyValue("position")==="absolute"||r.getPropertyValue("overflow-x")==="hidden"||(t.clientWidth>0&&t.scrollWidth>t.clientWidth||t.clientHeight>0&&t.scrollHeight>t.clientHeight)&&n.push(t),t=t.parentElement}return n}function xG({domTreeShapes:t,start:e,current:n,anchor:r}){const s={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return t.some(i=>{let o=n>=e;(r==="top"||r==="left")&&(o=!o);const a=r==="left"||r==="right"?"x":"y",l=Math.round(i[s.scrollPosition[a]]),c=l>0,u=l+i[s.clientLength[a]]<i[s.scrollLength[a]];return!!(o&&u||!o&&c)})}const EG=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),bG=v.forwardRef(function(e,n){const r=Xe({name:"MuiSwipeableDrawer",props:e}),s=wl(),i={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{anchor:o="left",disableBackdropTransition:a=!1,disableDiscovery:l=!1,disableSwipeToOpen:c=EG,hideBackdrop:u,hysteresis:d=.52,allowSwipeInChildren:h=!1,minFlingVelocity:p=450,ModalProps:{BackdropProps:m}={},onClose:y,onOpen:E,open:g=!1,PaperProps:w={},SwipeAreaProps:_,swipeAreaWidth:x=20,transitionDuration:S=i,variant:b="temporary"}=r,T=ue(r.ModalProps,vG),C=ue(r,_G),[A,I]=v.useState(!1),R=v.useRef({isSwiping:null}),N=v.useRef(),M=v.useRef(),L=v.useRef(),O=Ln(w.ref,L),P=v.useRef(!1),k=v.useRef();li(()=>{k.current=null},[g]);const D=v.useCallback((z,B={})=>{const{mode:V=null,changeTransition:G=!0}=B,ne=ud(s,o),re=["right","bottom"].indexOf(ne)!==-1?1:-1,te=ga(o),fe=te?`translate(${re*z}px, 0)`:`translate(0, ${re*z}px)`,ae=L.current.style;ae.webkitTransform=fe,ae.transform=fe;let se="";if(V&&(se=s.transitions.create("all",Ja({easing:void 0,style:void 0,timeout:S},{mode:V}))),G&&(ae.webkitTransition=se,ae.transition=se),!a&&!u){const he=M.current.style;he.opacity=1-z/Hu(te,L.current),G&&(he.webkitTransition=se,he.transition=se)}},[o,a,u,s,S]),$=Ei(z=>{if(!P.current)return;if(hi=null,P.current=!1,lh.flushSync(()=>{I(!1)}),!R.current.isSwiping){R.current.isSwiping=null;return}R.current.isSwiping=null;const B=ud(s,o),V=ga(o);let G;V?G=G1(B,z.changedTouches,An(z.currentTarget)):G=K1(B,z.changedTouches,jr(z.currentTarget));const ne=V?R.current.startX:R.current.startY,re=Hu(V,L.current),te=pC(G,ne,g,re),fe=te/re;if(Math.abs(R.current.velocity)>p&&(k.current=Math.abs((re-te)/R.current.velocity)*1e3),g){R.current.velocity>p||fe>d?y():D(0,{mode:"exit"});return}R.current.velocity<-p||1-fe>d?E():D(Hu(V,L.current),{mode:"enter"})}),F=(z=!1)=>{if(!A){(z||!(l&&h))&&lh.flushSync(()=>{I(!0)});const B=ga(o);!g&&L.current&&D(Hu(B,L.current)+(l?15:-q1),{changeTransition:!1}),R.current.velocity=0,R.current.lastTime=null,R.current.lastTranslate=null,R.current.paperHit=!1,P.current=!0}},q=Ei(z=>{if(!L.current||!P.current||hi!==null&&hi!==R.current)return;F(!0);const B=ud(s,o),V=ga(o),G=G1(B,z.touches,An(z.currentTarget)),ne=K1(B,z.touches,jr(z.currentTarget));if(g&&L.current.contains(z.target)&&hi===null){const se=wG(z.target,L.current);if(xG({domTreeShapes:se,start:V?R.current.startX:R.current.startY,current:V?G:ne,anchor:o})){hi=!0;return}hi=R.current}if(R.current.isSwiping==null){const se=Math.abs(G-R.current.startX),he=Math.abs(ne-R.current.startY),Ie=V?se>he&&se>d0:he>se&&he>d0;if(Ie&&z.cancelable&&z.preventDefault(),Ie===!0||(V?he>d0:se>d0)){if(R.current.isSwiping=Ie,!Ie){$(z);return}R.current.startX=G,R.current.startY=ne,!l&&!g&&(V?R.current.startX-=q1:R.current.startY-=q1)}}if(!R.current.isSwiping)return;const re=Hu(V,L.current);let te=V?R.current.startX:R.current.startY;g&&!R.current.paperHit&&(te=Math.min(te,re));const fe=pC(V?G:ne,te,g,re);if(g)if(R.current.paperHit)fe===0&&(R.current.startX=G,R.current.startY=ne);else if(V?G<re:ne<re)R.current.paperHit=!0,R.current.startX=G,R.current.startY=ne;else return;R.current.lastTranslate===null&&(R.current.lastTranslate=fe,R.current.lastTime=performance.now()+1);const ae=(fe-R.current.lastTranslate)/(performance.now()-R.current.lastTime)*1e3;R.current.velocity=R.current.velocity*.4+ae*.6,R.current.lastTranslate=fe,R.current.lastTime=performance.now(),z.cancelable&&z.preventDefault(),D(fe)}),W=Ei(z=>{if(z.defaultPrevented||z.defaultMuiPrevented||g&&(u||!M.current.contains(z.target))&&!L.current.contains(z.target))return;const B=ud(s,o),V=ga(o),G=G1(B,z.touches,An(z.currentTarget)),ne=K1(B,z.touches,jr(z.currentTarget));if(!g){var re;if(c||!(z.target===N.current||(re=L.current)!=null&&re.contains(z.target)&&(typeof h=="function"?h(z,N.current,L.current):h)))return;if(V){if(G>x)return}else if(ne>x)return}z.defaultMuiPrevented=!0,hi=null,R.current.startX=G,R.current.startY=ne,F()});return v.useEffect(()=>{if(b==="temporary"){const z=An(L.current);return z.addEventListener("touchstart",W),z.addEventListener("touchmove",q,{passive:!g}),z.addEventListener("touchend",$),()=>{z.removeEventListener("touchstart",W),z.removeEventListener("touchmove",q,{passive:!g}),z.removeEventListener("touchend",$)}}},[b,g,W,q,$]),v.useEffect(()=>()=>{hi===R.current&&(hi=null)},[]),v.useEffect(()=>{g||I(!1)},[g]),f.jsxs(v.Fragment,{children:[f.jsx($W,j({open:b==="temporary"&&A?!0:g,variant:b,ModalProps:j({BackdropProps:j({},m,{ref:M})},b==="temporary"&&{keepMounted:!0},T),hideBackdrop:u,PaperProps:j({},w,{style:j({pointerEvents:b==="temporary"&&!g&&!h?"none":""},w.style),ref:O}),anchor:o,transitionDuration:k.current||S,onClose:y,ref:n},C)),!c&&b==="temporary"&&f.jsx(Bq,{children:f.jsx(yG,j({anchor:o,ref:N,width:x},_))})]})}),CG=bG;function IG(t){return Ye("MuiToolbar",t)}Be("MuiToolbar",["root","gutters","regular","dense"]);const TG=["className","component","disableGutters","variant"],SG=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Ze({root:["root",!n&&"gutters",r]},IG,e)},RG=le("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>j({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),AG=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiToolbar"}),{className:s,component:i="div",disableGutters:o=!1,variant:a="regular"}=r,l=ue(r,TG),c=j({},r,{component:i,disableGutters:o,variant:a}),u=SG(c);return f.jsx(RG,j({as:i,className:xe(u.root,s),ref:n,ownerState:c},l))}),lA=AG;function kG(t){return Ye("MuiTextField",t)}Be("MuiTextField",["root"]);const PG=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],NG={standard:ZR,filled:QR,outlined:iA},LG=t=>{const{classes:e}=t;return Ze({root:["root"]},kG,e)},MG=le(GW,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),DG=v.forwardRef(function(e,n){const r=Xe({props:e,name:"MuiTextField"}),{autoComplete:s,autoFocus:i=!1,children:o,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:m,id:y,InputLabelProps:E,inputProps:g,InputProps:w,inputRef:_,label:x,maxRows:S,minRows:b,multiline:T=!1,name:C,onBlur:A,onChange:I,onFocus:R,placeholder:N,required:M=!1,rows:L,select:O=!1,SelectProps:P,type:k,value:D,variant:$="outlined"}=r,F=ue(r,PG),q=j({},r,{autoFocus:i,color:l,disabled:u,error:d,fullWidth:p,multiline:T,required:M,select:O,variant:$}),W=LG(q),z={};$==="outlined"&&(E&&typeof E.shrink<"u"&&(z.notched=E.shrink),z.label=x),O&&((!P||!P.native)&&(z.id=void 0),z["aria-describedby"]=void 0);const B=h3(y),V=m&&B?`${B}-helper-text`:void 0,G=x&&B?`${B}-label`:void 0,ne=NG[$],re=f.jsx(ne,j({"aria-describedby":V,autoComplete:s,autoFocus:i,defaultValue:c,fullWidth:p,multiline:T,name:C,rows:L,maxRows:S,minRows:b,type:k,value:D,id:B,inputRef:_,onBlur:A,onChange:I,onFocus:R,placeholder:N,inputProps:g},z,w));return f.jsxs(MG,j({className:xe(W.root,a),disabled:u,error:d,fullWidth:p,ref:n,required:M,color:l,variant:$,ownerState:q},F,{children:[x!=null&&x!==""&&f.jsx($H,j({htmlFor:B,id:G},E,{children:x})),O?f.jsx(aA,j({"aria-describedby":V,id:B,labelId:G,value:D,input:re},P,{children:o})):re,m&&f.jsx(tH,j({id:V},h,{children:m}))]}))}),vi=DG,cA=({title:t,text:e})=>{const{isLogin:n,theme:r,headerTitle:s,setHeaderTitle:i}=v.useContext(X),o=wn();return v.useEffect(()=>(i("STAR EDUCATION ACADEMY"),()=>{document.title=s}),[]),f.jsxs("div",{className:"grid p-5 gap-y-2",children:[e&&f.jsx(yn,{variant:"subtitle2",children:e}),f.jsx("div",{children:f.jsx(He,{onClick:()=>o(n?"/app":"/login"),startIcon:f.jsx("img",{className:"size-7",src:Ae("redo")}),children:"Return Home"})})]})},nn=({data:t})=>{const{clickFn:e,image:n}=t,r=Ae(n),{theme:s}=v.useContext(X),i=()=>{e&&e()};return f.jsx("button",{onClick:i,className:`shadow-md border  rounded-full p-2 h-10 w-10  font-medium flex  justify-center items-center hover:opacity-70 transition-all ${s==="light"?"bg-gray-50/50 border-gray-200":"bg-slate-500/70 text-white border-slate-500/70"}`,children:f.jsx("img",{src:r})})};/*! js-cookie v3.0.5 | MIT */function h0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var OG={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Fv(t,e){function n(s,i,o){if(!(typeof document>"u")){o=h0({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=s+"="+t.write(i,s)+a}}function r(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var i=document.cookie?document.cookie.split("; "):[],o={},a=0;a<i.length;a++){var l=i[a].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(o[u]=t.read(c,u),s===u)break}catch{}}return s?o[s]:o}}return Object.create({set:n,get:r,remove:function(s,i){n(s,"",h0({},i,{expires:-1}))},withAttributes:function(s){return Fv(this.converter,h0({},this.attributes,s))},withConverter:function(s){return Fv(h0({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var bi=Fv(OG,{path:"/"}),mC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z=function(t,e){if(!t)throw gu(e)},gu=function(t){return new Error("Firebase Database ("+uA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},$G=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},P3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$G(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new jG;const h=i<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hA=function(t){const e=dA(t);return P3.encodeByteArray(e,!0)},qp=function(t){return hA(t).replace(/\./g,"")},Gp=function(t){try{return P3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FG(t){return fA(void 0,t)}function fA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!VG(n)||(t[n]=fA(t[n],e[n]));return t}function VG(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BG=()=>UG().__FIREBASE_DEFAULTS__,zG=()=>{if(typeof process>"u"||typeof mC>"u")return;const t=mC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Gp(t[1]);return e&&JSON.parse(e)},Qm=()=>{try{return BG()||zG()||WG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pA=t=>{var e,n;return(n=(e=Qm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},N3=t=>{const e=pA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mA=()=>{var t;return(t=Qm())===null||t===void 0?void 0:t.config},gA=t=>{var e;return(e=Qm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[qp(JSON.stringify(n)),qp(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function HG(){var t;const e=(t=Qm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qG(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GG(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vA(){return uA.NODE_ADMIN===!0}function _A(){return!HG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wA(){try{return typeof indexedDB=="object"}catch{return!1}}function KG(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QG="FirebaseError";class ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QG,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,af.prototype.create)}}class af{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?YG(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ui(s,a,r)}}function YG(t,e){return t.replace(XG,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const XG=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t){return JSON.parse(t)}function Rn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=yh(Gp(i[0])||""),n=yh(Gp(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},JG=function(t){const e=xA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},ZG=function(t){const e=xA(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function zc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Vv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kp(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function vh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(gC(i)&&gC(o)){if(!vh(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function gC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function hd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):d<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const h=(s<<5|s>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function tK(t,e){const n=new nK(t,e);return n.subscribe.bind(n)}class nK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rK(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Q1),s.error===void 0&&(s.error=Q1),s.complete===void 0&&(s.complete=Q1);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Q1(){}function sK(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,Z(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Ym=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t){return t&&t._delegate?t._delegate:t}class Oi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new L3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lK(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aK(t){return t===fa?void 0:t}function lK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const uK={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},dK=Fe.INFO,hK={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},fK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=hK[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xm{constructor(e){this.name=e,this._logLevel=dK,this._logHandler=fK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const pK=(t,e)=>e.some(n=>t instanceof n);let yC,vC;function mK(){return yC||(yC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gK(){return vC||(vC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EA=new WeakMap,Uv=new WeakMap,bA=new WeakMap,Y1=new WeakMap,O3=new WeakMap;function yK(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(To(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&EA.set(n,t)}).catch(()=>{}),O3.set(e,t),e}function vK(t){if(Uv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Uv.set(t,e)}let Bv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return To(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _K(t){Bv=t(Bv)}function wK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(X1(this),e,...n);return bA.set(r,e.sort?e.sort():[e]),To(r)}:gK().includes(t)?function(...e){return t.apply(X1(this),e),To(EA.get(this))}:function(...e){return To(t.apply(X1(this),e))}}function xK(t){return typeof t=="function"?wK(t):(t instanceof IDBTransaction&&vK(t),pK(t,mK())?new Proxy(t,Bv):t)}function To(t){if(t instanceof IDBRequest)return yK(t);if(Y1.has(t))return Y1.get(t);const e=xK(t);return e!==t&&(Y1.set(t,e),O3.set(e,t)),e}const X1=t=>O3.get(t);function EK(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=To(o);return r&&o.addEventListener("upgradeneeded",l=>{r(To(o.result),l.oldVersion,l.newVersion,To(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const bK=["get","getKey","getAll","getAllKeys","count"],CK=["put","add","delete","clear"],J1=new Map;function _C(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(J1.get(e))return J1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=CK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||bK.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return J1.set(e,i),i}_K(t=>({...t,get:(e,n,r)=>_C(e,n)||t.get(e,n,r),has:(e,n)=>!!_C(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zv="@firebase/app",wC="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=new Xm("@firebase/app"),SK="@firebase/app-compat",RK="@firebase/analytics-compat",AK="@firebase/analytics",kK="@firebase/app-check-compat",PK="@firebase/app-check",NK="@firebase/auth",LK="@firebase/auth-compat",MK="@firebase/database",DK="@firebase/database-compat",OK="@firebase/functions",$K="@firebase/functions-compat",jK="@firebase/installations",FK="@firebase/installations-compat",VK="@firebase/messaging",UK="@firebase/messaging-compat",BK="@firebase/performance",zK="@firebase/performance-compat",WK="@firebase/remote-config",HK="@firebase/remote-config-compat",qK="@firebase/storage",GK="@firebase/storage-compat",KK="@firebase/firestore",QK="@firebase/firestore-compat",YK="firebase",XK="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="[DEFAULT]",JK={[zv]:"fire-core",[SK]:"fire-core-compat",[AK]:"fire-analytics",[RK]:"fire-analytics-compat",[PK]:"fire-app-check",[kK]:"fire-app-check-compat",[NK]:"fire-auth",[LK]:"fire-auth-compat",[MK]:"fire-rtdb",[DK]:"fire-rtdb-compat",[OK]:"fire-fn",[$K]:"fire-fn-compat",[jK]:"fire-iid",[FK]:"fire-iid-compat",[VK]:"fire-fcm",[UK]:"fire-fcm-compat",[BK]:"fire-perf",[zK]:"fire-perf-compat",[WK]:"fire-rc",[HK]:"fire-rc-compat",[qK]:"fire-gcs",[GK]:"fire-gcs-compat",[KK]:"fire-fst",[QK]:"fire-fst-compat","fire-js":"fire-js",[YK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=new Map,Hv=new Map;function ZK(t,e){try{t.container.addComponent(e)}catch(n){Za.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Mo(t){const e=t.name;if(Hv.has(e))return Za.debug(`There were multiple attempts to register component ${e}.`),!1;Hv.set(e,t);for(const n of Qp.values())ZK(n,t);return!0}function lf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},So=new af("app","Firebase",eQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tQ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw So.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=XK;function CA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Wv,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw So.create("bad-app-name",{appName:String(s)});if(n||(n=mA()),!n)throw So.create("no-options");const i=Qp.get(s);if(i){if(vh(n,i.options)&&vh(r,i.config))return i;throw So.create("duplicate-app",{appName:s})}const o=new cK(s);for(const l of Hv.values())o.addComponent(l);const a=new tQ(n,r,o);return Qp.set(s,a),a}function Jm(t=Wv){const e=Qp.get(t);if(!e&&t===Wv&&mA())return CA();if(!e)throw So.create("no-app",{appName:t});return e}function os(t,e,n){var r;let s=(r=JK[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Za.warn(a.join(" "));return}Mo(new Oi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nQ="firebase-heartbeat-database",rQ=1,_h="firebase-heartbeat-store";let Z1=null;function IA(){return Z1||(Z1=EK(nQ,rQ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_h)}catch(n){console.warn(n)}}}}).catch(t=>{throw So.create("idb-open",{originalErrorMessage:t.message})})),Z1}async function sQ(t){try{const n=(await IA()).transaction(_h),r=await n.objectStore(_h).get(TA(t));return await n.done,r}catch(e){if(e instanceof ui)Za.warn(e.message);else{const n=So.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Za.warn(n.message)}}}async function xC(t,e){try{const r=(await IA()).transaction(_h,"readwrite");await r.objectStore(_h).put(e,TA(t)),await r.done}catch(n){if(n instanceof ui)Za.warn(n.message);else{const r=So.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Za.warn(r.message)}}}function TA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iQ=1024,oQ=30*24*60*60*1e3;class aQ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cQ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=EC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=oQ}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=EC(),{heartbeatsToSend:r,unsentEntries:s}=lQ(this._heartbeatsCache.heartbeats),i=qp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function EC(){return new Date().toISOString().substring(0,10)}function lQ(t,e=iQ){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),bC(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),bC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wA()?KG().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sQ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return xC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return xC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function bC(t){return qp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(t){Mo(new Oi("platform-logger",e=>new IK(e),"PRIVATE")),Mo(new Oi("heartbeat",e=>new aQ(e),"PRIVATE")),os(zv,wC,t),os(zv,wC,"esm2017"),os("fire-js","")}uQ("");var dQ="firebase",hQ="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os(dQ,hQ,"app");var wr=function(){return wr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},wr.apply(this,arguments)};function $3(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function wh(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function SA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fQ=SA,RA=new af("auth","Firebase",SA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp=new Xm("@firebase/auth");function pQ(t,...e){Yp.logLevel<=Fe.WARN&&Yp.warn(`Auth (${Qo}): ${t}`,...e)}function K0(t,...e){Yp.logLevel<=Fe.ERROR&&Yp.error(`Auth (${Qo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,...e){throw j3(t,...e)}function oi(t,...e){return j3(t,...e)}function AA(t,e,n){const r=Object.assign(Object.assign({},fQ()),{[e]:n});return new af("auth","Firebase",r).create(e,{appName:t.name})}function mQ(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&fs(t,"argument-error"),AA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function j3(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return RA.create(t,...e)}function Se(t,e,...n){if(!t)throw j3(e,...n)}function Ci(t){const e="INTERNAL ASSERTION FAILED: "+t;throw K0(e),new Error(e)}function $i(t,e){t||Ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gQ(){return CC()==="http:"||CC()==="https:"}function CC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yQ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gQ()||qG()||"connection"in navigator)?navigator.onLine:!0}function vQ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n){this.shortDelay=e,this.longDelay=n,$i(n>e,"Short delay should be less than long delay!"),this.isMobile=D3()||yA()}get(){return yQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(t,e){$i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Q={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wQ=new cf(3e4,6e4);function Yo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xo(t,e,n,r,s={}){return PA(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=yu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),kA.fetch()(NA(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function PA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_Q),e);try{const s=new EQ(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw f0(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw f0(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw f0(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw f0(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw AA(t,u,c);fs(t,u)}}catch(s){if(s instanceof ui)throw s;fs(t,"network-request-failed",{message:String(s)})}}async function uf(t,e,n,r,s={}){const i=await Xo(t,e,n,r,s);return"mfaPendingCredential"in i&&fs(t,"multi-factor-auth-required",{_serverResponse:i}),i}function NA(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?F3(t.config,s):`${t.config.apiScheme}://${s}`}function xQ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EQ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oi(this.auth,"network-request-failed")),wQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function f0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=oi(t,e,r);return s.customData._tokenResponse=n,s}function IC(t){return t!==void 0&&t.enterprise!==void 0}class bQ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return xQ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function CQ(t,e){return Xo(t,"GET","/v2/recaptchaConfig",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IQ(t,e){return Xo(t,"POST","/v1/accounts:delete",e)}async function TQ(t,e){return Xo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SQ(t,e=!1){const n=xt(t),r=await n.getIdToken(e),s=V3(r);Se(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ld(ey(s.auth_time)),issuedAtTime:Ld(ey(s.iat)),expirationTime:Ld(ey(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ey(t){return Number(t)*1e3}function V3(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return K0("JWT malformed, contained fewer than 3 sections"),null;try{const s=Gp(n);return s?JSON.parse(s):(K0("Failed to decode base64 JWT payload"),null)}catch(s){return K0("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function RQ(t){const e=V3(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ui&&AQ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function AQ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ld(this.lastLoginAt),this.creationTime=Ld(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await xh(t,TQ(n,{idToken:r}));Se(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?LQ(i.providerUserInfo):[],a=NQ(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new LA(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function PQ(t){const e=xt(t);await Xp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NQ(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function LQ(t){return t.map(e=>{var{providerId:n}=e,r=$3(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MQ(t,e){const n=await PA(t,{},async()=>{const r=yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=NA(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function DQ(t,e){return Xo(t,"POST","/v2/accounts:revokeToken",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RQ(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Se(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await MQ(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Eh;return r&&(Se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Se(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Se(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eh,this.toJSON())}_performRefresh(){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Da{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=$3(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new LA(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await xh(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SQ(this,e)}reload(){return PQ(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Da(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await xh(this,IQ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:x,isAnonymous:S,providerData:b,stsTokenManager:T}=n;Se(_&&T,e,"internal-error");const C=Eh.fromJSON(this.name,T);Se(typeof _=="string",e,"internal-error"),Yi(d,e.name),Yi(h,e.name),Se(typeof x=="boolean",e,"internal-error"),Se(typeof S=="boolean",e,"internal-error"),Yi(p,e.name),Yi(m,e.name),Yi(y,e.name),Yi(E,e.name),Yi(g,e.name),Yi(w,e.name);const A=new Da({uid:_,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:S,photoURL:m,phoneNumber:p,tenantId:y,stsTokenManager:C,createdAt:g,lastLoginAt:w});return b&&Array.isArray(b)&&(A.providerData=b.map(I=>Object.assign({},I))),E&&(A._redirectEventId=E),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new Eh;s.updateFromServerResponse(n);const i=new Da({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Xp(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=new Map;function Ii(t){$i(t instanceof Function,"Expected a class definition");let e=TC.get(t);return e?($i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MA.type="NONE";const SC=MA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t,e,n){return`firebase:${t}:${e}:${n}`}class Cc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Q0(this.userKey,s.apiKey,i),this.fullPersistenceKey=Q0("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Da._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cc(Ii(SC),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Ii(SC);const o=Q0(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Da._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Cc(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Cc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($A(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FA(e))return"Blackberry";if(VA(e))return"Webos";if(U3(e))return"Safari";if((e.includes("chrome/")||OA(e))&&!e.includes("edge/"))return"Chrome";if(jA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function DA(t=sn()){return/firefox\//i.test(t)}function U3(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OA(t=sn()){return/crios\//i.test(t)}function $A(t=sn()){return/iemobile/i.test(t)}function jA(t=sn()){return/android/i.test(t)}function FA(t=sn()){return/blackberry/i.test(t)}function VA(t=sn()){return/webos/i.test(t)}function Zm(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function OQ(t=sn()){var e;return Zm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $Q(){return GG()&&document.documentMode===10}function UA(t=sn()){return Zm(t)||jA(t)||VA(t)||FA(t)||/windows phone/i.test(t)||$A(t)}function jQ(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t,e=[]){let n;switch(t){case"Browser":n=RC(sn());break;case"Worker":n=`${RC(sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VQ(t,e={}){return Xo(t,"GET","/v2/passwordPolicy",Yo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UQ=6;class BQ{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:UQ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zQ{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AC(this),this.idTokenSubscription=new AC(this),this.beforeStateQueue=new FQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ii(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Cc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vQ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?xt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VQ(this),n=new BQ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new af("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await DQ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ii(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Cc.create(this,[Ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&pQ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Jo(t){return xt(t)}class AC{constructor(e){this.auth=e,this.observer=null,this.addObserver=tK(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WQ(t){eg=t}function zA(t){return eg.loadJS(t)}function HQ(){return eg.recaptchaEnterpriseScript}function qQ(){return eg.gapiScript}function GQ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const KQ="recaptcha-enterprise",QQ="NO_RECAPTCHA";class YQ{constructor(e){this.type=KQ,this.auth=Jo(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{CQ(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new bQ(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;IC(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(QQ)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&IC(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=HQ();l.length!==0&&(l+=a),zA(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function kC(t,e,n,r=!1){const s=new YQ(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Gv(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await kC(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await kC(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XQ(t,e){const n=lf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(vh(i,e??{}))return s;fs(s,"already-initialized")}return n.initialize({options:e})}function JQ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ii);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ZQ(t,e,n){const r=Jo(t);Se(r._canInitEmulator,r,"emulator-config-failed"),Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=WA(e),{host:o,port:a}=eY(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||tY()}function WA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eY(t){const e=WA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:PC(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:PC(o)}}}function PC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tY(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ci("not implemented")}_getIdTokenResponse(e){return Ci("not implemented")}_linkToIdToken(e,n){return Ci("not implemented")}_getReauthenticationResolver(e){return Ci("not implemented")}}async function nY(t,e){return Xo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rY(t,e){return uf(t,"POST","/v1/accounts:signInWithPassword",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sY(t,e){return uf(t,"POST","/v1/accounts:signInWithEmailLink",Yo(t,e))}async function iY(t,e){return uf(t,"POST","/v1/accounts:signInWithEmailLink",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends B3{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new bh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new bh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gv(e,n,"signInWithPassword",rY);case"emailLink":return sY(e,{email:this._email,oobCode:this._password});default:fs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gv(e,r,"signUpPassword",nY);case"emailLink":return iY(e,{idToken:n,email:this._email,oobCode:this._password});default:fs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(t,e){return uf(t,"POST","/v1/accounts:signInWithIdp",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oY="http://localhost";class el extends B3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new el(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=$3(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new el(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ic(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ic(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ic(e,n)}buildRequest(){const e={requestUri:oY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aY(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lY(t){const e=dd(hd(t)).link,n=e?dd(hd(e)).deep_link_id:null,r=dd(hd(t)).deep_link_id;return(r?dd(hd(r)).link:null)||r||n||e||t}class z3{constructor(e){var n,r,s,i,o,a;const l=dd(hd(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=aY((s=l.mode)!==null&&s!==void 0?s:null);Se(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=lY(e);try{return new z3(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(){this.providerId=vu.PROVIDER_ID}static credential(e,n){return bh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=z3.parseLink(n);return Se(r,"argument-error"),bh._fromEmailAndCode(e,r.code,r.tenantId)}}vu.PROVIDER_ID="password";vu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends W3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends df{constructor(){super("facebook.com")}static credential(e){return el._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.FACEBOOK_SIGN_IN_METHOD="facebook.com";so.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends df{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return el._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _i.credential(n,r)}catch{return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com";_i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends df{constructor(){super("github.com")}static credential(e){return el._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.GITHUB_SIGN_IN_METHOD="github.com";io.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends df{constructor(){super("twitter.com")}static credential(e,n){return el._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oo.credential(n,r)}catch{return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cY(t,e){return uf(t,"POST","/v1/accounts:signUp",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Da._fromIdTokenResponse(e,r,s),o=NC(r);return new tl({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=NC(r);return new tl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function NC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp extends ui{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Jp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Jp(e,n,r,s)}}function HA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Jp._fromErrorAndOperation(t,i,e,r):i})}async function uY(t,e,n=!1){const r=await xh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return tl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dY(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await xh(t,HA(r,s,e,t),n);Se(i.idToken,r,"internal-error");const o=V3(i.idToken);Se(o,r,"internal-error");const{sub:a}=o;return Se(t.uid===a,r,"user-mismatch"),tl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&fs(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qA(t,e,n=!1){const r="signIn",s=await HA(t,r,e),i=await tl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function hY(t,e){return qA(Jo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GA(t){const e=Jo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fY(t,e,n){const r=Jo(t),o=await Gv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cY).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&GA(t),l}),a=await tl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function pY(t,e,n){return hY(xt(t),vu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&GA(t),r})}function mY(t,e,n,r){return xt(t).onIdTokenChanged(e,n,r)}function gY(t,e,n){return xt(t).beforeAuthStateChanged(e,n)}function KA(t){return xt(t).signOut()}const Zp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zp,"1"),this.storage.removeItem(Zp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yY(){const t=sn();return U3(t)||Zm(t)}const vY=1e3,_Y=10;class YA extends QA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=yY()&&jQ(),this.fallbackToPolling=UA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);$Q()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,_Y):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YA.type="LOCAL";const wY=YA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA extends QA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XA.type="SESSION";const JA=XA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new tg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await xY(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EY=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=H3("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function bY(t){ai().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function CY(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IY(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TY(){return ZA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9="firebaseLocalStorageDb",SY=1,e2="firebaseLocalStorage",t9="fbase_key";class hf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ng(t,e){return t.transaction([e2],e?"readwrite":"readonly").objectStore(e2)}function RY(){const t=indexedDB.deleteDatabase(e9);return new hf(t).toPromise()}function Kv(){const t=indexedDB.open(e9,SY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(e2,{keyPath:t9})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(e2)?e(r):(r.close(),await RY(),e(await Kv()))})})}async function LC(t,e,n){const r=ng(t,!0).put({[t9]:e,value:n});return new hf(r).toPromise()}async function AY(t,e){const n=ng(t,!1).get(e),r=await new hf(n).toPromise();return r===void 0?null:r.value}function MC(t,e){const n=ng(t,!0).delete(e);return new hf(n).toPromise()}const kY=800,PY=3;class n9{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>PY)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tg._getInstance(TY()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await CY(),!this.activeServiceWorker)return;this.sender=new EY(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kv();return await LC(e,Zp,"1"),await MC(e,Zp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>LC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>AY(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>MC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ng(s,!1).getAll();return new hf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n9.type="LOCAL";const NY=n9;new cf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(t,e){return e?Ii(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3 extends B3{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ic(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ic(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ic(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LY(t){return qA(t.auth,new q3(t),t.bypassAuthState)}function MY(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),dY(n,new q3(t),t.bypassAuthState)}async function DY(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),uY(n,new q3(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LY;case"linkViaPopup":case"linkViaRedirect":return DY;case"reauthViaPopup":case"reauthViaRedirect":return MY;default:fs(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OY=new cf(2e3,1e4);async function $Y(t,e,n){const r=Jo(t);mQ(t,e,W3);const s=r9(r,n);return new Ia(r,"signInViaPopup",e,s).executeNotNull()}class Ia extends s9{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ia.currentPopupAction&&Ia.currentPopupAction.cancel(),Ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const e=H3();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OY.get())};e()}}Ia.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jY="pendingRedirect",Y0=new Map;class FY extends s9{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Y0.get(this.auth._key());if(!e){try{const r=await VY(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Y0.set(this.auth._key(),e)}return this.bypassAuthState||Y0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VY(t,e){const n=zY(e),r=BY(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function UY(t,e){Y0.set(t._key(),e)}function BY(t){return Ii(t._redirectPersistence)}function zY(t){return Q0(jY,t.config.apiKey,t.name)}async function WY(t,e,n=!1){const r=Jo(t),s=r9(r,e),o=await new FY(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HY=10*60*1e3;class qY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GY(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!i9(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(oi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HY&&this.cachedEventUids.clear(),this.cachedEventUids.has(DC(e))}saveEventToCache(e){this.cachedEventUids.add(DC(e)),this.lastProcessedEventTime=Date.now()}}function DC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function i9({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i9(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KY(t,e={}){return Xo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YY=/^https?/;async function XY(t){if(t.config.emulator)return;const{authorizedDomains:e}=await KY(t);for(const n of e)try{if(JY(n))return}catch{}fs(t,"unauthorized-domain")}function JY(t){const e=qv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!YY.test(n))return!1;if(QY.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZY=new cf(3e4,6e4);function OC(){const t=ai().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eX(t){return new Promise((e,n)=>{var r,s,i;function o(){OC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OC(),n(oi(t,"network-request-failed"))},timeout:ZY.get()})}if(!((s=(r=ai().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ai().gapi)===null||i===void 0)&&i.load)o();else{const a=GQ("iframefcb");return ai()[a]=()=>{gapi.load?o():n(oi(t,"network-request-failed"))},zA(`${qQ()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw X0=null,e})}let X0=null;function tX(t){return X0=X0||eX(t),X0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nX=new cf(5e3,15e3),rX="__/auth/iframe",sX="emulator/auth/iframe",iX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aX(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?F3(e,sX):`https://${t.config.authDomain}/${rX}`,r={apiKey:e.apiKey,appName:t.name,v:Qo},s=oX.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${yu(r).slice(1)}`}async function lX(t){const e=await tX(t),n=ai().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:aX(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iX,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=oi(t,"network-request-failed"),a=ai().setTimeout(()=>{i(o)},nX.get());function l(){ai().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uX=500,dX=600,hX="_blank",fX="http://localhost";class $C{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pX(t,e,n,r=uX,s=dX){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},cX),{width:r.toString(),height:s.toString(),top:i,left:o}),c=sn().toLowerCase();n&&(a=OA(c)?hX:n),DA(c)&&(e=e||fX,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(OQ(c)&&a!=="_self")return mX(e||"",a),new $C(null);const d=window.open(e||"",a,u);Se(d,t,"popup-blocked");try{d.focus()}catch{}return new $C(d)}function mX(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gX="__/auth/handler",yX="emulator/auth/handler",vX=encodeURIComponent("fac");async function jC(t,e,n,r,s,i){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qo,eventId:s};if(e instanceof W3){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Vv(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(i||{}))o[u]=d}if(e instanceof df){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${vX}=${encodeURIComponent(l)}`:"";return`${_X(t)}?${yu(a).slice(1)}${c}`}function _X({config:t}){return t.emulator?F3(t,yX):`https://${t.authDomain}/${gX}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="webStorageSupport";class wX{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JA,this._completeRedirectFn=WY,this._overrideRedirectResult=UY}async _openPopup(e,n,r,s){var i;$i((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await jC(e,n,r,qv(),s);return pX(e,o,H3())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await jC(e,n,r,qv(),s);return bY(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):($i(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lX(e),r=new qY(e);return n.register("authEvent",s=>(Se(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ty,{type:ty},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[ty];o!==void 0&&n(!!o),fs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XY(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return UA()||U3()||Zm()}}const xX=wX;var FC="@firebase/auth",VC="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CX(t){Mo(new Oi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BA(t)},c=new zQ(r,s,i,l);return JQ(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Mo(new Oi("auth-internal",e=>{const n=Jo(e.getProvider("auth").getImmediate());return(r=>new EX(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),os(FC,VC,bX(t)),os(FC,VC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IX=5*60,TX=gA("authIdTokenMaxAge")||IX;let UC=null;const SX=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>TX)return;const s=n==null?void 0:n.token;UC!==s&&(UC=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function RX(t=Jm()){const e=lf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=XQ(t,{popupRedirectResolver:xX,persistence:[NY,wY,JA]}),r=gA("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const i=SX(r);gY(n,i,()=>i(n.currentUser)),mY(n,o=>i(o))}const s=pA("auth");return s&&ZQ(n,`http://${s}`),n}function AX(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}WQ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=oi("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",AX().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CX("Browser");var kX=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ee,G3=G3||{},ke=kX||self;function rg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ff(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function PX(t){return Object.prototype.hasOwnProperty.call(t,ny)&&t[ny]||(t[ny]=++NX)}var ny="closure_uid_"+(1e9*Math.random()>>>0),NX=0;function LX(t,e,n){return t.call.apply(t.bind,arguments)}function MX(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Qn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Qn=LX:Qn=MX,Qn.apply(null,arguments)}function p0(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function En(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Zo(){this.s=this.s,this.o=this.o}var DX=0;Zo.prototype.s=!1;Zo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),DX!=0)&&PX(this)};Zo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const o9=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function K3(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function BC(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(rg(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Yn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Yn.prototype.h=function(){this.defaultPrevented=!0};var OX=function(){if(!ke.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ke.addEventListener("test",n,e),ke.removeEventListener("test",n,e)}catch{}return t}();function Ch(t){return/^[\s\xa0]*$/.test(t)}function sg(){var t=ke.navigator;return t&&(t=t.userAgent)?t:""}function Qs(t){return sg().indexOf(t)!=-1}function Q3(t){return Q3[" "](t),t}Q3[" "]=function(){};function $X(t,e){var n=AJ;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var jX=Qs("Opera"),Wc=Qs("Trident")||Qs("MSIE"),a9=Qs("Edge"),Qv=a9||Wc,l9=Qs("Gecko")&&!(sg().toLowerCase().indexOf("webkit")!=-1&&!Qs("Edge"))&&!(Qs("Trident")||Qs("MSIE"))&&!Qs("Edge"),FX=sg().toLowerCase().indexOf("webkit")!=-1&&!Qs("Edge");function c9(){var t=ke.document;return t?t.documentMode:void 0}var Yv;e:{var ry="",sy=function(){var t=sg();if(l9)return/rv:([^\);]+)(\)|;)/.exec(t);if(a9)return/Edge\/([\d\.]+)/.exec(t);if(Wc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(FX)return/WebKit\/(\S+)/.exec(t);if(jX)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(sy&&(ry=sy?sy[1]:""),Wc){var iy=c9();if(iy!=null&&iy>parseFloat(ry)){Yv=String(iy);break e}}Yv=ry}var Xv;if(ke.document&&Wc){var zC=c9();Xv=zC||parseInt(Yv,10)||void 0}else Xv=void 0;var VX=Xv;function Ih(t,e){if(Yn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(l9){e:{try{Q3(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:UX[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ih.$.h.call(this)}}En(Ih,Yn);var UX={2:"touch",3:"pen",4:"mouse"};Ih.prototype.h=function(){Ih.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var pf="closure_listenable_"+(1e6*Math.random()|0),BX=0;function zX(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++BX,this.fa=this.ia=!1}function ig(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Y3(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function WX(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function u9(t){const e={};for(const n in t)e[n]=t[n];return e}const WC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function d9(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<WC.length;i++)n=WC[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function og(t){this.src=t,this.g={},this.h=0}og.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Zv(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new zX(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Jv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=o9(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(ig(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Zv(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var X3="closure_lm_"+(1e6*Math.random()|0),oy={};function h9(t,e,n,r,s){if(r&&r.once)return p9(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)h9(t,e[i],n,r,s);return null}return n=ex(n),t&&t[pf]?t.O(e,n,ff(r)?!!r.capture:!!r,s):f9(t,e,n,!1,r,s)}function f9(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=ff(s)?!!s.capture:!!s,a=Z3(t);if(a||(t[X3]=a=new og(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=HX(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)OX||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(g9(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function HX(){function t(n){return e.call(t.src,t.listener,n)}const e=qX;return t}function p9(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)p9(t,e[i],n,r,s);return null}return n=ex(n),t&&t[pf]?t.P(e,n,ff(r)?!!r.capture:!!r,s):f9(t,e,n,!0,r,s)}function m9(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)m9(t,e[i],n,r,s);else r=ff(r)?!!r.capture:!!r,n=ex(n),t&&t[pf]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Zv(i,n,r,s),-1<n&&(ig(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Z3(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Zv(e,n,r,s)),(n=-1<t?e[t]:null)&&J3(n))}function J3(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[pf])Jv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(g9(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Z3(e))?(Jv(n,t),n.h==0&&(n.src=null,e[X3]=null)):ig(t)}}}function g9(t){return t in oy?oy[t]:oy[t]="on"+t}function qX(t,e){if(t.fa)t=!0;else{e=new Ih(e,this);var n=t.listener,r=t.la||t.src;t.ia&&J3(t),t=n.call(r,e)}return t}function Z3(t){return t=t[X3],t instanceof og?t:null}var ay="__closure_events_fn_"+(1e9*Math.random()>>>0);function ex(t){return typeof t=="function"?t:(t[ay]||(t[ay]=function(e){return t.handleEvent(e)}),t[ay])}function _n(){Zo.call(this),this.i=new og(this),this.S=this,this.J=null}En(_n,Zo);_n.prototype[pf]=!0;_n.prototype.removeEventListener=function(t,e,n,r){m9(this,t,e,n,r)};function Pn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Yn(e,t);else if(e instanceof Yn)e.target=e.target||t;else{var s=e;e=new Yn(r,t),d9(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=m0(o,r,!0,e)&&s}if(o=e.g=t,s=m0(o,r,!0,e)&&s,s=m0(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=m0(o,r,!1,e)&&s}_n.prototype.N=function(){if(_n.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ig(n[r]);delete t.g[e],t.h--}}this.J=null};_n.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};_n.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function m0(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Jv(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var tx=ke.JSON.stringify;class GX{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function KX(){var t=nx;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class QX{constructor(){this.h=this.g=null}add(e,n){const r=y9.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var y9=new GX(()=>new YX,t=>t.reset());class YX{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function XX(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function JX(t){ke.setTimeout(()=>{throw t},0)}let Th,Sh=!1,nx=new QX,v9=()=>{const t=ke.Promise.resolve(void 0);Th=()=>{t.then(ZX)}};var ZX=()=>{for(var t;t=KX();){try{t.h.call(t.g)}catch(n){JX(n)}var e=y9;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Sh=!1};function ag(t,e){_n.call(this),this.h=t||1,this.g=e||ke,this.j=Qn(this.qb,this),this.l=Date.now()}En(ag,_n);ee=ag.prototype;ee.ga=!1;ee.T=null;ee.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Pn(this,"tick"),this.ga&&(rx(this),this.start()))}};ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function rx(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ee.N=function(){ag.$.N.call(this),rx(this),delete this.g};function sx(t,e,n){if(typeof t=="function")n&&(t=Qn(t,n));else if(t&&typeof t.handleEvent=="function")t=Qn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ke.setTimeout(t,e||0)}function _9(t){t.g=sx(()=>{t.g=null,t.i&&(t.i=!1,_9(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class eJ extends Zo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_9(this)}N(){super.N(),this.g&&(ke.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rh(t){Zo.call(this),this.h=t,this.g={}}En(Rh,Zo);var HC=[];function w9(t,e,n,r){Array.isArray(n)||(n&&(HC[0]=n.toString()),n=HC);for(var s=0;s<n.length;s++){var i=h9(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function x9(t){Y3(t.g,function(e,n){this.g.hasOwnProperty(n)&&J3(e)},t),t.g={}}Rh.prototype.N=function(){Rh.$.N.call(this),x9(this)};Rh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function lg(){this.g=!0}lg.prototype.Ea=function(){this.g=!1};function tJ(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function nJ(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function cc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+sJ(t,n)+(r?" "+r:"")})}function rJ(t,e){t.info(function(){return"TIMEOUT: "+e})}lg.prototype.info=function(){};function sJ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return tx(n)}catch{return e}}var El={},qC=null;function cg(){return qC=qC||new _n}El.Ta="serverreachability";function E9(t){Yn.call(this,El.Ta,t)}En(E9,Yn);function Ah(t){const e=cg();Pn(e,new E9(e))}El.STAT_EVENT="statevent";function b9(t,e){Yn.call(this,El.STAT_EVENT,t),this.stat=e}En(b9,Yn);function ir(t){const e=cg();Pn(e,new b9(e,t))}El.Ua="timingevent";function C9(t,e){Yn.call(this,El.Ua,t),this.size=e}En(C9,Yn);function mf(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ke.setTimeout(function(){t()},e)}var ug={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},I9={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ix(){}ix.prototype.h=null;function GC(t){return t.h||(t.h=t.i())}function T9(){}var gf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ox(){Yn.call(this,"d")}En(ox,Yn);function ax(){Yn.call(this,"c")}En(ax,Yn);var e_;function dg(){}En(dg,ix);dg.prototype.g=function(){return new XMLHttpRequest};dg.prototype.i=function(){return{}};e_=new dg;function yf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Rh(this),this.P=iJ,t=Qv?125:void 0,this.V=new ag(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new S9}function S9(){this.i=null,this.g="",this.h=!1}var iJ=45e3,R9={},t_={};ee=yf.prototype;ee.setTimeout=function(t){this.P=t};function n_(t,e,n){t.L=1,t.A=fg(ji(e)),t.u=n,t.S=!0,A9(t,null)}function A9(t,e){t.G=Date.now(),vf(t),t.B=ji(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),$9(n.i,"t",r),t.o=0,n=t.l.J,t.h=new S9,t.g=sk(t.l,n?e:null,!t.u),0<t.O&&(t.M=new eJ(Qn(t.Pa,t,t.g),t.O)),w9(t.U,t.g,"readystatechange",t.nb),e=t.I?u9(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ah(),tJ(t.j,t.v,t.B,t.m,t.W,t.u)}ee.nb=function(t){t=t.target;const e=this.M;e&&Ys(t)==3?e.l():this.Pa(t)};ee.Pa=function(t){try{if(t==this.g)e:{const u=Ys(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||Qv||this.g&&(this.h.h||this.g.ja()||XC(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Ah(3):Ah(2)),hg(this);var n=this.g.da();this.ca=n;t:if(k9(this)){var r=XC(this.g);t="";var s=r.length,i=Ys(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ta(this),Md(this);var o="";break t}this.h.i=new ke.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,nJ(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ch(a)){var c=a;break t}}c=null}if(n=c)cc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,r_(this,n);else{this.i=!1,this.s=3,ir(12),Ta(this),Md(this);break e}}this.S?(P9(this,u,o),Qv&&this.i&&u==3&&(w9(this.U,this.V,"tick",this.mb),this.V.start())):(cc(this.j,this.m,o,null),r_(this,o)),u==4&&Ta(this),this.i&&!this.J&&(u==4?ek(this.l,this):(this.i=!1,vf(this)))}else TJ(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,ir(12)):(this.s=0,ir(13)),Ta(this),Md(this)}}}catch{}finally{}};function k9(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function P9(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=oJ(t,n),s==t_){e==4&&(t.s=4,ir(14),r=!1),cc(t.j,t.m,null,"[Incomplete Response]");break}else if(s==R9){t.s=4,ir(15),cc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else cc(t.j,t.m,s,null),r_(t,s);k9(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,ir(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),fx(e),e.M=!0,ir(11))):(cc(t.j,t.m,n,"[Invalid Chunked Response]"),Ta(t),Md(t))}ee.mb=function(){if(this.g){var t=Ys(this.g),e=this.g.ja();this.o<e.length&&(hg(this),P9(this,t,e),this.i&&t!=4&&vf(this))}};function oJ(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?t_:(n=Number(e.substring(n,r)),isNaN(n)?R9:(r+=1,r+n>e.length?t_:(e=e.slice(r,r+n),t.o=r+n,e)))}ee.cancel=function(){this.J=!0,Ta(this)};function vf(t){t.Y=Date.now()+t.P,N9(t,t.P)}function N9(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=mf(Qn(t.lb,t),e)}function hg(t){t.C&&(ke.clearTimeout(t.C),t.C=null)}ee.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(rJ(this.j,this.B),this.L!=2&&(Ah(),ir(17)),Ta(this),this.s=2,Md(this)):N9(this,this.Y-t)};function Md(t){t.l.H==0||t.J||ek(t.l,t)}function Ta(t){hg(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,rx(t.V),x9(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function r_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||s_(n.i,t))){if(!t.K&&s_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)r2(n),yg(n);else break e;hx(n),ir(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=mf(Qn(n.ib,n),6e3));if(1>=V9(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Sa(n,11)}else if((t.K||n.g==t)&&r2(n),!Ch(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=r.i;i.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(lx(i,i.h),i.h=null))}if(r.F){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Tt(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=rk(r,r.J?r.pa:null,r.Y),o.K){U9(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(hg(a),vf(a)),r.g=o}else J9(r);0<n.j.length&&vg(n)}else c[0]!="stop"&&c[0]!="close"||Sa(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Sa(n,7):dx(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Ah(4)}catch{}}function aJ(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(rg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function lJ(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(rg(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function L9(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(rg(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=lJ(t),r=aJ(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var M9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cJ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Oa(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Oa){this.h=t.h,t2(this,t.j),this.s=t.s,this.g=t.g,n2(this,t.m),this.l=t.l;var e=t.i,n=new kh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),KC(this,n),this.o=t.o}else t&&(e=String(t).match(M9))?(this.h=!1,t2(this,e[1]||"",!0),this.s=fd(e[2]||""),this.g=fd(e[3]||"",!0),n2(this,e[4]),this.l=fd(e[5]||"",!0),KC(this,e[6]||"",!0),this.o=fd(e[7]||"")):(this.h=!1,this.i=new kh(null,this.h))}Oa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(pd(e,QC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(pd(e,QC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(pd(n,n.charAt(0)=="/"?hJ:dJ,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",pd(n,pJ)),t.join("")};function ji(t){return new Oa(t)}function t2(t,e,n){t.j=n?fd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function n2(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function KC(t,e,n){e instanceof kh?(t.i=e,mJ(t.i,t.h)):(n||(e=pd(e,fJ)),t.i=new kh(e,t.h))}function Tt(t,e,n){t.i.set(e,n)}function fg(t){return Tt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function fd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function pd(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,uJ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function uJ(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var QC=/[#\/\?@]/g,dJ=/[#\?:]/g,hJ=/[#\?]/g,fJ=/[#\?@]/g,pJ=/#/g;function kh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ea(t){t.g||(t.g=new Map,t.h=0,t.i&&cJ(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ee=kh.prototype;ee.add=function(t,e){ea(this),this.i=null,t=_u(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function D9(t,e){ea(t),e=_u(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function O9(t,e){return ea(t),e=_u(t,e),t.g.has(e)}ee.forEach=function(t,e){ea(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};ee.ta=function(){ea(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};ee.Z=function(t){ea(this);let e=[];if(typeof t=="string")O9(this,t)&&(e=e.concat(this.g.get(_u(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ee.set=function(t,e){return ea(this),this.i=null,t=_u(this,t),O9(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ee.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function $9(t,e,n){D9(t,e),0<n.length&&(t.i=null,t.g.set(_u(t,e),K3(n)),t.h+=n.length)}ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function _u(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function mJ(t,e){e&&!t.j&&(ea(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(D9(this,r),$9(this,s,n))},t)),t.j=e}var gJ=class{constructor(t,e){this.g=t,this.map=e}};function j9(t){this.l=t||yJ,ke.PerformanceNavigationTiming?(t=ke.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ke.g&&ke.g.Ka&&ke.g.Ka()&&ke.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var yJ=10;function F9(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function V9(t){return t.h?1:t.g?t.g.size:0}function s_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function lx(t,e){t.g?t.g.add(e):t.h=e}function U9(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}j9.prototype.cancel=function(){if(this.i=B9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function B9(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return K3(t.i)}var vJ=class{stringify(t){return ke.JSON.stringify(t,void 0)}parse(t){return ke.JSON.parse(t,void 0)}};function _J(){this.g=new vJ}function wJ(t,e,n){const r=n||"";try{L9(t,function(s,i){let o=s;ff(s)&&(o=tx(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function xJ(t,e){const n=new lg;if(ke.Image){const r=new Image;r.onload=p0(g0,n,r,"TestLoadImage: loaded",!0,e),r.onerror=p0(g0,n,r,"TestLoadImage: error",!1,e),r.onabort=p0(g0,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=p0(g0,n,r,"TestLoadImage: timeout",!1,e),ke.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function g0(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function pg(t){this.l=t.ec||null,this.j=t.ob||!1}En(pg,ix);pg.prototype.g=function(){return new mg(this.l,this.j)};pg.prototype.i=function(t){return function(){return t}}({});function mg(t,e){_n.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=cx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}En(mg,_n);var cx=0;ee=mg.prototype;ee.open=function(t,e){if(this.readyState!=cx)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ph(this)};ee.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ke).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_f(this)),this.readyState=cx};ee.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ph(this)),this.g&&(this.readyState=3,Ph(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ke.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;z9(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function z9(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ee.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?_f(this):Ph(this),this.readyState==3&&z9(this)}};ee.Za=function(t){this.g&&(this.response=this.responseText=t,_f(this))};ee.Ya=function(t){this.g&&(this.response=t,_f(this))};ee.ka=function(){this.g&&_f(this)};function _f(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ph(t)}ee.setRequestHeader=function(t,e){this.v.append(t,e)};ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ph(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(mg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var EJ=ke.JSON.parse;function Bt(t){_n.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=W9,this.L=this.M=!1}En(Bt,_n);var W9="",bJ=/^https?$/i,CJ=["POST","PUT"];ee=Bt.prototype;ee.Oa=function(t){this.M=t};ee.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():e_.g(),this.C=this.u?GC(this.u):GC(e_),this.g.onreadystatechange=Qn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){YC(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=ke.FormData&&t instanceof ke.FormData,!(0<=o9(CJ,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{G9(this),0<this.B&&((this.L=IJ(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qn(this.ua,this)):this.A=sx(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){YC(this,i)}};function IJ(t){return Wc&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ee.ua=function(){typeof G3<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pn(this,"timeout"),this.abort(8))};function YC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,H9(t),gg(t)}function H9(t){t.F||(t.F=!0,Pn(t,"complete"),Pn(t,"error"))}ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Pn(this,"complete"),Pn(this,"abort"),gg(this))};ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gg(this,!0)),Bt.$.N.call(this)};ee.La=function(){this.s||(this.G||this.v||this.l?q9(this):this.kb())};ee.kb=function(){q9(this)};function q9(t){if(t.h&&typeof G3<"u"&&(!t.C[1]||Ys(t)!=4||t.da()!=2)){if(t.v&&Ys(t)==4)sx(t.La,0,t);else if(Pn(t,"readystatechange"),Ys(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(M9)[1]||null;!s&&ke.self&&ke.self.location&&(s=ke.self.location.protocol.slice(0,-1)),r=!bJ.test(s?s.toLowerCase():"")}n=r}if(n)Pn(t,"complete"),Pn(t,"success");else{t.m=6;try{var i=2<Ys(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",H9(t)}}finally{gg(t)}}}}function gg(t,e){if(t.g){G9(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Pn(t,"ready");try{n.onreadystatechange=r}catch{}}}function G9(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ke.clearTimeout(t.A),t.A=null)}ee.isActive=function(){return!!this.g};function Ys(t){return t.g?t.g.readyState:0}ee.da=function(){try{return 2<Ys(this)?this.g.status:-1}catch{return-1}};ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ee.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),EJ(e)}};function XC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case W9:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function TJ(t){const e={};t=(t.g&&2<=Ys(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ch(t[r]))continue;var n=XX(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}WX(e,function(r){return r.join(", ")})}ee.Ia=function(){return this.m};ee.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function K9(t){let e="";return Y3(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function ux(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=K9(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Tt(t,e,n))}function qu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Q9(t){this.Ga=0,this.j=[],this.l=new lg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=qu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=qu("baseRetryDelayMs",5e3,t),this.hb=qu("retryDelaySeedMs",1e4,t),this.eb=qu("forwardChannelMaxRetries",2,t),this.xa=qu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new j9(t&&t.concurrentRequestLimit),this.Ja=new _J,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ee=Q9.prototype;ee.ra=8;ee.H=1;function dx(t){if(Y9(t),t.H==3){var e=t.W++,n=ji(t.I);if(Tt(n,"SID",t.K),Tt(n,"RID",e),Tt(n,"TYPE","terminate"),wf(t,n),e=new yf(t,t.l,e),e.L=2,e.A=fg(ji(n)),n=!1,ke.navigator&&ke.navigator.sendBeacon)try{n=ke.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ke.Image&&(new Image().src=e.A,n=!0),n||(e.g=sk(e.l,null),e.g.ha(e.A)),e.G=Date.now(),vf(e)}nk(t)}function yg(t){t.g&&(fx(t),t.g.cancel(),t.g=null)}function Y9(t){yg(t),t.u&&(ke.clearTimeout(t.u),t.u=null),r2(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ke.clearTimeout(t.m),t.m=null)}function vg(t){if(!F9(t.i)&&!t.m){t.m=!0;var e=t.Na;Th||v9(),Sh||(Th(),Sh=!0),nx.add(e,t),t.C=0}}function SJ(t,e){return V9(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=mf(Qn(t.Na,t,e),tk(t,t.C)),t.C++,!0)}ee.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new yf(this,this.l,t);let i=this.s;if(this.U&&(i?(i=u9(i),d9(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=X9(this,s,e),n=ji(this.I),Tt(n,"RID",t),Tt(n,"CVER",22),this.F&&Tt(n,"X-HTTP-Session-Id",this.F),wf(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(K9(i)))+"&"+e:this.o&&ux(n,this.o,i)),lx(this.i,s),this.bb&&Tt(n,"TYPE","init"),this.P?(Tt(n,"$req",e),Tt(n,"SID","null"),s.aa=!0,n_(s,n,null)):n_(s,n,e),this.H=2}}else this.H==3&&(t?JC(this,t):this.j.length==0||F9(this.i)||JC(this))};function JC(t,e){var n;e?n=e.m:n=t.W++;const r=ji(t.I);Tt(r,"SID",t.K),Tt(r,"RID",n),Tt(r,"AID",t.V),wf(t,r),t.o&&t.s&&ux(r,t.o,t.s),n=new yf(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=X9(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),lx(t.i,n),n_(n,r,e)}function wf(t,e){t.na&&Y3(t.na,function(n,r){Tt(e,r,n)}),t.h&&L9({},function(n,r){Tt(e,r,n)})}function X9(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Qn(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{wJ(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function J9(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Th||v9(),Sh||(Th(),Sh=!0),nx.add(e,t),t.A=0}}function hx(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=mf(Qn(t.Ma,t),tk(t,t.A)),t.A++,!0)}ee.Ma=function(){if(this.u=null,Z9(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=mf(Qn(this.jb,this),t)}};ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ir(10),yg(this),Z9(this))};function fx(t){t.B!=null&&(ke.clearTimeout(t.B),t.B=null)}function Z9(t){t.g=new yf(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ji(t.wa);Tt(e,"RID","rpc"),Tt(e,"SID",t.K),Tt(e,"AID",t.V),Tt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Tt(e,"TO",t.qa),Tt(e,"TYPE","xmlhttp"),wf(t,e),t.o&&t.s&&ux(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=fg(ji(e)),n.u=null,n.S=!0,A9(n,t)}ee.ib=function(){this.v!=null&&(this.v=null,yg(this),hx(this),ir(19))};function r2(t){t.v!=null&&(ke.clearTimeout(t.v),t.v=null)}function ek(t,e){var n=null;if(t.g==e){r2(t),fx(t),t.g=null;var r=2}else if(s_(t.i,e))n=e.F,U9(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=cg(),Pn(r,new C9(r,n)),vg(t)}else J9(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&SJ(t,e)||r==2&&hx(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Sa(t,5);break;case 4:Sa(t,10);break;case 3:Sa(t,6);break;default:Sa(t,2)}}}function tk(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Sa(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Qn(t.pb,t);n||(n=new Oa("//www.google.com/images/cleardot.gif"),ke.location&&ke.location.protocol=="http"||t2(n,"https"),fg(n)),xJ(n.toString(),r)}else ir(2);t.H=0,t.h&&t.h.za(e),nk(t),Y9(t)}ee.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ir(2)):(this.l.info("Failed to ping google.com"),ir(1))};function nk(t){if(t.H=0,t.ma=[],t.h){const e=B9(t.i);(e.length!=0||t.j.length!=0)&&(BC(t.ma,e),BC(t.ma,t.j),t.i.i.length=0,K3(t.j),t.j.length=0),t.h.ya()}}function rk(t,e,n){var r=n instanceof Oa?ji(n):new Oa(n);if(r.g!="")e&&(r.g=e+"."+r.g),n2(r,r.m);else{var s=ke.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Oa(null);r&&t2(i,r),e&&(i.g=e),s&&n2(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&Tt(r,n,e),Tt(r,"VER",t.ra),wf(t,r),r}function sk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Bt(new pg({ob:n})):new Bt(t.va),e.Oa(t.J),e}ee.isActive=function(){return!!this.h&&this.h.isActive(this)};function ik(){}ee=ik.prototype;ee.Ba=function(){};ee.Aa=function(){};ee.za=function(){};ee.ya=function(){};ee.isActive=function(){return!0};ee.Va=function(){};function s2(){if(Wc&&!(10<=Number(VX)))throw Error("Environmental error: no available transport.")}s2.prototype.g=function(t,e){return new Ur(t,e)};function Ur(t,e){_n.call(this),this.g=new Q9(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ch(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ch(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new wu(this)}En(Ur,_n);Ur.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ir(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=rk(t,null,t.Y),vg(t)};Ur.prototype.close=function(){dx(this.g)};Ur.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=tx(t),t=n);e.j.push(new gJ(e.fb++,t)),e.H==3&&vg(e)};Ur.prototype.N=function(){this.g.h=null,delete this.j,dx(this.g),delete this.g,Ur.$.N.call(this)};function ok(t){ox.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}En(ok,ox);function ak(){ax.call(this),this.status=1}En(ak,ax);function wu(t){this.g=t}En(wu,ik);wu.prototype.Ba=function(){Pn(this.g,"a")};wu.prototype.Aa=function(t){Pn(this.g,new ok(t))};wu.prototype.za=function(t){Pn(this.g,new ak)};wu.prototype.ya=function(){Pn(this.g,"b")};function RJ(){this.blockSize=-1}function Ds(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}En(Ds,RJ);Ds.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ly(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}Ds.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)ly(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){ly(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){ly(this,r),s=0;break}}this.h=s,this.i+=e};Ds.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ct(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var AJ={};function px(t){return-128<=t&&128>t?$X(t,function(e){return new ct([e|0],0>e?-1:0)}):new ct([t|0],0>t?-1:0)}function Xs(t){if(isNaN(t)||!isFinite(t))return Tc;if(0>t)return Sn(Xs(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=i_;return new ct(e,0)}function lk(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Sn(lk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Xs(Math.pow(e,8)),r=Tc,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Xs(Math.pow(e,i)),r=r.R(i).add(Xs(o))):(r=r.R(n),r=r.add(Xs(o)))}return r}var i_=4294967296,Tc=px(0),o_=px(1),ZC=px(16777216);ee=ct.prototype;ee.ea=function(){if(es(this))return-Sn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:i_+r)*e,e*=i_}return t};ee.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ti(this))return"0";if(es(this))return"-"+Sn(this).toString(t);for(var e=Xs(Math.pow(t,6)),n=this,r="";;){var s=o2(n,e).g;n=i2(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Ti(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};ee.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ti(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function es(t){return t.h==-1}ee.X=function(t){return t=i2(this,t),es(t)?-1:Ti(t)?0:1};function Sn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ct(n,~t.h).add(o_)}ee.abs=function(){return es(this)?Sn(this):this};ee.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new ct(n,n[n.length-1]&-2147483648?-1:0)};function i2(t,e){return t.add(Sn(e))}ee.R=function(t){if(Ti(this)||Ti(t))return Tc;if(es(this))return es(t)?Sn(this).R(Sn(t)):Sn(Sn(this).R(t));if(es(t))return Sn(this.R(Sn(t)));if(0>this.X(ZC)&&0>t.X(ZC))return Xs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,y0(n,2*r+2*s),n[2*r+2*s+1]+=i*l,y0(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,y0(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,y0(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ct(n,0)};function y0(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Gu(t,e){this.g=t,this.h=e}function o2(t,e){if(Ti(e))throw Error("division by zero");if(Ti(t))return new Gu(Tc,Tc);if(es(t))return e=o2(Sn(t),e),new Gu(Sn(e.g),Sn(e.h));if(es(e))return e=o2(t,Sn(e)),new Gu(Sn(e.g),e.h);if(30<t.g.length){if(es(t)||es(e))throw Error("slowDivide_ only works with positive integers.");for(var n=o_,r=e;0>=r.X(t);)n=eI(n),r=eI(r);var s=Fl(n,1),i=Fl(r,1);for(r=Fl(r,2),n=Fl(n,2);!Ti(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=Fl(r,1),n=Fl(n,1)}return e=i2(t,s.R(e)),new Gu(s,e)}for(s=Tc;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Xs(n),o=i.R(e);es(o)||0<o.X(t);)n-=r,i=Xs(n),o=i.R(e);Ti(i)&&(i=o_),s=s.add(i),t=i2(t,o)}return new Gu(s,t)}ee.gb=function(t){return o2(this,t).h};ee.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ct(n,this.h&t.h)};ee.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ct(n,this.h|t.h)};ee.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ct(n,this.h^t.h)};function eI(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ct(n,t.h)}function Fl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new ct(s,t.h)}s2.prototype.createWebChannel=s2.prototype.g;Ur.prototype.send=Ur.prototype.u;Ur.prototype.open=Ur.prototype.m;Ur.prototype.close=Ur.prototype.close;ug.NO_ERROR=0;ug.TIMEOUT=8;ug.HTTP_ERROR=6;I9.COMPLETE="complete";T9.EventType=gf;gf.OPEN="a";gf.CLOSE="b";gf.ERROR="c";gf.MESSAGE="d";_n.prototype.listen=_n.prototype.O;Bt.prototype.listenOnce=Bt.prototype.P;Bt.prototype.getLastError=Bt.prototype.Sa;Bt.prototype.getLastErrorCode=Bt.prototype.Ia;Bt.prototype.getStatus=Bt.prototype.da;Bt.prototype.getResponseJson=Bt.prototype.Wa;Bt.prototype.getResponseText=Bt.prototype.ja;Bt.prototype.send=Bt.prototype.ha;Bt.prototype.setWithCredentials=Bt.prototype.Oa;Ds.prototype.digest=Ds.prototype.l;Ds.prototype.reset=Ds.prototype.reset;Ds.prototype.update=Ds.prototype.j;ct.prototype.add=ct.prototype.add;ct.prototype.multiply=ct.prototype.R;ct.prototype.modulo=ct.prototype.gb;ct.prototype.compare=ct.prototype.X;ct.prototype.toNumber=ct.prototype.ea;ct.prototype.toString=ct.prototype.toString;ct.prototype.getBits=ct.prototype.D;ct.fromNumber=Xs;ct.fromString=lk;var kJ=function(){return new s2},PJ=function(){return cg()},cy=ug,NJ=I9,LJ=El,tI={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},v0=T9,MJ=Bt,DJ=Ds,Sc=ct;const nI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xu="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=new Xm("@firebase/firestore");function Gl(){return nl.logLevel}function K(t,...e){if(nl.logLevel<=Fe.DEBUG){const n=e.map(mx);nl.debug(`Firestore (${xu}): ${t}`,...n)}}function rr(t,...e){if(nl.logLevel<=Fe.ERROR){const n=e.map(mx);nl.error(`Firestore (${xu}): ${t}`,...n)}}function Do(t,...e){if(nl.logLevel<=Fe.WARN){const n=e.map(mx);nl.warn(`Firestore (${xu}): ${t}`,...n)}}function mx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t="Unexpected state"){const e=`FIRESTORE (${xu}) INTERNAL ASSERTION FAILED: `+t;throw rr(e),new Error(e)}function ye(t,e){t||de()}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(In.UNAUTHENTICATED))}shutdown(){}}class $J{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jJ{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new as;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new as,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new as)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string"),new ck(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string"),new In(e)}}class FJ{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=In.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class VJ{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new FJ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UJ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BJ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string"),this.R=n.token,new UJ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zJ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=zJ(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Pe(t,e){return t<e?-1:t>e?1:0}function Hc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function dk(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new Mt(0,0))}static max(){return new we(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(),r===void 0?r=e.length-n:r>e.length-n&&de(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Nh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class rt extends Nh{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const WJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends Nh{construct(e,n,r){return new Nt(e,n,r)}static isValidIdentifier(e){return WJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Y(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(n)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(rt.fromString(e))}static fromName(e){return new J(rt.fromString(e).popFirst(5))}static empty(){return new J(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function a_(t){return t.fields.find(e=>e.kind===2)}function pa(t){return t.fields.filter(e=>e.kind!==2)}a2.UNKNOWN_ID=-1;class J0{constructor(e,n){this.fieldPath=e,this.kind=n}}class Lh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Lh(0,Br.min())}}function HJ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=we.fromTimestamp(r===1e9?new Mt(n+1,0):new Mt(n,r));return new Br(s,J.empty(),e)}function hk(t){return new Br(t.readTime,t.key,-1)}class Br{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Br(we.min(),J.empty(),-1)}static max(){return new Br(we.max(),J.empty(),-1)}}function gx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==fk)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new as,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Dd(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=yx(r.target.error);this.V.reject(new Dd(e,s))}}static open(e,n,r,s){try{return new _g(n,e.transaction(s,r))}catch(i){throw new Dd(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(K("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new GJ(n)}}class Js{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Js.S(sn())===12.2&&rr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return K("SimpleDb","Removing database:",e),ya(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!wA())return!1;if(Js.C())return!0;const e=sn(),n=Js.S(e),r=0<n&&n<10,s=Js.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(K("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Dd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new Y(H.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new Y(H.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Dd(e,o))},s.onupgradeneeded=i=>{K("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{K("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=_g.open(this.db,e,i?"readonly":"readwrite",r),l=s(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),U.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(K("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class qJ{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ya(this.k.delete())}}class Dd extends Y{constructor(e,n){super(H.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ta(t){return t.name==="IndexedDbTransactionError"}class GJ{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(K("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(K("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ya(r)}add(e){return K("SimpleDb","ADD",this.store.name,e,e),ya(this.store.add(e))}get(e){return ya(this.store.get(e)).next(n=>(n===void 0&&(n=null),K("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return K("SimpleDb","DELETE",this.store.name,e),ya(this.store.delete(e))}count(){return K("SimpleDb","COUNT",this.store.name),ya(this.store.count())}W(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new U((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new U((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(e,n){K("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new U((r,s)=>{n.onerror=i=>{const o=yx(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new U((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new qJ(a),c=n(a.primaryKey,a.value,l);if(c instanceof U){const u=c.catch(d=>(l.done(),U.reject(d)));r.push(u)}l.isDone?s():l.$===null?a.continue():a.continue(l.$)}}).next(()=>U.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ya(t){return new U((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=yx(r.target.error);n(s)}})}let rI=!1;function yx(t){const e=Js.S(sn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Y("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return rI||(rI=!0,setTimeout(()=>{throw r},0)),r}}return t}class KJ{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){K("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{K("IndexBackfiller",`Documents written: ${await this.X.te()}`)}catch(n){ta(n)?K("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await bl(n)}await this.ee(6e4)})}}class QJ{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let s=n,i=!0;return U.doWhile(()=>i===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return K("IndexBackfiller",`Processing collection: ${o}`),this.re(e,o,s).next(a=>{s-=a,r.add(o)});i=!1})).next(()=>n-s)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next(i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(s,i)).next(a=>(K("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((s,i)=>{const o=hk(i);gx(o,r)>0&&(r=o)}),new Br(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}rs._e=-1;function wg(t){return t==null}function Mh(t){return t===0&&1/t==-1/0}function YJ(t){return typeof t=="number"&&Number.isInteger(t)&&!Mh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sI(e)),e=XJ(t.get(n),e);return sI(e)}function XJ(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function sI(t){return t+""}function Zs(t){const e=t.length;if(ye(e>=2),e===2)return ye(t.charAt(0)===""&&t.charAt(1)===""),rt.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf("",i);switch((o<0||o>n)&&de(),t.charAt(o+1)){case"":const a=t.substring(i,o);let l;s.length===0?l=a:(s+=a,l=s,s=""),r.push(l);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:de()}i=o+2}return new rt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(t,e){return[t,ur(e)]}function mk(t,e,n){return[t,ur(e),n]}const JJ={},ZJ=["prefixPath","collectionGroup","readTime","documentId"],eZ=["prefixPath","collectionGroup","documentId"],tZ=["collectionGroup","readTime","prefixPath","documentId"],nZ=["canonicalId","targetId"],rZ=["targetId","path"],sZ=["path","targetId"],iZ=["collectionId","parent"],oZ=["indexId","uid"],aZ=["uid","sequenceNumber"],lZ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cZ=["indexId","uid","orderedDocumentKey"],uZ=["userId","collectionPath","documentId"],dZ=["userId","collectionPath","largestBatchId"],hZ=["userId","collectionGroup","largestBatchId"],gk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fZ=[...gk,"documentOverlays"],yk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vk=yk,pZ=[...vk,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_ extends pk{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function bn(t,e){const n=Re(t);return Js.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _k(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gt=class c_{constructor(e,n){this.comparator=e,this.root=n||Ro.EMPTY}insert(e,n){return new c_(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ro.BLACK,null,null))}remove(e){return new c_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ro.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _0(this.root,e,this.comparator,!1)}getReverseIterator(){return new _0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _0(this.root,e,this.comparator,!0)}},_0=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ro=class fi{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??fi.RED,this.left=s??fi.EMPTY,this.right=i??fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new fi(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return fi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return fi.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}};Ro.EMPTY=null,Ro.RED=!0,Ro.BLACK=!1;Ro.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ro(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aI(this.data.getIterator())}getIteratorFrom(e){return new aI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class aI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Vl(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new xr([])}unionWith(e){let n=new mt(Nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new wk("Invalid base64 string: "+i):i}}(e);return new Mn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const mZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oo(t){if(ye(!!t),typeof t=="string"){let e=0;const n=mZ.exec(t);if(ye(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $o(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function vx(t){const e=t.mapValue.fields.__previous_value__;return xg(e)?vx(e):e}function Dh(t){const e=Oo(t.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gZ{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class rl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new rl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof rl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ep={nullValue:"NULL_VALUE"};function sl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xg(t)?4:xk(t)?9007199254740991:10:de()}function ci(t,e){if(t===e)return!0;const n=sl(t);if(n!==sl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dh(t).isEqual(Dh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Oo(s.timestampValue),a=Oo(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return $o(s.bytesValue).isEqual($o(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Vt(s.geoPointValue.latitude)===Vt(i.geoPointValue.latitude)&&Vt(s.geoPointValue.longitude)===Vt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Vt(s.integerValue)===Vt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Vt(s.doubleValue),a=Vt(i.doubleValue);return o===a?Mh(o)===Mh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Hc(t.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(oI(o)!==oI(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ci(o[l],a[l])))return!1;return!0}(t,e);default:return de()}}function Oh(t,e){return(t.values||[]).find(n=>ci(n,e))!==void 0}function jo(t,e){if(t===e)return 0;const n=sl(t),r=sl(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Vt(i.integerValue||i.doubleValue),l=Vt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return lI(t.timestampValue,e.timestampValue);case 4:return lI(Dh(t),Dh(e));case 5:return Pe(t.stringValue,e.stringValue);case 6:return function(i,o){const a=$o(i),l=$o(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Pe(a[c],l[c]);if(u!==0)return u}return Pe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Pe(Vt(i.latitude),Vt(o.latitude));return a!==0?a:Pe(Vt(i.longitude),Vt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=jo(a[c],l[c]);if(u)return u}return Pe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===mo.mapValue&&o===mo.mapValue)return 0;if(i===mo.mapValue)return 1;if(o===mo.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Pe(l[d],u[d]);if(h!==0)return h;const p=jo(a[l[d]],c[u[d]]);if(p!==0)return p}return Pe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw de()}}function lI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=Oo(t),r=Oo(e),s=Pe(n.seconds,r.seconds);return s!==0?s:Pe(n.nanos,r.nanos)}function qc(t){return u_(t)}function u_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Oo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $o(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=u_(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${u_(n.fields[o])}`;return s+"}"}(t.mapValue):de()}function il(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function d_(t){return!!t&&"integerValue"in t}function $h(t){return!!t&&"arrayValue"in t}function cI(t){return!!t&&"nullValue"in t}function uI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tp(t){return!!t&&"mapValue"in t}function Od(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Cl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Od(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Od(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function yZ(t){return"nullValue"in t?ep:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?il(rl.empty(),J.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:de()}function vZ(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?il(rl.empty(),J.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?mo:de()}function dI(t,e){const n=jo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function hI(t,e){const n=jo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Od(n)}setAll(e){let n=Nt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Od(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());tp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];tp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Cl(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Hn(Od(this.value))}}function Ek(t){const e=[];return Cl(t.fields,(n,r)=>{const s=new Nt([n]);if(tp(r)){const i=Ek(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ut(e,0,we.min(),we.min(),we.min(),Hn.empty(),0)}static newFoundDocument(e,n,r,s){return new Ut(e,1,n,we.min(),r,s,0)}static newNoDocument(e,n){return new Ut(e,2,n,we.min(),we.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,we.min(),we.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n){this.position=e,this.inclusive=n}}function fI(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=jo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function pI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ci(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n="asc"){this.field=e,this.dir=n}}function _Z(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{}class Ve extends bk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wZ(e,n,r):n==="array-contains"?new bZ(e,r):n==="in"?new Ak(e,r):n==="not-in"?new CZ(e,r):n==="array-contains-any"?new IZ(e,r):new Ve(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xZ(e,r):new EZ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(jo(n,this.value)):n!==null&&sl(this.value)===sl(n)&&this.matchesComparison(jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class at extends bk{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new at(e,n)}matches(e){return Gc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Gc(t){return t.op==="and"}function h_(t){return t.op==="or"}function _x(t){return Ck(t)&&Gc(t)}function Ck(t){for(const e of t.filters)if(e instanceof at)return!1;return!0}function f_(t){if(t instanceof Ve)return t.field.canonicalString()+t.op.toString()+qc(t.value);if(_x(t))return t.filters.map(e=>f_(e)).join(",");{const e=t.filters.map(n=>f_(n)).join(",");return`${t.op}(${e})`}}function Ik(t,e){return t instanceof Ve?function(r,s){return s instanceof Ve&&r.op===s.op&&r.field.isEqual(s.field)&&ci(r.value,s.value)}(t,e):t instanceof at?function(r,s){return s instanceof at&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Ik(o,s.filters[a]),!0):!1}(t,e):void de()}function Tk(t,e){const n=t.filters.concat(e);return at.create(n,t.op)}function Sk(t){return t instanceof Ve?function(n){return`${n.field.canonicalString()} ${n.op} ${qc(n.value)}`}(t):t instanceof at?function(n){return n.op.toString()+" {"+n.getFilters().map(Sk).join(" ,")+"}"}(t):"Filter"}class wZ extends Ve{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class xZ extends Ve{constructor(e,n){super(e,"in",n),this.keys=Rk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class EZ extends Ve{constructor(e,n){super(e,"not-in",n),this.keys=Rk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Rk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class bZ extends Ve{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $h(n)&&Oh(n.arrayValue,this.value)}}class Ak extends Ve{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Oh(this.value.arrayValue,n)}}class CZ extends Ve{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Oh(this.value.arrayValue,n)}}class IZ extends Ve{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$h(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Oh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TZ{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function p_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new TZ(t,e,n,r,s,i,o)}function ol(t){const e=Re(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>f_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),wg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qc(r)).join(",")),e.ce=n}return e.ce}function xf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_Z(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ik(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pI(t.startAt,e.startAt)&&pI(t.endAt,e.endAt)}function l2(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function c2(t,e){return t.filters.filter(n=>n instanceof Ve&&n.field.isEqual(e))}function mI(t,e,n){let r=ep,s=!0;for(const i of c2(t,e)){let o=ep,a=!0;switch(i.op){case"<":case"<=":o=yZ(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,a=!1;break;case"!=":case"not-in":o=ep}dI({value:r,inclusive:s},{value:o,inclusive:a})<0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];dI({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function gI(t,e,n){let r=mo,s=!0;for(const i of c2(t,e)){let o=mo,a=!0;switch(i.op){case">=":case">":o=vZ(i.value),a=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,a=!1;break;case"!=":case"not-in":o=mo}hI({value:r,inclusive:s},{value:o,inclusive:a})>0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];hI({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function SZ(t,e,n,r,s,i,o,a){return new Il(t,e,n,r,s,i,o,a)}function Ef(t){return new Il(t)}function yI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wx(t){return t.collectionGroup!==null}function Rc(t){const e=Re(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new mt(Nt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new jh(i,r))}),n.has(Nt.keyField().canonicalString())||e.le.push(new jh(Nt.keyField(),r))}return e.le}function ls(t){const e=Re(t);return e.he||(e.he=kk(e,Rc(t))),e.he}function kk(t,e){if(t.limitType==="F")return p_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new jh(s.field,i)});const n=t.endAt?new Fo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fo(t.startAt.position,t.startAt.inclusive):null;return p_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function m_(t,e){const n=t.filters.concat([e]);return new Il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function u2(t,e,n){return new Il(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Eg(t,e){return xf(ls(t),ls(e))&&t.limitType===e.limitType}function Pk(t){return`${ol(ls(t))}|lt:${t.limitType}`}function Kl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Sk(s)).join(", ")}]`),wg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>qc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>qc(s)).join(",")),`Target(${r})`}(ls(t))}; limitType=${t.limitType})`}function bf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):J.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Rc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=fI(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Rc(r),s)||r.endAt&&!function(o,a,l){const c=fI(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Rc(r),s))}(t,e)}function RZ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Nk(t){return(e,n)=>{let r=!1;for(const s of Rc(t)){const i=AZ(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function AZ(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?jo(l,c):de()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Cl(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return _k(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kZ=new Gt(J.comparator);function Mr(){return kZ}const Lk=new Gt(J.comparator);function md(...t){let e=Lk;for(const n of t)e=e.insert(n.key,n);return e}function Mk(t){let e=Lk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ei(){return $d()}function Dk(){return $d()}function $d(){return new na(t=>t.toString(),(t,e)=>t.isEqual(e))}const PZ=new Gt(J.comparator),NZ=new mt(J.comparator);function Oe(...t){let e=NZ;for(const n of t)e=e.add(n);return e}const LZ=new mt(Pe);function MZ(){return LZ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function $k(t){return{integerValue:""+t}}function DZ(t,e){return YJ(e)?$k(e):Ok(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(){this._=void 0}}function OZ(t,e,n){return t instanceof Kc?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&xg(i)&&(i=vx(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof al?Fk(t,e):t instanceof Qc?Vk(t,e):function(s,i){const o=jk(s,i),a=vI(o)+vI(s.Ie);return d_(o)&&d_(s.Ie)?$k(a):Ok(s.serializer,a)}(t,e)}function $Z(t,e,n){return t instanceof al?Fk(t,e):t instanceof Qc?Vk(t,e):n}function jk(t,e){return t instanceof Fh?function(r){return d_(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Kc extends bg{}class al extends bg{constructor(e){super(),this.elements=e}}function Fk(t,e){const n=Uk(e);for(const r of t.elements)n.some(s=>ci(s,r))||n.push(r);return{arrayValue:{values:n}}}class Qc extends bg{constructor(e){super(),this.elements=e}}function Vk(t,e){let n=Uk(e);for(const r of t.elements)n=n.filter(s=>!ci(s,r));return{arrayValue:{values:n}}}class Fh extends bg{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function vI(t){return Vt(t.integerValue||t.doubleValue)}function Uk(t){return $h(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n){this.field=e,this.transform=n}}function jZ(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof al&&s instanceof al||r instanceof Qc&&s instanceof Qc?Hc(r.elements,s.elements,ci):r instanceof Fh&&s instanceof Fh?ci(r.Ie,s.Ie):r instanceof Kc&&s instanceof Kc}(t.transform,e.transform)}class FZ{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function np(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cg{}function Bk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ig(t.key,qn.none()):new Eu(t.key,t.data,qn.none());{const n=t.data,r=Hn.empty();let s=new mt(Nt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new qi(t.key,r,new xr(s.toArray()),qn.none())}}function VZ(t,e,n){t instanceof Eu?function(s,i,o){const a=s.value.clone(),l=wI(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof qi?function(s,i,o){if(!np(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=wI(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(zk(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function jd(t,e,n,r){return t instanceof Eu?function(i,o,a,l){if(!np(i.precondition,o))return a;const c=i.value.clone(),u=xI(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof qi?function(i,o,a,l){if(!np(i.precondition,o))return a;const c=xI(i.fieldTransforms,l,o),u=o.data;return u.setAll(zk(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return np(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function UZ(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=jk(r.transform,s||null);i!=null&&(n===null&&(n=Hn.empty()),n.set(r.field,i))}return n||null}function _I(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Hc(r,s,(i,o)=>jZ(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Eu extends Cg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qi extends Cg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function zk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function wI(t,e,n){const r=new Map;ye(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,$Z(o,a,n[s]))}return r}function xI(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,OZ(i,o,e))}return r}class Ig extends Cg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wk extends Cg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&VZ(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=jd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=jd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Dk();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Bk(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&Hc(this.mutations,e.mutations,(n,r)=>_I(n,r))&&Hc(this.baseMutations,e.baseMutations,(n,r)=>_I(n,r))}}class bx{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ye(e.mutations.length===r.length);let s=function(){return PZ}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new bx(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BZ{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zZ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,qe;function WZ(t){switch(t){default:return de();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function Hk(t){if(t===void 0)return rr("GRPC error has no .code"),H.UNKNOWN;switch(t){case Jt.OK:return H.OK;case Jt.CANCELLED:return H.CANCELLED;case Jt.UNKNOWN:return H.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return H.INTERNAL;case Jt.UNAVAILABLE:return H.UNAVAILABLE;case Jt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Jt.NOT_FOUND:return H.NOT_FOUND;case Jt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Jt.ABORTED:return H.ABORTED;case Jt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Jt.DATA_LOSS:return H.DATA_LOSS;default:return de()}}(qe=Jt||(Jt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HZ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qZ=new Sc([4294967295,4294967295],0);function EI(t){const e=HZ().encode(t),n=new DJ;return n.update(e),new Uint8Array(n.digest())}function bI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Sc([n,r],0),new Sc([s,i],0)]}class Ix{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gd(`Invalid padding: ${n}`);if(r<0)throw new gd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gd(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Sc.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Sc.fromNumber(r)));return s.compare(qZ)===1&&(s=new Sc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=EI(e),[r,s]=bI(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Ix(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=EI(e),[r,s]=bI(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Cf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Tg(we.min(),s,new Gt(Pe),Mr(),Oe())}}class Cf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cf(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class qk{constructor(e,n){this.targetId=e,this.fe=n}}class Gk{constructor(e,n,r=Mn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class CI{constructor(){this.ge=0,this.pe=TI(),this.ye=Mn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Oe(),n=Oe(),r=Oe();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:de()}}),new Cf(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=TI()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ye(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class GZ{constructor(e){this.Be=e,this.ke=new Map,this.qe=Mr(),this.Qe=II(),this.Ke=new Gt(Pe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(l2(i))if(r===0){const o=new J(i.path);this.We(n,o,Ut.newNoDocument(o,we.min()))}else ye(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=$o(r).toUint8Array()}catch(l){if(l instanceof wk)return Do("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ix(o,s,i)}catch(l){return Do(l instanceof gd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&l2(a.target)){const l=new J(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Ut.newNoDocument(l,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=Oe();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new Tg(e,n,this.Ke,this.qe,r);return this.qe=Mr(),this.Qe=II(),this.Ke=new Gt(Pe),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new CI,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new mt(Pe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new CI),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function II(){return new Gt(J.comparator)}function TI(){return new Gt(J.comparator)}const KZ={asc:"ASCENDING",desc:"DESCENDING"},QZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YZ={and:"AND",or:"OR"};class XZ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function g_(t,e){return t.useProto3Json||wg(e)?e:{value:e}}function Yc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JZ(t,e){return Yc(t,e.toTimestamp())}function dr(t){return ye(!!t),we.fromTimestamp(function(n){const r=Oo(n);return new Mt(r.seconds,r.nanos)}(t))}function Tx(t,e){return y_(t,e).canonicalString()}function y_(t,e){const n=function(s){return new rt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Qk(t){const e=rt.fromString(t);return ye(rP(e)),e}function d2(t,e){return Tx(t.databaseId,e.path)}function $a(t,e){const n=Qk(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(Jk(n))}function Yk(t,e){return Tx(t.databaseId,e)}function Xk(t){const e=Qk(t);return e.length===4?rt.emptyPath():Jk(e)}function v_(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Jk(t){return ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function SI(t,e,n){return{name:d2(t,e),fields:n.value.mapValue.fields}}function ZZ(t,e,n){const r=$a(t,e.name),s=dr(e.updateTime),i=e.createTime?dr(e.createTime):we.min(),o=new Hn({mapValue:{fields:e.fields}}),a=Ut.newFoundDocument(r,s,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function eee(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(ye(u===void 0||typeof u=="string"),Mn.fromBase64String(u||"")):(ye(u===void 0||u instanceof Uint8Array),Mn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?H.UNKNOWN:Hk(c.code);return new Y(u,c.message||"")}(o);n=new Gk(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=$a(t,r.document.name),i=dr(r.document.updateTime),o=r.document.createTime?dr(r.document.createTime):we.min(),a=new Hn({mapValue:{fields:r.document.fields}}),l=Ut.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new rp(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=$a(t,r.document),i=r.readTime?dr(r.readTime):we.min(),o=Ut.newNoDocument(s,i),a=r.removedTargetIds||[];n=new rp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=$a(t,r.document),i=r.removedTargetIds||[];n=new rp([],i,s,null)}else{if(!("filter"in e))return de();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new zZ(s,i),a=r.targetId;n=new qk(a,o)}}return n}function h2(t,e){let n;if(e instanceof Eu)n={update:SI(t,e.key,e.value)};else if(e instanceof Ig)n={delete:d2(t,e.key)};else if(e instanceof qi)n={update:SI(t,e.key,e.data),updateMask:oee(e.fieldMask)};else{if(!(e instanceof Wk))return de();n={verify:d2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Kc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof al)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Fh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw de()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:JZ(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de()}(t,e.precondition)),n}function __(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?qn.updateTime(dr(i.updateTime)):i.exists!==void 0?qn.exists(i.exists):qn.none()}(e.currentDocument):qn.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(o,a){let l=null;if("setToServerValue"in a)ye(a.setToServerValue==="REQUEST_TIME"),l=new Kc;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];l=new al(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];l=new Qc(u)}else"increment"in a?l=new Fh(o,a.increment):de();const c=Nt.fromServerFormat(a.fieldPath);return new xx(c,l)}(t,s)):[];if(e.update){e.update.name;const s=$a(t,e.update.name),i=new Hn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new xr(c.map(u=>Nt.fromServerFormat(u)))}(e.updateMask);return new qi(s,i,o,n,r)}return new Eu(s,i,n,r)}if(e.delete){const s=$a(t,e.delete);return new Ig(s,n)}if(e.verify){const s=$a(t,e.verify);return new Wk(s,n)}return de()}function tee(t,e){return t&&t.length>0?(ye(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?dr(s.updateTime):dr(i);return o.isEqual(we.min())&&(o=dr(i)),new FZ(o,s.transformResults||[])}(n,e))):[]}function Zk(t,e){return{documents:[Yk(t,e.path)]}}function Sx(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Yk(t,s);const i=function(c){if(c.length!==0)return nP(at.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:ao(h.field),direction:ree(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=g_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:s}}function eP(t){let e=Xk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ye(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(d){const h=tP(d);return h instanceof at&&_x(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new jh(Ql(m.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,wg(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new Fo(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new Fo(p,h)}(n.endAt)),SZ(e,s,o,i,a,"F",l,c)}function nee(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ql(n.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ql(n.unaryFilter.field);return Ve.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ql(n.unaryFilter.field);return Ve.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ql(n.unaryFilter.field);return Ve.create(o,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(t):t.fieldFilter!==void 0?function(n){return Ve.create(Ql(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return at.create(n.compositeFilter.filters.map(r=>tP(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(t):de()}function ree(t){return KZ[t]}function see(t){return QZ[t]}function iee(t){return YZ[t]}function ao(t){return{fieldPath:t.canonicalString()}}function Ql(t){return Nt.fromServerFormat(t.fieldPath)}function nP(t){return t instanceof Ve?function(n){if(n.op==="=="){if(uI(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(cI(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(uI(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(cI(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:see(n.op),value:n.value}}}(t):t instanceof at?function(n){const r=n.getFilters().map(s=>nP(s));return r.length===1?r[0]:{compositeFilter:{op:iee(n.op),filters:r}}}(t):de()}function oee(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n,r,s,i=we.min(),o=we.min(),a=Mn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.ct=e}}function aee(t,e){let n;if(e.document)n=ZZ(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=J.fromSegments(e.noDocument.path),s=cl(e.noDocument.readTime);n=Ut.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return de();{const r=J.fromSegments(e.unknownDocument.path),s=cl(e.unknownDocument.version);n=Ut.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime(function(s){const i=new Mt(s[0],s[1]);return we.fromTimestamp(i)}(e.readTime)),n}function RI(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:f2(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,o){return{name:d2(i,o.key),fields:o.data.value.mapValue.fields,updateTime:Yc(i,o.version.toTimestamp()),createTime:Yc(i,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ll(e.version)};else{if(!e.isUnknownDocument())return de();r.unknownDocument={path:n.path.toArray(),version:ll(e.version)}}return r}function f2(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ll(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function cl(t){const e=new Mt(t.seconds,t.nanoseconds);return we.fromTimestamp(e)}function va(t,e){const n=(e.baseMutations||[]).map(i=>__(t.ct,i));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const a=e.mutations[i+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map(i=>__(t.ct,i)),s=Mt.fromMillis(e.localWriteTimeMs);return new Ex(e.batchId,s,n,r)}function yd(t){const e=cl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?cl(t.lastLimboFreeSnapshotVersion):we.min();let r;return r=function(i){return i.documents!==void 0}(t.query)?function(i){return ye(i.documents.length===1),ls(Ef(Xk(i.documents[0])))}(t.query):function(i){return ls(eP(i))}(t.query),new Si(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Mn.fromBase64String(t.resumeToken))}function iP(t,e){const n=ll(e.snapshotVersion),r=ll(e.lastLimboFreeSnapshotVersion);let s;s=l2(e.target)?Zk(t.ct,e.target):Sx(t.ct,e.target).ut;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ol(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function oP(t){const e=eP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?u2(e,e.limit,"L"):e}function uy(t,e){return new Cx(e.largestBatchId,__(t.ct,e.overlayMutation))}function AI(t,e){const n=e.path.lastSegment();return[t,ur(e.path.popLast()),n]}function kI(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:ll(r.readTime),documentKey:ur(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lee{getBundleMetadata(e,n){return PI(e).get(n).next(r=>{if(r)return function(i){return{id:i.bundleId,createTime:cl(i.createTime),version:i.version}}(r)})}saveBundleMetadata(e,n){return PI(e).put(function(s){return{bundleId:s.id,createTime:ll(dr(s.createTime)),version:s.version}}(n))}getNamedQuery(e,n){return NI(e).get(n).next(r=>{if(r)return function(i){return{name:i.name,query:oP(i.bundledQuery),readTime:cl(i.readTime)}}(r)})}saveNamedQuery(e,n){return NI(e).put(function(s){return{name:s.name,readTime:ll(dr(s.readTime)),bundledQuery:s.bundledQuery}}(n))}}function PI(t){return bn(t,"bundles")}function NI(t){return bn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Sg(e,r)}getOverlay(e,n){return Ku(e).get(AI(this.userId,n)).next(r=>r?uy(this.serializer,r):null)}getOverlays(e,n){const r=ei();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){const s=[];return r.forEach((i,o)=>{const a=new Cx(n,o);s.push(this.ht(e,a))}),U.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach(o=>s.add(ur(o.getCollectionPath())));const i=[];return s.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(Ku(e).H("collectionPathOverlayIndex",a))}),U.waitFor(i)}getOverlaysForCollection(e,n,r){const s=ei(),i=ur(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Ku(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=uy(this.serializer,l);s.set(c.getKey(),c)}return s})}getOverlaysForCollectionGroup(e,n,r,s){const i=ei();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ku(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=uy(this.serializer,c);i.size()<s||d.largestBatchId===o?(i.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>i)}ht(e,n){return Ku(e).put(function(s,i,o){const[a,l,c]=AI(i,o.mutation.key);return{userId:i,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:h2(s.ct,o.mutation)}}(this.serializer,this.userId,n))}}function Ku(t){return bn(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Vt(e.integerValue));else if("doubleValue"in e){const r=Vt(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Mh(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft($o(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?xk(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):de()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const s of Object.keys(r))this.Rt(s,n),this.It(r[s],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const s of r)this.It(s,n)}gt(e,n){this.Et(n,37),J.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}_a.bt=new _a;function cee(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function LI(t){const e=64-function(r){let s=0;for(let i=0;i<8;++i){const o=cee(255&r[i]);if(s+=o,o!==8)break}return s}(t);return Math.ceil(e/8)}class uee{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const s=n.codePointAt(0);this.Ct(240|s>>>18),this.Ct(128|63&s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const s=n.codePointAt(0);this.Mt(240|s>>>18),this.Mt(128|63&s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s)}}this.xt()}Lt(e){const n=this.Bt(e),r=LI(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}qt(e){const n=this.Bt(e),r=LI(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class dee{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class hee{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Qu{constructor(){this.Gt=new uee,this.zt=new dee(this.Gt),this.jt=new hee(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n,r,s){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=s}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new wa(this.indexId,this.documentKey,this.arrayValue,r)}}function Xi(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=MI(t.arrayValue,e.arrayValue),n!==0?n:(n=MI(t.directionalValue,e.directionalValue),n!==0?n:J.comparator(t.documentKey,e.documentKey)))}function MI(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.Yt=new mt((n,r)=>Nt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(ye(e.collectionGroup===this.collectionId),this.en)return!1;const n=a_(e);if(n!==void 0&&!this.nn(n))return!1;const r=pa(e);let s=new Set,i=0,o=0;for(;i<r.length&&this.nn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!s.has(a.field.canonicalString())){const l=r[i];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++i}for(;i<r.length;++i){const a=r[i];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new mt(Nt.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new J0(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new J0(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new J0(r.field,r.dir==="asc"?0:1)));return new a2(a2.UNKNOWN_ID,this.collectionId,n,Lh.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(t){var e,n;if(ye(t instanceof Ve||t instanceof at),t instanceof Ve){if(t instanceof Ak){const s=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(i=>Ve.create(t.field,"==",i)))||[];return at.create(s,"or")}return t}const r=t.filters.map(s=>aP(s));return at.create(r,t.op)}function fee(t){if(t.getFilters().length===0)return[];const e=E_(aP(t));return ye(lP(e)),w_(e)||x_(e)?[e]:e.getFilters()}function w_(t){return t instanceof Ve}function x_(t){return t instanceof at&&_x(t)}function lP(t){return w_(t)||x_(t)||function(n){if(n instanceof at&&h_(n)){for(const r of n.getFilters())if(!w_(r)&&!x_(r))return!1;return!0}return!1}(t)}function E_(t){if(ye(t instanceof Ve||t instanceof at),t instanceof Ve)return t;if(t.filters.length===1)return E_(t.filters[0]);const e=t.filters.map(r=>E_(r));let n=at.create(e,t.op);return n=p2(n),lP(n)?n:(ye(n instanceof at),ye(Gc(n)),ye(n.filters.length>1),n.filters.reduce((r,s)=>Rx(r,s)))}function Rx(t,e){let n;return ye(t instanceof Ve||t instanceof at),ye(e instanceof Ve||e instanceof at),n=t instanceof Ve?e instanceof Ve?function(s,i){return at.create([s,i],"and")}(t,e):OI(t,e):e instanceof Ve?OI(e,t):function(s,i){if(ye(s.filters.length>0&&i.filters.length>0),Gc(s)&&Gc(i))return Tk(s,i.getFilters());const o=h_(s)?s:i,a=h_(s)?i:s,l=o.filters.map(c=>Rx(c,a));return at.create(l,"or")}(t,e),p2(n)}function OI(t,e){if(Gc(e))return Tk(e,t.getFilters());{const n=e.filters.map(r=>Rx(t,r));return at.create(n,"or")}}function p2(t){if(ye(t instanceof Ve||t instanceof at),t instanceof Ve)return t;const e=t.getFilters();if(e.length===1)return p2(e[0]);if(Ck(t))return t;const n=e.map(s=>p2(s)),r=[];return n.forEach(s=>{s instanceof Ve?r.push(s):s instanceof at&&(s.op===t.op?r.push(...s.filters):r.push(s))}),r.length===1?r[0]:at.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pee{constructor(){this._n=new Ax}addToCollectionParentIndex(e,n){return this._n.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Br.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Br.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class Ax{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new mt(rt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new mt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=new Uint8Array(0);class mee{constructor(e,n){this.databaseId=n,this.an=new Ax,this.un=new na(r=>ol(r),(r,s)=>xf(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const i={collectionId:r,parent:ur(s)};return $I(e).put(i)}return U.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[dk(n),""],!1,!0);return $I(e).W(s).next(i=>{for(const o of i){if(o.collectionId!==n)break;r.push(Zs(o.parent))}return r})}addFieldIndex(e,n){const r=Yu(e),s=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=Bl(e);return i.next(a=>{o.put(kI(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const r=Yu(e),s=Bl(e),i=Ul(e);return r.delete(n.indexId).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Yu(e),r=Ul(e),s=Bl(e);return n.H().next(()=>r.H()).next(()=>s.H())}createTargetIndexes(e,n){return U.forEach(this.cn(n),r=>this.getIndexType(e,r).next(s=>{if(s===0||s===1){const i=new DI(r).on();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,n){const r=Ul(e);let s=!0;const i=new Map;return U.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{s&&(s=!!a),i.set(o,a)})).next(()=>{if(s){let o=Oe();const a=[];return U.forEach(i,(l,c)=>{K("IndexedDbIndexManager",`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(x=>`${x.fieldPath}:${x.kind}`).join(",")}`}(l)} to execute ${ol(n)}`);const u=function(_,x){const S=a_(x);if(S===void 0)return null;for(const b of c2(_,S.fieldPath))switch(b.op){case"array-contains-any":return b.value.arrayValue.values||[];case"array-contains":return[b.value]}return null}(c,l),d=function(_,x){const S=new Map;for(const b of pa(x))for(const T of c2(_,b.fieldPath))switch(T.op){case"==":case"in":S.set(b.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return S.set(b.fieldPath.canonicalString(),T.value),Array.from(S.values())}return null}(c,l),h=function(_,x){const S=[];let b=!0;for(const T of pa(x)){const C=T.kind===0?mI(_,T.fieldPath,_.startAt):gI(_,T.fieldPath,_.startAt);S.push(C.value),b&&(b=C.inclusive)}return new Fo(S,b)}(c,l),p=function(_,x){const S=[];let b=!0;for(const T of pa(x)){const C=T.kind===0?gI(_,T.fieldPath,_.endAt):mI(_,T.fieldPath,_.endAt);S.push(C.value),b&&(b=C.inclusive)}return new Fo(S,b)}(c,l),m=this.hn(l,c,h),y=this.hn(l,c,p),E=this.Pn(l,c,d),g=this.In(l.indexId,u,m,h.inclusive,y,p.inclusive,E);return U.forEach(g,w=>r.j(w,n.limit).next(_=>{_.forEach(x=>{const S=J.fromSegments(x.documentKey);o.has(S)||(o=o.add(S),a.push(S))})}))}).next(()=>a)}return U.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=fee(at.create(e.filters,"and")).map(r=>p_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,s,i,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,i.length),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){const h=n?this.Tn(n[d/c]):w0,p=this.En(e,h,r[d%c],s),m=this.dn(e,h,i[d%c],o),y=a.map(E=>this.En(e,h,E,!0));u.push(...this.createRange(p,m,y))}return u}En(e,n,r,s){const i=new wa(e,J.empty(),n,r);return s?i:i.Jt()}dn(e,n,r,s){const i=new wa(e,J.empty(),n,r);return s?i.Jt():i}ln(e,n){const r=new DI(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next(i=>{let o=null;for(const a of i)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const s=this.cn(n);return U.forEach(s,i=>this.ln(e,i).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new mt(Nt.comparator),u=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:c=c.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(u?1:0)}(i)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&s.length>1&&r===2?1:r)}An(e,n){const r=new Qu;for(const s of pa(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.Ht(s.kind);_a.bt.Pt(i,o)}return r.Wt()}Tn(e){const n=new Qu;return _a.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new Qu;return _a.bt.Pt(il(this.databaseId,n),r.Ht(function(i){const o=pa(i);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let s=[];s.push(new Qu);let i=0;for(const o of pa(e)){const a=r[i++];for(const l of s)if(this.Vn(n,o.fieldPath)&&$h(a))s=this.mn(s,o,a);else{const c=l.Ht(o.kind);_a.bt.Pt(a,c)}}return this.fn(s)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const a of s){const l=new Qu;l.seed(a.Wt()),_a.bt.Pt(o,l.Ht(n.kind)),i.push(l)}return i}Vn(e,n){return!!e.filters.find(r=>r instanceof Ve&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Yu(e),s=Bl(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(i=>{const o=[];return U.forEach(i,a=>s.get([a.indexId,this.uid]).next(l=>{o.push(function(u,d){const h=d?new Lh(d.sequenceNumber,new Br(cl(d.readTime),new J(Zs(d.documentKey)),d.largestBatchId)):Lh.empty(),p=u.fields.map(([m,y])=>new J0(Nt.fromServerFormat(m),y));return new a2(u.indexId,u.collectionGroup,p,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Pe(r.collectionGroup,s.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const s=Yu(e),i=Bl(e);return this.gn(e).next(o=>s.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>U.forEach(a,l=>i.put(kI(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return U.forEach(n,(s,i)=>{const o=r.get(s.collectionGroup);return(o?U.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next(a=>(r.set(s.collectionGroup,a),U.forEach(a,l=>this.pn(e,s,l).next(c=>{const u=this.yn(i,l);return c.isEqual(u)?U.resolve():this.wn(e,i,l,c,u)}))))})}Sn(e,n,r,s){return Ul(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,s){return Ul(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const s=Ul(e);let i=new mt(Xi);return s.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{i=i.add(new wa(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>i)}yn(e,n){let r=new mt(Xi);const s=this.An(n,e);if(s==null)return r;const i=a_(n);if(i!=null){const o=e.data.field(i.fieldPath);if($h(o))for(const a of o.arrayValue.values||[])r=r.add(new wa(n.indexId,e.key,this.Tn(a),s))}else r=r.add(new wa(n.indexId,e.key,w0,s));return r}wn(e,n,r,s,i){K("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,c,u,d,h){const p=l.getIterator(),m=c.getIterator();let y=Vl(p),E=Vl(m);for(;y||E;){let g=!1,w=!1;if(y&&E){const _=u(y,E);_<0?w=!0:_>0&&(g=!0)}else y!=null?w=!0:g=!0;g?(d(E),E=Vl(m)):w?(h(y),y=Vl(p)):(y=Vl(p),E=Vl(m))}}(s,i,Xi,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),U.waitFor(o)}gn(e){let n=1;return Bl(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,i)=>{i.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Xi(o,a)).filter((o,a,l)=>!a||Xi(o,l[a-1])!==0);const s=[];s.push(e);for(const o of r){const a=Xi(o,e),l=Xi(o,n);if(a===0)s[0]=e.Jt();else if(a>0&&l<0)s.push(o),s.push(o.Jt());else if(l>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.Dn(s[o],s[o+1]))return[];const a=[s[o].indexId,this.uid,s[o].arrayValue,s[o].directionalValue,w0,[]],l=[s[o+1].indexId,this.uid,s[o+1].arrayValue,s[o+1].directionalValue,w0,[]];i.push(IDBKeyRange.bound(a,l))}return i}Dn(e,n){return Xi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(jI)}getMinOffset(e,n){return U.mapArray(this.cn(n),r=>this.ln(e,r).next(s=>s||de())).next(jI)}}function $I(t){return bn(t,"collectionParents")}function Ul(t){return bn(t,"indexEntries")}function Yu(t){return bn(t,"indexConfiguration")}function Bl(t){return bn(t,"indexState")}function jI(t){ye(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;gx(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new Br(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class gr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new gr(e,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t,e,n){const r=t.store("mutations"),s=t.store("documentMutations"),i=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(u,d,h)=>(a++,h.delete()));i.push(l.next(()=>{ye(a===1)}));const c=[];for(const u of n.mutations){const d=mk(e,u.key.path,n.batchId);i.push(s.delete(d)),c.push(u.key)}return U.waitFor(i).next(()=>c)}function m2(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw de();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr.DEFAULT_COLLECTION_PERCENTILE=10,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gr.DEFAULT=new gr(41943040,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gr.DISABLED=new gr(-1,0,0);class Rg{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Cn={}}static lt(e,n,r,s){ye(e.uid!=="");const i=e.isAuthenticated()?e.uid:"";return new Rg(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ji(e).Y({index:"userMutationsIndex",range:r},(s,i,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,s){const i=Yl(e),o=Ji(e);return o.add({}).next(a=>{ye(typeof a=="number");const l=new Ex(a,n,r,s),c=function(p,m,y){const E=y.baseMutations.map(w=>h2(p.ct,w)),g=y.mutations.map(w=>h2(p.ct,w));return{userId:m,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:E,mutations:g}}(this.serializer,this.userId,l),u=[];let d=new mt((h,p)=>Pe(h.canonicalString(),p.canonicalString()));for(const h of s){const p=mk(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(o.put(c)),u.push(i.put(p,JJ))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),U.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return Ji(e).get(n).next(r=>r?(ye(r.userId===this.userId),va(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?U.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const s=r.keys();return this.Cn[n]=s,s}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Ji(e).Y({index:"userMutationsIndex",range:s},(o,a,l)=>{a.userId===this.userId&&(ye(a.batchId>=r),i=va(this.serializer,a)),l.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ji(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(s,i,o)=>{r=i.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ji(e).W("userMutationsIndex",n).next(r=>r.map(s=>va(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Z0(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return Yl(e).Y({range:s},(o,a,l)=>{const[c,u,d]=o,h=Zs(u);if(c===this.userId&&n.path.isEqual(h))return Ji(e).get(d).next(p=>{if(!p)throw de();ye(p.userId===this.userId),i.push(va(this.serializer,p))});l.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mt(Pe);const s=[];return n.forEach(i=>{const o=Z0(this.userId,i.path),a=IDBKeyRange.lowerBound(o),l=Yl(e).Y({range:a},(c,u,d)=>{const[h,p,m]=c,y=Zs(p);h===this.userId&&i.path.isEqual(y)?r=r.add(m):d.done()});s.push(l)}),U.waitFor(s).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=Z0(this.userId,r),o=IDBKeyRange.lowerBound(i);let a=new mt(Pe);return Yl(e).Y({range:o},(l,c,u)=>{const[d,h,p]=l,m=Zs(h);d===this.userId&&r.isPrefixOf(m)?m.length===s&&(a=a.add(p)):u.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],s=[];return n.forEach(i=>{s.push(Ji(e).get(i).next(o=>{if(o===null)throw de();ye(o.userId===this.userId),r.push(va(this.serializer,o))}))}),U.waitFor(s).next(()=>r)}removeMutationBatch(e,n){return cP(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),U.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return U.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),s=[];return Yl(e).Y({range:r},(i,o,a)=>{if(i[0]===this.userId){const l=Zs(i[1]);s.push(l)}else a.done()}).next(()=>{ye(s.length===0)})})}containsKey(e,n){return uP(e,this.userId,n)}xn(e){return dP(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function uP(t,e,n){const r=Z0(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return Yl(t).Y({range:i,J:!0},(a,l,c)=>{const[u,d,h]=a;u===e&&d===s&&(o=!0),c.done()}).next(()=>o)}function Ji(t){return bn(t,"mutations")}function Yl(t){return bn(t,"documentMutations")}function dP(t){return bn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ul(0)}static Ln(){return new ul(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new ul(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>we.fromTimestamp(new Mt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.kn(e,s)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>zl(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(ye(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let s=0;const i=[];return zl(e).Y((o,a)=>{const l=yd(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(s++,i.push(this.removeTargetData(e,l)))}).next(()=>U.waitFor(i)).next(()=>s)}forEachTarget(e,n){return zl(e).Y((r,s)=>{const i=yd(s);n(i)})}Bn(e){return VI(e).get("targetGlobalKey").next(n=>(ye(n!==null),n))}kn(e,n){return VI(e).put("targetGlobalKey",n)}qn(e,n){return zl(e).put(iP(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=ol(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return zl(e).Y({range:s,index:"queryTargetsIndex"},(o,a,l)=>{const c=yd(a);xf(n,c.target)&&(i=c,l.done())}).next(()=>i)}addMatchingKeys(e,n,r){const s=[],i=lo(e);return n.forEach(o=>{const a=ur(o.path);s.push(i.put({targetId:r,path:a})),s.push(this.referenceDelegate.addReference(e,r,o))}),U.waitFor(s)}removeMatchingKeys(e,n,r){const s=lo(e);return U.forEach(n,i=>{const o=ur(i.path);return U.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,n){const r=lo(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=lo(e);let i=Oe();return s.Y({range:r,J:!0},(o,a,l)=>{const c=Zs(o[1]),u=new J(c);i=i.add(u)}).next(()=>i)}containsKey(e,n){const r=ur(n.path),s=IDBKeyRange.bound([r],[dk(r)],!1,!0);let i=0;return lo(e).Y({index:"documentTargetsIndex",J:!0,range:s},([o,a],l,c)=>{o!==0&&(i++,c.done())}).next(()=>i>0)}_t(e,n){return zl(e).get(n).next(r=>r?yd(r):null)}}function zl(t){return bn(t,"targets")}function VI(t){return bn(t,"targetGlobal")}function lo(t){return bn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI([t,e],[n,r]){const s=Pe(t,n);return s===0?Pe(e,r):s}class yee{constructor(e){this.Kn=e,this.buffer=new mt(UI),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();UI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vee{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){K("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ta(n)?K("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await bl(n)}await this.zn(3e5)})}}class _ee{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(rs._e);const r=new yee(n);return this.jn.forEachTarget(e,s=>r.Wn(s.sequenceNumber)).next(()=>this.jn.Jn(e,s=>r.Wn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(FI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FI):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,s,i,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Gl()<=Fe.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d})))}}function wee(t,e){return new _ee(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xee{constructor(e,n){this.db=e,this.garbageCollector=wee(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,s)=>n(s))}addReference(e,n,r){return x0(e,r)}removeReference(e,n,r){return x0(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return x0(e,n)}er(e,n){return function(s,i){let o=!1;return dP(s).Z(a=>uP(s,a,i).next(l=>(l&&(o=!0),U.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Xn(e,(o,a)=>{if(a<=n){const l=this.er(e,o).next(c=>{if(!c)return i++,r.getEntry(e,o).next(()=>(r.removeEntry(o,we.min()),lo(e).delete(function(d){return[0,ur(d.path)]}(o))))});s.push(l)}}).next(()=>U.waitFor(s)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return x0(e,n)}Xn(e,n){const r=lo(e);let s,i=rs._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(i!==rs._e&&n(new J(Zs(s)),i),i=c,s=l):i=rs._e}).next(()=>{i!==rs._e&&n(new J(Zs(s)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function x0(t,e){return lo(t).put(function(r,s){return{targetId:0,path:ur(r.path),sequenceNumber:s}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.changes=new na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eee{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return aa(e).put(r)}removeEntry(e,n,r){return aa(e).delete(function(i,o){const a=i.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],f2(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=Ut.newInvalidDocument(n);return aa(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Xu(n))},(s,i)=>{r=this.nr(n,i)}).next(()=>r)}rr(e,n){let r={size:0,document:Ut.newInvalidDocument(n)};return aa(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Xu(n))},(s,i)=>{r={document:this.nr(n,i),size:m2(i)}}).next(()=>r)}getEntries(e,n){let r=Mr();return this.ir(e,n,(s,i)=>{const o=this.nr(s,i);r=r.insert(s,o)}).next(()=>r)}sr(e,n){let r=Mr(),s=new Gt(J.comparator);return this.ir(e,n,(i,o)=>{const a=this.nr(i,o);r=r.insert(i,a),s=s.insert(i,m2(o))}).next(()=>({documents:r,_r:s}))}ir(e,n,r){if(n.isEmpty())return U.resolve();let s=new mt(WI);n.forEach(l=>s=s.add(l));const i=IDBKeyRange.bound(Xu(s.first()),Xu(s.last())),o=s.getIterator();let a=o.getNext();return aa(e).Y({index:"documentKeyIndex",range:i},(l,c,u)=>{const d=J.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&WI(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?u.U(Xu(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,s,i){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),f2(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return aa(e).W(IDBKeyRange.bound(a,l,!0)).next(c=>{i==null||i.incrementDocumentReadCount(c.length);let u=Mr();for(const d of c){const h=this.nr(J.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(bf(n,h)||s.has(h.key))&&(u=u.insert(h.key,h))}return u})}getAllFromCollectionGroup(e,n,r,s){let i=Mr();const o=zI(n,r),a=zI(n,Br.max());return aa(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const d=this.nr(J.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);i=i.insert(d.key,d),i.size===s&&u.done()}).next(()=>i)}newChangeBuffer(e){return new bee(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return BI(e).get("remoteDocumentGlobalKey").next(n=>(ye(!!n),n))}tr(e,n){return BI(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=aee(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(we.min())))return r}return Ut.newInvalidDocument(e)}}function fP(t){return new Eee(t)}class bee extends hP{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new na(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const n=[];let r=0,s=new mt((i,o)=>Pe(i.canonicalString(),o.canonicalString()));return this.changes.forEach((i,o)=>{const a=this.ur.get(i);if(n.push(this.ar.removeEntry(e,i,a.readTime)),o.isValidDocument()){const l=RI(this.ar.serializer,o);s=s.add(i.path.popLast());const c=m2(l);r+=c-a.size,n.push(this.ar.addEntry(e,i,l))}else if(r-=a.size,this.trackRemovals){const l=RI(this.ar.serializer,o.convertToNoDocument(we.min()));n.push(this.ar.addEntry(e,i,l))}}),s.forEach(i=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,i))}),n.push(this.ar.updateMetadata(e,r)),U.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:s})=>(s.forEach((i,o)=>{this.ur.set(i,{size:o,readTime:r.get(i).readTime})}),r))}}function BI(t){return bn(t,"remoteDocumentGlobal")}function aa(t){return bn(t,"remoteDocumentsV14")}function Xu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function zI(t,e){const n=e.documentKey.path.toArray();return[t,f2(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function WI(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=Pe(n[i],r[i]),s)return s;return s=Pe(n.length,r.length),s||(s=Pe(n[n.length-2],r[r.length-2]),s||Pe(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cee{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&jd(r.mutation,s,xr.empty(),Mt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const s=ei();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=md();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Mr();const o=$d(),a=function(){return $d()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof qi)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),jd(u.mutation,c,u.mutation.getFieldMask(),Mt.now())):o.set(c.key,xr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new Cee(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=$d();let s=new Gt((o,a)=>o-a),i=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||xr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(s.get(a.batchId)||Oe()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=Dk();u.forEach(h=>{if(!i.has(h)){const p=Bk(n.get(h),r.get(h));p!==null&&d.set(h,p),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(ei());let a=-1,l=i;return o.next(c=>U.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(u)?U.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Oe())).next(u=>({batchId:a,changes:Mk(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let s=md();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=md();return this.indexManager.getCollectionParents(e,i).next(a=>U.forEach(a,l=>{const c=function(d,h){return new Il(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Ut.newInvalidDocument(u)))});let a=md();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&jd(u.mutation,c,xr.empty(),Mt.now()),bf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iee{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return U.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:dr(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:oP(s.bundledQuery),readTime:dr(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tee{constructor(){this.overlays=new Gt(J.comparator),this.hr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ei();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=ei(),i=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Gt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=ei(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ei(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return U.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Cx(n,r));let i=this.hr.get(n);i===void 0&&(i=Oe(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.Pr=new mt(hn.Ir),this.Tr=new mt(hn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new hn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new hn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new J(new rt([])),r=new hn(n,e),s=new hn(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new J(new rt([])),r=new hn(n,e),s=new hn(n,e+1);let i=Oe();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new hn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return J.comparator(e.key,n.key)||Pe(e.pr,n.pr)}static Er(e,n){return Pe(e.pr,n.pr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class See{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new mt(hn.Ir)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ex(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new hn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hn(n,0),s=new hn(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mt(Pe);return n.forEach(s=>{const i=new hn(s,0),o=new hn(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),U.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;J.isDocumentKey(i)||(i=i.child(""));const o=new hn(new J(i),0);let a=new mt(Pe);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.pr)),!0)},o),U.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ye(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return U.forEach(n.mutations,s=>{const i=new hn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new hn(n,0),s=this.wr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ree{constructor(e){this.vr=e,this.docs=function(){return new Gt(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let r=Mr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ut.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Mr();const o=n.path,a=new J(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||gx(hk(u),r)<=0||(s.has(u.key)||bf(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){de()}Fr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Aee(this)}getSize(e){return U.resolve(this.size)}}class Aee extends hP{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kee{constructor(e){this.persistence=e,this.Mr=new na(n=>ol(n),xf),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Or=0,this.Nr=new kx,this.targetCount=0,this.Lr=ul.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),U.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ul(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.qn(n),U.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,n){this.Br={},this.overlays={},this.kr=new rs(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new kee(this),this.indexManager=new pee,this.remoteDocumentCache=function(s){return new Ree(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new sP(n),this.$r=new Iee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Tee,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new See(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const s=new Pee(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return U.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Pee extends pk{constructor(e){super(),this.currentSequenceNumber=e}}class Ag{constructor(e){this.persistence=e,this.zr=new kx,this.jr=null}static Hr(e){return new Ag(e)}get Jr(){if(this.jr)return this.jr;throw de()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),U.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Jr,r=>{const s=J.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,we.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return U.or([()=>U.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nee{constructor(e){this.serializer=e}N(e,n,r,s){const i=new _g("createOrUpgrade",n);r<1&&s>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",iI,{unique:!0}),l.createObjectStore("documentMutations")}(e),HI(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=U.resolve();return r<3&&s>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),HI(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:we.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(i))),r<4&&s>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").W().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",iI,{unique:!0});const d=c.store("mutations"),h=u.map(p=>d.put(p));return U.waitFor(h)})}(e,i))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&s>=5&&(o=o.next(()=>this.Xr(i))),r<6&&s>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i)))),r<7&&s>=7&&(o=o.next(()=>this.ti(i))),r<8&&s>=8&&(o=o.next(()=>this.ni(e,i))),r<9&&s>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&s>=10&&(o=o.next(()=>this.ri(i))),r<11&&s>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:uZ});c.createIndex("collectionPathOverlayIndex",dZ,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",hZ,{unique:!1})})(e)})),r<13&&s>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:ZJ});c.createIndex("documentKeyIndex",eZ),c.createIndex("collectionGroupIndex",tZ)}(e)).next(()=>this.ii(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(o=o.next(()=>this.si(e,i))),r<15&&s>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:oZ}).createIndex("sequenceNumberIndex",aZ,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:lZ}).createIndex("documentKeyIndex",cZ,{unique:!1})}(e))),o}ei(e){let n=0;return e.store("remoteDocuments").Y((r,s)=>{n+=m2(s)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(s=>U.forEach(s,i=>{const o=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>U.forEach(a,l=>{ye(l.userId===i.userId);const c=va(this.serializer,l);return cP(e,i.userId,c).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const i=[];return r.Y((o,a)=>{const l=new rt(o),c=function(d){return[0,ur(d)]}(l);i.push(n.get(c).next(u=>u?U.resolve():(d=>n.put({targetId:0,path:ur(d),sequenceNumber:s.highestListenSequenceNumber}))(l)))}).next(()=>U.waitFor(i))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:iZ});const r=n.store("collectionParents"),s=new Ax,i=o=>{if(s.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:ur(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new rt(o);return i(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],c)=>{const u=Zs(a);return i(u.popLast())}))}ri(e){const n=e.store("targets");return n.Y((r,s)=>{const i=yd(s),o=iP(this.serializer,i);return n.put(o)})}ii(e,n){const r=n.store("remoteDocuments"),s=[];return r.Y((i,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new J(rt.fromString(d.document.name).popFirst(5)):d.noDocument?J.fromSegments(d.noDocument.path):d.unknownDocument?J.fromSegments(d.unknownDocument.path):de()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(a.put(c))}).next(()=>U.waitFor(s))}si(e,n){const r=n.store("mutations"),s=fP(this.serializer),i=new mP(Ag.Hr,this.serializer.ct);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:Oe();va(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),U.forEach(a,(l,c)=>{const u=new In(c),d=Sg.lt(this.serializer,u),h=i.getIndexManager(u),p=Rg.lt(u,this.serializer,h,i.referenceDelegate);return new pP(s,p,d,h).recalculateAndSaveOverlaysForDocumentKeys(new l_(n,rs._e),l).next()})})}}function HI(t){t.createObjectStore("targetDocuments",{keyPath:rZ}).createIndex("documentTargetsIndex",sZ,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nZ,{unique:!0}),t.createObjectStore("targetGlobal")}const dy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Px{constructor(e,n,r,s,i,o,a,l,c,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=i,this.window=o,this.document=a,this._i=c,this.ai=u,this.ui=d,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=h=>Promise.resolve(),!Px.D())throw new Y(H.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xee(this,s),this.Ti=n+"main",this.serializer=new sP(l),this.Ei=new Js(this.Ti,this.ui,new Nee(this.serializer)),this.Qr=new gee(this.referenceDelegate,this.serializer),this.remoteDocumentCache=fP(this.serializer),this.$r=new lee,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,u===!1&&rr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Y(H.FAILED_PRECONDITION,dy);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new rs(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>E0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(ta(e))return K("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return K("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Ju(e).get("owner").next(n=>U.resolve(this.Si(n)))}bi(e){return E0(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=bn(n,"clientMetadata");return r.W().next(s=>{const i=this.vi(s,18e5),o=s.filter(a=>i.indexOf(a)===-1);return U.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?U.resolve(!0):Ju(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new Y(H.FAILED_PRECONDITION,dy);return!1}}return!(!this.networkEnabled||!this.inForeground)||E0(e).W().next(r=>this.vi(r,5e3).find(s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,a=this.networkEnabled===s.networkEnabled;if(i||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&K("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new l_(e,rs._e);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>E0(e).W().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Rg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new mee(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Sg.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){K("IndexedDbPersistence","Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=function(l){return l===15?pZ:l===14?vk:l===13?yk:l===12?fZ:l===11?gk:void de()}(this.ui);let o;return this.Ei.runTransaction(e,s,i,a=>(o=new l_(a,this.kr?this.kr.next():rs._e),n==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw rr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Y(H.FAILED_PRECONDITION,fk);return r(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return Ju(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Y(H.FAILED_PRECONDITION,dy)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ju(e).put("owner",n)}static D(){return Js.D()}yi(e){const n=Ju(e);return n.get("owner").next(r=>this.Si(r)?(K("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):U.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(rr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;_A()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return K("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return rr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){rr("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ju(t){return bn(t,"owner")}function E0(t){return bn(t,"clientMetadata")}function Lee(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=Oe(),s=Oe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Nx(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mee{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return _A()?8:Js.v(sn())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Mee;return this.Ji(e,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(Gl()<=Fe.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Kl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),U.resolve()):(Gl()<=Fe.DEBUG&&K("QueryEngine","Query:",Kl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(Gl()<=Fe.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Kl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ls(n))):U.resolve())}ji(e,n){if(yI(n))return U.resolve(null);let r=ls(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=u2(n,null,"F"),r=ls(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Oe(...i);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,u2(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,s){return yI(n)||s.isEqual(we.min())?U.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?U.resolve(null):(Gl()<=Fe.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Kl(n)),this.es(e,o,n,HJ(s,-1)).next(a=>a))})}Zi(e,n){let r=new mt(Nk(e));return n.forEach((s,i)=>{bf(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return Gl()<=Fe.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Kl(n)),this.zi.getDocumentsMatchingQuery(e,n,Br.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dee{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new Gt(Pe),this.rs=new na(i=>ol(i),xf),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pP(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function yP(t,e,n,r){return new Dee(t,e,n,r)}async function vP(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Oe();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function Oee(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let p=U.resolve();return h.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(y=>{const E=c.docVersions.get(m);ye(E!==null),y.version.compareTo(E)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Oe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function _P(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function $ee(t,e){const n=Re(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];e.targetChanges.forEach((u,d)=>{const h=s.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(i,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(i,u.addedDocuments,d)));let p=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Mn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(d,p),function(y,E,g){return y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(h,p,u)&&a.push(n.Qr.updateTargetData(i,p))});let l=Mr(),c=Oe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(jee(i,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(we.min())){const u=n.Qr.getLastRemoteSnapshotVersion(i).next(d=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.ns=s,i))}function jee(t,e,n){let r=Oe(),s=Oe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Mr();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:s}})}function Fee(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Vee(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new Si(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function b_(t,e,n){const r=Re(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ta(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function qI(t,e,n){const r=Re(t);let s=we.min(),i=Oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=Re(l),h=d.rs.get(u);return h!==void 0?U.resolve(d.ns.get(h)):d.Qr.getTargetData(c,u)}(r,o,ls(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:we.min(),n?i:Oe())).next(a=>(Uee(r,RZ(e),a),{documents:a,hs:i})))}function Uee(t,e,n){let r=t.ss.get(e)||we.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class GI{constructor(){this.activeTargetIds=MZ()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wP{constructor(){this.no=new GI,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new GI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bee{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b0=null;function hy(){return b0===null?b0=function(){return 268435456+Math.round(2147483648*Math.random())}():b0++,"0x"+b0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wee{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="WebChannelConnection";class Hee extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const a=hy(),l=this.bo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,i,o),this.Co(n,l,c,s).then(u=>(K("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Do("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}vo(n,r,s,i,o,a){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=zee[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=hy();return new Promise((o,a)=>{const l=new MJ;l.setWithCredentials(!0),l.listenOnce(NJ.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case cy.NO_ERROR:const u=l.getResponseJson();K(Vn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case cy.TIMEOUT:K(Vn,`RPC '${e}' ${i} timed out`),a(new Y(H.DEADLINE_EXCEEDED,"Request time out"));break;case cy.HTTP_ERROR:const d=l.getStatus();if(K(Vn,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(E){const g=E.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(g)>=0?g:H.UNKNOWN}(p.status);a(new Y(m,p.message))}else a(new Y(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Y(H.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{K(Vn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);K(Vn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const s=hy(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kJ(),a=PJ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");K(Vn,`Creating RPC '${e}' stream ${s}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,p=!1;const m=new Wee({lo:E=>{p?K(Vn,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(h||(K(Vn,`Opening RPC '${e}' stream ${s} transport.`),d.open(),h=!0),K(Vn,`RPC '${e}' stream ${s} sending:`,E),d.send(E))},ho:()=>d.close()}),y=(E,g,w)=>{E.listen(g,_=>{try{w(_)}catch(x){setTimeout(()=>{throw x},0)}})};return y(d,v0.EventType.OPEN,()=>{p||K(Vn,`RPC '${e}' stream ${s} transport opened.`)}),y(d,v0.EventType.CLOSE,()=>{p||(p=!0,K(Vn,`RPC '${e}' stream ${s} transport closed`),m.Vo())}),y(d,v0.EventType.ERROR,E=>{p||(p=!0,Do(Vn,`RPC '${e}' stream ${s} transport errored:`,E),m.Vo(new Y(H.UNAVAILABLE,"The operation could not be completed")))}),y(d,v0.EventType.MESSAGE,E=>{var g;if(!p){const w=E.data[0];ye(!!w);const _=w,x=_.error||((g=_[0])===null||g===void 0?void 0:g.error);if(x){K(Vn,`RPC '${e}' stream ${s} received error:`,x);const S=x.status;let b=function(A){const I=Jt[A];if(I!==void 0)return Hk(I)}(S),T=x.message;b===void 0&&(b=H.INTERNAL,T="Unknown error status: "+S+" with message "+x.message),p=!0,m.Vo(new Y(b,T)),d.close()}else K(Vn,`RPC '${e}' stream ${s} received:`,w),m.mo(w)}}),y(a,LJ.STAT_EVENT,E=>{E.stat===tI.PROXY?K(Vn,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===tI.NOPROXY&&K(Vn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qee(){return typeof window<"u"?window:null}function sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t){return new XZ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&K("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n,r,s,i,o,a,l){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new xP(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new Y(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gee extends EP{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=eee(this.serializer,e),r=function(i){if(!("targetChange"in i))return we.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?we.min():o.readTime?dr(o.readTime):we.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=v_(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=l2(l)?{documents:Zk(i,l)}:{query:Sx(i,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Kk(i,o.resumeToken);const c=g_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(we.min())>0){a.readTime=Yc(i,o.snapshotVersion.toTimestamp());const c=g_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=nee(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=v_(this.serializer),n.removeTarget=e,this.t_(n)}}class Kee extends EP{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=tee(e.writeResults,e.commitTime),r=dr(e.commitTime);return this.listener.T_(r,n)}return ye(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=v_(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>h2(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new Y(H.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,y_(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(H.UNKNOWN,i.toString())})}vo(e,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,y_(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(H.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}async function Yee(t,e,n){var r;const s=Re(t),{request:i,V_:o,parent:a}=function(d,h,p){const{ut:m,parent:y}=Sx(d,h),E={},g=[];let w=0;return p.forEach(_=>{const x="aggregate_"+w++;E[x]=_.alias,_.aggregateType==="count"?g.push({alias:x,count:{}}):_.aggregateType==="avg"?g.push({alias:x,avg:{field:ao(_.fieldPath)}}):_.aggregateType==="sum"&&g.push({alias:x,sum:{field:ao(_.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:g,structuredQuery:m.structuredQuery},parent:m.parent},V_:E,parent:y}}(s.serializer,function(d){const h=Re(d);return h.Pe||(h.Pe=kk(h,d.explicitOrderBy)),h.Pe}(e),n);s.connection.wo||delete i.parent;const l=(await s.vo("RunAggregationQuery",s.serializer.databaseId,a,i,1)).filter(u=>!!u.result);ye(l.length===1);const c=(r=l[0].result)===null||r===void 0?void 0:r.aggregateFields;return Object.keys(c).reduce((u,d)=>(u[o[d]]=c[d],u),{})}class Xee{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(rr(n),this.g_=!1):K("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jee{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{Tl(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Re(l);c.v_.add(4),await If(c),c.x_.set("Unknown"),c.v_.delete(4),await Pg(c)}(this))})}),this.x_=new Xee(r,s)}}async function Pg(t){if(Tl(t))for(const e of t.F_)await e(!0)}async function If(t){for(const e of t.F_)await e(!1)}function bP(t,e){const n=Re(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Ox(n)?Dx(n):bu(n).Jo()&&Mx(n,e))}function Lx(t,e){const n=Re(t),r=bu(n);n.C_.delete(e),r.Jo()&&CP(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Tl(n)&&n.x_.set("Unknown"))}function Mx(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bu(t).c_(e)}function CP(t,e){t.O_.Oe(e),bu(t).l_(e)}function Dx(t){t.O_=new GZ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),bu(t).start(),t.x_.p_()}function Ox(t){return Tl(t)&&!bu(t).Ho()&&t.C_.size>0}function Tl(t){return Re(t).v_.size===0}function IP(t){t.O_=void 0}async function Zee(t){t.C_.forEach((e,n)=>{Mx(t,e)})}async function ete(t,e){IP(t),Ox(t)?(t.x_.S_(e),Dx(t)):t.x_.set("Unknown")}async function tte(t,e,n){if(t.x_.set("Online"),e instanceof Gk&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.C_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.C_.delete(a),s.O_.removeTarget(a))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await g2(t,r)}else if(e instanceof rp?t.O_.$e(e):e instanceof qk?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(we.min()))try{const r=await _P(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.C_.get(c);u&&i.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.C_.get(l);if(!u)return;i.C_.set(l,u.withResumeToken(Mn.EMPTY_BYTE_STRING,u.snapshotVersion)),CP(i,l);const d=new Si(u.target,l,c,u.sequenceNumber);Mx(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await g2(t,r)}}async function g2(t,e,n){if(!ta(e))throw e;t.v_.add(1),await If(t),t.x_.set("Offline"),n||(n=()=>_P(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Pg(t)})}function TP(t,e){return e().catch(n=>g2(t,n,e))}async function Tf(t){const e=Re(t),n=Vo(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;nte(e);)try{const s=await Fee(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,rte(e,s)}catch(s){await g2(e,s)}SP(e)&&RP(e)}function nte(t){return Tl(t)&&t.D_.length<10}function rte(t,e){t.D_.push(e);const n=Vo(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function SP(t){return Tl(t)&&!Vo(t).Ho()&&t.D_.length>0}function RP(t){Vo(t).start()}async function ste(t){Vo(t).d_()}async function ite(t){const e=Vo(t);for(const n of t.D_)e.I_(n.mutations)}async function ote(t,e,n){const r=t.D_.shift(),s=bx.from(r,e,n);await TP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Tf(t)}async function ate(t,e){e&&Vo(t).P_&&await async function(r,s){if(function(o){return WZ(o)&&o!==H.ABORTED}(s.code)){const i=r.D_.shift();Vo(r).Zo(),await TP(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Tf(r)}}(t,e),SP(t)&&RP(t)}async function QI(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=Tl(n);n.v_.add(3),await If(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Pg(n)}async function lte(t,e){const n=Re(t);e?(n.v_.delete(2),await Pg(n)):e||(n.v_.add(2),await If(n),n.x_.set("Unknown"))}function bu(t){return t.N_||(t.N_=function(n,r,s){const i=Re(n);return i.R_(),new Gee(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:Zee.bind(null,t),To:ete.bind(null,t),u_:tte.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Ox(t)?Dx(t):t.x_.set("Unknown")):(await t.N_.stop(),IP(t))})),t.N_}function Vo(t){return t.L_||(t.L_=function(n,r,s){const i=Re(n);return i.R_(),new Kee(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:ste.bind(null,t),To:ate.bind(null,t),E_:ite.bind(null,t),T_:ote.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Tf(t)):(await t.L_.stop(),t.D_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new $x(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jx(t,e){if(rr("AsyncQueue",`${e}: ${t}`),ta(t))return new Y(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=md(),this.sortedSet=new Gt(this.comparator)}static emptySet(e){return new Ac(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ac)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ac;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.B_=new Gt(J.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):de():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xc{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Xc(e,n,Ac.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cte{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class ute{constructor(){this.queries=new na(e=>Pk(e),Eg),this.onlineState="Unknown",this.W_=new Set}}async function Fx(t,e){const n=Re(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.K_()&&e.U_()&&(r=2):(i=new cte,r=e.U_()?0:1);try{switch(r){case 0:i.q_=await n.onListen(s,!0);break;case 1:i.q_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=jx(o,`Initialization of query '${Kl(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Q_.push(e),e.G_(n.onlineState),i.q_&&e.z_(i.q_)&&Ux(n)}async function Vx(t,e){const n=Re(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Q_.indexOf(e);o>=0&&(i.Q_.splice(o,1),i.Q_.length===0?s=e.U_()?0:1:!i.K_()&&e.U_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dte(t,e){const n=Re(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Q_)a.z_(s)&&(r=!0);o.q_=s}}r&&Ux(n)}function hte(t,e,n){const r=Re(t),s=r.queries.get(e);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(e)}function Ux(t){t.W_.forEach(e=>{e.next()})}var C_,XI;(XI=C_||(C_={})).j_="default",XI.Cache="cache";class Bx{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Xc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==C_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.key=e}}class kP{constructor(e){this.key=e}}class fte{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Oe(),this.mutatedKeys=Oe(),this.ha=Nk(e),this.Pa=new Ac(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new YI,s=n?n.Pa:this.Pa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,d)=>{const h=s.get(u),p=bf(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;h&&p?h.data.isEqual(p.data)?m!==y&&(r.track({type:3,doc:p}),E=!0):this.da(h,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.ha(p,l)>0||c&&this.ha(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),E=!0):h&&!p&&(r.track({type:1,doc:h}),E=!0,(l||c)&&(a=!0)),E&&(p?(o=o.add(p),i=y?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:i}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((u,d)=>function(p,m){const y=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return y(p)-y(m)}(u.type,d.type)||this.ha(u.doc,d.doc)),this.Aa(r),s=s!=null&&s;const a=n&&!s?this.Ra():[],l=this.la.size===0&&this.current&&!s?1:0,c=l!==this.ca;return this.ca=l,o.length!==0||c?{snapshot:new Xc(this.query,e.Pa,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new YI,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=Oe(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new kP(r))}),this.la.forEach(r=>{e.has(r)||n.push(new AP(r))}),n}fa(e){this.ua=e.hs,this.la=Oe();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Xc.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class pte{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mte{constructor(e){this.key=e,this.pa=!1}}class gte{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new na(a=>Pk(a),Eg),this.Sa=new Map,this.ba=new Set,this.Da=new Gt(J.comparator),this.Ca=new Map,this.va=new kx,this.Fa={},this.Ma=new Map,this.xa=ul.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function yte(t,e,n=!0){const r=OP(t);let s;const i=r.wa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ga()):s=await PP(r,e,n,!0),s}async function vte(t,e){const n=OP(t);await PP(n,e,!0,!1)}async function PP(t,e,n,r){const s=await Vee(t.localStore,ls(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await _te(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&bP(t.remoteStore,s),a}async function _te(t,e,n,r,s){t.Na=(d,h,p)=>async function(y,E,g,w){let _=E.view.Ta(g);_.Xi&&(_=await qI(y.localStore,E.query,!1).then(({documents:T})=>E.view.Ta(T,_)));const x=w&&w.targetChanges.get(E.targetId),S=w&&w.targetMismatches.get(E.targetId)!=null,b=E.view.applyChanges(_,y.isPrimaryClient,x,S);return ZI(y,E.targetId,b.Va),b.snapshot}(t,d,h,p);const i=await qI(t.localStore,e,!0),o=new fte(e,i.hs),a=o.Ta(i.documents),l=Cf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);ZI(t,n,c.Va);const u=new pte(e,n,o);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot}async function wte(t,e,n){const r=Re(t),s=r.wa.get(e),i=r.Sa.get(s.targetId);if(i.length>1)return r.Sa.set(s.targetId,i.filter(o=>!Eg(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await b_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Lx(r.remoteStore,s.targetId),I_(r,s.targetId)}).catch(bl)):(I_(r,s.targetId),await b_(r.localStore,s.targetId,!0))}async function xte(t,e){const n=Re(t),r=n.wa.get(e),s=n.Sa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Lx(n.remoteStore,r.targetId))}async function Ete(t,e,n){const r=$P(t);try{const s=await function(o,a){const l=Re(o),c=Mt.now(),u=a.reduce((p,m)=>p.add(m.key),Oe());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Mr(),y=Oe();return l.os.getEntries(p,u).next(E=>{m=E,m.forEach((g,w)=>{w.isValidDocument()||(y=y.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(E=>{d=E;const g=[];for(const w of a){const _=UZ(w,d.get(w.key).overlayedDocument);_!=null&&g.push(new qi(w.key,_,Ek(_.value.mapValue),qn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,g,a)}).next(E=>{h=E;const g=E.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,E.batchId,g)})}).then(()=>({batchId:h.batchId,changes:Mk(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Fa[o.currentUser.toKey()];c||(c=new Gt(Pe)),c=c.insert(a,l),o.Fa[o.currentUser.toKey()]=c}(r,s.batchId,n),await Sf(r,s.changes),await Tf(r.remoteStore)}catch(s){const i=jx(s,"Failed to persist write");n.reject(i)}}async function NP(t,e){const n=Re(t);try{const r=await $ee(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ca.get(i);o&&(ye(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.pa=!0:s.modifiedDocuments.size>0?ye(o.pa):s.removedDocuments.size>0&&(ye(o.pa),o.pa=!1))}),await Sf(n,r,e)}catch(r){await bl(r)}}function JI(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wa.forEach((i,o)=>{const a=o.view.G_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Re(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.Q_)h.G_(a)&&(c=!0)}),c&&Ux(l)}(r.eventManager,e),s.length&&r.ya.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bte(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ca.get(e),i=s&&s.key;if(i){let o=new Gt(J.comparator);o=o.insert(i,Ut.newNoDocument(i,we.min()));const a=Oe().add(i),l=new Tg(we.min(),new Map,new Gt(Pe),o,a);await NP(r,l),r.Da=r.Da.remove(i),r.Ca.delete(e),zx(r)}else await b_(r.localStore,e,!1).then(()=>I_(r,e,n)).catch(bl)}async function Cte(t,e){const n=Re(t),r=e.batch.batchId;try{const s=await Oee(n.localStore,e);MP(n,r,null),LP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sf(n,s)}catch(s){await bl(s)}}async function Ite(t,e,n){const r=Re(t);try{const s=await function(o,a){const l=Re(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(ye(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);MP(r,e,n),LP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sf(r,s)}catch(s){await bl(s)}}function LP(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function MP(t,e,n){const r=Re(t);let s=r.Fa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Fa[r.currentUser.toKey()]=s}}function I_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||DP(t,r)})}function DP(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(Lx(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),zx(t))}function ZI(t,e,n){for(const r of n)r instanceof AP?(t.va.addReference(r.key,e),Tte(t,r)):r instanceof kP?(K("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||DP(t,r.key)):de()}function Tte(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(K("SyncEngine","New document in limbo: "+n),t.ba.add(r),zx(t))}function zx(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new J(rt.fromString(e)),r=t.xa.next();t.Ca.set(r,new mte(n)),t.Da=t.Da.insert(n,r),bP(t.remoteStore,new Si(ls(Ef(n.path)),r,"TargetPurposeLimboResolution",rs._e))}}async function Sf(t,e,n){const r=Re(t),s=[],i=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=Nx.Ki(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.ya.u_(s),await async function(l,c){const u=Re(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>U.forEach(c,h=>U.forEach(h.qi,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>U.forEach(h.Qi,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!ta(d))throw d;K("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.ns.get(h),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);u.ns=u.ns.insert(h,y)}}}(r.localStore,i))}async function Ste(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await vP(n.localStore,e);n.currentUser=e,function(i,o){i.Ma.forEach(a=>{a.forEach(l=>{l.reject(new Y(H.CANCELLED,o))})}),i.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sf(n,r.us)}}function Rte(t,e){const n=Re(t),r=n.Ca.get(e);if(r&&r.pa)return Oe().add(r.key);{let s=Oe();const i=n.Sa.get(e);if(!i)return s;for(const o of i){const a=n.wa.get(o);s=s.unionWith(a.view.Ia)}return s}}function OP(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rte.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bte.bind(null,e),e.ya.u_=dte.bind(null,e.eventManager),e.ya.La=hte.bind(null,e.eventManager),e}function $P(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cte.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ite.bind(null,e),e}class T_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=kg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return yP(this.persistence,new gP,e.initialUser,this.serializer)}createPersistence(e){return new mP(Ag.Hr,this.serializer)}createSharedClientState(e){return new wP}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Ate extends T_{constructor(e,n,r){super(),this.ka=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ka.initialize(this,e),await $P(this.ka.syncEngine),await Tf(this.ka.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return yP(this.persistence,new gP,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new vee(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new QJ(n,this.persistence);return new KJ(e.asyncQueue,r)}createPersistence(e){const n=Lee(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?gr.withCacheSize(this.cacheSizeBytes):gr.DEFAULT;return new Px(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,qee(),sp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new wP}}class jP{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>JI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ste.bind(null,this.syncEngine),await lte(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ute}()}createDatastore(e){const n=kg(e.databaseInfo.databaseId),r=function(i){return new Hee(i)}(e.databaseInfo);return function(i,o,a,l){return new Qee(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new Jee(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>JI(this.syncEngine,n,0),function(){return KI.D()?new KI:new Bee}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const d=new gte(s,i,o,a,l,c);return u&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=Re(r);K("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await If(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kte{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=In.UNAUTHENTICATED,this.clientId=uk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{K("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(K("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ip(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await vP(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function S_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Pte(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>QI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>QI(e.remoteStore,s)),t._onlineComponents=e}function FP(t){return t.name==="FirebaseError"?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Pte(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await ip(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!FP(n))throw n;Do("Error using user provided cache. Falling back to memory cache: "+n),await ip(t,new T_)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await ip(t,new T_);return t._offlineComponents}async function Hx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await S_(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await S_(t,new jP))),t._onlineComponents}function Nte(t){return Hx(t).then(e=>e.syncEngine)}function Lte(t){return Hx(t).then(e=>e.datastore)}async function y2(t){const e=await Hx(t),n=e.eventManager;return n.onListen=yte.bind(null,e.syncEngine),n.onUnlisten=wte.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vte.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xte.bind(null,e.syncEngine),n}function Mte(t,e,n={}){const r=new as;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new Wx({next:h=>{o.enqueueAndForget(()=>Vx(i,d));const p=h.docs.has(a);!p&&h.fromCache?c.reject(new Y(H.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new Y(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new Bx(Ef(a.path),u,{includeMetadataChanges:!0,ta:!0});return Fx(i,d)}(await y2(t),t.asyncQueue,e,n,r)),r.promise}function Dte(t,e,n={}){const r=new as;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new Wx({next:h=>{o.enqueueAndForget(()=>Vx(i,d)),h.fromCache&&l.source==="server"?c.reject(new Y(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new Bx(a,u,{includeMetadataChanges:!0,ta:!0});return Fx(i,d)}(await y2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(t,e,n){if(!n)throw new Y(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ote(t,e,n,r){if(e===!0&&r===!0)throw new Y(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function t4(t){if(!J.isDocumentKey(t))throw new Y(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function n4(t){if(J.isDocumentKey(t))throw new Y(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ng(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de()}function Xn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ng(t);throw new Y(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function $te(t,e){if(e<=0)throw new Y(H.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ote("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Y(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Y(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Y(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r4(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new OJ;switch(r.type){case"firstParty":return new VJ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=e4.get(n);r&&(K("ComponentProvider","Removing Datastore"),e4.delete(n),r.terminate())}(this),Promise.resolve()}}function jte(t,e,n,r={}){var s;const i=(t=Xn(t,Lg))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=In.MOCK_USER;else{a=M3(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Y(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new In(c)}t._authCredentials=new $J(new ck(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new di(this.firestore,e,this._query)}}class Jn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class Ao extends di{constructor(e,n,r){super(e,n,Ef(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new J(e))}withConverter(e){return new Ao(this.firestore,e,this._path)}}function Ne(t,e,...n){if(t=xt(t),UP("collection","path",e),t instanceof Lg){const r=rt.fromString(e,...n);return n4(r),new Ao(t,null,r)}{if(!(t instanceof Jn||t instanceof Ao))throw new Y(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return n4(r),new Ao(t.firestore,null,r)}}function ge(t,e,...n){if(t=xt(t),arguments.length===1&&(e=uk.newId()),UP("doc","path",e),t instanceof Lg){const r=rt.fromString(e,...n);return t4(r),new Jn(t,null,new J(r))}{if(!(t instanceof Jn||t instanceof Ao))throw new Y(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return t4(r),new Jn(t.firestore,t instanceof Ao?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fte{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new xP(this,"async_queue_retry"),this.cu=()=>{const n=sp();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=sp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=sp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new as;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!ta(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw rr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const s=$x.createAndSchedule(this,e,n,r,i=>this.Iu(i));return this.su.push(s),s}lu(){this.ou&&de()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function s4(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Os extends Lg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new Fte}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||BP(this),this._firestoreClient.terminate()}}function Vte(t,e){const n=typeof t=="object"?t:Jm(),r=typeof t=="string"?t:e||"(default)",s=lf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=N3("firestore");i&&jte(s,...i)}return s}function Cu(t){return t._firestoreClient||BP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function BP(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new gZ(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,VP(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new kte(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}function Ute(t,e){zte(t=Xn(t,Os));const n=Cu(t);if(n._uninitializedComponentsProvider)throw new Y(H.FAILED_PRECONDITION,"SDK cache is already specified.");Do("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),s=new jP;return Bte(n,s,new Ate(s,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function Bte(t,e,n){const r=new as;return t.asyncQueue.enqueue(async()=>{try{await ip(t,n),await S_(t,e),r.resolve()}catch(s){const i=s;if(!FP(i))throw i;Do("Error enabling indexeddb cache. Falling back to memory cache: "+i),r.reject(i)}}).then(()=>r.promise)}function zte(t){if(t._initialized||t._terminated)throw new Y(H.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wte{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class Hte{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jc(Mn.fromBase64String(e))}catch(n){throw new Y(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jc(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qte=/^__.*__$/;class Gte{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eu(e,this.data,n,this.fieldTransforms)}}class zP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class Dg{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Dg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.pu(e),s}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.Ru(),s}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return v2(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(WP(this.Vu)&&qte.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class Kte{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kg(e)}Cu(e,n,r,s=!1){return new Dg({Vu:e,methodName:n,Du:r,path:Nt.emptyPath(),gu:!1,bu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Af(t){const e=t._freezeSettings(),n=kg(t._databaseId);return new Kte(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HP(t,e,n,r,s,i={}){const o=t.Cu(i.merge||i.mergeFields?2:0,e,n,s);Qx("Data must be an object, but it was:",o,r);const a=GP(r,o);let l,c;if(i.merge)l=new xr(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const h=R_(e,d,n);if(!o.contains(h))throw new Y(H.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);QP(u,h)||u.push(h)}l=new xr(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Gte(new Hn(a),l,c)}class Og extends Rf{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Og}}function Qte(t,e,n){return new Dg({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Gx extends Rf{_toFieldTransform(e){return new xx(e.path,new Kc)}isEqual(e){return e instanceof Gx}}class Kx extends Rf{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=Qte(this,e,!0),r=this.vu.map(i=>Iu(i,n)),s=new al(r);return new xx(e.path,s)}isEqual(e){return e instanceof Kx&&vh(this.vu,e.vu)}}function Yte(t,e,n,r){const s=t.Cu(1,e,n);Qx("Data must be an object, but it was:",s,r);const i=[],o=Hn.empty();Cl(r,(l,c)=>{const u=Yx(e,l,n);c=xt(c);const d=s.yu(u);if(c instanceof Og)i.push(u);else{const h=Iu(c,d);h!=null&&(i.push(u),o.set(u,h))}});const a=new xr(i);return new zP(o,a,s.fieldTransforms)}function Xte(t,e,n,r,s,i){const o=t.Cu(1,e,n),a=[R_(e,r,n)],l=[s];if(i.length%2!=0)throw new Y(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(R_(e,i[h])),l.push(i[h+1]);const c=[],u=Hn.empty();for(let h=a.length-1;h>=0;--h)if(!QP(c,a[h])){const p=a[h];let m=l[h];m=xt(m);const y=o.yu(p);if(m instanceof Og)c.push(p);else{const E=Iu(m,y);E!=null&&(c.push(p),u.set(p,E))}}const d=new xr(c);return new zP(u,d,o.fieldTransforms)}function qP(t,e,n,r=!1){return Iu(n,t.Cu(r?4:3,e))}function Iu(t,e){if(KP(t=xt(t)))return Qx("Unsupported field value:",e,t),GP(t,e);if(t instanceof Rf)return function(r,s){if(!WP(s.Vu))throw s.Su(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Su(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Iu(a,s.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DZ(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Mt.fromDate(r);return{timestampValue:Yc(s.serializer,i)}}if(r instanceof Mt){const i=new Mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yc(s.serializer,i)}}if(r instanceof qx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jc)return{bytesValue:Kk(s.serializer,r._byteString)};if(r instanceof Jn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Tx(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Su(`Unsupported field value: ${Ng(r)}`)}(t,e)}function GP(t,e){const n={};return _k(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cl(t,(r,s)=>{const i=Iu(s,e.fu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function KP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof qx||t instanceof Jc||t instanceof Jn||t instanceof Rf)}function Qx(t,e,n){if(!KP(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Ng(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function R_(t,e,n){if((e=xt(e))instanceof Mg)return e._internalPath;if(typeof e=="string")return Yx(t,e);throw v2("Field path arguments must be of type string or ",t,!1,void 0,n)}const Jte=new RegExp("[~\\*/\\[\\]]");function Yx(t,e,n){if(e.search(Jte)>=0)throw v2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mg(...e.split("."))._internalPath}catch{throw v2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function v2(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Y(H.INVALID_ARGUMENT,a+t+l)}function QP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Zte(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($g("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Zte extends Xx{data(){return super.data()}}function $g(t,e){return typeof e=="string"?Yx(t,e):e instanceof Mg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jx{}class jg extends Jx{}function hr(t,e,...n){let r=[];e instanceof Jx&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Zx).length,a=i.filter(l=>l instanceof Fg).length;if(o>1||o>0&&a>0)throw new Y(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Fg extends jg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Fg(e,n,r)}_apply(e){const n=this._parse(e);return XP(e._query,n),new di(e.firestore,e.converter,m_(e._query,n))}_parse(e){const n=Af(e.firestore);return function(i,o,a,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Y(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){o4(d,u);const p=[];for(const m of d)p.push(i4(l,i,m));h={arrayValue:{values:p}}}else h=i4(l,i,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||o4(d,u),h=qP(a,o,d,u==="in"||u==="not-in");return Ve.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Vg(t,e,n){const r=e,s=$g("where",t);return Fg._create(s,r,n)}class Zx extends Jx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:at.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)XP(o,l),o=m_(o,l)}(e._query,n),new di(e.firestore,e.converter,m_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class e5 extends jg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new e5(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Y(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Y(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jh(i,o)}(e._query,this._field,this._direction);return new di(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Il(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function ja(t,e="asc"){const n=e,r=$g("orderBy",t);return e5._create(r,n)}class t5 extends jg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t5(e,n,r)}_apply(e){return new di(e.firestore,e.converter,u2(e._query,this._limit,this._limitType))}}function Fa(t){return $te("limit",t),t5._create("limit",t,"F")}class Ug extends jg{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Ug(e,n,r)}_apply(e){const n=tne(e,this.type,this._docOrFields,this._inclusive);return new di(e.firestore,e.converter,function(s,i){return new Il(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function ene(...t){return Ug._create("startAt",t,!0)}function Bg(...t){return Ug._create("startAfter",t,!1)}function tne(t,e,n,r){if(n[0]=xt(n[0]),n[0]instanceof Xx)return function(i,o,a,l,c){if(!l)throw new Y(H.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of Rc(i))if(d.field.isKeyField())u.push(il(o,l.key));else{const h=l.data.field(d.field);if(xg(h))throw new Y(H.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=d.field.canonicalString();throw new Y(H.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(h)}return new Fo(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=Af(t.firestore);return function(o,a,l,c,u,d){const h=o.explicitOrderBy;if(u.length>h.length)throw new Y(H.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let m=0;m<u.length;m++){const y=u[m];if(h[m].field.isKeyField()){if(typeof y!="string")throw new Y(H.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof y}`);if(!wx(o)&&y.indexOf("/")!==-1)throw new Y(H.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${y}' contains a slash.`);const E=o.path.child(rt.fromString(y));if(!J.isDocumentKey(E))throw new Y(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const g=new J(E);p.push(il(a,g))}else{const E=qP(l,c,y);p.push(E)}}return new Fo(p,d)}(t._query,t.firestore._databaseId,s,e,n,r)}}function i4(t,e,n){if(typeof(n=xt(n))=="string"){if(n==="")throw new Y(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wx(e)&&n.indexOf("/")!==-1)throw new Y(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!J.isDocumentKey(r))throw new Y(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return il(t,new J(r))}if(n instanceof Jn)return il(t,n._key);throw new Y(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ng(n)}.`)}function o4(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XP(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class nne{convertValue(e,n="none"){switch(sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw de()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cl(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new qx(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dh(e));default:return null}}convertTimestamp(e){const n=Oo(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);ye(rP(r));const s=new rl(r.get(1),r.get(3)),i=new J(r.popFirst(5));return s.isEqual(n)||rr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function rne(){return new Wte("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZP extends Xx{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new op(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($g("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class op extends ZP{data(e={}){return super.data(e)}}class e8{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new vd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new op(this._firestore,this._userDataWriter,r.key,r,new vd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new op(s._firestore,s._userDataWriter,a.doc.key,a.doc,new vd(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new op(s._firestore,s._userDataWriter,a.doc.key,a.doc,new vd(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:sne(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sne(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(t){t=Xn(t,Jn);const e=Xn(t.firestore,Os);return Mte(Cu(e),t._key).then(n=>t8(e,t,n))}class zg extends nne{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,n)}}function Fi(t){t=Xn(t,di);const e=Xn(t.firestore,Os),n=Cu(e),r=new zg(e);return YP(t._query),Dte(n,t._query).then(s=>new e8(e,r,t,s))}function Va(t,e,n){t=Xn(t,Jn);const r=Xn(t.firestore,Os),s=JP(t.converter,e,n);return Wg(r,[HP(Af(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,qn.none())])}function or(t,e,n,...r){t=Xn(t,Jn);const s=Xn(t.firestore,Os),i=Af(s);let o;return o=typeof(e=xt(e))=="string"||e instanceof Mg?Xte(i,"updateDoc",t._key,e,n,r):Yte(i,"updateDoc",t._key,e),Wg(s,[o.toMutation(t._key,qn.exists(!0))])}function ko(t){return Wg(Xn(t.firestore,Os),[new Ig(t._key,qn.none())])}function Uo(t,e){const n=Xn(t.firestore,Os),r=ge(t),s=JP(t.converter,e);return Wg(n,[HP(Af(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,qn.exists(!1))]).then(()=>r)}function cs(t,...e){var n,r,s;t=xt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||s4(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(s4(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(s=d.complete)===null||s===void 0?void 0:s.bind(d)}let l,c,u;if(t instanceof Jn)c=Xn(t.firestore,Os),u=Ef(t._key.path),l={next:d=>{e[o]&&e[o](t8(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Xn(t,di);c=Xn(d.firestore,Os),u=d._query;const h=new zg(c);l={next:p=>{e[o]&&e[o](new e8(c,h,d,p))},error:e[o+1],complete:e[o+2]},YP(t._query)}return function(h,p,m,y){const E=new Wx(y),g=new Bx(p,E,m);return h.asyncQueue.enqueueAndForget(async()=>Fx(await y2(h),g)),()=>{E.Qa(),h.asyncQueue.enqueueAndForget(async()=>Vx(await y2(h),g))}}(Cu(c),u,a,l)}function Wg(t,e){return function(r,s){const i=new as;return r.asyncQueue.enqueueAndForget(async()=>Ete(await Nte(r),s,i)),i.promise}(Cu(t),e)}function t8(t,e,n){const r=n.docs.get(e._key),s=new zg(t);return new ZP(t,s,e._key,r,new vd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n8(t){return ine(t,{count:rne()})}function ine(t,e){const n=Xn(t.firestore,Os),r=Cu(n),s=function(o,a){const l=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&l.push(a(o[c],c,o));return l}(e,(i,o)=>new BZ(o,i.aggregateType,i._internalFieldPath));return function(o,a,l){const c=new as;return o.asyncQueue.enqueueAndForget(async()=>{try{const u=await Lte(o);c.resolve(Yee(u,a,l))}catch(u){c.reject(u)}}),c.promise}(r,t._query,s).then(i=>function(a,l,c){const u=new zg(a);return new Hte(l,u,c)}(n,t,i))}function Gn(){return new Gx("serverTimestamp")}function A_(...t){return new Kx("arrayUnion",t)}(function(e,n=!0){(function(s){xu=s})(Qo),Mo(new Oi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Os(new jJ(r.getProvider("auth-internal")),new BJ(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Y(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rl(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),os(nI,"4.5.0",e),os(nI,"4.5.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8="firebasestorage.googleapis.com",s8="storageBucket",one=2*60*1e3,ane=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht extends ui{constructor(e,n,r=0){super(fy(e),`Firebase Storage: ${n} (${fy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ht.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zt||(zt={}));function fy(t){return"storage/"+t}function n5(){const t="An unknown error occurred, please check the error payload for server response.";return new Ht(zt.UNKNOWN,t)}function lne(t){return new Ht(zt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function cne(t){return new Ht(zt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function une(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ht(zt.UNAUTHENTICATED,t)}function dne(){return new Ht(zt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function hne(t){return new Ht(zt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function fne(){return new Ht(zt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pne(){return new Ht(zt.CANCELED,"User canceled the upload/download.")}function mne(t){return new Ht(zt.INVALID_URL,"Invalid URL '"+t+"'.")}function gne(t){return new Ht(zt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function yne(){return new Ht(zt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+s8+"' property when initializing the app?")}function vne(){return new Ht(zt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _ne(){return new Ht(zt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function wne(t){return new Ht(zt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function k_(t){return new Ht(zt.INVALID_ARGUMENT,t)}function i8(){return new Ht(zt.APP_DELETED,"The Firebase app was deleted.")}function xne(t){return new Ht(zt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Fd(t,e){return new Ht(zt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Zu(t){throw new Ht(zt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Dr.makeFromUrl(e,n)}catch{return new Dr(e,"")}if(r.path==="")return r;throw gne(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(x){x.path_=decodeURIComponent(x.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${s}/o${h}`,"i"),m={bucket:1,path:3},y=n===r8?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",g=new RegExp(`^https?://${y}/${s}/${E}`,"i"),_=[{regex:a,indices:l,postModify:i},{regex:p,indices:m,postModify:c},{regex:g,indices:{bucket:1,path:2},postModify:c}];for(let x=0;x<_.length;x++){const S=_[x],b=S.regex.exec(e);if(b){const T=b[S.indices.bucket];let C=b[S.indices.path];C||(C=""),r=new Dr(T,C),S.postModify(r);break}}if(r==null)throw mne(e);return r}}class Ene{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bne(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...E){c||(c=!0,e.apply(null,E))}function d(E){s=setTimeout(()=>{s=null,t(p,l())},E)}function h(){i&&clearTimeout(i)}function p(E,...g){if(c){h();return}if(E){h(),u.call(null,E,...g);return}if(l()||o){h(),u.call(null,E,...g);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let m=!1;function y(E){m||(m=!0,h(),!c&&(s!==null?(E||(a=2),clearTimeout(s),d(0)):E||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,y(!0)},n),y}function Cne(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ine(t){return t!==void 0}function Tne(t){return typeof t=="object"&&!Array.isArray(t)}function r5(t){return typeof t=="string"||t instanceof String}function a4(t){return s5()&&t instanceof Blob}function s5(){return typeof Blob<"u"}function l4(t,e,n,r){if(r<e)throw k_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw k_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function o8(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ua;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ua||(Ua={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sne(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rne{constructor(e,n,r,s,i,o,a,l,c,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new C0(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Ua.NO_ERROR,l=i.getStatus();if(!a||Sne(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===Ua.ABORT;r(!1,new C0(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new C0(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Ine(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=n5();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?i8():pne();o(l)}else{const l=fne();o(l)}};this.canceled_?n(!1,new C0(!1,null,!0)):this.backoffId_=bne(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Cne(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class C0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Ane(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function kne(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Pne(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Nne(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Lne(t,e,n,r,s,i,o=!0){const a=o8(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Pne(c,e),Ane(c,n),kne(c,i),Nne(c,r),new Rne(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mne(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Dne(...t){const e=Mne();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(s5())return new Blob(t);throw new Ht(zt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function One(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ne(t){if(typeof atob>"u")throw wne("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class py{constructor(e,n){this.data=e,this.contentType=n||null}}function jne(t,e){switch(t){case ti.RAW:return new py(a8(e));case ti.BASE64:case ti.BASE64URL:return new py(l8(t,e));case ti.DATA_URL:return new py(Vne(e),Une(e))}throw n5()}function a8(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Fne(t){let e;try{e=decodeURIComponent(t)}catch{throw Fd(ti.DATA_URL,"Malformed data URL.")}return a8(e)}function l8(t,e){switch(t){case ti.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Fd(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ti.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Fd(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=$ne(e)}catch(s){throw s.message.includes("polyfill")?s:Fd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class c8{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Fd(ti.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Bne(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Vne(t){const e=new c8(t);return e.base64?l8(ti.BASE64,e.rest):Fne(e.rest)}function Une(t){return new c8(t).contentType}function Bne(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){let r=0,s="";a4(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(a4(this.data_)){const r=this.data_,s=One(r,e,n);return s===null?null:new co(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new co(r,!0)}}static getBlob(...e){if(s5()){const n=e.map(r=>r instanceof co?r.data_:r);return new co(Dne.apply(null,n))}else{const n=e.map(o=>r5(o)?jne(ti.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new co(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(t){let e;try{e=JSON.parse(t)}catch{return null}return Tne(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zne(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Wne(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function d8(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hne(t,e){return e}class tr{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||Hne}}let I0=null;function qne(t){return!r5(t)||t.length<2?t:d8(t)}function h8(){if(I0)return I0;const t=[];t.push(new tr("bucket")),t.push(new tr("generation")),t.push(new tr("metageneration")),t.push(new tr("name","fullPath",!0));function e(i,o){return qne(o)}const n=new tr("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new tr("size");return s.xform=r,t.push(s),t.push(new tr("timeCreated")),t.push(new tr("updated")),t.push(new tr("md5Hash",null,!0)),t.push(new tr("cacheControl",null,!0)),t.push(new tr("contentDisposition",null,!0)),t.push(new tr("contentEncoding",null,!0)),t.push(new tr("contentLanguage",null,!0)),t.push(new tr("contentType",null,!0)),t.push(new tr("metadata","customMetadata",!0)),I0=t,I0}function Gne(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Dr(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function Kne(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return Gne(r,t),r}function f8(t,e,n){const r=u8(e);return r===null?null:Kne(t,r,n)}function Qne(t,e,n,r){const s=u8(e);if(s===null||!r5(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,d=t.fullPath,h="/b/"+o(u)+"/o/"+o(d),p=Hg(h,n,r),m=o8({alt:"media",token:c});return p+m})[0]}function Yne(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class i5{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(t){if(!t)throw n5()}function Xne(t,e){function n(r,s){const i=f8(t,s,e);return p8(i!==null),i}return n}function Jne(t,e){function n(r,s){const i=f8(t,s,e);return p8(i!==null),Qne(i,s,t.host,t._protocol)}return n}function m8(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=dne():s=une():n.getStatus()===402?s=cne(t.bucket):n.getStatus()===403?s=hne(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function g8(t){const e=m8(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=lne(t.path)),i.serverResponse=s.serverResponse,i}return n}function Zne(t,e,n){const r=e.fullServerUrl(),s=Hg(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new i5(s,i,Jne(t,n),o);return a.errorHandler=g8(e),a}function ere(t,e){const n=e.fullServerUrl(),r=Hg(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,c){}const a=new i5(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=g8(e),a}function tre(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function nre(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=tre(null,e)),r}function rre(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let x=0;x<2;x++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=nre(e,r,s),u=Yne(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=co.getBlob(d,r,h);if(p===null)throw vne();const m={name:c.fullPath},y=Hg(i,t.host,t._protocol),E="POST",g=t.maxUploadRetryTime,w=new i5(y,E,Xne(t,n),g);return w.urlParams=m,w.headers=o,w.body=p.uploadData(),w.errorHandler=m8(e),w}class sre{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ua.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ua.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ua.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Zu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ire extends sre{initXhr(){this.xhr_.responseType="text"}}function o5(){return new ire}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n){this._service=e,n instanceof Dr?this._location=n:this._location=Dr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new dl(e,n)}get root(){const e=new Dr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return d8(this._location.path)}get storage(){return this._service}get parent(){const e=zne(this._location.path);if(e===null)return null;const n=new Dr(this._location.bucket,e);return new dl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw xne(e)}}function ore(t,e,n){t._throwIfRoot("uploadBytes");const r=rre(t.storage,t._location,h8(),new co(e,!0),n);return t.storage.makeRequestWithTokens(r,o5).then(s=>({metadata:s,ref:t}))}function are(t){t._throwIfRoot("getDownloadURL");const e=Zne(t.storage,t._location,h8());return t.storage.makeRequestWithTokens(e,o5).then(n=>{if(n===null)throw _ne();return n})}function lre(t){t._throwIfRoot("deleteObject");const e=ere(t.storage,t._location);return t.storage.makeRequestWithTokens(e,o5)}function cre(t,e){const n=Wne(t._location.path,e),r=new Dr(t._location.bucket,n);return new dl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ure(t){return/^[A-Za-z]+:\/\//.test(t)}function dre(t,e){return new dl(t,e)}function y8(t,e){if(t instanceof a5){const n=t;if(n._bucket==null)throw yne();const r=new dl(n,n._bucket);return e!=null?y8(r,e):r}else return e!==void 0?cre(t,e):t}function hre(t,e){if(e&&ure(e)){if(t instanceof a5)return dre(t,e);throw k_("To use ref(service, url), the first argument must be a Storage instance.")}else return y8(t,e)}function c4(t,e){const n=e==null?void 0:e[s8];return n==null?null:Dr.makeFromBucketSpec(n,t)}function fre(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:M3(s,t.app.options.projectId))}class a5{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=r8,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=one,this._maxUploadRetryTime=ane,this._requests=new Set,s!=null?this._bucket=Dr.makeFromBucketSpec(s,this._host):this._bucket=c4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dr.makeFromBucketSpec(this._url,e):this._bucket=c4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){l4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){l4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new dl(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Ene(i8());{const o=Lne(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const u4="@firebase/storage",d4="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8="storage";function Vh(t,e,n){return t=xt(t),ore(t,e,n)}function Uh(t){return t=xt(t),are(t)}function P_(t){return t=xt(t),lre(t)}function go(t,e){return t=xt(t),hre(t,e)}function pre(t=Jm(),e){t=xt(t);const r=lf(t,v8).getImmediate({identifier:e}),s=N3("storage");return s&&mre(r,...s),r}function mre(t,e,n,r={}){fre(t,e,n,r)}function gre(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new a5(n,r,s,e,Qo)}function yre(){Mo(new Oi(v8,gre,"PUBLIC").setMultipleInstances(!0)),os(u4,d4,""),os(u4,d4,"esm2017")}yre();var h4={};const f4="@firebase/database",p4="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _8="";function vre(t){_8=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _re{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Rn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:yh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wre{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Hi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new _re(e)}}catch{}return new wre},Ra=w8("localStorage"),N_=w8("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new Xm("@firebase/database"),xre=function(){let t=1;return function(){return t++}}(),x8=function(t){const e=iK(t),n=new eK;n.update(e);const r=n.digest();return P3.encodeByteArray(r)},Pf=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Pf.apply(null,r):typeof r=="object"?e+=Rn(r):e+=r,e+=" "}return e};let Ba=null,m4=!0;const Ere=function(t,e){Z(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(kc.logLevel=Fe.VERBOSE,Ba=kc.log.bind(kc),e&&N_.set("logging_enabled",!0)):typeof t=="function"?Ba=t:(Ba=null,N_.remove("logging_enabled"))},zn=function(...t){if(m4===!0&&(m4=!1,Ba===null&&N_.get("logging_enabled")===!0&&Ere(!0)),Ba){const e=Pf.apply(null,t);Ba(e)}},Nf=function(t){return function(...e){zn(t,...e)}},L_=function(...t){const e="FIREBASE INTERNAL ERROR: "+Pf(...t);kc.error(e)},Vi=function(...t){const e=`FIREBASE FATAL ERROR: ${Pf(...t)}`;throw kc.error(e),new Error(e)},Fr=function(...t){const e="FIREBASE WARNING: "+Pf(...t);kc.warn(e)},bre=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Fr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},E8=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Cre=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Zc="[MIN_NAME]",hl="[MAX_NAME]",Tu=function(t,e){if(t===e)return 0;if(t===Zc||e===hl)return-1;if(e===Zc||t===hl)return 1;{const n=g4(t),r=g4(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Ire=function(t,e){return t===e?0:t<e?-1:1},ed=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Rn(e))},l5=function(t){if(typeof t!="object"||t===null)return Rn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Rn(e[r]),n+=":",n+=l5(t[e[r]]);return n+="}",n},b8=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function ps(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const C8=function(t){Z(!E8(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},Tre=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Sre=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},Rre=new RegExp("^-?(0*)\\d{1,10}$"),Are=-2147483648,kre=2147483647,g4=function(t){if(Rre.test(t)){const e=Number(t);if(e>=Are&&e<=kre)return e}return null},Lf=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Fr("Exception was thrown by user callback.",n),e},Math.floor(0))}},Pre=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Vd=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nre{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Fr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lre{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(zn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Fr(e)}}class Pc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Pc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5="5",I8="v",T8="s",S8="r",R8="f",A8=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,k8="ls",P8="p",M_="ac",N8="websocket",L8="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ra.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ra.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Mre(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function D8(t,e,n){Z(typeof e=="string","typeof type must == string"),Z(typeof n=="object","typeof params must == object");let r;if(e===N8)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===L8)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Mre(t)&&(n.ns=t.namespace);const s=[];return ps(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dre{constructor(){this.counters_={}}incrementCounter(e,n=1){Hi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return FG(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my={},gy={};function u5(t){const e=t.toString();return my[e]||(my[e]=new Dre),my[e]}function Ore(t,e){const n=t.toString();return gy[n]||(gy[n]=e()),gy[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $re{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Lf(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="start",jre="close",Fre="pLPCommand",Vre="pRTLPCB",O8="id",$8="pw",j8="ser",Ure="cb",Bre="seg",zre="ts",Wre="d",Hre="dframe",F8=1870,V8=30,qre=F8-V8,Gre=25e3,Kre=3e4;class uc{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Nf(e),this.stats_=u5(n),this.urlFn=l=>(this.appCheckToken&&(l[M_]=this.appCheckToken),D8(n,L8,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new $re(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Kre)),Cre(()=>{if(this.isClosed_)return;this.scriptTagHolder=new d5((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===y4)this.id=a,this.password=l;else if(o===jre)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[y4]="t",r[j8]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Ure]=this.scriptTagHolder.uniqueCallbackIdentifier),r[I8]=c5,this.transportSessionId&&(r[T8]=this.transportSessionId),this.lastSessionId&&(r[k8]=this.lastSessionId),this.applicationId&&(r[P8]=this.applicationId),this.appCheckToken&&(r[M_]=this.appCheckToken),typeof location<"u"&&location.hostname&&A8.test(location.hostname)&&(r[S8]=R8);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){uc.forceAllow_=!0}static forceDisallow(){uc.forceDisallow_=!0}static isAvailable(){return uc.forceAllow_?!0:!uc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Tre()&&!Sre()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Rn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=hA(n),s=b8(r,qre);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Hre]="t",r[O8]=e,r[$8]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Rn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class d5{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=xre(),window[Fre+this.uniqueCallbackIdentifier]=e,window[Vre+this.uniqueCallbackIdentifier]=n,this.myIFrame=d5.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){zn("frame writing exception"),a.stack&&zn(a.stack),zn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||zn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[O8]=this.myID,e[$8]=this.myPW,e[j8]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+V8+r.length<=F8;){const o=this.pendingSegs.shift();r=r+"&"+Bre+s+"="+o.seg+"&"+zre+s+"="+o.ts+"&"+Wre+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(Gre)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{zn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qre=16384,Yre=45e3;let _2=null;typeof MozWebSocket<"u"?_2=MozWebSocket:typeof WebSocket<"u"&&(_2=WebSocket);class Ts{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Nf(this.connId),this.stats_=u5(n),this.connURL=Ts.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[I8]=c5,typeof location<"u"&&location.hostname&&A8.test(location.hostname)&&(o[S8]=R8),n&&(o[T8]=n),r&&(o[k8]=r),s&&(o[M_]=s),i&&(o[P8]=i),D8(e,N8,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ra.set("previous_websocket_failure",!0);try{let r;vA(),this.mySock=new _2(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Ts.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&_2!==null&&!Ts.forceDisallow_}static previouslyFailed(){return Ra.isInMemoryStorage||Ra.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ra.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=yh(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Z(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Rn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=b8(n,Qre);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Yre))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ts.responsesRequiredToBeHealthy=2;Ts.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[uc,Ts]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Ts&&Ts.isAvailable();let r=n&&!Ts.previouslyFailed();if(e.webSocketOnly&&(n||Fr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ts];else{const s=this.transports_=[];for(const i of Bh.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Bh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Bh.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xre=6e4,Jre=5e3,Zre=10*1024,ese=100*1024,yy="t",v4="d",tse="s",_4="r",nse="e",w4="o",x4="a",E4="n",b4="p",rse="h";class sse{constructor(e,n,r,s,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Nf("c:"+this.id+":"),this.transportManager_=new Bh(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Vd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ese?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Zre?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(yy in e){const n=e[yy];n===x4?this.upgradeIfSecondaryHealthy_():n===_4?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===w4&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ed("t",e),r=ed("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:b4,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:x4,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:E4,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ed("t",e),r=ed("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ed(yy,e);if(v4 in e){const r=e[v4];if(n===rse){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===E4){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===tse?this.onConnectionShutdown_(r):n===_4?this.onReset_(r):n===nse?L_("Server Error: "+r):n===w4?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):L_("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),c5!==r&&Fr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Vd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Xre))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Jre))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:b4,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ra.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e){this.allowedEvents_=e,this.listeners_={},Z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){Z(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2 extends B8{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!D3()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new w2}getInitialEvent(e){return Z(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=32,I4=768;class Rt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function pt(){return new Rt("")}function Ge(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Bo(t){return t.pieces_.length-t.pieceNum_}function It(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Rt(t.pieces_,e)}function z8(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ise(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function W8(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function H8(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Rt(e,0)}function gn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Rt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Rt(n,0)}function We(t){return t.pieceNum_>=t.pieces_.length}function ss(t,e){const n=Ge(t),r=Ge(e);if(n===null)return e;if(n===r)return ss(It(t),It(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function q8(t,e){if(Bo(t)!==Bo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ss(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Bo(t)>Bo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class ose{constructor(e,n){this.errorPrefix_=n,this.parts_=W8(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ym(this.parts_[r]);G8(this)}}function ase(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ym(e),G8(t)}function lse(t){const e=t.parts_.pop();t.byteLength_-=Ym(e),t.parts_.length>0&&(t.byteLength_-=1)}function G8(t){if(t.byteLength_>I4)throw new Error(t.errorPrefix_+"has a key path longer than "+I4+" bytes ("+t.byteLength_+").");if(t.parts_.length>C4)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+C4+") or object contains a cycle "+ma(t))}function ma(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5 extends B8{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new h5}getInitialEvent(e){return Z(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=1e3,cse=60*5*1e3,T4=30*1e3,use=1.3,dse=3e4,hse="server_kill",S4=3;class ki extends U8{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=ki.nextPersistentConnectionId_++,this.log_=Nf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=td,this.maxReconnectDelay_=cse,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!vA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");h5.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&w2.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Rn(i)),Z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new L3,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Z(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;ki.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Hi(e,"w")){const r=zc(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Fr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||ZG(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=T4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=JG(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),Z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Rn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):L_("Unrecognized action received from server: "+Rn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=td,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=td,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>dse&&(this.reconnectDelay_=td),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*use)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+ki.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){Z(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?zn("getToken() completed but was canceled"):(zn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new sse(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Fr(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(hse)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Fr(d),l())}}}interrupt(e){zn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){zn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Vv(this.interruptReasons_)&&(this.reconnectDelay_=td,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>l5(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Rt(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){zn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=S4&&(this.reconnectDelay_=T4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){zn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=S4&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+_8.replace(/\./g,"-")]=1,D3()?e["framework.cordova"]=1:yA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=w2.getInstance().currentlyOnline();return Vv(this.interruptReasons_)&&e}}ki.nextPersistentConnectionId_=0;ki.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ke(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ke(Zc,e),s=new Ke(Zc,n);return this.compare(r,s)!==0}minPost(){return Ke.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T0;class K8 extends qg{static get __EMPTY_NODE(){return T0}static set __EMPTY_NODE(e){T0=e}compare(e,n){return Tu(e.name,n.name)}isDefinedOn(e){throw gu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ke.MIN}maxPost(){return new Ke(hl,T0)}makePost(e,n){return Z(typeof e=="string","KeyIndex indexValue must always be a string."),new Ke(e,T0)}toString(){return".key"}}const Nc=new K8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class pn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??pn.RED,this.left=s??Er.EMPTY_NODE,this.right=i??Er.EMPTY_NODE}copy(e,n,r,s,i){return new pn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Er.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Er.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}pn.RED=!0;pn.BLACK=!1;class fse{copy(e,n,r,s,i){return this}insert(e,n,r){return new pn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Er{constructor(e,n=Er.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Er(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,pn.BLACK,null,null))}remove(e){return new Er(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,pn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new S0(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new S0(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new S0(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new S0(this.root_,null,this.comparator_,!0,e)}}Er.EMPTY_NODE=new fse;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pse(t,e){return Tu(t.name,e.name)}function f5(t,e){return Tu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D_;function mse(t){D_=t}const Q8=function(t){return typeof t=="number"?"number:"+C8(t):"string:"+t},Y8=function(t){if(t.isLeafNode()){const e=t.val();Z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Hi(e,".sv"),"Priority must be a string or number.")}else Z(t===D_||t.isEmpty(),"priority of unexpected type.");Z(t===D_||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R4;class dn{constructor(e,n=dn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Y8(this.priorityNode_)}static set __childrenNodeConstructor(e){R4=e}static get __childrenNodeConstructor(){return R4}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new dn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:dn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return We(e)?this:Ge(e)===".priority"?this.priorityNode_:dn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:dn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ge(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Z(r!==".priority"||Bo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,dn.__childrenNodeConstructor.EMPTY_NODE.updateChild(It(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Q8(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=C8(this.value_):e+=this.value_,this.lazyHash_=x8(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===dn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof dn.__childrenNodeConstructor?-1:(Z(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=dn.VALUE_TYPE_ORDER.indexOf(n),i=dn.VALUE_TYPE_ORDER.indexOf(r);return Z(s>=0,"Unknown leaf type: "+n),Z(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}dn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X8,J8;function gse(t){X8=t}function yse(t){J8=t}class vse extends qg{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Tu(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ke.MIN}maxPost(){return new Ke(hl,new dn("[PRIORITY-POST]",J8))}makePost(e,n){const r=X8(e);return new Ke(n,new dn("[PRIORITY-POST]",r))}toString(){return".priority"}}const Kn=new vse;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _se=Math.log(2);class wse{constructor(e){const n=i=>parseInt(Math.log(i)/_se,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const x2=function(t,e,n,r){t.sort(e);const s=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new pn(h,d.node,pn.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=s(l,p),y=s(p+1,c);return d=t[p],h=n?n(d):d,new pn(h,d.node,pn.BLACK,m,y)}},i=function(l){let c=null,u=null,d=t.length;const h=function(m,y){const E=d-m,g=d;d-=m;const w=s(E+1,g),_=t[E],x=n?n(_):_;p(new pn(x,_.node,y,null,w))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const y=l.nextBitIsOne(),E=Math.pow(2,l.count-(m+1));y?h(E,pn.BLACK):(h(E,pn.BLACK),h(E,pn.RED))}return u},o=new wse(t.length),a=i(o);return new Er(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vy;const Wl={};class Ri{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Z(Wl&&Kn,"ChildrenNode.ts has not been loaded"),vy=vy||new Ri({".priority":Wl},{".priority":Kn}),vy}get(e){const n=zc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Er?n:null}hasIndex(e){return Hi(this.indexSet_,e.toString())}addIndex(e,n){Z(e!==Nc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(Ke.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=x2(r,e.getCompare()):a=Wl;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Ri(u,c)}addToIndexes(e,n){const r=Kp(this.indexes_,(s,i)=>{const o=zc(this.indexSet_,i);if(Z(o,"Missing index implementation for "+i),s===Wl)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ke.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),x2(a,o.getCompare())}else return Wl;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new Ke(e.name,a))),l.insert(e,e.node)}});return new Ri(r,this.indexSet_)}removeFromIndexes(e,n){const r=Kp(this.indexes_,s=>{if(s===Wl)return s;{const i=n.get(e.name);return i?s.remove(new Ke(e.name,i)):s}});return new Ri(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nd;class ot{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Y8(this.priorityNode_),this.children_.isEmpty()&&Z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return nd||(nd=new ot(new Er(f5),null,Ri.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||nd}updatePriority(e){return this.children_.isEmpty()?this:new ot(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?nd:n}}getChild(e){const n=Ge(e);return n===null?this:this.getImmediateChild(n).getChild(It(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Z(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ke(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?nd:this.priorityNode_;return new ot(s,o,i)}}updateChild(e,n){const r=Ge(e);if(r===null)return n;{Z(Ge(e)!==".priority"||Bo(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(It(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Kn,(o,a)=>{n[o]=a.val(e),r++,i&&ot.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Q8(this.getPriority().val())+":"),this.forEachChild(Kn,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":x8(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new Ke(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ke(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ke(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Ke.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Ke.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Mf?-1:0}withIndex(e){if(e===Nc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ot(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Nc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Kn),s=n.getIterator(Kn);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Nc?null:this.indexMap_.get(e.toString())}}ot.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class xse extends ot{constructor(){super(new Er(f5),ot.EMPTY_NODE,Ri.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ot.EMPTY_NODE}isEmpty(){return!1}}const Mf=new xse;Object.defineProperties(Ke,{MIN:{value:new Ke(Zc,ot.EMPTY_NODE)},MAX:{value:new Ke(hl,Mf)}});K8.__EMPTY_NODE=ot.EMPTY_NODE;dn.__childrenNodeConstructor=ot;mse(Mf);yse(Mf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ese=!0;function Wn(t,e=null){if(t===null)return ot.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new dn(n,Wn(e))}if(!(t instanceof Array)&&Ese){const n=[];let r=!1;if(ps(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Wn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ke(o,l)))}}),n.length===0)return ot.EMPTY_NODE;const i=x2(n,pse,o=>o.name,f5);if(r){const o=x2(n,Kn.getCompare());return new ot(i,Wn(e),new Ri({".priority":o},{".priority":Kn}))}else return new ot(i,Wn(e),Ri.Default)}else{let n=ot.EMPTY_NODE;return ps(t,(r,s)=>{if(Hi(t,r)&&r.substring(0,1)!=="."){const i=Wn(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Wn(e))}}gse(Wn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bse extends qg{constructor(e){super(),this.indexPath_=e,Z(!We(e)&&Ge(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Tu(e.name,n.name):i}makePost(e,n){const r=Wn(e),s=ot.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ke(n,s)}maxPost(){const e=ot.EMPTY_NODE.updateChild(this.indexPath_,Mf);return new Ke(hl,e)}toString(){return W8(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cse extends qg{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Tu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ke.MIN}maxPost(){return Ke.MAX}makePost(e,n){const r=Wn(e);return new Ke(n,r)}toString(){return".value"}}const Ise=new Cse;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tse(t){return{type:"value",snapshotNode:t}}function Sse(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Rse(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function A4(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Ase(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Kn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zc}hasEnd(){return this.endSet_}getIndexEndValue(){return Z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Kn}copy(){const e=new p5;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function k4(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Kn?n="$priority":t.index_===Ise?n="$value":t.index_===Nc?n="$key":(Z(t.index_ instanceof bse,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Rn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Rn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Rn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Rn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Rn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function P4(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Kn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2 extends U8{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Nf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Z(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=E2.getListenId_(e,r),a={};this.listens_[o]=a;const l=k4(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,r),zc(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",s(h,null)}})}unlisten(e,n){const r=E2.getListenId_(e,n);delete this.listens_[r]}get(e){const n=k4(e._queryParams),r=e._path.toString(),s=new L3;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+yu(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=yh(a.responseText)}catch{Fr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Fr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kse{constructor(){this.rootNode_=ot.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(){return{value:null,children:new Map}}function Z8(t,e,n){if(We(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ge(e);t.children.has(r)||t.children.set(r,b2());const s=t.children.get(r);e=It(e),Z8(s,e,n)}}function O_(t,e,n){t.value!==null?n(e,t.value):Pse(t,(r,s)=>{const i=new Rt(e.toString()+"/"+r);O_(s,i,n)})}function Pse(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nse{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ps(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=10*1e3,Lse=30*1e3,Mse=5*60*1e3;class Dse{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Nse(e);const r=N4+(Lse-N4)*Math.random();Vd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ps(e,(s,i)=>{i>0&&Hi(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Vd(this.reportStats_.bind(this),Math.floor(Math.random()*2*Mse))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ni;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ni||(ni={}));function eN(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function tN(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function nN(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ni.ACK_USER_WRITE,this.source=eN()}operationForChild(e){if(We(this.path)){if(this.affectedTree.value!=null)return Z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Rt(e));return new C2(pt(),n,this.revert)}}else return Z(Ge(this.path)===e,"operationForChild called for unrelated child."),new C2(It(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ni.OVERWRITE}operationForChild(e){return We(this.path)?new fl(this.source,pt(),this.snap.getImmediateChild(e)):new fl(this.source,It(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ni.MERGE}operationForChild(e){if(We(this.path)){const n=this.children.subtree(new Rt(e));return n.isEmpty()?null:n.value?new fl(this.source,pt(),n.value):new zh(this.source,pt(),n)}else return Z(Ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new zh(this.source,It(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(We(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ge(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Ose(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(Ase(o.childName,o.snapshotNode))}),rd(t,s,"child_removed",e,r,n),rd(t,s,"child_added",e,r,n),rd(t,s,"child_moved",i,r,n),rd(t,s,"child_changed",e,r,n),rd(t,s,"value",e,r,n),s}function rd(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>jse(t,a,l)),o.forEach(a=>{const l=$se(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function $se(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function jse(t,e,n){if(e.childName==null||n.childName==null)throw gu("Should only compare child_ events.");const r=new Ke(e.childName,e.snapshotNode),s=new Ke(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t,e){return{eventCache:t,serverCache:e}}function Ud(t,e,n,r){return rN(new m5(e,n,r),t.serverCache)}function sN(t,e,n,r){return rN(t.eventCache,new m5(e,n,r))}function $_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function pl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _y;const Fse=()=>(_y||(_y=new Er(Ire)),_y);class Ct{constructor(e,n=Fse()){this.value=e,this.children=n}static fromObject(e){let n=new Ct(null);return ps(e,(r,s)=>{n=n.set(new Rt(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:pt(),value:this.value};if(We(e))return null;{const r=Ge(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(It(e),n);return i!=null?{path:gn(new Rt(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(We(e))return this;{const n=Ge(e),r=this.children.get(n);return r!==null?r.subtree(It(e)):new Ct(null)}}set(e,n){if(We(e))return new Ct(n,this.children);{const r=Ge(e),i=(this.children.get(r)||new Ct(null)).set(It(e),n),o=this.children.insert(r,i);return new Ct(this.value,o)}}remove(e){if(We(e))return this.children.isEmpty()?new Ct(null):new Ct(null,this.children);{const n=Ge(e),r=this.children.get(n);if(r){const s=r.remove(It(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new Ct(null):new Ct(this.value,i)}else return this}}get(e){if(We(e))return this.value;{const n=Ge(e),r=this.children.get(n);return r?r.get(It(e)):null}}setTree(e,n){if(We(e))return n;{const r=Ge(e),i=(this.children.get(r)||new Ct(null)).setTree(It(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new Ct(this.value,o)}}fold(e){return this.fold_(pt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(gn(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,pt(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(We(e))return null;{const i=Ge(e),o=this.children.get(i);return o?o.findOnPath_(It(e),gn(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,pt(),n)}foreachOnPath_(e,n,r){if(We(e))return this;{this.value&&r(n,this.value);const s=Ge(e),i=this.children.get(s);return i?i.foreachOnPath_(It(e),gn(n,s),r):new Ct(null)}}foreach(e){this.foreach_(pt(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(gn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.writeTree_=e}static empty(){return new Ps(new Ct(null))}}function Bd(t,e,n){if(We(e))return new Ps(new Ct(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=ss(s,e);return i=i.updateChild(o,n),new Ps(t.writeTree_.set(s,i))}else{const s=new Ct(n),i=t.writeTree_.setTree(e,s);return new Ps(i)}}}function L4(t,e,n){let r=t;return ps(n,(s,i)=>{r=Bd(r,gn(e,s),i)}),r}function M4(t,e){if(We(e))return Ps.empty();{const n=t.writeTree_.setTree(e,new Ct(null));return new Ps(n)}}function j_(t,e){return Sl(t,e)!=null}function Sl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ss(n.path,e)):null}function D4(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Kn,(r,s)=>{e.push(new Ke(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Ke(r,s.value))}),e}function Po(t,e){if(We(e))return t;{const n=Sl(t,e);return n!=null?new Ps(new Ct(n)):new Ps(t.writeTree_.subtree(e))}}function F_(t){return t.writeTree_.isEmpty()}function eu(t,e){return iN(pt(),t.writeTree_,e)}function iN(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(Z(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=iN(gn(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(gn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t,e){return dN(e,t)}function Vse(t,e,n,r,s){Z(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Bd(t.visibleWrites,e,n)),t.lastWriteId=r}function Use(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Bse(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Z(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&zse(a,r.path)?s=!1:Ss(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return Wse(t),!0;if(r.snap)t.visibleWrites=M4(t.visibleWrites,r.path);else{const a=r.children;ps(a,l=>{t.visibleWrites=M4(t.visibleWrites,gn(r.path,l))})}return!0}else return!1}function zse(t,e){if(t.snap)return Ss(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ss(gn(t.path,n),e))return!0;return!1}function Wse(t){t.visibleWrites=aN(t.allWrites,Hse,pt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Hse(t){return t.visible}function aN(t,e,n){let r=Ps.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)Ss(n,o)?(a=ss(n,o),r=Bd(r,a,i.snap)):Ss(o,n)&&(a=ss(o,n),r=Bd(r,pt(),i.snap.getChild(a)));else if(i.children){if(Ss(n,o))a=ss(n,o),r=L4(r,a,i.children);else if(Ss(o,n))if(a=ss(o,n),We(a))r=L4(r,pt(),i.children);else{const l=zc(i.children,Ge(a));if(l){const c=l.getChild(It(a));r=Bd(r,pt(),c)}}}else throw gu("WriteRecord should have .snap or .children")}}return r}function lN(t,e,n,r,s){if(!r&&!s){const i=Sl(t.visibleWrites,e);if(i!=null)return i;{const o=Po(t.visibleWrites,e);if(F_(o))return n;if(n==null&&!j_(o,pt()))return null;{const a=n||ot.EMPTY_NODE;return eu(o,a)}}}else{const i=Po(t.visibleWrites,e);if(!s&&F_(i))return n;if(!s&&n==null&&!j_(i,pt()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(Ss(c.path,e)||Ss(e,c.path))},a=aN(t.allWrites,o,e),l=n||ot.EMPTY_NODE;return eu(a,l)}}}function qse(t,e,n){let r=ot.EMPTY_NODE;const s=Sl(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Kn,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Po(t.visibleWrites,e);return n.forEachChild(Kn,(o,a)=>{const l=eu(Po(i,new Rt(o)),a);r=r.updateImmediateChild(o,l)}),D4(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Po(t.visibleWrites,e);return D4(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Gse(t,e,n,r,s){Z(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=gn(e,n);if(j_(t.visibleWrites,i))return null;{const o=Po(t.visibleWrites,i);return F_(o)?s.getChild(n):eu(o,s.getChild(n))}}function Kse(t,e,n,r){const s=gn(e,n),i=Sl(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Po(t.visibleWrites,s);return eu(o,r.getNode().getImmediateChild(n))}else return null}function Qse(t,e){return Sl(t.visibleWrites,e)}function Yse(t,e,n,r,s,i,o){let a;const l=Po(t.visibleWrites,e),c=Sl(l,pt());if(c!=null)a=c;else if(n!=null)a=eu(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=h.getNext();for(;p&&u.length<s;)d(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function Xse(){return{visibleWrites:Ps.empty(),allWrites:[],lastWriteId:-1}}function V_(t,e,n,r){return lN(t.writeTree,t.treePath,e,n,r)}function cN(t,e){return qse(t.writeTree,t.treePath,e)}function O4(t,e,n,r){return Gse(t.writeTree,t.treePath,e,n,r)}function I2(t,e){return Qse(t.writeTree,gn(t.treePath,e))}function Jse(t,e,n,r,s,i){return Yse(t.writeTree,t.treePath,e,n,r,s,i)}function g5(t,e,n){return Kse(t.writeTree,t.treePath,e,n)}function uN(t,e){return dN(gn(t.treePath,e),t.writeTree)}function dN(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zse{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Z(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Z(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,A4(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Rse(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,Sse(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,A4(r,e.snapshotNode,s.oldSnap));else throw gu("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eie{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const hN=new eie;class y5{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new m5(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return g5(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:pl(this.viewCache_),i=Jse(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}function tie(t,e){Z(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Z(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function nie(t,e,n,r,s){const i=new Zse;let o,a;if(n.type===ni.OVERWRITE){const c=n;c.source.fromUser?o=U_(t,e,c.path,c.snap,r,s,i):(Z(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!We(c.path),o=T2(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===ni.MERGE){const c=n;c.source.fromUser?o=sie(t,e,c.path,c.children,r,s,i):(Z(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=B_(t,e,c.path,c.children,r,s,a,i))}else if(n.type===ni.ACK_USER_WRITE){const c=n;c.revert?o=aie(t,e,c.path,r,s,i):o=iie(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===ni.LISTEN_COMPLETE)o=oie(t,e,n.path,r,i);else throw gu("Unknown operation type: "+n.type);const l=i.getChanges();return rie(e,o,l),{viewCache:o,changes:l}}function rie(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=$_(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(Tse($_(e)))}}function fN(t,e,n,r,s,i){const o=e.eventCache;if(I2(r,n)!=null)return e;{let a,l;if(We(n))if(Z(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=pl(e),u=c instanceof ot?c:ot.EMPTY_NODE,d=cN(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=V_(r,pl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=Ge(n);if(c===".priority"){Z(Bo(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=O4(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=It(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=O4(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=g5(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,s,i):a=o.getNode()}}return Ud(e,a,o.isFullyInitialized()||We(n),t.filter.filtersNodes())}}function T2(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(We(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=Ge(n);if(!l.isCompleteForPath(n)&&Bo(n)>1)return e;const m=It(n),E=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),E):c=u.updateChild(l.getNode(),p,E,m,hN,null)}const d=sN(e,c,l.isFullyInitialized()||We(n),u.filtersNodes()),h=new y5(s,d,i);return fN(t,d,n,s,h,a)}function U_(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const u=new y5(s,e,i);if(We(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Ud(e,c,!0,t.filter.filtersNodes());else{const d=Ge(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Ud(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=It(n),p=a.getNode().getImmediateChild(d);let m;if(We(h))m=r;else{const y=u.getCompleteChild(d);y!=null?z8(h)===".priority"&&y.getChild(H8(h)).isEmpty()?m=y:m=y.updateChild(h,r):m=ot.EMPTY_NODE}if(p.equals(m))l=e;else{const y=t.filter.updateChild(a.getNode(),d,m,h,u,o);l=Ud(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function $4(t,e){return t.eventCache.isCompleteForChild(e)}function sie(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const u=gn(n,l);$4(e,Ge(u))&&(a=U_(t,a,u,c,s,i,o))}),r.foreach((l,c)=>{const u=gn(n,l);$4(e,Ge(u))||(a=U_(t,a,u,c,s,i,o))}),a}function j4(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function B_(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;We(n)?c=r:c=new Ct(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),m=j4(t,p,h);l=T2(t,l,new Rt(d),m,s,i,o,a)}}),c.children.inorderTraversal((d,h)=>{const p=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!p){const m=e.serverCache.getNode().getImmediateChild(d),y=j4(t,m,h);l=T2(t,l,new Rt(d),y,s,i,o,a)}}),l}function iie(t,e,n,r,s,i,o){if(I2(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(We(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return T2(t,e,n,l.getNode().getChild(n),s,i,a,o);if(We(n)){let c=new Ct(null);return l.getNode().forEachChild(Nc,(u,d)=>{c=c.set(new Rt(u),d)}),B_(t,e,n,c,s,i,a,o)}else return e}else{let c=new Ct(null);return r.foreach((u,d)=>{const h=gn(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),B_(t,e,n,c,s,i,a,o)}}function oie(t,e,n,r,s){const i=e.serverCache,o=sN(e,i.getNode(),i.isFullyInitialized()||We(n),i.isFiltered());return fN(t,o,n,r,hN,s)}function aie(t,e,n,r,s,i){let o;if(I2(r,n)!=null)return e;{const a=new y5(r,e,s),l=e.eventCache.getNode();let c;if(We(n)||Ge(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=V_(r,pl(e));else{const d=e.serverCache.getNode();Z(d instanceof ot,"serverChildren would be complete if leaf node"),u=cN(r,d)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=Ge(n);let d=g5(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,It(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,ot.EMPTY_NODE,It(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=V_(r,pl(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||I2(r,pt())!=null,Ud(e,c,o,t.filter.filtersNodes())}}function lie(t,e){const n=pl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!We(e)&&!n.getImmediateChild(Ge(e)).isEmpty())?n.getChild(e):null}function F4(t,e,n,r){e.type===ni.MERGE&&e.source.queryId!==null&&(Z(pl(t.viewCache_),"We should always have a full cache before handling merges"),Z($_(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=nie(t.processor_,s,e,n,r);return tie(t.processor_,i.viewCache),Z(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,cie(t,i.changes,i.viewCache.eventCache.getNode(),null)}function cie(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return Ose(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V4;function uie(t){Z(!V4,"__referenceConstructor has already been defined"),V4=t}function v5(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return Z(i!=null,"SyncTree gave us an op for an invalid query."),F4(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(F4(o,e,n,r));return i}}function _5(t,e){let n=null;for(const r of t.views.values())n=n||lie(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U4;function die(t){Z(!U4,"__referenceConstructor has already been defined"),U4=t}class B4{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ct(null),this.pendingWriteTree_=Xse(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hie(t,e,n,r,s){return Vse(t.pendingWriteTree_,e,n,r,s),s?Kg(t,new fl(eN(),e,n)):[]}function dc(t,e,n=!1){const r=Use(t.pendingWriteTree_,e);if(Bse(t.pendingWriteTree_,e)){let i=new Ct(null);return r.snap!=null?i=i.set(pt(),!0):ps(r.children,o=>{i=i.set(new Rt(o),!0)}),Kg(t,new C2(r.path,i,n))}else return[]}function Gg(t,e,n){return Kg(t,new fl(tN(),e,n))}function fie(t,e,n){const r=Ct.fromObject(n);return Kg(t,new zh(tN(),e,r))}function pie(t,e,n,r){const s=yN(t,r);if(s!=null){const i=vN(s),o=i.path,a=i.queryId,l=ss(o,e),c=new fl(nN(a),l,n);return _N(t,o,c)}else return[]}function mie(t,e,n,r){const s=yN(t,r);if(s){const i=vN(s),o=i.path,a=i.queryId,l=ss(o,e),c=Ct.fromObject(n),u=new zh(nN(a),l,c);return _N(t,o,u)}else return[]}function pN(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=ss(o,e),c=_5(a,l);if(c)return c});return lN(s,e,i,n,!0)}function Kg(t,e){return mN(e,t.syncPointTree_,null,oN(t.pendingWriteTree_,pt()))}function mN(t,e,n,r){if(We(t.path))return gN(t,e,n,r);{const s=e.get(pt());n==null&&s!=null&&(n=_5(s,pt()));let i=[];const o=Ge(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=uN(r,o);i=i.concat(mN(a,l,c,u))}return s&&(i=i.concat(v5(s,t,r,n))),i}}function gN(t,e,n,r){const s=e.get(pt());n==null&&s!=null&&(n=_5(s,pt()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=uN(r,o),u=t.operationForChild(o);u&&(i=i.concat(gN(u,a,l,c)))}),s&&(i=i.concat(v5(s,t,r,n))),i}function yN(t,e){return t.tagToQueryMap.get(e)}function vN(t){const e=t.indexOf("$");return Z(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Rt(t.substr(0,e))}}function _N(t,e,n){const r=t.syncPointTree_.get(e);Z(r,"Missing sync point for query tag that we're tracking");const s=oN(t.pendingWriteTree_,e);return v5(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new w5(n)}node(){return this.node_}}class x5{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=gn(this.path_,e);return new x5(this.syncTree_,n)}node(){return pN(this.syncTree_,this.path_)}}const gie=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},z4=function(t,e,n){if(!t||typeof t!="object")return t;if(Z(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return yie(t[".sv"],e,n);if(typeof t[".sv"]=="object")return vie(t[".sv"],e);Z(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},yie=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Z(!1,"Unexpected server value: "+t)}},vie=function(t,e,n){t.hasOwnProperty("increment")||Z(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Z(!1,"Unexpected increment value: "+r);const s=e.node();if(Z(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},_ie=function(t,e,n,r){return E5(e,new x5(n,t),r)},wie=function(t,e,n){return E5(t,new w5(e),n)};function E5(t,e,n){const r=t.getPriority().val(),s=z4(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=z4(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new dn(a,Wn(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new dn(s))),o.forEachChild(Kn,(a,l)=>{const c=E5(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function C5(t,e){let n=e instanceof Rt?e:new Rt(e),r=t,s=Ge(n);for(;s!==null;){const i=zc(r.node.children,s)||{children:{},childCount:0};r=new b5(s,r,i),n=It(n),s=Ge(n)}return r}function Su(t){return t.node.value}function wN(t,e){t.node.value=e,z_(t)}function xN(t){return t.node.childCount>0}function xie(t){return Su(t)===void 0&&!xN(t)}function Qg(t,e){ps(t.node.children,(n,r)=>{e(new b5(n,t,r))})}function EN(t,e,n,r){n&&!r&&e(t),Qg(t,s=>{EN(s,e,!0,r)}),n&&r&&e(t)}function Eie(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Df(t){return new Rt(t.parent===null?t.name:Df(t.parent)+"/"+t.name)}function z_(t){t.parent!==null&&bie(t.parent,t.name,t)}function bie(t,e,n){const r=xie(n),s=Hi(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,z_(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,z_(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cie=/[\[\].#$\/\u0000-\u001F\u007F]/,Iie=/[\[\].#$\u0000-\u001F\u007F]/,wy=10*1024*1024,bN=function(t){return typeof t=="string"&&t.length!==0&&!Cie.test(t)},Tie=function(t){return typeof t=="string"&&t.length!==0&&!Iie.test(t)},Sie=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Tie(t)},CN=function(t,e,n){const r=n instanceof Rt?new ose(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ma(r));if(typeof e=="function")throw new Error(t+"contains a function "+ma(r)+" with contents = "+e.toString());if(E8(e))throw new Error(t+"contains "+e.toString()+" "+ma(r));if(typeof e=="string"&&e.length>wy/3&&Ym(e)>wy)throw new Error(t+"contains a string greater than "+wy+" utf8 bytes "+ma(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(ps(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!bN(o)))throw new Error(t+" contains an invalid key ("+o+") "+ma(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ase(r,o),CN(t,a,r),lse(r)}),s&&i)throw new Error(t+' contains ".value" child '+ma(r)+" in addition to actual children.")}},Rie=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!bN(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Sie(n))throw new Error(sK(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aie{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function kie(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!q8(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function Rl(t,e,n){kie(t,n),Pie(t,r=>Ss(r,e)||Ss(e,r))}function Pie(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(Nie(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Nie(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ba&&zn("event: "+n.toString()),Lf(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lie="repo_interrupt",Mie=25;class Die{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Aie,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=b2(),this.transactionQueueTree_=new b5,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Oie(t,e,n){if(t.stats_=u5(t.repoInfo_),t.forceRestClient_||Pre())t.server_=new E2(t.repoInfo_,(r,s,i,o)=>{W4(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>H4(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Rn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ki(t.repoInfo_,e,(r,s,i,o)=>{W4(t,r,s,i,o)},r=>{H4(t,r)},r=>{jie(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Ore(t.repoInfo_,()=>new Dse(t.stats_,t.server_)),t.infoData_=new kse,t.infoSyncTree_=new B4({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Gg(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),I5(t,"connected",!1),t.serverSyncTree_=new B4({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);Rl(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function $ie(t){const n=t.infoData_.getNode(new Rt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function IN(t){return gie({timestamp:$ie(t)})}function W4(t,e,n,r,s){t.dataUpdateCount++;const i=new Rt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=Kp(n,c=>Wn(c));o=mie(t.serverSyncTree_,i,l,s)}else{const l=Wn(n);o=pie(t.serverSyncTree_,i,l,s)}else if(r){const l=Kp(n,c=>Wn(c));o=fie(t.serverSyncTree_,i,l)}else{const l=Wn(n);o=Gg(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=S5(t,i)),Rl(t.eventQueue_,a,o)}function H4(t,e){I5(t,"connected",e),e===!1&&Vie(t)}function jie(t,e){ps(e,(n,r)=>{I5(t,n,r)})}function I5(t,e,n){const r=new Rt("/.info/"+e),s=Wn(n);t.infoData_.updateSnapshot(r,s);const i=Gg(t.infoSyncTree_,r,s);Rl(t.eventQueue_,r,i)}function Fie(t){return t.nextWriteId_++}function Vie(t){TN(t,"onDisconnectEvents");const e=IN(t),n=b2();O_(t.onDisconnect_,pt(),(s,i)=>{const o=_ie(s,i,t.serverSyncTree_,e);Z8(n,s,o)});let r=[];O_(n,pt(),(s,i)=>{r=r.concat(Gg(t.serverSyncTree_,s,i));const o=Wie(t,s);S5(t,o)}),t.onDisconnect_=b2(),Rl(t.eventQueue_,pt(),r)}function Uie(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Lie)}function TN(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),zn(n,...e)}function SN(t,e,n){return pN(t.serverSyncTree_,e,n)||ot.EMPTY_NODE}function T5(t,e=t.transactionQueueTree_){if(e||Yg(t,e),Su(e)){const n=AN(t,e);Z(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&Bie(t,Df(e),n)}else xN(e)&&Qg(e,n=>{T5(t,n)})}function Bie(t,e,n){const r=n.map(c=>c.currentWriteId),s=SN(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];Z(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=ss(e,u.path);i=i.updateChild(d,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{TN(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(dc(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Yg(t,C5(t.transactionQueueTree_,e)),T5(t,t.transactionQueueTree_),Rl(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)Lf(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Fr("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}S5(t,e)}},o)}function S5(t,e){const n=RN(t,e),r=Df(n),s=AN(t,n);return zie(t,s,r),r}function zie(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=ss(n,l.path);let u=!1,d;if(Z(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,s=s.concat(dc(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Mie)u=!0,d="maxretry",s=s.concat(dc(t.serverSyncTree_,l.currentWriteId,!0));else{const h=SN(t,l.path,o);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){CN("transaction failed: Data returned ",p,l.path);let m=Wn(p);typeof p=="object"&&p!=null&&Hi(p,".priority")||(m=m.updatePriority(h.getPriority()));const E=l.currentWriteId,g=IN(t),w=wie(m,h,g);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=w,l.currentWriteId=Fie(t),o.splice(o.indexOf(E),1),s=s.concat(hie(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),s=s.concat(dc(t.serverSyncTree_,E,!0))}else u=!0,d="nodata",s=s.concat(dc(t.serverSyncTree_,l.currentWriteId,!0))}Rl(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Yg(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Lf(r[a]);T5(t,t.transactionQueueTree_)}function RN(t,e){let n,r=t.transactionQueueTree_;for(n=Ge(e);n!==null&&Su(r)===void 0;)r=C5(r,n),e=It(e),n=Ge(e);return r}function AN(t,e){const n=[];return kN(t,e,n),n.sort((r,s)=>r.order-s.order),n}function kN(t,e,n){const r=Su(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Qg(e,s=>{kN(t,s,n)})}function Yg(t,e){const n=Su(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,wN(e,n.length>0?n:void 0)}Qg(e,r=>{Yg(t,r)})}function Wie(t,e){const n=Df(RN(t,e)),r=C5(t.transactionQueueTree_,e);return Eie(r,s=>{xy(t,s)}),xy(t,r),EN(r,s=>{xy(t,s)}),n}function xy(t,e){const n=Su(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Z(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(Z(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(dc(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?wN(e,void 0):n.length=i+1,Rl(t.eventQueue_,Df(e),s);for(let o=0;o<r.length;o++)Lf(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hie(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function qie(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Fr(`Invalid query segment '${n}' in query '${t}'`)}return e}const q4=function(t,e){const n=Gie(t),r=n.namespace;n.domain==="firebase.com"&&Vi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Vi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||bre();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new M8(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Rt(n.pathString)}},Gie=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(s=Hie(t.substring(u,d)));const h=qie(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),i=r}"ns"in h&&(i=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return We(this._path)?null:z8(this._path)}get ref(){return new Ru(this._repo,this._path)}get _queryIdentifier(){const e=P4(this._queryParams),n=l5(e);return n==="{}"?"default":n}get _queryObject(){return P4(this._queryParams)}isEqual(e){if(e=xt(e),!(e instanceof R5))return!1;const n=this._repo===e._repo,r=q8(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+ise(this._path)}}class Ru extends R5{constructor(e,n){super(e,n,new p5,!1)}get parent(){const e=H8(this._path);return e===null?null:new Ru(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}uie(Ru);die(Ru);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kie="FIREBASE_DATABASE_EMULATOR_HOST",W_={};let Qie=!1;function Yie(t,e,n,r){t.repoInfo_=new M8(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Xie(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||Vi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zn("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=q4(i,s),a=o.repoInfo,l,c;typeof process<"u"&&h4&&(c=h4[Kie]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,o=q4(i,s),a=o.repoInfo):l=!o.repoInfo.secure;const u=s&&l?new Pc(Pc.OWNER):new Lre(t.name,t.options,e);Rie("Invalid Firebase Database URL",o),We(o.path)||Vi("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Zie(a,t,u,new Nre(t.name,n));return new eoe(d,t)}function Jie(t,e){const n=W_[e];(!n||n[t.key]!==t)&&Vi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Uie(t),delete n[t.key]}function Zie(t,e,n,r){let s=W_[e.name];s||(s={},W_[e.name]=s);let i=s[t.toURLString()];return i&&Vi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Die(t,Qie,n,r),s[t.toURLString()]=i,i}class eoe{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Oie(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ru(this._repo,pt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Jie(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Vi("Cannot call "+e+" on a deleted database.")}}function toe(t=Jm(),e){const n=lf(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=N3("database");r&&noe(n,...r)}return n}function noe(t,e,n,r={}){t=xt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Vi("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Vi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Pc(Pc.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:M3(r.mockUserToken,t.app.options.projectId);i=new Pc(o)}Yie(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function roe(t){vre(Qo),Mo(new Oi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return Xie(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),os(f4,p4,t),os(f4,p4,"esm2017")}ki.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ki.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};roe();const soe={apiKey:"AIzaSyCwF75LGVuWriGfXEyHzoGBvobiOdMEwHs",authDomain:"star-education-academy.firebaseapp.com",projectId:"star-education-academy",storageBucket:"star-education-academy.appspot.com",messagingSenderId:"693801186794",appId:"1:693801186794:web:b202cdffa55530e687ee93",measurementId:"G-JN1DV2YT81",databaseURL:"https://star-education-academy-default-rtdb.asia-southeast1.firebasedatabase.app"},Xg=CA(soe),Hs=RX(Xg),ioe=new _i,be=Vte(Xg),Aa=pre(Xg);toe(Xg);Ute(be).then(()=>{console.log("Offline persistence enabled")}).catch(t=>{t.code==="failed-precondition"?console.log("Persistence failed, multiple tabs open"):t.code==="unimplemented"&&console.log("Persistence not availabel on this browser")});const Al=(t,e,n)=>{v.useEffect(()=>{try{if(n){const r=Ne(be,t),s=cs(r,i=>{const o=i.docs.map(a=>({...a.data(),[t==="users"?"uid":"id"]:a.id}));i.empty||e(o)});return()=>{s()}}}catch(r){console.log(r.message)}},[n])},ooe=(t,e,n)=>{const r=bi.get("userId");v.useEffect(()=>{try{if(n){const s=ge(be,t,r),i=cs(s,o=>{const a={uid:o.id,...o.data()};return a!=null&&a.name&&e(a),()=>i()})}}catch(s){console.log(s)}},[n])};function PN(t,e){localStorage.setItem(t,JSON.stringify(e))}function NN(t){let e=localStorage.getItem(t);try{return JSON.parse(e)}catch{return null}}function aoe(t,e){let n=!1;return e.forEach(r=>{r.id===t&&(n=!0)}),n}let G4;function loe(t){t(!0),clearTimeout(G4),G4=setTimeout(()=>{t(!1)},[4e3])}function Ns(){scrollTo({top:0,behavior:"smooth"})}function zd(){const t=window.innerHeight,n=document.documentElement.scrollHeight-t;scrollTo({top:n+200})}function $s(t){document.body.style.overflow=t}function Of(t,e){v.useEffect(()=>{const n=r=>{t.current&&!t.current.contains(r.target)&&e(!1)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[])}function coe(t){try{const e=t.split(":"),n=Number(e[0]),r=Number(e[1]),s=Number(e[2]);return`${Ey(n,"hours")} ${Ey(r,"minutes")} ${Ey(s,"seconds")}`}catch{return null}}function Ey(t,e){return t?`${t} ${e}`:""}function K4(t){return t>=10?t:`0${t}`}const Jg=(t,e)=>{var r;let n;return t.forEach(s=>{s.id===e&&(n=s)}),n?n.seenBy.includes((r=Hs.currentUser)==null?void 0:r.uid):!1},uoe=(t,e)=>{let n=0;return t.forEach(r=>{Jg(t,r.id)||(n+=1)}),!!(n>0&&(e!=null&&e.name))};function $f(t){v.useEffect(()=>{const e=()=>{const n=window.scrollY;PN(`SEA-scrollPosition-${t}`,n)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[])}function jf(t){v.useEffect(()=>{const e=NN(`SEA-scrollPosition-${t}`);e&&window.scrollTo(0,parseInt(e,10))},[])}async function Pi(t,e){try{const n=await n8(t);e(n.data().count)}catch(n){console.log(n.message)}}async function doe(t,e){const n=ge(Ne(be,"users"),e),r=Q4(t,e);try{if(r)return r;{const s=await kf(n);if(s.exists()){const i={uid:s.id,...s.data()};return Q4(t,s.id)?console.log("User already exists in the array:"):t.push(i),i}else return console.log("No user found in Firestore"),null}}catch(s){return console.error("Error fetching user:",s.message),null}}function Q4(t,e){return t.find(n=>n.uid===e)}function Dn(t,e,n,r=()=>{},s=[]){v.useEffect(()=>{(async()=>{r(!0);const o=await doe(e,t);n(o),r(!1)})()},s)}const _s=()=>{const[t,e]=v.useState(!0),[n,r]=v.useState(0),{theme:s,headerTitle:i}=v.useContext(X);if(v.useEffect(()=>{const o=setInterval(()=>{r(Math.min(n+1,100)),n===100&&(e(!1),r(0))},5);return()=>{clearInterval(o)}},[n]),t?document.title="Loading...":document.title=i,t)return f.jsx("div",{className:`transition-all fixed z-30  top-0 right-0 left-0 bottom-0 flex  items-center justify-center ${s==="light"?"bg-white":"bg-slate-600 text-white"}`,children:f.jsxs("div",{className:"flex flex-col items-center justify-center gap-y-4",children:[f.jsx("img",{className:"w-20 rounded-lg",src:"/images/sea-logo.jpg"}),f.jsx("div",{className:"h-3 w-[200px] ",children:f.jsx(Wt,{variant:"determinate",value:n})})]})})},hoe=()=>{const{theme:t,userData:e,userId:n}=v.useContext(X),[r,s]=v.useState(!0),[i,o]=v.useState(null),a=`${i==null?void 0:i.testName} - Results`,l=Math.round((i==null?void 0:i.score)/(i==null?void 0:i.totalScore)*100),c=wn(),{resultId:u}=Xh();v.useEffect(()=>{(async()=>{try{const p=Ne(ge(be,"users",n),"history"),m=ge(p,u),y=await kf(m);o(y.data()),s(!1)}catch(p){console.log(p.message)}})()},[]),v.useEffect(()=>(Ns(),Ns()),[]);const d=async()=>{try{await navigator.share({title:"Check out my score!",text:`I scored ${i.score} out of ${i.totalScore} in '${i.testName}'.
Website URL - https://seaacademy.onrender.com/tests/
        `})}catch{console.log("Error")}};return f.jsxs("div",{className:"p-5 ",children:[f.jsx(_s,{}),i&&!r?f.jsxs("div",{className:"",children:[f.jsxs("div",{className:"flex items-center gap-x-1 h-10 font-medium mb-4",children:[f.jsx(nn,{data:{image:"back",clickFn:()=>c("/app/history")}}),f.jsx("div",{className:`text-lg pl-2 place-items-center bg-blue-40 ${t==="light"?"text-gray-500":"text-white"}`,children:a})]}),f.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[f.jsx("div",{children:f.jsx("div",{className:"grid items-center justify-center bg-blue-300/50 h-40 w-40 rounded-full",children:f.jsx("div",{className:"grid items-center justify-center bg-blue-400/50 h-32 w-32 rounded-full",children:f.jsx("div",{className:"grid items-center justify-center bg-blue-500/50 h-28 w-28 rounded-full",children:f.jsx("div",{className:`grid  h-20 w-20 items-center justify-center rounded-full ${t==="light"?"bg-slate-50":"bg-slate-600"}`,children:f.jsxs("div",{className:`flex flex-col items-center justify-center font-medium ${t==="light"?"text-blue-500":"text-white"}`,children:[f.jsx("div",{className:"text-sm font-bold",children:"Your Score"}),f.jsxs("div",{className:" text-lg ",children:[i.score," / ",i.totalScore]})]})})})})})}),f.jsx("div",{className:`grid items-center justify-center font-bold
             text-lg ${t==="light"?"text-blue-700":"text-white"}`,children:f.jsx("div",{children:i.level})})]}),f.jsxs("div",{className:"mt-1 mb-2 h-2 border flex ",children:[f.jsx("div",{className:`h-full ${t==="light"?"bg-lime-400":"bg-slate-500"}`,style:{width:`${l}%`}}),f.jsx("div",{className:"h-full bg-gray-200",style:{width:`${100-l}%`}})]}),f.jsxs("div",{className:`grid border shadow-lg grid-cols-2 gap-y-2 border p-2 rounded-lg ${t==="light"?"bg-white border-slate-200":"border-slate-500/70 text-white"}`,children:[f.jsx(la,{text:"Score Percentage",value:`${l}%`,color:"text-lime-500"}),f.jsx(la,{text:"Total Questions",value:i.totalScore,color:"text-lime-500"}),f.jsx(la,{text:"Correct",value:i.score,color:"text-green-500"}),f.jsx(la,{text:"Wrong",value:i.totalScore-i.score,color:"text-red-500"}),f.jsx(la,{text:"Date",value:i.date,color:"text-lime-500"}),f.jsx(la,{text:"Time",value:i.time,color:"text-lime-500"}),f.jsx(la,{text:"Time taken",value:coe(i.timeTaken)||"Unknown",color:"text-lime-500"})]}),f.jsxs("div",{className:`grid grid-cols-3 justify-center gap-y-2 mt-5 ${t==="light"?"":"text-white"}`,children:[f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx(nn,{data:{clickFn:()=>c(`/app/history/${u}/reviews`),image:"review"}}),f.jsx("div",{className:"text-sm",children:"Review Answers"})]}),f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx(nn,{data:{clickFn:d,image:"share"}}),f.jsx("div",{className:"text-sm",children:"Share Score"})]}),f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx(nn,{data:{clickFn:()=>c("/app/posts"),image:"home"}}),f.jsx("div",{className:"text-sm",children:"Home"})]})]})]}):f.jsxs(Ee,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Wt,{})]})]})},la=({text:t,value:e,color:n})=>f.jsxs("div",{children:[f.jsxs("div",{className:`font-medium ${n}`,children:["● ",e]}),f.jsx("div",{className:"text-sm",children:t})]});function ra(t,e=15){const n=t==null?void 0:t.slice(0,e);return e>(t==null?void 0:t.length)?n:`${n}...`}const qr=({image:t,name:e,size:n="size-10",fontSize:r="text-lg",className:s})=>{const i=t&&t.trim(),o=e&&e.trim(),a=i&&o,l=()=>{const c=e.trim().split(" ");return c.length<=3?c[0][0].toUpperCase():`${c[0][0]}${c[1][0]}`.toUpperCase()};if(i||a)return f.jsx("img",{alt:e,className:`${n} rounded-full object-cover ${s}`,src:t});if(o)return f.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:l()});if(!a)return f.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:"U"})},Ui=({data:t})=>{const{yesButton:e,noButton:n,text:r,setValue:s,value:i}=t;return v.useContext(X),f.jsxs(xl,{open:i,onClose:()=>s(!1),children:[f.jsx(CW,{children:r}),f.jsxs(Ko,{direction:"row",alignItems:"center",justifyContent:"center",gap:1,margin:2,children:[f.jsx(He,{onClick:e,children:"Yes"}),f.jsx(He,{onClick:n,children:"No"})]})]})},fr=({name:t})=>f.jsx("img",{className:"size-7",src:Ae(t)}),foe=({data:t})=>{const{setIsMenuOpen:e}=t,[n,r]=v.useState(!1),[s,i]=v.useState(!1),o=v.useRef(null),a=wn(),{setIsLogIn:l,theme:c,userData:u,refreshUserData:d,inspecting:h,isOnline:p}=v.useContext(X),m=async()=>{try{await KA(Hs),e(!1),l(!1),bi.remove("userId"),a("/login")}catch(y){console.log(y.message)}};return Of(o,r),f.jsxs("div",{ref:o,className:"p-2 ",children:[f.jsx("div",{className:"top-0 right-0 left-0 bottom-0",children:f.jsx(Ui,{data:{value:s,yesButton:m,noButton:()=>{i(!1)},text:"Are you sure to log out ?",setValue:i}})}),f.jsx(He,{variant:n?"outlined":"text",size:"small",sx:{textTransform:"capitalize",justifyContent:"start"},onClick:()=>r(!n),className:`transition-all p-1 flex items-center rounded-md cursor-pointer w-full min-h-14 ${c==="light"?`${n?"bg-slate-100 shadow-md border border-slate-200":"hover:bg-slate-200/70"}`:`${n?"bg-slate-500/70":"hover:bg-slate-500/70"}`}`,children:f.jsxs("div",{className:"flex gap-x-2 items-center mb-2",children:[f.jsx("div",{className:"relative size-10",children:f.jsx(qr,{image:u==null?void 0:u.image,name:u==null?void 0:u.name})}),f.jsxs("div",{className:"flex flex-1 items-center justify-between",children:[f.jsx("div",{className:"font-medium",children:u!=null&&u.name?u.name:"User"}),h&&f.jsx(nn,{data:{clickFn:d,image:"exit"}})]})]})}),n&&f.jsxs("div",{className:`absolute bottom-[70px] left-1 border w-4/6 sm:w-3/5 md:w-4/6  p-2 rounded-md ${c==="light"?"border-gray-200 bg-white ":"bg-slate-500 text-white border-slate-500 "}`,children:[f.jsx("div",{children:f.jsxs("button",{onClick:()=>{a("/app/settings"),e(!1),r(!1)},className:`flex w-full p-1 rounded-md gap-x-2 items-center  ${c==="light"?"hover:bg-gray-200/70":"hover:bg-slate-600 text-white"}`,children:[f.jsx(fr,{name:"admin"}),f.jsx("div",{children:"Settings"})]})}),f.jsxs("button",{onClick:()=>{i(!0)},className:`flex w-full p-1 rounded-md gap-x-2 items-center ${c==="light"?"hover:bg-gray-200/70":"hover:bg-slate-600 text-white"}`,children:[f.jsx("img",{className:"w-6",src:Ae("logout")}),f.jsx("div",{children:"Log out"})]})]})]})},poe=({isMenuOpen:t,setIsMenuOpen:e})=>{const n=["/app/admin","/app/admin/posts","/app/admin/users","/app/admin/helps","/app/admin/tests"],{userData:r,newMessages:s,historyCount:i,setHistoryCount:o,notiCount:a,setNotiCount:l,userId:c}=v.useContext(X),u=cu(),d=u.pathname.includes("/app/history"),h=n.includes(u.pathname),p=u.pathname==="/app",m=u.pathname==="/app/tests",y=u.pathname==="/app/help",E=u.pathname==="/app/notifications",g=u.pathname==="/app/chatroom";v.useEffect(()=>{try{Pi(Ne(ge(be,"users",c),"history"),o),Pi(Ne(be,"notifications"),l)}catch(b){console.log(b.message)}},[]);const w=()=>{let b=0;return s.forEach(T=>{Jg(s,T.id)||(b+=1)}),!!(b>0&&(r!=null&&r.name))},_=[{text:"Home",image:"home",path:"/app",active:p},{text:"Tests",image:"exam",path:"/app/tests",active:m},{text:"History",image:"history",path:"/app/history",items:i,active:d},{text:"Notifications",image:"notification",path:"/app/notifications",items:a,active:E},{text:"Chat Room",image:"chat",path:"/app/chatroom",color:"bg-red-600",active:g},{text:"Admin",image:"admin",path:"/app/admin",active:h},{text:"Help",image:"help",path:"/app/help",active:y}],x=["Admin"],S=_.filter(b=>r.isAdmin?!0:!x.includes(b.text));return f.jsxs(CG,{variant:"temporary",transitionDuration:{enter:500,exit:300},anchor:"left",open:t,onOpen:()=>e(!0),onClose:()=>e(!1),sx:{"& .MuiDrawer-paper":{width:{xs:"300px",sm:"350px",md:"400px",lg:"450px",xl:"500px"}}},children:[f.jsx("div",{className:"flex p-2 items-center",children:f.jsxs("div",{className:"font-medium text-md flex-1 flex items-center",children:[f.jsx(cr,{onClick:()=>e(!1),children:f.jsx("img",{className:"w-8",src:Ae("close")})}),f.jsx(yn,{sx:{fontWeight:"bold"},children:"STAR EDUCATION ACADEMY"})]})}),f.jsxs(Ko,{sx:{flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[f.jsx(HR,{direction:"right",in:t,mountOnEnter:!0,unmountOnExit:!0,children:f.jsx("div",{className:"mr-2 ml-2",children:S.map(b=>f.jsx(moe,{setIsMenuOpen:e,data:{active:b.active,image:b.image,path:b.path,text:b.text,items:b==null?void 0:b.items,color:b.color,isThereNewMessages:w}},b.text))})}),f.jsx(foe,{data:{setIsMenuOpen:e}})]})]})},moe=({setIsMenuOpen:t,data:e})=>{const{active:n,image:r,text:s,items:i,path:o,color:a,isThereNewMessages:l}=e,c=wn(),{theme:u,currentTest:d}=v.useContext(X);return f.jsxs(He,{sx:{justifyContent:"start",textTransform:"capitalize"},variant:n?"contained":"text",onClick:()=>{c(o),t(!1)},className:`relative  p-2 pl-2 transition-all font-medium rounded-tr-3xl rounded-br-3xl flex items-center gap-x-1 w-full  hover:shadow-md 
      ${u==="light"?` ${n?"bg-blue-500/70":"hover:bg-slate-200/70"}`:` ${n?"bg-blue-500/70":"hover:bg-slate-100"}`}
      `,children:[f.jsx("img",{className:`size-9 p-1 transition-all
        `,src:Ae(r)}),f.jsx("div",{children:s}),i&&i>=0&&f.jsx("div",{className:` flex items-center rounded-full justify-center pl-1 pr-1  min-h-6 min-w-6 text-sm top-0 -left-1 font-bold text-white ${a||"bg-black"}`,children:i}),d&&s==="Home"&&f.jsxs("div",{className:"text-sm",children:["(Taking ",ra(d.name,45),")"]}),s==="Chat Room"&&(l()?f.jsx("div",{className:"absolute left-2 top-3 shadow-sm bg-red-500 size-3 rounded-full"}):"")]})},goe=()=>{const{headerTitle:t,newMessages:e,userData:n,isLogin:r}=v.useContext(X),[s,i]=v.useState(!1);return f.jsx(VR,{position:"sticky",sx:{zIndex:"20"},children:f.jsx(lA,{sx:{padding:"5px",backgroundColor:"white"},children:f.jsxs(Nd,{container:!0,justifyContent:"space-between",children:[f.jsxs(Nd,{item:!0,display:"flex",alignItems:"center",children:[r&&f.jsxs(f.Fragment,{children:[f.jsxs(cr,{sx:{position:"relative"},onClick:()=>i(!0),children:[f.jsx("img",{className:"w-8",src:Ae("menu")}),uoe(e,n)?f.jsx("div",{className:"absolute left-2 top-2 shadow-sm bg-red-500 size-3 rounded-full"}):""]}),s&&f.jsx(poe,{setIsMenuOpen:i,isMenuOpen:s})]}),f.jsx(yn,{sx:{fontWeight:"bold",color:"black"},children:t})]}),f.jsx(Nd,{item:!0,children:f.jsx("div",{className:"flex gap-x-2 items-center",children:f.jsx("img",{className:"size-12 rounded-full",src:"images/sea-logo.jpg"})})})]})})})},hc=()=>f.jsx("div",{className:"h-0.5 border border-dashed border-gray-200 mb-2 mt-2"}),yoe=()=>{var y;const{theme:t,userData:e}=v.useContext(X),n=0,r=10,[s,i]=v.useState(r),[o,a]=v.useState(!1),[l,c]=v.useState({}),u=(y=l==null?void 0:l.results)==null?void 0:y.slice(n,s),d=`${l==null?void 0:l.testName} - Review your answers`,{resultId:h}=Xh(),p=()=>{try{const E=Ne(ge(be,"users",e.uid),"history"),g=ge(E,h);return cs(g,_=>{const x={id:_.id,..._.data()};c(x)})}catch(E){console.log(E.message)}};v.useEffect(()=>{const E=p();return()=>{E()}},[h]),v.useEffect(()=>(Ns(),Ns()),[]);const m=()=>{i(s+r)};return v.useEffect(()=>{var E;s>=((E=l==null?void 0:l.results)==null?void 0:E.length)&&a(!0)},[s]),document.title=d,f.jsxs("div",{className:"p-5",children:[f.jsx(_s,{}),l?f.jsxs("div",{className:"grid gap-y-5",children:[f.jsx("div",{className:`font-medium text-lg ${t==="light"?"":"text-white"}`,children:d}),u==null?void 0:u.map(E=>{const{id:g,question:w,isTrue:_,answer:x,userAnswer:S}=E;return _?f.jsxs("div",{className:"grid font-padauk gap-y-2",children:[f.jsxs("div",{className:"flex gap-x-3 items-center",children:[f.jsx("div",{className:"bg-green-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:g}),f.jsx("div",{className:`flex-1 ${t==="light"?"":"text-white"}`,children:w})]}),f.jsx("div",{children:f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"text-green-500 font-bold",children:"Correct (your answer)"}),f.jsxs("div",{className:"min-h-12  flex gap-x-3 p-2 border text-green-500 border-green-500 rounded-lg items-center shadow-md shadow-lime-200",children:[f.jsx("img",{className:"w-5 h-5",src:Ae("trueIcon")}),f.jsx("div",{children:x})]})]})}),f.jsx(hc,{})]},`result-${g}`):f.jsxs("div",{className:"grid font-padauk gap-y-2",children:[f.jsxs("div",{className:"flex gap-x-3 items-center",children:[f.jsx("div",{className:"bg-red-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:g}),f.jsx("div",{className:`flex-1 ${t==="light"?"":"text-white"}`,children:w})]}),f.jsxs("div",{className:"grid gap-y-1",children:[f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"text-red-500 font-bold",children:"Incorrect (your answer)"}),f.jsxs("div",{className:"min-h-12 flex gap-x-3 p-2 border text-red-500 border-red-500 rounded-lg items-center shadow-md shadow-red-200",children:[f.jsx("img",{className:"w-5 h-5",src:Ae("falseIcon")}),f.jsx("div",{children:S})]})]}),f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"text-green-500 font-bold",children:"Correct"}),f.jsxs("div",{className:" min-h-12  flex gap-x-3 p-2 border text-green-500 shadow-md shadow-lime-200 border-green-500 rounded-lg items-center",children:[f.jsx("img",{className:"w-5 h-5",src:Ae("trueIcon")}),f.jsx("div",{children:x})]})]})]}),f.jsx(hc,{})]},`result-${g}`)}),o?"":f.jsx("div",{className:"flex justify-center",children:f.jsx(ks,{data:{image:"down",text:"See More",clickFn:m}})}),f.jsx("div",{children:f.jsx(qD,{to:`/app/history/${h}`,children:f.jsx(ks,{data:{image:"back",text:"Back to results"}})})})]}):f.jsx(cA,{text:"Unavailable"})]})},Y4=()=>{const{deleteFromHistory:t,theme:e,setHeaderTitle:n,userId:r,historyCount:s}=v.useContext(X),i=wn(),[o,a]=v.useState([]),[l,c]=v.useState(null),[u,d]=v.useState(!1),[h,p]=v.useState(!1),[m,y]=v.useState(!1),[E,g]=v.useState([]),[w,_]=v.useState(null),x=5,S=async()=>{const R=Ne(ge(be,"users",r),"history");let N=hr(R,Fa(x));w&&(N=hr(N,Bg(w)));const M=await Fi(N),L=M.docs.map(O=>({id:O.id,...O.data()}));a([...o,...L]),console.log(L),_(M.docs[M.docs.length-1])};v.useEffect(()=>{S()},[]);const b=R=>{m||i(`/app/history/${R.id}`)},T=()=>{t(l),c(null),d(!1)},C=()=>{d(!1),c(null)},A=(R,N)=>{R.target.checked?g([...E,N]):g(E.filter(M=>M!==N))},I=()=>{const R=o.filter(N=>!E.includes(N.id));a(R),g([]),p(!1),y(!1)};return $f("history-page"),jf("history-page"),v.useEffect(()=>{n("History")},[]),f.jsxs("div",{className:"p-5",children:[f.jsx(_s,{}),f.jsx(Ui,{data:{value:h,setValue:p,text:`Are you sure to delete ${E.length} ${E.length<=1?"item":"items"} ?`,yesButton:I,noButton:()=>p(!1),setValue:p}}),f.jsx(Ui,{data:{value:u,text:"Are you sure to delete ?",yesButton:T,noButton:C,setValue:d}}),o.length!==0?f.jsxs("div",{className:"grid gap-y-2  ",children:[f.jsxs("div",{className:"flex items-center gap-x-2 justify-between",children:[f.jsx(He,{variant:"outlined",onClick:()=>{y(!m),g([])},children:m?"Done":"Select"}),m&&f.jsxs("div",{className:"flex items-center gap-x-2",children:[f.jsxs("div",{className:"font-medium rounded-lg",children:[E.length," ",E.length<=1?"item":"items"," selected"]}),f.jsx(nn,{data:{clickFn:()=>{E.length&&p(!0)},image:"trash"}})]})]}),o.map((R,N)=>f.jsxs(Ee,{className:`min-h-20 border shadow-md rounded-md gap-x-3 ${e==="light"?"border-slate-200 shadow-gray-200":"border-slate-500/70 text-white shadow-slate-500"}`,children:[f.jsx("div",{className:`font-medium border-b p-2 rounded-tl-md rounded-tr-md ${e==="light"?" border-b-slate-200":"bg-slate-500/70 border-b-slate-400"}`,children:R.testName}),f.jsxs("div",{className:"p-2 flex items-center gap-x-2",children:[m&&f.jsx("input",{checked:E.includes(R.id),onChange:M=>A(M,R.id),className:"form-checkbox rounded-lg border-2 w-6 h-6 border-gray-200 checked:bg-transparent ",type:"checkbox"}),f.jsx("div",{onClick:()=>b(R),className:"flex flex-1 items-center gap-x-3 cursor-pointer",children:f.jsxs("div",{className:"flex-1 sm:flex items-center gap-x-3 ",children:[f.jsxs("div",{className:"",children:["Score: ",R.score," / ",R.results.length," "]}),f.jsxs("div",{className:" ",children:["Date: ",R.date," (",` ${R.time}`,")"]})]})}),!1]})]},`shadow-md history-item-${R.id}`)),s>x&&o.length<s?f.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:f.jsx(He,{size:"small",onClick:S,children:"load more"})}):""]}):f.jsxs(Ee,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Wt,{})]})]})},voe=()=>{const[t,e]=v.useState(0),n=()=>{const r=window.innerHeight,s=document.documentElement.scrollHeight,i=window.scrollY,o=s-r,a=i/o*100;e(a)};return v.useEffect(()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}),[]),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-20",children:f.jsx("div",{style:{width:`${t}%`},className:"h-1 bg-blue-600"})})},_oe=()=>{const{users:t,theme:e,setHeaderTitle:n}=v.useContext(X),[r,s]=v.useState(null),[i,o]=v.useState(null),[a,l]=v.useState(null),c=[{name:"Posts",image:"home",path:"/app/admin/posts",counts:r},{name:"Tests",image:"exam",path:"/app/admin/tests",counts:i},{name:"Users",image:"user",path:"/app/admin/users",counts:a}],[u,d]=v.useState(c);v.useEffect(()=>{(async()=>{await Pi(Ne(be,"posts"),s),await Pi(Ne(be,"tests"),o),await Pi(Ne(be,"users"),l)})()},[]);const h=wn();return v.useEffect(()=>{n("Admin")},[]),v.useEffect(()=>{d(c)},[r,i,a]),f.jsxs("div",{className:"m-5 grid rounded-md border border-slate-200 shadow-md  ",children:[f.jsx(_s,{}),u.map((p,m)=>f.jsxs(Ee,{onClick:()=>{h(p.path)},className:`${m===0&&"border-t-0"} border-t ${m===u.length-1&&"border-b-0"} transition-all  pt-5 pb-5 border-slate-200 overflow-hidden flex items-center gap-x-1 p-2 cursor-pointer hover:bg-slate-100`,children:[f.jsx("img",{className:"w-7 ",src:Ae(p.image)}),f.jsx("div",{children:p.name}),p.counts&&f.jsx("div",{className:" flex bg-black items-center rounded-full justify-center pl-1 pr-1  min-h-6 min-w-6 text-sm top-0 -left-1 font-bold text-white ",children:p.counts})]},p.name))]})},woe=()=>{const e=new Date().getFullYear();return v.useContext(X),f.jsxs(Ko,{className:" w-full shadow-t-md flex flex-col items-center p-1 bg-white border-t  mt-auto border-t-slate-200 ",rowGap:.5,children:[f.jsxs(yn,{children:["SEA copyright 2015 - ",e]}),f.jsx(yn,{children:"All rights reserved."}),f.jsx(yn,{children:"Author: Than Aung Naing"})]})},S2=({message:t,bgColor:e="bg-slate-200"})=>f.jsx("div",{className:"z-30 fixed flex justify-center bottom-5 left-0 right-0 ",children:f.jsx("div",{className:`${e} font-bold p-3 rounded-lg`,children:t})}),xoe=({data:t})=>{const{isLogin:e,refreshUserData:n,setHeaderTitle:r,theme:s,setIsLogIn:i}=v.useContext(X),[o,a]=v.useState(""),[l,c]=v.useState(""),[u,d]=v.useState(""),[h,p]=v.useState(null),[m,y]=v.useState("login"),E=wn();let g;v.useEffect(()=>{r("STAR EDUCATION ACADEMY")},[]);const w=()=>{E("/app")};$s("auto");const _=async(I,R,N=3,M=1e3)=>{let L=0;for(;L<N;)try{await Va(ge(be,"users",I),R),console.log("User data save to firestore successfully");break}catch(O){if(L++,L>=N)throw console.log("Failed to save user data",O.message),h;console.warn(`Retrying Firestore write... (attempt ${L})`),await new Promise(P=>setTimeout(P,M*L))}},x=async(I,R,N,M="",L)=>{try{const O=ge(be,"users",L),P=await kf(O),k={name:I,email:R,password:N,image:M,isAdmin:!1,createdAt:Gn()};console.log("User exists: ",P.exists()),P.exists()||await _(L,k)}catch(O){console.log(O.message)}},S=async()=>{try{const R=(await $Y(Hs,ioe)).user;await x(Hs.currentUser.displayName,Hs.currentUser.email,"",Hs.currentUser.photoURL,R.uid),bi.set("userId",R.uid,{expires:365}),i(!0),w()}catch(I){clearTimeout(g),p(I.message),g=setTimeout(()=>{p(null)},3e3)}},b=async()=>{try{const R=(await pY(Hs,l,u)).user;bi.set("userId",R.uid,{expires:365}),i(!0),w()}catch(I){clearTimeout(g),p(I.message),g=setTimeout(()=>{p(null)},3e3)}},T=async()=>{try{const I=await fY(Hs,l,u),{user:R}=I;await x(o,l,u,"",R.uid),bi.set("userId",R.uid,{expires:365}),i(!0),w()}catch(I){clearTimeout(g),p(I.message),g=setTimeout(()=>{p(null)},3e3)}},C=()=>{const I=bi.get("userId")||null;let R=!1;return I&&(R=!0),{loggedIn:R,userId:I}},A=()=>{switch(m){case"login":return f.jsx("div",{children:f.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[f.jsx(yn,{variant:"h6",color:"primary",children:"Log In"}),f.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[f.jsx(vi,{name:"email",variant:"filled",color:"primary",label:"Enter your email",type:"email",size:"small",value:l,onChange:I=>c(I.target.value)}),f.jsx(vi,{name:"email",variant:"filled",color:"primary",label:"Enter your password",type:"password",size:"small",value:u,onChange:I=>d(I.target.value)}),h&&f.jsx(S2,{message:h,bgColor:"bg-red-300"}),f.jsx(He,{onClick:b,sx:{textTransform:"capitalize"},variant:"contained",color:"primary",children:"Log In"})]}),f.jsx(X4,{}),f.jsx("div",{children:f.jsx(He,{onClick:S,startIcon:f.jsx("img",{className:"size-7",src:Ae("google")}),sx:{textTransform:"capitalize"},variant:"outlined",children:"Sign in With Google"})}),f.jsx(X4,{}),f.jsx("div",{children:f.jsx(He,{onClick:()=>y("signup"),sx:{textTransform:"capitalize"},variant:"outlined",children:"Create new Account"})})]})});case"signup":return f.jsx("div",{children:f.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[f.jsx(yn,{variant:"h6",color:"primary",children:"Create a new account"}),f.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[f.jsx(vi,{variant:"filled",color:"primary",label:"Enter your name",type:"email",size:"small",value:o,onChange:I=>a(I.target.value)}),f.jsx(vi,{name:"email",variant:"filled",color:"primary",label:"Enter your email",type:"email",size:"small",value:l,onChange:I=>c(I.target.value)}),f.jsx(vi,{name:"email",variant:"filled",color:"primary",label:"Enter your password",type:"password",size:"small",value:u,onChange:I=>d(I.target.value)}),h&&f.jsx(S2,{message:h,bgColor:"bg-red-300"}),f.jsx(He,{onClick:()=>{T()},sx:{textTransform:"capitalize"},variant:"contained",color:"primary",children:"Sign up"}),f.jsx("div",{children:f.jsx(He,{startIcon:f.jsx("img",{className:"size-7",src:Ae("back")}),onClick:()=>y("login"),sx:{textTransform:"capitalize"},variant:"outlined",color:"primary",children:"Log in"})})]})]})})}};return f.jsxs("div",{className:"Login mb-5",children:[f.jsx(_s,{}),C().loggedIn?f.jsx(Eoe,{userId:C().userId}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`text-md rounded-md font-medium  p-1 pl-2 border-b  ${s==="light"?"text-lime-700 bg-lime-100/70 border-b-lime-300":" bg-slate-500/70 border-slate-500/70 text-white"}`,children:"You must log in first."}),A()]})]})},X4=()=>{const{theme:t}=v.useContext(X);return f.jsx("div",{className:`mt-2 mb-2 ${t==="light"?"":"text-white"}`,children:"OR"})},Eoe=({userId:t})=>{ge(Ne(be,"users"),t),v.useState(null);const e=wn(),{userData:n}=v.useContext(X);return f.jsxs(Ko,{m:2,children:[f.jsxs(yn,{children:["You are already logged in as ",n==null?void 0:n.name,"."]}),f.jsx(Ee,{mt:1,children:f.jsx(He,{onClick:()=>e("/app/settings"),variant:"outlined",children:"Settings"})})]})};function boe(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function LN(t,e){return new Promise(function(n,r){let s;return Coe(t).then(function(i){try{return s=i,n(new Blob([e.slice(0,2),s,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const Coe=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:s}})=>{const i=new DataView(s);let o=0;if(i.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const a=i.getUint16(o);if(a===65498)break;const l=i.getUint16(o+2);if(a===65505&&i.getUint32(o+4)===1165519206){const c=o+10;let u;switch(i.getUint16(c)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(i.getUint16(c+2,u)!==42)return n("TIFF header contains invalid version");const d=i.getUint32(c+4,u),h=c+d+2+12*i.getUint16(c+d,u);for(let p=c+d+2;p<h;p+=12)if(i.getUint16(p,u)==274){if(i.getUint16(p+2,u)!==3)return n("Orientation data type is invalid");if(i.getUint32(p+4,u)!==1)return n("Orientation data count is invalid");i.setUint16(p+8,1,u);break}return e(s.slice(o,o+2+l))}o+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var R2={},Ioe={get exports(){return R2},set exports(t){R2=t}};(function(t){var e,n,r={};Ioe.exports=r,r.parse=function(s,i){for(var o=r.bin.readUshort,a=r.bin.readUint,l=0,c={},u=new Uint8Array(s),d=u.length-4;a(u,d)!=101010256;)d--;l=d,l+=4;var h=o(u,l+=4);o(u,l+=2);var p=a(u,l+=2),m=a(u,l+=4);l+=4,l=m;for(var y=0;y<h;y++){a(u,l),l+=4,l+=4,l+=4,a(u,l+=4),p=a(u,l+=4);var E=a(u,l+=4),g=o(u,l+=4),w=o(u,l+2),_=o(u,l+4);l+=6;var x=a(u,l+=8);l+=4,l+=g+w+_,r._readLocal(u,x,c,p,E,i)}return c},r._readLocal=function(s,i,o,a,l,c){var u=r.bin.readUshort,d=r.bin.readUint;d(s,i),u(s,i+=4),u(s,i+=2);var h=u(s,i+=2);d(s,i+=2),d(s,i+=4),i+=4;var p=u(s,i+=8),m=u(s,i+=2);i+=2;var y=r.bin.readUTF8(s,i,p);if(i+=p,i+=m,c)o[y]={size:l,csize:a};else{var E=new Uint8Array(s.buffer,i);if(h==0)o[y]=new Uint8Array(E.buffer.slice(i,i+a));else{if(h!=8)throw"unknown compression method: "+h;var g=new Uint8Array(l);r.inflateRaw(E,g),o[y]=g}}},r.inflateRaw=function(s,i){return r.F.inflate(s,i)},r.inflate=function(s,i){return s[0],s[1],r.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),i)},r.deflate=function(s,i){i==null&&(i={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*s.length));a[o]=120,a[o+1]=156,o+=2,o=r.F.deflateRaw(s,a,o,i.level);var l=r.adler(s,0,s.length);return a[o+0]=l>>>24&255,a[o+1]=l>>>16&255,a[o+2]=l>>>8&255,a[o+3]=l>>>0&255,new Uint8Array(a.buffer,0,o+4)},r.deflateRaw=function(s,i){i==null&&(i={level:6});var o=new Uint8Array(50+Math.floor(1.1*s.length)),a=r.F.deflateRaw(s,o,a,i.level);return new Uint8Array(o.buffer,0,a)},r.encode=function(s,i){i==null&&(i=!1);var o=0,a=r.bin.writeUint,l=r.bin.writeUshort,c={};for(var u in s){var d=!r._noNeed(u)&&!i,h=s[u],p=r.crc.crc(h,0,h.length);c[u]={cpr:d,usize:h.length,crc:p,file:d?r.deflateRaw(h):h}}for(var u in c)o+=c[u].file.length+30+46+2*r.bin.sizeUTF8(u);o+=22;var m=new Uint8Array(o),y=0,E=[];for(var u in c){var g=c[u];E.push(y),y=r._writeHeader(m,y,u,g,0)}var w=0,_=y;for(var u in c)g=c[u],E.push(y),y=r._writeHeader(m,y,u,g,1,E[w++]);var x=y-_;return a(m,y,101010256),y+=4,l(m,y+=4,w),l(m,y+=2,w),a(m,y+=2,x),a(m,y+=4,_),y+=4,y+=2,m.buffer},r._noNeed=function(s){var i=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},r._writeHeader=function(s,i,o,a,l,c){var u=r.bin.writeUint,d=r.bin.writeUshort,h=a.file;return u(s,i,l==0?67324752:33639248),i+=4,l==1&&(i+=2),d(s,i,20),d(s,i+=2,0),d(s,i+=2,a.cpr?8:0),u(s,i+=2,0),u(s,i+=4,a.crc),u(s,i+=4,h.length),u(s,i+=4,a.usize),d(s,i+=4,r.bin.sizeUTF8(o)),d(s,i+=2,0),i+=2,l==1&&(i+=2,i+=2,u(s,i+=6,c),i+=4),i+=r.bin.writeUTF8(s,i,o),l==0&&(s.set(h,i),i+=h.length),i},r.crc={table:function(){for(var s=new Uint32Array(256),i=0;i<256;i++){for(var o=i,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;s[i]=o}return s}(),update:function(s,i,o,a){for(var l=0;l<a;l++)s=r.crc.table[255&(s^i[o+l])]^s>>>8;return s},crc:function(s,i,o){return 4294967295^r.crc.update(4294967295,s,i,o)}},r.adler=function(s,i,o){for(var a=1,l=0,c=i,u=i+o;c<u;){for(var d=Math.min(c+5552,u);c<d;)l+=a+=s[c++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(s,i){return s[i]|s[i+1]<<8},writeUshort:function(s,i,o){s[i]=255&o,s[i+1]=o>>8&255},readUint:function(s,i){return 16777216*s[i+3]+(s[i+2]<<16|s[i+1]<<8|s[i])},writeUint:function(s,i,o){s[i]=255&o,s[i+1]=o>>8&255,s[i+2]=o>>16&255,s[i+3]=o>>24&255},readASCII:function(s,i,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(s[i+l]);return a},writeASCII:function(s,i,o){for(var a=0;a<o.length;a++)s[i+a]=o.charCodeAt(a)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,i,o){for(var a,l="",c=0;c<o;c++)l+="%"+r.bin.pad(s[i+c].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(s,i,o)}return a},writeUTF8:function(s,i,o){for(var a=o.length,l=0,c=0;c<a;c++){var u=o.charCodeAt(c);if(!(4294967168&u))s[i+l]=u,l++;else if(!(4294965248&u))s[i+l]=192|u>>6,s[i+l+1]=128|u>>0&63,l+=2;else if(!(4294901760&u))s[i+l]=224|u>>12,s[i+l+1]=128|u>>6&63,s[i+l+2]=128|u>>0&63,l+=3;else{if(4292870144&u)throw"e";s[i+l]=240|u>>18,s[i+l+1]=128|u>>12&63,s[i+l+2]=128|u>>6&63,s[i+l+3]=128|u>>0&63,l+=4}}return l},sizeUTF8:function(s){for(var i=s.length,o=0,a=0;a<i;a++){var l=s.charCodeAt(a);if(!(4294967168&l))o++;else if(!(4294965248&l))o+=2;else if(!(4294901760&l))o+=3;else{if(4292870144&l)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(s,i,o,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],c=r.F.U,u=r.F._goodIndex;r.F._hash;var d=r.F._putsE,h=0,p=o<<3,m=0,y=s.length;if(a==0){for(;h<y;)d(i,p,h+(R=Math.min(65535,y-h))==y?1:0),p=r.F._copyExact(s,h,R,i,p+8),h+=R;return p>>>3}var E=c.lits,g=c.strt,w=c.prev,_=0,x=0,S=0,b=0,T=0,C=0;for(y>2&&(g[C=r.F._hash(s,0)]=0),h=0;h<y;h++){if(T=C,h+1<y-2){C=r.F._hash(s,h+1);var A=h+1&32767;w[A]=g[C],g[C]=A}if(m<=h){(_>14e3||x>26697)&&y-h>100&&(m<h&&(E[_]=h-m,_+=2,m=h),p=r.F._writeBlock(h==y-1||m==y?1:0,E,_,b,s,S,h-S,i,p),_=x=b=0,S=h);var I=0;h<y-2&&(I=r.F._bestMatch(s,h,w,T,Math.min(l[2],y-h),l[3]));var R=I>>>16,N=65535&I;if(I!=0){N=65535&I;var M=u(R=I>>>16,c.of0);c.lhst[257+M]++;var L=u(N,c.df0);c.dhst[L]++,b+=c.exb[M]+c.dxb[L],E[_]=R<<23|h-m,E[_+1]=N<<16|M<<8|L,_+=2,m=h+R}else c.lhst[s[h]]++;x++}}for(S==h&&s.length!=0||(m<h&&(E[_]=h-m,_+=2,m=h),p=r.F._writeBlock(1,E,_,b,s,S,h-S,i,p),_=0,x=0,_=x=b=0,S=h);7&p;)p++;return p>>>3},r.F._bestMatch=function(s,i,o,a,l,c){var u=32767&i,d=o[u],h=u-d+32768&32767;if(d==u||a!=r.F._hash(s,i-h))return 0;for(var p=0,m=0,y=Math.min(32767,i);h<=y&&--c!=0&&d!=u;){if(p==0||s[i+p]==s[i+p-h]){var E=r.F._howLong(s,i,h);if(E>p){if(m=h,(p=E)>=l)break;h+2<E&&(E=h+2);for(var g=0,w=0;w<E-2;w++){var _=i-h+w+32768&32767,x=_-o[_]+32768&32767;x>g&&(g=x,d=_)}}}h+=(u=d)-(d=o[u])+32768&32767}return p<<16|m},r.F._howLong=function(s,i,o){if(s[i]!=s[i-o]||s[i+1]!=s[i+1-o]||s[i+2]!=s[i+2-o])return 0;var a=i,l=Math.min(s.length,i+258);for(i+=3;i<l&&s[i]==s[i-o];)i++;return i-a},r.F._hash=function(s,i){return(s[i]<<8|s[i+1])+(s[i+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(s,i,o,a,l,c,u,d,h){var p,m,y,E,g,w,_,x,S,b=r.F.U,T=r.F._putsF,C=r.F._putsE;b.lhst[256]++,m=(p=r.F.getTrees())[0],y=p[1],E=p[2],g=p[3],w=p[4],_=p[5],x=p[6],S=p[7];var A=32+(h+3&7?8-(h+3&7):0)+(u<<3),I=a+r.F.contSize(b.fltree,b.lhst)+r.F.contSize(b.fdtree,b.dhst),R=a+r.F.contSize(b.ltree,b.lhst)+r.F.contSize(b.dtree,b.dhst);R+=14+3*_+r.F.contSize(b.itree,b.ihst)+(2*b.ihst[16]+3*b.ihst[17]+7*b.ihst[18]);for(var N=0;N<286;N++)b.lhst[N]=0;for(N=0;N<30;N++)b.dhst[N]=0;for(N=0;N<19;N++)b.ihst[N]=0;var M=A<I&&A<R?0:I<R?1:2;if(T(d,h,s),T(d,h+1,M),h+=3,M==0){for(;7&h;)h++;h=r.F._copyExact(l,c,u,d,h)}else{var L,O;if(M==1&&(L=b.fltree,O=b.fdtree),M==2){r.F.makeCodes(b.ltree,m),r.F.revCodes(b.ltree,m),r.F.makeCodes(b.dtree,y),r.F.revCodes(b.dtree,y),r.F.makeCodes(b.itree,E),r.F.revCodes(b.itree,E),L=b.ltree,O=b.dtree,C(d,h,g-257),C(d,h+=5,w-1),C(d,h+=5,_-4),h+=4;for(var P=0;P<_;P++)C(d,h+3*P,b.itree[1+(b.ordr[P]<<1)]);h+=3*_,h=r.F._codeTiny(x,b.itree,d,h),h=r.F._codeTiny(S,b.itree,d,h)}for(var k=c,D=0;D<o;D+=2){for(var $=i[D],F=$>>>23,q=k+(8388607&$);k<q;)h=r.F._writeLit(l[k++],L,d,h);if(F!=0){var W=i[D+1],z=W>>16,B=W>>8&255,V=255&W;C(d,h=r.F._writeLit(257+B,L,d,h),F-b.of0[B]),h+=b.exb[B],T(d,h=r.F._writeLit(V,O,d,h),z-b.df0[V]),h+=b.dxb[V],k+=F}}h=r.F._writeLit(256,L,d,h)}return h},r.F._copyExact=function(s,i,o,a,l){var c=l>>>3;return a[c]=o,a[c+1]=o>>>8,a[c+2]=255-a[c],a[c+3]=255-a[c+1],c+=4,a.set(new Uint8Array(s.buffer,i,o),c),l+(o+4<<3)},r.F.getTrees=function(){for(var s=r.F.U,i=r.F._hufTree(s.lhst,s.ltree,15),o=r.F._hufTree(s.dhst,s.dtree,15),a=[],l=r.F._lenCodes(s.ltree,a),c=[],u=r.F._lenCodes(s.dtree,c),d=0;d<a.length;d+=2)s.ihst[a[d]]++;for(d=0;d<c.length;d+=2)s.ihst[c[d]]++;for(var h=r.F._hufTree(s.ihst,s.itree,7),p=19;p>4&&s.itree[1+(s.ordr[p-1]<<1)]==0;)p--;return[i,o,h,l,u,p,a,c]},r.F.getSecond=function(s){for(var i=[],o=0;o<s.length;o+=2)i.push(s[o+1]);return i},r.F.nonZero=function(s){for(var i="",o=0;o<s.length;o+=2)s[o+1]!=0&&(i+=(o>>1)+",");return i},r.F.contSize=function(s,i){for(var o=0,a=0;a<i.length;a++)o+=i[a]*s[1+(a<<1)];return o},r.F._codeTiny=function(s,i,o,a){for(var l=0;l<s.length;l+=2){var c=s[l],u=s[l+1];a=r.F._writeLit(c,i,o,a);var d=c==16?2:c==17?3:7;c>15&&(r.F._putsE(o,a,u,d),a+=d)}return a},r.F._lenCodes=function(s,i){for(var o=s.length;o!=2&&s[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var l=s[a+1],c=a+3<o?s[a+3]:-1,u=a+5<o?s[a+5]:-1,d=a==0?-1:s[a-1];if(l==0&&c==l&&u==l){for(var h=a+5;h+2<o&&s[h+2]==l;)h+=2;(p=Math.min(h+1-a>>>1,138))<11?i.push(17,p-3):i.push(18,p-11),a+=2*p-2}else if(l==d&&c==l&&u==l){for(h=a+5;h+2<o&&s[h+2]==l;)h+=2;var p=Math.min(h+1-a>>>1,6);i.push(16,p-3),a+=2*p-2}else i.push(l,0)}return o>>>1},r.F._hufTree=function(s,i,o){var a=[],l=s.length,c=i.length,u=0;for(u=0;u<c;u+=2)i[u]=0,i[u+1]=0;for(u=0;u<l;u++)s[u]!=0&&a.push({lit:u,f:s[u]});var d=a.length,h=a.slice(0);if(d==0)return 0;if(d==1){var p=a[0].lit;return h=p==0?1:0,i[1+(p<<1)]=1,i[1+(h<<1)]=1,1}a.sort(function(x,S){return x.f-S.f});var m=a[0],y=a[1],E=0,g=1,w=2;for(a[0]={lit:-1,f:m.f+y.f,l:m,r:y,d:0};g!=d-1;)m=E!=g&&(w==d||a[E].f<a[w].f)?a[E++]:a[w++],y=E!=g&&(w==d||a[E].f<a[w].f)?a[E++]:a[w++],a[g++]={lit:-1,f:m.f+y.f,l:m,r:y};var _=r.F.setDepth(a[g-1],0);for(_>o&&(r.F.restrictDepth(h,o,_),_=o),u=0;u<d;u++)i[1+(h[u].lit<<1)]=h[u].d;return _},r.F.setDepth=function(s,i){return s.lit!=-1?(s.d=i,i):Math.max(r.F.setDepth(s.l,i+1),r.F.setDepth(s.r,i+1))},r.F.restrictDepth=function(s,i,o){var a=0,l=1<<o-i,c=0;for(s.sort(function(d,h){return h.d==d.d?d.f-h.f:h.d-d.d}),a=0;a<s.length&&s[a].d>i;a++){var u=s[a].d;s[a].d=i,c+=l-(1<<o-u)}for(c>>>=o-i;c>0;)(u=s[a].d)<i?(s[a].d++,c-=1<<i-u-1):a++;for(;a>=0;a--)s[a].d==i&&c<0&&(s[a].d--,c++);c!=0&&console.log("debt left")},r.F._goodIndex=function(s,i){var o=0;return i[16|o]<=s&&(o|=16),i[8|o]<=s&&(o|=8),i[4|o]<=s&&(o|=4),i[2|o]<=s&&(o|=2),i[1|o]<=s&&(o|=1),o},r.F._writeLit=function(s,i,o,a){return r.F._putsF(o,a,i[s<<1]),a+i[1+(s<<1)]},r.F.inflate=function(s,i){var o=Uint8Array;if(s[0]==3&&s[1]==0)return i||new o(0);var a=r.F,l=a._bitsF,c=a._bitsE,u=a._decodeTiny,d=a.makeCodes,h=a.codes2map,p=a._get17,m=a.U,y=i==null;y&&(i=new o(s.length>>>2<<3));for(var E,g,w=0,_=0,x=0,S=0,b=0,T=0,C=0,A=0,I=0;w==0;)if(w=l(s,I,1),_=l(s,I+1,2),I+=3,_!=0){if(y&&(i=r.F._check(i,A+(1<<17))),_==1&&(E=m.flmap,g=m.fdmap,T=511,C=31),_==2){x=c(s,I,5)+257,S=c(s,I+5,5)+1,b=c(s,I+10,4)+4,I+=14;for(var R=0;R<38;R+=2)m.itree[R]=0,m.itree[R+1]=0;var N=1;for(R=0;R<b;R++){var M=c(s,I+3*R,3);m.itree[1+(m.ordr[R]<<1)]=M,M>N&&(N=M)}I+=3*b,d(m.itree,N),h(m.itree,N,m.imap),E=m.lmap,g=m.dmap,I=u(m.imap,(1<<N)-1,x+S,s,I,m.ttree);var L=a._copyOut(m.ttree,0,x,m.ltree);T=(1<<L)-1;var O=a._copyOut(m.ttree,x,S,m.dtree);C=(1<<O)-1,d(m.ltree,L),h(m.ltree,L,E),d(m.dtree,O),h(m.dtree,O,g)}for(;;){var P=E[p(s,I)&T];I+=15&P;var k=P>>>4;if(!(k>>>8))i[A++]=k;else{if(k==256)break;var D=A+k-254;if(k>264){var $=m.ldef[k-257];D=A+($>>>3)+c(s,I,7&$),I+=7&$}var F=g[p(s,I)&C];I+=15&F;var q=F>>>4,W=m.ddef[q],z=(W>>>4)+l(s,I,15&W);for(I+=15&W,y&&(i=r.F._check(i,A+(1<<17)));A<D;)i[A]=i[A++-z],i[A]=i[A++-z],i[A]=i[A++-z],i[A]=i[A++-z];A=D}}}else{7&I&&(I+=8-(7&I));var B=4+(I>>>3),V=s[B-4]|s[B-3]<<8;y&&(i=r.F._check(i,A+V)),i.set(new o(s.buffer,s.byteOffset+B,V),A),I=B+V<<3,A+=V}return i.length==A?i:i.slice(0,A)},r.F._check=function(s,i){var o=s.length;if(i<=o)return s;var a=new Uint8Array(Math.max(o<<1,i));return a.set(s,0),a},r.F._decodeTiny=function(s,i,o,a,l,c){for(var u=r.F._bitsE,d=r.F._get17,h=0;h<o;){var p=s[d(a,l)&i];l+=15&p;var m=p>>>4;if(m<=15)c[h]=m,h++;else{var y=0,E=0;m==16?(E=3+u(a,l,2),l+=2,y=c[h-1]):m==17?(E=3+u(a,l,3),l+=3):m==18&&(E=11+u(a,l,7),l+=7);for(var g=h+E;h<g;)c[h]=y,h++}}return l},r.F._copyOut=function(s,i,o,a){for(var l=0,c=0,u=a.length>>>1;c<o;){var d=s[c+i];a[c<<1]=0,a[1+(c<<1)]=d,d>l&&(l=d),c++}for(;c<u;)a[c<<1]=0,a[1+(c<<1)]=0,c++;return l},r.F.makeCodes=function(s,i){for(var o,a,l,c,u=r.F.U,d=s.length,h=u.bl_count,p=0;p<=i;p++)h[p]=0;for(p=1;p<d;p+=2)h[s[p]]++;var m=u.next_code;for(o=0,h[0]=0,a=1;a<=i;a++)o=o+h[a-1]<<1,m[a]=o;for(l=0;l<d;l+=2)(c=s[l+1])!=0&&(s[l]=m[c],m[c]++)},r.F.codes2map=function(s,i,o){for(var a=s.length,l=r.F.U.rev15,c=0;c<a;c+=2)if(s[c+1]!=0)for(var u=c>>1,d=s[c+1],h=u<<4|d,p=i-d,m=s[c]<<p,y=m+(1<<p);m!=y;)o[l[m]>>>15-i]=h,m++},r.F.revCodes=function(s,i){for(var o=r.F.U.rev15,a=15-i,l=0;l<s.length;l+=2){var c=s[l]<<i-s[l+1];s[l]=o[c]>>>a}},r.F._putsE=function(s,i,o){o<<=7&i;var a=i>>>3;s[a]|=o,s[a+1]|=o>>>8},r.F._putsF=function(s,i,o){o<<=7&i;var a=i>>>3;s[a]|=o,s[a+1]|=o>>>8,s[a+2]|=o>>>16},r.F._bitsE=function(s,i,o){return(s[i>>>3]|s[1+(i>>>3)]<<8)>>>(7&i)&(1<<o)-1},r.F._bitsF=function(s,i,o){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)&(1<<o)-1},r.F._get17=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)},r.F._get25=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16|s[3+(i>>>3)]<<24)>>>(7&i)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var s=r.F.U,i=0;i<32768;i++){var o=i;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,s.rev15[i]=(o>>>16|o<<16)>>>17}function a(l,c,u){for(;c--!=0;)l.push(0,u)}for(i=0;i<32;i++)s.ldef[i]=s.of0[i]<<3|s.exb[i],s.ddef[i]=s.df0[i]<<4|s.dxb[i];a(s.fltree,144,8),a(s.fltree,112,9),a(s.fltree,24,7),a(s.fltree,8,8),r.F.makeCodes(s.fltree,9),r.F.codes2map(s.fltree,9,s.flmap),r.F.revCodes(s.fltree,9),a(s.fdtree,32,5),r.F.makeCodes(s.fdtree,5),r.F.codes2map(s.fdtree,5,s.fdmap),r.F.revCodes(s.fdtree,5),a(s.itree,19,0),a(s.ltree,286,0),a(s.dtree,30,0),a(s.ttree,320,0)}()})();var Toe=boe({__proto__:null,default:R2},[R2]);const xs=function(){var t={nextZero(u,d){for(;u[d]!=0;)d++;return d},readUshort:(u,d)=>u[d]<<8|u[d+1],writeUshort(u,d,h){u[d]=h>>8&255,u[d+1]=255&h},readUint:(u,d)=>16777216*u[d]+(u[d+1]<<16|u[d+2]<<8|u[d+3]),writeUint(u,d,h){u[d]=h>>24&255,u[d+1]=h>>16&255,u[d+2]=h>>8&255,u[d+3]=255&h},readASCII(u,d,h){let p="";for(let m=0;m<h;m++)p+=String.fromCharCode(u[d+m]);return p},writeASCII(u,d,h){for(let p=0;p<h.length;p++)u[d+p]=h.charCodeAt(p)},readBytes(u,d,h){const p=[];for(let m=0;m<h;m++)p.push(u[d+m]);return p},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,d,h){let p,m="";for(let y=0;y<h;y++)m+=`%${t.pad(u[d+y].toString(16))}`;try{p=decodeURIComponent(m)}catch{return t.readASCII(u,d,h)}return p}};function e(u,d,h,p){const m=d*h,y=i(p),E=Math.ceil(d*y/8),g=new Uint8Array(4*m),w=new Uint32Array(g.buffer),{ctype:_}=p,{depth:x}=p,S=t.readUshort;if(_==6){const $=m<<2;if(x==8)for(var b=0;b<$;b+=4)g[b]=u[b],g[b+1]=u[b+1],g[b+2]=u[b+2],g[b+3]=u[b+3];if(x==16)for(b=0;b<$;b++)g[b]=u[b<<1]}else if(_==2){const $=p.tabs.tRNS;if($==null){if(x==8)for(b=0;b<m;b++){var T=3*b;w[b]=255<<24|u[T+2]<<16|u[T+1]<<8|u[T]}if(x==16)for(b=0;b<m;b++)T=6*b,w[b]=255<<24|u[T+4]<<16|u[T+2]<<8|u[T]}else{var C=$[0];const F=$[1],q=$[2];if(x==8)for(b=0;b<m;b++){var A=b<<2;T=3*b,w[b]=255<<24|u[T+2]<<16|u[T+1]<<8|u[T],u[T]==C&&u[T+1]==F&&u[T+2]==q&&(g[A+3]=0)}if(x==16)for(b=0;b<m;b++)A=b<<2,T=6*b,w[b]=255<<24|u[T+4]<<16|u[T+2]<<8|u[T],S(u,T)==C&&S(u,T+2)==F&&S(u,T+4)==q&&(g[A+3]=0)}}else if(_==3){const $=p.tabs.PLTE,F=p.tabs.tRNS,q=F?F.length:0;if(x==1)for(var I=0;I<h;I++){var R=I*E,N=I*d;for(b=0;b<d;b++){A=N+b<<2;var M=3*(L=u[R+(b>>3)]>>7-((7&b)<<0)&1);g[A]=$[M],g[A+1]=$[M+1],g[A+2]=$[M+2],g[A+3]=L<q?F[L]:255}}if(x==2)for(I=0;I<h;I++)for(R=I*E,N=I*d,b=0;b<d;b++)A=N+b<<2,M=3*(L=u[R+(b>>2)]>>6-((3&b)<<1)&3),g[A]=$[M],g[A+1]=$[M+1],g[A+2]=$[M+2],g[A+3]=L<q?F[L]:255;if(x==4)for(I=0;I<h;I++)for(R=I*E,N=I*d,b=0;b<d;b++)A=N+b<<2,M=3*(L=u[R+(b>>1)]>>4-((1&b)<<2)&15),g[A]=$[M],g[A+1]=$[M+1],g[A+2]=$[M+2],g[A+3]=L<q?F[L]:255;if(x==8)for(b=0;b<m;b++){var L;A=b<<2,M=3*(L=u[b]),g[A]=$[M],g[A+1]=$[M+1],g[A+2]=$[M+2],g[A+3]=L<q?F[L]:255}}else if(_==4){if(x==8)for(b=0;b<m;b++){A=b<<2;var O=u[P=b<<1];g[A]=O,g[A+1]=O,g[A+2]=O,g[A+3]=u[P+1]}if(x==16)for(b=0;b<m;b++){var P;A=b<<2,O=u[P=b<<2],g[A]=O,g[A+1]=O,g[A+2]=O,g[A+3]=u[P+2]}}else if(_==0)for(C=p.tabs.tRNS?p.tabs.tRNS:-1,I=0;I<h;I++){const $=I*E,F=I*d;if(x==1)for(var k=0;k<d;k++){var D=(O=255*(u[$+(k>>>3)]>>>7-(7&k)&1))==255*C?0:255;w[F+k]=D<<24|O<<16|O<<8|O}else if(x==2)for(k=0;k<d;k++)D=(O=85*(u[$+(k>>>2)]>>>6-((3&k)<<1)&3))==85*C?0:255,w[F+k]=D<<24|O<<16|O<<8|O;else if(x==4)for(k=0;k<d;k++)D=(O=17*(u[$+(k>>>1)]>>>4-((1&k)<<2)&15))==17*C?0:255,w[F+k]=D<<24|O<<16|O<<8|O;else if(x==8)for(k=0;k<d;k++)D=(O=u[$+k])==C?0:255,w[F+k]=D<<24|O<<16|O<<8|O;else if(x==16)for(k=0;k<d;k++)O=u[$+(k<<1)],D=S(u,$+(k<<1))==C?0:255,w[F+k]=D<<24|O<<16|O<<8|O}return g}function n(u,d,h,p){const m=i(u),y=Math.ceil(h*m/8),E=new Uint8Array((y+1+u.interlace)*p);return d=u.tabs.CgBI?s(d,E):r(d,E),u.interlace==0?d=o(d,u,0,h,p):u.interlace==1&&(d=function(w,_){const x=_.width,S=_.height,b=i(_),T=b>>3,C=Math.ceil(x*b/8),A=new Uint8Array(S*C);let I=0;const R=[0,0,4,0,2,0,1],N=[0,4,0,2,0,1,0],M=[8,8,8,4,4,2,2],L=[8,8,4,4,2,2,1];let O=0;for(;O<7;){const k=M[O],D=L[O];let $=0,F=0,q=R[O];for(;q<S;)q+=k,F++;let W=N[O];for(;W<x;)W+=D,$++;const z=Math.ceil($*b/8);o(w,_,I,$,F);let B=0,V=R[O];for(;V<S;){let G=N[O],ne=I+B*z<<3;for(;G<x;){var P;if(b==1&&(P=(P=w[ne>>3])>>7-(7&ne)&1,A[V*C+(G>>3)]|=P<<7-((7&G)<<0)),b==2&&(P=(P=w[ne>>3])>>6-(7&ne)&3,A[V*C+(G>>2)]|=P<<6-((3&G)<<1)),b==4&&(P=(P=w[ne>>3])>>4-(7&ne)&15,A[V*C+(G>>1)]|=P<<4-((1&G)<<2)),b>=8){const re=V*C+G*T;for(let te=0;te<T;te++)A[re+te]=w[(ne>>3)+te]}ne+=b,G+=D}B++,V+=k}$*F!=0&&(I+=F*(1+z)),O+=1}return A}(d,u)),d}function r(u,d){return s(new Uint8Array(u.buffer,2,u.length-6),d)}var s=function(){const u={H:{}};return u.H.N=function(d,h){const p=Uint8Array;let m,y,E=0,g=0,w=0,_=0,x=0,S=0,b=0,T=0,C=0;if(d[0]==3&&d[1]==0)return h||new p(0);const A=u.H,I=A.b,R=A.e,N=A.R,M=A.n,L=A.A,O=A.Z,P=A.m,k=h==null;for(k&&(h=new p(d.length>>>2<<5));E==0;)if(E=I(d,C,1),g=I(d,C+1,2),C+=3,g!=0){if(k&&(h=u.H.W(h,T+(1<<17))),g==1&&(m=P.J,y=P.h,S=511,b=31),g==2){w=R(d,C,5)+257,_=R(d,C+5,5)+1,x=R(d,C+10,4)+4,C+=14;let $=1;for(var D=0;D<38;D+=2)P.Q[D]=0,P.Q[D+1]=0;for(D=0;D<x;D++){const W=R(d,C+3*D,3);P.Q[1+(P.X[D]<<1)]=W,W>$&&($=W)}C+=3*x,M(P.Q,$),L(P.Q,$,P.u),m=P.w,y=P.d,C=N(P.u,(1<<$)-1,w+_,d,C,P.v);const F=A.V(P.v,0,w,P.C);S=(1<<F)-1;const q=A.V(P.v,w,_,P.D);b=(1<<q)-1,M(P.C,F),L(P.C,F,m),M(P.D,q),L(P.D,q,y)}for(;;){const $=m[O(d,C)&S];C+=15&$;const F=$>>>4;if(!(F>>>8))h[T++]=F;else{if(F==256)break;{let q=T+F-254;if(F>264){const G=P.q[F-257];q=T+(G>>>3)+R(d,C,7&G),C+=7&G}const W=y[O(d,C)&b];C+=15&W;const z=W>>>4,B=P.c[z],V=(B>>>4)+I(d,C,15&B);for(C+=15&B;T<q;)h[T]=h[T++-V],h[T]=h[T++-V],h[T]=h[T++-V],h[T]=h[T++-V];T=q}}}}else{7&C&&(C+=8-(7&C));const $=4+(C>>>3),F=d[$-4]|d[$-3]<<8;k&&(h=u.H.W(h,T+F)),h.set(new p(d.buffer,d.byteOffset+$,F),T),C=$+F<<3,T+=F}return h.length==T?h:h.slice(0,T)},u.H.W=function(d,h){const p=d.length;if(h<=p)return d;const m=new Uint8Array(p<<1);return m.set(d,0),m},u.H.R=function(d,h,p,m,y,E){const g=u.H.e,w=u.H.Z;let _=0;for(;_<p;){const x=d[w(m,y)&h];y+=15&x;const S=x>>>4;if(S<=15)E[_]=S,_++;else{let b=0,T=0;S==16?(T=3+g(m,y,2),y+=2,b=E[_-1]):S==17?(T=3+g(m,y,3),y+=3):S==18&&(T=11+g(m,y,7),y+=7);const C=_+T;for(;_<C;)E[_]=b,_++}}return y},u.H.V=function(d,h,p,m){let y=0,E=0;const g=m.length>>>1;for(;E<p;){const w=d[E+h];m[E<<1]=0,m[1+(E<<1)]=w,w>y&&(y=w),E++}for(;E<g;)m[E<<1]=0,m[1+(E<<1)]=0,E++;return y},u.H.n=function(d,h){const p=u.H.m,m=d.length;let y,E,g,w;const _=p.j;for(var x=0;x<=h;x++)_[x]=0;for(x=1;x<m;x+=2)_[d[x]]++;const S=p.K;for(y=0,_[0]=0,E=1;E<=h;E++)y=y+_[E-1]<<1,S[E]=y;for(g=0;g<m;g+=2)w=d[g+1],w!=0&&(d[g]=S[w],S[w]++)},u.H.A=function(d,h,p){const m=d.length,y=u.H.m.r;for(let E=0;E<m;E+=2)if(d[E+1]!=0){const g=E>>1,w=d[E+1],_=g<<4|w,x=h-w;let S=d[E]<<x;const b=S+(1<<x);for(;S!=b;)p[y[S]>>>15-h]=_,S++}},u.H.l=function(d,h){const p=u.H.m.r,m=15-h;for(let y=0;y<d.length;y+=2){const E=d[y]<<h-d[y+1];d[y]=p[E]>>>m}},u.H.M=function(d,h,p){p<<=7&h;const m=h>>>3;d[m]|=p,d[m+1]|=p>>>8},u.H.I=function(d,h,p){p<<=7&h;const m=h>>>3;d[m]|=p,d[m+1]|=p>>>8,d[m+2]|=p>>>16},u.H.e=function(d,h,p){return(d[h>>>3]|d[1+(h>>>3)]<<8)>>>(7&h)&(1<<p)-1},u.H.b=function(d,h,p){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16)>>>(7&h)&(1<<p)-1},u.H.Z=function(d,h){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16)>>>(7&h)},u.H.i=function(d,h){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16|d[3+(h>>>3)]<<24)>>>(7&h)},u.H.m=function(){const d=Uint16Array,h=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new h(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new h(286),Y:new h(30),a:new h(19),t:new h(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=u.H.m;for(var h=0;h<32768;h++){let m=h;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,d.r[h]=(m>>>16|m<<16)>>>17}function p(m,y,E){for(;y--!=0;)m.push(0,E)}for(h=0;h<32;h++)d.q[h]=d.S[h]<<3|d.T[h],d.c[h]=d.p[h]<<4|d.z[h];p(d._,144,8),p(d._,112,9),p(d._,24,7),p(d._,8,8),u.H.n(d._,9),u.H.A(d._,9,d.J),u.H.l(d._,9),p(d.$,32,5),u.H.n(d.$,5),u.H.A(d.$,5,d.h),u.H.l(d.$,5),p(d.Q,19,0),p(d.C,286,0),p(d.D,30,0),p(d.v,320,0)}(),u.H.N}();function i(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function o(u,d,h,p,m){let y=i(d);const E=Math.ceil(p*y/8);let g,w;y=Math.ceil(y/8);let _=u[h],x=0;if(_>1&&(u[h]=[0,0,1][_-2]),_==3)for(x=y;x<E;x++)u[x+1]=u[x+1]+(u[x+1-y]>>>1)&255;for(let S=0;S<m;S++)if(g=h+S*E,w=g+S+1,_=u[w-1],x=0,_==0)for(;x<E;x++)u[g+x]=u[w+x];else if(_==1){for(;x<y;x++)u[g+x]=u[w+x];for(;x<E;x++)u[g+x]=u[w+x]+u[g+x-y]}else if(_==2)for(;x<E;x++)u[g+x]=u[w+x]+u[g+x-E];else if(_==3){for(;x<y;x++)u[g+x]=u[w+x]+(u[g+x-E]>>>1);for(;x<E;x++)u[g+x]=u[w+x]+(u[g+x-E]+u[g+x-y]>>>1)}else{for(;x<y;x++)u[g+x]=u[w+x]+a(0,u[g+x-E],0);for(;x<E;x++)u[g+x]=u[w+x]+a(u[g+x-y],u[g+x-E],u[g+x-y-E])}return u}function a(u,d,h){const p=u+d-h,m=p-u,y=p-d,E=p-h;return m*m<=y*y&&m*m<=E*E?u:y*y<=E*E?d:h}function l(u,d,h){h.width=t.readUint(u,d),d+=4,h.height=t.readUint(u,d),d+=4,h.depth=u[d],d++,h.ctype=u[d],d++,h.compress=u[d],d++,h.filter=u[d],d++,h.interlace=u[d],d++}function c(u,d,h,p,m,y,E,g,w){const _=Math.min(d,m),x=Math.min(h,y);let S=0,b=0;for(let O=0;O<x;O++)for(let P=0;P<_;P++)if(E>=0&&g>=0?(S=O*d+P<<2,b=(g+O)*m+E+P<<2):(S=(-g+O)*d-E+P<<2,b=O*m+P<<2),w==0)p[b]=u[S],p[b+1]=u[S+1],p[b+2]=u[S+2],p[b+3]=u[S+3];else if(w==1){var T=u[S+3]*.00392156862745098,C=u[S]*T,A=u[S+1]*T,I=u[S+2]*T,R=p[b+3]*(1/255),N=p[b]*R,M=p[b+1]*R,L=p[b+2]*R;const k=1-T,D=T+R*k,$=D==0?0:1/D;p[b+3]=255*D,p[b+0]=(C+N*k)*$,p[b+1]=(A+M*k)*$,p[b+2]=(I+L*k)*$}else if(w==2)T=u[S+3],C=u[S],A=u[S+1],I=u[S+2],R=p[b+3],N=p[b],M=p[b+1],L=p[b+2],T==R&&C==N&&A==M&&I==L?(p[b]=0,p[b+1]=0,p[b+2]=0,p[b+3]=0):(p[b]=C,p[b+1]=A,p[b+2]=I,p[b+3]=T);else if(w==3){if(T=u[S+3],C=u[S],A=u[S+1],I=u[S+2],R=p[b+3],N=p[b],M=p[b+1],L=p[b+2],T==R&&C==N&&A==M&&I==L)continue;if(T<220&&R>20)return!1}return!0}return{decode:function(d){const h=new Uint8Array(d);let p=8;const m=t,y=m.readUshort,E=m.readUint,g={tabs:{},frames:[]},w=new Uint8Array(h.length);let _,x=0,S=0;const b=[137,80,78,71,13,10,26,10];for(var T=0;T<8;T++)if(h[T]!=b[T])throw"The input is not a PNG file!";for(;p<h.length;){const O=m.readUint(h,p);p+=4;const P=m.readASCII(h,p,4);if(p+=4,P=="IHDR")l(h,p,g);else if(P=="iCCP"){for(var C=p;h[C]!=0;)C++;m.readASCII(h,p,C-p),h[C+1];const k=h.slice(C+2,p+O);let D=null;try{D=r(k)}catch{D=s(k)}g.tabs[P]=D}else if(P=="CgBI")g.tabs[P]=h.slice(p,p+4);else if(P=="IDAT"){for(T=0;T<O;T++)w[x+T]=h[p+T];x+=O}else if(P=="acTL")g.tabs[P]={num_frames:E(h,p),num_plays:E(h,p+4)},_=new Uint8Array(h.length);else if(P=="fcTL"){S!=0&&((L=g.frames[g.frames.length-1]).data=n(g,_.slice(0,S),L.rect.width,L.rect.height),S=0);const k={x:E(h,p+12),y:E(h,p+16),width:E(h,p+4),height:E(h,p+8)};let D=y(h,p+22);D=y(h,p+20)/(D==0?100:D);const $={rect:k,delay:Math.round(1e3*D),dispose:h[p+24],blend:h[p+25]};g.frames.push($)}else if(P=="fdAT"){for(T=0;T<O-4;T++)_[S+T]=h[p+T+4];S+=O-4}else if(P=="pHYs")g.tabs[P]=[m.readUint(h,p),m.readUint(h,p+4),h[p+8]];else if(P=="cHRM")for(g.tabs[P]=[],T=0;T<8;T++)g.tabs[P].push(m.readUint(h,p+4*T));else if(P=="tEXt"||P=="zTXt"){g.tabs[P]==null&&(g.tabs[P]={});var A=m.nextZero(h,p),I=m.readASCII(h,p,A-p),R=p+O-A-1;if(P=="tEXt")M=m.readASCII(h,A+1,R);else{var N=r(h.slice(A+2,A+2+R));M=m.readUTF8(N,0,N.length)}g.tabs[P][I]=M}else if(P=="iTXt"){g.tabs[P]==null&&(g.tabs[P]={}),A=0,C=p,A=m.nextZero(h,C),I=m.readASCII(h,C,A-C);const k=h[C=A+1];var M;h[C+1],C+=2,A=m.nextZero(h,C),m.readASCII(h,C,A-C),C=A+1,A=m.nextZero(h,C),m.readUTF8(h,C,A-C),R=O-((C=A+1)-p),k==0?M=m.readUTF8(h,C,R):(N=r(h.slice(C,C+R)),M=m.readUTF8(N,0,N.length)),g.tabs[P][I]=M}else if(P=="PLTE")g.tabs[P]=m.readBytes(h,p,O);else if(P=="hIST"){const k=g.tabs.PLTE.length/3;for(g.tabs[P]=[],T=0;T<k;T++)g.tabs[P].push(y(h,p+2*T))}else if(P=="tRNS")g.ctype==3?g.tabs[P]=m.readBytes(h,p,O):g.ctype==0?g.tabs[P]=y(h,p):g.ctype==2&&(g.tabs[P]=[y(h,p),y(h,p+2),y(h,p+4)]);else if(P=="gAMA")g.tabs[P]=m.readUint(h,p)/1e5;else if(P=="sRGB")g.tabs[P]=h[p];else if(P=="bKGD")g.ctype==0||g.ctype==4?g.tabs[P]=[y(h,p)]:g.ctype==2||g.ctype==6?g.tabs[P]=[y(h,p),y(h,p+2),y(h,p+4)]:g.ctype==3&&(g.tabs[P]=h[p]);else if(P=="IEND")break;p+=O,m.readUint(h,p),p+=4}var L;return S!=0&&((L=g.frames[g.frames.length-1]).data=n(g,_.slice(0,S),L.rect.width,L.rect.height)),g.data=n(g,w,g.width,g.height),delete g.compress,delete g.interlace,delete g.filter,g},toRGBA8:function(d){const h=d.width,p=d.height;if(d.tabs.acTL==null)return[e(d.data,h,p,d).buffer];const m=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const y=h*p*4,E=new Uint8Array(y),g=new Uint8Array(y),w=new Uint8Array(y);for(let x=0;x<d.frames.length;x++){const S=d.frames[x],b=S.rect.x,T=S.rect.y,C=S.rect.width,A=S.rect.height,I=e(S.data,C,A,d);if(x!=0)for(var _=0;_<y;_++)w[_]=E[_];if(S.blend==0?c(I,C,A,E,h,p,b,T,0):S.blend==1&&c(I,C,A,E,h,p,b,T,1),m.push(E.buffer.slice(0)),S.dispose!=0){if(S.dispose==1)c(g,C,A,E,h,p,b,T,0);else if(S.dispose==2)for(_=0;_<y;_++)E[_]=w[_]}}return m},_paeth:a,_copyTile:c,_bin:t}}();(function(){const{_copyTile:t}=xs,{_bin:e}=xs,n=xs._paeth;var r={table:function(){const C=new Uint32Array(256);for(let A=0;A<256;A++){let I=A;for(let R=0;R<8;R++)1&I?I=3988292384^I>>>1:I>>>=1;C[A]=I}return C}(),update(C,A,I,R){for(let N=0;N<R;N++)C=r.table[255&(C^A[I+N])]^C>>>8;return C},crc:(C,A,I)=>4294967295^r.update(4294967295,C,A,I)};function s(C,A,I,R){A[I]+=C[0]*R>>4,A[I+1]+=C[1]*R>>4,A[I+2]+=C[2]*R>>4,A[I+3]+=C[3]*R>>4}function i(C){return Math.max(0,Math.min(255,C))}function o(C,A){const I=C[0]-A[0],R=C[1]-A[1],N=C[2]-A[2],M=C[3]-A[3];return I*I+R*R+N*N+M*M}function a(C,A,I,R,N,M,L){L==null&&(L=1);const O=R.length,P=[];for(var k=0;k<O;k++){const V=R[k];P.push([V>>>0&255,V>>>8&255,V>>>16&255,V>>>24&255])}for(k=0;k<O;k++){let V=4294967295;for(var D=0,$=0;$<O;$++){var F=o(P[k],P[$]);$!=k&&F<V&&(V=F,D=$)}}const q=new Uint32Array(N.buffer),W=new Int16Array(A*I*4),z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(k=0;k<z.length;k++)z[k]=255*((z[k]+.5)/16-.5);for(let V=0;V<I;V++)for(let G=0;G<A;G++){var B;k=4*(V*A+G),L!=2?B=[i(C[k]+W[k]),i(C[k+1]+W[k+1]),i(C[k+2]+W[k+2]),i(C[k+3]+W[k+3])]:(F=z[4*(3&V)+(3&G)],B=[i(C[k]+F),i(C[k+1]+F),i(C[k+2]+F),i(C[k+3]+F)]),D=0;let ne=16777215;for($=0;$<O;$++){const fe=o(B,P[$]);fe<ne&&(ne=fe,D=$)}const re=P[D],te=[B[0]-re[0],B[1]-re[1],B[2]-re[2],B[3]-re[3]];L==1&&(G!=A-1&&s(te,W,k+4,7),V!=I-1&&(G!=0&&s(te,W,k+4*A-4,3),s(te,W,k+4*A,5),G!=A-1&&s(te,W,k+4*A+4,1))),M[k>>2]=D,q[k>>2]=R[D]}}function l(C,A,I,R,N){N==null&&(N={});const{crc:M}=r,L=e.writeUint,O=e.writeUshort,P=e.writeASCII;let k=8;const D=C.frames.length>1;let $,F=!1,q=33+(D?20:0);if(N.sRGB!=null&&(q+=13),N.pHYs!=null&&(q+=21),N.iCCP!=null&&($=pako.deflate(N.iCCP),q+=21+$.length+4),C.ctype==3){for(var W=C.plte.length,z=0;z<W;z++)C.plte[z]>>>24!=255&&(F=!0);q+=8+3*W+4+(F?8+1*W+4:0)}for(var B=0;B<C.frames.length;B++)D&&(q+=38),q+=(re=C.frames[B]).cimg.length+12,B!=0&&(q+=4);q+=12;const V=new Uint8Array(q),G=[137,80,78,71,13,10,26,10];for(z=0;z<8;z++)V[z]=G[z];if(L(V,k,13),k+=4,P(V,k,"IHDR"),k+=4,L(V,k,A),k+=4,L(V,k,I),k+=4,V[k]=C.depth,k++,V[k]=C.ctype,k++,V[k]=0,k++,V[k]=0,k++,V[k]=0,k++,L(V,k,M(V,k-17,17)),k+=4,N.sRGB!=null&&(L(V,k,1),k+=4,P(V,k,"sRGB"),k+=4,V[k]=N.sRGB,k++,L(V,k,M(V,k-5,5)),k+=4),N.iCCP!=null){const te=13+$.length;L(V,k,te),k+=4,P(V,k,"iCCP"),k+=4,P(V,k,"ICC profile"),k+=11,k+=2,V.set($,k),k+=$.length,L(V,k,M(V,k-(te+4),te+4)),k+=4}if(N.pHYs!=null&&(L(V,k,9),k+=4,P(V,k,"pHYs"),k+=4,L(V,k,N.pHYs[0]),k+=4,L(V,k,N.pHYs[1]),k+=4,V[k]=N.pHYs[2],k++,L(V,k,M(V,k-13,13)),k+=4),D&&(L(V,k,8),k+=4,P(V,k,"acTL"),k+=4,L(V,k,C.frames.length),k+=4,L(V,k,N.loop!=null?N.loop:0),k+=4,L(V,k,M(V,k-12,12)),k+=4),C.ctype==3){for(L(V,k,3*(W=C.plte.length)),k+=4,P(V,k,"PLTE"),k+=4,z=0;z<W;z++){const te=3*z,fe=C.plte[z],ae=255&fe,se=fe>>>8&255,he=fe>>>16&255;V[k+te+0]=ae,V[k+te+1]=se,V[k+te+2]=he}if(k+=3*W,L(V,k,M(V,k-3*W-4,3*W+4)),k+=4,F){for(L(V,k,W),k+=4,P(V,k,"tRNS"),k+=4,z=0;z<W;z++)V[k+z]=C.plte[z]>>>24&255;k+=W,L(V,k,M(V,k-W-4,W+4)),k+=4}}let ne=0;for(B=0;B<C.frames.length;B++){var re=C.frames[B];D&&(L(V,k,26),k+=4,P(V,k,"fcTL"),k+=4,L(V,k,ne++),k+=4,L(V,k,re.rect.width),k+=4,L(V,k,re.rect.height),k+=4,L(V,k,re.rect.x),k+=4,L(V,k,re.rect.y),k+=4,O(V,k,R[B]),k+=2,O(V,k,1e3),k+=2,V[k]=re.dispose,k++,V[k]=re.blend,k++,L(V,k,M(V,k-30,30)),k+=4);const te=re.cimg;L(V,k,(W=te.length)+(B==0?0:4)),k+=4;const fe=k;P(V,k,B==0?"IDAT":"fdAT"),k+=4,B!=0&&(L(V,k,ne++),k+=4),V.set(te,k),k+=W,L(V,k,M(V,fe,k-fe)),k+=4}return L(V,k,0),k+=4,P(V,k,"IEND"),k+=4,L(V,k,M(V,k-4,4)),k+=4,V.buffer}function c(C,A,I){for(let R=0;R<C.frames.length;R++){const N=C.frames[R];N.rect.width;const M=N.rect.height,L=new Uint8Array(M*N.bpl+M);N.cimg=p(N.img,M,N.bpp,N.bpl,L,A,I)}}function u(C,A,I,R,N){const M=N[0],L=N[1],O=N[2],P=N[3],k=N[4],D=N[5];let $=6,F=8,q=255;for(var W=0;W<C.length;W++){const ht=new Uint8Array(C[W]);for(var z=ht.length,B=0;B<z;B+=4)q&=ht[B+3]}const V=q!=255,G=function(De,Le,Je,et,Te,_t){const $e=[];for(var _e=0;_e<De.length;_e++){const vt=new Uint8Array(De[_e]),Yt=new Uint32Array(vt.buffer);var yt;let Xt=0,ce=0,je=Le,ft=Je,Gr=et?1:0;if(_e!=0){const me=_t||et||_e==1||$e[_e-2].dispose!=0?1:2;let ze=0,st=1e9;for(let Ot=0;Ot<me;Ot++){var on=new Uint8Array(De[_e-1-Ot]);const er=new Uint32Array(De[_e-1-Ot]);let $n=Le,Kr=Je,Fs=-1,Vs=-1;for(let sa=0;sa<Je;sa++)for(let ia=0;ia<Le;ia++)Yt[Ce=sa*Le+ia]!=er[Ce]&&(ia<$n&&($n=ia),ia>Fs&&(Fs=ia),sa<Kr&&(Kr=sa),sa>Vs&&(Vs=sa));Fs==-1&&($n=Kr=Fs=Vs=0),Te&&((1&$n)==1&&$n--,(1&Kr)==1&&Kr--);const V5=(Fs-$n+1)*(Vs-Kr+1);V5<st&&(st=V5,ze=Ot,Xt=$n,ce=Kr,je=Fs-$n+1,ft=Vs-Kr+1)}on=new Uint8Array(De[_e-1-ze]),ze==1&&($e[_e-1].dispose=2),yt=new Uint8Array(je*ft*4),t(on,Le,Je,yt,je,ft,-Xt,-ce,0),Gr=t(vt,Le,Je,yt,je,ft,-Xt,-ce,3)?1:0,Gr==1?h(vt,Le,Je,yt,{x:Xt,y:ce,width:je,height:ft}):t(vt,Le,Je,yt,je,ft,-Xt,-ce,0)}else yt=vt.slice(0);$e.push({rect:{x:Xt,y:ce,width:je,height:ft},img:yt,blend:Gr,dispose:0})}if(et)for(_e=0;_e<$e.length;_e++){if((pe=$e[_e]).blend==1)continue;const vt=pe.rect,Yt=$e[_e-1].rect,Xt=Math.min(vt.x,Yt.x),ce=Math.min(vt.y,Yt.y),je={x:Xt,y:ce,width:Math.max(vt.x+vt.width,Yt.x+Yt.width)-Xt,height:Math.max(vt.y+vt.height,Yt.y+Yt.height)-ce};$e[_e-1].dispose=1,_e-1!=0&&d(De,Le,Je,$e,_e-1,je,Te),d(De,Le,Je,$e,_e,je,Te)}let On=0;if(De.length!=1)for(var Ce=0;Ce<$e.length;Ce++){var pe;On+=(pe=$e[Ce]).rect.width*pe.rect.height}return $e}(C,A,I,M,L,O),ne={},re=[],te=[];if(R!=0){const ht=[];for(B=0;B<G.length;B++)ht.push(G[B].img.buffer);const De=function(Te){let _t=0;for(var $e=0;$e<Te.length;$e++)_t+=Te[$e].byteLength;const _e=new Uint8Array(_t);let yt=0;for($e=0;$e<Te.length;$e++){const on=new Uint8Array(Te[$e]),On=on.length;for(let Ce=0;Ce<On;Ce+=4){let pe=on[Ce],vt=on[Ce+1],Yt=on[Ce+2];const Xt=on[Ce+3];Xt==0&&(pe=vt=Yt=0),_e[yt+Ce]=pe,_e[yt+Ce+1]=vt,_e[yt+Ce+2]=Yt,_e[yt+Ce+3]=Xt}yt+=On}return _e.buffer}(ht),Le=y(De,R);for(B=0;B<Le.plte.length;B++)re.push(Le.plte[B].est.rgba);let Je=0;for(B=0;B<G.length;B++){const et=(ae=G[B]).img.length;var fe=new Uint8Array(Le.inds.buffer,Je>>2,et>>2);te.push(fe);const Te=new Uint8Array(Le.abuf,Je,et);D&&a(ae.img,ae.rect.width,ae.rect.height,re,Te,fe),ae.img.set(Te),Je+=et}}else for(W=0;W<G.length;W++){var ae=G[W];const ht=new Uint32Array(ae.img.buffer);var se=ae.rect.width;for(z=ht.length,fe=new Uint8Array(z),te.push(fe),B=0;B<z;B++){const De=ht[B];if(B!=0&&De==ht[B-1])fe[B]=fe[B-1];else if(B>se&&De==ht[B-se])fe[B]=fe[B-se];else{let Le=ne[De];if(Le==null&&(ne[De]=Le=re.length,re.push(De),re.length>=300))break;fe[B]=Le}}}const he=re.length;for(he<=256&&k==0&&(F=he<=2?1:he<=4?2:he<=16?4:8,F=Math.max(F,P)),W=0;W<G.length;W++){(ae=G[W]).rect.x,ae.rect.y,se=ae.rect.width;const ht=ae.rect.height;let De=ae.img;new Uint32Array(De.buffer);let Le=4*se,Je=4;if(he<=256&&k==0){Le=Math.ceil(F*se/8);var Ie=new Uint8Array(Le*ht);const et=te[W];for(let Te=0;Te<ht;Te++){B=Te*Le;const _t=Te*se;if(F==8)for(var ve=0;ve<se;ve++)Ie[B+ve]=et[_t+ve];else if(F==4)for(ve=0;ve<se;ve++)Ie[B+(ve>>1)]|=et[_t+ve]<<4-4*(1&ve);else if(F==2)for(ve=0;ve<se;ve++)Ie[B+(ve>>2)]|=et[_t+ve]<<6-2*(3&ve);else if(F==1)for(ve=0;ve<se;ve++)Ie[B+(ve>>3)]|=et[_t+ve]<<7-1*(7&ve)}De=Ie,$=3,Je=1}else if(V==0&&G.length==1){Ie=new Uint8Array(se*ht*3);const et=se*ht;for(B=0;B<et;B++){const Te=3*B,_t=4*B;Ie[Te]=De[_t],Ie[Te+1]=De[_t+1],Ie[Te+2]=De[_t+2]}De=Ie,$=2,Je=3,Le=3*se}ae.img=De,ae.bpl=Le,ae.bpp=Je}return{ctype:$,depth:F,plte:re,frames:G}}function d(C,A,I,R,N,M,L){const O=Uint8Array,P=Uint32Array,k=new O(C[N-1]),D=new P(C[N-1]),$=N+1<C.length?new O(C[N+1]):null,F=new O(C[N]),q=new P(F.buffer);let W=A,z=I,B=-1,V=-1;for(let ne=0;ne<M.height;ne++)for(let re=0;re<M.width;re++){const te=M.x+re,fe=M.y+ne,ae=fe*A+te,se=q[ae];se==0||R[N-1].dispose==0&&D[ae]==se&&($==null||$[4*ae+3]!=0)||(te<W&&(W=te),te>B&&(B=te),fe<z&&(z=fe),fe>V&&(V=fe))}B==-1&&(W=z=B=V=0),L&&((1&W)==1&&W--,(1&z)==1&&z--),M={x:W,y:z,width:B-W+1,height:V-z+1};const G=R[N];G.rect=M,G.blend=1,G.img=new Uint8Array(M.width*M.height*4),R[N-1].dispose==0?(t(k,A,I,G.img,M.width,M.height,-M.x,-M.y,0),h(F,A,I,G.img,M)):t(F,A,I,G.img,M.width,M.height,-M.x,-M.y,0)}function h(C,A,I,R,N){t(C,A,I,R,N.width,N.height,-N.x,-N.y,2)}function p(C,A,I,R,N,M,L){const O=[];let P,k=[0,1,2,3,4];M!=-1?k=[M]:(A*R>5e5||I==1)&&(k=[0]),L&&(P={level:0});const D=Toe;for(var $=0;$<k.length;$++){for(let W=0;W<A;W++)m(N,C,W,R,I,k[$]);O.push(D.deflate(N,P))}let F,q=1e9;for($=0;$<O.length;$++)O[$].length<q&&(F=$,q=O[$].length);return O[F]}function m(C,A,I,R,N,M){const L=I*R;let O=L+I;if(C[O]=M,O++,M==0)if(R<500)for(var P=0;P<R;P++)C[O+P]=A[L+P];else C.set(new Uint8Array(A.buffer,L,R),O);else if(M==1){for(P=0;P<N;P++)C[O+P]=A[L+P];for(P=N;P<R;P++)C[O+P]=A[L+P]-A[L+P-N]+256&255}else if(I==0){for(P=0;P<N;P++)C[O+P]=A[L+P];if(M==2)for(P=N;P<R;P++)C[O+P]=A[L+P];if(M==3)for(P=N;P<R;P++)C[O+P]=A[L+P]-(A[L+P-N]>>1)+256&255;if(M==4)for(P=N;P<R;P++)C[O+P]=A[L+P]-n(A[L+P-N],0,0)+256&255}else{if(M==2)for(P=0;P<R;P++)C[O+P]=A[L+P]+256-A[L+P-R]&255;if(M==3){for(P=0;P<N;P++)C[O+P]=A[L+P]+256-(A[L+P-R]>>1)&255;for(P=N;P<R;P++)C[O+P]=A[L+P]+256-(A[L+P-R]+A[L+P-N]>>1)&255}if(M==4){for(P=0;P<N;P++)C[O+P]=A[L+P]+256-n(0,A[L+P-R],0)&255;for(P=N;P<R;P++)C[O+P]=A[L+P]+256-n(A[L+P-N],A[L+P-R],A[L+P-N-R])&255}}}function y(C,A){const I=new Uint8Array(C),R=I.slice(0),N=new Uint32Array(R.buffer),M=E(R,A),L=M[0],O=M[1],P=I.length,k=new Uint8Array(P>>2);let D;if(I.length<2e7)for(var $=0;$<P;$+=4)D=g(L,F=I[$]*(1/255),q=I[$+1]*(1/255),W=I[$+2]*(1/255),z=I[$+3]*(1/255)),k[$>>2]=D.ind,N[$>>2]=D.est.rgba;else for($=0;$<P;$+=4){var F=I[$]*.00392156862745098,q=I[$+1]*(1/255),W=I[$+2]*(1/255),z=I[$+3]*(1/255);for(D=L;D.left;)D=w(D.est,F,q,W,z)<=0?D.left:D.right;k[$>>2]=D.ind,N[$>>2]=D.est.rgba}return{abuf:R.buffer,inds:k,plte:O}}function E(C,A,I){I==null&&(I=1e-4);const R=new Uint32Array(C.buffer),N={i0:0,i1:C.length,bst:null,est:null,tdst:0,left:null,right:null};N.bst=S(C,N.i0,N.i1),N.est=b(N.bst);const M=[N];for(;M.length<A;){let O=0,P=0;for(var L=0;L<M.length;L++)M[L].est.L>O&&(O=M[L].est.L,P=L);if(O<I)break;const k=M[P],D=_(C,R,k.i0,k.i1,k.est.e,k.est.eMq255);if(k.i0>=D||k.i1<=D){k.est.L=0;continue}const $={i0:k.i0,i1:D,bst:null,est:null,tdst:0,left:null,right:null};$.bst=S(C,$.i0,$.i1),$.est=b($.bst);const F={i0:D,i1:k.i1,bst:null,est:null,tdst:0,left:null,right:null};for(F.bst={R:[],m:[],N:k.bst.N-$.bst.N},L=0;L<16;L++)F.bst.R[L]=k.bst.R[L]-$.bst.R[L];for(L=0;L<4;L++)F.bst.m[L]=k.bst.m[L]-$.bst.m[L];F.est=b(F.bst),k.left=$,k.right=F,M[P]=$,M.push(F)}for(M.sort((O,P)=>P.bst.N-O.bst.N),L=0;L<M.length;L++)M[L].ind=L;return[N,M]}function g(C,A,I,R,N){if(C.left==null)return C.tdst=function($,F,q,W,z){const B=F-$[0],V=q-$[1],G=W-$[2],ne=z-$[3];return B*B+V*V+G*G+ne*ne}(C.est.q,A,I,R,N),C;const M=w(C.est,A,I,R,N);let L=C.left,O=C.right;M>0&&(L=C.right,O=C.left);const P=g(L,A,I,R,N);if(P.tdst<=M*M)return P;const k=g(O,A,I,R,N);return k.tdst<P.tdst?k:P}function w(C,A,I,R,N){const{e:M}=C;return M[0]*A+M[1]*I+M[2]*R+M[3]*N-C.eMq}function _(C,A,I,R,N,M){for(R-=4;I<R;){for(;x(C,I,N)<=M;)I+=4;for(;x(C,R,N)>M;)R-=4;if(I>=R)break;const L=A[I>>2];A[I>>2]=A[R>>2],A[R>>2]=L,I+=4,R-=4}for(;x(C,I,N)>M;)I-=4;return I+4}function x(C,A,I){return C[A]*I[0]+C[A+1]*I[1]+C[A+2]*I[2]+C[A+3]*I[3]}function S(C,A,I){const R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N=[0,0,0,0],M=I-A>>2;for(let L=A;L<I;L+=4){const O=C[L]*.00392156862745098,P=C[L+1]*(1/255),k=C[L+2]*(1/255),D=C[L+3]*(1/255);N[0]+=O,N[1]+=P,N[2]+=k,N[3]+=D,R[0]+=O*O,R[1]+=O*P,R[2]+=O*k,R[3]+=O*D,R[5]+=P*P,R[6]+=P*k,R[7]+=P*D,R[10]+=k*k,R[11]+=k*D,R[15]+=D*D}return R[4]=R[1],R[8]=R[2],R[9]=R[6],R[12]=R[3],R[13]=R[7],R[14]=R[11],{R,m:N,N:M}}function b(C){const{R:A}=C,{m:I}=C,{N:R}=C,N=I[0],M=I[1],L=I[2],O=I[3],P=R==0?0:1/R,k=[A[0]-N*N*P,A[1]-N*M*P,A[2]-N*L*P,A[3]-N*O*P,A[4]-M*N*P,A[5]-M*M*P,A[6]-M*L*P,A[7]-M*O*P,A[8]-L*N*P,A[9]-L*M*P,A[10]-L*L*P,A[11]-L*O*P,A[12]-O*N*P,A[13]-O*M*P,A[14]-O*L*P,A[15]-O*O*P],D=k,$=T;let F=[Math.random(),Math.random(),Math.random(),Math.random()],q=0,W=0;if(R!=0)for(let B=0;B<16&&(F=$.multVec(D,F),W=Math.sqrt($.dot(F,F)),F=$.sml(1/W,F),!(B!=0&&Math.abs(W-q)<1e-9));B++)q=W;const z=[N*P,M*P,L*P,O*P];return{Cov:k,q:z,e:F,L:q,eMq255:$.dot($.sml(255,z),F),eMq:$.dot(F,z),rgba:(Math.round(255*z[3])<<24|Math.round(255*z[2])<<16|Math.round(255*z[1])<<8|Math.round(255*z[0])<<0)>>>0}}var T={multVec:(C,A)=>[C[0]*A[0]+C[1]*A[1]+C[2]*A[2]+C[3]*A[3],C[4]*A[0]+C[5]*A[1]+C[6]*A[2]+C[7]*A[3],C[8]*A[0]+C[9]*A[1]+C[10]*A[2]+C[11]*A[3],C[12]*A[0]+C[13]*A[1]+C[14]*A[2]+C[15]*A[3]],dot:(C,A)=>C[0]*A[0]+C[1]*A[1]+C[2]*A[2]+C[3]*A[3],sml:(C,A)=>[C*A[0],C*A[1],C*A[2],C*A[3]]};xs.encode=function(A,I,R,N,M,L,O){N==null&&(N=0),O==null&&(O=!1);const P=u(A,I,R,N,[!1,!1,!1,0,O,!1]);return c(P,-1),l(P,I,R,M,L)},xs.encodeLL=function(A,I,R,N,M,L,O,P){const k={ctype:0+(N==1?0:2)+(M==0?0:4),depth:L,frames:[]},D=(N+M)*L,$=D*I;for(let F=0;F<A.length;F++)k.frames.push({rect:{x:0,y:0,width:I,height:R},img:new Uint8Array(A[F]),blend:0,dispose:1,bpp:Math.ceil(D/8),bpl:Math.ceil($/8)});return c(k,0,!0),l(k,I,R,O,P)},xs.encode.compress=u,xs.encode.dither=a,xs.quantize=y,xs.quantize.getKDtree=E,xs.quantize.getNearest=g})();const MN={toArrayBuffer(t,e){const n=t.width,r=t.height,s=n<<2,i=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(i.data.buffer),a=(32*n+31)/32<<2,l=a*r,c=122+l,u=new ArrayBuffer(c),d=new DataView(u),h=1<<20;let p,m,y,E,g=h,w=0,_=0,x=0;function S(C){d.setUint16(_,C,!0),_+=2}function b(C){d.setUint32(_,C,!0),_+=4}function T(C){_+=C}S(19778),b(c),T(4),b(122),b(108),b(n),b(-r>>>0),S(1),S(32),b(3),b(l),b(2835),b(2835),T(8),b(16711680),b(65280),b(255),b(4278190080),b(1466527264),function C(){for(;w<r&&g>0;){for(E=122+w*a,p=0;p<s;)g--,m=o[x++],y=m>>>24,d.setUint32(E+p,m<<8|y),p+=4;w++}x<o.length?(g=h,setTimeout(C,MN._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var vr={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Soe={[vr.CHROME]:16384,[vr.FIREFOX]:11180,[vr.DESKTOP_SAFARI]:16384,[vr.IE]:8192,[vr.IOS]:4096,[vr.ETC]:8192};const A5=typeof window<"u",DN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,A2=A5&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Roe=(A5||DN)&&(A2&&A2.getOriginalSymbol(window,"File")||typeof File<"u"&&File),ON=(A5||DN)&&(A2&&A2.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function k5(t,e,n=Date.now()){return new Promise(r=>{const s=t.split(","),i=s[0].match(/:(.*?);/)[1],o=globalThis.atob(s[1]);let a=o.length;const l=new Uint8Array(a);for(;a--;)l[a]=o.charCodeAt(a);const c=new Blob([l],{type:i});c.name=e,c.lastModified=n,r(c)})}function $N(t){return new Promise((e,n)=>{const r=new ON;r.onload=()=>e(r.result),r.onerror=s=>n(s),r.readAsDataURL(t)})}function jN(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=s=>n(s),r.src=t})}function ka(){if(ka.cachedResult!==void 0)return ka.cachedResult;let t=vr.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=vr.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=vr.IOS:/Safari/i.test(e)?t=vr.DESKTOP_SAFARI:/Firefox/i.test(e)?t=vr.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=vr.IE),ka.cachedResult=t,ka.cachedResult}function FN(t,e){const n=ka(),r=Soe[n];let s=t,i=e,o=s*i;const a=s>i?i/s:s/i;for(;o>r*r;){const l=(r+s)/2,c=(r+i)/2;l<c?(i=c,s=c*a):(i=l*a,s=l),o=s*i}return{width:s,height:i}}function Zg(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function VN(t,e){const{width:n,height:r}=FN(t.width,t.height),[s,i]=Zg(n,r);return e&&/jpe?g/.test(e)&&(i.fillStyle="white",i.fillRect(0,0,s.width,s.height)),i.drawImage(t,0,0,s.width,s.height),s}function ap(){return ap.cachedResult!==void 0||(ap.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),ap.cachedResult}function k2(t,e={}){return new Promise(function(n,r){let s,i;var o=function(){try{return i=VN(s,e.fileType||t.type),n([s,i])}catch(l){return r(l)}},a=function(l){try{var c=function(u){try{throw u}catch(d){return r(d)}};try{let u;return $N(t).then(function(d){try{return u=d,jN(u).then(function(h){try{return s=h,function(){try{return o()}catch(p){return r(p)}}()}catch(p){return c(p)}},c)}catch(h){return c(h)}},c)}catch(u){c(u)}}catch(u){return r(u)}};try{if(ap()||[vr.DESKTOP_SAFARI,vr.MOBILE_SAFARI].includes(ka()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return s=l,o()}catch{return a()}},a)}catch{a()}})}function P2(t,e,n,r,s=1){return new Promise(function(i,o){let a;if(e==="image/png"){let d,h,p;return d=t.getContext("2d"),{data:h}=d.getImageData(0,0,t.width,t.height),p=xs.encode([h.buffer],t.width,t.height,4096*s),a=new Blob([p],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let d=function(){return l.call(this)};var c=d;if(e==="image/bmp")return new Promise(h=>MN.toBlob(t,h)).then((function(h){try{return a=h,a.name=n,a.lastModified=r,d.call(this)}catch(p){return o(p)}}).bind(this),o);{let h=function(){return d.call(this)};var u=h;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:s}).then((function(p){try{return a=p,a.name=n,a.lastModified=r,h.call(this)}catch(m){return o(m)}}).bind(this),o);{let p;return p=t.toDataURL(e,s),k5(p,n,r).then((function(m){try{return a=m,h.call(this)}catch(y){return o(y)}}).bind(this),o)}}}function l(){return i(a)}})}function qs(t){t.width=0,t.height=0}function fc(){return new Promise(function(t,e){let n,r,s,i;return fc.cachedResult!==void 0?t(fc.cachedResult):k5("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,k2(n).then(function(a){try{return r=a[1],P2(r,n.type,n.name,n.lastModified).then(function(l){try{return s=l,qs(r),k2(s).then(function(c){try{return i=c[0],fc.cachedResult=i.width===1&&i.height===2,t(fc.cachedResult)}catch(u){return e(u)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function UN(t){return new Promise((e,n)=>{const r=new ON;r.onload=s=>{const i=new DataView(s.target.result);if(i.getUint16(0,!1)!=65496)return e(-2);const o=i.byteLength;let a=2;for(;a<o;){if(i.getUint16(a+2,!1)<=8)return e(-1);const l=i.getUint16(a,!1);if(a+=2,l==65505){if(i.getUint32(a+=2,!1)!=1165519206)return e(-1);const c=i.getUint16(a+=6,!1)==18761;a+=i.getUint32(a+4,c);const u=i.getUint16(a,c);a+=2;for(let d=0;d<u;d++)if(i.getUint16(a+12*d,c)==274)return e(i.getUint16(a+12*d+8,c))}else{if((65280&l)!=65280)break;a+=i.getUint16(a,!1)}}return e(-1)},r.onerror=s=>n(s),r.readAsArrayBuffer(t)})}function BN(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:s}=e;let i,o=t;return isFinite(s)&&(n>s||r>s)&&([o,i]=Zg(n,r),n>r?(o.width=s,o.height=r/n*s):(o.width=n/r*s,o.height=s),i.drawImage(t,0,0,o.width,o.height),qs(t)),o}function zN(t,e){const{width:n}=t,{height:r}=t,[s,i]=Zg(n,r);switch(e>4&&e<9?(s.width=r,s.height=n):(s.width=n,s.height=r),e){case 2:i.transform(-1,0,0,1,n,0);break;case 3:i.transform(-1,0,0,-1,n,r);break;case 4:i.transform(1,0,0,-1,0,r);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,r,0);break;case 7:i.transform(0,-1,-1,0,r,n);break;case 8:i.transform(0,-1,1,0,0,n)}return i.drawImage(t,0,0,n,r),qs(t),s}function J4(t,e,n=0){return new Promise(function(r,s){let i,o,a,l,c,u,d,h,p,m,y,E,g,w,_,x,S,b,T,C;function A(R=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;i+=R,e.onProgress(Math.min(i,100))}function I(R){if(e.signal&&e.signal.aborted)throw e.signal.reason;i=Math.min(Math.max(R,i),100),e.onProgress(i)}return i=n,o=e.maxIteration||10,a=1024*e.maxSizeMB*1024,A(),k2(t,e).then((function(R){try{return[,l]=R,A(),c=BN(l,e),A(),new Promise(function(N,M){var L;if(!(L=e.exifOrientation))return UN(t).then((function(P){try{return L=P,O.call(this)}catch(k){return M(k)}}).bind(this),M);function O(){return N(L)}return O.call(this)}).then((function(N){try{return u=N,A(),fc().then((function(M){try{return d=M?c:zN(c,u),A(),h=e.initialQuality||1,p=e.fileType||t.type,P2(d,p,t.name,t.lastModified,h).then((function(L){try{{let D=function(){if(o--&&(_>a||_>g)){let F,q;return F=C?.95*T.width:T.width,q=C?.95*T.height:T.height,[S,b]=Zg(F,q),b.drawImage(T,0,0,F,q),h*=p==="image/png"?.85:.95,P2(S,p,t.name,t.lastModified,h).then(function(W){try{return x=W,qs(T),T=S,_=x.size,I(Math.min(99,Math.floor((w-_)/(w-a)*100))),D}catch(z){return s(z)}},s)}return[1]},$=function(){return qs(T),qs(S),qs(c),qs(d),qs(l),I(100),r(x)};var P=D,k=$;if(m=L,A(),y=m.size>a,E=m.size>t.size,!y&&!E)return I(100),r(m);var O;return g=t.size,w=m.size,_=w,T=d,C=!e.alwaysKeepResolution&&y,(O=(function(F){for(;F;){if(F.then)return void F.then(O,s);try{if(F.pop){if(F.length)return F.pop()?$.call(this):F;F=D}else F=F.call(this)}catch(q){return s(q)}}}).bind(this))(D)}}catch(D){return s(D)}}).bind(this),s)}catch(L){return s(L)}}).bind(this),s)}catch(M){return s(M)}}).bind(this),s)}catch(N){return s(N)}}).bind(this),s)})}const Aoe=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let by;function koe(t,e){return new Promise((n,r)=>{by||(by=function(o){const a=[];return typeof o=="function"?a.push(`(${o})()`):a.push(o),URL.createObjectURL(new Blob(a))}(Aoe));const s=new Worker(by);s.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)s.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void s.terminate();n(o.data.file),s.terminate()}else e.onProgress(o.data.progress)}),s.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),s.terminate()}),s.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function ln(t,e){return new Promise(function(n,r){let s,i,o,a,l,c;if(s={...e},o=0,{onProgress:a}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof s.useWebWorker!="boolean"||s.useWebWorker,delete s.useWebWorker,s.onProgress=p=>{o=p,typeof a=="function"&&a(o)},!(t instanceof Blob||t instanceof Roe))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||c)return J4(t,s).then((function(p){try{return i=p,h.call(this)}catch(m){return r(m)}}).bind(this),r);var u=(function(){try{return h.call(this)}catch(p){return r(p)}}).bind(this),d=function(p){try{return J4(t,s).then(function(m){try{return i=m,u()}catch(y){return r(y)}},r)}catch(m){return r(m)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",koe(t,s).then(function(p){try{return i=p,u()}catch{return d()}},d)}catch{d()}function h(){try{i.name=t.name,i.lastModified=t.lastModified}catch{}try{s.preserveExif&&t.type==="image/jpeg"&&(!s.fileType||s.fileType&&s.fileType===t.type)&&(i=LN(t,i))}catch{}return n(i)}})}ln.getDataUrlFromFile=$N,ln.getFilefromDataUrl=k5,ln.loadImage=jN,ln.drawImageInCanvas=VN,ln.drawFileInCanvas=k2,ln.canvasToFile=P2,ln.getExifOrientation=UN,ln.handleMaxWidthOrHeight=BN,ln.followExifOrientation=zN,ln.cleanupCanvasMemory=qs,ln.isAutoOrientationInBrowser=fc,ln.approximateBelowMaximumCanvasSizeOfBrowser=FN,ln.copyExifWithoutOrientation=LN,ln.getBrowserName=ka,ln.version="2.0.2";const Poe=({options:t,setValue:e,label:n,gender:r})=>{const[s,i]=v.useState(r),o=a=>{i(a.target.value)};return v.useEffect(()=>{e(s)},[s]),v.useEffect(()=>{i(r)},[r]),f.jsx(aA,{size:"small",variant:"filled",id:n,labelId:n,value:s,onChange:o,label:n,displayEmpty:!0,children:t.map(a=>f.jsx(Lq,{value:a.value,children:a.label},a.value))})},Noe=()=>{var k;const{userData:t,refreshUserData:e,theme:n,setHeaderTitle:r,setIsLogIn:s}=v.useContext(X),[i,o]=v.useState(t.name||""),[a,l]=v.useState((t==null?void 0:t.gender)||""),[c,u]=v.useState(null),[d,h]=v.useState(!1),[p,m]=v.useState(!1),y=v.useRef(null),[E,g]=v.useState(null),w=ge(be,"users",bi.get("userId")),_=(t==null?void 0:t.nameChangeCount)||0,x=(k=t==null?void 0:t.lastNameChangeDate)==null?void 0:k.toDate(),S=new Date,b=S.getMonth()===(x==null?void 0:x.getMonth())&&S.getFullYear()===(x==null?void 0:x.getFullYear()),T=wn();Of(y,h);const C=()=>(t==null?void 0:t.gender)!==a;v.useEffect(()=>{r("Settings")},[]),v.useEffect(()=>{(async()=>{!b&&(t!=null&&t.name)&&await or(w,{nameChangeCount:0,lastNameChangeDate:S})})()},[t]);const A=async(D,$)=>{if(i.trim())try{await or(w,D),e(),O($)}catch(F){O(F.message)}},I=()=>{const D=new Date;if(b)if(_<3){const $={name:i.trim(),nameChangeCount:_+1,lastNameChangeDate:D};A($,"Updated name successfully!")}else O("You can only change your name 3 times per month!");else{const $={name:i.trim(),nameChangeCount:1,lastNameChangeDate:D};A($,"Updated name successfully!")}};v.useEffect(()=>{o(t.name),l(t==null?void 0:t.gender)},[t]);const R=async()=>{const D=await ln(c,{maxSizeMB:.3,maxWidthOrHeight:300,useWebWorker:!0}),$=go(Aa,`profile/${t.uid}/${t.name}-${c.name}`);try{const F=ge(be,"users",t.uid);O("Uploading image...");const q=await Vh($,D),z={image:await Uh(q.ref)};await or(F,z),u(null),O("Updated profile picture successfully!")}catch(F){O(F.message)}},N=async()=>{await or(w,{gender:a}),O("Updated gender successfully!")},M=()=>{c&&R(),i.trim()!==t.name&&I(),C()&&N()};let L;const O=(D,$=3e3)=>{clearTimeout(L),g(D),L=setTimeout(()=>{g(null)},$)},P=async()=>{try{await KA(Hs),s(!1),bi.remove("userId"),T("/login")}catch(D){console.log(D.message)}};return f.jsxs("div",{className:"Settings m-2",children:[f.jsx(Ui,{data:{value:p,yesButton:P,noButton:()=>{m(!1)},text:"Are you sure to log out ?",setValue:m}}),f.jsx(_s,{}),f.jsxs(Ee,{className:"",children:[f.jsx(yn,{sx:{fontWeight:600,mt:2,mb:1},children:"My Account"}),f.jsxs(Ee,{className:"border border-slate-300 rounded-md shadow-lg",children:[f.jsxs(Ee,{className:"p-2 flex flex-col items-center",children:[f.jsxs("label",{className:"relative size-20 ",htmlFor:"imageInput",children:[f.jsx(qr,{className:"hover:opacity-70 cursor-pointer",name:t.name||i||"User",image:c?URL.createObjectURL(c):t.image,size:"size-full",fontSize:"text-3xl"}),f.jsx("input",{type:"file",accept:"image/*",id:"imageInput",className:"hidden ",onChange:D=>u(D.target.files[0])})]}),f.jsxs("div",{ref:y,className:"flex mt-2 gap-x-2 items-center",children:[!d&&f.jsx(yn,{sx:{fontWeight:"600"},children:i||t.name||"Username"}),d&&f.jsx("input",{autoFocus:!0,value:i,onChange:D=>o(D.target.value),className:`pl-1 pr-1 w-auto font-[600] ${n==="light"?"outline-none bg-slate-200/60":"bg-slate-500/70 outline-none"}`,placeholder:"Enter your full name"}),f.jsx("button",{onClick:()=>{h(!d)},className:" p-1  cursor-pointer ",children:f.jsx("img",{className:"w-5",src:Ae("edit")})})]}),f.jsx(yn,{className:"text-slate-500",children:t.email||"example@gmail.com"}),f.jsx(He,{onClick:()=>m(!0),sx:{mt:2},variant:"outlined",children:"Log Out"})]}),f.jsx(Ee,{className:"p-2 flex justify-center border-t border-b border-slate-200",children:f.jsxs(Ko,{direction:"row",sx:{width:"50%",alignItems:"center",justifyContent:"space-between"},children:[f.jsx(yn,{variant:"subtitle1",children:"Gender"}),f.jsx(Poe,{label:"Gender",gender:a,options:[{value:"male",label:"Male"},{value:"female",label:"Female"}],setValue:l})]})}),f.jsx("div",{className:`grid gap-y-2 p-2  ${n==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:f.jsx("div",{children:(t==null?void 0:t.name)&&f.jsxs("p",{className:"text-red-600 font-bold text-sm mb-1",children:["You have changed your name ",`${_} / 3`," ",_>1?"times":"time"," this month!"]})})})]})]}),f.jsx("div",{className:"flex gap-x-2 mt-2",children:C()||c||(i==null?void 0:i.trim())!==t.name?f.jsx(He,{variant:"outlined",onClick:M,startIcon:f.jsx("img",{className:"size-7",src:Ae("save")}),children:"Update"}):""}),E&&f.jsx(S2,{message:E})]})},Z4=({data:t})=>{const{text:e,onChangeFn:n,value:r,placeholder:s}=t,{theme:i}=v.useContext(X);return f.jsxs("div",{className:"grid items-center gap-y-2",children:[f.jsx("div",{className:"font-medium",children:e}),f.jsx("input",{onChange:n,value:r,className:`border rounded-md h-10 pl-1 pr-1  w-full outline-2  ${i==="light"?"focus:outline-blue-300 border-gray-300":"border-slate-500/70 outline-none bg-slate-500/70"}`,placeholder:s})]})},Loe=({data:t})=>{const{close:e}=t,{theme:n,userId:r}=v.useContext(X),[s,i]=v.useState(""),[o,a]=v.useState(""),l=s.trim(),c=Ne(be,"tests"),u=async p=>{try{await Uo(c,p)}catch(m){console.log(m.message)}},d=()=>{const p={uid:r,isUploaded:!1,name:s,description:o,quizzes:[],gradingRules:[],time:Gn()};u(p),e()},h=()=>{l&&d()};return v.useEffect(()=>($s("hidden"),()=>{$s("auto")}),[]),f.jsx("div",{className:"fixed flex items-center z-20 bg-black/60 justify-center top-0 left-0 right-0 bottom-0",children:f.jsxs("div",{className:`border w-4/5 sm:w-4/5 md:w-3/5 lg:w-2/5 rounded-md p-10 pb-5 grid gap-y-5 ${n==="light"?"bg-white border-gray-300":"bg-slate-600 border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(Z4,{data:{text:"Name",onChangeFn:p=>i(p.target.value),value:s,placeholder:"Type test name here"}}),f.jsx(Z4,{data:{text:"Description",onChangeFn:p=>a(p.target.value),value:o,placeholder:"Type description here"}})]}),f.jsxs("div",{className:"flex items-center gap-x-3 justify-center",children:[f.jsx(ks,{data:{clickFn:h,text:"Save",image:"save"}}),f.jsx(ks,{data:{clickFn:e,text:"Cancel"}})]})]})})},Moe=({data:t})=>{const{options:e,value:n,setValue:r}=t,{theme:s}=v.useContext(X),[i,o]=v.useState(!1),a=v.useRef(null);Of(a,o);const l=()=>{o(!i)},c=u=>{r(u)};return f.jsxs("div",{ref:a,className:"w-full relative font-padauk",children:[f.jsxs("button",{onClick:l,className:`border flex items-center rounded-lg justify-between h-10 w-full cursor-pointer hover:border-blue-500 shadow-sm gap-x-2 px-2 ${s==="light"?"border-gray-300 hover:bg-gray-50":"hover:bg-slate-500/70 text-white border-slate-500/70"}`,children:[f.jsx("span",{children:n||"Select correct answer"}),f.jsx("img",{className:"h-6 w-6",src:Ae(i?"up":"down")})]}),i&&e.length!==0?f.jsx("div",{className:`absolute grid gap-y-1 min-w-full p-2 rounded-md border -top-40 ${s==="light"?"border-gray-200 bg-white":"text-white bg-slate-500/70 border-slate-500/70"}`,children:e.map(u=>f.jsx("div",{onClick:()=>{l(),c(u)},className:`p-1 cursor-pointer rounded-lg transition-all ${s==="light"?`${u===n?"bg-black font-medium text-white ":"hover:bg-gray-200"}`:`${u===n?"bg-slate-600 font-medium text-white ":"hover:bg-slate-600"}`}`,children:u},`choice-${u}`))}):""]})},uo=({data:t})=>{const{choice:e,handleFn:n,value:r,placeholder:s}=t,{theme:i}=v.useContext(X);return f.jsxs("div",{className:"grid gap-y-2 font-padauk",children:[f.jsx("div",{className:`font-medium ${i==="light"?"":"text-white"}`,children:e}),f.jsx("input",{onChange:o=>n(e,o),value:r,className:` w-full border rounded-md h-10 pl-1 pr-1  ${i==="light"?"focus:outline-blue-500 border-gray-300":"text-white outline-none border-slate-500/70 bg-slate-600"}`,placeholder:s})]})},Doe=({data:t})=>{const{cancel:e,quizzes:n,setQuizzes:r,editData:s,clearEditData:i}=t,{theme:o}=v.useContext(X),[a,l]=v.useState(s?s.question:""),[c,u]=v.useState(s?s.choices[0]:""),[d,h]=v.useState(s?s.choices[1]:""),[p,m]=v.useState(s?s.choices[2]:""),[y,E]=v.useState(s?s.choices[3]:""),[g,w]=v.useState(s?s.answer:"");let _=[];const x=c.trim()&&d.trim()&&p.trim()&&y.trim(),S=a.trim()&&c.trim()&&d.trim()&&p.trim()&&y.trim()&&g.trim();x&&(_=[c,d,p,y]);const b=(N,M)=>{N.toLowerCase()==="question"?l(M.target.value):w(M.target.value)},T=()=>{let N,M;S&&(N={id:n.length===0?1:n[n.length-1].id+1,question:a,choices:_,answer:g},M=[...n,N],r(M),zd(),e())},C=()=>{const N=s.id,M={id:N,question:a,choices:_,answer:g},L=n.map(O=>N===O.id?M:O);r(L),e(),i()},A=(N,M)=>{N.toLowerCase()==="choice 1"?u(M.target.value):N.toLowerCase()==="choice 2"?h(M.target.value):N.toLowerCase()==="choice 3"?m(M.target.value):E(M.target.value)},I=()=>{s?C():T()},R=()=>{e(),i()};return v.useEffect(()=>($s("hidden"),()=>{$s("auto")}),[]),f.jsx("div",{className:"fixed flex items-center z-20 bg-black/60 justify-center top-0 left-0 right-0 bottom-0",children:f.jsxs("div",{className:`border w-5/6 sm:w-4/5 md:w-3/5 lg:w-2/5 grid gap-y-2  p-3  top-0 left-0 right-0 bottom-0 rounded-lg relative ${o==="light"?"bg-white border-gray-200":"text-white border-slate-500/70 bg-slate-600"}`,children:[f.jsx("div",{className:`top-1 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center ${o==="light"?"bg-black border-gray-200":"bg-slate-500/70 border-slate-600"}`,children:s?s.number:n.length+1}),f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(uo,{data:{handleFn:b,value:a,choice:"Question",placeholder:"Enter question"}}),f.jsx(uo,{data:{handleFn:A,value:c,choice:"Choice 1",placeholder:"Enter choice 1"}}),f.jsx(uo,{data:{handleFn:A,value:d,choice:"Choice 2",placeholder:"Enter choice 2"}}),f.jsx(uo,{data:{handleFn:A,value:p,choice:"Choice 3",placeholder:"Enter choice 3"}}),f.jsx(uo,{data:{handleFn:A,value:y,choice:"Choice 4",placeholder:"Enter choice 4"}}),f.jsxs("div",{className:"flex items-center gap-x-5",children:[f.jsx("div",{className:"font-medium",children:"Answer"}),f.jsx(Moe,{data:{options:_,value:g,setValue:w}})]})]}),f.jsxs("div",{className:"flex justify-end gap-x-2",children:[f.jsx(ks,{data:{clickFn:I,text:"Save",image:"save"}}),f.jsx(ks,{data:{clickFn:R,text:"Cancel"}})]})]})})},Ooe=({data:t})=>{const{theme:e}=v.useContext(X),{testName:n,numbers:r,changePage:s}=t;return f.jsx("div",{className:`text-lg p-1 font-medium sticky top-0 z-10 flex justify-between items-center ${e==="light"?"":"text-white"}`,children:f.jsxs("div",{className:"flex items-center gap-x-2",children:[f.jsx(nn,{data:{clickFn:()=>s("test"),image:"back"}}),f.jsxs("div",{children:[n,f.jsxs("span",{className:"text-sm",children:[" • "," ",r," ",r>1?"questions":"question"]})]})]})})},$oe=({data:t})=>{const{quizzes:e,editQuestion:n,askToDelete:r,add:s,changePage:i}=t,{theme:o}=v.useContext(X);return f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx("div",{className:`pl-1 font-medium ${o==="light"?"":"text-white"}`,children:"Questions"}),e.map((a,l)=>f.jsxs("div",{className:`border font-padauk p-2 relative ${o==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-x-2",children:[f.jsx(nn,{data:{clickFn:()=>n(a,l),image:"edit"}}),f.jsx(nn,{data:{clickFn:()=>r(a.id),image:"trash"}})]}),f.jsxs("div",{className:"flex items-center justify-between gap-x-2",children:[f.jsx("div",{className:"overflow-x-auto p-0.5 flex-1",children:a.question}),f.jsx("div",{className:`top-0 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center ${o==="light"?"bg-black border-gray-200":"bg-slate-500/70 border-slate-600"}`,children:l+1})]}),f.jsx("div",{className:"pl-2 pt-2 grid gap-y-1",children:a.choices.map((c,u)=>f.jsxs("div",{className:"flex gap-x-2",children:[f.jsx("div",{className:`w-8 flex h-8 items-center  justify-center text-white font-medium rounded-md ${o==="light"?"bg-black":"bg-slate-500/70"}`,children:u+1}),f.jsx("div",{className:"flex-1",children:c})]},`choice-${l}-${u}`))})]},`question-${l}`)),f.jsx("div",{className:"flex justify-center sticky bottom-5",children:f.jsx(nn,{data:{clickFn:s,image:"add"}})})]})},joe=({data:t})=>{const{currentTest:e,setCurrentTest:n,setIsRulesAdding:r,setEditData:s}=t,{theme:i}=v.useContext(X),{gradingRules:o}=e,[a,l]=v.useState(null),c=m=>{const y=o.filter(g=>g.id!==m),E={...e,gradingRules:y};n(E)},u=m=>{l(m)},d=m=>{s(m),r(!0)},h=()=>{c(a),l(null)},p=()=>{l(null)};return f.jsxs("div",{className:"grid gap-y-3",children:[f.jsx("div",{className:`pl-1 font-medium ${i==="light"?"":"text-white"}`,children:"Grading Rules"}),f.jsx(Ui,{data:{value:a,setValue:l,yesButton:h,noButton:p,text:"Are you sure to delete?"}}),o.map((m,y)=>f.jsxs("div",{className:`flex font-padauk items-center justify-between border  p-2 ${i==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"grid flex-1 grid-cols-3 justify-between mr-10",children:[f.jsx(Cy,{data:{text:"From",value:m.from}}),f.jsx(Cy,{data:{text:"To",value:m.to}}),f.jsx(Cy,{data:{text:"Level",value:m.level}})]}),f.jsxs("div",{className:"flex items-center gap-x-1 h-full ",children:[f.jsx(nn,{data:{clickFn:()=>d(m),image:"edit"}}),f.jsx(nn,{data:{clickFn:()=>u(m.id),image:"trash"}})]})]},`rule-${y}-${m.from}-${m.to}-${m.level}`)),f.jsx("div",{className:"flex justify-center sticky bottom-5",children:f.jsx(nn,{data:{clickFn:()=>r(!0),image:"add"}})})]})},Cy=({data:t})=>{const{text:e,value:n}=t,{theme:r}=v.useContext(X);return f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"font-medium",children:e}),f.jsx("div",{className:`font-medium max-h-10 ${r==="light"?"text-slate-600":"text-white"}`,children:typeof n=="string"?ra(n,15):n})]})},Foe=({data:t})=>{const{currentTest:e,setCurrentTest:n,editData:r,setEditData:s,setIsRulesAdding:i}=t,{theme:o}=v.useContext(X),{gradingRules:a}=e,[l,c]=v.useState(r?r.from:null),[u,d]=v.useState(r?r.to:null),[h,p]=v.useState(r?r.level:""),m=l&&u&&h.trim(),y=()=>{const x={id:a.length===0?1:a[a.length-1].id+1,from:Number(l),to:Number(u),level:h},S={...e,gradingRules:[...a,x]};n(S)},E=()=>{const x=r.id,S={id:x,from:Number(l),to:Number(u),level:h},b=a.map(C=>x===C.id?S:C),T={...e,gradingRules:b};n(T)},g=()=>{i(!1),s(null)},w=()=>{m&&(r?E():y(),g())},_=(x,S)=>{const b=S.target.value;x.toLowerCase()==="from"?c(b):x.toLowerCase()==="to"?d(b):p(b)};return v.useEffect(()=>($s("hidden"),()=>{$s("auto")}),[]),f.jsx("div",{className:"fixed z-20 bg-black/50 top-0 right-0 left-0 bottom-0 flex justify-center items-center",children:f.jsxs("div",{className:`border w-5/6 sm:w-4/5 md:w-3/5 lg:w-2/5 grid gap-y-2 p-3  top-0 left-0 right-0 bottom-0 rounded-lg relative ${o==="light"?"border-gray-200 bg-white":"text-white bg-slate-600 border-slate-500/70"}`,children:[f.jsx(uo,{data:{handleFn:_,value:l!==null?l:"",choice:"From",placeholder:"Enter 'from' value"}}),f.jsx(uo,{data:{handleFn:_,value:u!==null?u:"",choice:"To",placeholder:"Enter 'to' value"}}),f.jsx(uo,{data:{handleFn:_,value:h,choice:"Level",placeholder:"Enter level"}}),f.jsxs("div",{className:"flex justify-end gap-x-2",children:[f.jsx(ks,{data:{clickFn:w,text:"Save",image:"save"}}),f.jsx(ks,{data:{clickFn:g,text:"Cancel"}})]})]})})},eT=({data:t})=>{const{currentTest:e,setCurrentTest:n,title:r}=t,{theme:s}=v.useContext(X),{description:i,name:o}=e,[a,l]=v.useState(r==="Description"?i:o),[c,u]=v.useState(!1),d=y=>{l(y.target.value)},h=()=>{if(r==="Description"){const y={...e,description:a};n(y)}else{const y={...e,name:a};n(y)}},p=()=>{h(),u(!1)},m=()=>{u(!1),l(r==="Description"?i:o)};return f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx("div",{className:`font-medium ${s==="light"?"":"text-white"}`,children:r}),c?f.jsx("textarea",{autoFocus:!0,placeholder:`Type ${r.toLowerCase()} here`,onChange:d,className:`p-1 border border-gray-200 outline-none ${s==="light"?"":"text-white bg-slate-600"}`,value:a}):f.jsx("div",{className:`text-gray-500 p-1 ${s==="light"?"":"text-white"}`,children:a||"No description"}),c?f.jsxs("div",{className:"flex gap-x-2",children:[f.jsx(nn,{data:{clickFn:p,image:"save"}}),f.jsx(nn,{data:{clickFn:m,image:"falseIcon"}})]}):f.jsx(nn,{data:{clickFn:()=>u(!0),image:"edit"}})]})},Voe=({data:t})=>{const{setHeaderTitle:e}=v.useContext(X),{setPage:n,currentTest:r,setCurrentTest:s}=t,[i,o]=v.useState(!1),[a,l]=v.useState(!1),[c,u]=v.useState(r.quizzes),[d,h]=v.useState(null),[p,m]=v.useState(null);v.useEffect(()=>{e(r.name)});const y=async(N,M)=>{try{const L=ge(be,"tests",N);await or(L,M)}catch(L){console.log(L.message)}};v.useEffect(()=>{E()},[r,c]);const E=()=>{y(r.id,{...r,quizzes:c})},g=()=>{o(!0)},w=()=>{o(!1),m(null)},_=N=>{m(N)},x=()=>{T(p),m(null)},S=()=>{m(null)},b=N=>{n(N)},T=N=>{const M=c.filter(L=>L.id!==N);u(M)},C=(N,M)=>{const L={...N,number:M+1};h(L),g()},A=()=>{h(null)},I={testName:r.name,numbers:c.length,changePage:b},R={quizzes:c,editQuestion:C,askToDelete:_,add:g};return f.jsxs("div",{className:"grid gap-y-2 z-65 p-5",children:[f.jsx(Ooe,{data:I}),f.jsx(hc,{}),f.jsx(eT,{data:{title:"Test Name",currentTest:r,setCurrentTest:s}}),f.jsx(eT,{data:{title:"Description",currentTest:r,setCurrentTest:s}}),f.jsx(hc,{}),f.jsx(joe,{data:{currentTest:r,setEditData:h,setCurrentTest:s,setIsRulesAdding:l}}),f.jsx(hc,{}),f.jsx($oe,{data:R}),i&&f.jsx(Doe,{data:{cancel:w,setQuizzes:u,quizzes:c,editData:d,clearEditData:A}}),a&&f.jsx(Foe,{data:{currentTest:r,setCurrentTest:s,editData:d,setEditData:h,setIsRulesAdding:l}}),f.jsx(Ui,{data:{value:p,setValue:m,yesButton:x,noButton:S,text:"Are you sure to delete ?"}}),f.jsx(hc,{})]})},P5=({text:t,length:e})=>{const n=wn(),{theme:r}=v.useContext(X);return f.jsxs("div",{className:`flex items-center gap-x-1 mb-2 ${r==="light"?"":"text-white"}`,children:[f.jsx(cr,{onClick:()=>n("/app/admin"),children:f.jsx("img",{className:"size-7",src:Ae("back")})}),f.jsxs("p",{children:[t," (",e,")"]})]})},Uoe=({options:t,moreOptionRef:e,handleClick:n,message:r,chatId:s,isComment:i})=>{const{userId:o}=v.useContext(X),a=[{name:"like",image:"facebookLike"},{name:"love",image:"facebookLove"},{name:"haha",image:"facebookHaha"},{name:"wow",image:"facebookWow"},{name:"sad",image:"facebookSad"},{name:"angry",image:"facebookAngry"}];v.useEffect(()=>($s("hidden"),()=>{$s("auto")}),[]);const l=async c=>{const u=ge(Ne(ge(Ne(ge(be,"chats",s),"messages"),r.id),"reactedBy"),o);await Va(u,{uid:o,reactionType:c})};return f.jsx("div",{className:"z-30 bg-black/50 p-2 fixed bottom-[-8px] top-0 left-[-8px] right-[-8px] flex items-end justify-center",children:f.jsxs("div",{ref:e,className:"h-[40%] w-full bg-slate-200 md:w-[60%]",children:[i?f.jsx("div",{className:"p-2 rounded-md bg-slate-50 pl-4 text-lg font-bold",children:"More options"}):f.jsx("div",{className:" flex gap-x-1 bg-slate-50 rounded-md p-1",children:a.map(c=>f.jsx(cr,{onClick:()=>{n(),l(c.name)},children:f.jsx("img",{className:"w-6",src:Ae(c.image)})},c.name))}),f.jsx("div",{className:"grid gap-y-1",children:t.map(c=>{if(c)return f.jsxs("button",{className:"flex items-center gap-x-1 p-2 hover:bg-slate-300",onClick:()=>{c.onClick(),n()},children:[f.jsx("img",{className:"w-6",src:Ae(c.icon)}),f.jsx("p",{children:c.text})]},c.text)})})]})})},e1=({options:t,left:e="-left-[102px]",message:n,chatId:r,isComment:s})=>{const[i,o]=v.useState(!1);v.useContext(X);const a=v.useRef(null);Of(a,o);const l=()=>{o(!0)};return f.jsxs(f.Fragment,{children:[f.jsx(cr,{onClick:l,children:f.jsx("img",{className:"w-6",src:Ae("moreOption")})}),i&&f.jsx(Uoe,{handleClick:()=>{o(!1)},moreOptionRef:a,options:t,message:n,chatId:r,isComment:s})]})},Boe=()=>{const[t,e]=v.useState("test"),{theme:n,isLogin:r,tests:s,setTests:i,setHeaderTitle:o}=v.useContext(X),[a,l]=v.useState({}),[c,u]=v.useState(!1),[d,h]=v.useState(!1),[p,m]=v.useState(null);Al("tests",i,r),v.useEffect(()=>{o("Admin - Tests")},[]),v.useEffect(()=>(Ns(),Ns()),[]);const y=C=>{l(C),e("editTest")},E=C=>{m(C),h(!0)},g=async C=>{const A=ge(be,"tests",C.id);await or(A,{isUploaded:!C.isUploaded})},w=()=>{b(p),m(null),h(!1)},_=()=>{h(!1)},x=()=>{u(!0)},S=()=>{u(!1)},b=async C=>{try{const A=ge(be,"tests",C);await ko(A)}catch(A){console.log(A.message)}};return(()=>{switch(t){case"test":return f.jsxs("div",{className:"p-5 grid gap-y-2",children:[f.jsx("div",{className:"flex justify-between",children:f.jsx(P5,{text:"Tests",length:s.length})}),c&&f.jsx(Loe,{data:{close:S}}),f.jsx(Ui,{data:{value:d,setValue:h,yesButton:w,noButton:_,text:"Are you sure to delete ?"}}),f.jsx("div",{className:"grid border border-slate-200 shadow-md rounded-md overflow-hidden",children:s.map((C,A)=>f.jsxs("div",{className:`cursor-pointer hover:bg-slate-100 ${A===0&&"border-t-0"} flex items-center border border-t p-2  min-h-[100px] ${n==="light"?"border-slate-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"flex flex-1 gap-x-2 items-center",children:[f.jsx("input",{checked:C.isUploaded,onChange:()=>g(C),className:"size-6",type:"checkbox"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:C.name}),f.jsxs("div",{className:`text-sm ${n==="light"?"text-gray-500":"text-white"}`,children:[C.quizzes.length,C.quizzes.length>1?" questions":" question",C.isUploaded?" (Uploaded)":" (Not uploaded)"]})]})]}),f.jsx("div",{className:"flex gap-x-2",children:f.jsx(e1,{isComment:!0,options:[{text:"Edit",icon:"editPencil",onClick:()=>{y(C)}},{text:"Delete",icon:"deleteIcon",onClick:()=>E(C.id)}]})})]},` tests-${C.id}`))}),f.jsx("div",{children:f.jsx(He,{variant:"outlined",startIcon:f.jsx(fr,{name:"add"}),onClick:x,children:"New test"})})]});case"editTest":return f.jsx(Voe,{data:{setPage:e,currentTest:a,setCurrentTest:l}})}})()},zoe=["January","February","March","April","May","June","July","August","September","October","November","December"];function kl(t){const n=new Date().getTime()-t,r=Math.floor(n/1e3),s=Math.floor(r/60),i=Math.floor(s/60),o=Math.floor(i/24),a=Math.floor(o/7),l=Math.floor(o/30),c=Math.floor(l/12),u=new Date(t),d=u.getFullYear(),h=u.getMonth(),p=u.getDate(),m=`${zoe[h]} ${p}, ${d}`;if(c>0)return m;if(l>0)return`${m}`;if(a>0)return`${m}`;if(o>0)return`${o} ${o===1?"day":"days"} ago`;if(i>0)return`${i} ${i===1?"hour":"hours"} ago`;if(s>0)return`${s} ${s===1?"minute":"minutes"} ago`;if(r>0)return`${r} ${r===1?"second":"seconds"} ago`}function js(t,e,n="timestamp",r="older"){var o,a;const s=new Date((o=t[n])!=null&&o.seconds?t[n].seconds*1e3:t[n]),i=new Date((a=e[n])!=null&&a.seconds?e[n].seconds*1e3:e[n]);return r==="older"?s-i:i-s}const Woe=["January","February","March","April","May","June","July","August","September","October","November","December"],Hoe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function N2(t){const e=new Date().getTime(),n=new Date,r=e-t,s=Math.floor(r/1e3),i=Math.floor(s/60),o=Math.floor(i/60),a=Math.floor(o/24),l=Math.floor(a/7),c=Math.floor(a/30),u=Math.floor(c/12),d=new Date(t),h=d.getFullYear(),p=d.getMonth(),m=d.getDate(),y=Hoe[d.getDay()],g=!(n.getDay()===d.getDay()&&n.getMonth()===d.getMonth()&&n.getFullYear()===d.getFullYear())&&d.getDay()===n.getDay()-1,w=Woe[p],_=`${w} ${m}, ${h}`,x=d.toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0});if(u>0)return`${x} • ${_}`;if(c>0)return`${x} • ${w} ${m}`;if(l>0)return`${y}, ${x} • ${w} ${m}`;if(a>0)return`${g?"Yesterday":y}, ${x}`;if(o>0)return`${g?"Yesterday, ":""}${x}`;if(i>0)return x;if(s>0)return x}function Rr(t){return t!=null&&t.seconds?t.seconds*1e3:t}const qoe=({password:t})=>{const[e,n]=v.useState(!1);return f.jsxs("div",{children:["Password: ",e?t:"*********"," ",f.jsx("span",{onClick:()=>n(!e),className:"cursor-pointer text-blue-500 underline",children:e?"hide":"show"})]})},Goe=()=>{const{isLogin:t,setUserData:e,users:n,theme:r,setHeaderTitle:s,userId:i,setUsers:o}=v.useContext(X);v.useEffect(()=>(Ns(),Ns()),[]),v.useEffect(()=>{s("Admin - Users")},[]);const a=wn(),l=u=>{e(u),a("/app")},c=async u=>{const d=ge(be,"users",u.uid);await or(d,{isAdmin:!u.isAdmin})};return Al("users",o,t),f.jsxs("div",{className:"mt-2 p-5",children:[f.jsx(P5,{text:"Users",length:n==null?void 0:n.length}),f.jsx("div",{className:"mt-2 overflow-hidden grid border border-slate-200 shadow-md rounded-md",children:n.sort((u,d)=>js(u,d,"createdAt","older")).map((u,d)=>f.jsxs("div",{className:` hover:border-slate-200 ${d===0&&"border-t-0"} border-t p-2   ${r==="light"?`hover:bg-slate-50 ${i===u.uid?"bg-slate-50 border-blue-300 ":"border-gray-200"}`:`hover:bg-slate-500/70 text-white ${i===u.uid?" border-blue-300 bg-slate-500/70":"border-slate-500/70 "}`}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex w-5/6 gap-x-2 items-center",children:[f.jsx(qr,{image:u.image,name:u.name}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"font-medium",children:[u.name," ",f.jsxs("span",{className:`${u!=null&&u.isAdmin?"text-blue-500":"text-white"}`,children:["(",u!=null&&u.isAdmin?"admin":"user",")"," ",i===u.uid?"(You)":""]})]}),f.jsx("div",{className:"text-md ",children:u.email}),f.jsxs("div",{className:"text-md",children:["Created: ",N2(Rr(u.createdAt))]}),f.jsxs("div",{className:"text-md font-medium text-lime-600",children:["UID : ",u.uid]}),f.jsx(qoe,{password:u.password})]})]}),i!==u.uid&&f.jsx(cr,{onClick:()=>l(u),children:f.jsx(fr,{name:"review"})})]}),i!==u.uid&&f.jsx(He,{onClick:()=>c(u),size:"small",startIcon:f.jsx(fr,{name:"admin"}),children:u.isAdmin?"Remove from admin":"Set as admin"})]},u.uid))})]})},Koe=({data:t})=>{const{links:e,setLinks:n,setIsLinkAdding:r,isLinkAdding:s}=t,[i,o]=v.useState(""),[a,l]=v.useState(""),c=i.trim()&&a.trim(),u=()=>{if(c){const d={id:e.length===0?1:e[e.length-1].id+1,title:i.trim(),link:a.trim()},h=[...e,d];n(h),r(!1)}};return f.jsx(xl,{open:s,onClose:()=>r(!1),children:f.jsxs(Ee,{m:4,children:[f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(vi,{size:"small",value:i,onChange:d=>o(d.target.value),placeholder:"Enter title..."}),f.jsx(vi,{size:"small",value:a,onChange:d=>l(d.target.value),placeholder:"Enter link..."})]}),f.jsx("div",{className:"mt-2",children:f.jsx(He,{variant:"outlined",startIcon:f.jsx("img",{src:Ae("add"),className:"size-7"}),onClick:u,children:"Add Link"})})]})})},Qoe=()=>{const{users:t,theme:e,isLogin:n,posts:r,setPosts:s,setHeaderTitle:i,userId:o}=v.useContext(X),[a,l]=v.useState("posts"),[c,u]=v.useState(null),[d,h]=v.useState(!1);v.useEffect(()=>{i("Admin - Posts")},[]),Al("posts",s,n);const p=async()=>{const y=ge(be,"posts",d);await ko(y)},m=()=>{switch(a){case"posts":return f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(Ui,{data:{yesButton:p,noButton:()=>h(!1),text:"Are you sure to delete this post?",setValue:h,value:d}}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx(P5,{text:"Posts",length:r.length}),f.jsx(He,{onClick:()=>l("createPost"),children:"Create a post"})]}),f.jsx("div",{className:"grid border shadow-md rounded-md border-slate-200 mb-2",children:r.sort((y,E)=>js(y,E,"time","newer")).map((y,E)=>{var g,w,_;return t.forEach(x=>{x.uid,y.uid}),f.jsxs(Ee,{className:`${E===0&&"border-t-0"} overflow-hidden hover:bg-slate-100 cursor-pointer p-2 border-t   min-h-20 flex items-center  ${e==="light"?"border-slate-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"flex-1",children:[f.jsx(Yoe,{post:y}),f.jsx("p",{className:"mb-2 break-words whitespace-normal",children:ra(y.description,25)}),f.jsxs("div",{className:"flex items-center gap-x-1",children:[y.images.length!==0&&f.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[f.jsx(fr,{name:"image"}),f.jsxs("span",{children:[y.images.length," ",y.images.length<=1?"image":"images"]})]}),y.files.length!==0&&f.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[f.jsx(fr,{name:"file"}),f.jsxs("span",{children:[y.files.length," ",y.files.length<=1?"file":"files"]})]}),y.links&&((g=y==null?void 0:y.links)==null?void 0:g.length)!==0&&f.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[f.jsx(fr,{name:"link"}),f.jsxs("span",{children:[(w=y==null?void 0:y.links)==null?void 0:w.length," ",((_=y==null?void 0:y.links)==null?void 0:_.length)<=1?"link":"links"]})]}),y.draft&&f.jsx("div",{className:`p-1 min-h-9 flex items-center gap-x-1 rounded-md ${e==="light"?"bg-green-100":"bg-slate-500/70"}`,children:f.jsx("span",{className:"font-bold text-red-500",children:"(Draft)"})})]})]}),f.jsx("div",{className:"flex items-center gap-x-1",children:f.jsx(e1,{isComment:!0,options:[{text:"Edit",icon:"editPencil",onClick:()=>{u(y),l("createPost")}},{text:"Delete",icon:"deleteIcon",onClick:()=>h(y.id)}]})})]},`post-${y.id}`)})})]});case"createPost":return f.jsx(Xoe,{setPage:l,postData:c,setPostData:u})}};return f.jsx("div",{className:"m-5",children:m()})},Yoe=({post:t})=>{const{users:e,theme:n}=v.useContext(X),[r,s]=v.useState(null),[i,o]=v.useState(!0);return Dn(t.uid,e,s,o),i?f.jsxs(Ee,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Wt,{})]}):f.jsxs("div",{className:"top-section flex mb-2 gap-x-2",children:[f.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:r==null?void 0:r.image}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:r==null?void 0:r.name}),f.jsx("div",{className:` text-sm ${n==="light"?"text-gray-500":"text-white"}`,children:kl(Rr(t.time))})]})]})},Xoe=({setPage:t,postData:e,setPostData:n})=>{const{theme:r}=v.useContext(X),[s,i]=v.useState(e?e.images:[]),[o,a]=v.useState(null),[l,c]=v.useState(e?e.description:""),[u,d]=v.useState(e?e==null?void 0:e.files:[]),[h,p]=v.useState(e?(e==null?void 0:e.links)||[]:[]),[m,y]=v.useState(!1),E=l.trim()||s.length!==0||u.length!==0||h.length!==0,g=async(I=!1)=>{try{const R=Ne(be,"posts");await Uo(R,{uid:userId,time:Gn(),editedTime:Gn(),description:l,images:s,files:u,links:h,draft:I}),t("posts")}catch(R){console.log(R.message)}},w=async()=>{try{const I=ge(be,"posts",e.id);await or(I,{editedTime:Gn(),description:l,images:s,files:u,links:h,draft:!1}),t("posts")}catch(I){console.log(I.message)}},_=async()=>{try{if(e){const I=ge(be,"posts",e.id);await or(I,{editedTime:Gn(),description:l,images:s,files:u,links:h,draft:!0})}else g(!0);t("posts")}catch(I){console.log(I.message)}},x=async I=>{try{const R=await ln(I,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),N=`posts/${userId}/${I.name}`,M=go(Aa,N);a("Uploading image...");const L=await Vh(M,R),O=await Uh(L.ref),P=[...s,{name:I.name,path:N,imageURL:O}];i(P),a("Uploaded image"),setTimeout(()=>{a(null)},3e3)}catch(R){a(R.message),setTimeout(()=>{a(null)},3e3)}},S=async I=>{try{const R=`posts/${userId}/${I.name}`,N=go(Aa,R);a("Uploading file...");const M=await Vh(N,I),L=await Uh(M.ref),O=[...u,{name:I.name,path:R,fileURL:L,size:I.size}];d(O),a("Uploaded file"),setTimeout(()=>{a(null)},3e3)}catch(R){a(R.message),setTimeout(()=>{a(null)},3e3)}},b=async(I,R)=>{const N=s.filter(L=>R!==L.imageURL);i(N);const M=go(Aa,I);await P_(M)},T=async(I,R)=>{const N=u.filter(L=>R!==L.fileURL);d(N);const M=go(Aa,I);await P_(M)},C=I=>{const R=h.filter(N=>I!==N.id);p(R)},A=I=>{document.getElementById(I).click()};return f.jsxs("div",{children:[f.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[o&&f.jsx(S2,{message:o}),f.jsxs("div",{className:"flex gap-x-1 items-center",children:[f.jsx(cr,{onClick:()=>{t("posts"),n(null)},children:f.jsx("img",{className:"size-7",src:Ae("back")})}),f.jsx("div",{className:r==="light"?"":"text-white",children:e?"Edit post":"Create a post"})]}),f.jsxs("div",{className:"flex items-center gap-x-1",children:[f.jsx(He,{onClick:()=>{E&&_()},children:"Draft"}),f.jsx(He,{onClick:()=>{E?(e?w():g(),n(null)):a("Create a post first!")},startIcon:f.jsx("img",{className:"size-7",src:Ae(e?"save":"upload")}),children:e?"Save":"Publish"})]})]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("textarea",{value:l,onChange:I=>c(I.target.value),className:`w-full p-2 resize-none border min-h-28 ${r==="light"?"border-slate-300  focus:outline-blue-500":"border-slate-500/70 outline-none bg-slate-600 text-white"}`,placeholder:"Write description here"}),f.jsx("input",{className:"hidden",id:"imagesInput",type:"file",accept:"image/*",onChange:I=>x(I.target.files[0])}),f.jsx("input",{className:"hidden",id:"filesInput",type:"file",onChange:I=>S(I.target.files[0])}),f.jsxs("div",{className:"flex justify-start gap-x-2 mt-1",children:[f.jsx(He,{onClick:()=>A("imagesInput"),variant:"outlined",startIcon:f.jsx("img",{className:" h-7",src:Ae("image")}),children:"Image"}),f.jsx(He,{onClick:()=>A("filesInput"),variant:"outlined",startIcon:f.jsx("img",{className:" h-7",src:Ae("file")}),children:"File"}),f.jsx(He,{onClick:()=>{y(!0)},variant:"outlined",startIcon:f.jsx("img",{className:" h-7",src:Ae("link")}),children:"Link"}),f.jsx(Koe,{data:{links:h,setLinks:p,setIsLinkAdding:y,isLinkAdding:m}})]})]}),s.length!==0&&f.jsx("div",{className:"grid gap-y-2",children:s.map(I=>f.jsxs("div",{className:"relative min-h-20",children:[f.jsx("img",{alt:I.name,className:"size-full",src:I.imageURL}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx(nn,{data:{clickFn:()=>b(I.path,I.imageURL),image:"falseIcon"}})})]},I.imageURL))}),u.length!==0&&f.jsx("div",{className:"grid gap-y-1 mt-2",children:u.map(I=>f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:`p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${r==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:Ae("download")}),f.jsxs("div",{children:[f.jsx("p",{className:"underline text-blue-600",children:I.name}),(I==null?void 0:I.size)&&f.jsxs("p",{children:[(I.size/(1024*1024)).toFixed(2)," MB"]})]})]}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx(nn,{data:{clickFn:()=>T(I.path,I.fileURL),image:"falseIcon"}})})]},I.fileURL))}),h.length!==0&&f.jsx("div",{className:"grid gap-y-1 mt-2",children:h.map(I=>f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:`p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${r==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:Ae("link")}),f.jsx("div",{children:f.jsx("p",{className:"underline text-blue-600",children:I.title})})]}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx(nn,{data:{image:"falseIcon",clickFn:()=>C(I.id)}})})]},I.link))})]})},Joe=()=>{const{setHeaderTitle:t,notiCount:e,setNotiCount:n}=v.useContext(X),r=5,[s,i]=v.useState([]),[o,a]=v.useState(null),[l,c]=v.useState(!1),u=async()=>{c(!0);const d=Ne(be,"notifications");let h=hr(d,ja("timestamp","desc"),Fa(r));o&&(h=hr(h,Bg(o)));const p=await Fi(h);Pi(d,n);const m=p.docs.map(y=>({id:y.id,...y.data()}));i([...s,...m]),a(p.docs[p.docs.length-1]),c(!1)};return v.useEffect(()=>{u()},[]),v.useEffect(()=>{t("Notifications")},[]),f.jsxs(Ee,{className:"m-2",children:[f.jsx(_s,{}),s.length===0?f.jsxs(Ee,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Wt,{})]}):f.jsxs(Ee,{className:"border overflow-hidden shadow-md border-slate-200 rounded-md",children:[s.map((d,h)=>f.jsx(Zoe,{length:s.length,notification:d,index:h},d.id)),l&&f.jsx(Ee,{className:"flex justify-center",children:f.jsxs(Ee,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Vz,{})]})})]}),e>r&&e>s.length?f.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:f.jsx(He,{size:"small",onClick:u,children:"load more"})}):""]})},Zoe=({notification:t,index:e,length:n})=>{let r;const{type:s,description:i,timestamp:o,testName:a,comment:l}=t,c=`${s[0]} ${s[1]}`,{theme:u,users:d}=v.useContext(X),[h,p]=v.useState(null),[m,y]=v.useState(!0);switch(Dn(t.uid,d,p,y),c){case"like post":r="liked a post";break;case"like test":r="liked a test";break;case"comment post":r="commented on a post";break;case"comment test":r="commented on a test";break;case"added post":r="added a post";break;case"added test":r="added a test";break;case"took test":r="took a test";break}return m?f.jsxs(Ee,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Wt,{})]}):f.jsxs("div",{className:`cursor-pointer flex items-center border-t ${e===0&&"border-t-0"} gap-x-2 p-2 ${e===n-1&&"border-b"}  ${u==="light"?"border-slate-200 bg-white shadow-gray-200":"border-slate-500/70 bg-slate-500/70 text-white shadow-slate-500 "}`,children:[f.jsx("div",{children:f.jsx("img",{className:"size-10 object-cover rounded-full object-center bg-cover",src:h==null?void 0:h.image})}),f.jsxs("div",{children:[f.jsxs("p",{children:[f.jsx("b",{children:h?h==null?void 0:h.name:"Unknown User"})," ",r]}),i&&f.jsx("p",{children:ra(i,30)}),a&&f.jsx("p",{children:a}),l&&f.jsx("p",{children:l}),f.jsx("p",{children:kl(Rr(o))})]})]})},eae=({members:t,isUserOnline:e})=>{const{users:n,theme:r}=v.useContext(X);return f.jsxs("div",{className:`p-2 grid gap-y-2 ${r==="light"?"":"text-white"}`,children:[f.jsx("p",{className:"text-lg font-bold",children:"Members"}),f.jsx(Ee,{className:"border rounded-md shadow-lg border-slate-200",children:t.sort((s,i)=>js(s,i,"joinedAt","newer")).map((s,i)=>{const o=e(s.uid);return f.jsx("div",{className:`p-2 flex gap-x-2 items-center border-t ${t.length===i&&"border-b"} ${i===0&&"border-t-0"} ${r==="light"?"border-slate-200":"bg-slate-500/70 border-slate-500"}`,children:f.jsx(tae,{member:s,onlineUser:o})},s.uid+s.joinedAt)})})]})},tae=({member:t,onlineUser:e})=>{const{users:n}=v.useContext(X),[r,s]=v.useState(null),[i,o]=v.useState(!0);return Dn(t.uid,n,s,o),i?f.jsxs(Ee,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Wt,{})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"relative",children:[f.jsx(qr,{image:r==null?void 0:r.image,name:r==null?void 0:r.name}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${e.isOnline?"bg-green-500":"bg-gray-500"}`})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{children:r==null?void 0:r.name}),f.jsx("p",{className:`text-sm ${e.isOnline?"text-blue-500":"text-red-500"}`,children:e.isOnline?"Online":kl(Rr(e.lastSeen))})]})]})},WN=({pageName:t,setSubPage:e,currentChat:n,infoPage:r,memberCounts:s})=>{var o;const i=wn();return f.jsx(VR,{sx:{background:"white"},children:f.jsxs(lA,{className:"h-[70px] bg-white z-30 p-2 min-h-10 pb-2 flex items-center justify-between gap-x-1 border-b ",children:[f.jsxs("div",{className:"flex gap-x-1",children:[f.jsx("div",{children:f.jsx(cr,{onClick:()=>{r?e(t):i("/app/chatroom")},children:f.jsx(fr,{name:"back"})})}),f.jsxs("div",{onClick:()=>e(t),children:[f.jsx("p",{className:"text-lg text-black font-bold",children:n.name}),s&&f.jsxs("p",{className:"text-sm text-black",children:[s," ",s<=1?"member":"members"]})]})]}),f.jsx("button",{onClick:()=>e(t),children:f.jsx("img",{src:((o=n==null?void 0:n.image)==null?void 0:o.URL)||"images/sea-logo.jpg",alt:"group-image",className:"size-12 rounded-full object-center object-cover "})})]})})},nae=({setSubPage:t,currentChat:e,onlineUsers:n,memberCounts:r,setMemberCounts:s,members:i,setMembers:o})=>{var A;const{chatId:a}=Xh(),{theme:l,users:c,userData:u}=v.useContext(X),d=ge(be,"chats",a),[h,p]=v.useState(""),[m,y]=v.useState(null),E=ge(be,"chats",a),g=Ne(E,"members");v.useEffect(()=>{p(e.name)},[e]);const w=I=>{let R=!1;return i.forEach(N=>{N.uid===I&&(R=!0)}),R},_=async I=>{let R=!1;const N=hr(g,Vg("uid","==",I));return R=!(await Fi(N)).empty,R};v.useEffect(()=>cs(g,M=>{(async()=>{await Pi(g,s)})(),o(M.docs.map(O=>({...O.data(),id:O.id})))}),[]);const x=async I=>{const R=ge(g,I);try{await _(I)||await Va(R,{uid:I,joinedAt:Gn()})}catch(N){console.log(N.message)}},S=async I=>{try{const R=ge(g,I);await ko(R)}catch(R){console.log(R.message)}},b=I=>{let R=!1,N=null;return n.forEach(M=>{M.uid===I&&(R=!0,N=M)}),{isOnline:R,...N}},T=async()=>{if(!m)return;const I=`chats/${e.id}/groupImage-${m.name}`,R=go(storage,I),N=await ln(m,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),M=await Vh(R,N),L=await Uh(M.ref),O={name:m.name,path:I,URL:L,size:N.size};await or(d,{image:O})},C=async()=>{h.trim()&&await or(d,{name:h})};if(v.useEffect(()=>{T()},[m]),v.useEffect(()=>{scrollTo({top:0})},[]),e)return f.jsxs("div",{className:"",children:[f.jsx(WN,{pageName:"chat",infoPage:!0,setSubPage:t,currentChat:e,memberCounts:r}),(u==null?void 0:u.isAdmin)&&f.jsxs("div",{className:"p-2 m-1 mt-4 shadow-lg  border border-slate-300 rounded-md",children:[f.jsx("input",{id:"imageInput",className:"hidden",type:"file",accept:"image/*",onChange:I=>y(I.target.files[0])}),f.jsxs("div",{className:"relative size-24",children:[f.jsx("img",{src:(A=e==null?void 0:e.image)==null?void 0:A.URL,className:"size-24 rounded-full object-cover object-center bg-cover"}),f.jsx("label",{htmlFor:"imageInput",className:` p-1 rounded-full absolute -bottom-1 -right-1 cursor-pointer ${l==="light"?"bg-gray-200":"bg-slate-500/70"}`,children:f.jsx("img",{className:"w-5",src:Ae("edit")})})]}),f.jsxs("div",{className:`mt-2 ${l==="light"?"":"text-white"}`,children:[f.jsx("p",{children:"Group Name"}),f.jsx(vi,{size:"small",value:h,onChange:I=>p(I.target.value)}),f.jsx(cr,{onClick:C,children:f.jsx("img",{className:"w-7",src:Ae("save")})})]})]}),i&&f.jsx(eae,{members:i,onlineUsers:n,isUserOnline:b}),(u==null?void 0:u.isAdmin)&&f.jsxs("div",{className:`p-2 grid gap-y-2 ${l==="light"?"":"text-white"}`,children:[f.jsx("p",{className:"text-lg font-bold",children:"Manage Members"}),f.jsx(Ee,{className:"border rounded-md shadow-lg border-slate-200",children:c.sort((I,R)=>js(I,R,"createdAt","newer")).map((I,R)=>{const N=b(I.uid);return f.jsxs("div",{className:`p-2 flex justify-between gap-x-2 items-center border-t ${(i==null?void 0:i.length)===R&&"border-b"} ${R===0&&"border-t-0"} ${l==="light"?"border-slate-200":"bg-slate-500/70 border-slate-500"}`,children:[f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsxs("div",{className:"relative",children:[f.jsx(qr,{image:I.image,name:I.name}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${N.isOnline?"bg-green-500":"bg-gray-500"}`})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{children:I.name}),f.jsx("p",{className:`text-sm ${N.isOnline?"text-blue-500":"text-red-500"}`,children:N.isOnline?"Online":kl(Rr(N.lastSeen))})]})]}),f.jsx("div",{children:w(I.uid)?!I.isAdmin&&f.jsx(cr,{size:"small",onClick:()=>S(I.uid),children:f.jsx(fr,{name:"trash"})}):f.jsx(cr,{size:"small",onClick:()=>x(I.uid),children:f.jsx(fr,{name:"add"})})})]},I.name+" "+I.image+R)})})]})]})},rae=[{name:"like",image:"facebookLike"},{name:"love",image:"facebookLove"},{name:"haha",image:"facebookHaha"},{name:"wow",image:"facebookWow"},{name:"sad",image:"facebookSad"},{name:"angry",image:"facebookAngry"}],sae=({chatId:t,message:e})=>{const[n,r]=v.useState(!1),[s,i]=v.useState([]),o=Ne(ge(Ne(ge(be,"chats",t),"messages"),e.id),"reactedBy"),{userId:a}=v.useContext(X),l=()=>{r(!1)},c=()=>cs(o,m=>{const y=m.docs.map(E=>({...E.data()}));i(y)});v.useEffect(()=>c(),[]);const u=async()=>{const p=ge(o,a);await ko(p)},d=p=>{let m=!1;return s.forEach(y=>{y.reactionType===p&&(m=!0)}),m},h=rae.filter(p=>d(p.name));if(s.length!==0)return f.jsxs("div",{children:[f.jsxs("button",{onClick:()=>r(!0),className:"mt-2 border border-gray-200 bg-white p-1 rounded-lg flex justify-center items-center text-sm",children:[h.map((p,m)=>f.jsx("img",{className:"w-4 ml-[-3px]",src:Ae(p.image)},`reaction-${p.name}-${m}`)),f.jsx("span",{className:"ml-1",children:s.length})]}),n&&f.jsx(iae,{setOpen:r,reactedBy:s,removeReaction:u,close:l})]})},iae=({reactedBy:t,setOpen:e,removeReaction:n,close:r})=>{const s=v.useRef(null),{users:i,userId:o}=v.useContext(X),a=l=>({like:"facebookLike",love:"facebookLove",haha:"facebookHaha",wow:"facebookWow",sad:"facebookSad",angry:"facebookAngry"})[l];return Of(s,e),v.useEffect(()=>($s("hidden"),()=>{$s("auto")}),[]),f.jsx("div",{className:"fixed top-[-8px] left-[-8px] bg-black/50 right-[-8px] bottom-[-8px] flex items-end justify-center z-30",children:f.jsxs("div",{ref:s,className:" h-[50%] w-full md:w-[60%] bg-slate-200 rounded-l-md rounded-r-md ",children:[f.jsx("div",{className:"p-2 rounded-md bg-slate-50 pl-4 text-lg font-bold",children:"Reactions"}),f.jsx("div",{className:"flex flex-col p-2 min-h-full max-h-full overflow-y-auto",children:t.map((l,c)=>{const u=l.uid===o;return f.jsx(oae,{okToRemove:u,reactedPerson:l,close:r,getReactIcon:a,removeReaction:n},`reactedBy-${l.uid}-${c}`)})})]})})},oae=({getReactIcon:t,reactedPerson:e,okToRemove:n,close:r,removeReaction:s})=>{const{users:i}=v.useContext(X),[o,a]=v.useState(null),[l,c]=v.useState(!0);return Dn(e.uid,i,a,c),l?f.jsxs(Ee,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Wt,{})]}):f.jsxs("div",{onClick:()=>{n&&(s(),r())},className:`flex p-2 justify-between items-center w-full hover:bg-slate-300 ${n?"cursor-pointer":""}`,children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(qr,{image:o==null?void 0:o.image,name:o==null?void 0:o.name,size:"size-9"}),f.jsxs("p",{className:"ml-[4px]",children:[o==null?void 0:o.name," ",n?"(Click to remove)":""]})]}),f.jsx("img",{className:"w-6 ",src:Ae(t(e.reactionType))})]})};function H_(t){return new Date(t).toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0})}const aae=({message:t,deleteMessage:e,setMessage:n,setImageObject:r,setEditMessageObject:s,setViewingImage:i,setReplyMessage:o,isUserOnline:a,chatId:l,messagesRef:c,messageIndex:u,viewingOldMessages:d,setSeenUsers:h,messages:p})=>{var L;const{users:m,theme:y,userData:E,userId:g}=v.useContext(X),w=g===t.senderId,_=a(t.senderId),x=(t==null?void 0:t.seenBy)&&t.seenBy.length>0,S=v.useRef(!1),[b,T]=v.useState(!1),C=O=>{T(O)},A={...t,index:u},I=w?{text:"Edit",icon:"editPencil",onClick:()=>{s(A),n(t.content),r(t==null?void 0:t.image),o(t==null?void 0:t.reply)}}:null,R=w||E!=null&&E.isAdmin?{text:"Delete",icon:"deleteIcon",onClick:()=>{e(t,u)}}:null,N=()=>{let O=!1;return((t==null?void 0:t.seenBy)||[]).forEach(k=>{g===k.uid&&(O=!0)}),O},M=()=>{let O=!1;return u>=p.length-5&&u<=p.length-1&&(O=!0),O};return v.useEffect(()=>{(async()=>{const P=ge(c,t.id);S.current||!N()&&!w&&M()&&!d&&(await or(P,{seenBy:A_({uid:g,timestamp:new Date().getTime()})}),S.current=!0)})()},[]),f.jsxs("div",{onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),className:`hover:bg-slate-100 rounded-md shadow-md shadow-r-none shadow-l-none flex mb-2 gap-x-2 pt-2 pb-2 border border-slate-200 border-dashed border-r-0 border-l-0 ${w?"flex-row-reverse":""} `,children:[f.jsx(lae,{senderId:t.senderId,onlineUser:_}),f.jsx("div",{className:`grid gap-y-1 whitespace-pre-wrap ${y==="light"?"":"text-white"}`,children:f.jsxs("div",{className:`flex  items-start gap-x-1 ${w?"flex-row-reverse justify-start":""}`,children:[f.jsx("div",{className:"relative",children:f.jsxs("div",{className:`max-w-[300px] grid min-w-20 break-words whitespace-pre-wrap text-wrap rounded-[10px] kkborder border-slate-200 p-3  ${y==="light"?`${w?" dfbg-blue-300 ":"fdbg-white  "}`:`${w?" fdbg-blue-300":"fdbg-white  text-black "}`}`,children:[f.jsx(cae,{senderId:t.senderId}),(t==null?void 0:t.reply)&&f.jsx(uae,{message:t,setViewingImage:i}),f.jsx("p",{className:"w-full max-w-full break-words ",children:t.content}),(t==null?void 0:t.image)&&f.jsx("img",{onClick:()=>{i(t.image)},className:"cursor-pointer border mt-1 mb-1 rounded-md border-slate-200 overflow-hidden w-[200px] min-h-[100px]",alt:t.image.name,src:t.image.URL}),f.jsx(sae,{chatId:l,message:t}),f.jsx("div",{className:`flex  ${w?"flex-row-reverse":""} gap-x-1 items-center mt-1`,children:f.jsxs("p",{className:`border border-slate-200 shadow-md rounded-md mt-1 p-1 text-sm text-gray-400 text-sm flex gap-x-1 items-center ${w?"text-right":"text-left"}`,children:[t!=null&&t.editedTime?f.jsxs("span",{children:["edited ",H_(Rr(t.editedTime))]}):f.jsx("span",{children:H_(Rr(t.timestamp))}),x?f.jsxs("button",{onClick:()=>{h(t.seenBy)},className:"flex gap-x-1 items-center",children:[f.jsx("img",{className:"w-4",src:Ae("eye")}),(L=t==null?void 0:t.seenBy)==null?void 0:L.length]}):""]})})]})}),b&&f.jsx(e1,{options:[I,R,{text:"Reply",icon:"reply",onClick:()=>o(t)}],message:t,chatId:l})]})})]})},lae=({senderId:t,onlineUser:e})=>{const{users:n}=v.useContext(X),[r,s]=v.useState(null),[i,o]=v.useState(!0);return Dn(t,n,s,o),i?f.jsxs(Ee,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Wt,{})]}):f.jsxs("div",{className:"size-10  relative",children:[f.jsx(qr,{name:r&&r.name,image:r&&r.image}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${e!=null&&e.isOnline?"bg-green-500":"bg-gray-500"}`})]})},cae=({senderId:t,isYourMessage:e})=>{const{users:n}=v.useContext(X),[r,s]=v.useState(null),[i,o]=v.useState(!0);return Dn(t,n,s,o),i?f.jsxs(Ee,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Wt,{})]}):f.jsx("p",{className:`font-bold mb-2 ${e?"text-right":"text-left"} `,children:r!=null&&r.name?r.name:"Unknown User"})},uae=({message:t,setViewingImage:e})=>{const{users:n,theme:r}=v.useContext(X),{senderId:s,content:i,image:o}=t.reply,[a,l]=v.useState(!1),[c,u]=v.useState(null);return Dn(s,n,u,()=>{}),f.jsxs("div",{className:`mb-1 border-l-4 p-1 rounded-md border-l-green-500  ${r==="light"?"bg-green-200":"bg-green-300"}`,children:[f.jsx("p",{className:"font-bold ",children:c==null?void 0:c.name}),i&&f.jsxs("p",{className:"w-full max-w-full break-words",children:[a?i:ra(i,25),i.length>=25&&f.jsx("span",{onClick:()=>{l(!a)},className:"font-bold text-blue-400 cursor-pointer",children:a?" see less":" see more"})]}),o&&f.jsx("img",{onClick:()=>{e(o)},className:"cursor-pointer border mt-1 mb-1 rounded-md border-slate-200 overflow-hidden w-[200px] min-h-[100px]",alt:o.name,src:o.URL})]})},HN=({image:t,setViewingImage:e,postImage:n=!1})=>{const r=()=>{const s=(t==null?void 0:t.size)/1048576,i=(t==null?void 0:t.size)/1024;return s>1?`${s.toFixed(2)} MB`:isNaN(s)?null:`${i.toFixed(2)} kB`};return f.jsxs(xl,{open:t,onClose:()=>e(!1),children:[f.jsx(Ko,{direction:"row",justifyContent:"end",children:f.jsx(cr,{onClick:()=>{e(!1)},children:f.jsx(fr,{name:"close"})})}),t?f.jsxs("div",{className:"bg-white m-3 overflow-auto min-h-[200px] min-w-[200px] relative",children:[r()&&f.jsx("p",{className:"border border-gray-200 absolute right-1 bottom-1 bg-slate-300/70 p-1 rounded-lg font-bold ",children:r()}),f.jsx("img",{alt:t.name,className:"h-full ",src:n?t.imageURL:t.URL})]}):f.jsx("div",{className:"bg-white border border-slate-300 rounded-md",children:"Image not available."})]})},dae=({setIsRulesOpen:t,isRulesOpen:e,rules:n=["ရိုသေလေးစားမှုရှိပါ - Group ထဲတွင် ရှိသောသူများအားလုံးကို လေးစားရမည်။ မသင့်တော်သော စကားလုံးများ၊ အခြားသူများကို ထိခိုက်စေနိုင်သော စကားလုံးများကို မပြောရ။","No spamming - တူညီသော မက်ဆေ့ချ်များ၊ လင့်ခ် (link) များနှင့်၊ အမြောက်အများသော emoji များ ပို့ခြင်းကို မပြုရ။","Privacy ရှိပါ - တစ်စုံတစ်ဦး၏ ကိုယ်ရေးကိုယ်တာ အချက်အလက်များကို ခွင့်ပြုချက်မရှိဘဲ မမျှဝေရ။ လူတိုင်း၏ ကိုယ်ရေးကိုယ်တာကို လေးစားပါ။","အထက်ပါ စည်းမျဉ်းစည်းကမ်းများ (rules) ထဲမှ တစ်ခုခုကို ချိုးဖောက်ပါက Group ထဲမှ ရက်အကန့်အသတ်ဖြင့် သော်လည်းကောင်း၊ ရာသတ်ပန် သော်လည်းကောင်း ထုတ်ပယ်မည် (သို့မဟုတ်) ထိုက်တန်သော အပြစ်တစ်ခုခုကို ခံယူရမည်။"]})=>f.jsx(xl,{open:e,onClose:()=>t(!1),children:n?f.jsxs("div",{className:"p-2 max-h-[80%] overflow-auto",children:[f.jsx("p",{className:"font-bold mb-1",children:"Group Rules"}),n.map((r,s)=>f.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[f.jsx("p",{className:"size-10 flex items-center justify-center rounded-full bg-gray-300",children:s+1}),f.jsx("p",{className:"flex-1",children:r})]},`${s}-${r}`))]}):f.jsx("div",{className:"p-2",children:"No rules"})}),qN=()=>{const t="Typing...",[e,n]=v.useState("");let r=0;const[s,i]=v.useState(0);return v.useEffect(()=>(r=setInterval(()=>{s!==t.length?(n(e+t[s]),i(s+1)):(i(0),n(""))},250),()=>{clearInterval(r)}),[e,s]),f.jsx("p",{children:e.length===0?"T":e})},hae=({typingUsers:t,viewingOldMessages:e,isUserOnline:n})=>{const{users:r,theme:s,userId:i}=v.useContext(X);if(v.useEffect(()=>{!e&&t.length!==0&&zd()},[t]),t.length!==0)return f.jsx("div",{className:"",children:f.jsx("div",{className:"grid gap-y-1",children:t.sort((o,a)=>js(o,a,"timestamp","older")).map(o=>{const a=n(o.uid),l=i===o.uid;return f.jsxs("div",{className:`flex mb-2 gap-x-2 ${l?"flex-row-reverse":""} `,children:[f.jsx(fae,{typingUser:o,onlineUser:a}),f.jsxs("div",{className:`grid gap-y-1 whitespace-pre-wrap ${s==="light"?"":"text-white"}`,children:[f.jsx(pae,{isYourMessage:l,typingUser:o}),f.jsx("div",{className:`flex items-start gap-x-1 ${l?"flex-row-reverse justify-start":""}`,children:f.jsx("div",{children:f.jsx("p",{className:`max-w-[250px] w-20 break-words whitespace-pre-wrap text-wrap rounded-[10px] border border-slate-200 p-2  ${s==="light"?`${l?"rounded-tr-none bg-blue-300":"bg-white rounded-tl-none"}`:`${l?"rounded-tr-none bg-blue-300":"bg-white rounded-tl-none text-black"}`}`,children:f.jsx(qN,{})})})})]})]},`typingUsers-${o.uid}`)})})})},fae=({typingUser:t,onlineUser:e})=>{const{users:n}=v.useContext(X),[r,s]=v.useState(null),[i,o]=v.useState(!0);return Dn(t.uid,n,s,o),i?f.jsxs(Ee,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Wt,{})]}):f.jsxs("div",{className:"size-10 relative",children:[f.jsx(qr,{name:r==null?void 0:r.name,image:r==null?void 0:r.image}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${e!=null&&e.isOnline?"bg-green-500":"bg-gray-500"}`})]})},pae=({typingUser:t,isYourMessage:e})=>{const{users:n}=v.useContext(X),[r,s]=v.useState(null),[i,o]=v.useState(!0);return Dn(t.uid,n,s,o),i?f.jsxs(Ee,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Wt,{})]}):f.jsx("p",{className:`font-bold ${e?"text-right":"text-left"} `,children:r==null?void 0:r.name})},mae=["January","February","March","April","May","June","July","August","September","October","November","December"],gae=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function GN(t){const e=new Date(t),n=new Date,r=e.getFullYear(),s=e.getMonth(),i=e.getDate(),o=gae[e.getDay()],a=n.getDay()===e.getDay()&&n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear(),l=!a&&e.getDay()===n.getDay()-1;return a?"Today":l?"Yesterday":`${o}, ${mae[s]} ${i}, ${r}`}const yae=({seenUsers:t,setSeenUsers:e})=>{v.useContext(X);const n=()=>{const r=t.reduce((s,i)=>{const o=new Date(Rr(i.timestamp)),a=o.getFullYear(),l=o.getMonth(),c=o.getDate(),u=`${a}-${l+1}-${c}`;return s[u]||(s[u]={date:u,users:[]}),s[u].users.push(i),s},{});return Object.values(r)};return f.jsx(xl,{anchor:"bottom",open:t,onClose:()=>e(!1),children:f.jsxs("div",{className:" md:w-[450px] lg:w-[500px]  bg-slate-200 rounded-l-md rounded-r-md ",children:[f.jsx("div",{className:"p-2 rounded-md bg-slate-50 pl-4 text-lg font-bold",children:"Seen by"}),f.jsx("div",{className:"flex flex-col p-2 min-h-full max-h-full overflow-y-auto",children:n().map(r=>{const s=new Date(r.date).getTime(),i=GN(s);return f.jsxs(Ee,{children:[f.jsx(Ee,{className:"mb-1",children:i}),r.users.sort((o,a)=>js(o,a,"timestamp","older")).map((o,a)=>f.jsx(vae,{seenPerson:o},`seenUser-${o.uid}-${a}`))]},i+"seenUsers")})})]})})},vae=({seenPerson:t})=>{var o;const{users:e}=v.useContext(X),[n,r]=v.useState(null),[s,i]=v.useState(!0);return Dn(t.uid,e,r,i),s?f.jsxs(Ee,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Wt,{})]}):f.jsxs("div",{className:"flex p-2 justify-between items-center w-full hover:bg-slate-300",children:[f.jsxs("div",{className:"flex items-center gap-x-1",children:[f.jsx(qr,{image:n==null?void 0:n.image,name:n==null?void 0:n.name,size:"size-9"}),f.jsx("p",{children:((o=n==null?void 0:n.name)==null?void 0:o.length)>20?ra(n==null?void 0:n.name,20):n==null?void 0:n.name})]}),f.jsx("p",{className:"ml-[4px]",children:H_(t.timestamp)})]})},Iy=15,_ae=()=>{const{userId:t}=v.useContext(X),{chatId:e}=Xh(),[n,r]=v.useState(null),[s,i]=v.useState(!0);Ne(be,"chats");const o=ge(be,"chats",e);return v.useEffect(()=>{const a=()=>{try{return cs(o,d=>{d&&r({...d.data(),id:d.id})})}catch(u){console.log(u.message)}};(async()=>{try{const u=Ne(o,"members"),d=hr(u,Vg("uid","==",t)),h=await Fi(d);i(!h.empty)}catch(u){console.log(u.message)}})();const c=a();return()=>{c&&c()}},[e]),s?n?f.jsx(wae,{chatId:e,currentChat:n}):f.jsxs(Ee,{className:"m-2",children:[f.jsx("div",{children:"Loading chat..."}),f.jsx(Wt,{})]}):f.jsx(Ee,{className:"m-2",children:"The requested chat room is not available."})},wae=({chatId:t,currentChat:e})=>{const[n,r]=v.useState([]),{theme:s,userData:i,users:o,newMessages:a,userId:l,setHeaderTitle:c}=v.useContext(X),[u,d]=v.useState(""),[h,p]=v.useState("chat"),[m,y]=v.useState(null),E=ge(be,"chats",t),g=Ne(E,"messages"),[w,_]=v.useState(null),[x,S]=v.useState(!1),[b,T]=v.useState(!1),[C,A]=v.useState(null),[I,R]=v.useState(null),[N,M]=v.useState(null),[L,O]=v.useState(!1),P=Ne(E,"typingUsers"),k=ge(P,l),[D,$]=v.useState(!1);let F=0;const q=Ne(E,"onlineUsers"),W=ge(q,l),[z,B]=v.useState([]),[V,G]=v.useState(null),[ne,re]=v.useState([]),[te,fe]=v.useState([]),[ae,se]=v.useState(),[he,Ie]=v.useState(null),[ve,ht]=v.useState(!1),[De,Le]=v.useState([]),[Je,et]=v.useState(null);v.useEffect(()=>{(async()=>{const ze=ge(be,"chats",e.id),st=Ne(ze,"members");await Pi(st,et)})()},[e]),v.useEffect(()=>{c((e==null?void 0:e.name)||"SEA - Chat ")},[]),v.useEffect(()=>{const ze=(()=>{try{return cs(P,Ot=>{const er=Ot.docs.map($n=>({...$n.data()}));r(er)})}catch(st){return console.log(st),()=>{}}})();return()=>{ze()}},[]),v.useEffect(()=>(u.trim()&&$(!0),F=setTimeout(()=>{$(!1)},3e3),()=>{$(!1),clearTimeout(F)}),[u]);const Te=async()=>{await Va(k,{uid:l,timestamp:Gn()})},_t=async()=>{const me=ge(P,l);await ko(me)};v.useEffect(()=>(D?Te():_t(),()=>{_t()}),[D]);const $e=()=>{let me;try{if(!ve){const ze=Ne(ge(be,"chats",t),"messages");let st=hr(ze,ja("timestamp","desc"),Fa(Iy));return me=cs(st,Ot=>{_e(Ot)}),()=>{me&&me()}}}catch(ze){console.log(ze.message)}};v.useEffect(()=>$e(),[ve,t]);const _e=me=>{me.docs.length>0&&(se(me.docs[0]),Ie(me.docs[me.docs.length-1]));const ze=me.docs.map(st=>({id:st.id,...st.data()}));re(ze)},yt=async()=>{if(!he)return;const me=hr(g,ja("timestamp","desc"),Bg(he),Fa(Iy)),ze=await Fi(me);_e(ze)},on=async()=>{if(!he)return;const me=hr(g,ja("timestamp","asc"),ene(he),Fa(Iy)),ze=await Fi(me);_e(ze)};v.useEffect(()=>{const ze=(()=>{try{return cs(q,Ot=>{const er=Ot.docs.map($n=>({...$n.data()}));B(er)})}catch(st){return console.log(st),()=>{}}})();return()=>{ze()}},[]);const On=async()=>{await Va(W,{uid:l,lastSeen:Gn()})},Ce=async()=>{const me=ge(q,l);await ko(me)};v.useEffect(()=>(On(),window.addEventListener("beforeunload",Ce),()=>{window.addEventListener("beforeunload",Ce),Ce()}),[]),Dn(I==null?void 0:I.senderId,o,M,()=>{},[I]);const pe=async me=>{const ze=new Date().getTime(),st=`chats/${t}/${ze}-${i.name}-${me.name}`,Ot=go(Aa,st);S(!0),T(!0);const er=await ln(me,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),$n=await Vh(Ot,er),Kr=await Uh($n.ref),Fs={name:me.name,path:st,URL:Kr,size:er.size};_(Fs),S(!1),T(!1)},vt=async me=>{const ze=go(Aa,me);await P_(ze),_(null)},Yt=async()=>{const me=ge(Ne(be,"newMessages"),t);await Va(me,{seenBy:A_(l)})};v.useEffect(()=>{(async()=>{const ze=ge(Ne(be,"newMessages"),t);Jg(a,t)||await or(ze,{seenBy:A_(l)})})()},[ne]);const Xt=async()=>{try{const me={senderId:l,content:u.trim(),timestamp:Gn(),image:w||null,reply:I||null,seenBy:[]};T(!0),await Uo(g,me),Yt(),d(""),_(null),zd(),T(!1),R(null),M(null),$(!1)}catch(me){console.log(me.message)}},ce=async()=>{try{const me=ge(g,m.id),ze={senderId:l,content:u.trim(),editedTime:Gn(),image:w||null,reply:I||null};T(!0),await or(me,ze),Yt(),ce&&d(""),_(null),y(null),T(!1),R(null),M(null)}catch(me){console.log(me.message)}},je=async(me,ze)=>{const st=ge(g,me.id);await ko(st),ve&&yt()},ft=me=>{let ze=!1,st=null;return z.forEach(Ot=>{Ot.uid===me&&(ze=!0,st=Ot)}),{isOnline:ze,...st}};v.useEffect(()=>{fe((()=>{if(ne.length>0){const ze=ne.reverse().reduce((st,Ot)=>{const er=new Date(Rr(Ot.timestamp)),$n=er.getFullYear(),Kr=er.getMonth(),Fs=er.getDate(),Vs=`${$n}-${Kr+1}-${Fs}`;return st[Vs]||(st[Vs]={date:Vs,messages:[]}),st[Vs].messages.push(Ot),st},{});return Object.values(ze)}else return})())},[ne]);const Gr=()=>{switch(h){case"chat":return f.jsxs("div",{className:"",children:[f.jsx(xae,{}),C&&f.jsx(HN,{image:C,setViewingImage:A}),L&&f.jsx(dae,{isRulesOpen:L,setIsRulesOpen:O,rules:e==null?void 0:e.rules}),V&&f.jsx(yae,{seenUsers:V,setSeenUsers:G}),f.jsx(WN,{pageName:"info",setSubPage:p,currentChat:e,memberCounts:Je}),f.jsxs("div",{id:"message-container",className:"p-2 gap-y-3 mb-[55px]",children:[f.jsx("div",{className:"flex justify-center mb-2",children:f.jsx(He,{sx:{textTransform:"capitalize",mt:1},variant:"text",size:"small",onClick:()=>{yt(),zd(),ht(!0)},children:"Older messages"})}),f.jsx(Ee,{children:te==null?void 0:te.map(me=>{const ze=new Date(me.date).getTime(),st=GN(ze);return f.jsxs(Ee,{children:[f.jsx(Ee,{className:"z-30 sticky top-[71px] bg-white/50 backdrop-blur-md  p-2 rounded-md",children:st}),me.messages.map((Ot,er)=>f.jsx(aae,{editMessage:ce,setEditMessageObject:y,deleteMessage:je,message:Ot,setMessage:d,setImageObject:_,setViewingImage:A,setReplyMessage:R,isUserOnline:ft,chatId:t,messagesRef:g,messageIndex:er,viewingOldMessages:ve,setSeenUsers:G,messages:ne},`${er}-${Ot.id}`))]},me.date)})}),ve?f.jsxs("div",{className:"flex gap-x-1 justify-center mt-1 mb-2",children:[f.jsx(He,{size:"small",sx:{textTransform:"capitalize"},onClick:()=>{on()},children:"Newer messages"}),f.jsx(He,{size:"small",variant:"text",sx:{textTransform:"capitalize"},onClick:()=>{$e(),ht(!1),zd()},children:"Latest messages"})]}):"",f.jsx(hae,{typingUsers:n,viewingOldMessages:ve,isUserOnline:ft})]}),f.jsxs("div",{className:`fixed bottom-0 right-0 left-0 p-2 min-h-[80px] flex flex-col items-center  ${s==="light"?" bg-slate-50":" bg-slate-500 text-white"}`,children:[f.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 pt-0 md:w-2/3 lg:w-1/2",children:f.jsx("button",{onClick:()=>O(!0),className:"text-sm underline text-blue-300",children:"Group Rules"})}),m&&f.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[f.jsx("p",{children:"Editing a message"}),f.jsx("button",{onClick:()=>{y(null),d(""),_(null),R(null),M(null)},className:" rounded-full shadow-sm p-1",children:f.jsx("img",{className:"w-6",src:Ae("falseIcon")})})]}),I&&f.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("p",{className:"font-bold",children:["Reply to ",N==null?void 0:N.name]}),f.jsx("p",{children:ra(I==null?void 0:I.content,25)})]}),f.jsx("button",{onClick:()=>{R(null),M(null)},className:"rounded-full shadow-sm p-1",children:f.jsx("img",{className:"w-6",src:Ae("falseIcon")})})]}),x&&f.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:f.jsx("p",{children:"Uploading image..."})}),w&&f.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[f.jsxs("div",{className:"flex flex-1 items-center gap-x-1",children:[f.jsx("img",{src:w.URL,className:"h-10 rounded-sm"}),f.jsx("p",{children:w.name})]}),f.jsx("button",{onClick:()=>{vt(w.path),_(null)},className:"rounded-full shadow-sm p-1",children:f.jsx("img",{className:"w-6",src:Ae("falseIcon")})})]}),f.jsxs("div",{className:`border shadow-sm w-full md:w-2/3 lg:w-1/2 p-1 rounded-[12px] flex items-center justify-between ${s==="light"?"border-slate-200":"border-slate-600"}`,children:[f.jsx("input",{id:"imageFile",className:"hidden",type:"file",onChange:me=>{pe(me.target.files[0])},accept:"image/*"}),f.jsx("label",{htmlFor:"imageFile",className:"p-1 cursor-pointer rounded-md",children:f.jsx("img",{className:"w-7",src:Ae("image")})}),f.jsx("textarea",{onChange:me=>d(me.target.value),value:u,className:`h-auto resize-none outline-none flex-1 p-1 pl-1 pr-1 rounded-md mr-2 ${s==="light"?"bg-transparent":"bg-transparent text-white"}`,placeholder:"Type message..."}),f.jsx("button",{onClick:()=>{!b&&(u.trim()||w)&&(m?ce():Xt())},children:f.jsx("img",{className:"w-10",src:Ae(b?"sendingLetter":"sendLetter")})})]})]})]});case"info":return f.jsx(f.Fragment,{children:f.jsx(nae,{setSubPage:p,currentChat:e,onlineUsers:z,memberCounts:Je,setMemberCounts:et,members:De,setMembers:Le})})}};return f.jsx(f.Fragment,{children:Gr()})},xae=()=>{$f("chat-page"),jf("chat-page")},Eae=({isCreating:t,setIsCreating:e})=>{const[n,r]=v.useState(""),{userId:s}=v.useContext(X),i=async()=>{if(!n.trim())return;const o=Ne(be,"chats"),a=await Uo(o,{name:n,image:null,lastMessage:{}}),l=Ne(ge(o,a.id),"members");await Uo(l,{uid:s,joinedAt:Gn()})};return f.jsx(xl,{open:t,onClose:()=>e(!1),children:f.jsxs(Ee,{className:"m-5 ",children:[f.jsx("div",{className:"mb-2 font-bold",children:"Group Name"}),f.jsxs(Ko,{direction:"row",gap:1,children:[f.jsx(vi,{size:"small",placeholder:"Enter a name",value:n,onChange:o=>r(o.target.value)}),f.jsx(He,{onClick:()=>{n.trim()&&(i(),e(!1))},variant:"outlined",size:"small",children:"Create"})]})]})})};var bt="-ms-",Wd="-moz-",it="-webkit-",KN="comm",t1="rule",N5="decl",bae="@import",QN="@keyframes",Cae="@layer",YN=Math.abs,L5=String.fromCharCode,q_=Object.assign;function Iae(t,e){return mn(t,0)^45?(((e<<2^mn(t,0))<<2^mn(t,1))<<2^mn(t,2))<<2^mn(t,3):0}function XN(t){return t.trim()}function mi(t,e){return(t=e.exec(t))?t[0]:t}function Me(t,e,n){return t.replace(e,n)}function lp(t,e,n){return t.indexOf(e,n)}function mn(t,e){return t.charCodeAt(e)|0}function tu(t,e,n){return t.slice(e,n)}function Gs(t){return t.length}function JN(t){return t.length}function _d(t,e){return e.push(t),t}function Tae(t,e){return t.map(e).join("")}function tT(t,e){return t.filter(function(n){return!mi(n,e)})}var n1=1,nu=1,ZN=0,ms=0,en=0,Au="";function r1(t,e,n,r,s,i,o,a){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:n1,column:nu,length:o,return:"",siblings:a}}function Zi(t,e){return q_(r1("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Hl(t){for(;t.root;)t=Zi(t.root,{children:[t]});_d(t,t.siblings)}function Sae(){return en}function Rae(){return en=ms>0?mn(Au,--ms):0,nu--,en===10&&(nu=1,n1--),en}function Ls(){return en=ms<ZN?mn(Au,ms++):0,nu++,en===10&&(nu=1,n1++),en}function za(){return mn(Au,ms)}function cp(){return ms}function s1(t,e){return tu(Au,t,e)}function G_(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Aae(t){return n1=nu=1,ZN=Gs(Au=t),ms=0,[]}function kae(t){return Au="",t}function Ty(t){return XN(s1(ms-1,K_(t===91?t+2:t===40?t+1:t)))}function Pae(t){for(;(en=za())&&en<33;)Ls();return G_(t)>2||G_(en)>3?"":" "}function Nae(t,e){for(;--e&&Ls()&&!(en<48||en>102||en>57&&en<65||en>70&&en<97););return s1(t,cp()+(e<6&&za()==32&&Ls()==32))}function K_(t){for(;Ls();)switch(en){case t:return ms;case 34:case 39:t!==34&&t!==39&&K_(en);break;case 40:t===41&&K_(t);break;case 92:Ls();break}return ms}function Lae(t,e){for(;Ls()&&t+en!==57;)if(t+en===84&&za()===47)break;return"/*"+s1(e,ms-1)+"*"+L5(t===47?t:Ls())}function Mae(t){for(;!G_(za());)Ls();return s1(t,ms)}function Dae(t){return kae(up("",null,null,null,[""],t=Aae(t),0,[0],t))}function up(t,e,n,r,s,i,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,m=0,y=1,E=1,g=1,w=0,_="",x=s,S=i,b=r,T=_;E;)switch(m=w,w=Ls()){case 40:if(m!=108&&mn(T,d-1)==58){lp(T+=Me(Ty(w),"&","&\f"),"&\f",YN(c?a[c-1]:0))!=-1&&(g=-1);break}case 34:case 39:case 91:T+=Ty(w);break;case 9:case 10:case 13:case 32:T+=Pae(m);break;case 92:T+=Nae(cp()-1,7);continue;case 47:switch(za()){case 42:case 47:_d(Oae(Lae(Ls(),cp()),e,n,l),l);break;default:T+="/"}break;case 123*y:a[c++]=Gs(T)*g;case 125*y:case 59:case 0:switch(w){case 0:case 125:E=0;case 59+u:g==-1&&(T=Me(T,/\f/g,"")),p>0&&Gs(T)-d&&_d(p>32?rT(T+";",r,n,d-1,l):rT(Me(T," ","")+";",r,n,d-2,l),l);break;case 59:T+=";";default:if(_d(b=nT(T,e,n,c,u,s,a,_,x=[],S=[],d,i),i),w===123)if(u===0)up(T,e,b,b,x,i,d,a,S);else switch(h===99&&mn(T,3)===110?100:h){case 100:case 108:case 109:case 115:up(t,b,b,r&&_d(nT(t,b,b,0,0,s,a,_,s,x=[],d,S),S),s,S,d,a,r?x:S);break;default:up(T,b,b,b,[""],S,0,a,S)}}c=u=p=0,y=g=1,_=T="",d=o;break;case 58:d=1+Gs(T),p=m;default:if(y<1){if(w==123)--y;else if(w==125&&y++==0&&Rae()==125)continue}switch(T+=L5(w),w*y){case 38:g=u>0?1:(T+="\f",-1);break;case 44:a[c++]=(Gs(T)-1)*g,g=1;break;case 64:za()===45&&(T+=Ty(Ls())),h=za(),u=d=Gs(_=T+=Mae(cp())),w++;break;case 45:m===45&&Gs(T)==2&&(y=0)}}return i}function nT(t,e,n,r,s,i,o,a,l,c,u,d){for(var h=s-1,p=s===0?i:[""],m=JN(p),y=0,E=0,g=0;y<r;++y)for(var w=0,_=tu(t,h+1,h=YN(E=o[y])),x=t;w<m;++w)(x=XN(E>0?p[w]+" "+_:Me(_,/&\f/g,p[w])))&&(l[g++]=x);return r1(t,e,n,s===0?t1:a,l,c,u,d)}function Oae(t,e,n,r){return r1(t,e,n,KN,L5(Sae()),tu(t,2,-2),0,r)}function rT(t,e,n,r,s){return r1(t,e,n,N5,tu(t,0,r),tu(t,r+1,-1),r,s)}function e7(t,e,n){switch(Iae(t,e)){case 5103:return it+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return it+t+t;case 4789:return Wd+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return it+t+Wd+t+bt+t+t;case 5936:switch(mn(t,e+11)){case 114:return it+t+bt+Me(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return it+t+bt+Me(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return it+t+bt+Me(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return it+t+bt+t+t;case 6165:return it+t+bt+"flex-"+t+t;case 5187:return it+t+Me(t,/(\w+).+(:[^]+)/,it+"box-$1$2"+bt+"flex-$1$2")+t;case 5443:return it+t+bt+"flex-item-"+Me(t,/flex-|-self/g,"")+(mi(t,/flex-|baseline/)?"":bt+"grid-row-"+Me(t,/flex-|-self/g,""))+t;case 4675:return it+t+bt+"flex-line-pack"+Me(t,/align-content|flex-|-self/g,"")+t;case 5548:return it+t+bt+Me(t,"shrink","negative")+t;case 5292:return it+t+bt+Me(t,"basis","preferred-size")+t;case 6060:return it+"box-"+Me(t,"-grow","")+it+t+bt+Me(t,"grow","positive")+t;case 4554:return it+Me(t,/([^-])(transform)/g,"$1"+it+"$2")+t;case 6187:return Me(Me(Me(t,/(zoom-|grab)/,it+"$1"),/(image-set)/,it+"$1"),t,"")+t;case 5495:case 3959:return Me(t,/(image-set\([^]*)/,it+"$1$`$1");case 4968:return Me(Me(t,/(.+:)(flex-)?(.*)/,it+"box-pack:$3"+bt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+it+t+t;case 4200:if(!mi(t,/flex-|baseline/))return bt+"grid-column-align"+tu(t,e)+t;break;case 2592:case 3360:return bt+Me(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,s){return e=s,mi(r.props,/grid-\w+-end/)})?~lp(t+(n=n[e].value),"span",0)?t:bt+Me(t,"-start","")+t+bt+"grid-row-span:"+(~lp(n,"span",0)?mi(n,/\d+/):+mi(n,/\d+/)-+mi(t,/\d+/))+";":bt+Me(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return mi(r.props,/grid-\w+-start/)})?t:bt+Me(Me(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Me(t,/(.+)-inline(.+)/,it+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Gs(t)-1-e>6)switch(mn(t,e+1)){case 109:if(mn(t,e+4)!==45)break;case 102:return Me(t,/(.+:)(.+)-([^]+)/,"$1"+it+"$2-$3$1"+Wd+(mn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~lp(t,"stretch",0)?e7(Me(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Me(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,s,i,o,a,l,c){return bt+s+":"+i+c+(o?bt+s+"-span:"+(a?l:+l-+i)+c:"")+t});case 4949:if(mn(t,e+6)===121)return Me(t,":",":"+it)+t;break;case 6444:switch(mn(t,mn(t,14)===45?18:11)){case 120:return Me(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+it+(mn(t,14)===45?"inline-":"")+"box$3$1"+it+"$2$3$1"+bt+"$2box$3")+t;case 100:return Me(t,":",":"+bt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Me(t,"scroll-","scroll-snap-")+t}return t}function L2(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function $ae(t,e,n,r){switch(t.type){case Cae:if(t.children.length)break;case bae:case N5:return t.return=t.return||t.value;case KN:return"";case QN:return t.return=t.value+"{"+L2(t.children,r)+"}";case t1:if(!Gs(t.value=t.props.join(",")))return""}return Gs(n=L2(t.children,r))?t.return=t.value+"{"+n+"}":""}function jae(t){var e=JN(t);return function(n,r,s,i){for(var o="",a=0;a<e;a++)o+=t[a](n,r,s,i)||"";return o}}function Fae(t){return function(e){e.root||(e=e.return)&&t(e)}}function Vae(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case N5:t.return=e7(t.value,t.length,n);return;case QN:return L2([Zi(t,{value:Me(t.value,"@","@"+it)})],r);case t1:if(t.length)return Tae(n=t.props,function(s){switch(mi(s,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Hl(Zi(t,{props:[Me(s,/:(read-\w+)/,":"+Wd+"$1")]})),Hl(Zi(t,{props:[s]})),q_(t,{props:tT(n,r)});break;case"::placeholder":Hl(Zi(t,{props:[Me(s,/:(plac\w+)/,":"+it+"input-$1")]})),Hl(Zi(t,{props:[Me(s,/:(plac\w+)/,":"+Wd+"$1")]})),Hl(Zi(t,{props:[Me(s,/:(plac\w+)/,bt+"input-$1")]})),Hl(Zi(t,{props:[s]})),q_(t,{props:tT(n,r)});break}return""})}}var kr={},ru=typeof process<"u"&&kr!==void 0&&(kr.REACT_APP_SC_ATTR||kr.SC_ATTR)||"data-styled",t7="active",n7="data-styled-version",i1="6.1.11",M5=`/*!sc*/
`,D5=typeof window<"u"&&"HTMLElement"in window,Uae=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&kr!==void 0&&kr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&kr.REACT_APP_SC_DISABLE_SPEEDY!==""?kr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&kr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&kr!==void 0&&kr.SC_DISABLE_SPEEDY!==void 0&&kr.SC_DISABLE_SPEEDY!==""&&kr.SC_DISABLE_SPEEDY!=="false"&&kr.SC_DISABLE_SPEEDY),o1=Object.freeze([]),su=Object.freeze({});function Bae(t,e,n){return n===void 0&&(n=su),t.theme!==n.theme&&t.theme||e||n.theme}var r7=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),zae=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Wae=/(^-|-$)/g;function sT(t){return t.replace(zae,"-").replace(Wae,"")}var Hae=/(a)(d)/gi,R0=52,iT=function(t){return String.fromCharCode(t+(t>25?39:97))};function Q_(t){var e,n="";for(e=Math.abs(t);e>R0;e=e/R0|0)n=iT(e%R0)+n;return(iT(e%R0)+n).replace(Hae,"$1-$2")}var Sy,s7=5381,pc=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},i7=function(t){return pc(s7,t)};function o7(t){return Q_(i7(t)>>>0)}function qae(t){return t.displayName||t.name||"Component"}function Ry(t){return typeof t=="string"&&!0}var a7=typeof Symbol=="function"&&Symbol.for,l7=a7?Symbol.for("react.memo"):60115,Gae=a7?Symbol.for("react.forward_ref"):60112,Kae={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Qae={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},c7={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Yae=((Sy={})[Gae]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Sy[l7]=c7,Sy);function oT(t){return("type"in(e=t)&&e.type.$$typeof)===l7?c7:"$$typeof"in t?Yae[t.$$typeof]:Kae;var e}var Xae=Object.defineProperty,Jae=Object.getOwnPropertyNames,aT=Object.getOwnPropertySymbols,Zae=Object.getOwnPropertyDescriptor,ele=Object.getPrototypeOf,lT=Object.prototype;function u7(t,e,n){if(typeof e!="string"){if(lT){var r=ele(e);r&&r!==lT&&u7(t,r,n)}var s=Jae(e);aT&&(s=s.concat(aT(e)));for(var i=oT(t),o=oT(e),a=0;a<s.length;++a){var l=s[a];if(!(l in Qae||n&&n[l]||o&&l in o||i&&l in i)){var c=Zae(e,l);try{Xae(t,l,c)}catch{}}}}return t}function iu(t){return typeof t=="function"}function O5(t){return typeof t=="object"&&"styledComponentId"in t}function Pa(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Y_(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function Wh(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function X_(t,e,n){if(n===void 0&&(n=!1),!n&&!Wh(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=X_(t[r],e[r]);else if(Wh(e))for(var r in e)t[r]=X_(t[r],e[r]);return t}function $5(t,e){Object.defineProperty(t,"toString",{value:e})}function Ff(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var tle=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,s=r.length,i=s;e>=i;)if((i<<=1)<0)throw Ff(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var o=s;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),s=r+n;this.groupSizes[e]=0;for(var i=r;i<s;i++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],s=this.indexOfGroup(e),i=s+r,o=s;o<i;o++)n+="".concat(this.tag.getRule(o)).concat(M5);return n},t}(),dp=new Map,M2=new Map,hp=1,A0=function(t){if(dp.has(t))return dp.get(t);for(;M2.has(hp);)hp++;var e=hp++;return dp.set(t,e),M2.set(e,t),e},nle=function(t,e){hp=e+1,dp.set(t,e),M2.set(e,t)},rle="style[".concat(ru,"][").concat(n7,'="').concat(i1,'"]'),sle=new RegExp("^".concat(ru,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ile=function(t,e,n){for(var r,s=n.split(","),i=0,o=s.length;i<o;i++)(r=s[i])&&t.registerName(e,r)},ole=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(M5),s=[],i=0,o=r.length;i<o;i++){var a=r[i].trim();if(a){var l=a.match(sle);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(nle(u,c),ile(t,u,l[3]),t.getTag().insertRules(c,s)),s.length=0}else s.push(a)}}};function ale(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var d7=function(t){var e=document.head,n=t||e,r=document.createElement("style"),s=function(a){var l=Array.from(a.querySelectorAll("style[".concat(ru,"]")));return l[l.length-1]}(n),i=s!==void 0?s.nextSibling:null;r.setAttribute(ru,t7),r.setAttribute(n7,i1);var o=ale();return o&&r.setAttribute("nonce",o),n.insertBefore(r,i),r},lle=function(){function t(e){this.element=d7(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,s=0,i=r.length;s<i;s++){var o=r[s];if(o.ownerNode===n)return o}throw Ff(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),cle=function(){function t(e){this.element=d7(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),ule=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),cT=D5,dle={isServer:!D5,useCSSOMInjection:!Uae},h7=function(){function t(e,n,r){e===void 0&&(e=su),n===void 0&&(n={});var s=this;this.options=wr(wr({},dle),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&D5&&cT&&(cT=!1,function(i){for(var o=document.querySelectorAll(rle),a=0,l=o.length;a<l;a++){var c=o[a];c&&c.getAttribute(ru)!==t7&&(ole(i,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),$5(this,function(){return function(i){for(var o=i.getTag(),a=o.length,l="",c=function(d){var h=function(g){return M2.get(g)}(d);if(h===void 0)return"continue";var p=i.names.get(h),m=o.getGroup(d);if(p===void 0||m.length===0)return"continue";var y="".concat(ru,".g").concat(d,'[id="').concat(h,'"]'),E="";p!==void 0&&p.forEach(function(g){g.length>0&&(E+="".concat(g,","))}),l+="".concat(m).concat(y,'{content:"').concat(E,'"}').concat(M5)},u=0;u<a;u++)c(u);return l}(s)})}return t.registerId=function(e){return A0(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(wr(wr({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,s=n.target;return n.isServer?new ule(s):r?new lle(s):new cle(s)}(this.options),new tle(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(A0(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(A0(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(A0(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),hle=/&/g,fle=/^\s*\/\/.*$/gm;function f7(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=f7(n.children,e)),n})}function ple(t){var e,n,r,s=t===void 0?su:t,i=s.options,o=i===void 0?su:i,a=s.plugins,l=a===void 0?o1:a,c=function(h,p,m){return m.startsWith(n)&&m.endsWith(n)&&m.replaceAll(n,"").length>0?".".concat(e):h},u=l.slice();u.push(function(h){h.type===t1&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(hle,n).replace(r,c))}),o.prefix&&u.push(Vae),u.push($ae);var d=function(h,p,m,y){p===void 0&&(p=""),m===void 0&&(m=""),y===void 0&&(y="&"),e=y,n=p,r=new RegExp("\\".concat(n,"\\b"),"g");var E=h.replace(fle,""),g=Dae(m||p?"".concat(m," ").concat(p," { ").concat(E," }"):E);o.namespace&&(g=f7(g,o.namespace));var w=[];return L2(g,jae(u.concat(Fae(function(_){return w.push(_)})))),w};return d.hash=l.length?l.reduce(function(h,p){return p.name||Ff(15),pc(h,p.name)},s7).toString():"",d}var mle=new h7,J_=ple(),p7=sr.createContext({shouldForwardProp:void 0,styleSheet:mle,stylis:J_});p7.Consumer;sr.createContext(void 0);function uT(){return v.useContext(p7)}var m7=function(){function t(e,n){var r=this;this.inject=function(s,i){i===void 0&&(i=J_);var o=r.name+i.hash;s.hasNameForId(r.id,o)||s.insertRules(r.id,o,i(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,$5(this,function(){throw Ff(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=J_),this.name+e.hash},t}(),gle=function(t){return t>="A"&&t<="Z"};function dT(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;gle(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var g7=function(t){return t==null||t===!1||t===""},y7=function(t){var e,n,r=[];for(var s in t){var i=t[s];t.hasOwnProperty(s)&&!g7(i)&&(Array.isArray(i)&&i.isCss||iu(i)?r.push("".concat(dT(s),":"),i,";"):Wh(i)?r.push.apply(r,wh(wh(["".concat(s," {")],y7(i),!1),["}"],!1)):r.push("".concat(dT(s),": ").concat((e=s,(n=i)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in Z6||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Wa(t,e,n,r){if(g7(t))return[];if(O5(t))return[".".concat(t.styledComponentId)];if(iu(t)){if(!iu(i=t)||i.prototype&&i.prototype.isReactComponent||!e)return[t];var s=t(e);return Wa(s,e,n,r)}var i;return t instanceof m7?n?(t.inject(n,r),[t.getName(r)]):[t]:Wh(t)?y7(t):Array.isArray(t)?Array.prototype.concat.apply(o1,t.map(function(o){return Wa(o,e,n,r)})):[t.toString()]}function yle(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(iu(n)&&!O5(n))return!1}return!0}var vle=i7(i1),_le=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&yle(e),this.componentId=n,this.baseHash=pc(vle,n),this.baseStyle=r,h7.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))s=Pa(s,this.staticRulesId);else{var i=Y_(Wa(this.rules,e,n,r)),o=Q_(pc(this.baseHash,i)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(i,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}s=Pa(s,o),this.staticRulesId=o}else{for(var l=pc(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var h=Y_(Wa(d,e,n,r));l=pc(l,h+u),c+=h}}if(c){var p=Q_(l>>>0);n.hasNameForId(this.componentId,p)||n.insertRules(this.componentId,p,r(c,".".concat(p),void 0,this.componentId)),s=Pa(s,p)}}return s},t}(),v7=sr.createContext(void 0);v7.Consumer;var Ay={};function wle(t,e,n){var r=O5(t),s=t,i=!Ry(t),o=e.attrs,a=o===void 0?o1:o,l=e.componentId,c=l===void 0?function(x,S){var b=typeof x!="string"?"sc":sT(x);Ay[b]=(Ay[b]||0)+1;var T="".concat(b,"-").concat(o7(i1+b+Ay[b]));return S?"".concat(S,"-").concat(T):T}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(x){return Ry(x)?"styled.".concat(x):"Styled(".concat(qae(x),")")}(t):u,h=e.displayName&&e.componentId?"".concat(sT(e.displayName),"-").concat(e.componentId):e.componentId||c,p=r&&s.attrs?s.attrs.concat(a).filter(Boolean):a,m=e.shouldForwardProp;if(r&&s.shouldForwardProp){var y=s.shouldForwardProp;if(e.shouldForwardProp){var E=e.shouldForwardProp;m=function(x,S){return y(x,S)&&E(x,S)}}else m=y}var g=new _le(n,h,r?s.componentStyle:void 0);function w(x,S){return function(b,T,C){var A=b.attrs,I=b.componentStyle,R=b.defaultProps,N=b.foldedComponentIds,M=b.styledComponentId,L=b.target,O=sr.useContext(v7),P=uT(),k=b.shouldForwardProp||P.shouldForwardProp,D=Bae(T,O,R)||su,$=function(V,G,ne){for(var re,te=wr(wr({},G),{className:void 0,theme:ne}),fe=0;fe<V.length;fe+=1){var ae=iu(re=V[fe])?re(te):re;for(var se in ae)te[se]=se==="className"?Pa(te[se],ae[se]):se==="style"?wr(wr({},te[se]),ae[se]):ae[se]}return G.className&&(te.className=Pa(te.className,G.className)),te}(A,T,D),F=$.as||L,q={};for(var W in $)$[W]===void 0||W[0]==="$"||W==="as"||W==="theme"&&$.theme===D||(W==="forwardedAs"?q.as=$.forwardedAs:k&&!k(W,F)||(q[W]=$[W]));var z=function(V,G){var ne=uT(),re=V.generateAndInjectStyles(G,ne.styleSheet,ne.stylis);return re}(I,$),B=Pa(N,M);return z&&(B+=" "+z),$.className&&(B+=" "+$.className),q[Ry(F)&&!r7.has(F)?"class":"className"]=B,q.ref=C,v.createElement(F,q)}(_,x,S)}w.displayName=d;var _=sr.forwardRef(w);return _.attrs=p,_.componentStyle=g,_.displayName=d,_.shouldForwardProp=m,_.foldedComponentIds=r?Pa(s.foldedComponentIds,s.styledComponentId):"",_.styledComponentId=h,_.target=r?s.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(x){this._foldedDefaultProps=r?function(S){for(var b=[],T=1;T<arguments.length;T++)b[T-1]=arguments[T];for(var C=0,A=b;C<A.length;C++)X_(S,A[C],!0);return S}({},s.defaultProps,x):x}}),$5(_,function(){return".".concat(_.styledComponentId)}),i&&u7(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function hT(t,e){for(var n=[t[0]],r=0,s=e.length;r<s;r+=1)n.push(e[r],t[r+1]);return n}var fT=function(t){return Object.assign(t,{isCss:!0})};function _7(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(iu(t)||Wh(t))return fT(Wa(hT(o1,wh([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Wa(r):fT(Wa(hT(r,e)))}function Z_(t,e,n){if(n===void 0&&(n=su),!e)throw Ff(1,e);var r=function(s){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return t(e,n,_7.apply(void 0,wh([s],i,!1)))};return r.attrs=function(s){return Z_(t,e,wr(wr({},n),{attrs:Array.prototype.concat(n.attrs,s).filter(Boolean)}))},r.withConfig=function(s){return Z_(t,e,wr(wr({},n),s))},r}var w7=function(t){return Z_(wle,t)},Pl=w7;r7.forEach(function(t){Pl[t]=w7(t)});function j5(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Y_(_7.apply(void 0,wh([t],e,!1))),s=o7(r);return new m7(s,r)}Pl.div`
  display: ${t=>t.$visible?"flex":"none"};
`;const Es=242.776657104492,xle=1.6,Ele=j5`
12.5% {
  stroke-dasharray: ${Es*.14}px, ${Es}px;
  stroke-dashoffset: -${Es*.11}px;
}
43.75% {
  stroke-dasharray: ${Es*.35}px, ${Es}px;
  stroke-dashoffset: -${Es*.35}px;
}
100% {
  stroke-dasharray: ${Es*.01}px, ${Es}px;
  stroke-dashoffset: -${Es*.99}px;
}
`;Pl.path`
  stroke-dasharray: ${Es*.01}px, ${Es};
  stroke-dashoffset: 0;
  animation: ${Ele} ${xle}s linear infinite;
`;const ble=j5`
to {
   transform: rotate(360deg);
 }
`;Pl.svg`
  animation: ${ble} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`;Pl.polyline`
  stroke-width: ${t=>t.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const Cle=j5`
to {
   stroke-dashoffset: 136;
 }
`;Pl.polygon`
  stroke-dasharray: 17;
  animation: ${Cle} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`;Pl.svg`
  transform-origin: 50% 65%;
`;const Ile=({chat:t,index:e,chats:n})=>{var y;const[r,s]=v.useState(null),{users:i,newMessages:o}=v.useContext(X),[a,l]=v.useState(null),[c,u]=v.useState(null),[d,h]=v.useState(!0),p=wn(),m=async()=>{const E=Ne(ge(Ne(be,"chats"),t.id),"messages");await Pi(E,s)};return v.useEffect(()=>{(()=>{const g=Ne(be,"chats"),w=Ne(ge(g,t.id),"messages"),_=hr(w,ja("timestamp","desc"),Fa(1));return cs(_,S=>{const b=S.docs.map(T=>({id:T.id,...T.data()}));try{l(b[0]),m()}catch(T){console.log(T.message)}})})(),m()},[]),Dn(a==null?void 0:a.senderId,i,u,h,[a]),f.jsxs(Ee,{className:`flex min-h-[100px] gap-x-[2px] items-center cursor-pointer p-1 relative hover:bg-slate-100 border-t ${e===0&&"border-t-0"} ${e===n.length-1&&"border-b"}  border-slate-200`,onClick:()=>p(`/app/chatroom/${t.id}`),children:[f.jsx(Ee,{className:"flex items-start h-full mt-3",children:f.jsx("img",{alt:t.name,src:((y=t.image)==null?void 0:y.URL)||"images/sea-logo.jpg",className:"size-[48px] rounded-[8px] object-center object-cover mr-1"})}),f.jsxs(Ee,{className:"grid items-start h-full",children:[f.jsxs(yn,{variant:"h6",children:[t.name,r?f.jsxs("div",{className:"mb-2 flex items-center rounded-md justify-start pr-1 font-[600]  min-h-6 min-w-6 text-sm top-0  text-slate-400 ",children:[r," messages"]}):""]}),f.jsxs(Ee,{container:!0,sx:{display:"grid"},children:[f.jsx(Ee,{item:!0,sx:{display:"flex",columnGap:"4px",alignItems:"center"},children:a&&c?f.jsxs(f.Fragment,{children:[f.jsx(qr,{size:"size-5",fontSize:"text-sm",name:c.name,image:c.image}),f.jsx(yn,{size:"small",fontWeight:"bold",variant:"caption",color:"textSecondary",children:c.name})]}):""}),a&&f.jsxs(Ee,{sx:{marginTop:"2px",display:"grid"},children:[f.jsx(yn,{size:"small",variant:"caption",color:"textSecondary",children:ra(a.content,30)}),a.image&&f.jsx("img",{alt:a.image.name,className:"w-12",src:a.image.URL}),f.jsxs(yn,{size:"small",variant:"caption",color:"textSecondary",children:[(a==null?void 0:a.editedTime)&&"edited ",N2(Rr(a!=null&&a.editedTime?a.editedTime:a.timestamp))]})]}),f.jsx(Tle,{chat:t})]})]}),!Jg(o,t.id)&&f.jsx("div",{className:"absolute shadow-md right-1 top-1 bg-red-500 size-4 rounded-full"})]})},Tle=({chat:t})=>{v.useContext(X);const e=ge(be,"chats",t.id),n=Ne(e,"typingUsers"),[r,s]=v.useState([]);if(v.useEffect(()=>{const o=(()=>{try{return cs(n,l=>{const c=l.docs.map(u=>({...u.data()}));s(c)})}catch(a){return console.log(a),()=>{}}})();return()=>{o()}},[]),r.length>0)return f.jsx("div",{children:r.sort((i,o)=>js(i,o,"timestamp","older")).map(i=>f.jsx(Sle,{typingUser:i},`typing-users-${i.uid}`))})},Sle=({typingUser:t})=>{const{users:e}=v.useContext(X),[n,r]=v.useState(null),[s,i]=v.useState();return Dn(t.uid,e,r,i),s?f.jsx(Wt,{}):f.jsxs("div",{className:"flex items-center gap-x-1 bg-slate-200 shadow-md rounded-md p-1",children:[f.jsx(qr,{size:"size-5",fontSize:"text-sm",name:n&&(n==null?void 0:n.name),image:n&&(n==null?void 0:n.image)}),f.jsx(qN,{})]},n&&n.uid)},Rle=({text:t})=>f.jsxs(Ee,{className:"m-5",children:[f.jsx("div",{children:t}),f.jsx(Wt,{})]}),Ale=()=>{const{setHeaderTitle:t,isLogin:e,chats:n,setChats:r,myChats:s,setMyChats:i}=v.useContext(X);Al("chats",r,e),v.useEffect(()=>{t("Chat Room")},[]);const o=()=>n?f.jsx(kle,{myChats:s,setMyChats:i}):f.jsx(Rle,{text:"Loading chat room..."});return f.jsxs(f.Fragment,{children:[f.jsx(_s,{}),o()]})},kle=({myChats:t,setMyChats:e})=>{const{chats:n,userData:r,userId:s}=v.useContext(X),[i,o]=v.useState(!1),a=async(l,c)=>{const u=Ne(be,"chats"),d=Ne(ge(u,l),"members"),h=hr(d,Vg("uid","==",c));return!(await Fi(h)).empty};return v.useEffect(()=>{(async()=>{const c=await Promise.all(n.map(async u=>await a(u.id,s)?u:null));e(c.filter(u=>u!==null))})()},[n]),f.jsxs(f.Fragment,{children:[f.jsx(Eae,{isCreating:i,setIsCreating:o}),f.jsxs("div",{className:"m-5 overflow-hidden grid border border-slate-200 rounded-md shadow-md ",children:[t.map((l,c)=>f.jsx(Ile,{chat:l,index:c,chats:n},l.id)),(r==null?void 0:r.isAdmin)&&f.jsx(Ee,{className:"m-2",children:f.jsx(He,{size:"small",onClick:()=>o(!0),endIcon:f.jsx("img",{className:"w-7",src:Ae("add")}),children:"Create group"})})]})]})},Ple=()=>{const{headerTitle:t,setIsLogIn:e,setUserId:n}=v.useContext(X),r=wn(),s=cu(),[i,o]=v.useState(s.pathname!=="/"?s.pathname:"/app");v.useEffect(()=>{document.title=t||"STAR EDUCATION ACADEMY"},[t]),v.useEffect(()=>{const a=bi.get("userId")||null;a?(e(!0),n(a),r(i)):r("/login")},[])},Nle=()=>{const{setHeaderTitle:t}=v.useContext(X),e={text:"About SEA",image:"about",answer:`SEA stands for Star Education Academy, is an education academy founded by U Aye Kyaw and Daw Sandar Lwin in 2015. At SEA, you can study variety of subjects including
    English Language and four skills,
    Philosophy, Maths and Science.`},n=[{text:"Is my data private ?",answer:"Yes, your data is private."},{text:"Where can I give feedback to developer ?",answer:"You can give feedback at aungnaingthan22@gmail.com"}],r=[{text:"What are updated in the latest version ?",answer:"Updated UI design and fix bugs."},{text:"What is the last update time ?",answer:` Updated on ${kl(1712655376346)}.`}];return $f("help-page"),jf("help-page"),v.useEffect(()=>{t("Help")},[]),f.jsxs(Ee,{className:"m-5 border border-slate-200 rounded-md shadow-md",children:[f.jsx(_s,{}),f.jsx(sd,{image:e.image,text:e.text,answer:e.answer}),f.jsx(sd,{text:"FAQ",image:"faq",answer:n.map(s=>f.jsx(sd,{text:s.text,answer:s.answer},s.text))}),f.jsx(sd,{image:"update",text:"Updates",answer:r.map(s=>f.jsx(sd,{text:s.text,answer:s.answer},s.text))})]})},sd=({image:t,text:e,answer:n})=>{const[r,s]=v.useState(!1);return f.jsxs("div",{className:" p-2  mb-2 ",children:[f.jsxs("div",{onClick:()=>s(!r),className:"transition-all flex items-center rounded-md min-h-14 justify-between",children:[f.jsxs("div",{className:"flex items-center gap-x-2",children:[t&&f.jsx(Lle,{image:t}),f.jsx("div",{children:e})]}),f.jsx(cr,{children:f.jsx("img",{className:"w-6",src:Ae(r?"up":"down")})})]}),r&&f.jsx("div",{className:"font-medium ",children:n})]})},Lle=({image:t})=>f.jsx("img",{className:"w-7",src:Ae(t)}),Mle=({post:t,setViewingImage:e})=>{const[r,s]=v.useState(4),[i,o]=v.useState(!0),a=t.images.slice(0,r),l=t.images.length-4,c=()=>{o(!1),s(t.images.length)};return a.map((u,d)=>f.jsxs(Nd,{item:!0,xs:4,sm:3,md:3,className:"relative cursor-pointer",children:[f.jsx("img",{onClick:()=>e(u),className:"w-full  ",src:u.imageURL,alt:u.name}),f.jsx("div",{className:"z-20 absolute right-1 top-1"}),d+1===4&&i&&l?f.jsx("div",{onClick:c,className:"z-10 absolute top-0 right-0 left-0 bottom-0 flex cursor-pointer items-center justify-center",children:f.jsxs("div",{className:"font-medium text-6xl text-white",children:["+",l]})}):""]},`post-${t.id}-image-${u.imageURL}`))},Dle=({files:t})=>f.jsxs("div",{className:"grid mt-2",children:[f.jsx("p",{className:"p-2 font-bold",children:"Files"}),t.map((e,n)=>f.jsx("a",{href:e.fileURL,download:e.name,target:"_blank",children:f.jsxs("div",{className:`p-1 hover:bg-slate-50 cursor-pointer min-h-14 flex gap-x-1 items-center font-bold border-slate-300 border-t ${n===t.length-1&&"border-b"} border-slate-200 text-blue-600`,children:[f.jsx(fr,{name:"download"}),f.jsxs("div",{children:[f.jsx("p",{className:"underline",children:e.name}),(e==null?void 0:e.size)&&f.jsxs("p",{children:[(e.size/(1024*1024)).toFixed(2)," MB"]})]})]})},`${n}-${e.fileURL}`))]}),Ole=({links:t})=>f.jsxs("div",{className:"grid gap-y-2 mt-2",children:[f.jsx("p",{className:"p-2 font-bold",children:"Links"}),t.map((e,n)=>f.jsx("a",{href:e.link,target:"_blank",children:f.jsxs("div",{className:`p-1 hover:bg-slate-50 cursor-pointer min-h-14 flex gap-x-1 items-center font-bold border-slate-300 border-t ${n===t.length-1&&"border-b"} border-slate-200 text-blue-600`,children:[f.jsx(fr,{name:"link"}),f.jsx("div",{children:f.jsx("p",{className:"underline",children:e.title})})]})},`${n}-${e.link}`))]});async function F5(t,e,n,r=null){try{const s=Ne(be,"notifications"),i={uid:Hs.currentUser.uid,type:t,[e]:n,isReadBy:[],timestamp:Gn(),comment:r};await Uo(s,i)}catch(s){console.log(s.message)}}const x7=({post:t,collectionName:e})=>{const{id:n}=t,[r,s]=v.useState(null),[i,o]=v.useState(null),{users:a,theme:l,userId:c}=v.useContext(X),[u,d]=v.useState(!1),[h,p]=v.useState(!1),m=e==="posts",y=Ne(ge(be,e,n),"comments"),E=Ne(ge(be,e,n),"likes"),[g,w]=v.useState(!1),_=async(S,b)=>{const T=Ne(ge(be,e,n),S),C=await n8(T);b(C.data().count)};v.useEffect(()=>{(async()=>{await _("likes",s),await _("comments",o)})()},[]),v.useEffect(()=>{(async()=>{const b=hr(E,Vg("uid","==",c)),T=await Fi(b);w(!T.empty)})()},[]);const x=async()=>{try{const S=async()=>{await _("likes",s)},b=ge(E,c),T={uid:c,timestamp:Gn()};g?(w(!1),await ko(b),S()):(w(!0),await Va(b,T),S(),F5(["like",m?"post":"test"],m?"description":"testName",m?t.description:t.name))}catch(S){console.log(S.message)}};return f.jsxs("div",{className:"mt-2",children:[f.jsxs("div",{className:"transition-all mb-1 flex justify-between pl-2 pr-2",children:[f.jsx("button",{onClick:()=>{d(!u),p(!1)},className:`transition-all ${l==="light"?`${u?"bg-slate-200":"hover:bg-slate-200"}`:`${u?"bg-slate-500/70":"hover:bg-slate-500/70"}`}  p-1 rounded-lg`,children:f.jsxs("span",{children:[r||0," ",r>1?"likes":"like"]})}),f.jsxs("button",{onClick:()=>{p(!h),d(!1)},className:`transition-all ${l==="light"?`${h?"bg-slate-200":"hover:bg-slate-200"}`:`${h?"bg-slate-500/70":"hover:bg-slate-500/70"}`}  p-1 rounded-lg`,children:[i&&i," ",i>1?"comments":"comment"]})]}),f.jsxs("div",{className:`p-2 shadow-lg border-t border-b pt-2 flex gap-x-2 ${l==="light"?"border-t-slate-300":"border-t-slate-500/70"}`,children:[f.jsx(He,{sx:{textTransform:"capitalize"},color:l!=="light"?"warning":"primary",onClick:x,startIcon:f.jsx("img",{className:"w-6",src:Ae(g?"liked":"like")}),children:g?"Liked":"Like"}),f.jsx(He,{sx:{textTransform:"capitalize"},color:l!=="light"?"warning":"primary",onClick:()=>{p(!h),d(!1)},startIcon:f.jsx("img",{className:"w-6",src:Ae("comment")}),children:"Comment"})]}),u&&f.jsx($le,{isLikesOpen:u,setIsLikesOpen:d,likesRef:E,likeCounts:r}),h&&f.jsx(Fle,{isPost:m,post:t,commentsRef:y,collectionName:e,commentCounts:i,setCommentCounts:o,getCounts:_})]})},$le=({likesRef:t,likeCounts:e,isLikesOpen:n,setIsLikesOpen:r})=>{v.useContext(X);const[i,o]=v.useState([]),[a,l]=v.useState(null),[c,u]=v.useState(!0),d=async()=>{let h=hr(t,ja("timestamp","desc"),Fa(5));a&&(h=hr(h,Bg(a)));const p=await Fi(h),m=p.docs.map(y=>({id:y.id,...y.data()}));o([...i,...m]),u(!1),l(p.docs[p.docs.length-1])};return v.useEffect(()=>{d()},[]),f.jsx(xl,{anchor:"bottom",open:n,onClose:()=>r(!1),children:f.jsxs(Ee,{className:"min-w-[300px] min-h-[100px]",children:[f.jsx(He,{className:"w-full",onClick:()=>r(!1),children:"Close"}),c?f.jsx(Ee,{className:"text-center",children:"Loading..."}):f.jsxs("div",{className:"m-2 grid gap-y-2 ",children:[i.sort((h,p)=>js(h,p,"timestamp","newer")).map((h,p)=>f.jsx(jle,{like:h},`user-${h.uid}-${p}`)),f.jsx(Ko,{direction:"row",justifyContent:"center",children:e>5&&i.length<e&&i.length>0?f.jsx(He,{size:"small",onClick:d,children:"Load More"}):""})]})]})})},jle=({like:t})=>{const{users:e}=v.useContext(X),[n,r]=v.useState(null),[s,i]=v.useState();return Dn(t.uid,e,r,i),s?f.jsx(Wt,{}):f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsx(qr,{image:n?n.image:"images/sea-logo.jpg",name:n&&n.name}),f.jsx("div",{children:n?n.name:"Unknown User"})]})},Fle=({post:t,isPost:e,commentsRef:n,commentCounts:r,setCommentCounts:s,getCounts:i})=>{const[o,a]=v.useState(""),[l,c]=v.useState([]),{users:u,theme:d,userData:h,userId:p}=v.useContext(X),[m,y]=v.useState(null),E=()=>{const _=hr(n,ja("timestamp","desc"));return cs(_,S=>{i("comments",s),c(S.docs.map(b=>({id:b.id,...b.data()})).sort((b,T)=>js(b,T,"timestamp")))})};v.useEffect(()=>{const _=E();return()=>{_()}},[]);const g=async()=>{if(o.trim()){const _={uid:p,text:o.trim(),timestamp:Gn()};await Uo(n,_),a(""),F5(["comment",e?"post":"test"],e?"description":"testName",e?t.description:t.name,o.trim())}},w=async()=>{const _=ge(n,m);if(o.trim()){const x={text:o.trim(),editedTime:Gn()};await or(_,x),a(""),y(null)}};return f.jsxs("div",{className:"mt-2 p-2",children:[f.jsx("div",{className:"grid gap-y-2",children:l.map(_=>{const x=_.uid===p,S=x&&{text:"Edit",icon:"editPencil",onClick:()=>{y(_.id),a(_.text)}};return f.jsx(Vle,{comment:_,editOption:S,yourComment:x},`${_.uid}-${_.id}`)})}),f.jsxs("div",{className:"mt-2 flex gap-x-1",children:[f.jsx("input",{autoFocus:!0,onChange:_=>a(_.target.value),value:o,className:`h-10 flex-1 rounded-lg pl-2 border-slate-200 shadow-md border ${d==="light"?"border-gray-300 focus:outline-blue-500":"outline-none bg-slate-500/70 border-slate-500/70"}`,placeholder:"Write a comment..."}),f.jsxs("div",{className:"flex gap-x-1",children:[m&&f.jsx(cr,{onClick:()=>{y(null),a("")},children:f.jsx(fr,{name:"falseIcon"})}),f.jsx(cr,{onClick:()=>{o.trim()&&(m?w():g())},children:f.jsx(fr,{name:"send"})})]})]})]})},Vle=({comment:t,editOption:e,yourComment:n})=>{const{users:r,theme:s,userData:i}=v.useContext(X),[o,a]=v.useState(null),[l,c]=v.useState();return Dn(t.uid,r,a,c),l?f.jsx(Wt,{}):f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex gap-x-1",children:[f.jsx("div",{children:f.jsx(qr,{image:o&&o.image,name:o&&o.name})}),f.jsxs("div",{className:"max-w-[250px]",children:[f.jsxs("div",{className:`p-2 border shadow-md border-slate-200 rounded-lg ${s==="light"?"bg-slate-100":"bg-slate-500/70 text-white"}`,children:[f.jsx("div",{className:"font-bold",children:o?o.name:"Unknown User"}),f.jsx("div",{children:t.text})]}),f.jsx("div",{className:`text-sm mt-1 ${s==="light"?"text-gray-600":"text-white"}`,children:t!=null&&t.editedTime?f.jsxs("span",{children:["edited ",N2(Rr(t.editedTime))]}):f.jsx("span",{children:N2(Rr(t.timestamp))})})]})]}),n||i!=null&&i.isAdmin?f.jsx(e1,{options:[e,{text:"Delete",icon:"deleteIcon",onClick:()=>deleteComment(t.id)}],isComment:!0}):""]})},Ule=({post:t,setViewingImage:e})=>{var c,u;const{theme:n,users:r,userId:s}=v.useContext(X),[i,o]=v.useState(null),[a,l]=v.useState(!0);return Dn(t.uid,r,o,l),a?f.jsxs(Ee,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Wt,{})]}):f.jsxs(Ee,{className:"border border-slate-300 shadow-lg rounded-md",sx:{width:"full",backgroundColor:"white",color:n!=="light"?"white":"black"},children:[f.jsxs(Ee,{className:"top-section flex gap-x-2 mb-2 p-2",children:[f.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:i?i.image:"images/sea-logo.jpg"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:i?i.name:"Unknown User"}),f.jsx("div",{className:` text-sm ${n==="light"?"text-gray-500":"text-white"}`,children:kl(Rr(t.time))})]})]}),(t==null?void 0:t.description)&&f.jsx("p",{className:"mb-2 p-2 break-words whitespace-pre-wrap",children:t.description}),t.images.length!==0?f.jsx(Nd,{container:!0,spacing:1,className:" p-0 m-0",children:f.jsx(Mle,{post:t,setViewingImage:e})}):"",t.files&&((c=t==null?void 0:t.files)==null?void 0:c.length)!==0&&f.jsx(Dle,{files:t.files}),(t==null?void 0:t.links)&&((u=t==null?void 0:t.links)==null?void 0:u.length)!==0&&f.jsx(Ole,{links:t.links}),f.jsx(x7,{post:t,collectionName:"posts"})]})},Ble=()=>{const{posts:t,setPosts:e,isLogin:n,setHeaderTitle:r,users:s,theme:i}=v.useContext(X);v.useState(!0);const[o,a]=v.useState(null);return v.useEffect(()=>{r("STAR EDUCATION ACADEMY")},[]),Al("posts",e,n),$f("posts-page"),jf("posts-page"),t.length===0?f.jsxs(Ee,{className:"m-2",children:[f.jsx(_s,{}),f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Wt,{})]}):f.jsxs("div",{className:"grid gap-y-6 m-2",children:[o&&f.jsx(HN,{image:o,setViewingImage:a,postImage:!0}),t.sort((l,c)=>js(l,c,"time","newer")).map(l=>f.jsx(Ule,{setViewingImage:a,post:l},l.id))]})},zle=()=>{const{tests:t,setTests:e,isLogin:n,setHeaderTitle:r,theme:s,users:i,startTimer:o}=v.useContext(X);v.useState(!0);const a=wn();Al("tests",e,n),v.useEffect(()=>{r("Tests")},[]);const l=()=>{o()};return $f("tests-page"),jf("tests-page"),f.jsxs("div",{className:"grid gap-y-6 mb-2 m-2",children:[f.jsx(_s,{}),t.length===0?f.jsxs(Ee,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Wt,{})]}):t.sort((c,u)=>js(c,u,"timestamp","newer")).map(c=>{if(c.isUploaded)return f.jsxs("div",{className:`flex flex-col justify-between min-h-60 border shadow-lg rounded-md bg-gradient-to-tr ${s==="light"?"border-slate-300 ":"border-slate-300 text-white shadow-slate-500"}`,children:[f.jsxs("div",{className:"flex gap-x-2 mb-2 p-2",children:[f.jsx(Wle,{t:c}),f.jsxs("span",{className:`rounded-md border border-slate-200 text-sm text-gray-400 flex items-center p-1 ${s==="light"?"bg-slate-100 ":"bg-slate-500/70  "}`,children:[c.quizzes.length,c.quizzes.length>1?" questions":" question"]})]}),c.image&&f.jsx("div",{className:"m-2 flex justify-center p-2",children:f.jsx("img",{className:"h-[250px]",src:`images/tests/${c.image}`})}),f.jsxs("div",{className:`p-2 rounded-bl-lg rounded-br-lg border-t shadow-t-md ${s==="light"?"border-t-slate-300":"border-t-slate-500/70"}`,children:[f.jsx("div",{className:"font-medium text-lg",children:c.name}),f.jsx("p",{className:" mb-2 break-words white-space-pre-wrap",children:c.description.trim()||"No description"}),f.jsx(He,{onClick:()=>{l(),a(`/app/tests/${c.id}`)},children:"Take the test"})]}),f.jsx(x7,{post:c,collectionName:"tests"})]},c.id)})]})},Wle=({t})=>{const{theme:e,users:n}=v.useContext(X),[r,s]=v.useState(null),[i,o]=v.useState(!0);return Dn(t.uid,n,s,o),i?f.jsxs(Ee,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Wt,{})]}):f.jsxs(f.Fragment,{children:[f.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:r==null?void 0:r.image}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold",children:r==null?void 0:r.name}),f.jsx("div",{className:` text-sm ${e==="light"?"text-gray-500 ":"text-white"}`,children:kl(Rr(t.time))})]})]})},Hle=({data:t})=>{const{pageTitle:e,currentPage:n,totalPage:r,percentage:s,answerLength:i,questionsLength:o}=t,{stopTest:a,formattedTime:l,theme:c}=v.useContext(X),u=wn(),[d,h]=v.useState(!1),p=()=>{a(),h(!1),u("/app/tests")},m=()=>{h(!1)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:" font-medium text-lg flex items-center justify-start",children:[f.jsx(nn,{data:{clickFn:()=>h(!0),image:"back"}}),f.jsx("div",{className:`ml-2 ${c==="light"?"":"text-white"}`,children:e}),f.jsx(Ui,{data:{value:d,yesButton:p,noButton:m,text:"Are you sure to stop the test ?",setValue:h}})]}),f.jsxs("div",{className:`flex justify-between items-center sticky left-0 pt-1 right-0 z-10 ${c==="light"?"":"text-white"}`,children:[f.jsxs("div",{children:["Page ",n," of ",r]}),f.jsxs("div",{className:`w-2/3 border h-7 relative ${c==="light"?"border-gray-300":"border-slate-500/70"}`,children:[f.jsx("div",{style:{width:`${s}%`},className:`text-center h-full ${c==="light"?"bg-lime-200":"bg-slate-500/70"}`}),f.jsxs("div",{className:"absolute top-0 left-2 font-medium",children:[i," ","/"," ",o]})]}),f.jsx("div",{className:"min-h-12 font-medium fixed right-0 top-1/4 h-10 min-w-20 bg-lime-200/50 backdrop-blur-lg flex items-center justify-center rounded-bl-lg rounded-tl-lg border-r-4 border-r-blue-400",children:l})]})]})},qle=({data:t})=>{const{currentQuestions:e,chooseAnswer:n,answeredQuestions:r}=t,{theme:s}=v.useContext(X);return f.jsx("div",{children:e==null?void 0:e.map((i,o)=>f.jsxs("div",{children:[f.jsxs("div",{className:`grid gap-y-2 ${s==="light"?"":"text-white"}`,children:[f.jsxs("div",{className:"flex gap-x-3 items-center",children:[f.jsx("div",{className:"bg-blue-600 rounded-sm shadow-lg h-9 w-9 text-white font-bold flex justify-center items-center ",children:i.id}),f.jsx("div",{className:"flex-1 font-padauk",children:i.question})]}),f.jsx("div",{className:"grid gap-y-2",children:i.choices.map((a,l)=>{let c,u=!1;return r.forEach(d=>{i.id===d.id&&(c=d)}),(c==null?void 0:c.userAnswer)===a&&(u=!0),f.jsxs("div",{onClick:()=>{n(i.id,a)},className:`border  h-12 flex gap-x-3 p-2 cursor-pointer items-center rounded-lg font-padauk ${s==="light"?`${u?"border-blue-500 border-dotted font-bold bg-lime-50":"border-lime-200 hover:bg-slate-50"}`:`${u?"border-slate-500/70 border-dotted font-bold bg-slate-500/70":"border-slate-500/70 hover:bg-slate-500/70"}`}`,children:[f.jsx("input",{onChange:()=>{n(i.id,a)},className:"h-5 w-5",name:`question-${i.id}`,type:"radio",checked:!!u}),f.jsx("div",{children:a})]},`choice-${i.id}-${l}-${a}`)})})]}),f.jsx(Gle,{})]},`question-${i.id}-${o}-${i.question}`))})},Gle=()=>f.jsx("div",{className:" border border-dashed border-gray-500 mb-7 mt-7"}),Kle=()=>(v.useContext(X),f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsx("img",{className:"w-8 ",src:Ae("error")}),f.jsx("div",{className:"text-red-600 font-bold",children:"You need to answer all questions before proceeding!"})]}));function Qle(t,e,n){const r=e.name,s=Yle(t,e.quizzes),i=Xle(s),o=t.length,a=e.gradingRules.length!==0?Jle(i,e.gradingRules)||"There is an error in your grading rules":"Level is not defined",l=Zle(),c=ece();return{testName:r,results:s,score:i,totalScore:o,level:a,date:l,time:c,timeTaken:n}}function Yle(t,e){return e.map(r=>{const{id:s,question:i,answer:o}=r;let a;t.forEach(c=>{s===c.id&&(a=c)});const{userAnswer:l}=a;return l===r.answer?{id:s,question:i,userAnswer:l,answer:o,isTrue:!0}:{id:s,question:i,userAnswer:l,answer:o,isTrue:!1}})}function Xle(t){let e=0;return t.forEach(n=>{n.isTrue&&e++}),e}function Jle(t,e){let n;try{e.forEach(r=>{t>=Number(r.from)&&t<=Number(r.to)&&(n=r.level)})}catch(r){console.log(r.message)}return n}function Zle(){const t=new Date,e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return`${e}/${n}/${r}`}function ece(){const t=new Date;let e=t.getHours();const n=t.getMinutes(),r=e>12?"PM":"AM";e=e%12||12;const s=n<10?`0${n}`:n;return`${e}:${s} ${r}`}const tce=({data:t})=>{const{nextPage:e,prevPage:n,isEnded:r,startIndex:s,currentTest:i,answeredQuestions:o}=t,{formattedTime:a,stopTest:l,userId:c}=v.useContext(X),u=wn(),d=async()=>{try{const p=Ne(ge(be,"users",c),"history"),m=Qle(o,i,a),y=await Uo(p,m),E=(await kf(y)).id;u(`/app/history/${E}`)}catch(p){console.log(p.message)}},h=()=>{d(),l(),F5(["took","test"],"testName",i.name)};return f.jsxs("div",{className:"flex justify-center gap-x-5",children:[s!==0&&f.jsx(ks,{data:{clickFn:n,text:"Previous",image:"back"}}),r?f.jsx(ks,{data:{clickFn:h,text:"Finish",image:"finish"}}):f.jsx(ks,{data:{clickFn:e,text:"Next",image:"next"}})]})},nce=()=>{var A,I;v.useContext(X);const{testId:t}=Xh(),[e,n]=v.useState([]),[r,s]=v.useState(null);v.useEffect(()=>{(async()=>{const N=ge(be,"tests",t),M=await kf(N);s(M.data()),console.log(M.data())})()});const i=e==null?void 0:e.length,o=(A=r==null?void 0:r.quizzes)==null?void 0:A.length,[a,l]=v.useState(0),[c,u]=v.useState(!1),[d,h]=v.useState(!1),[p,m]=v.useState(!1),y=10;let E=(I=r==null?void 0:r.quizzes)==null?void 0:I.slice(a,a+y);const g=r==null?void 0:r.name,w=Math.ceil(o/y),_=Math.ceil((a+y)/y),x=Math.round(i/o*100);v.useEffect(()=>(Ns(),Ns()),[]),v.useEffect(()=>{i===o&&a+y>=o?u(!0):u(!1)},[a,e]),v.useEffect(()=>{i>=a+y?h(!0):h(!1)},[e,a]);const C={pageTitle:g,currentPage:_,totalPage:w,percentage:x,answerLength:i,questionsLength:o,answeredQuestions:e,currentQuestions:E,isEnded:c,chooseAnswer:(R,N)=>{const M=aoe(R,e);n(M?e.map(L=>R===L.id?{id:R,userAnswer:N}:L):[...e,{id:R,userAnswer:N}])},nextPage:()=>{d?(l(a+y),i<=a+y&&Ns()):loe(m)},prevPage:()=>{l(Math.max(a-y,0))},startIndex:a,currentTest:r};return f.jsxs("div",{className:"p-3 grid gap-y-3",children:[f.jsx(_s,{}),f.jsx(Hle,{data:C}),f.jsx(qle,{data:C}),p&&f.jsx(Kle,{}),f.jsx(tce,{data:C})]})},X=v.createContext();function rce(){var V,G,ne;const t=NN("sea-localStorage"),[e,n]=v.useState("light"),[r,s]=v.useState(((V=t==null?void 0:t.timer)==null?void 0:V.seconds)||0),[i,o]=v.useState(((G=t==null?void 0:t.timer)==null?void 0:G.minutes)||0),[a,l]=v.useState(((ne=t==null?void 0:t.timer)==null?void 0:ne.hours)||0),[c,u]=v.useState(!1),[d,h]=v.useState({}),[p,m]=v.useState([]),[y,E]=v.useState(null),[g,w]=v.useState(null),[_,x]=v.useState(null),[S,b]=v.useState(!1),[T,C]=v.useState(""),[A,I]=v.useState(!1),[R,N]=v.useState([]),[M,L]=v.useState([]),[O,P]=v.useState([]),[k,D]=v.useState(null),[$,F]=v.useState([]);ooe("users",h,c),Al("newMessages",P,c);const q=()=>{},W=()=>{s(0),o(0),l(0)},z=()=>{W()};v.useEffect(()=>{PN("seaacademy-theme-data",e)},[e]);const B=`${a}:${K4(i)}:${K4(r)}`;return v.useEffect(()=>{const re=setInterval(()=>{r<59?s(r+1):(s(0),o(i+1)),i===59&&(o(0),l(a+1))},1e3);return()=>{clearInterval(re)}},[r]),f.jsx(X.Provider,{value:{myChats:$,setMyChats:F,stopTest:z,seaLocalStorage:t,formattedTime:B,startTimer:W,seconds:r,minutes:i,hours:a,inspecting:S,userData:d,isLogin:c,setUserData:h,users:p,setUsers:m,headerTitle:T,setHeaderTitle:C,theme:e,setTheme:n,refreshUserData:q,isOnline:A,setIsOnline:I,userId:y,setUserId:E,setInspecting:b,setIsLogIn:u,posts:R,setPosts:N,tests:M,setTests:L,history,chats:k,setChats:D,newMessages:O,notiCount:_,setNotiCount:x,historyCount:g,setHistoryCount:w},children:f.jsx(Ee,{className:"transition-all duration-300 App font-padauk flex flex-col items-center min-h-screen bgdf-[#e3f2fd]",children:f.jsxs(zD,{children:[f.jsx(Ple,{}),T!=="Chat"&&f.jsx(goe,{}),f.jsx(voe,{}),f.jsx("div",{className:"flex-1 w-full h-full md:w-4/5 lg:w-3/5 ",children:f.jsxs(OD,{children:[f.jsx(an,{exact:!0,path:"/login",element:f.jsx(xoe,{})}),c&&f.jsxs(f.Fragment,{children:[f.jsx(an,{exact:!0,path:"/app",element:f.jsx(Ble,{})}),f.jsx(an,{exact:!0,path:"/app/tests",element:f.jsx(zle,{})}),f.jsx(an,{exact:!0,path:"/app/tests/:testId",element:f.jsx(nce,{})}),f.jsx(an,{exact:!0,path:"/app/history",element:f.jsx(Y4,{})}),f.jsx(an,{exact:!0,path:"/app/history/:resultId",element:f.jsx(hoe,{})}),f.jsx(an,{exact:!0,path:"/app/help",element:f.jsx(Nle,{})}),f.jsx(an,{exact:!0,path:"/app/history/:resultId/reviews",element:f.jsx(yoe,{})}),f.jsx(an,{path:"/app/history",element:f.jsx(Y4,{})}),f.jsx(an,{path:"/app/chatroom",element:f.jsx(Ale,{})}),f.jsx(an,{path:"/app/chatroom/:chatId",element:f.jsx(_ae,{})}),f.jsx(an,{path:"/app/notifications",element:f.jsx(Joe,{})}),(d==null?void 0:d.isAdmin)&&f.jsxs(f.Fragment,{children:[f.jsx(an,{path:"/app/admin",element:f.jsx(_oe,{})}),f.jsx(an,{path:"/app/admin/tests",element:f.jsx(Boe,{})}),f.jsx(an,{path:"/app/admin/users",element:f.jsx(Goe,{})}),f.jsx(an,{path:"/app/admin/posts",element:f.jsx(Qoe,{})})]}),f.jsx(an,{exact:!0,path:"/app/settings",element:f.jsx(Noe,{})})]}),f.jsx(an,{path:"*",element:f.jsx(cA,{title:"No page found!",text:"No page found!"})})]})}),T!=="Chat Room"&&f.jsx(woe,{})]})})})}ky.createRoot(document.getElementById("root")).render(f.jsx(f.Fragment,{children:f.jsx(rce,{})}));
