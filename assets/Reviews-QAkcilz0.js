import{j as e,r,A as P,a as q,s as v,N as D,d as H,b as N,c as R,e as U,f as x}from"./index-dSD7UM6z.js";import{g as m}from"./getImage-SzyEh5nT.js";import F from"./Error-OLWa5l8v.js";import{L as w}from"./Line-NwzYsRbu.js";import{L as G}from"./LoadingScreen-BgP5KCQC.js";import{M as y}from"./EmptyComponent-exm26pmt.js";import{B as b}from"./Button-ZTLNkO5Z.js";import{c as J}from"./createSvgIcon-5tUNT3Hd.js";import{A as K}from"./ArrowBackSharp-hEI8SYGe.js";import"./Typography-GbCp5BvV.js";import"./ButtonBase-D-lMm-wW.js";const O=J(e.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMoreSharp"),ae=()=>{var j;const{userId:E,setHeaderTitle:I}=r.useContext(P),S=0,h=10,[d,L]=r.useState(h),[s,C]=r.useState({}),o=(j=s==null?void 0:s.results)==null?void 0:j.slice(S,d),g=`${s==null?void 0:s.testName}`,{resultId:c}=q(),[p,n]=r.useState(!0),[M,k]=r.useState(!1),[f,T]=r.useState(null),A=async()=>{try{n(!0);const t=R(N(H,"users",E),"history"),a=N(t,c),i=await U(a);if(i.exists){const l={id:i.id,...i.data()};C(l),x(n)}else k(!0),x(n)}catch(t){T("Error fetching reviews: "+t.message),x(n)}};r.useEffect(()=>{A()},[c]),r.useEffect(()=>(v(),v()),[]);const B=()=>{L(d+h)},$=()=>{var t;if(d>((t=s==null?void 0:s.results)==null?void 0:t.length))return!0};return r.useEffect(()=>{I(g)}),p?e.jsx(G,{isLoading:p,text:"Loading reviews..."}):M?e.jsx(y,{text:"No reviews available"}):f?e.jsx(y,{text:f}):e.jsx("div",{className:"p-5",children:s?e.jsxs("div",{className:"grid gap-y-5",children:[e.jsx("div",{className:"font-medium text-lg",children:g}),o==null?void 0:o.map(t=>{const{id:a,question:i,isTrue:l,answer:u,userAnswer:z}=t;return l?e.jsxs("div",{className:"grid font-padauk gap-y-2",children:[e.jsxs("div",{className:"flex gap-x-3 items-center",children:[e.jsx("div",{className:"bg-green-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:a}),e.jsx("div",{className:"flex-1",children:i})]}),e.jsx("div",{children:e.jsxs("div",{className:"grid gap-y-1",children:[e.jsx("div",{className:"text-green-500 font-bold",children:"Correct (your answer)"}),e.jsxs("div",{className:"min-h-12  flex gap-x-3 p-2 border text-green-500 border-green-500 rounded-lg items-center shadow-md shadow-lime-200",children:[e.jsx("img",{className:"w-5 h-5",src:m("trueIcon")}),e.jsx("div",{children:u})]})]})}),e.jsx(w,{})]},`result-${a}`):e.jsxs("div",{className:"grid font-padauk gap-y-2",children:[e.jsxs("div",{className:"flex gap-x-3 items-center",children:[e.jsx("div",{className:"bg-red-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:a}),e.jsx("div",{className:"flex-1",children:i})]}),e.jsxs("div",{className:"grid gap-y-1",children:[e.jsxs("div",{className:"grid gap-y-1",children:[e.jsx("div",{className:"text-red-500 font-bold",children:"Incorrect (your answer)"}),e.jsxs("div",{className:"min-h-12 flex gap-x-3 p-2 border text-red-500 border-red-500 rounded-lg items-center shadow-md shadow-red-200",children:[e.jsx("img",{className:"w-5 h-5",src:m("falseIcon")}),e.jsx("div",{children:z})]})]}),e.jsxs("div",{className:"grid gap-y-1",children:[e.jsx("div",{className:"text-green-500 font-bold",children:"Correct"}),e.jsxs("div",{className:" min-h-12  flex gap-x-3 p-2 border text-green-500 shadow-md shadow-lime-200 border-green-500 rounded-lg items-center",children:[e.jsx("img",{className:"w-5 h-5",src:m("trueIcon")}),e.jsx("div",{children:u})]})]})]}),e.jsx(w,{})]},`result-${a}`)}),$()?"":e.jsx("div",{className:"flex justify-center",children:e.jsx(b,{size:"small",onClick:B,startIcon:e.jsx(O,{}),children:"See More"})}),e.jsx("div",{children:e.jsx(D,{to:`/app/history/${c}`,children:e.jsx(b,{size:"small",startIcon:e.jsx(K,{}),children:"Back to results"})})})]}):e.jsx(F,{text:"Unavailable"})})};export{ae as default};
