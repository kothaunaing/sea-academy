function rS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function sS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Oi(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Ox={exports:{}},D0={},Dx={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nu=Symbol.for("react.element"),iS=Symbol.for("react.portal"),oS=Symbol.for("react.fragment"),aS=Symbol.for("react.strict_mode"),lS=Symbol.for("react.profiler"),cS=Symbol.for("react.provider"),uS=Symbol.for("react.context"),dS=Symbol.for("react.forward_ref"),hS=Symbol.for("react.suspense"),fS=Symbol.for("react.memo"),pS=Symbol.for("react.lazy"),E_=Symbol.iterator;function mS(t){return t===null||typeof t!="object"?null:(t=E_&&t[E_]||t["@@iterator"],typeof t=="function"?t:null)}var jx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$x=Object.assign,Fx={};function pl(t,e,n){this.props=t,this.context=e,this.refs=Fx,this.updater=n||jx}pl.prototype.isReactComponent={};pl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ux(){}Ux.prototype=pl.prototype;function Kg(t,e,n){this.props=t,this.context=e,this.refs=Fx,this.updater=n||jx}var Qg=Kg.prototype=new Ux;Qg.constructor=Kg;$x(Qg,pl.prototype);Qg.isPureReactComponent=!0;var C_=Array.isArray,Vx=Object.prototype.hasOwnProperty,Yg={current:null},zx={key:!0,ref:!0,__self:!0,__source:!0};function Bx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Vx.call(e,r)&&!zx.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Nu,type:t,key:i,ref:o,props:s,_owner:Yg.current}}function gS(t,e){return{$$typeof:Nu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nu}function yS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var T_=/\/+/g;function D2(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yS(""+t.key):e.toString(36)}function Yd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Nu:case iS:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+D2(o,0):r,C_(s)?(n="",t!=null&&(n=t.replace(T_,"$&/")+"/"),Yd(s,e,n,"",function(c){return c})):s!=null&&(Xg(s)&&(s=gS(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(T_,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",C_(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+D2(i,a);o+=Yd(i,e,n,l,s)}else if(l=mS(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+D2(i,a++),o+=Yd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function md(t,e,n){if(t==null)return t;var r=[],s=0;return Yd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function vS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var An={current:null},Xd={transition:null},_S={ReactCurrentDispatcher:An,ReactCurrentBatchConfig:Xd,ReactCurrentOwner:Yg};ye.Children={map:md,forEach:function(t,e,n){md(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return md(t,function(){e++}),e},toArray:function(t){return md(t,function(e){return e})||[]},only:function(t){if(!Xg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=pl;ye.Fragment=oS;ye.Profiler=lS;ye.PureComponent=Kg;ye.StrictMode=aS;ye.Suspense=hS;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_S;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$x({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Yg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Vx.call(e,l)&&!zx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Nu,type:t.type,key:s,ref:i,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:uS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cS,_context:t},t.Consumer=t};ye.createElement=Bx;ye.createFactory=function(t){var e=Bx.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:dS,render:t}};ye.isValidElement=Xg;ye.lazy=function(t){return{$$typeof:pS,_payload:{_status:-1,_result:t},_init:vS}};ye.memo=function(t,e){return{$$typeof:fS,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Xd.transition;Xd.transition={};try{t()}finally{Xd.transition=e}};ye.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ye.useCallback=function(t,e){return An.current.useCallback(t,e)};ye.useContext=function(t){return An.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return An.current.useDeferredValue(t)};ye.useEffect=function(t,e){return An.current.useEffect(t,e)};ye.useId=function(){return An.current.useId()};ye.useImperativeHandle=function(t,e,n){return An.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return An.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return An.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return An.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return An.current.useReducer(t,e,n)};ye.useRef=function(t){return An.current.useRef(t)};ye.useState=function(t){return An.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return An.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return An.current.useTransition()};ye.version="18.2.0";Dx.exports=ye;var E=Dx.exports;const aa=sS(E),Hp=rS({__proto__:null,default:aa},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wS=E,xS=Symbol.for("react.element"),ES=Symbol.for("react.fragment"),CS=Object.prototype.hasOwnProperty,TS=wS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IS={key:!0,ref:!0,__self:!0,__source:!0};function Wx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)CS.call(e,r)&&!IS.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:xS,type:t,key:i,ref:o,props:s,_owner:TS.current}}D0.Fragment=ES;D0.jsx=Wx;D0.jsxs=Wx;Ox.exports=D0;var f=Ox.exports,qp={},Hx={exports:{}},nr={},qx={exports:{}},Gx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,O){var $=D.length;D.push(O);e:for(;0<$;){var H=$-1>>>1,z=D[H];if(0<s(z,O))D[H]=O,D[$]=z,$=H;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var O=D[0],$=D.pop();if($!==O){D[0]=$;e:for(var H=0,z=D.length,K=z>>>1;H<K;){var V=2*(H+1)-1,F=D[V],te=V+1,pe=D[te];if(0>s(F,$))te<z&&0>s(pe,F)?(D[H]=pe,D[te]=$,H=te):(D[H]=F,D[V]=$,H=V);else if(te<z&&0>s(pe,$))D[H]=pe,D[te]=$,H=te;else break e}}return O}function s(D,O){var $=D.sortIndex-O.sortIndex;return $!==0?$:D.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=D)r(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(c)}}function T(D){if(y=!1,w(D),!g)if(n(l)!==null)g=!0,k(R);else{var O=n(c);O!==null&&A(T,O.startTime-D)}}function R(D,O){g=!1,y&&(y=!1,m(x),x=-1),p=!0;var $=h;try{for(w(O),d=n(l);d!==null&&(!(d.expirationTime>O)||D&&!N());){var H=d.callback;if(typeof H=="function"){d.callback=null,h=d.priorityLevel;var z=H(d.expirationTime<=O);O=t.unstable_now(),typeof z=="function"?d.callback=z:d===n(l)&&r(l),w(O)}else r(l);d=n(l)}if(d!==null)var K=!0;else{var V=n(c);V!==null&&A(T,V.startTime-O),K=!1}return K}finally{d=null,h=$,p=!1}}var I=!1,b=null,x=-1,C=5,S=-1;function N(){return!(t.unstable_now()-S<C)}function P(){if(b!==null){var D=t.unstable_now();S=D;var O=!0;try{O=b(!0,D)}finally{O?M():(I=!1,b=null)}}else I=!1}var M;if(typeof _=="function")M=function(){_(P)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,j=L.port2;L.port1.onmessage=P,M=function(){j.postMessage(null)}}else M=function(){v(P,0)};function k(D){b=D,I||(I=!0,M())}function A(D,O){x=v(function(){D(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,k(R))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var $=h;h=O;try{return D()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,O){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var $=h;h=D;try{return O()}finally{h=$}},t.unstable_scheduleCallback=function(D,O,$){var H=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?H+$:H):$=H,D){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=$+z,D={id:u++,callback:O,priorityLevel:D,startTime:$,expirationTime:z,sortIndex:-1},$>H?(D.sortIndex=$,e(c,D),n(l)===null&&D===n(c)&&(y?(m(x),x=-1):y=!0,A(T,$-H))):(D.sortIndex=z,e(l,D),g||p||(g=!0,k(R))),D},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(D){var O=h;return function(){var $=h;h=O;try{return D.apply(this,arguments)}finally{h=$}}}})(Gx);qx.exports=Gx;var bS=qx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx=E,Jn=bS;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qx=new Set,Mc={};function jo(t,e){Ha(t,e),Ha(t+"Capture",e)}function Ha(t,e){for(Mc[t]=e,t=0;t<e.length;t++)Qx.add(e[t])}var Ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gp=Object.prototype.hasOwnProperty,SS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I_={},b_={};function AS(t){return Gp.call(b_,t)?!0:Gp.call(I_,t)?!1:SS.test(t)?b_[t]=!0:(I_[t]=!0,!1)}function RS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kS(t,e,n,r){if(e===null||typeof e>"u"||RS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){on[t]=new Rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];on[e]=new Rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){on[t]=new Rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){on[t]=new Rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){on[t]=new Rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){on[t]=new Rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){on[t]=new Rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){on[t]=new Rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){on[t]=new Rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jg=/[\-:]([a-z])/g;function Zg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jg,Zg);on[e]=new Rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jg,Zg);on[e]=new Rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jg,Zg);on[e]=new Rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){on[t]=new Rn(t,1,!1,t.toLowerCase(),null,!1,!1)});on.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){on[t]=new Rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function e1(t,e,n,r){var s=on.hasOwnProperty(e)?on[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kS(e,n,s,r)&&(n=null),r||s===null?AS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Bs=Kx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gd=Symbol.for("react.element"),la=Symbol.for("react.portal"),ca=Symbol.for("react.fragment"),t1=Symbol.for("react.strict_mode"),Kp=Symbol.for("react.profiler"),Yx=Symbol.for("react.provider"),Xx=Symbol.for("react.context"),n1=Symbol.for("react.forward_ref"),Qp=Symbol.for("react.suspense"),Yp=Symbol.for("react.suspense_list"),r1=Symbol.for("react.memo"),Qs=Symbol.for("react.lazy"),Jx=Symbol.for("react.offscreen"),S_=Symbol.iterator;function Dl(t){return t===null||typeof t!="object"?null:(t=S_&&t[S_]||t["@@iterator"],typeof t=="function"?t:null)}var ct=Object.assign,j2;function rc(t){if(j2===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);j2=e&&e[1]||""}return`
`+j2+t}var $2=!1;function F2(t,e){if(!t||$2)return"";$2=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$2=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?rc(t):""}function NS(t){switch(t.tag){case 5:return rc(t.type);case 16:return rc("Lazy");case 13:return rc("Suspense");case 19:return rc("SuspenseList");case 0:case 2:case 15:return t=F2(t.type,!1),t;case 11:return t=F2(t.type.render,!1),t;case 1:return t=F2(t.type,!0),t;default:return""}}function Xp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ca:return"Fragment";case la:return"Portal";case Kp:return"Profiler";case t1:return"StrictMode";case Qp:return"Suspense";case Yp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Xx:return(t.displayName||"Context")+".Consumer";case Yx:return(t._context.displayName||"Context")+".Provider";case n1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case r1:return e=t.displayName||null,e!==null?e:Xp(t.type)||"Memo";case Qs:e=t._payload,t=t._init;try{return Xp(t(e))}catch{}}return null}function PS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xp(e);case 8:return e===t1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Si(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LS(t){var e=Zx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yd(t){t._valueTracker||(t._valueTracker=LS(t))}function e4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Zx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Eh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jp(t,e){var n=e.checked;return ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function A_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Si(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function t4(t,e){e=e.checked,e!=null&&e1(t,"checked",e,!1)}function Zp(t,e){t4(t,e);var n=Si(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?em(t,e.type,n):e.hasOwnProperty("defaultValue")&&em(t,e.type,Si(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function R_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function em(t,e,n){(e!=="number"||Eh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var sc=Array.isArray;function Ia(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Si(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function tm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function k_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(sc(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Si(n)}}function n4(t,e){var n=Si(e.value),r=Si(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function N_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function r4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?r4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vd,s4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vd=vd||document.createElement("div"),vd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Oc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MS=["Webkit","ms","Moz","O"];Object.keys(pc).forEach(function(t){MS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pc[e]=pc[t]})});function i4(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||pc.hasOwnProperty(t)&&pc[t]?(""+e).trim():e+"px"}function o4(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=i4(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var OS=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rm(t,e){if(e){if(OS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function sm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var im=null;function s1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var om=null,ba=null,Sa=null;function P_(t){if(t=Mu(t)){if(typeof om!="function")throw Error(W(280));var e=t.stateNode;e&&(e=V0(e),om(t.stateNode,t.type,e))}}function a4(t){ba?Sa?Sa.push(t):Sa=[t]:ba=t}function l4(){if(ba){var t=ba,e=Sa;if(Sa=ba=null,P_(t),e)for(t=0;t<e.length;t++)P_(e[t])}}function c4(t,e){return t(e)}function u4(){}var U2=!1;function d4(t,e,n){if(U2)return t(e,n);U2=!0;try{return c4(t,e,n)}finally{U2=!1,(ba!==null||Sa!==null)&&(u4(),l4())}}function Dc(t,e){var n=t.stateNode;if(n===null)return null;var r=V0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var am=!1;if(Ls)try{var jl={};Object.defineProperty(jl,"passive",{get:function(){am=!0}}),window.addEventListener("test",jl,jl),window.removeEventListener("test",jl,jl)}catch{am=!1}function DS(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var mc=!1,Ch=null,Th=!1,lm=null,jS={onError:function(t){mc=!0,Ch=t}};function $S(t,e,n,r,s,i,o,a,l){mc=!1,Ch=null,DS.apply(jS,arguments)}function FS(t,e,n,r,s,i,o,a,l){if($S.apply(this,arguments),mc){if(mc){var c=Ch;mc=!1,Ch=null}else throw Error(W(198));Th||(Th=!0,lm=c)}}function $o(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function h4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function L_(t){if($o(t)!==t)throw Error(W(188))}function US(t){var e=t.alternate;if(!e){if(e=$o(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return L_(s),t;if(i===r)return L_(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function f4(t){return t=US(t),t!==null?p4(t):null}function p4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=p4(t);if(e!==null)return e;t=t.sibling}return null}var m4=Jn.unstable_scheduleCallback,M_=Jn.unstable_cancelCallback,VS=Jn.unstable_shouldYield,zS=Jn.unstable_requestPaint,xt=Jn.unstable_now,BS=Jn.unstable_getCurrentPriorityLevel,i1=Jn.unstable_ImmediatePriority,g4=Jn.unstable_UserBlockingPriority,Ih=Jn.unstable_NormalPriority,WS=Jn.unstable_LowPriority,y4=Jn.unstable_IdlePriority,j0=null,ss=null;function HS(t){if(ss&&typeof ss.onCommitFiberRoot=="function")try{ss.onCommitFiberRoot(j0,t,void 0,(t.current.flags&128)===128)}catch{}}var $r=Math.clz32?Math.clz32:KS,qS=Math.log,GS=Math.LN2;function KS(t){return t>>>=0,t===0?32:31-(qS(t)/GS|0)|0}var _d=64,wd=4194304;function ic(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ic(a):(i&=o,i!==0&&(r=ic(i)))}else o=n&~s,o!==0?r=ic(o):i!==0&&(r=ic(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$r(e),s=1<<n,r|=t[n],e&=~s;return r}function QS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-$r(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=QS(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function cm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function v4(){var t=_d;return _d<<=1,!(_d&4194240)&&(_d=64),t}function V2(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$r(e),t[e]=n}function XS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-$r(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function o1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$r(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Me=0;function _4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var w4,a1,x4,E4,C4,um=!1,xd=[],hi=null,fi=null,pi=null,jc=new Map,$c=new Map,Xs=[],JS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function O_(t,e){switch(t){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":fi=null;break;case"mouseover":case"mouseout":pi=null;break;case"pointerover":case"pointerout":jc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$c.delete(e.pointerId)}}function $l(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Mu(e),e!==null&&a1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ZS(t,e,n,r,s){switch(e){case"focusin":return hi=$l(hi,t,e,n,r,s),!0;case"dragenter":return fi=$l(fi,t,e,n,r,s),!0;case"mouseover":return pi=$l(pi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return jc.set(i,$l(jc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,$c.set(i,$l($c.get(i)||null,t,e,n,r,s)),!0}return!1}function T4(t){var e=no(t.target);if(e!==null){var n=$o(e);if(n!==null){if(e=n.tag,e===13){if(e=h4(n),e!==null){t.blockedOn=e,C4(t.priority,function(){x4(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=dm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);im=r,n.target.dispatchEvent(r),im=null}else return e=Mu(n),e!==null&&a1(e),t.blockedOn=n,!1;e.shift()}return!0}function D_(t,e,n){Jd(t)&&n.delete(e)}function e8(){um=!1,hi!==null&&Jd(hi)&&(hi=null),fi!==null&&Jd(fi)&&(fi=null),pi!==null&&Jd(pi)&&(pi=null),jc.forEach(D_),$c.forEach(D_)}function Fl(t,e){t.blockedOn===e&&(t.blockedOn=null,um||(um=!0,Jn.unstable_scheduleCallback(Jn.unstable_NormalPriority,e8)))}function Fc(t){function e(s){return Fl(s,t)}if(0<xd.length){Fl(xd[0],t);for(var n=1;n<xd.length;n++){var r=xd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hi!==null&&Fl(hi,t),fi!==null&&Fl(fi,t),pi!==null&&Fl(pi,t),jc.forEach(e),$c.forEach(e),n=0;n<Xs.length;n++)r=Xs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xs.length&&(n=Xs[0],n.blockedOn===null);)T4(n),n.blockedOn===null&&Xs.shift()}var Aa=Bs.ReactCurrentBatchConfig,Sh=!0;function t8(t,e,n,r){var s=Me,i=Aa.transition;Aa.transition=null;try{Me=1,l1(t,e,n,r)}finally{Me=s,Aa.transition=i}}function n8(t,e,n,r){var s=Me,i=Aa.transition;Aa.transition=null;try{Me=4,l1(t,e,n,r)}finally{Me=s,Aa.transition=i}}function l1(t,e,n,r){if(Sh){var s=dm(t,e,n,r);if(s===null)X2(t,e,r,Ah,n),O_(t,r);else if(ZS(s,t,e,n,r))r.stopPropagation();else if(O_(t,r),e&4&&-1<JS.indexOf(t)){for(;s!==null;){var i=Mu(s);if(i!==null&&w4(i),i=dm(t,e,n,r),i===null&&X2(t,e,r,Ah,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else X2(t,e,r,null,n)}}var Ah=null;function dm(t,e,n,r){if(Ah=null,t=s1(r),t=no(t),t!==null)if(e=$o(t),e===null)t=null;else if(n=e.tag,n===13){if(t=h4(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ah=t,null}function I4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BS()){case i1:return 1;case g4:return 4;case Ih:case WS:return 16;case y4:return 536870912;default:return 16}default:return 16}}var ii=null,c1=null,Zd=null;function b4(){if(Zd)return Zd;var t,e=c1,n=e.length,r,s="value"in ii?ii.value:ii.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Zd=s.slice(t,1<r?1-r:void 0)}function eh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ed(){return!0}function j_(){return!1}function rr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ed:j_,this.isPropagationStopped=j_,this}return ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ed)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ed)},persist:function(){},isPersistent:Ed}),e}var ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},u1=rr(ml),Lu=ct({},ml,{view:0,detail:0}),r8=rr(Lu),z2,B2,Ul,$0=ct({},Lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:d1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ul&&(Ul&&t.type==="mousemove"?(z2=t.screenX-Ul.screenX,B2=t.screenY-Ul.screenY):B2=z2=0,Ul=t),z2)},movementY:function(t){return"movementY"in t?t.movementY:B2}}),$_=rr($0),s8=ct({},$0,{dataTransfer:0}),i8=rr(s8),o8=ct({},Lu,{relatedTarget:0}),W2=rr(o8),a8=ct({},ml,{animationName:0,elapsedTime:0,pseudoElement:0}),l8=rr(a8),c8=ct({},ml,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),u8=rr(c8),d8=ct({},ml,{data:0}),F_=rr(d8),h8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=p8[t])?!!e[t]:!1}function d1(){return m8}var g8=ct({},Lu,{key:function(t){if(t.key){var e=h8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=eh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?f8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:d1,charCode:function(t){return t.type==="keypress"?eh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?eh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),y8=rr(g8),v8=ct({},$0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U_=rr(v8),_8=ct({},Lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:d1}),w8=rr(_8),x8=ct({},ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),E8=rr(x8),C8=ct({},$0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T8=rr(C8),I8=[9,13,27,32],h1=Ls&&"CompositionEvent"in window,gc=null;Ls&&"documentMode"in document&&(gc=document.documentMode);var b8=Ls&&"TextEvent"in window&&!gc,S4=Ls&&(!h1||gc&&8<gc&&11>=gc),V_=" ",z_=!1;function A4(t,e){switch(t){case"keyup":return I8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function R4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ua=!1;function S8(t,e){switch(t){case"compositionend":return R4(e);case"keypress":return e.which!==32?null:(z_=!0,V_);case"textInput":return t=e.data,t===V_&&z_?null:t;default:return null}}function A8(t,e){if(ua)return t==="compositionend"||!h1&&A4(t,e)?(t=b4(),Zd=c1=ii=null,ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return S4&&e.locale!=="ko"?null:e.data;default:return null}}var R8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function B_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!R8[t.type]:e==="textarea"}function k4(t,e,n,r){a4(r),e=Rh(e,"onChange"),0<e.length&&(n=new u1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var yc=null,Uc=null;function k8(t){V4(t,0)}function F0(t){var e=fa(t);if(e4(e))return t}function N8(t,e){if(t==="change")return e}var N4=!1;if(Ls){var H2;if(Ls){var q2="oninput"in document;if(!q2){var W_=document.createElement("div");W_.setAttribute("oninput","return;"),q2=typeof W_.oninput=="function"}H2=q2}else H2=!1;N4=H2&&(!document.documentMode||9<document.documentMode)}function H_(){yc&&(yc.detachEvent("onpropertychange",P4),Uc=yc=null)}function P4(t){if(t.propertyName==="value"&&F0(Uc)){var e=[];k4(e,Uc,t,s1(t)),d4(k8,e)}}function P8(t,e,n){t==="focusin"?(H_(),yc=e,Uc=n,yc.attachEvent("onpropertychange",P4)):t==="focusout"&&H_()}function L8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return F0(Uc)}function M8(t,e){if(t==="click")return F0(e)}function O8(t,e){if(t==="input"||t==="change")return F0(e)}function D8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vr=typeof Object.is=="function"?Object.is:D8;function Vc(t,e){if(Vr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Gp.call(e,s)||!Vr(t[s],e[s]))return!1}return!0}function q_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function G_(t,e){var n=q_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=q_(n)}}function L4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?L4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function M4(){for(var t=window,e=Eh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Eh(t.document)}return e}function f1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function j8(t){var e=M4(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&L4(n.ownerDocument.documentElement,n)){if(r!==null&&f1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=G_(n,i);var o=G_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $8=Ls&&"documentMode"in document&&11>=document.documentMode,da=null,hm=null,vc=null,fm=!1;function K_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fm||da==null||da!==Eh(r)||(r=da,"selectionStart"in r&&f1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vc&&Vc(vc,r)||(vc=r,r=Rh(hm,"onSelect"),0<r.length&&(e=new u1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=da)))}function Cd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ha={animationend:Cd("Animation","AnimationEnd"),animationiteration:Cd("Animation","AnimationIteration"),animationstart:Cd("Animation","AnimationStart"),transitionend:Cd("Transition","TransitionEnd")},G2={},O4={};Ls&&(O4=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function U0(t){if(G2[t])return G2[t];if(!ha[t])return t;var e=ha[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in O4)return G2[t]=e[n];return t}var D4=U0("animationend"),j4=U0("animationiteration"),$4=U0("animationstart"),F4=U0("transitionend"),U4=new Map,Q_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(t,e){U4.set(t,e),jo(e,[t])}for(var K2=0;K2<Q_.length;K2++){var Q2=Q_[K2],F8=Q2.toLowerCase(),U8=Q2[0].toUpperCase()+Q2.slice(1);Di(F8,"on"+U8)}Di(D4,"onAnimationEnd");Di(j4,"onAnimationIteration");Di($4,"onAnimationStart");Di("dblclick","onDoubleClick");Di("focusin","onFocus");Di("focusout","onBlur");Di(F4,"onTransitionEnd");Ha("onMouseEnter",["mouseout","mouseover"]);Ha("onMouseLeave",["mouseout","mouseover"]);Ha("onPointerEnter",["pointerout","pointerover"]);Ha("onPointerLeave",["pointerout","pointerover"]);jo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jo("onBeforeInput",["compositionend","keypress","textInput","paste"]);jo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V8=new Set("cancel close invalid load scroll toggle".split(" ").concat(oc));function Y_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,FS(r,e,void 0,t),t.currentTarget=null}function V4(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Y_(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Y_(s,a,c),i=l}}}if(Th)throw t=lm,Th=!1,lm=null,t}function Xe(t,e){var n=e[vm];n===void 0&&(n=e[vm]=new Set);var r=t+"__bubble";n.has(r)||(z4(e,t,2,!1),n.add(r))}function Y2(t,e,n){var r=0;e&&(r|=4),z4(n,t,r,e)}var Td="_reactListening"+Math.random().toString(36).slice(2);function zc(t){if(!t[Td]){t[Td]=!0,Qx.forEach(function(n){n!=="selectionchange"&&(V8.has(n)||Y2(n,!1,t),Y2(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Td]||(e[Td]=!0,Y2("selectionchange",!1,e))}}function z4(t,e,n,r){switch(I4(e)){case 1:var s=t8;break;case 4:s=n8;break;default:s=l1}n=s.bind(null,e,n,t),s=void 0,!am||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function X2(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=no(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}d4(function(){var c=i,u=s1(n),d=[];e:{var h=U4.get(t);if(h!==void 0){var p=u1,g=t;switch(t){case"keypress":if(eh(n)===0)break e;case"keydown":case"keyup":p=y8;break;case"focusin":g="focus",p=W2;break;case"focusout":g="blur",p=W2;break;case"beforeblur":case"afterblur":p=W2;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=$_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=i8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=w8;break;case D4:case j4:case $4:p=l8;break;case F4:p=E8;break;case"scroll":p=r8;break;case"wheel":p=T8;break;case"copy":case"cut":case"paste":p=u8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=U_}var y=(e&4)!==0,v=!y&&t==="scroll",m=y?h!==null?h+"Capture":null:h;y=[];for(var _=c,w;_!==null;){w=_;var T=w.stateNode;if(w.tag===5&&T!==null&&(w=T,m!==null&&(T=Dc(_,m),T!=null&&y.push(Bc(_,T,w)))),v)break;_=_.return}0<y.length&&(h=new p(h,g,null,n,u),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==im&&(g=n.relatedTarget||n.fromElement)&&(no(g)||g[Ms]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?no(g):null,g!==null&&(v=$o(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(y=$_,T="onMouseLeave",m="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=U_,T="onPointerLeave",m="onPointerEnter",_="pointer"),v=p==null?h:fa(p),w=g==null?h:fa(g),h=new y(T,_+"leave",p,n,u),h.target=v,h.relatedTarget=w,T=null,no(u)===c&&(y=new y(m,_+"enter",g,n,u),y.target=w,y.relatedTarget=v,T=y),v=T,p&&g)t:{for(y=p,m=g,_=0,w=y;w;w=Yo(w))_++;for(w=0,T=m;T;T=Yo(T))w++;for(;0<_-w;)y=Yo(y),_--;for(;0<w-_;)m=Yo(m),w--;for(;_--;){if(y===m||m!==null&&y===m.alternate)break t;y=Yo(y),m=Yo(m)}y=null}else y=null;p!==null&&X_(d,h,p,y,!1),g!==null&&v!==null&&X_(d,v,g,y,!0)}}e:{if(h=c?fa(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var R=N8;else if(B_(h))if(N4)R=O8;else{R=L8;var I=P8}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(R=M8);if(R&&(R=R(t,c))){k4(d,R,n,u);break e}I&&I(t,h,c),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&em(h,"number",h.value)}switch(I=c?fa(c):window,t){case"focusin":(B_(I)||I.contentEditable==="true")&&(da=I,hm=c,vc=null);break;case"focusout":vc=hm=da=null;break;case"mousedown":fm=!0;break;case"contextmenu":case"mouseup":case"dragend":fm=!1,K_(d,n,u);break;case"selectionchange":if($8)break;case"keydown":case"keyup":K_(d,n,u)}var b;if(h1)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ua?A4(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(S4&&n.locale!=="ko"&&(ua||x!=="onCompositionStart"?x==="onCompositionEnd"&&ua&&(b=b4()):(ii=u,c1="value"in ii?ii.value:ii.textContent,ua=!0)),I=Rh(c,x),0<I.length&&(x=new F_(x,t,null,n,u),d.push({event:x,listeners:I}),b?x.data=b:(b=R4(n),b!==null&&(x.data=b)))),(b=b8?S8(t,n):A8(t,n))&&(c=Rh(c,"onBeforeInput"),0<c.length&&(u=new F_("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=b))}V4(d,e)})}function Bc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Dc(t,n),i!=null&&r.unshift(Bc(t,i,s)),i=Dc(t,e),i!=null&&r.push(Bc(t,i,s))),t=t.return}return r}function Yo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function X_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Dc(n,i),l!=null&&o.unshift(Bc(n,l,a))):s||(l=Dc(n,i),l!=null&&o.push(Bc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var z8=/\r\n?/g,B8=/\u0000|\uFFFD/g;function J_(t){return(typeof t=="string"?t:""+t).replace(z8,`
`).replace(B8,"")}function Id(t,e,n){if(e=J_(e),J_(t)!==e&&n)throw Error(W(425))}function kh(){}var pm=null,mm=null;function gm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ym=typeof setTimeout=="function"?setTimeout:void 0,W8=typeof clearTimeout=="function"?clearTimeout:void 0,Z_=typeof Promise=="function"?Promise:void 0,H8=typeof queueMicrotask=="function"?queueMicrotask:typeof Z_<"u"?function(t){return Z_.resolve(null).then(t).catch(q8)}:ym;function q8(t){setTimeout(function(){throw t})}function J2(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Fc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Fc(e)}function mi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function e3(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gl=Math.random().toString(36).slice(2),Jr="__reactFiber$"+gl,Wc="__reactProps$"+gl,Ms="__reactContainer$"+gl,vm="__reactEvents$"+gl,G8="__reactListeners$"+gl,K8="__reactHandles$"+gl;function no(t){var e=t[Jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ms]||n[Jr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=e3(t);t!==null;){if(n=t[Jr])return n;t=e3(t)}return e}t=n,n=t.parentNode}return null}function Mu(t){return t=t[Jr]||t[Ms],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function V0(t){return t[Wc]||null}var _m=[],pa=-1;function ji(t){return{current:t}}function tt(t){0>pa||(t.current=_m[pa],_m[pa]=null,pa--)}function Qe(t,e){pa++,_m[pa]=t.current,t.current=e}var Ai={},xn=ji(Ai),$n=ji(!1),xo=Ai;function qa(t,e){var n=t.type.contextTypes;if(!n)return Ai;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Fn(t){return t=t.childContextTypes,t!=null}function Nh(){tt($n),tt(xn)}function t3(t,e,n){if(xn.current!==Ai)throw Error(W(168));Qe(xn,e),Qe($n,n)}function B4(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,PS(t)||"Unknown",s));return ct({},n,r)}function Ph(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ai,xo=xn.current,Qe(xn,t),Qe($n,$n.current),!0}function n3(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=B4(t,e,xo),r.__reactInternalMemoizedMergedChildContext=t,tt($n),tt(xn),Qe(xn,t)):tt($n),Qe($n,n)}var Cs=null,z0=!1,Z2=!1;function W4(t){Cs===null?Cs=[t]:Cs.push(t)}function Q8(t){z0=!0,W4(t)}function $i(){if(!Z2&&Cs!==null){Z2=!0;var t=0,e=Me;try{var n=Cs;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Cs=null,z0=!1}catch(s){throw Cs!==null&&(Cs=Cs.slice(t+1)),m4(i1,$i),s}finally{Me=e,Z2=!1}}return null}var ma=[],ga=0,Lh=null,Mh=0,ur=[],dr=0,Eo=null,Is=1,bs="";function Yi(t,e){ma[ga++]=Mh,ma[ga++]=Lh,Lh=t,Mh=e}function H4(t,e,n){ur[dr++]=Is,ur[dr++]=bs,ur[dr++]=Eo,Eo=t;var r=Is;t=bs;var s=32-$r(r)-1;r&=~(1<<s),n+=1;var i=32-$r(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Is=1<<32-$r(e)+s|n<<s|r,bs=i+t}else Is=1<<i|n<<s|r,bs=t}function p1(t){t.return!==null&&(Yi(t,1),H4(t,1,0))}function m1(t){for(;t===Lh;)Lh=ma[--ga],ma[ga]=null,Mh=ma[--ga],ma[ga]=null;for(;t===Eo;)Eo=ur[--dr],ur[dr]=null,bs=ur[--dr],ur[dr]=null,Is=ur[--dr],ur[dr]=null}var Qn=null,qn=null,it=!1,Or=null;function q4(t,e){var n=pr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function r3(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qn=t,qn=mi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qn=t,qn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Eo!==null?{id:Is,overflow:bs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qn=t,qn=null,!0):!1;default:return!1}}function wm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xm(t){if(it){var e=qn;if(e){var n=e;if(!r3(t,e)){if(wm(t))throw Error(W(418));e=mi(n.nextSibling);var r=Qn;e&&r3(t,e)?q4(r,n):(t.flags=t.flags&-4097|2,it=!1,Qn=t)}}else{if(wm(t))throw Error(W(418));t.flags=t.flags&-4097|2,it=!1,Qn=t}}}function s3(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qn=t}function bd(t){if(t!==Qn)return!1;if(!it)return s3(t),it=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gm(t.type,t.memoizedProps)),e&&(e=qn)){if(wm(t))throw G4(),Error(W(418));for(;e;)q4(t,e),e=mi(e.nextSibling)}if(s3(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qn=mi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qn=null}}else qn=Qn?mi(t.stateNode.nextSibling):null;return!0}function G4(){for(var t=qn;t;)t=mi(t.nextSibling)}function Ga(){qn=Qn=null,it=!1}function g1(t){Or===null?Or=[t]:Or.push(t)}var Y8=Bs.ReactCurrentBatchConfig;function Lr(t,e){if(t&&t.defaultProps){e=ct({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Oh=ji(null),Dh=null,ya=null,y1=null;function v1(){y1=ya=Dh=null}function _1(t){var e=Oh.current;tt(Oh),t._currentValue=e}function Em(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ra(t,e){Dh=t,y1=ya=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(On=!0),t.firstContext=null)}function _r(t){var e=t._currentValue;if(y1!==t)if(t={context:t,memoizedValue:e,next:null},ya===null){if(Dh===null)throw Error(W(308));ya=t,Dh.dependencies={lanes:0,firstContext:t}}else ya=ya.next=t;return e}var ro=null;function w1(t){ro===null?ro=[t]:ro.push(t)}function K4(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,w1(e)):(n.next=s.next,s.next=n),e.interleaved=n,Os(t,r)}function Os(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ys=!1;function x1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Q4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ns(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Os(t,n)}return s=r.interleaved,s===null?(e.next=e,w1(r)):(e.next=s.next,s.next=e),r.interleaved=e,Os(t,n)}function th(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,o1(t,n)}}function i3(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jh(t,e,n,r){var s=t.updateQueue;Ys=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,y=a;switch(h=e,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=ct({},d,h);break e;case 2:Ys=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);To|=o,t.lanes=o,t.memoizedState=d}}function o3(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var Y4=new Kx.Component().refs;function Cm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ct({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var B0={isMounted:function(t){return(t=t._reactInternals)?$o(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Sn(),s=vi(t),i=Ns(r,s);i.payload=e,n!=null&&(i.callback=n),e=gi(t,i,s),e!==null&&(Fr(e,t,s,r),th(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Sn(),s=vi(t),i=Ns(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=gi(t,i,s),e!==null&&(Fr(e,t,s,r),th(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Sn(),r=vi(t),s=Ns(n,r);s.tag=2,e!=null&&(s.callback=e),e=gi(t,s,r),e!==null&&(Fr(e,t,r,n),th(e,t,r))}};function a3(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Vc(n,r)||!Vc(s,i):!0}function X4(t,e,n){var r=!1,s=Ai,i=e.contextType;return typeof i=="object"&&i!==null?i=_r(i):(s=Fn(e)?xo:xn.current,r=e.contextTypes,i=(r=r!=null)?qa(t,s):Ai),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=B0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function l3(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&B0.enqueueReplaceState(e,e.state,null)}function Tm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=Y4,x1(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=_r(i):(i=Fn(e)?xo:xn.current,s.context=qa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Cm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&B0.enqueueReplaceState(s,s.state,null),jh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Vl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===Y4&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Sd(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function c3(t){var e=t._init;return e(t._payload)}function J4(t){function e(m,_){if(t){var w=m.deletions;w===null?(m.deletions=[_],m.flags|=16):w.push(_)}}function n(m,_){if(!t)return null;for(;_!==null;)e(m,_),_=_.sibling;return null}function r(m,_){for(m=new Map;_!==null;)_.key!==null?m.set(_.key,_):m.set(_.index,_),_=_.sibling;return m}function s(m,_){return m=_i(m,_),m.index=0,m.sibling=null,m}function i(m,_,w){return m.index=w,t?(w=m.alternate,w!==null?(w=w.index,w<_?(m.flags|=2,_):w):(m.flags|=2,_)):(m.flags|=1048576,_)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,_,w,T){return _===null||_.tag!==6?(_=op(w,m.mode,T),_.return=m,_):(_=s(_,w),_.return=m,_)}function l(m,_,w,T){var R=w.type;return R===ca?u(m,_,w.props.children,T,w.key):_!==null&&(_.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Qs&&c3(R)===_.type)?(T=s(_,w.props),T.ref=Vl(m,_,w),T.return=m,T):(T=ah(w.type,w.key,w.props,null,m.mode,T),T.ref=Vl(m,_,w),T.return=m,T)}function c(m,_,w,T){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=ap(w,m.mode,T),_.return=m,_):(_=s(_,w.children||[]),_.return=m,_)}function u(m,_,w,T,R){return _===null||_.tag!==7?(_=go(w,m.mode,T,R),_.return=m,_):(_=s(_,w),_.return=m,_)}function d(m,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=op(""+_,m.mode,w),_.return=m,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case gd:return w=ah(_.type,_.key,_.props,null,m.mode,w),w.ref=Vl(m,null,_),w.return=m,w;case la:return _=ap(_,m.mode,w),_.return=m,_;case Qs:var T=_._init;return d(m,T(_._payload),w)}if(sc(_)||Dl(_))return _=go(_,m.mode,w,null),_.return=m,_;Sd(m,_)}return null}function h(m,_,w,T){var R=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return R!==null?null:a(m,_,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gd:return w.key===R?l(m,_,w,T):null;case la:return w.key===R?c(m,_,w,T):null;case Qs:return R=w._init,h(m,_,R(w._payload),T)}if(sc(w)||Dl(w))return R!==null?null:u(m,_,w,T,null);Sd(m,w)}return null}function p(m,_,w,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return m=m.get(w)||null,a(_,m,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case gd:return m=m.get(T.key===null?w:T.key)||null,l(_,m,T,R);case la:return m=m.get(T.key===null?w:T.key)||null,c(_,m,T,R);case Qs:var I=T._init;return p(m,_,w,I(T._payload),R)}if(sc(T)||Dl(T))return m=m.get(w)||null,u(_,m,T,R,null);Sd(_,T)}return null}function g(m,_,w,T){for(var R=null,I=null,b=_,x=_=0,C=null;b!==null&&x<w.length;x++){b.index>x?(C=b,b=null):C=b.sibling;var S=h(m,b,w[x],T);if(S===null){b===null&&(b=C);break}t&&b&&S.alternate===null&&e(m,b),_=i(S,_,x),I===null?R=S:I.sibling=S,I=S,b=C}if(x===w.length)return n(m,b),it&&Yi(m,x),R;if(b===null){for(;x<w.length;x++)b=d(m,w[x],T),b!==null&&(_=i(b,_,x),I===null?R=b:I.sibling=b,I=b);return it&&Yi(m,x),R}for(b=r(m,b);x<w.length;x++)C=p(b,m,x,w[x],T),C!==null&&(t&&C.alternate!==null&&b.delete(C.key===null?x:C.key),_=i(C,_,x),I===null?R=C:I.sibling=C,I=C);return t&&b.forEach(function(N){return e(m,N)}),it&&Yi(m,x),R}function y(m,_,w,T){var R=Dl(w);if(typeof R!="function")throw Error(W(150));if(w=R.call(w),w==null)throw Error(W(151));for(var I=R=null,b=_,x=_=0,C=null,S=w.next();b!==null&&!S.done;x++,S=w.next()){b.index>x?(C=b,b=null):C=b.sibling;var N=h(m,b,S.value,T);if(N===null){b===null&&(b=C);break}t&&b&&N.alternate===null&&e(m,b),_=i(N,_,x),I===null?R=N:I.sibling=N,I=N,b=C}if(S.done)return n(m,b),it&&Yi(m,x),R;if(b===null){for(;!S.done;x++,S=w.next())S=d(m,S.value,T),S!==null&&(_=i(S,_,x),I===null?R=S:I.sibling=S,I=S);return it&&Yi(m,x),R}for(b=r(m,b);!S.done;x++,S=w.next())S=p(b,m,x,S.value,T),S!==null&&(t&&S.alternate!==null&&b.delete(S.key===null?x:S.key),_=i(S,_,x),I===null?R=S:I.sibling=S,I=S);return t&&b.forEach(function(P){return e(m,P)}),it&&Yi(m,x),R}function v(m,_,w,T){if(typeof w=="object"&&w!==null&&w.type===ca&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case gd:e:{for(var R=w.key,I=_;I!==null;){if(I.key===R){if(R=w.type,R===ca){if(I.tag===7){n(m,I.sibling),_=s(I,w.props.children),_.return=m,m=_;break e}}else if(I.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Qs&&c3(R)===I.type){n(m,I.sibling),_=s(I,w.props),_.ref=Vl(m,I,w),_.return=m,m=_;break e}n(m,I);break}else e(m,I);I=I.sibling}w.type===ca?(_=go(w.props.children,m.mode,T,w.key),_.return=m,m=_):(T=ah(w.type,w.key,w.props,null,m.mode,T),T.ref=Vl(m,_,w),T.return=m,m=T)}return o(m);case la:e:{for(I=w.key;_!==null;){if(_.key===I)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(m,_.sibling),_=s(_,w.children||[]),_.return=m,m=_;break e}else{n(m,_);break}else e(m,_);_=_.sibling}_=ap(w,m.mode,T),_.return=m,m=_}return o(m);case Qs:return I=w._init,v(m,_,I(w._payload),T)}if(sc(w))return g(m,_,w,T);if(Dl(w))return y(m,_,w,T);Sd(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(m,_.sibling),_=s(_,w),_.return=m,m=_):(n(m,_),_=op(w,m.mode,T),_.return=m,m=_),o(m)):n(m,_)}return v}var Ka=J4(!0),Z4=J4(!1),Ou={},is=ji(Ou),Hc=ji(Ou),qc=ji(Ou);function so(t){if(t===Ou)throw Error(W(174));return t}function E1(t,e){switch(Qe(qc,e),Qe(Hc,t),Qe(is,Ou),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nm(e,t)}tt(is),Qe(is,e)}function Qa(){tt(is),tt(Hc),tt(qc)}function eE(t){so(qc.current);var e=so(is.current),n=nm(e,t.type);e!==n&&(Qe(Hc,t),Qe(is,n))}function C1(t){Hc.current===t&&(tt(is),tt(Hc))}var ot=ji(0);function $h(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ep=[];function T1(){for(var t=0;t<ep.length;t++)ep[t]._workInProgressVersionPrimary=null;ep.length=0}var nh=Bs.ReactCurrentDispatcher,tp=Bs.ReactCurrentBatchConfig,Co=0,at=null,jt=null,zt=null,Fh=!1,_c=!1,Gc=0,X8=0;function an(){throw Error(W(321))}function I1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vr(t[n],e[n]))return!1;return!0}function b1(t,e,n,r,s,i){if(Co=i,at=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nh.current=t===null||t.memoizedState===null?tA:nA,t=n(r,s),_c){i=0;do{if(_c=!1,Gc=0,25<=i)throw Error(W(301));i+=1,zt=jt=null,e.updateQueue=null,nh.current=rA,t=n(r,s)}while(_c)}if(nh.current=Uh,e=jt!==null&&jt.next!==null,Co=0,zt=jt=at=null,Fh=!1,e)throw Error(W(300));return t}function S1(){var t=Gc!==0;return Gc=0,t}function Kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?at.memoizedState=zt=t:zt=zt.next=t,zt}function wr(){if(jt===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var e=zt===null?at.memoizedState:zt.next;if(e!==null)zt=e,jt=t;else{if(t===null)throw Error(W(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},zt===null?at.memoizedState=zt=t:zt=zt.next=t}return zt}function Kc(t,e){return typeof e=="function"?e(t):e}function np(t){var e=wr(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=jt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Co&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,at.lanes|=u,To|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Vr(r,e.memoizedState)||(On=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,at.lanes|=i,To|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rp(t){var e=wr(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Vr(i,e.memoizedState)||(On=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function tE(){}function nE(t,e){var n=at,r=wr(),s=e(),i=!Vr(r.memoizedState,s);if(i&&(r.memoizedState=s,On=!0),r=r.queue,A1(iE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||zt!==null&&zt.memoizedState.tag&1){if(n.flags|=2048,Qc(9,sE.bind(null,n,r,s,e),void 0,null),Ht===null)throw Error(W(349));Co&30||rE(n,e,s)}return s}function rE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sE(t,e,n,r){e.value=n,e.getSnapshot=r,oE(e)&&aE(t)}function iE(t,e,n){return n(function(){oE(e)&&aE(t)})}function oE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vr(t,n)}catch{return!0}}function aE(t){var e=Os(t,1);e!==null&&Fr(e,t,1,-1)}function u3(t){var e=Kr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kc,lastRenderedState:t},e.queue=t,t=t.dispatch=eA.bind(null,at,t),[e.memoizedState,t]}function Qc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lE(){return wr().memoizedState}function rh(t,e,n,r){var s=Kr();at.flags|=t,s.memoizedState=Qc(1|e,n,void 0,r===void 0?null:r)}function W0(t,e,n,r){var s=wr();r=r===void 0?null:r;var i=void 0;if(jt!==null){var o=jt.memoizedState;if(i=o.destroy,r!==null&&I1(r,o.deps)){s.memoizedState=Qc(e,n,i,r);return}}at.flags|=t,s.memoizedState=Qc(1|e,n,i,r)}function d3(t,e){return rh(8390656,8,t,e)}function A1(t,e){return W0(2048,8,t,e)}function cE(t,e){return W0(4,2,t,e)}function uE(t,e){return W0(4,4,t,e)}function dE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hE(t,e,n){return n=n!=null?n.concat([t]):null,W0(4,4,dE.bind(null,e,t),n)}function R1(){}function fE(t,e){var n=wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&I1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pE(t,e){var n=wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&I1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mE(t,e,n){return Co&21?(Vr(n,e)||(n=v4(),at.lanes|=n,To|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,On=!0),t.memoizedState=n)}function J8(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=tp.transition;tp.transition={};try{t(!1),e()}finally{Me=n,tp.transition=r}}function gE(){return wr().memoizedState}function Z8(t,e,n){var r=vi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yE(t))vE(e,n);else if(n=K4(t,e,n,r),n!==null){var s=Sn();Fr(n,t,r,s),_E(n,e,r)}}function eA(t,e,n){var r=vi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yE(t))vE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Vr(a,o)){var l=e.interleaved;l===null?(s.next=s,w1(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=K4(t,e,s,r),n!==null&&(s=Sn(),Fr(n,t,r,s),_E(n,e,r))}}function yE(t){var e=t.alternate;return t===at||e!==null&&e===at}function vE(t,e){_c=Fh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _E(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,o1(t,n)}}var Uh={readContext:_r,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},tA={readContext:_r,useCallback:function(t,e){return Kr().memoizedState=[t,e===void 0?null:e],t},useContext:_r,useEffect:d3,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rh(4194308,4,dE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rh(4194308,4,t,e)},useInsertionEffect:function(t,e){return rh(4,2,t,e)},useMemo:function(t,e){var n=Kr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Z8.bind(null,at,t),[r.memoizedState,t]},useRef:function(t){var e=Kr();return t={current:t},e.memoizedState=t},useState:u3,useDebugValue:R1,useDeferredValue:function(t){return Kr().memoizedState=t},useTransition:function(){var t=u3(!1),e=t[0];return t=J8.bind(null,t[1]),Kr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=at,s=Kr();if(it){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Ht===null)throw Error(W(349));Co&30||rE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,d3(iE.bind(null,r,i,t),[t]),r.flags|=2048,Qc(9,sE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Kr(),e=Ht.identifierPrefix;if(it){var n=bs,r=Is;n=(r&~(1<<32-$r(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=X8++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nA={readContext:_r,useCallback:fE,useContext:_r,useEffect:A1,useImperativeHandle:hE,useInsertionEffect:cE,useLayoutEffect:uE,useMemo:pE,useReducer:np,useRef:lE,useState:function(){return np(Kc)},useDebugValue:R1,useDeferredValue:function(t){var e=wr();return mE(e,jt.memoizedState,t)},useTransition:function(){var t=np(Kc)[0],e=wr().memoizedState;return[t,e]},useMutableSource:tE,useSyncExternalStore:nE,useId:gE,unstable_isNewReconciler:!1},rA={readContext:_r,useCallback:fE,useContext:_r,useEffect:A1,useImperativeHandle:hE,useInsertionEffect:cE,useLayoutEffect:uE,useMemo:pE,useReducer:rp,useRef:lE,useState:function(){return rp(Kc)},useDebugValue:R1,useDeferredValue:function(t){var e=wr();return jt===null?e.memoizedState=t:mE(e,jt.memoizedState,t)},useTransition:function(){var t=rp(Kc)[0],e=wr().memoizedState;return[t,e]},useMutableSource:tE,useSyncExternalStore:nE,useId:gE,unstable_isNewReconciler:!1};function Ya(t,e){try{var n="",r=e;do n+=NS(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function sp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Im(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sA=typeof WeakMap=="function"?WeakMap:Map;function wE(t,e,n){n=Ns(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zh||(zh=!0,Om=r),Im(t,e)},n}function xE(t,e,n){n=Ns(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Im(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Im(t,e),typeof r!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function h3(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new sA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=vA.bind(null,t,e,n),e.then(t,t))}function f3(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function p3(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ns(-1,1),e.tag=2,gi(n,e,1))),n.lanes|=1),t)}var iA=Bs.ReactCurrentOwner,On=!1;function In(t,e,n,r){e.child=t===null?Z4(e,null,n,r):Ka(e,t.child,n,r)}function m3(t,e,n,r,s){n=n.render;var i=e.ref;return Ra(e,s),r=b1(t,e,n,r,i,s),n=S1(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ds(t,e,s)):(it&&n&&p1(e),e.flags|=1,In(t,e,r,s),e.child)}function g3(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!j1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,EE(t,e,i,r,s)):(t=ah(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Vc,n(o,r)&&t.ref===e.ref)return Ds(t,e,s)}return e.flags|=1,t=_i(i,r),t.ref=e.ref,t.return=e,e.child=t}function EE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Vc(i,r)&&t.ref===e.ref)if(On=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(On=!0);else return e.lanes=t.lanes,Ds(t,e,s)}return bm(t,e,n,r,s)}function CE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(_a,Wn),Wn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qe(_a,Wn),Wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Qe(_a,Wn),Wn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Qe(_a,Wn),Wn|=r;return In(t,e,s,n),e.child}function TE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bm(t,e,n,r,s){var i=Fn(n)?xo:xn.current;return i=qa(e,i),Ra(e,s),n=b1(t,e,n,r,i,s),r=S1(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ds(t,e,s)):(it&&r&&p1(e),e.flags|=1,In(t,e,n,s),e.child)}function y3(t,e,n,r,s){if(Fn(n)){var i=!0;Ph(e)}else i=!1;if(Ra(e,s),e.stateNode===null)sh(t,e),X4(e,n,r),Tm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=_r(c):(c=Fn(n)?xo:xn.current,c=qa(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&l3(e,o,r,c),Ys=!1;var h=e.memoizedState;o.state=h,jh(e,r,o,s),l=e.memoizedState,a!==r||h!==l||$n.current||Ys?(typeof u=="function"&&(Cm(e,n,u,r),l=e.memoizedState),(a=Ys||a3(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Q4(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Lr(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=_r(l):(l=Fn(n)?xo:xn.current,l=qa(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&l3(e,o,r,l),Ys=!1,h=e.memoizedState,o.state=h,jh(e,r,o,s);var g=e.memoizedState;a!==d||h!==g||$n.current||Ys?(typeof p=="function"&&(Cm(e,n,p,r),g=e.memoizedState),(c=Ys||a3(e,n,c,r,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Sm(t,e,n,r,i,s)}function Sm(t,e,n,r,s,i){TE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&n3(e,n,!1),Ds(t,e,i);r=e.stateNode,iA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ka(e,t.child,null,i),e.child=Ka(e,null,a,i)):In(t,e,a,i),e.memoizedState=r.state,s&&n3(e,n,!0),e.child}function IE(t){var e=t.stateNode;e.pendingContext?t3(t,e.pendingContext,e.pendingContext!==e.context):e.context&&t3(t,e.context,!1),E1(t,e.containerInfo)}function v3(t,e,n,r,s){return Ga(),g1(s),e.flags|=256,In(t,e,n,r),e.child}var Am={dehydrated:null,treeContext:null,retryLane:0};function Rm(t){return{baseLanes:t,cachePool:null,transitions:null}}function bE(t,e,n){var r=e.pendingProps,s=ot.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Qe(ot,s&1),t===null)return xm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=G0(o,r,0,null),t=go(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Rm(n),e.memoizedState=Am,t):k1(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return oA(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=_i(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=_i(a,i):(i=go(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Rm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Am,r}return i=t.child,t=i.sibling,r=_i(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function k1(t,e){return e=G0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ad(t,e,n,r){return r!==null&&g1(r),Ka(e,t.child,null,n),t=k1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oA(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=sp(Error(W(422))),Ad(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=G0({mode:"visible",children:r.children},s,0,null),i=go(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ka(e,t.child,null,o),e.child.memoizedState=Rm(o),e.memoizedState=Am,i);if(!(e.mode&1))return Ad(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=sp(i,r,void 0),Ad(t,e,o,r)}if(a=(o&t.childLanes)!==0,On||a){if(r=Ht,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Os(t,s),Fr(r,t,s,-1))}return D1(),r=sp(Error(W(421))),Ad(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=_A.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,qn=mi(s.nextSibling),Qn=e,it=!0,Or=null,t!==null&&(ur[dr++]=Is,ur[dr++]=bs,ur[dr++]=Eo,Is=t.id,bs=t.overflow,Eo=e),e=k1(e,r.children),e.flags|=4096,e)}function _3(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Em(t.return,e,n)}function ip(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function SE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(In(t,e,r.children,n),r=ot.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_3(t,n,e);else if(t.tag===19)_3(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qe(ot,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&$h(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ip(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&$h(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ip(e,!0,n,null,i);break;case"together":ip(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ds(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),To|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=_i(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_i(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function aA(t,e,n){switch(e.tag){case 3:IE(e),Ga();break;case 5:eE(e);break;case 1:Fn(e.type)&&Ph(e);break;case 4:E1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Qe(Oh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qe(ot,ot.current&1),e.flags|=128,null):n&e.child.childLanes?bE(t,e,n):(Qe(ot,ot.current&1),t=Ds(t,e,n),t!==null?t.sibling:null);Qe(ot,ot.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return SE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Qe(ot,ot.current),r)break;return null;case 22:case 23:return e.lanes=0,CE(t,e,n)}return Ds(t,e,n)}var AE,km,RE,kE;AE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};km=function(){};RE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,so(is.current);var i=null;switch(n){case"input":s=Jp(t,s),r=Jp(t,r),i=[];break;case"select":s=ct({},s,{value:void 0}),r=ct({},r,{value:void 0}),i=[];break;case"textarea":s=tm(t,s),r=tm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kh)}rm(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Mc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Mc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Xe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};kE=function(t,e,n,r){n!==r&&(e.flags|=4)};function zl(t,e){if(!it)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ln(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lA(t,e,n){var r=e.pendingProps;switch(m1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(e),null;case 1:return Fn(e.type)&&Nh(),ln(e),null;case 3:return r=e.stateNode,Qa(),tt($n),tt(xn),T1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Or!==null&&($m(Or),Or=null))),km(t,e),ln(e),null;case 5:C1(e);var s=so(qc.current);if(n=e.type,t!==null&&e.stateNode!=null)RE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return ln(e),null}if(t=so(is.current),bd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Jr]=e,r[Wc]=i,t=(e.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(s=0;s<oc.length;s++)Xe(oc[s],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":A_(r,i),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Xe("invalid",r);break;case"textarea":k_(r,i),Xe("invalid",r)}rm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Id(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Id(r.textContent,a,t),s=["children",""+a]):Mc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Xe("scroll",r)}switch(n){case"input":yd(r),R_(r,i,!0);break;case"textarea":yd(r),N_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=kh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=r4(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Jr]=e,t[Wc]=r,AE(t,e,!1,!1),e.stateNode=t;e:{switch(o=sm(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),s=r;break;case"iframe":case"object":case"embed":Xe("load",t),s=r;break;case"video":case"audio":for(s=0;s<oc.length;s++)Xe(oc[s],t);s=r;break;case"source":Xe("error",t),s=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),s=r;break;case"details":Xe("toggle",t),s=r;break;case"input":A_(t,r),s=Jp(t,r),Xe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ct({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":k_(t,r),s=tm(t,r),Xe("invalid",t);break;default:s=r}rm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?o4(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&s4(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Oc(t,l):typeof l=="number"&&Oc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Mc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Xe("scroll",t):l!=null&&e1(t,i,l,o))}switch(n){case"input":yd(t),R_(t,r,!1);break;case"textarea":yd(t),N_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Si(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ia(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ia(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=kh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ln(e),null;case 6:if(t&&e.stateNode!=null)kE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=so(qc.current),so(is.current),bd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jr]=e,(i=r.nodeValue!==n)&&(t=Qn,t!==null))switch(t.tag){case 3:Id(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Id(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jr]=e,e.stateNode=r}return ln(e),null;case 13:if(tt(ot),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(it&&qn!==null&&e.mode&1&&!(e.flags&128))G4(),Ga(),e.flags|=98560,i=!1;else if(i=bd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[Jr]=e}else Ga(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ln(e),i=!1}else Or!==null&&($m(Or),Or=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?$t===0&&($t=3):D1())),e.updateQueue!==null&&(e.flags|=4),ln(e),null);case 4:return Qa(),km(t,e),t===null&&zc(e.stateNode.containerInfo),ln(e),null;case 10:return _1(e.type._context),ln(e),null;case 17:return Fn(e.type)&&Nh(),ln(e),null;case 19:if(tt(ot),i=e.memoizedState,i===null)return ln(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)zl(i,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$h(t),o!==null){for(e.flags|=128,zl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qe(ot,ot.current&1|2),e.child}t=t.sibling}i.tail!==null&&xt()>Xa&&(e.flags|=128,r=!0,zl(i,!1),e.lanes=4194304)}else{if(!r)if(t=$h(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!it)return ln(e),null}else 2*xt()-i.renderingStartTime>Xa&&n!==1073741824&&(e.flags|=128,r=!0,zl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=xt(),e.sibling=null,n=ot.current,Qe(ot,r?n&1|2:n&1),e):(ln(e),null);case 22:case 23:return O1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wn&1073741824&&(ln(e),e.subtreeFlags&6&&(e.flags|=8192)):ln(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function cA(t,e){switch(m1(e),e.tag){case 1:return Fn(e.type)&&Nh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qa(),tt($n),tt(xn),T1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return C1(e),null;case 13:if(tt(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Ga()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tt(ot),null;case 4:return Qa(),null;case 10:return _1(e.type._context),null;case 22:case 23:return O1(),null;case 24:return null;default:return null}}var Rd=!1,hn=!1,uA=typeof WeakSet=="function"?WeakSet:Set,J=null;function va(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ht(t,e,r)}else n.current=null}function Nm(t,e,n){try{n()}catch(r){ht(t,e,r)}}var w3=!1;function dA(t,e){if(pm=Sh,t=M4(),f1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(mm={focusedElem:t,selectionRange:n},Sh=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,m=e.stateNode,_=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:Lr(e.type,y),v);m.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(T){ht(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return g=w3,w3=!1,g}function wc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Nm(e,n,i)}s=s.next}while(s!==r)}}function H0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Pm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function NE(t){var e=t.alternate;e!==null&&(t.alternate=null,NE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jr],delete e[Wc],delete e[vm],delete e[G8],delete e[K8])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function PE(t){return t.tag===5||t.tag===3||t.tag===4}function x3(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||PE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kh));else if(r!==4&&(t=t.child,t!==null))for(Lm(t,e,n),t=t.sibling;t!==null;)Lm(t,e,n),t=t.sibling}function Mm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Mm(t,e,n),t=t.sibling;t!==null;)Mm(t,e,n),t=t.sibling}var Xt=null,Mr=!1;function Gs(t,e,n){for(n=n.child;n!==null;)LE(t,e,n),n=n.sibling}function LE(t,e,n){if(ss&&typeof ss.onCommitFiberUnmount=="function")try{ss.onCommitFiberUnmount(j0,n)}catch{}switch(n.tag){case 5:hn||va(n,e);case 6:var r=Xt,s=Mr;Xt=null,Gs(t,e,n),Xt=r,Mr=s,Xt!==null&&(Mr?(t=Xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xt.removeChild(n.stateNode));break;case 18:Xt!==null&&(Mr?(t=Xt,n=n.stateNode,t.nodeType===8?J2(t.parentNode,n):t.nodeType===1&&J2(t,n),Fc(t)):J2(Xt,n.stateNode));break;case 4:r=Xt,s=Mr,Xt=n.stateNode.containerInfo,Mr=!0,Gs(t,e,n),Xt=r,Mr=s;break;case 0:case 11:case 14:case 15:if(!hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Nm(n,e,o),s=s.next}while(s!==r)}Gs(t,e,n);break;case 1:if(!hn&&(va(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ht(n,e,a)}Gs(t,e,n);break;case 21:Gs(t,e,n);break;case 22:n.mode&1?(hn=(r=hn)||n.memoizedState!==null,Gs(t,e,n),hn=r):Gs(t,e,n);break;default:Gs(t,e,n)}}function E3(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new uA),e.forEach(function(r){var s=wA.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Nr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xt=a.stateNode,Mr=!1;break e;case 3:Xt=a.stateNode.containerInfo,Mr=!0;break e;case 4:Xt=a.stateNode.containerInfo,Mr=!0;break e}a=a.return}if(Xt===null)throw Error(W(160));LE(i,o,s),Xt=null,Mr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ht(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ME(e,t),e=e.sibling}function ME(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nr(e,t),Gr(t),r&4){try{wc(3,t,t.return),H0(3,t)}catch(y){ht(t,t.return,y)}try{wc(5,t,t.return)}catch(y){ht(t,t.return,y)}}break;case 1:Nr(e,t),Gr(t),r&512&&n!==null&&va(n,n.return);break;case 5:if(Nr(e,t),Gr(t),r&512&&n!==null&&va(n,n.return),t.flags&32){var s=t.stateNode;try{Oc(s,"")}catch(y){ht(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&t4(s,i),sm(a,o);var c=sm(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?o4(s,d):u==="dangerouslySetInnerHTML"?s4(s,d):u==="children"?Oc(s,d):e1(s,u,d,c)}switch(a){case"input":Zp(s,i);break;case"textarea":n4(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ia(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ia(s,!!i.multiple,i.defaultValue,!0):Ia(s,!!i.multiple,i.multiple?[]:"",!1))}s[Wc]=i}catch(y){ht(t,t.return,y)}}break;case 6:if(Nr(e,t),Gr(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){ht(t,t.return,y)}}break;case 3:if(Nr(e,t),Gr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fc(e.containerInfo)}catch(y){ht(t,t.return,y)}break;case 4:Nr(e,t),Gr(t);break;case 13:Nr(e,t),Gr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(L1=xt())),r&4&&E3(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(hn=(c=hn)||u,Nr(e,t),hn=c):Nr(e,t),Gr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(J=t,u=t.child;u!==null;){for(d=J=u;J!==null;){switch(h=J,p=h.child,h.tag){case 0:case 11:case 14:case 15:wc(4,h,h.return);break;case 1:va(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){ht(r,n,y)}}break;case 5:va(h,h.return);break;case 22:if(h.memoizedState!==null){T3(d);continue}}p!==null?(p.return=h,J=p):T3(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=i4("display",o))}catch(y){ht(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){ht(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Nr(e,t),Gr(t),r&4&&E3(t);break;case 21:break;default:Nr(e,t),Gr(t)}}function Gr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(PE(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Oc(s,""),r.flags&=-33);var i=x3(t);Mm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=x3(t);Lm(t,a,o);break;default:throw Error(W(161))}}catch(l){ht(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hA(t,e,n){J=t,OE(t)}function OE(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var s=J,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Rd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||hn;a=Rd;var c=hn;if(Rd=o,(hn=l)&&!c)for(J=s;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?I3(s):l!==null?(l.return=o,J=l):I3(s);for(;i!==null;)J=i,OE(i),i=i.sibling;J=s,Rd=a,hn=c}C3(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,J=i):C3(t)}}function C3(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hn||H0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Lr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&o3(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}o3(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Fc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}hn||e.flags&512&&Pm(e)}catch(h){ht(e,e.return,h)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function T3(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function I3(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{H0(4,e)}catch(l){ht(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ht(e,s,l)}}var i=e.return;try{Pm(e)}catch(l){ht(e,i,l)}break;case 5:var o=e.return;try{Pm(e)}catch(l){ht(e,o,l)}}}catch(l){ht(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var fA=Math.ceil,Vh=Bs.ReactCurrentDispatcher,N1=Bs.ReactCurrentOwner,gr=Bs.ReactCurrentBatchConfig,Ce=0,Ht=null,Rt=null,nn=0,Wn=0,_a=ji(0),$t=0,Yc=null,To=0,q0=0,P1=0,xc=null,Pn=null,L1=0,Xa=1/0,Es=null,zh=!1,Om=null,yi=null,kd=!1,oi=null,Bh=0,Ec=0,Dm=null,ih=-1,oh=0;function Sn(){return Ce&6?xt():ih!==-1?ih:ih=xt()}function vi(t){return t.mode&1?Ce&2&&nn!==0?nn&-nn:Y8.transition!==null?(oh===0&&(oh=v4()),oh):(t=Me,t!==0||(t=window.event,t=t===void 0?16:I4(t.type)),t):1}function Fr(t,e,n,r){if(50<Ec)throw Ec=0,Dm=null,Error(W(185));Pu(t,n,r),(!(Ce&2)||t!==Ht)&&(t===Ht&&(!(Ce&2)&&(q0|=n),$t===4&&Js(t,nn)),Un(t,r),n===1&&Ce===0&&!(e.mode&1)&&(Xa=xt()+500,z0&&$i()))}function Un(t,e){var n=t.callbackNode;YS(t,e);var r=bh(t,t===Ht?nn:0);if(r===0)n!==null&&M_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&M_(n),e===1)t.tag===0?Q8(b3.bind(null,t)):W4(b3.bind(null,t)),H8(function(){!(Ce&6)&&$i()}),n=null;else{switch(_4(r)){case 1:n=i1;break;case 4:n=g4;break;case 16:n=Ih;break;case 536870912:n=y4;break;default:n=Ih}n=BE(n,DE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function DE(t,e){if(ih=-1,oh=0,Ce&6)throw Error(W(327));var n=t.callbackNode;if(ka()&&t.callbackNode!==n)return null;var r=bh(t,t===Ht?nn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Wh(t,r);else{e=r;var s=Ce;Ce|=2;var i=$E();(Ht!==t||nn!==e)&&(Es=null,Xa=xt()+500,mo(t,e));do try{gA();break}catch(a){jE(t,a)}while(!0);v1(),Vh.current=i,Ce=s,Rt!==null?e=0:(Ht=null,nn=0,e=$t)}if(e!==0){if(e===2&&(s=cm(t),s!==0&&(r=s,e=jm(t,s))),e===1)throw n=Yc,mo(t,0),Js(t,r),Un(t,xt()),n;if(e===6)Js(t,r);else{if(s=t.current.alternate,!(r&30)&&!pA(s)&&(e=Wh(t,r),e===2&&(i=cm(t),i!==0&&(r=i,e=jm(t,i))),e===1))throw n=Yc,mo(t,0),Js(t,r),Un(t,xt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Xi(t,Pn,Es);break;case 3:if(Js(t,r),(r&130023424)===r&&(e=L1+500-xt(),10<e)){if(bh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Sn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ym(Xi.bind(null,t,Pn,Es),e);break}Xi(t,Pn,Es);break;case 4:if(Js(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-$r(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fA(r/1960))-r,10<r){t.timeoutHandle=ym(Xi.bind(null,t,Pn,Es),r);break}Xi(t,Pn,Es);break;case 5:Xi(t,Pn,Es);break;default:throw Error(W(329))}}}return Un(t,xt()),t.callbackNode===n?DE.bind(null,t):null}function jm(t,e){var n=xc;return t.current.memoizedState.isDehydrated&&(mo(t,e).flags|=256),t=Wh(t,e),t!==2&&(e=Pn,Pn=n,e!==null&&$m(e)),t}function $m(t){Pn===null?Pn=t:Pn.push.apply(Pn,t)}function pA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Vr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Js(t,e){for(e&=~P1,e&=~q0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$r(e),r=1<<n;t[n]=-1,e&=~r}}function b3(t){if(Ce&6)throw Error(W(327));ka();var e=bh(t,0);if(!(e&1))return Un(t,xt()),null;var n=Wh(t,e);if(t.tag!==0&&n===2){var r=cm(t);r!==0&&(e=r,n=jm(t,r))}if(n===1)throw n=Yc,mo(t,0),Js(t,e),Un(t,xt()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xi(t,Pn,Es),Un(t,xt()),null}function M1(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(Xa=xt()+500,z0&&$i())}}function Io(t){oi!==null&&oi.tag===0&&!(Ce&6)&&ka();var e=Ce;Ce|=1;var n=gr.transition,r=Me;try{if(gr.transition=null,Me=1,t)return t()}finally{Me=r,gr.transition=n,Ce=e,!(Ce&6)&&$i()}}function O1(){Wn=_a.current,tt(_a)}function mo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,W8(n)),Rt!==null)for(n=Rt.return;n!==null;){var r=n;switch(m1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nh();break;case 3:Qa(),tt($n),tt(xn),T1();break;case 5:C1(r);break;case 4:Qa();break;case 13:tt(ot);break;case 19:tt(ot);break;case 10:_1(r.type._context);break;case 22:case 23:O1()}n=n.return}if(Ht=t,Rt=t=_i(t.current,null),nn=Wn=e,$t=0,Yc=null,P1=q0=To=0,Pn=xc=null,ro!==null){for(e=0;e<ro.length;e++)if(n=ro[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ro=null}return t}function jE(t,e){do{var n=Rt;try{if(v1(),nh.current=Uh,Fh){for(var r=at.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Fh=!1}if(Co=0,zt=jt=at=null,_c=!1,Gc=0,N1.current=null,n===null||n.return===null){$t=1,Yc=e,Rt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=nn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=f3(o);if(p!==null){p.flags&=-257,p3(p,o,a,i,e),p.mode&1&&h3(i,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){h3(i,c,e),D1();break e}l=Error(W(426))}}else if(it&&a.mode&1){var v=f3(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),p3(v,o,a,i,e),g1(Ya(l,a));break e}}i=l=Ya(l,a),$t!==4&&($t=2),xc===null?xc=[i]:xc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=wE(i,l,e);i3(i,m);break e;case 1:a=l;var _=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(yi===null||!yi.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=xE(i,a,e);i3(i,T);break e}}i=i.return}while(i!==null)}UE(n)}catch(R){e=R,Rt===n&&n!==null&&(Rt=n=n.return);continue}break}while(!0)}function $E(){var t=Vh.current;return Vh.current=Uh,t===null?Uh:t}function D1(){($t===0||$t===3||$t===2)&&($t=4),Ht===null||!(To&268435455)&&!(q0&268435455)||Js(Ht,nn)}function Wh(t,e){var n=Ce;Ce|=2;var r=$E();(Ht!==t||nn!==e)&&(Es=null,mo(t,e));do try{mA();break}catch(s){jE(t,s)}while(!0);if(v1(),Ce=n,Vh.current=r,Rt!==null)throw Error(W(261));return Ht=null,nn=0,$t}function mA(){for(;Rt!==null;)FE(Rt)}function gA(){for(;Rt!==null&&!VS();)FE(Rt)}function FE(t){var e=zE(t.alternate,t,Wn);t.memoizedProps=t.pendingProps,e===null?UE(t):Rt=e,N1.current=null}function UE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=cA(n,e),n!==null){n.flags&=32767,Rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,Rt=null;return}}else if(n=lA(n,e,Wn),n!==null){Rt=n;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);$t===0&&($t=5)}function Xi(t,e,n){var r=Me,s=gr.transition;try{gr.transition=null,Me=1,yA(t,e,n,r)}finally{gr.transition=s,Me=r}return null}function yA(t,e,n,r){do ka();while(oi!==null);if(Ce&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(XS(t,i),t===Ht&&(Rt=Ht=null,nn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kd||(kd=!0,BE(Ih,function(){return ka(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=gr.transition,gr.transition=null;var o=Me;Me=1;var a=Ce;Ce|=4,N1.current=null,dA(t,n),ME(n,t),j8(mm),Sh=!!pm,mm=pm=null,t.current=n,hA(n),zS(),Ce=a,Me=o,gr.transition=i}else t.current=n;if(kd&&(kd=!1,oi=t,Bh=s),i=t.pendingLanes,i===0&&(yi=null),HS(n.stateNode),Un(t,xt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(zh)throw zh=!1,t=Om,Om=null,t;return Bh&1&&t.tag!==0&&ka(),i=t.pendingLanes,i&1?t===Dm?Ec++:(Ec=0,Dm=t):Ec=0,$i(),null}function ka(){if(oi!==null){var t=_4(Bh),e=gr.transition,n=Me;try{if(gr.transition=null,Me=16>t?16:t,oi===null)var r=!1;else{if(t=oi,oi=null,Bh=0,Ce&6)throw Error(W(331));var s=Ce;for(Ce|=4,J=t.current;J!==null;){var i=J,o=i.child;if(J.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(J=c;J!==null;){var u=J;switch(u.tag){case 0:case 11:case 15:wc(8,u,i)}var d=u.child;if(d!==null)d.return=u,J=d;else for(;J!==null;){u=J;var h=u.sibling,p=u.return;if(NE(u),u===c){J=null;break}if(h!==null){h.return=p,J=h;break}J=p}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}J=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,J=o;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wc(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,J=m;break e}J=i.return}}var _=t.current;for(J=_;J!==null;){o=J;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,J=w;else e:for(o=_;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:H0(9,a)}}catch(R){ht(a,a.return,R)}if(a===o){J=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,J=T;break e}J=a.return}}if(Ce=s,$i(),ss&&typeof ss.onPostCommitFiberRoot=="function")try{ss.onPostCommitFiberRoot(j0,t)}catch{}r=!0}return r}finally{Me=n,gr.transition=e}}return!1}function S3(t,e,n){e=Ya(n,e),e=wE(t,e,1),t=gi(t,e,1),e=Sn(),t!==null&&(Pu(t,1,e),Un(t,e))}function ht(t,e,n){if(t.tag===3)S3(t,t,n);else for(;e!==null;){if(e.tag===3){S3(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yi===null||!yi.has(r))){t=Ya(n,t),t=xE(e,t,1),e=gi(e,t,1),t=Sn(),e!==null&&(Pu(e,1,t),Un(e,t));break}}e=e.return}}function vA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Sn(),t.pingedLanes|=t.suspendedLanes&n,Ht===t&&(nn&n)===n&&($t===4||$t===3&&(nn&130023424)===nn&&500>xt()-L1?mo(t,0):P1|=n),Un(t,e)}function VE(t,e){e===0&&(t.mode&1?(e=wd,wd<<=1,!(wd&130023424)&&(wd=4194304)):e=1);var n=Sn();t=Os(t,e),t!==null&&(Pu(t,e,n),Un(t,n))}function _A(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),VE(t,n)}function wA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),VE(t,n)}var zE;zE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$n.current)On=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return On=!1,aA(t,e,n);On=!!(t.flags&131072)}else On=!1,it&&e.flags&1048576&&H4(e,Mh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;sh(t,e),t=e.pendingProps;var s=qa(e,xn.current);Ra(e,n),s=b1(null,e,r,t,s,n);var i=S1();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fn(r)?(i=!0,Ph(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,x1(e),s.updater=B0,e.stateNode=s,s._reactInternals=e,Tm(e,r,t,n),e=Sm(null,e,r,!0,i,n)):(e.tag=0,it&&i&&p1(e),In(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(sh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=EA(r),t=Lr(r,t),s){case 0:e=bm(null,e,r,t,n);break e;case 1:e=y3(null,e,r,t,n);break e;case 11:e=m3(null,e,r,t,n);break e;case 14:e=g3(null,e,r,Lr(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Lr(r,s),bm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Lr(r,s),y3(t,e,r,s,n);case 3:e:{if(IE(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Q4(t,e),jh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ya(Error(W(423)),e),e=v3(t,e,r,n,s);break e}else if(r!==s){s=Ya(Error(W(424)),e),e=v3(t,e,r,n,s);break e}else for(qn=mi(e.stateNode.containerInfo.firstChild),Qn=e,it=!0,Or=null,n=Z4(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ga(),r===s){e=Ds(t,e,n);break e}In(t,e,r,n)}e=e.child}return e;case 5:return eE(e),t===null&&xm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,gm(r,s)?o=null:i!==null&&gm(r,i)&&(e.flags|=32),TE(t,e),In(t,e,o,n),e.child;case 6:return t===null&&xm(e),null;case 13:return bE(t,e,n);case 4:return E1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ka(e,null,r,n):In(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Lr(r,s),m3(t,e,r,s,n);case 7:return In(t,e,e.pendingProps,n),e.child;case 8:return In(t,e,e.pendingProps.children,n),e.child;case 12:return In(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Qe(Oh,r._currentValue),r._currentValue=o,i!==null)if(Vr(i.value,o)){if(i.children===s.children&&!$n.current){e=Ds(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ns(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Em(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Em(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}In(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ra(e,n),s=_r(s),r=r(s),e.flags|=1,In(t,e,r,n),e.child;case 14:return r=e.type,s=Lr(r,e.pendingProps),s=Lr(r.type,s),g3(t,e,r,s,n);case 15:return EE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Lr(r,s),sh(t,e),e.tag=1,Fn(r)?(t=!0,Ph(e)):t=!1,Ra(e,n),X4(e,r,s),Tm(e,r,s,n),Sm(null,e,r,!0,t,n);case 19:return SE(t,e,n);case 22:return CE(t,e,n)}throw Error(W(156,e.tag))};function BE(t,e){return m4(t,e)}function xA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(t,e,n,r){return new xA(t,e,n,r)}function j1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function EA(t){if(typeof t=="function")return j1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===n1)return 11;if(t===r1)return 14}return 2}function _i(t,e){var n=t.alternate;return n===null?(n=pr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ah(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")j1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ca:return go(n.children,s,i,e);case t1:o=8,s|=8;break;case Kp:return t=pr(12,n,e,s|2),t.elementType=Kp,t.lanes=i,t;case Qp:return t=pr(13,n,e,s),t.elementType=Qp,t.lanes=i,t;case Yp:return t=pr(19,n,e,s),t.elementType=Yp,t.lanes=i,t;case Jx:return G0(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Yx:o=10;break e;case Xx:o=9;break e;case n1:o=11;break e;case r1:o=14;break e;case Qs:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=pr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function go(t,e,n,r){return t=pr(7,t,r,e),t.lanes=n,t}function G0(t,e,n,r){return t=pr(22,t,r,e),t.elementType=Jx,t.lanes=n,t.stateNode={isHidden:!1},t}function op(t,e,n){return t=pr(6,t,null,e),t.lanes=n,t}function ap(t,e,n){return e=pr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function CA(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=V2(0),this.expirationTimes=V2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=V2(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $1(t,e,n,r,s,i,o,a,l){return t=new CA(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=pr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},x1(i),t}function TA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:la,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WE(t){if(!t)return Ai;t=t._reactInternals;e:{if($o(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Fn(n))return B4(t,n,e)}return e}function HE(t,e,n,r,s,i,o,a,l){return t=$1(n,r,!0,t,s,i,o,a,l),t.context=WE(null),n=t.current,r=Sn(),s=vi(n),i=Ns(r,s),i.callback=e??null,gi(n,i,s),t.current.lanes=s,Pu(t,s,r),Un(t,r),t}function K0(t,e,n,r){var s=e.current,i=Sn(),o=vi(s);return n=WE(n),e.context===null?e.context=n:e.pendingContext=n,e=Ns(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gi(s,e,o),t!==null&&(Fr(t,s,o,i),th(t,s,o)),o}function Hh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function A3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function F1(t,e){A3(t,e),(t=t.alternate)&&A3(t,e)}function IA(){return null}var qE=typeof reportError=="function"?reportError:function(t){console.error(t)};function U1(t){this._internalRoot=t}Q0.prototype.render=U1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));K0(t,e,null,null)};Q0.prototype.unmount=U1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Io(function(){K0(null,t,null,null)}),e[Ms]=null}};function Q0(t){this._internalRoot=t}Q0.prototype.unstable_scheduleHydration=function(t){if(t){var e=E4();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xs.length&&e!==0&&e<Xs[n].priority;n++);Xs.splice(n,0,t),n===0&&T4(t)}};function V1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Y0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function R3(){}function bA(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Hh(o);i.call(c)}}var o=HE(e,r,t,0,null,!1,!1,"",R3);return t._reactRootContainer=o,t[Ms]=o.current,zc(t.nodeType===8?t.parentNode:t),Io(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Hh(l);a.call(c)}}var l=$1(t,0,!1,null,null,!1,!1,"",R3);return t._reactRootContainer=l,t[Ms]=l.current,zc(t.nodeType===8?t.parentNode:t),Io(function(){K0(e,l,n,r)}),l}function X0(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Hh(o);a.call(l)}}K0(e,o,t,s)}else o=bA(n,e,t,s,r);return Hh(o)}w4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ic(e.pendingLanes);n!==0&&(o1(e,n|1),Un(e,xt()),!(Ce&6)&&(Xa=xt()+500,$i()))}break;case 13:Io(function(){var r=Os(t,1);if(r!==null){var s=Sn();Fr(r,t,1,s)}}),F1(t,1)}};a1=function(t){if(t.tag===13){var e=Os(t,134217728);if(e!==null){var n=Sn();Fr(e,t,134217728,n)}F1(t,134217728)}};x4=function(t){if(t.tag===13){var e=vi(t),n=Os(t,e);if(n!==null){var r=Sn();Fr(n,t,e,r)}F1(t,e)}};E4=function(){return Me};C4=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};om=function(t,e,n){switch(e){case"input":if(Zp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=V0(r);if(!s)throw Error(W(90));e4(r),Zp(r,s)}}}break;case"textarea":n4(t,n);break;case"select":e=n.value,e!=null&&Ia(t,!!n.multiple,e,!1)}};c4=M1;u4=Io;var SA={usingClientEntryPoint:!1,Events:[Mu,fa,V0,a4,l4,M1]},Bl={findFiberByHostInstance:no,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},AA={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=f4(t),t===null?null:t.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||IA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nd.isDisabled&&Nd.supportsFiber)try{j0=Nd.inject(AA),ss=Nd}catch{}}nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SA;nr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V1(e))throw Error(W(200));return TA(t,e,null,n)};nr.createRoot=function(t,e){if(!V1(t))throw Error(W(299));var n=!1,r="",s=qE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=$1(t,1,!1,null,null,n,!1,r,s),t[Ms]=e.current,zc(t.nodeType===8?t.parentNode:t),new U1(e)};nr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=f4(e),t=t===null?null:t.stateNode,t};nr.flushSync=function(t){return Io(t)};nr.hydrate=function(t,e,n){if(!Y0(e))throw Error(W(200));return X0(null,t,e,!0,n)};nr.hydrateRoot=function(t,e,n){if(!V1(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=qE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=HE(e,null,t,1,n??null,s,!1,i,o),t[Ms]=e.current,zc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Q0(e)};nr.render=function(t,e,n){if(!Y0(e))throw Error(W(200));return X0(null,t,e,!1,n)};nr.unmountComponentAtNode=function(t){if(!Y0(t))throw Error(W(40));return t._reactRootContainer?(Io(function(){X0(null,null,t,!1,function(){t._reactRootContainer=null,t[Ms]=null})}),!0):!1};nr.unstable_batchedUpdates=M1;nr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Y0(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return X0(t,e,n,!1,r)};nr.version="18.2.0-next-9e3b772b8-20220608";function GE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GE)}catch(t){console.error(t)}}GE(),Hx.exports=nr;var RA=Hx.exports,k3=RA;qp.createRoot=k3.createRoot,qp.hydrateRoot=k3.hydrateRoot;const kA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M41.9375%208.625C41.273438%208.648438%2040.664063%209%2040.3125%209.5625L21.5%2038.34375L9.3125%2027.8125C8.789063%2027.269531%208.003906%2027.066406%207.28125%2027.292969C6.5625%2027.515625%206.027344%2028.125%205.902344%2028.867188C5.777344%2029.613281%206.078125%2030.363281%206.6875%2030.8125L20.625%2042.875C21.0625%2043.246094%2021.640625%2043.410156%2022.207031%2043.328125C22.777344%2043.242188%2023.28125%2042.917969%2023.59375%2042.4375L43.6875%2011.75C44.117188%2011.121094%2044.152344%2010.308594%2043.78125%209.644531C43.410156%208.984375%2042.695313%208.589844%2041.9375%208.625Z'%20fill='%231EE97C'%20/%3e%3c/svg%3e",NA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",PA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%203C14.168432%203%2013.456063%203.5067238%2013.154297%204.2285156L2.3007812%2022.947266L2.3007812%2022.949219%20A%202%202%200%200%200%202%2024%20A%202%202%200%200%200%204%2026%20A%202%202%200%200%200%204.140625%2025.994141L4.1445312%2026L15%2026L25.855469%2026L25.859375%2025.992188%20A%202%202%200%200%200%2026%2026%20A%202%202%200%200%200%2028%2024%20A%202%202%200%200%200%2027.699219%2022.947266L27.683594%2022.919922%20A%202%202%200%200%200%2027.681641%2022.917969L16.845703%204.2285156C16.543937%203.5067238%2015.831568%203%2015%203%20z%20M%2013.787109%2011.359375L16.212891%2011.359375L16.011719%2017.832031L13.988281%2017.832031L13.787109%2011.359375%20z%20M%2015.003906%2019.810547C15.825906%2019.810547%2016.318359%2020.252813%2016.318359%2021.007812C16.318359%2021.748812%2015.825906%2022.189453%2015.003906%2022.189453C14.175906%2022.189453%2013.679688%2021.748813%2013.679688%2021.007812C13.679688%2020.252813%2014.174906%2019.810547%2015.003906%2019.810547%20z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",LA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M3,12v-2c0-0.386,0.223-0.738,0.572-0.904s0.762-0.115,1.062,0.13L15,17.708l10.367-8.482%20c0.299-0.245,0.712-0.295,1.062-0.13C26.779,9.261,27,9.614,27,10v2c0,0.3-0.135,0.584-0.367,0.774l-11,9%20c-0.369,0.301-0.898,0.301-1.267,0l-11-9C3.135,12.584,3,12.3,3,12z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",MA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M17,3h2c0.386,0,0.738,0.223,0.904,0.572s0.115,0.762-0.13,1.062L11.292,15l8.482,10.367%20c0.245,0.299,0.295,0.712,0.13,1.062S19.386,27,19,27h-2c-0.3,0-0.584-0.135-0.774-0.367l-9-11c-0.301-0.369-0.301-0.898,0-1.267%20l9-11C16.416,3.135,16.7,3,17,3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",OA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M19,7h-6.774l0.564-1.551c0.604-1.662-0.134-3.512-1.716-4.302c-0.691-0.345-1.532-0.064-1.877,0.627L6.339,7.504%20C5.532,8.042,5,8.958,5,10v7c0,2.209,1.791,4,4,4h6.989c2.344,0,4.373-1.628,4.881-3.915L22,12v-2C22,8.343,20.657,7,19,7z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M7,19.5c0-0.386,0-10.614,0-11C7,7.672,6.328,7,5.5,7S4,7.672,4,8.5c0,0.386,0,10.614,0,11C4,20.328,4.672,21,5.5,21S7,20.328,7,19.5z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",DA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M12,6h4V3.706c0-0.615,0.742-0.924,1.178-0.491l4.104,4.075c0.395,0.391,0.395,1.03,0,1.421l-4.104,4.075C16.742,13.218,16,12.908,16,12.294V10h-4c-4.351,0-5,2.661-5,4H3C3,10.31,5.357,6,12,6z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M8,22c0.513,0,1.024-0.196,1.415-0.587c0.78-0.781,0.78-2.046,0-2.827C8.786,17.951,7,15.753,7,14c0-6.845,5-8,5-8c-6.643,0-9,4.31-9,8c0,3.726,3.22,7.049,3.587,7.415C6.978,21.805,7.488,22,8,22z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",jA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M12,27h-2c-0.386,0-0.738-0.223-0.904-0.572s-0.115-0.762,0.13-1.062L17.708,15L9.226,4.633%20c-0.245-0.299-0.295-0.712-0.13-1.062S9.614,3,10,3h2c0.3,0,0.584,0.135,0.774,0.367l9,11c0.301,0.369,0.301,0.898,0,1.267l-9,11%20C12.584,26.865,12.3,27,12,27z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",$A="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L11.5%206%20z%20M%2011.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209%20z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",FA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C11.832031%204%208.152344%206.113281%206%209.34375L6%206L4%206L4%2013L11%2013L11%2011L7.375%2011C9.101563%208.019531%2012.296875%206%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016L4%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2015%208L15%2017L22%2017L22%2015L17%2015L17%208Z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",UA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L5%203C4.4%203%204%203.4%204%204C4%204.6%204.4%205%205%205L7%205L17%205L19%205C19.6%205%2020%204.6%2020%204C20%203.4%2019.6%203%2019%203L15%203L14%202L10%202%20z%20M%205%207L5%2020C5%2021.1%205.9%2022%207%2022L17%2022C18.1%2022%2019%2021.1%2019%2020L19%207L5%207%20z%20M%209%209C9.6%209%2010%209.4%2010%2010L10%2019C10%2019.6%209.6%2020%209%2020C8.4%2020%208%2019.6%208%2019L8%2010C8%209.4%208.4%209%209%209%20z%20M%2015%209C15.6%209%2016%209.4%2016%2010L16%2019C16%2019.6%2015.6%2020%2015%2020C14.4%2020%2014%2019.6%2014%2019L14%2010C14%209.4%2014.4%209%2015%209%20z'%20fill='%23FF4A33'%20/%3e%3c/svg%3e",VA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20fill='%230F0F0F'%20/%3e%3cpath%20d='M3%2011H21V13H3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",zA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3cpath%20d='M79.335938%2015.667969C78.064453%2015.622266%2076.775%2015.762109%2075.5%2016.099609C72.1%2016.999609%2069.299609%2019.199219%2067.599609%2022.199219L64%2028.699219C63.2%2030.099219%2063.699609%2032.000781%2065.099609%2032.800781L82.400391%2042.800781C82.900391%2043.100781%2083.400391%2043.199219%2083.900391%2043.199219C84.200391%2043.199219%2084.399219%2043.199609%2084.699219%2043.099609C85.499219%2042.899609%2086.1%2042.399219%2086.5%2041.699219L90.199219%2035.199219C91.899219%2032.199219%2092.4%2028.700781%2091.5%2025.300781C90.6%2021.900781%2088.400391%2019.100391%2085.400391%2017.400391C83.525391%2016.337891%2081.455078%2015.744141%2079.335938%2015.667969%20z%20M%2060.097656%2038.126953C59.128906%2038.201172%2058.199219%2038.724609%2057.699219%2039.599609L27.5%2092C24.1%2097.8%2022.200781%20104.30039%2021.800781%20110.90039L21%20123.80078C20.9%20124.90078%2021.5%20125.99961%2022.5%20126.59961C23%20126.89961%2023.5%20127%2024%20127C24.6%20127%2025.199219%20126.8%2025.699219%20126.5L36.5%20119.40039C42%20115.70039%2046.7%20110.8%2050%20105L80.300781%2052.599609C81.100781%2051.199609%2080.599219%2049.3%2079.199219%2048.5C77.799219%2047.7%2075.899609%2048.199609%2075.099609%2049.599609L44.800781%20102C41.900781%20106.9%2037.899609%20111.20039%2033.099609%20114.40039L27.300781%20118.19922L27.699219%20111.30078C27.999219%20105.60078%2029.699609%20100%2032.599609%2095L62.900391%2042.599609C63.700391%2041.199609%2063.200781%2039.3%2061.800781%2038.5C61.275781%2038.2%2060.678906%2038.082422%2060.097656%2038.126953%20z%20M%2049%20121C47.3%20121%2046%20122.3%2046%20124C46%20125.7%2047.3%20127%2049%20127L89%20127C90.7%20127%2092%20125.7%2092%20124C92%20122.3%2090.7%20121%2089%20121L49%20121%20z%20M%20104%20121%20A%203%203%200%200%200%20101%20124%20A%203%203%200%200%200%20104%20127%20A%203%203%200%200%200%20107%20124%20A%203%203%200%200%200%20104%20121%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",BA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M5%203C3.9057453%203%203%203.9057453%203%205L3%2019C3%2020.094255%203.9057453%2021%205%2021L19%2021C20.094255%2021%2021%2020.094255%2021%2019L21%207L17%203L5%203%20z%20M%205%205L16.171875%205L19%207.828125L19%2019L5%2019L5%205%20z%20M%207%207L7%2010L15%2010L15%207L7%207%20z%20M%2011.5%2012%20A%202.5%202.5%200%200%200%209%2014.5%20A%202.5%202.5%200%200%200%2011.5%2017%20A%202.5%202.5%200%200%200%2014%2014.5%20A%202.5%202.5%200%200%200%2011.5%2012%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",WA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M27,18v2c0,0.386-0.223,0.738-0.572,0.904c-0.349,0.166-0.762,0.115-1.062-0.13L15,12.292L4.633,20.774%20c-0.299,0.245-0.712,0.295-1.062,0.13C3.221,20.739,3,20.386,3,20v-2c0-0.3,0.135-0.584,0.367-0.774l11-9%20c0.369-0.301,0.898-0.301,1.267,0l11,9C26.865,17.416,27,17.7,27,18z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",HA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%200C13.35499%200%2012%201.3549904%2012%203L8%203C6.3550302%203%205%204.3550302%205%206L5%2024C5%2025.64497%206.3550302%2027%208%2027L22%2027C23.64497%2027%2025%2025.64497%2025%2024L25%206C25%204.3550302%2023.64497%203%2022%203L18%203C18%201.3549904%2016.64501%200%2015%200%20z%20M%2015%202C15.564129%202%2016%202.4358706%2016%203C16%203.5641294%2015.564129%204%2015%204C14.435871%204%2014%203.5641294%2014%203C14%202.4358706%2014.435871%202%2015%202%20z%20M%208%205L12%205L12%206C12%206.552%2012.448%207%2013%207L17%207C17.552%207%2018%206.552%2018%206L18%205L22%205C22.56503%205%2023%205.4349698%2023%206L23%2024C23%2024.56503%2022.56503%2025%2022%2025L8%2025C7.4349698%2025%207%2024.56503%207%2024L7%206C7%205.4349698%207.4349698%205%208%205%20z%20M%2011%2011%20A%201.0001%201.0001%200%201%200%2011%2013L19%2013%20A%201.0001%201.0001%200%201%200%2019%2011L11%2011%20z%20M%2011%2015%20A%201.0001%201.0001%200%201%200%2011%2017L16%2017%20A%201.0001%201.0001%200%201%200%2016%2015L11%2015%20z%20M%2011%2019%20A%201.0001%201.0001%200%201%200%2011%2021L19%2021%20A%201.0001%201.0001%200%201%200%2019%2019L11%2019%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",qA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16.03125%204C14.921875%204%2013.8125%204.15625%2012.71875%204.46875L11.9375%204.6875L12%205.5C12.042969%206.238281%2011.679688%206.949219%2011%207.34375C10.320313%207.738281%209.523438%207.6875%208.90625%207.28125L8.25%206.84375L7.65625%207.375C6.023438%208.957031%204.910156%2010.957031%204.375%2013.09375L4.1875%2013.875L4.875%2014.21875C5.535156%2014.550781%206%2015.210938%206%2016C6%2016.789063%205.535156%2017.449219%204.875%2017.78125L4.15625%2018.125L4.375%2018.90625C4.636719%2019.957031%205.019531%2021.007813%205.59375%2022C6.167969%2022.992188%206.878906%2023.871094%207.65625%2024.625L8.25%2025.1875L8.90625%2024.75C9.523438%2024.34375%2010.316406%2024.261719%2011%2024.65625C11.683594%2025.050781%2012.042969%2025.761719%2012%2026.5L11.9375%2027.3125L12.71875%2027.53125C14.109375%2027.925781%2015.558594%2028.039063%2017%2027.90625L17%2032L32%2032L32%2018L27.59375%2018L27.125%2017.78125C26.464844%2017.449219%2026%2016.789063%2026%2016C26%2015.210938%2026.464844%2014.550781%2027.125%2014.21875L27.84375%2013.875L27.625%2013.09375C27.363281%2012.042969%2026.980469%2010.992188%2026.40625%2010C25.832031%209.007813%2025.121094%208.128906%2024.34375%207.375L23.78125%206.8125L23.09375%207.28125C22.476563%207.6875%2021.683594%207.738281%2021%207.34375L20.96875%207.3125C20.3125%206.914063%2019.957031%206.222656%2020%205.5L20.0625%204.6875L19.28125%204.46875C18.222656%204.167969%2017.140625%204%2016.03125%204%20Z%20M%2016%206.09375C16.742188%206.09375%2017.496094%206.179688%2018.21875%206.34375C18.429688%207.4375%2018.960938%208.460938%2020%209.0625C21.050781%209.667969%2022.21875%209.597656%2023.28125%209.21875C23.785156%209.757813%2024.273438%2010.335938%2024.65625%2011C25.042969%2011.671875%2025.285156%2012.378906%2025.5%2013.09375C24.648438%2013.824219%2024%2014.792969%2024%2016C24%2016.730469%2024.214844%2017.410156%2024.5625%2018L21.65625%2018C21.882813%2017.378906%2022%2016.703125%2022%2016C22%2012.699219%2019.300781%2010%2016%2010C12.699219%2010%2010%2012.699219%2010%2016C10%2019.300781%2012.699219%2022%2016%2022C16.34375%2022%2016.671875%2021.960938%2017%2021.90625L17%2025.90625C15.910156%2026.007813%2014.832031%2025.921875%2013.78125%2025.6875C13.574219%2024.582031%2013.050781%2023.542969%2012%2022.9375C10.949219%2022.332031%209.78125%2022.402344%208.71875%2022.78125C8.210938%2022.238281%207.726563%2021.664063%207.34375%2021C6.957031%2020.328125%206.714844%2019.621094%206.5%2018.90625C7.351563%2018.175781%208%2017.207031%208%2016C8%2014.792969%207.351563%2013.824219%206.5%2013.09375C6.933594%2011.667969%207.710938%2010.371094%208.75%209.25C9.800781%209.609375%2010.960938%209.660156%2012%209.0625C13.039063%208.464844%2013.570313%207.4375%2013.78125%206.34375C14.523438%206.175781%2015.257813%206.09375%2016%206.09375%20Z%20M%2016%2012C18.21875%2012%2020%2013.78125%2020%2016C20%2016.730469%2019.785156%2017.40625%2019.4375%2018L17%2018L17%2019.84375C16.675781%2019.933594%2016.351563%2020%2016%2020C13.78125%2020%2012%2018.21875%2012%2016C12%2013.78125%2013.78125%2012%2016%2012%20Z%20M%2019%2020L30%2020L30%2021L19%2021%20Z%20M%2019%2023L30%2023L30%2030L19%2030%20Z%20M%2026.28125%2023.78125L24%2026.0625L22.71875%2024.78125L21.28125%2026.21875L23.28125%2028.21875L24%2028.90625L24.71875%2028.21875L27.71875%2025.21875Z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",GA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M4%207L4%209L28%209L28%207%20Z%20M%204%2015L4%2017L28%2017L28%2015%20Z%20M%204%2023L4%2025L28%2025L28%2023Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",KA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%202.59375L15.28125%203.28125L2.28125%2016.28125L3.71875%2017.71875L5%2016.4375L5%2028L14%2028L14%2018L18%2018L18%2028L27%2028L27%2016.4375L28.28125%2017.71875L29.71875%2016.28125L16.71875%203.28125%20Z%20M%2016%205.4375L25%2014.4375L25%2026L20%2026L20%2016L12%2016L12%2026L7%2026L7%2014.4375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",QA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M20.5%204C18.203405%204%2016.305701%205.7666235%2016.050781%208L12.5%208C10.032499%208%208%2010.032499%208%2012.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2012.5C40%2010.032499%2037.967501%208%2035.5%208L31.949219%208C31.694299%205.7666235%2029.796595%204%2027.5%204L20.5%204%20z%20M%2020.5%207L27.5%207C28.346499%207%2029%207.6535009%2029%208.5C29%209.3464991%2028.346499%2010%2027.5%2010L20.5%2010C19.653501%2010%2019%209.3464991%2019%208.5C19%207.6535009%2019.653501%207%2020.5%207%20z%20M%2012.5%2011L16.769531%2011C17.581237%2012.2019%2018.954719%2013%2020.5%2013L27.5%2013C29.045281%2013%2030.418763%2012.2019%2031.230469%2011L35.5%2011C36.346499%2011%2037%2011.653501%2037%2012.5L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%2012.5C11%2011.653501%2011.653501%2011%2012.5%2011%20z%20M%2032.470703%2018.986328%20A%201.50015%201.50015%200%200%200%2031.439453%2019.439453L28.5%2022.378906L27.560547%2021.439453%20A%201.50015%201.50015%200%201%200%2025.439453%2023.560547L27.439453%2025.560547%20A%201.50015%201.50015%200%200%200%2029.560547%2025.560547L33.560547%2021.560547%20A%201.50015%201.50015%200%200%200%2032.470703%2018.986328%20z%20M%2015.5%2021%20A%201.50015%201.50015%200%201%200%2015.5%2024L21.5%2024%20A%201.50015%201.50015%200%201%200%2021.5%2021L15.5%2021%20z%20M%2032.486328%2027.978516%20A%201.50015%201.50015%200%200%200%2031.439453%2028.439453L30%2029.878906L28.560547%2028.439453%20A%201.50015%201.50015%200%200%200%2027.484375%2027.984375%20A%201.50015%201.50015%200%200%200%2026.439453%2030.560547L27.878906%2032L26.439453%2033.439453%20A%201.50015%201.50015%200%201%200%2028.560547%2035.560547L30%2034.121094L31.439453%2035.560547%20A%201.50015%201.50015%200%201%200%2033.560547%2033.439453L32.121094%2032L33.560547%2030.560547%20A%201.50015%201.50015%200%200%200%2032.486328%2027.978516%20z%20M%2015.5%2030%20A%201.50015%201.50015%200%201%200%2015.5%2033L21.5%2033%20A%201.50015%201.50015%200%201%200%2021.5%2030L15.5%2030%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",YA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C9.382813%204%204%209.382813%204%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016C6%2010.464844%2010.464844%206%2016%206%20Z%20M%2016%2010C13.800781%2010%2012%2011.800781%2012%2014L14%2014C14%2012.882813%2014.882813%2012%2016%2012C17.117188%2012%2018%2012.882813%2018%2014C18%2014.765625%2017.507813%2015.445313%2016.78125%2015.6875L16.375%2015.8125C15.558594%2016.082031%2015%2016.863281%2015%2017.71875L15%2019L17%2019L17%2017.71875L17.40625%2017.59375C18.945313%2017.082031%2020%2015.621094%2020%2014C20%2011.800781%2018.199219%2010%2016%2010%20Z%20M%2015%2020L15%2022L17%2022L17%2020Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",XA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20x='0'%20y='0'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3ccircle%20cx='64'%20cy='64'%20r='55'%20fill='%23fff'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,122C32,122,6,96,6,64S32,6,64,6s58,26,58,58S96,122,64,122z%20M64,12c-28.7,0-52,23.3-52,52s23.3,52,52,52%20s52-23.3,52-52S92.7,12,64,12z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,90c-1.7,0-3-1.3-3-3V61c0-1.7,1.3-3,3-3s3,1.3,3,3v26C67,88.7,65.7,90,64,90z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,49c-1.7,0-3-1.3-3-3v-5c0-1.7,1.3-3,3-3s3,1.3,3,3v5C67,47.7,65.7,49,64,49z'%20/%3e%3c/svg%3e",JA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M6%203L6%2029L17.765625%2029C19.233126%2030.826376%2021.480367%2032%2024%2032C26.396%2032%2028.534%2030.929859%2030%2029.255859L30%2032L32%2032L32%2026L26%2026L26%2028L28.445312%2028C27.347313%2029.221%2025.768%2030%2024%2030C20.691%2030%2018%2027.309%2018%2024C18%2020.691%2020.691%2018%2024%2018C27.309%2018%2030%2020.691%2030%2024L32%2024C32%2020.280606%2029.444687%2017.153349%2026%2016.261719L26%209.5859375L19.414062%203L6%203%20z%20M%208%205L18%205L18%2011L24%2011L24%2016C21.979283%2016%2020.136244%2016.75962%2018.726562%2018L11%2018L11%2020L17.082031%2020C16.722543%2020.619242%2016.445366%2021.290505%2016.261719%2022L11%2022L11%2024L16%2024C16%2025.060938%2016.211142%2026.072669%2016.587891%2027L8%2027L8%205%20z%20M%2020%206.4140625L22.585938%209L20%209L20%206.4140625%20z%20M%2011%2014L11%2016L21%2016L21%2014L11%2014%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",ZA="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M4.0097656%203C2.9179106%203%202.0097656%203.9049841%202.0097656%204.9980469L2%2023L6%2019L20%2019C21.093063%2019%2022%2018.093063%2022%2017L22%205C22%203.9069372%2021.093063%203%2020%203L4.0097656%203%20z%20M%204.0097656%205L20%205L20%2017L5.171875%2017L4.0039062%2018.167969L4.0097656%205%20z%20M%2011%207L11%209L13%209L13%207L11%207%20z%20M%2011%2011L11%2015L13%2015L13%2011L11%2011%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",e7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M11%203L11%2011L3%2011L3%2013L11%2013L11%2021L13%2021L13%2013L21%2013L21%2011L13%2011L13%203L11%203%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",t7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20transform='rotate(90%2012%2012)'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",n7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M18%202%20A%203%203%200%200%200%2015%205%20A%203%203%200%200%200%2015.054688%205.5605469L7.9394531%209.7109375%20A%203%203%200%200%200%206%209%20A%203%203%200%200%200%203%2012%20A%203%203%200%200%200%206%2015%20A%203%203%200%200%200%207.9355469%2014.287109L15.054688%2018.439453%20A%203%203%200%200%200%2015%2019%20A%203%203%200%200%200%2018%2022%20A%203%203%200%200%200%2021%2019%20A%203%203%200%200%200%2018%2016%20A%203%203%200%200%200%2016.0625%2016.712891L8.9453125%2012.560547%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%208.9453125%2011.439453L16.060547%207.2890625%20A%203%203%200%200%200%2018%208%20A%203%203%200%200%200%2021%205%20A%203%203%200%200%200%2018%202%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",r7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%208C7.664063%208%201.25%2015.34375%201.25%2015.34375L0.65625%2016L1.25%2016.65625C1.25%2016.65625%207.097656%2023.324219%2014.875%2023.9375C15.246094%2023.984375%2015.617188%2024%2016%2024C16.382813%2024%2016.753906%2023.984375%2017.125%2023.9375C24.902344%2023.324219%2030.75%2016.65625%2030.75%2016.65625L31.34375%2016L30.75%2015.34375C30.75%2015.34375%2024.335938%208%2016%208%20Z%20M%2016%2010C18.203125%2010%2020.234375%2010.601563%2022%2011.40625C22.636719%2012.460938%2023%2013.675781%2023%2015C23%2018.613281%2020.289063%2021.582031%2016.78125%2021.96875C16.761719%2021.972656%2016.738281%2021.964844%2016.71875%2021.96875C16.480469%2021.980469%2016.242188%2022%2016%2022C15.734375%2022%2015.476563%2021.984375%2015.21875%2021.96875C11.710938%2021.582031%209%2018.613281%209%2015C9%2013.695313%209.351563%2012.480469%209.96875%2011.4375L9.9375%2011.4375C11.71875%2010.617188%2013.773438%2010%2016%2010%20Z%20M%2016%2012C14.34375%2012%2013%2013.34375%2013%2015C13%2016.65625%2014.34375%2018%2016%2018C17.65625%2018%2019%2016.65625%2019%2015C19%2013.34375%2017.65625%2012%2016%2012%20Z%20M%207.25%2012.9375C7.09375%2013.609375%207%2014.285156%207%2015C7%2016.753906%207.5%2018.394531%208.375%2019.78125C5.855469%2018.324219%204.105469%2016.585938%203.53125%2016C4.011719%2015.507813%205.351563%2014.203125%207.25%2012.9375%20Z%20M%2024.75%2012.9375C26.648438%2014.203125%2027.988281%2015.507813%2028.46875%2016C27.894531%2016.585938%2026.144531%2018.324219%2023.625%2019.78125C24.5%2018.394531%2025%2016.753906%2025%2015C25%2014.285156%2024.90625%2013.601563%2024.75%2012.9375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",s7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2017.5%20A%201.50015%201.50015%200%201%200%209%2017.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209L17.5%209%20A%201.50015%201.50015%200%201%200%2017.5%206L11.5%206%20z%20M%2030.5%206%20A%201.50015%201.50015%200%201%200%2030.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2017.5%20A%201.50015%201.50015%200%201%200%2042%2017.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L30.5%206%20z%20M%207.4765625%2028.978516%20A%201.50015%201.50015%200%200%200%206%2030.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L17.5%2042%20A%201.50015%201.50015%200%201%200%2017.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2030.5%20A%201.50015%201.50015%200%200%200%207.4765625%2028.978516%20z%20M%2040.476562%2028.978516%20A%201.50015%201.50015%200%200%200%2039%2030.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L30.5%2039%20A%201.50015%201.50015%200%201%200%2030.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2030.5%20A%201.50015%201.50015%200%200%200%2040.476562%2028.978516%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",i7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M19%203C13.488281%203%209%207.488281%209%2013C9%2015.394531%209.839844%2017.589844%2011.25%2019.3125L3.28125%2027.28125L4.71875%2028.71875L12.6875%2020.75C14.410156%2022.160156%2016.605469%2023%2019%2023C24.511719%2023%2029%2018.511719%2029%2013C29%207.488281%2024.511719%203%2019%203%20Z%20M%2019%205C23.429688%205%2027%208.570313%2027%2013C27%2017.429688%2023.429688%2021%2019%2021C14.570313%2021%2011%2017.429688%2011%2013C11%208.570313%2014.570313%205%2019%205Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",o7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M9%202C5.1458514%202%202%205.1458514%202%209C2%2012.854149%205.1458514%2016%209%2016C10.747998%2016%2012.345009%2015.348024%2013.574219%2014.28125L14%2014.707031L14%2016L19.585938%2021.585938C20.137937%2022.137937%2021.033938%2022.137938%2021.585938%2021.585938C22.137938%2021.033938%2022.137938%2020.137938%2021.585938%2019.585938L16%2014L14.707031%2014L14.28125%2013.574219C15.348024%2012.345009%2016%2010.747998%2016%209C16%205.1458514%2012.854149%202%209%202%20z%20M%209%204C11.773268%204%2014%206.2267316%2014%209C14%2011.773268%2011.773268%2014%209%2014C6.2267316%2014%204%2011.773268%204%209C4%206.2267316%206.2267316%204%209%204%20z'%20fill='%23F0F0F0'%20/%3e%3c/svg%3e",a7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23313131'%20/%3e%3c/svg%3e",l7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M18.5%205C15.480226%205%2013%207.4802259%2013%2010.5L13%2032.5C13%2035.519774%2015.480226%2038%2018.5%2038L34.5%2038C37.519774%2038%2040%2035.519774%2040%2032.5L40%2010.5C40%207.4802259%2037.519774%205%2034.5%205L18.5%205%20z%20M%2018.5%208L34.5%208C35.898226%208%2037%209.1017741%2037%2010.5L37%2032.5C37%2033.898226%2035.898226%2035%2034.5%2035L18.5%2035C17.101774%2035%2016%2033.898226%2016%2032.5L16%2010.5C16%209.1017741%2017.101774%208%2018.5%208%20z%20M%2011%2010L9.78125%2010.8125C8.66825%2011.5545%208%2012.803625%208%2014.140625L8%2033.5C8%2038.747%2012.253%2043%2017.5%2043L30.859375%2043C32.197375%2043%2033.4465%2042.33175%2034.1875%2041.21875L35%2040L17.5%2040C13.91%2040%2011%2037.09%2011%2033.5L11%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",c7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='480'%20height='480'%20viewBox='0%200%2048%2048'%3e%3cpath%20fill='%23FFC107'%20d='M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3cpath%20fill='%23FF3D00'%20d='M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z'%20/%3e%3cpath%20fill='%234CAF50'%20d='M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z'%20/%3e%3cpath%20fill='%231976D2'%20d='M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3c/svg%3e",u7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C10.886719%204%206.617188%207.160156%204.875%2011.625L6.71875%2012.375C8.175781%208.640625%2011.710938%206%2016%206C19.242188%206%2022.132813%207.589844%2023.9375%2010L20%2010L20%2012L27%2012L27%205L25%205L25%208.09375C22.808594%205.582031%2019.570313%204%2016%204%20Z%20M%2025.28125%2019.625C23.824219%2023.359375%2020.289063%2026%2016%2026C12.722656%2026%209.84375%2024.386719%208.03125%2022L12%2022L12%2020L5%2020L5%2027L7%2027L7%2023.90625C9.1875%2026.386719%2012.394531%2028%2016%2028C21.113281%2028%2025.382813%2024.839844%2027.125%2020.375Z'%20fill='%23313131'%20/%3e%3c/svg%3e",d7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M6%200C4.34375%200%203%201.34375%203%203L3%2023C3%2024.65625%204.34375%2026%206%2026L20%2026C21.65625%2026%2023%2024.65625%2023%2023L23%2017.8125L21%2019.5625L21%2023C21%2023.550781%2020.550781%2024%2020%2024L6%2024C5.449219%2024%205%2023.550781%205%2023L5%203C5%202.449219%205.449219%202%206%202L20%202C20.550781%202%2021%202.449219%2021%203L21%206.4375L23%208.1875L23%203C23%201.34375%2021.65625%200%2020%200%20Z%20M%2016.5%206.46875C16.25%206.542969%2016%206.796875%2016%207.46875L16%2010L10%2010C9.449219%2010%209%2010.449219%209%2011L9%2015C9%2015.550781%209.449219%2016%2010%2016L16%2016L16%2018.5C16%2019.78125%2017%2019.5%2017%2019.5L24.5%2013L17%206.5C17%206.5%2016.75%206.394531%2016.5%206.46875Z'%20fill='%23313131'%20/%3e%3c/svg%3e",h7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M12.5%204C10.032499%204%208%206.0324991%208%208.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2018.5%20A%201.50015%201.50015%200%200%200%2039.560547%2017.439453L39.544922%2017.423828L26.560547%204.4394531%20A%201.50015%201.50015%200%200%200%2025.5%204L12.5%204%20z%20M%2012.5%207L24%207L24%2015.5C24%2017.967501%2026.032499%2020%2028.5%2020L37%2020L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%208.5C11%207.6535009%2011.653501%207%2012.5%207%20z%20M%2027%209.1210938L34.878906%2017L28.5%2017C27.653501%2017%2027%2016.346499%2027%2015.5L27%209.1210938%20z%20M%2019%2022.998047C18.391%2022.998047%2017.841328%2023.365687%2017.611328%2023.929688L13.111328%2034.929688C12.797328%2035.696688%2013.164641%2036.573719%2013.931641%2036.886719C14.698641%2037.202719%2015.575672%2036.834406%2015.888672%2036.066406L16.326172%2034.998047L21.673828%2034.998047L22.111328%2036.066406C22.349328%2036.647406%2022.909%2036.998047%2023.5%2036.998047C23.689%2036.998047%2023.881359%2036.963719%2024.068359%2036.886719C24.834359%2036.573719%2025.202672%2035.696688%2024.888672%2034.929688L20.388672%2023.929688C20.158672%2023.365688%2019.609%2022.998047%2019%2022.998047%20z%20M%2030.476562%2023.978516%20A%201.50015%201.50015%200%200%200%2029%2025.5L29%2027L27.5%2027%20A%201.50015%201.50015%200%201%200%2027.5%2030L29%2030L29%2031.5%20A%201.50015%201.50015%200%201%200%2032%2031.5L32%2030L33.5%2030%20A%201.50015%201.50015%200%201%200%2033.5%2027L32%2027L32%2025.5%20A%201.50015%201.50015%200%200%200%2030.476562%2023.978516%20z%20M%2019%2028.460938L20.447266%2031.998047L17.552734%2031.998047L19%2028.460938%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",f7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M26.886719%203.0234375C26.437415%203.0492805%2025.990861%203.1581308%2025.574219%203.3847656C24.740935%203.8380352%2024.23601%204.6408958%2023.933594%205.484375%20A%201.50015%201.50015%200%200%200%2023.931641%205.4863281C23.856851%205.6965582%2023.895729%205.5996163%2023.880859%205.6503906C23.865989%205.7011646%2023.846326%205.768146%2023.822266%205.8515625C23.774136%206.0183955%2023.709041%206.2482122%2023.630859%206.5214844C23.474496%207.0680287%2023.269926%207.787416%2023.066406%208.5019531C22.659368%209.9310274%2022.255859%2011.345703%2022.255859%2011.345703%20A%201.50015%201.50015%200%200%200%2022.255859%2011.349609C22.141471%2011.755416%2022.046189%2011.970637%2022.005859%2012.033203%20A%201.50015%201.50015%200%200%200%2022.003906%2012.037109C20.528039%2014.338252%2018.938262%2016.655605%2017.394531%2019L10.5%2019C8.0324991%2019%206%2021.032499%206%2023.5L6%2039.5C6%2041.967501%208.0324991%2044%2010.5%2044L14.5%2044C15.757335%2044%2016.892811%2043.465209%2017.712891%2042.621094C20.020827%2043.120886%2022.596814%2043.674636%2024.695312%2044.117188C25.795053%2044.349109%2026.761579%2044.550006%2027.490234%2044.697266C28.21796%2044.844337%2028.488997%2044.922925%2028.96875%2044.96875C29.276882%2044.99849%2029.582707%2045.013672%2029.884766%2045.013672C34.166546%2045.013672%2037.951276%2042.101357%2039.046875%2037.871094C39.884581%2034.63323%2041.600002%2027.921603%2041.607422%2027.892578C41.746989%2027.37849%2041.941717%2026.687301%2041.986328%2025.859375%20A%201.50015%201.50015%200%200%200%2041.986328%2025.857422C42.082078%2024.068723%2041.461123%2022.328247%2040.242188%2021.039062%20A%201.50015%201.50015%200%200%200%2040.242188%2021.037109C39.003328%2019.728222%2037.266509%2019.003801%2035.439453%2019%20A%201.50015%201.50015%200%200%200%2035.435547%2019L31.466797%2019C31.818422%2017.742495%2032.16537%2016.527227%2032.417969%2015.541016%20A%201.50015%201.50015%200%200%200%2032.417969%2015.539062C33.021899%2013.169223%2033.163006%2011.052777%2032.796875%209.0214844%20A%201.50015%201.50015%200%200%200%2032.796875%209.0195312C32.612962%208.0064557%2032.266053%206.5283049%2031.216797%205.1679688C30.454227%204.1798868%2029.406708%203.4604803%2028.21875%203.1621094%20A%201.50015%201.50015%200%200%200%2028.214844%203.1621094C27.787706%203.0556602%2027.336023%202.9975943%2026.886719%203.0234375%20z%20M%2027.083984%206.0097656C27.153229%206.0089389%2027.277677%206.0200946%2027.488281%206.0722656C28.020323%206.2058951%2028.434367%206.4720819%2028.841797%207C29.43854%207.7736637%2029.69161%208.705806%2029.845703%209.5546875C30.125167%2011.106826%2030.039576%2012.7275%2029.511719%2014.798828C29.151131%2016.206389%2028.056641%2020.09375%2028.056641%2020.09375%20A%201.50015%201.50015%200%200%200%2029.5%2022L35.435547%2022C36.491612%2022.0027%2037.39379%2022.393048%2038.0625%2023.099609C38.717564%2023.792425%2039.04448%2024.683965%2038.990234%2025.697266C38.966844%2026.13134%2038.851324%2026.59751%2038.712891%2027.107422%20A%201.50015%201.50015%200%200%200%2038.707031%2027.128906C38.707031%2027.128906%2036.979062%2033.886003%2036.142578%2037.119141C35.380177%2040.062877%2032.818985%2042.013672%2029.884766%2042.013672C29.676824%2042.013672%2029.467681%2042.002682%2029.257812%2041.982422%20A%201.50015%201.50015%200%200%200%2029.255859%2041.982422C29.484761%2042.004222%2028.797548%2041.902023%2028.083984%2041.757812C27.370421%2041.613604%2026.409589%2041.412593%2025.314453%2041.181641C23.401221%2040.778161%2021.082509%2040.278628%2018.935547%2039.814453C18.94375%2039.705129%2019%2039.611242%2019%2039.5L19%2022.011719C20.770748%2019.246238%2022.705347%2016.498683%2024.527344%2013.658203L24.529297%2013.65625C24.857875%2013.14567%2025.005183%2012.649533%2025.142578%2012.162109C25.143578%2012.158509%2025.544977%2010.748377%2025.951172%209.3222656C26.154528%208.6083028%2026.357942%207.891987%2026.513672%207.3476562C26.591532%207.0754909%2026.658135%206.8463076%2026.705078%206.6835938C26.728548%206.6022368%2026.746996%206.5377315%2026.759766%206.4941406C26.916091%206.0606215%2027.022027%206.0117998%2027.007812%206.0195312C27.000698%206.0234013%2027.014739%206.0105924%2027.083984%206.0097656%20z%20M%2010.5%2022L16%2022L16%2039.5C16%2040.346499%2015.346499%2041%2014.5%2041L10.5%2041C9.6535009%2041%209%2040.346499%209%2039.5L9%2023.5C9%2022.653501%209.6535009%2022%2010.5%2022%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",p7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11.677734%202.1816406C11.255625%202.2202656%2010.879797%202.5279063%2010.779297%202.9726562L10.224609%205.4179688L7.5136719%208.4296875C7.1826719%208.7966875%207%209.2735781%207%209.7675781L7%2019C7%2020.105%207.895%2021%209%2021L17.03125%2021C17.77225%2021%2018.443141%2020.563719%2018.744141%2019.886719L21.746094%2013.130859C21.913094%2012.756859%2022%2012.351406%2022%2011.941406L22%2011C22%209.9%2021.1%209%2020%209L13%209C13%209%2014%206.6292813%2014%204.8632812C14%203.2502813%2012.962422%202.5443281%2012.107422%202.2363281C11.964672%202.1845781%2011.818437%202.1687656%2011.677734%202.1816406%20z%20M%203.5%209C2.672%209%202%209.672%202%2010.5L2%2019.5C2%2020.328%202.672%2021%203.5%2021C4.328%2021%205%2020.328%205%2019.5L5%2010.5C5%209.672%204.328%209%203.5%209%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",m7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%207C6.9280619%207%204%209.9280619%204%2013.5L4%2030.5C4%2034.071938%206.9280619%2037%2010.5%2037L12%2037L12%2042.5C12%2044.46599%2014.427297%2045.67893%2016%2044.5L26%2037L37.5%2037C41.071938%2037%2044%2034.071938%2044%2030.5L44%2013.5C44%209.9280619%2041.071938%207%2037.5%207L10.5%207%20z%20M%2010.5%2010L37.5%2010C39.450062%2010%2041%2011.549938%2041%2013.5L41%2030.5C41%2032.450062%2039.450062%2034%2037.5%2034L25.5%2034%20A%201.50015%201.50015%200%200%200%2024.599609%2034.300781L15%2041.5L15%2035.5%20A%201.50015%201.50015%200%200%200%2013.5%2034L10.5%2034C8.5499381%2034%207%2032.450062%207%2030.5L7%2013.5C7%2011.549938%208.5499381%2010%2010.5%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",g7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M26%203%20A%201%201%200%200%200%2025.716797%203.0429688%20A%201%201%200%200%200%2025.636719%203.0683594L3.6503906%2010.060547L3.6503906%2010.064453%20A%201%201%200%200%200%203%2011%20A%201%201%200%200%200%203.4824219%2011.853516L10.164062%2017.154297L23.373047%206.6269531L12.845703%2019.835938L18.142578%2026.513672%20A%201%201%200%200%200%2019%2027%20A%201%201%200%200%200%2019.935547%2026.349609L19.939453%2026.349609L26.9375%204.34375%20A%201%201%200%200%200%2026.957031%204.2832031%20A%201%201%200%200%200%2027%204%20A%201%201%200%200%200%2026%203%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",y7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M6%202C4.897%202%204%202.897%204%204L4%2020C4%2021.103%204.897%2022%206%2022L18%2022C19.103%2022%2020%2021.103%2020%2020L20%2015.25L18.001953%2016.748047L18.001953%2020L6%2020L6%204L18%204L18%207.25L20%208.75L20%204C20%202.897%2019.103%202%2018%202L6%202%20z%20M%2016%208.25L16%2011L11%2011L11%2013L16%2013L16%2015.75L21%2012L16%208.25%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",v7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%203%20A%204%204%200%200%200%208%207%20A%204%204%200%200%200%2012%2011%20A%204%204%200%200%200%2016%207%20A%204%204%200%200%200%2012%203%20z%20M%2012%2014C8.996%2014%203%2015.508%203%2018.5L3%2020C3%2020.552%203.448%2021%204%2021L20%2021C20.552%2021%2021%2020.552%2021%2020L21%2018.5C21%2015.508%2015.004%2014%2012%2014%20z'%20/%3e%3c/svg%3e",_7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M17,18H4c-1.105,0-2-0.895-2-2V6c0-1.105,0.895-2,2-2h13c1.105,0,2,0.895,2,2v10C19,17.105,18.105,18,17,18z'%20opacity='.35'%20/%3e%3ccircle%20cx='14.5'%20cy='7.5'%20r='1.5'%20/%3e%3cpath%20d='M4,15.125C4,15.604,4.364,16,4.812,16h11.375C16.636,16,17,15.611,17,15.125C17,13.932,15.829,12,14.969,12%20c-0.896,0-1.383,1.001-2.969,1.001C10.015,13.001,8.875,9,7.25,9S4,12.817,4,15.125z'%20/%3e%3cpath%20d='M20,6h-1v10c0,1.105-0.895,2-2,2H5c0,1.105,0.895,2,2,2h13c1.105,0,2-0.895,2-2V8C22,6.895,21.105,6,20,6z'%20/%3e%3c/svg%3e",w7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M14,15.5V8h3l-5-5L7,8h3v7.5c0,0.3,0.2,0.5,0.5,0.5h3C13.8,16,14,15.8,14,15.5z'%20opacity='.3'%20/%3e%3cpath%20d='M2%2020H22V22H2zM13.5%2017h-3C9.7%2017%209%2016.3%209%2015.5V9H4.6L12%201.6%2019.4%209H15v6.5C15%2016.3%2014.3%2017%2013.5%2017zM11%2015h2V7h1.6L12%204.4%209.4%207H11V15z'%20/%3e%3c/svg%3e",x7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M14.984375%200.98632812%20A%201.0001%201.0001%200%200%200%2014%202L14%205%20A%201.0001%201.0001%200%201%200%2016%205L16%202%20A%201.0001%201.0001%200%200%200%2014.984375%200.98632812%20z%20M%205.796875%204.7988281%20A%201.0001%201.0001%200%200%200%205.1015625%206.515625L7.2226562%208.6367188%20A%201.0001%201.0001%200%201%200%208.6367188%207.2226562L6.515625%205.1015625%20A%201.0001%201.0001%200%200%200%205.796875%204.7988281%20z%20M%2024.171875%204.7988281%20A%201.0001%201.0001%200%200%200%2023.484375%205.1015625L21.363281%207.2226562%20A%201.0001%201.0001%200%201%200%2022.777344%208.6367188L24.898438%206.515625%20A%201.0001%201.0001%200%200%200%2024.171875%204.7988281%20z%20M%2015%208%20A%207%207%200%200%200%208%2015%20A%207%207%200%200%200%2015%2022%20A%207%207%200%200%200%2022%2015%20A%207%207%200%200%200%2015%208%20z%20M%202%2014%20A%201.0001%201.0001%200%201%200%202%2016L5%2016%20A%201.0001%201.0001%200%201%200%205%2014L2%2014%20z%20M%2025%2014%20A%201.0001%201.0001%200%201%200%2025%2016L28%2016%20A%201.0001%201.0001%200%201%200%2028%2014L25%2014%20z%20M%207.9101562%2021.060547%20A%201.0001%201.0001%200%200%200%207.2226562%2021.363281L5.1015625%2023.484375%20A%201.0001%201.0001%200%201%200%206.515625%2024.898438L8.6367188%2022.777344%20A%201.0001%201.0001%200%200%200%207.9101562%2021.060547%20z%20M%2022.060547%2021.060547%20A%201.0001%201.0001%200%200%200%2021.363281%2022.777344L23.484375%2024.898438%20A%201.0001%201.0001%200%201%200%2024.898438%2023.484375L22.777344%2021.363281%20A%201.0001%201.0001%200%200%200%2022.060547%2021.060547%20z%20M%2014.984375%2023.986328%20A%201.0001%201.0001%200%200%200%2014%2025L14%2028%20A%201.0001%201.0001%200%201%200%2016%2028L16%2025%20A%201.0001%201.0001%200%200%200%2014.984375%2023.986328%20z'%20/%3e%3c/svg%3e",E7="/assets/dark-i8sdGySW.svg",C7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%2018.071L6.429%2012.5%204.929%2014%2012%2021.071%2019.071%2014%2017.571%2012.5z'%20/%3e%3cpath%20d='M4%2010H20V12H4z'%20transform='rotate(-90%2012%2011)'%20/%3e%3c/svg%3e",T7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M4,19V5c0-1.657,1.343-3,3-3h7l6,6v11c0,1.657-1.343,3-3,3H7C5.343,22,4,20.657,4,19z'%20opacity='.35'%20/%3e%3cpath%20d='M14,6V2l6,6h-4C14.895,8,14,7.105,14,6z'%20/%3e%3c/svg%3e",I7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M23.277344%204.0175781C15.193866%204.3983176%209%2011.343391%209%2019.380859L9%2026.648438L6.3496094%2031.980469%20A%201.50015%201.50015%200%200%200%206.3359375%2032.009766C5.2696804%2034.277268%206.9957076%2037%209.5019531%2037L18%2037C18%2040.295865%2020.704135%2043%2024%2043C27.295865%2043%2030%2040.295865%2030%2037L38.496094%2037C41.002339%2037%2042.730582%2034.277829%2041.664062%2032.009766%20A%201.50015%201.50015%200%200%200%2041.650391%2031.980469L39%2026.648438L39%2019C39%2010.493798%2031.863289%203.6133643%2023.277344%204.0175781%20z%20M%2023.417969%207.0136719C30.338024%206.6878857%2036%2012.162202%2036%2019L36%2027%20A%201.50015%201.50015%200%200%200%2036.15625%2027.667969L38.949219%2033.289062C39.128826%2033.674017%2038.921017%2034%2038.496094%2034L9.5019531%2034C9.077027%2034%208.8709034%2033.674574%209.0507812%2033.289062C9.0507812%2033.289062%209.0507812%2033.287109%209.0507812%2033.287109L11.84375%2027.667969%20A%201.50015%201.50015%200%200%200%2012%2027L12%2019.380859C12%2012.880328%2016.979446%207.3169324%2023.417969%207.0136719%20z%20M%2021%2037L27%2037C27%2038.674135%2025.674135%2040%2024%2040C22.325865%2040%2021%2038.674135%2021%2037%20z'%20/%3e%3c/svg%3e",b7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%206C6.9280619%206%204%208.9280619%204%2012.5L4%2028.5L4%2034.535156C4%2036.486795%206.3899087%2037.705105%207.96875%2036.558594%20A%201.50015%201.50015%200%200%200%207.9707031%2036.558594L12.291016%2033.416016C13.114957%2036.061625%2015.594339%2038%2018.5%2038L31.011719%2038L40.029297%2044.558594%20A%201.50015%201.50015%200%200%200%2040.03125%2044.558594C41.610044%2045.705105%2044%2044.486795%2044%2042.535156L44%2036.5L44%2020.5C44%2016.928062%2041.071938%2014%2037.5%2014L36%2014L36%2012.5C36%208.9280619%2033.071938%206%2029.5%206L10.5%206%20z%20M%2010.5%209L29.5%209C31.450062%209%2033%2010.549938%2033%2012.5L33%2023.5C33%2025.450062%2031.450062%2027%2029.5%2027L16.5%2027%20A%201.50015%201.50015%200%200%200%2015.617188%2027.287109L7%2033.554688L7%2028.5L7%2012.5C7%2010.549938%208.5499381%209%2010.5%209%20z%20M%2036%2017L37.5%2017C39.450062%2017%2041%2018.549938%2041%2020.5L41%2036.5L41%2041.554688L32.382812%2035.287109%20A%201.50015%201.50015%200%200%200%2031.5%2035L18.5%2035C16.549938%2035%2015%2033.450062%2015%2031.5L15%2031.445312L16.988281%2030L29.5%2030C33.071938%2030%2036%2027.071938%2036%2023.5L36%2017%20z'%20/%3e%3c/svg%3e",S7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M5%201L10.3125%2011L4%2011L1%207L0%207L1%2013L0%2019L1%2019L4%2015L10.3125%2015L5%2025L7.1875%2025L15.90625%2015L24%2015C25.101563%2015%2026%2014.101563%2026%2013C26%2011.898438%2025.101563%2011%2024%2011L15.90625%2011L7.1875%201Z'%20/%3e%3c/svg%3e",A7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M5.40625%205.40625C-0.441406%2011.253906%20-0.441406%2020.746094%205.40625%2026.59375L6.8125%2025.1875C1.726563%2020.101563%201.726563%2011.898438%206.8125%206.8125%20Z%20M%2026.59375%205.40625L25.1875%206.8125C30.273438%2011.898438%2030.273438%2020.101563%2025.1875%2025.1875L26.59375%2026.59375C32.441406%2020.746094%2032.441406%2011.253906%2026.59375%205.40625%20Z%20M%209.625%209.625C6.117188%2013.132813%206.117188%2018.867188%209.625%2022.375L11.0625%2020.9375C8.320313%2018.195313%208.320313%2013.804688%2011.0625%2011.0625%20Z%20M%2022.375%209.625L20.9375%2011.0625C23.679688%2013.804688%2023.679688%2018.195313%2020.9375%2020.9375L22.375%2022.375C25.882813%2018.867188%2025.882813%2013.132813%2022.375%209.625%20Z%20M%2016%2013C14.355469%2013%2013%2014.355469%2013%2016C13%2017.644531%2014.355469%2019%2016%2019C17.644531%2019%2019%2017.644531%2019%2016C19%2014.355469%2017.644531%2013%2016%2013%20Z%20M%2016%2015C16.5625%2015%2017%2015.4375%2017%2016C17%2016.5625%2016.5625%2017%2016%2017C15.4375%2017%2015%2016.5625%2015%2016C15%2015.4375%2015.4375%2015%2016%2015Z'%20/%3e%3c/svg%3e",R7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='240'%20height='240'%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWa'%20x1='21.302'%20x2='27.254'%20y1='21.302'%20y2='27.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='24'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWa)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWb'%20x1='21.302'%20x2='27.254'%20y1='7.302'%20y2='13.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='10'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWb)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWc'%20x1='21.302'%20x2='27.254'%20y1='35.302'%20y2='41.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='38'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWc)'%20/%3e%3c/svg%3e",k7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L4%203L4%205L20%205L20%203L15%203L14%202L10%202%20z%20M%205%207L5%2022L14.220703%2022L16.230469%2020L14%2020L14%209L16%209L16%2015.978516L16.464844%2015.515625L17.878906%2014.101562L19%2015.222656L19%207L5%207%20z%20M%208%209L10%209L10%2020L8%2020L8%209%20z%20M%2017.878906%2016.929688L16.464844%2018.34375L18.585938%2020.464844L16.464844%2022.585938L17.878906%2024L20%2021.878906L22.121094%2024L23.535156%2022.585938L21.414062%2020.464844L23.535156%2018.34375L22.121094%2016.929688L20%2019.050781L17.878906%2016.929688%20z'%20/%3e%3c/svg%3e",N7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M20.011,3.989c-1.318-1.318-3.455-1.318-4.773,0L4.208,14.998c-0.302,0.302-0.503,0.689-0.576,1.11l-0.615,3.567c-0.133,0.772,0.538,1.442,1.31,1.308l3.525-0.613c0.418-0.073,0.804-0.273,1.104-0.573L20.011,8.761C21.33,7.443,21.33,5.307,20.011,3.989z'%20opacity='.35'%20/%3e%3cpolygon%20points='13.075,6.144%2017.848,10.917%2019.832,8.94%2015.059,4.167'%20/%3e%3cpath%20d='M3.392,17.5l-0.375,2.175c-0.133,0.772,0.538,1.442,1.31,1.308l2.171-0.378L3.392,17.5z'%20/%3e%3c/svg%3e",P7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M16.414,7.586c-0.781-0.781-2.047-0.781-2.828,0l-6,6c-0.781,0.781-0.781,2.047,0,2.828c0.781,0.781,2.047,0.781,2.828,0l6-6C17.195,9.633,17.195,8.367,16.414,7.586z'%20/%3e%3cpath%20d='M20.389,3.611c-2.148-2.148-5.63-2.148-7.778,0c-0.171,0.171-0.829,0.829-1,1c-1.548,1.548-1.963,3.786-1.279,5.722%20c-1.936-0.684-4.173-0.27-5.721,1.278c-0.171,0.171-0.829,0.829-1,1c-2.148,2.148-2.148,5.63,0,7.778%20c2.148,2.148,5.63,2.148,7.778,0c0.171-0.171,0.829-0.829,1-1c1.548-1.548,1.963-3.786,1.279-5.722%20c1.936,0.684,4.173,0.27,5.721-1.278c0.171-0.171,0.829-0.829,1-1C22.537,9.241,22.537,5.759,20.389,3.611z'%20opacity='.35'%20/%3e%3c/svg%3e",L7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20/%3e%3c/svg%3e",M7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20fill='%238D8D8D'%20/%3e%3c/svg%3e",O7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M19.999,3H4.01c-1.1,0-2.001,0.9-2.001,2L2,16.999C2,18.104,2.895,19,4,19h1.499c0.276,0,0.5,0.224,0.5,0.5v2.086%20c0,0.891,1.077,1.337,1.707,0.707l3-3C10.894,19.105,11.148,19,11.413,19h8.586c1.1,0,2-0.9,2-2V5C21.999,3.9,21.099,3,19.999,3z%20M15.903,15c-0.492,0-0.883-0.363-0.988-0.843C14.472,12.147,12.455,12.006,12,12V14c0,0.404-0.243,0.769-0.617,0.924%20C11.259,14.975,11.129,15,11,15c-0.26,0-0.516-0.102-0.707-0.293l-3-3c-0.391-0.391-0.391-1.023,0-1.414l3-3%20c0.286-0.286,0.715-0.371,1.09-0.217C11.757,7.231,12,7.595,12,8v2v0c1.535,0,4.284,0.823,4.883,3.773%20C17.011,14.403,16.545,15,15.903,15z'%20fill='%23050505'%20/%3e%3c/svg%3e",D7="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='-9.31019674359186%20-9.31019674359186%20200.60019674359185%20200.59919674359185'%3e%3clinearGradient%20id='a'%20x1='47.061%25'%20x2='47.061%25'%20y1='-3.394%25'%20y2='96.606%25'%3e%3cstop%20offset='0'%20stop-color='%2337aeff'/%3e%3cstop%20offset='.05'%20stop-color='%2337aeff'/%3e%3cstop%20offset='1'%20stop-color='%231861f7'/%3e%3c/linearGradient%3e%3cg%20fill='none'%3e%3cpath%20d='M0%2095.645c0%2052.823%2042.822%2095.644%2095.645%2095.644%2052.823%200%2095.644-42.821%2095.644-95.644C191.29%2042.822%20148.468%200%2095.645%200A95.617%2095.617%200%200%200%200%2095.645'%20fill='url(%23a)'/%3e%3cpath%20d='M151.421%2099.986a9.095%209.095%200%200%200-3.901-8.737%2018.08%2018.08%200%200%200%203.6-8.628c0-8.463-7.941-10.99-20.168-10.99-7.27.08-14.51.936-21.597%202.555.66-3.627%205.496-14.15%205.496-17.667%200-7.31-1.731-16.486-8.436-19.976a11.925%2011.925%200%200%200-6.154-1.593c-2.68-.126-5.303.8-7.309%202.583a6.32%206.32%200%200%200-.742%203.681l1.21%2013.738c0%2010.99-16.899%2024.729-16.899%2040.528v33.136c0%205.88%207.886%2010.056%2019.234%2010.056h31.46c8.243%200%2010.084-1.428%2012.2-5.275a7.583%207.583%200%200%200-.166-8.023%2012.364%2012.364%200%200%200%207.749-8.93c.487-2.412.118-4.92-1.044-7.089a9.48%209.48%200%200%200%205.495-9.369M48.743%2080.945h9.836a8.243%208.243%200%200%201%208.243%208.243V135.1a8.243%208.243%200%200%201-8.243%208.242h-9.836a8.243%208.243%200%200%201-8.243-8.242V89.298a8.243%208.243%200%200%201%208.243-8.243'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",j7="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3e%3clinearGradient%20id='a'%20x1='50%25'%20x2='50%25'%20y1='0%25'%20y2='100%25'%3e%3cstop%20offset='0'%20stop-color='%23f65e7a'/%3e%3cstop%20offset='.051'%20stop-color='%23f65e7a'/%3e%3cstop%20offset='.1'%20stop-color='%23f65d79'/%3e%3cstop%20offset='.146'%20stop-color='%23f55c78'/%3e%3cstop%20offset='.191'%20stop-color='%23f45b76'/%3e%3cstop%20offset='.233'%20stop-color='%23f35974'/%3e%3cstop%20offset='.274'%20stop-color='%23f25771'/%3e%3cstop%20offset='.314'%20stop-color='%23f1546f'/%3e%3cstop%20offset='.353'%20stop-color='%23f0526b'/%3e%3cstop%20offset='.39'%20stop-color='%23ee4f68'/%3e%3cstop%20offset='.427'%20stop-color='%23ed4b64'/%3e%3cstop%20offset='.464'%20stop-color='%23eb4860'/%3e%3cstop%20offset='.5'%20stop-color='%23e9445c'/%3e%3cstop%20offset='.536'%20stop-color='%23e84057'/%3e%3cstop%20offset='.573'%20stop-color='%23e63c53'/%3e%3cstop%20offset='.61'%20stop-color='%23e5374e'/%3e%3cstop%20offset='.647'%20stop-color='%23e33349'/%3e%3cstop%20offset='.686'%20stop-color='%23e22e44'/%3e%3cstop%20offset='.726'%20stop-color='%23e02940'/%3e%3cstop%20offset='.767'%20stop-color='%23df253b'/%3e%3cstop%20offset='.809'%20stop-color='%23de2037'/%3e%3cstop%20offset='.854'%20stop-color='%23dd1c33'/%3e%3cstop%20offset='.9'%20stop-color='%23dd1830'/%3e%3cstop%20offset='.949'%20stop-color='%23dc152e'/%3e%3cstop%20offset='1'%20stop-color='%23dc142d'/%3e%3c/linearGradient%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='96'%20cy='96'%20fill='url(%23a)'%20r='96'/%3e%3cpath%20d='M95.926%2070.264c1.666-5.311%205.057-9.77%2010.171-13.374%208.485-5.982%2029.714-7.652%2040.268%208.14%2010.555%2015.791%205.613%2037.04-10.554%2053.746-10.555%2010.905-23.674%2021.075-39.358%2030.508a2%202%200%200%201-2.018.026c-13.021-7.386-26.062-17.564-39.12-30.534-20.1-19.962-21.546-37.989-10.773-53.747%2010.772-15.757%2031.73-14.12%2040.215-8.14%205.115%203.606%208.52%208.065%2010.215%2013.377a.5.5%200%200%200%20.954-.002z'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",$7="/assets/facebook-reaction-sad-fp-d8NwB.svg",F7="/assets/facebook-reaction-wow-4aGHxQqX.svg",U7="data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201500%201500'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:url(%23SVGID_1_)}.st1{fill:%23262c38}.st2{fill:none;stroke:%23262c38;stroke-width:60;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}%3c/style%3e%3clinearGradient%20id='SVGID_1_'%20gradientUnits='userSpaceOnUse'%20x1='750'%20y1='1501.519'%20x2='750'%20y2='4.759'%20gradientTransform='matrix(1%200%200%20-1%200%201499.72)'%3e%3cstop%20offset='.098'%20stop-color='%23f05766'/%3e%3cstop%20offset='.25'%20stop-color='%23f3766a'/%3e%3cstop%20offset='.826'%20stop-color='%23ffda6b'/%3e%3c/linearGradient%3e%3ccircle%20class='st0'%20cx='750'%20cy='750'%20r='750'/%3e%3ccircle%20class='st1'%20cx='416.7'%20cy='947'%20r='73.7'/%3e%3ccircle%20class='st1'%20cx='1082.7'%20cy='947'%20r='73.7'/%3e%3cpath%20class='st2'%20d='M205.9%20805.1s120.5%2093.7%20423.4%2093.7M1291.9%20805.1s-120.5%2093.7-423.4%2093.7'/%3e%3cpath%20class='st1'%20d='M987.6%201211.4c0%2041.7-106.7%2043.3-238.4%2043.3s-238.4-1.7-238.4-43.3c0-36.8%20109.9-54.6%20241.5-54.6s235.3%2017.7%20235.3%2054.6z'/%3e%3c/svg%3e",V7="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3e%3cradialGradient%20id='a'%20cy='0%25'%20gradientTransform='matrix(0%201%20-1.26314%200%20.5%20-.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%23fce16b'/%3e%3cstop%20offset='.11'%20stop-color='%23fce16b'/%3e%3cstop%20offset='.205'%20stop-color='%23fce06a'/%3e%3cstop%20offset='.288'%20stop-color='%23fcdf69'/%3e%3cstop%20offset='.36'%20stop-color='%23fcdd68'/%3e%3cstop%20offset='.424'%20stop-color='%23fbda66'/%3e%3cstop%20offset='.483'%20stop-color='%23fbd764'/%3e%3cstop%20offset='.537'%20stop-color='%23fbd361'/%3e%3cstop%20offset='.591'%20stop-color='%23facf5e'/%3e%3cstop%20offset='.644'%20stop-color='%23fac959'/%3e%3cstop%20offset='.701'%20stop-color='%23f9c254'/%3e%3cstop%20offset='.763'%20stop-color='%23f8bb4e'/%3e%3cstop%20offset='.832'%20stop-color='%23f8b147'/%3e%3cstop%20offset='.91'%20stop-color='%23f7a73d'/%3e%3cstop%20offset='1'%20stop-color='%23f69a31'/%3e%3c/radialGradient%3e%3cradialGradient%20id='b'%20cy='100%25'%20gradientTransform='matrix(0%20-1%201.136%200%20-.636%201.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%2383370e'/%3e%3cstop%20offset='.226'%20stop-color='%2383370e'/%3e%3cstop%20offset='1'%20stop-color='%23482213'/%3e%3c/radialGradient%3e%3cradialGradient%20id='c'%20cy='0%25'%20gradientTransform='matrix(0%201%20-.7355%200%20.5%20-.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%23f75b73'/%3e%3cstop%20offset='1'%20stop-color='%23c51f2d'/%3e%3c/radialGradient%3e%3cfilter%20id='d'%20height='116.4%25'%20width='112.8%25'%20x='-6.4%25'%20y='-8.2%25'%3e%3cfeGaussianBlur%20in='SourceGraphic'%20stdDeviation='1'/%3e%3c/filter%3e%3cfilter%20id='e'%20height='116.4%25'%20width='112.8%25'%20x='-6.4%25'%20y='-8.2%25'%3e%3cfeGaussianBlur%20in='SourceGraphic'%20stdDeviation='1'/%3e%3c/filter%3e%3clinearGradient%20id='f'%20x1='85.463%25'%20y1='19.628%25'%20y2='80.372%25'%3e%3cstop%20offset='0'%20stop-color='%23222845'/%3e%3cstop%20offset='.086'%20stop-color='%23222845'/%3e%3cstop%20offset='.166'%20stop-color='%23232946'/%3e%3cstop%20offset='.239'%20stop-color='%23232b48'/%3e%3cstop%20offset='.308'%20stop-color='%23242d4a'/%3e%3cstop%20offset='.374'%20stop-color='%23262f4c'/%3e%3cstop%20offset='.438'%20stop-color='%2327314e'/%3e%3cstop%20offset='.5'%20stop-color='%23283350'/%3e%3cstop%20offset='.562'%20stop-color='%23293552'/%3e%3cstop%20offset='.626'%20stop-color='%232a3754'/%3e%3cstop%20offset='.692'%20stop-color='%232b3956'/%3e%3cstop%20offset='.761'%20stop-color='%232c3a58'/%3e%3cstop%20offset='.834'%20stop-color='%232c3b59'/%3e%3cstop%20offset='.914'%20stop-color='%232d3c5a'/%3e%3cstop%20offset='1'%20stop-color='%232d3c5a'/%3e%3c/linearGradient%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='96'%20cy='96'%20fill='url(%23a)'%20r='96'/%3e%3cpath%20d='M96%20166c38.66%200%2064-31.34%2064-70%200-.66-7-13-64-13S32%2095.34%2032%2096c0%2038.66%2025.34%2070%2064%2070z'%20fill='url(%23b)'/%3e%3cpath%20d='M52.272%20148.44C60.808%20139.232%2077.192%20133%2096%20133s35.192%206.231%2043.728%2015.44C128.75%20159.368%20113.785%20166%2096%20166s-32.75-6.633-43.728-17.56z'%20fill='url(%23c)'/%3e%3cpath%20d='M143.907%2039.169c-8.207%202.389-27.788%2013.373-30.542%2017.594s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.582-8.024%2018.07-10.617%205.49-2.593%203.226-11.026-4.982-8.636z'%20fill='%23fff3c5'%20filter='url(%23d)'%20opacity='.449'/%3e%3cpath%20d='M64.797%2039.169C56.59%2041.558%2037.01%2052.542%2034.255%2056.763s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.583-8.024%2018.071-10.617%205.488-2.593%203.225-11.026-4.983-8.636z'%20fill='%23fff3c5'%20filter='url(%23e)'%20opacity='.449'%20transform='matrix(-1%200%200%201%20112.83%200)'/%3e%3cg%20fill='url(%23f)'%3e%3cpath%20d='M143.907%2035.169c-8.207%202.389-27.788%2013.373-30.542%2017.594s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.582-8.024%2018.07-10.617%205.49-2.593%203.226-11.026-4.982-8.636zM48.032%2035.169c8.208%202.389%2027.789%2013.373%2030.543%2017.594s.61%209.333-2.896%2010.056c-9.101%200-24.786%202.671-35.423%207.776-5.94%203.015-9.499-5.293-5.66-7.776%205.597-4.395%2014.438-7.194%2026.525-8.397-.992-3.035-12.583-8.024-18.071-10.617-5.489-2.593-3.225-11.026%204.982-8.636z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",z7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M43.470703%208.9863281%20A%201.50015%201.50015%200%200%200%2042.439453%209.4394531L16.5%2035.378906L5.5605469%2024.439453%20A%201.50015%201.50015%200%201%200%203.4394531%2026.560547L15.439453%2038.560547%20A%201.50015%201.50015%200%200%200%2017.560547%2038.560547L44.560547%2011.560547%20A%201.50015%201.50015%200%200%200%2043.470703%208.9863281%20z'%20/%3e%3c/svg%3e",B7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M13%2042C12.472656%2042%2011.960938%2041.789063%2011.585938%2041.414063L0.585938%2030.414063C-0.195313%2029.632813%20-0.195313%2028.367188%200.585938%2027.585938C1.367188%2026.804688%202.632813%2026.804688%203.414063%2027.585938L12.859375%2037.03125L35.460938%209.726563C36.164063%208.871094%2037.425781%208.753906%2038.273438%209.460938C39.125%2010.164063%2039.246094%2011.425781%2038.539063%2012.273438L14.539063%2041.273438C14.183594%2041.710938%2013.65625%2041.972656%2013.09375%2041.996094C13.0625%2042%2013.03125%2042%2013%2042%20Z%20M%2024.09375%2041.996094C24.65625%2041.972656%2025.179688%2041.710938%2025.539063%2041.273438L49.539063%2012.273438C50.246094%2011.425781%2050.125%2010.164063%2049.273438%209.460938C48.425781%208.753906%2047.164063%208.875%2046.460938%209.726563L23.859375%2037.03125L23.414063%2036.585938C22.632813%2035.804688%2021.367188%2035.804688%2020.585938%2036.585938C19.804688%2037.367188%2019.804688%2038.632813%2020.585938%2039.414063L22.585938%2041.414063C22.960938%2041.789063%2023.472656%2042%2024%2042C24.03125%2042%2024.0625%2042%2024.09375%2041.996094Z'%20/%3e%3c/svg%3e",W7="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M12%204C4%204%201%2012%201%2012C1%2012%204%2020%2012%2020C20%2020%2023%2012%2023%2012C23%2012%2020%204%2012%204%20z%20M%2012%207C14.761%207%2017%209.239%2017%2012C17%2014.761%2014.761%2017%2012%2017C9.239%2017%207%2014.761%207%2012C7%209.239%209.239%207%2012%207%20z%20M%2012%209%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%2012%2015%20A%203%203%200%200%200%2015%2012%20A%203%203%200%200%200%2012%209%20z'%20/%3e%3c/svg%3e",H7={sent:z7,eye:W7,seen:B7,link:P7,reply:O7,sendLetter:L7,sendingLetter:M7,deleteIcon:k7,editPencil:N7,moreOption:R7,download:C7,offline:S7,online:A7,chat:b7,notification:I7,file:T7,light:x7,dark:E7,upload:w7,trueIcon:kA,falseIcon:NA,error:PA,down:LA,back:MA,thumbUp:OA,redo:DA,next:jA,finish:$A,history:FA,trash:UA,add:VA,edit:zA,save:BA,up:WA,clipboard:HA,admin:qA,menu:GA,home:KA,result:QA,help:YA,about:XA,update:JA,faq:ZA,plus:e7,minus:t7,share:n7,review:r7,fullScreen:s7,search:i7,searchLeft:o7,close:a7,copy:l7,google:c7,refresh:u7,exit:d7,exam:h7,like:f7,liked:p7,comment:m7,send:g7,logout:y7,user:v7,image:_7,facebookAngry:U7,facebookHaha:V7,facebookLike:D7,facebookLove:j7,facebookSad:$7,facebookWow:F7};function ae(t){return H7[t]||null}const ze=({data:t})=>{const{clickFn:e,image:n}=t,r=ae(n),{theme:s}=E.useContext(ee),i=()=>{e&&e()};return f.jsx("button",{onClick:i,className:`shadow-md border  rounded-full p-2 h-10 w-10  font-medium flex  justify-center items-center hover:opacity-70 transition-all ${s==="light"?"bg-gray-50/50 border-gray-200":"bg-slate-500/70 text-white border-slate-500/70"}`,children:f.jsx("img",{src:r})})};function q7(t,e){let n=!1;return e.forEach(r=>{r.id===t&&(n=!0)}),n}let N3;function G7(t){t(!0),clearTimeout(N3),N3=setTimeout(()=>{t(!1)},[4e3])}function Vn(){scrollTo({top:0,behavior:"smooth"})}function io(){const t=window.innerHeight,n=document.documentElement.scrollHeight-t;scrollTo({top:n+200,behavior:"smooth"})}function Et(t){document.body.style.overflow=t}function ms(t,e){E.useEffect(()=>{const n=r=>{t.current&&!t.current.contains(r.target)&&e(!1)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[])}function KE(t){try{const e=t.split(":"),n=Number(e[0]),r=Number(e[1]),s=Number(e[2]);return`${lp(n,"hours")} ${lp(r,"minutes")} ${lp(s,"seconds")}`}catch{return null}}function lp(t,e){return t?`${t} ${e}`:""}function P3(t){return t>=10?t:`0${t}`}const Be=({data:t})=>{const{clickFn:e,text:n,image:r}=t,s=ae(r),{theme:i}=E.useContext(ee),o=()=>{e&&e()};return f.jsxs("button",{onClick:o,className:`min-h-10 shadow-md hover:opacity-70 border  font-medium px-2 py-1 rounded-lg flex justify-center items-center gap-x-1 transition-all ${i==="light"?"bg-blue-200/60 border-gray-200":"bg-blue-200/60 text-white border-slate-500/70"}`,children:[r&&f.jsx("img",{className:" h-7",src:s}),n&&f.jsx("span",{children:n})]})},bo=({data:t})=>{const{yesButton:e,noButton:n,text:r,setValue:s}=t,{theme:i}=E.useContext(ee),o=E.useRef(null);return ms(o,s),E.useEffect(()=>(Et("hidden"),()=>{Et("auto")}),[]),f.jsx("div",{className:"fixed flex items-center z-20 bg-black/60 justify-center top-0 left-0 right-0 bottom-0",children:f.jsx("div",{ref:o,className:`w-4/5 sm:w-3/5 md:w-2/5 min-h-40 grid gap-y-3 rounded-md items-center border  ${i==="light"?"border-gray-300 bg-white":"border-slate-500/70 text-white bg-slate-600"}`,children:f.jsxs("div",{children:[f.jsx("div",{className:"text-center",children:r}),f.jsxs("div",{className:"flex justify-center mt-2 items-center gap-x-3 ",children:[f.jsx(Be,{data:{clickFn:e,image:"trueIcon",text:"Yes"}}),f.jsx(Be,{data:{clickFn:n,image:"falseIcon",text:"No"}})]})]})})})},K7=({data:t})=>{const{pageTitle:e,currentPage:n,totalPage:r,percentage:s,answerLength:i,questionsLength:o}=t,{stopTest:a,formattedTime:l,theme:c}=E.useContext(ee),[u,d]=E.useState(!1),h=()=>{a(),d(!1)},p=()=>{d(!1)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:" font-medium text-lg flex items-center justify-start",children:[f.jsx(ze,{data:{clickFn:()=>d(!0),image:"back"}}),f.jsx("div",{className:`ml-2 ${c==="light"?"":"text-white"}`,children:e}),u&&f.jsx(bo,{data:{yesButton:h,noButton:p,text:"Are you sure to stop the test ?",setValue:d}})]}),f.jsxs("div",{className:`flex justify-between items-center sticky left-0 pt-1 right-0 z-10 ${c==="light"?"":"text-white"}`,children:[f.jsxs("div",{children:["Page ",n," of ",r]}),f.jsxs("div",{className:`w-2/3 border h-7 relative ${c==="light"?"border-gray-300":"border-slate-500/70"}`,children:[f.jsx("div",{style:{width:`${s}%`},className:`text-center h-full ${c==="light"?"bg-lime-200":"bg-slate-500/70"}`}),f.jsxs("div",{className:"absolute top-0 left-2 font-medium",children:[i," ","/"," ",o]})]}),f.jsx("div",{className:"min-h-12 font-medium fixed right-0 top-1/4 h-10 min-w-20 bg-lime-200/50 backdrop-blur-lg flex items-center justify-center rounded-bl-lg rounded-tl-lg border-r-4 border-r-blue-400",children:l})]})]})},Q7=({data:t})=>{const{currentQuestions:e,chooseAnswer:n}=t,{answeredQuestions:r,theme:s}=E.useContext(ee);return f.jsx("div",{children:e.map((i,o)=>f.jsxs("div",{children:[f.jsxs("div",{className:`grid gap-y-2 ${s==="light"?"":"text-white"}`,children:[f.jsxs("div",{className:"flex gap-x-3 items-center",children:[f.jsx("div",{className:"bg-blue-600 rounded-sm shadow-lg h-9 w-9 text-white font-bold flex justify-center items-center ",children:i.id}),f.jsx("div",{className:"flex-1 font-padauk",children:i.question})]}),f.jsx("div",{className:"grid gap-y-2",children:i.choices.map((a,l)=>{let c,u=!1;return r.forEach(d=>{i.id===d.id&&(c=d)}),(c==null?void 0:c.userAnswer)===a&&(u=!0),f.jsxs("div",{onClick:()=>{n(i.id,a)},className:`border  h-12 flex gap-x-3 p-2 cursor-pointer items-center rounded-lg font-padauk ${s==="light"?`${u?"border-blue-500 border-dotted font-bold bg-lime-50":"border-lime-200 hover:bg-slate-50"}`:`${u?"border-slate-500/70 border-dotted font-bold bg-slate-500/70":"border-slate-500/70 hover:bg-slate-500/70"}`}`,children:[f.jsx("input",{onChange:()=>{n(i.id,a)},className:"h-5 w-5",name:`question-${i.id}`,type:"radio",checked:!!u}),f.jsx("div",{children:a})]},`choice-${i.id}-${l}-${a}`)})})]}),f.jsx(Y7,{})]},`question-${i.id}-${o}-${i.question}`))})},Y7=()=>f.jsx("div",{className:" border border-dashed border-gray-500 mb-7 mt-7"}),X7=()=>(E.useContext(ee),f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsx("img",{className:"w-8 ",src:ae("error")}),f.jsx("div",{className:"text-red-600 font-bold",children:"You need to answer all questions before proceeding!"})]}));/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xc(){return Xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xc.apply(this,arguments)}var ai;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ai||(ai={}));const L3="popstate";function J7(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Fo(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Fm("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:qh(i))}function r(s,i){J0(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return eR(e,n,r,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function J0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z7(){return Math.random().toString(36).substr(2,8)}function M3(t,e){return{usr:t.state,key:t.key,idx:e}}function Fm(t,e,n,r){return n===void 0&&(n=null),Xc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fo(e):e,{state:n,key:e&&e.key||r||Z7()})}function qh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function eR(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ai.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Xc({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=ai.Pop;let v=u(),m=v==null?null:v-c;c=v,l&&l({action:a,location:y.location,delta:m})}function h(v,m){a=ai.Push;let _=Fm(y.location,v,m);n&&n(_,v),c=u()+1;let w=M3(_,c),T=y.createHref(_);try{o.pushState(w,"",T)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(T)}i&&l&&l({action:a,location:y.location,delta:1})}function p(v,m){a=ai.Replace;let _=Fm(y.location,v,m);n&&n(_,v),c=u();let w=M3(_,c),T=y.createHref(_);o.replaceState(w,"",T),i&&l&&l({action:a,location:y.location,delta:0})}function g(v){let m=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof v=="string"?v:qh(v);return Nt(m,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,m)}let y={get action(){return a},get location(){return t(s,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(L3,d),l=v,()=>{s.removeEventListener(L3,d),l=null}},createHref(v){return e(s,v)},createURL:g,encodeLocation(v){let m=g(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:p,go(v){return o.go(v)}};return y}var O3;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(O3||(O3={}));function tR(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Fo(e):e,s=z1(r.pathname||"/",n);if(s==null)return null;let i=QE(t);nR(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=dR(i[a],pR(s));return o}function QE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Nt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=wi([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Nt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),QE(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:cR(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of YE(i.path))s(i,o,l)}),e}function YE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=YE(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function nR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rR=/^:[\w-]+$/,sR=3,iR=2,oR=1,aR=10,lR=-2,D3=t=>t==="*";function cR(t,e){let n=t.split("/"),r=n.length;return n.some(D3)&&(r+=lR),e&&(r+=iR),n.filter(s=>!D3(s)).reduce((s,i)=>s+(rR.test(i)?sR:i===""?oR:aR),r)}function uR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function dR(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=hR({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;i.push({params:r,pathname:wi([s,u.pathname]),pathnameBase:_R(wi([s,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(s=wi([s,u.pathnameBase]))}return i}function hR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let y=a[d]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[d];return p&&!g?c[h]=void 0:c[h]=mR(g||"",h),c},{}),pathname:i,pathnameBase:o,pattern:t}}function fR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),J0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function pR(t){try{return decodeURI(t)}catch(e){return J0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mR(t,e){try{return decodeURIComponent(t)}catch(n){return J0(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function z1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Fo(t):t;return{pathname:n?n.startsWith("/")?n:yR(n,e):e,search:wR(r),hash:xR(s)}}function yR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function cp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function XE(t,e){let n=vR(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function JE(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Fo(t):(s=Xc({},t),Nt(!s.pathname||!s.pathname.includes("?"),cp("?","pathname","search",s)),Nt(!s.pathname||!s.pathname.includes("#"),cp("#","pathname","hash",s)),Nt(!s.search||!s.search.includes("#"),cp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=gR(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const wi=t=>t.join("/").replace(/\/\/+/g,"/"),_R=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ER(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ZE=["post","put","patch","delete"];new Set(ZE);const CR=["get",...ZE];new Set(CR);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jc.apply(this,arguments)}const B1=E.createContext(null),TR=E.createContext(null),Uo=E.createContext(null),Z0=E.createContext(null),Fi=E.createContext({outlet:null,matches:[],isDataRoute:!1}),eC=E.createContext(null);function IR(t,e){let{relative:n}=e===void 0?{}:e;Du()||Nt(!1);let{basename:r,navigator:s}=E.useContext(Uo),{hash:i,pathname:o,search:a}=nC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:wi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Du(){return E.useContext(Z0)!=null}function yl(){return Du()||Nt(!1),E.useContext(Z0).location}function tC(t){E.useContext(Uo).static||E.useLayoutEffect(t)}function sr(){let{isDataRoute:t}=E.useContext(Fi);return t?$R():bR()}function bR(){Du()||Nt(!1);let t=E.useContext(B1),{basename:e,future:n,navigator:r}=E.useContext(Uo),{matches:s}=E.useContext(Fi),{pathname:i}=yl(),o=JSON.stringify(XE(s,n.v7_relativeSplatPath)),a=E.useRef(!1);return tC(()=>{a.current=!0}),E.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=JE(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:wi([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function W1(){let{matches:t}=E.useContext(Fi),e=t[t.length-1];return e?e.params:{}}function nC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(Uo),{matches:s}=E.useContext(Fi),{pathname:i}=yl(),o=JSON.stringify(XE(s,r.v7_relativeSplatPath));return E.useMemo(()=>JE(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function SR(t,e){return AR(t,e)}function AR(t,e,n,r){Du()||Nt(!1);let{navigator:s}=E.useContext(Uo),{matches:i}=E.useContext(Fi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=yl(),u;if(e){var d;let v=typeof e=="string"?Fo(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||Nt(!1),u=v}else u=c;let h=u.pathname||"/",p=l==="/"?h:h.slice(l.length)||"/",g=tR(t,{pathname:p}),y=LR(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:wi([l,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:wi([l,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return e&&y?E.createElement(Z0.Provider,{value:{location:Jc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ai.Pop}},y):y}function RR(){let t=jR(),e=ER(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:s},n):null,i)}const kR=E.createElement(RR,null);class NR extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(Fi.Provider,{value:this.props.routeContext},E.createElement(eC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PR(t){let{routeContext:e,match:n,children:r}=t,s=E.useContext(B1);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Fi.Provider,{value:e},r)}function LR(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||Nt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let p,g=!1,y=null,v=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||kR,l&&(c<0&&h===0?(FR("route-fallback",!1),g=!0,v=null):c===h&&(g=!0,v=d.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,h+1)),_=()=>{let w;return p?w=y:g?w=v:d.route.Component?w=E.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,E.createElement(PR,{match:d,routeContext:{outlet:u,matches:m,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?E.createElement(NR,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:_(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):_()},null)}var rC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(rC||{}),Gh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gh||{});function MR(t){let e=E.useContext(B1);return e||Nt(!1),e}function OR(t){let e=E.useContext(TR);return e||Nt(!1),e}function DR(t){let e=E.useContext(Fi);return e||Nt(!1),e}function sC(t){let e=DR(),n=e.matches[e.matches.length-1];return n.route.id||Nt(!1),n.route.id}function jR(){var t;let e=E.useContext(eC),n=OR(Gh.UseRouteError),r=sC(Gh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $R(){let{router:t}=MR(rC.UseNavigateStable),e=sC(Gh.UseNavigateStable),n=E.useRef(!1);return tC(()=>{n.current=!0}),E.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Jc({fromRouteId:e},i)))},[t,e])}const j3={};function FR(t,e,n){!e&&!j3[t]&&(j3[t]=!0)}function Tn(t){Nt(!1)}function UR(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ai.Pop,navigator:i,static:o=!1,future:a}=t;Du()&&Nt(!1);let l=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:i,static:o,future:Jc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Fo(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:g="default"}=r,y=E.useMemo(()=>{let v=z1(u,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:p,key:g},navigationType:s}},[l,u,d,h,p,g,s]);return y==null?null:E.createElement(Uo.Provider,{value:c},E.createElement(Z0.Provider,{children:n,value:y}))}function VR(t){let{children:e,location:n}=t;return SR(Um(e),n)}new Promise(()=>{});function Um(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,s)=>{if(!E.isValidElement(r))return;let i=[...e,s];if(r.type===E.Fragment){n.push.apply(n,Um(r.props.children,i));return}r.type!==Tn&&Nt(!1),!r.props.index||!r.props.children||Nt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Um(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vm(){return Vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vm.apply(this,arguments)}function zR(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function BR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WR(t,e){return t.button===0&&(!e||e==="_self")&&!BR(t)}const HR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],qR="6";try{window.__reactRouterVersion=qR}catch{}const GR="startTransition",$3=Hp[GR];function KR(t){let{basename:e,children:n,future:r,window:s}=t,i=E.useRef();i.current==null&&(i.current=J7({window:s,v5Compat:!0}));let o=i.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=E.useCallback(d=>{c&&$3?$3(()=>l(d)):l(d)},[l,c]);return E.useLayoutEffect(()=>o.listen(u),[o,u]),E.createElement(UR,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const QR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XR=E.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,h=zR(e,HR),{basename:p}=E.useContext(Uo),g,y=!1;if(typeof c=="string"&&YR.test(c)&&(g=c,QR))try{let w=new URL(window.location.href),T=c.startsWith("//")?new URL(w.protocol+c):new URL(c),R=z1(T.pathname,p);T.origin===w.origin&&R!=null?c=R+T.search+T.hash:y=!0}catch{}let v=IR(c,{relative:s}),m=JR(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:d});function _(w){r&&r(w),w.defaultPrevented||m(w)}return E.createElement("a",Vm({},h,{href:g||v,onClick:y||i?r:_,ref:n,target:l}))});var F3;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(F3||(F3={}));var U3;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(U3||(U3={}));function JR(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=sr(),c=yl(),u=nC(t,{relative:o});return E.useCallback(d=>{if(WR(d,n)){d.preventDefault();let h=r!==void 0?r:qh(c)===qh(u);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}function ZR(t,e,n){const r=e.name,s=ek(t,e.quizzes),i=tk(s),o=t.length,a=e.gradingRules.length!==0?nk(i,e.gradingRules)||"There is an error in your grading rules":"Level is not defined",l=rk(),c=sk();return{testName:r,results:s,score:i,totalScore:o,level:a,date:l,time:c,timeTaken:n}}function ek(t,e){return e.map(r=>{const{id:s,question:i,answer:o}=r;let a;t.forEach(c=>{s===c.id&&(a=c)});const{userAnswer:l}=a;return l===r.answer?{id:s,question:i,userAnswer:l,answer:o,isTrue:!0}:{id:s,question:i,userAnswer:l,answer:o,isTrue:!1}})}function tk(t){let e=0;return t.forEach(n=>{n.isTrue&&e++}),e}function nk(t,e){let n;try{e.forEach(r=>{t>=Number(r.from)&&t<=Number(r.to)&&(n=r.level)})}catch(r){console.log(r.message)}return n}function rk(){const t=new Date,e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return`${e}/${n}/${r}`}function sk(){const t=new Date;let e=t.getHours();const n=t.getMinutes(),r=e>12?"PM":"AM";e=e%12||12;const s=n<10?`0${n}`:n;return`${e}:${s} ${r}`}var V3={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y=function(t,e){if(!t)throw vl(e)},vl=function(t){return new Error("Firebase Database ("+iC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ik=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},H1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ik(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new ok;const h=i<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ok extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aC=function(t){const e=oC(t);return H1.encodeByteArray(e,!0)},Kh=function(t){return aC(t).replace(/\./g,"")},Qh=function(t){try{return H1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t){return lC(void 0,t)}function lC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!lk(n)||(t[n]=lC(t[n],e[n]));return t}function lk(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=()=>ck().__FIREBASE_DEFAULTS__,dk=()=>{if(typeof process>"u"||typeof V3>"u")return;const t=V3.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Qh(t[1]);return e&&JSON.parse(e)},ef=()=>{try{return uk()||dk()||hk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cC=t=>{var e,n;return(n=(e=ef())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},q1=t=>{const e=cC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},uC=()=>{var t;return(t=ef())===null||t===void 0?void 0:t.config},dC=t=>{var e;return(e=ef())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Kh(JSON.stringify(n)),Kh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function fk(){var t;const e=(t=ef())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mk(){const t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fC(){return iC.NODE_ADMIN===!0}function gk(){return!fk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pC(){try{return typeof indexedDB=="object"}catch{return!1}}function yk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk="FirebaseError";class gs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vk,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ju.prototype.create)}}class ju{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?_k(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new gs(s,a,r)}}function _k(t,e){return t.replace(wk,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const wk=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t){return JSON.parse(t)}function en(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Zc(Qh(i[0])||""),n=Zc(Qh(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},xk=function(t){const e=mC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Ek=function(t){const e=mC(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ja(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function zm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yh(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function eu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(z3(i)&&z3(o)){if(!eu(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function z3(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ac(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function lc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):d<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const h=(s<<5|s>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function Tk(t,e){const n=new Ik(t,e);return n.subscribe.bind(n)}class Ik{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bk(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=up),s.error===void 0&&(s.error=up),s.complete===void 0&&(s.complete=up);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function up(){}function Sk(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,Y(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},tf=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t){return t&&t._delegate?t._delegate:t}class js{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new G1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Nk(e))try{this.getOrInitializeService({instanceIdentifier:Ji})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ji){return this.instances.has(e)}getOptions(e=Ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ji){return this.component?this.component.multipleInstances?e:Ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kk(t){return t===Ji?void 0:t}function Nk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Rk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const Lk={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},Mk=me.INFO,Ok={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},Dk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Ok[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nf{constructor(e){this.name=e,this._logLevel=Mk,this._logHandler=Dk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const jk=(t,e)=>e.some(n=>t instanceof n);let B3,W3;function $k(){return B3||(B3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Fk(){return W3||(W3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gC=new WeakMap,Bm=new WeakMap,yC=new WeakMap,dp=new WeakMap,Y1=new WeakMap;function Uk(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(xi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gC.set(n,t)}).catch(()=>{}),Y1.set(e,t),e}function Vk(t){if(Bm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Bm.set(t,e)}let Wm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zk(t){Wm=t(Wm)}function Bk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hp(this),e,...n);return yC.set(r,e.sort?e.sort():[e]),xi(r)}:Fk().includes(t)?function(...e){return t.apply(hp(this),e),xi(gC.get(this))}:function(...e){return xi(t.apply(hp(this),e))}}function Wk(t){return typeof t=="function"?Bk(t):(t instanceof IDBTransaction&&Vk(t),jk(t,$k())?new Proxy(t,Wm):t)}function xi(t){if(t instanceof IDBRequest)return Uk(t);if(dp.has(t))return dp.get(t);const e=Wk(t);return e!==t&&(dp.set(t,e),Y1.set(e,t)),e}const hp=t=>Y1.get(t);function Hk(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=xi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(xi(o.result),l.oldVersion,l.newVersion,xi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const qk=["get","getKey","getAll","getAllKeys","count"],Gk=["put","add","delete","clear"],fp=new Map;function H3(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fp.get(e))return fp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Gk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||qk.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return fp.set(e,i),i}zk(t=>({...t,get:(e,n,r)=>H3(e,n)||t.get(e,n,r),has:(e,n)=>!!H3(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Qk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Qk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hm="@firebase/app",q3="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=new nf("@firebase/app"),Yk="@firebase/app-compat",Xk="@firebase/analytics-compat",Jk="@firebase/analytics",Zk="@firebase/app-check-compat",eN="@firebase/app-check",tN="@firebase/auth",nN="@firebase/auth-compat",rN="@firebase/database",sN="@firebase/database-compat",iN="@firebase/functions",oN="@firebase/functions-compat",aN="@firebase/installations",lN="@firebase/installations-compat",cN="@firebase/messaging",uN="@firebase/messaging-compat",dN="@firebase/performance",hN="@firebase/performance-compat",fN="@firebase/remote-config",pN="@firebase/remote-config-compat",mN="@firebase/storage",gN="@firebase/storage-compat",yN="@firebase/firestore",vN="@firebase/firestore-compat",_N="firebase",wN="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="[DEFAULT]",xN={[Hm]:"fire-core",[Yk]:"fire-core-compat",[Jk]:"fire-analytics",[Xk]:"fire-analytics-compat",[eN]:"fire-app-check",[Zk]:"fire-app-check-compat",[tN]:"fire-auth",[nN]:"fire-auth-compat",[rN]:"fire-rtdb",[sN]:"fire-rtdb-compat",[iN]:"fire-fn",[oN]:"fire-fn-compat",[aN]:"fire-iid",[lN]:"fire-iid-compat",[cN]:"fire-fcm",[uN]:"fire-fcm-compat",[dN]:"fire-perf",[hN]:"fire-perf-compat",[fN]:"fire-rc",[pN]:"fire-rc-compat",[mN]:"fire-gcs",[gN]:"fire-gcs-compat",[yN]:"fire-fst",[vN]:"fire-fst-compat","fire-js":"fire-js",[_N]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new Map,Gm=new Map;function EN(t,e){try{t.container.addComponent(e)}catch(n){So.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ri(t){const e=t.name;if(Gm.has(e))return So.debug(`There were multiple attempts to register component ${e}.`),!1;Gm.set(e,t);for(const n of Xh.values())EN(n,t);return!0}function $u(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ei=new ju("app","Firebase",CN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=wN;function vC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:qm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ei.create("bad-app-name",{appName:String(s)});if(n||(n=uC()),!n)throw Ei.create("no-options");const i=Xh.get(s);if(i){if(eu(n,i.options)&&eu(r,i.config))return i;throw Ei.create("duplicate-app",{appName:s})}const o=new Pk(s);for(const l of Gm.values())o.addComponent(l);const a=new TN(n,r,o);return Xh.set(s,a),a}function rf(t=qm){const e=Xh.get(t);if(!e&&t===qm&&uC())return vC();if(!e)throw Ei.create("no-app",{appName:t});return e}function yr(t,e,n){var r;let s=(r=xN[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),So.warn(a.join(" "));return}Ri(new js(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="firebase-heartbeat-database",bN=1,tu="firebase-heartbeat-store";let pp=null;function _C(){return pp||(pp=Hk(IN,bN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ei.create("idb-open",{originalErrorMessage:t.message})})),pp}async function SN(t){try{const n=(await _C()).transaction(tu),r=await n.objectStore(tu).get(wC(t));return await n.done,r}catch(e){if(e instanceof gs)So.warn(e.message);else{const n=Ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});So.warn(n.message)}}}async function G3(t,e){try{const r=(await _C()).transaction(tu,"readwrite");await r.objectStore(tu).put(e,wC(t)),await r.done}catch(n){if(n instanceof gs)So.warn(n.message);else{const r=Ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});So.warn(r.message)}}}function wC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=1024,RN=30*24*60*60*1e3;class kN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=K3();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=RN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=K3(),{heartbeatsToSend:r,unsentEntries:s}=NN(this._heartbeatsCache.heartbeats),i=Kh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function K3(){return new Date().toISOString().substring(0,10)}function NN(t,e=AN){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Q3(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Q3(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pC()?yk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return G3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return G3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Q3(t){return Kh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t){Ri(new js("platform-logger",e=>new Kk(e),"PRIVATE")),Ri(new js("heartbeat",e=>new kN(e),"PRIVATE")),yr(Hm,q3,t),yr(Hm,q3,"esm2017"),yr("fire-js","")}LN("");var MN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X,X1=X1||{},ce=MN||self;function sf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Fu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function ON(t){return Object.prototype.hasOwnProperty.call(t,mp)&&t[mp]||(t[mp]=++DN)}var mp="closure_uid_"+(1e9*Math.random()>>>0),DN=0;function jN(t,e,n){return t.call.apply(t.bind,arguments)}function $N(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function vn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?vn=jN:vn=$N,vn.apply(null,arguments)}function Pd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Gt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Vi(){this.s=this.s,this.o=this.o}var FN=0;Vi.prototype.s=!1;Vi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),FN!=0)&&ON(this)};Vi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function J1(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Y3(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(sf(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function _n(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}_n.prototype.h=function(){this.defaultPrevented=!0};var UN=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ce.addEventListener("test",n,e),ce.removeEventListener("test",n,e)}catch{}return t}();function nu(t){return/^[\s\xa0]*$/.test(t)}function of(){var t=ce.navigator;return t&&(t=t.userAgent)?t:""}function Zr(t){return of().indexOf(t)!=-1}function Z1(t){return Z1[" "](t),t}Z1[" "]=function(){};function VN(t,e){var n=LP;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var zN=Zr("Opera"),Za=Zr("Trident")||Zr("MSIE"),EC=Zr("Edge"),Km=EC||Za,CC=Zr("Gecko")&&!(of().toLowerCase().indexOf("webkit")!=-1&&!Zr("Edge"))&&!(Zr("Trident")||Zr("MSIE"))&&!Zr("Edge"),BN=of().toLowerCase().indexOf("webkit")!=-1&&!Zr("Edge");function TC(){var t=ce.document;return t?t.documentMode:void 0}var Qm;e:{var gp="",yp=function(){var t=of();if(CC)return/rv:([^\);]+)(\)|;)/.exec(t);if(EC)return/Edge\/([\d\.]+)/.exec(t);if(Za)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(BN)return/WebKit\/(\S+)/.exec(t);if(zN)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(yp&&(gp=yp?yp[1]:""),Za){var vp=TC();if(vp!=null&&vp>parseFloat(gp)){Qm=String(vp);break e}}Qm=gp}var Ym;if(ce.document&&Za){var X3=TC();Ym=X3||parseInt(Qm,10)||void 0}else Ym=void 0;var WN=Ym;function ru(t,e){if(_n.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(CC){e:{try{Z1(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:HN[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ru.$.h.call(this)}}Gt(ru,_n);var HN={2:"touch",3:"pen",4:"mouse"};ru.prototype.h=function(){ru.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Uu="closure_listenable_"+(1e6*Math.random()|0),qN=0;function GN(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++qN,this.fa=this.ia=!1}function af(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ey(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function KN(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function IC(t){const e={};for(const n in t)e[n]=t[n];return e}const J3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bC(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<J3.length;i++)n=J3[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function lf(t){this.src=t,this.g={},this.h=0}lf.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Jm(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new GN(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Xm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=xC(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(af(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Jm(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var ty="closure_lm_"+(1e6*Math.random()|0),_p={};function SC(t,e,n,r,s){if(r&&r.once)return RC(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)SC(t,e[i],n,r,s);return null}return n=sy(n),t&&t[Uu]?t.O(e,n,Fu(r)?!!r.capture:!!r,s):AC(t,e,n,!1,r,s)}function AC(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Fu(s)?!!s.capture:!!s,a=ry(t);if(a||(t[ty]=a=new lf(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=QN(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)UN||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(NC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function QN(){function t(n){return e.call(t.src,t.listener,n)}const e=YN;return t}function RC(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)RC(t,e[i],n,r,s);return null}return n=sy(n),t&&t[Uu]?t.P(e,n,Fu(r)?!!r.capture:!!r,s):AC(t,e,n,!0,r,s)}function kC(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)kC(t,e[i],n,r,s);else r=Fu(r)?!!r.capture:!!r,n=sy(n),t&&t[Uu]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Jm(i,n,r,s),-1<n&&(af(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=ry(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Jm(e,n,r,s)),(n=-1<t?e[t]:null)&&ny(n))}function ny(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Uu])Xm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(NC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ry(e))?(Xm(n,t),n.h==0&&(n.src=null,e[ty]=null)):af(t)}}}function NC(t){return t in _p?_p[t]:_p[t]="on"+t}function YN(t,e){if(t.fa)t=!0;else{e=new ru(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ny(t),t=n.call(r,e)}return t}function ry(t){return t=t[ty],t instanceof lf?t:null}var wp="__closure_events_fn_"+(1e9*Math.random()>>>0);function sy(t){return typeof t=="function"?t:(t[wp]||(t[wp]=function(e){return t.handleEvent(e)}),t[wp])}function qt(){Vi.call(this),this.i=new lf(this),this.S=this,this.J=null}Gt(qt,Vi);qt.prototype[Uu]=!0;qt.prototype.removeEventListener=function(t,e,n,r){kC(this,t,e,n,r)};function rn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new _n(e,t);else if(e instanceof _n)e.target=e.target||t;else{var s=e;e=new _n(r,t),bC(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Ld(o,r,!0,e)&&s}if(o=e.g=t,s=Ld(o,r,!0,e)&&s,s=Ld(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Ld(o,r,!1,e)&&s}qt.prototype.N=function(){if(qt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)af(n[r]);delete t.g[e],t.h--}}this.J=null};qt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};qt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ld(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Xm(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var iy=ce.JSON.stringify;class XN{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function JN(){var t=oy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class ZN{constructor(){this.h=this.g=null}add(e,n){const r=PC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var PC=new XN(()=>new eP,t=>t.reset());class eP{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function tP(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function nP(t){ce.setTimeout(()=>{throw t},0)}let su,iu=!1,oy=new ZN,LC=()=>{const t=ce.Promise.resolve(void 0);su=()=>{t.then(rP)}};var rP=()=>{for(var t;t=JN();){try{t.h.call(t.g)}catch(n){nP(n)}var e=PC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}iu=!1};function cf(t,e){qt.call(this),this.h=t||1,this.g=e||ce,this.j=vn(this.qb,this),this.l=Date.now()}Gt(cf,qt);X=cf.prototype;X.ga=!1;X.T=null;X.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rn(this,"tick"),this.ga&&(ay(this),this.start()))}};X.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ay(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}X.N=function(){cf.$.N.call(this),ay(this),delete this.g};function ly(t,e,n){if(typeof t=="function")n&&(t=vn(t,n));else if(t&&typeof t.handleEvent=="function")t=vn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function MC(t){t.g=ly(()=>{t.g=null,t.i&&(t.i=!1,MC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class sP extends Vi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:MC(this)}N(){super.N(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ou(t){Vi.call(this),this.h=t,this.g={}}Gt(ou,Vi);var Z3=[];function OC(t,e,n,r){Array.isArray(n)||(n&&(Z3[0]=n.toString()),n=Z3);for(var s=0;s<n.length;s++){var i=SC(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function DC(t){ey(t.g,function(e,n){this.g.hasOwnProperty(n)&&ny(e)},t),t.g={}}ou.prototype.N=function(){ou.$.N.call(this),DC(this)};ou.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function uf(){this.g=!0}uf.prototype.Ea=function(){this.g=!1};function iP(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function oP(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function wa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+lP(t,n)+(r?" "+r:"")})}function aP(t,e){t.info(function(){return"TIMEOUT: "+e})}uf.prototype.info=function(){};function lP(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return iy(n)}catch{return e}}var Vo={},ew=null;function df(){return ew=ew||new qt}Vo.Ta="serverreachability";function jC(t){_n.call(this,Vo.Ta,t)}Gt(jC,_n);function au(t){const e=df();rn(e,new jC(e))}Vo.STAT_EVENT="statevent";function $C(t,e){_n.call(this,Vo.STAT_EVENT,t),this.stat=e}Gt($C,_n);function bn(t){const e=df();rn(e,new $C(e,t))}Vo.Ua="timingevent";function FC(t,e){_n.call(this,Vo.Ua,t),this.size=e}Gt(FC,_n);function Vu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}var hf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},UC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function cy(){}cy.prototype.h=null;function tw(t){return t.h||(t.h=t.i())}function VC(){}var zu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function uy(){_n.call(this,"d")}Gt(uy,_n);function dy(){_n.call(this,"c")}Gt(dy,_n);var Zm;function ff(){}Gt(ff,cy);ff.prototype.g=function(){return new XMLHttpRequest};ff.prototype.i=function(){return{}};Zm=new ff;function Bu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ou(this),this.P=cP,t=Km?125:void 0,this.V=new cf(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new zC}function zC(){this.i=null,this.g="",this.h=!1}var cP=45e3,BC={},eg={};X=Bu.prototype;X.setTimeout=function(t){this.P=t};function tg(t,e,n){t.L=1,t.A=mf($s(e)),t.u=n,t.S=!0,WC(t,null)}function WC(t,e){t.G=Date.now(),Wu(t),t.B=$s(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),JC(n.i,"t",r),t.o=0,n=t.l.J,t.h=new zC,t.g=_6(t.l,n?e:null,!t.u),0<t.O&&(t.M=new sP(vn(t.Pa,t,t.g),t.O)),OC(t.U,t.g,"readystatechange",t.nb),e=t.I?IC(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),au(),iP(t.j,t.v,t.B,t.m,t.W,t.u)}X.nb=function(t){t=t.target;const e=this.M;e&&es(t)==3?e.l():this.Pa(t)};X.Pa=function(t){try{if(t==this.g)e:{const u=es(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||Km||this.g&&(this.h.h||this.g.ja()||iw(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?au(3):au(2)),pf(this);var n=this.g.da();this.ca=n;t:if(HC(this)){var r=iw(this.g);t="";var s=r.length,i=es(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oo(this),Cc(this);var o="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,oP(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nu(a)){var c=a;break t}}c=null}if(n=c)wa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ng(this,n);else{this.i=!1,this.s=3,bn(12),oo(this),Cc(this);break e}}this.S?(qC(this,u,o),Km&&this.i&&u==3&&(OC(this.U,this.V,"tick",this.mb),this.V.start())):(wa(this.j,this.m,o,null),ng(this,o)),u==4&&oo(this),this.i&&!this.J&&(u==4?m6(this.l,this):(this.i=!1,Wu(this)))}else kP(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,bn(12)):(this.s=0,bn(13)),oo(this),Cc(this)}}}catch{}finally{}};function HC(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function qC(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=uP(t,n),s==eg){e==4&&(t.s=4,bn(14),r=!1),wa(t.j,t.m,null,"[Incomplete Response]");break}else if(s==BC){t.s=4,bn(15),wa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else wa(t.j,t.m,s,null),ng(t,s);HC(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,bn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),yy(e),e.M=!0,bn(11))):(wa(t.j,t.m,n,"[Invalid Chunked Response]"),oo(t),Cc(t))}X.mb=function(){if(this.g){var t=es(this.g),e=this.g.ja();this.o<e.length&&(pf(this),qC(this,t,e),this.i&&t!=4&&Wu(this))}};function uP(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?eg:(n=Number(e.substring(n,r)),isNaN(n)?BC:(r+=1,r+n>e.length?eg:(e=e.slice(r,r+n),t.o=r+n,e)))}X.cancel=function(){this.J=!0,oo(this)};function Wu(t){t.Y=Date.now()+t.P,GC(t,t.P)}function GC(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Vu(vn(t.lb,t),e)}function pf(t){t.C&&(ce.clearTimeout(t.C),t.C=null)}X.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(aP(this.j,this.B),this.L!=2&&(au(),bn(17)),oo(this),this.s=2,Cc(this)):GC(this,this.Y-t)};function Cc(t){t.l.H==0||t.J||m6(t.l,t)}function oo(t){pf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,ay(t.V),DC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ng(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||rg(n.i,t))){if(!t.K&&rg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)e0(n),_f(n);else break e;gy(n),bn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Vu(vn(n.ib,n),6e3));if(1>=t6(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ao(n,11)}else if((t.K||n.g==t)&&e0(n),!nu(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var i=r.i;i.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(hy(i,i.h),i.h=null))}if(r.F){const y=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,et(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=v6(r,r.J?r.pa:null,r.Y),o.K){n6(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(pf(a),Wu(a)),r.g=o}else f6(r);0<n.j.length&&wf(n)}else c[0]!="stop"&&c[0]!="close"||ao(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?ao(n,7):my(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}au(4)}catch{}}function dP(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(sf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function hP(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(sf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function KC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(sf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=hP(t),r=dP(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var QC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fP(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function yo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof yo){this.h=t.h,Jh(this,t.j),this.s=t.s,this.g=t.g,Zh(this,t.m),this.l=t.l;var e=t.i,n=new lu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),nw(this,n),this.o=t.o}else t&&(e=String(t).match(QC))?(this.h=!1,Jh(this,e[1]||"",!0),this.s=cc(e[2]||""),this.g=cc(e[3]||"",!0),Zh(this,e[4]),this.l=cc(e[5]||"",!0),nw(this,e[6]||"",!0),this.o=cc(e[7]||"")):(this.h=!1,this.i=new lu(null,this.h))}yo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(uc(e,rw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(uc(e,rw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(uc(n,n.charAt(0)=="/"?gP:mP,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",uc(n,vP)),t.join("")};function $s(t){return new yo(t)}function Jh(t,e,n){t.j=n?cc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Zh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function nw(t,e,n){e instanceof lu?(t.i=e,_P(t.i,t.h)):(n||(e=uc(e,yP)),t.i=new lu(e,t.h))}function et(t,e,n){t.i.set(e,n)}function mf(t){return et(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function cc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function uc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,pP),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pP(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var rw=/[#\/\?@]/g,mP=/[#\?:]/g,gP=/[#\?]/g,yP=/[#\?@]/g,vP=/#/g;function lu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function zi(t){t.g||(t.g=new Map,t.h=0,t.i&&fP(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}X=lu.prototype;X.add=function(t,e){zi(this),this.i=null,t=wl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function YC(t,e){zi(t),e=wl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function XC(t,e){return zi(t),e=wl(t,e),t.g.has(e)}X.forEach=function(t,e){zi(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};X.ta=function(){zi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};X.Z=function(t){zi(this);let e=[];if(typeof t=="string")XC(this,t)&&(e=e.concat(this.g.get(wl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};X.set=function(t,e){return zi(this),this.i=null,t=wl(this,t),XC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};X.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function JC(t,e,n){YC(t,e),0<n.length&&(t.i=null,t.g.set(wl(t,e),J1(n)),t.h+=n.length)}X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function wl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function _P(t,e){e&&!t.j&&(zi(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(YC(this,r),JC(this,s,n))},t)),t.j=e}var wP=class{constructor(t,e){this.g=t,this.map=e}};function ZC(t){this.l=t||xP,ce.PerformanceNavigationTiming?(t=ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ce.g&&ce.g.Ka&&ce.g.Ka()&&ce.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xP=10;function e6(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function t6(t){return t.h?1:t.g?t.g.size:0}function rg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function hy(t,e){t.g?t.g.add(e):t.h=e}function n6(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}ZC.prototype.cancel=function(){if(this.i=r6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function r6(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return J1(t.i)}var EP=class{stringify(t){return ce.JSON.stringify(t,void 0)}parse(t){return ce.JSON.parse(t,void 0)}};function CP(){this.g=new EP}function TP(t,e,n){const r=n||"";try{KC(t,function(s,i){let o=s;Fu(s)&&(o=iy(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function IP(t,e){const n=new uf;if(ce.Image){const r=new Image;r.onload=Pd(Md,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Pd(Md,n,r,"TestLoadImage: error",!1,e),r.onabort=Pd(Md,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Pd(Md,n,r,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Md(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function gf(t){this.l=t.ec||null,this.j=t.ob||!1}Gt(gf,cy);gf.prototype.g=function(){return new yf(this.l,this.j)};gf.prototype.i=function(t){return function(){return t}}({});function yf(t,e){qt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=fy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gt(yf,qt);var fy=0;X=yf.prototype;X.open=function(t,e){if(this.readyState!=fy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,cu(this)};X.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hu(this)),this.readyState=fy};X.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,cu(this)),this.g&&(this.readyState=3,cu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;s6(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function s6(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}X.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Hu(this):cu(this),this.readyState==3&&s6(this)}};X.Za=function(t){this.g&&(this.response=this.responseText=t,Hu(this))};X.Ya=function(t){this.g&&(this.response=t,Hu(this))};X.ka=function(){this.g&&Hu(this)};function Hu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,cu(t)}X.setRequestHeader=function(t,e){this.v.append(t,e)};X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};X.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function cu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(yf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var bP=ce.JSON.parse;function ft(t){qt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=i6,this.L=this.M=!1}Gt(ft,qt);var i6="",SP=/^https?$/i,AP=["POST","PUT"];X=ft.prototype;X.Oa=function(t){this.M=t};X.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zm.g(),this.C=this.u?tw(this.u):tw(Zm),this.g.onreadystatechange=vn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){sw(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=ce.FormData&&t instanceof ce.FormData,!(0<=xC(AP,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{l6(this),0<this.B&&((this.L=RP(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vn(this.ua,this)):this.A=ly(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){sw(this,i)}};function RP(t){return Za&&typeof t.timeout=="number"&&t.ontimeout!==void 0}X.ua=function(){typeof X1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rn(this,"timeout"),this.abort(8))};function sw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,o6(t),vf(t)}function o6(t){t.F||(t.F=!0,rn(t,"complete"),rn(t,"error"))}X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,rn(this,"complete"),rn(this,"abort"),vf(this))};X.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vf(this,!0)),ft.$.N.call(this)};X.La=function(){this.s||(this.G||this.v||this.l?a6(this):this.kb())};X.kb=function(){a6(this)};function a6(t){if(t.h&&typeof X1<"u"&&(!t.C[1]||es(t)!=4||t.da()!=2)){if(t.v&&es(t)==4)ly(t.La,0,t);else if(rn(t,"readystatechange"),es(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(QC)[1]||null;!s&&ce.self&&ce.self.location&&(s=ce.self.location.protocol.slice(0,-1)),r=!SP.test(s?s.toLowerCase():"")}n=r}if(n)rn(t,"complete"),rn(t,"success");else{t.m=6;try{var i=2<es(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",o6(t)}}finally{vf(t)}}}}function vf(t,e){if(t.g){l6(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||rn(t,"ready");try{n.onreadystatechange=r}catch{}}}function l6(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}X.isActive=function(){return!!this.g};function es(t){return t.g?t.g.readyState:0}X.da=function(){try{return 2<es(this)?this.g.status:-1}catch{return-1}};X.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};X.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),bP(e)}};function iw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case i6:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function kP(t){const e={};t=(t.g&&2<=es(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(nu(t[r]))continue;var n=tP(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}KN(e,function(r){return r.join(", ")})}X.Ia=function(){return this.m};X.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function c6(t){let e="";return ey(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function py(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=c6(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):et(t,e,n))}function Wl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function u6(t){this.Ga=0,this.j=[],this.l=new uf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wl("baseRetryDelayMs",5e3,t),this.hb=Wl("retryDelaySeedMs",1e4,t),this.eb=Wl("forwardChannelMaxRetries",2,t),this.xa=Wl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new ZC(t&&t.concurrentRequestLimit),this.Ja=new CP,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}X=u6.prototype;X.ra=8;X.H=1;function my(t){if(d6(t),t.H==3){var e=t.W++,n=$s(t.I);if(et(n,"SID",t.K),et(n,"RID",e),et(n,"TYPE","terminate"),qu(t,n),e=new Bu(t,t.l,e),e.L=2,e.A=mf($s(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon)try{n=ce.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ce.Image&&(new Image().src=e.A,n=!0),n||(e.g=_6(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Wu(e)}y6(t)}function _f(t){t.g&&(yy(t),t.g.cancel(),t.g=null)}function d6(t){_f(t),t.u&&(ce.clearTimeout(t.u),t.u=null),e0(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ce.clearTimeout(t.m),t.m=null)}function wf(t){if(!e6(t.i)&&!t.m){t.m=!0;var e=t.Na;su||LC(),iu||(su(),iu=!0),oy.add(e,t),t.C=0}}function NP(t,e){return t6(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Vu(vn(t.Na,t,e),g6(t,t.C)),t.C++,!0)}X.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Bu(this,this.l,t);let i=this.s;if(this.U&&(i?(i=IC(i),bC(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=h6(this,s,e),n=$s(this.I),et(n,"RID",t),et(n,"CVER",22),this.F&&et(n,"X-HTTP-Session-Id",this.F),qu(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(c6(i)))+"&"+e:this.o&&py(n,this.o,i)),hy(this.i,s),this.bb&&et(n,"TYPE","init"),this.P?(et(n,"$req",e),et(n,"SID","null"),s.aa=!0,tg(s,n,null)):tg(s,n,e),this.H=2}}else this.H==3&&(t?ow(this,t):this.j.length==0||e6(this.i)||ow(this))};function ow(t,e){var n;e?n=e.m:n=t.W++;const r=$s(t.I);et(r,"SID",t.K),et(r,"RID",n),et(r,"AID",t.V),qu(t,r),t.o&&t.s&&py(r,t.o,t.s),n=new Bu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=h6(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),hy(t.i,n),tg(n,r,e)}function qu(t,e){t.na&&ey(t.na,function(n,r){et(e,r,n)}),t.h&&KC({},function(n,r){et(e,r,n)})}function h6(t,e,n){n=Math.min(t.j.length,n);var r=t.h?vn(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{TP(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function f6(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;su||LC(),iu||(su(),iu=!0),oy.add(e,t),t.A=0}}function gy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Vu(vn(t.Ma,t),g6(t,t.A)),t.A++,!0)}X.Ma=function(){if(this.u=null,p6(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Vu(vn(this.jb,this),t)}};X.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,bn(10),_f(this),p6(this))};function yy(t){t.B!=null&&(ce.clearTimeout(t.B),t.B=null)}function p6(t){t.g=new Bu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=$s(t.wa);et(e,"RID","rpc"),et(e,"SID",t.K),et(e,"AID",t.V),et(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&et(e,"TO",t.qa),et(e,"TYPE","xmlhttp"),qu(t,e),t.o&&t.s&&py(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=mf($s(e)),n.u=null,n.S=!0,WC(n,t)}X.ib=function(){this.v!=null&&(this.v=null,_f(this),gy(this),bn(19))};function e0(t){t.v!=null&&(ce.clearTimeout(t.v),t.v=null)}function m6(t,e){var n=null;if(t.g==e){e0(t),yy(t),t.g=null;var r=2}else if(rg(t.i,e))n=e.F,n6(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=df(),rn(r,new FC(r,n)),wf(t)}else f6(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&NP(t,e)||r==2&&gy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:ao(t,5);break;case 4:ao(t,10);break;case 3:ao(t,6);break;default:ao(t,2)}}}function g6(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ao(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=vn(t.pb,t);n||(n=new yo("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Jh(n,"https"),mf(n)),IP(n.toString(),r)}else bn(2);t.H=0,t.h&&t.h.za(e),y6(t),d6(t)}X.pb=function(t){t?(this.l.info("Successfully pinged google.com"),bn(2)):(this.l.info("Failed to ping google.com"),bn(1))};function y6(t){if(t.H=0,t.ma=[],t.h){const e=r6(t.i);(e.length!=0||t.j.length!=0)&&(Y3(t.ma,e),Y3(t.ma,t.j),t.i.i.length=0,J1(t.j),t.j.length=0),t.h.ya()}}function v6(t,e,n){var r=n instanceof yo?$s(n):new yo(n);if(r.g!="")e&&(r.g=e+"."+r.g),Zh(r,r.m);else{var s=ce.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new yo(null);r&&Jh(i,r),e&&(i.g=e),s&&Zh(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&et(r,n,e),et(r,"VER",t.ra),qu(t,r),r}function _6(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ft(new gf({ob:n})):new ft(t.va),e.Oa(t.J),e}X.isActive=function(){return!!this.h&&this.h.isActive(this)};function w6(){}X=w6.prototype;X.Ba=function(){};X.Aa=function(){};X.za=function(){};X.ya=function(){};X.isActive=function(){return!0};X.Va=function(){};function t0(){if(Za&&!(10<=Number(WN)))throw Error("Environmental error: no available transport.")}t0.prototype.g=function(t,e){return new Zn(t,e)};function Zn(t,e){qt.call(this),this.g=new u6(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!nu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new xl(this)}Gt(Zn,qt);Zn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;bn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=v6(t,null,t.Y),wf(t)};Zn.prototype.close=function(){my(this.g)};Zn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=iy(t),t=n);e.j.push(new wP(e.fb++,t)),e.H==3&&wf(e)};Zn.prototype.N=function(){this.g.h=null,delete this.j,my(this.g),delete this.g,Zn.$.N.call(this)};function x6(t){uy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Gt(x6,uy);function E6(){dy.call(this),this.status=1}Gt(E6,dy);function xl(t){this.g=t}Gt(xl,w6);xl.prototype.Ba=function(){rn(this.g,"a")};xl.prototype.Aa=function(t){rn(this.g,new x6(t))};xl.prototype.za=function(t){rn(this.g,new E6)};xl.prototype.ya=function(){rn(this.g,"b")};function PP(){this.blockSize=-1}function zr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Gt(zr,PP);zr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function xp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}zr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)xp(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){xp(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){xp(this,r),s=0;break}}this.h=s,this.i+=e};zr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Oe(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var LP={};function vy(t){return-128<=t&&128>t?VN(t,function(e){return new Oe([e|0],0>e?-1:0)}):new Oe([t|0],0>t?-1:0)}function ts(t){if(isNaN(t)||!isFinite(t))return Na;if(0>t)return Zt(ts(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=sg;return new Oe(e,0)}function C6(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Zt(C6(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ts(Math.pow(e,8)),r=Na,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=ts(Math.pow(e,i)),r=r.R(i).add(ts(o))):(r=r.R(n),r=r.add(ts(o)))}return r}var sg=4294967296,Na=vy(0),ig=vy(1),aw=vy(16777216);X=Oe.prototype;X.ea=function(){if(fr(this))return-Zt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:sg+r)*e,e*=sg}return t};X.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ss(this))return"0";if(fr(this))return"-"+Zt(this).toString(t);for(var e=ts(Math.pow(t,6)),n=this,r="";;){var s=r0(n,e).g;n=n0(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Ss(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};X.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ss(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function fr(t){return t.h==-1}X.X=function(t){return t=n0(this,t),fr(t)?-1:Ss(t)?0:1};function Zt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Oe(n,~t.h).add(ig)}X.abs=function(){return fr(this)?Zt(this):this};X.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Oe(n,n[n.length-1]&-2147483648?-1:0)};function n0(t,e){return t.add(Zt(e))}X.R=function(t){if(Ss(this)||Ss(t))return Na;if(fr(this))return fr(t)?Zt(this).R(Zt(t)):Zt(Zt(this).R(t));if(fr(t))return Zt(this.R(Zt(t)));if(0>this.X(aw)&&0>t.X(aw))return ts(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,Od(n,2*r+2*s),n[2*r+2*s+1]+=i*l,Od(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Od(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Od(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Oe(n,0)};function Od(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Hl(t,e){this.g=t,this.h=e}function r0(t,e){if(Ss(e))throw Error("division by zero");if(Ss(t))return new Hl(Na,Na);if(fr(t))return e=r0(Zt(t),e),new Hl(Zt(e.g),Zt(e.h));if(fr(e))return e=r0(t,Zt(e)),new Hl(Zt(e.g),e.h);if(30<t.g.length){if(fr(t)||fr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ig,r=e;0>=r.X(t);)n=lw(n),r=lw(r);var s=Xo(n,1),i=Xo(r,1);for(r=Xo(r,2),n=Xo(n,2);!Ss(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=Xo(r,1),n=Xo(n,1)}return e=n0(t,s.R(e)),new Hl(s,e)}for(s=Na;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=ts(n),o=i.R(e);fr(o)||0<o.X(t);)n-=r,i=ts(n),o=i.R(e);Ss(i)&&(i=ig),s=s.add(i),t=n0(t,o)}return new Hl(s,t)}X.gb=function(t){return r0(this,t).h};X.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Oe(n,this.h&t.h)};X.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Oe(n,this.h|t.h)};X.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Oe(n,this.h^t.h)};function lw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Oe(n,t.h)}function Xo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Oe(s,t.h)}t0.prototype.createWebChannel=t0.prototype.g;Zn.prototype.send=Zn.prototype.u;Zn.prototype.open=Zn.prototype.m;Zn.prototype.close=Zn.prototype.close;hf.NO_ERROR=0;hf.TIMEOUT=8;hf.HTTP_ERROR=6;UC.COMPLETE="complete";VC.EventType=zu;zu.OPEN="a";zu.CLOSE="b";zu.ERROR="c";zu.MESSAGE="d";qt.prototype.listen=qt.prototype.O;ft.prototype.listenOnce=ft.prototype.P;ft.prototype.getLastError=ft.prototype.Sa;ft.prototype.getLastErrorCode=ft.prototype.Ia;ft.prototype.getStatus=ft.prototype.da;ft.prototype.getResponseJson=ft.prototype.Wa;ft.prototype.getResponseText=ft.prototype.ja;ft.prototype.send=ft.prototype.ha;ft.prototype.setWithCredentials=ft.prototype.Oa;zr.prototype.digest=zr.prototype.l;zr.prototype.reset=zr.prototype.reset;zr.prototype.update=zr.prototype.j;Oe.prototype.add=Oe.prototype.add;Oe.prototype.multiply=Oe.prototype.R;Oe.prototype.modulo=Oe.prototype.gb;Oe.prototype.compare=Oe.prototype.X;Oe.prototype.toNumber=Oe.prototype.ea;Oe.prototype.toString=Oe.prototype.toString;Oe.prototype.getBits=Oe.prototype.D;Oe.fromNumber=ts;Oe.fromString=C6;var MP=function(){return new t0},OP=function(){return df()},Ep=hf,DP=UC,jP=Vo,cw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Dd=VC,$P=ft,FP=zr,Pa=Oe;const uw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let El="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new nf("@firebase/firestore");function ql(){return Ao.logLevel}function Q(t,...e){if(Ao.logLevel<=me.DEBUG){const n=e.map(_y);Ao.debug(`Firestore (${El}): ${t}`,...n)}}function fs(t,...e){if(Ao.logLevel<=me.ERROR){const n=e.map(_y);Ao.error(`Firestore (${El}): ${t}`,...n)}}function el(t,...e){if(Ao.logLevel<=me.WARN){const n=e.map(_y);Ao.warn(`Firestore (${El}): ${t}`,...n)}}function _y(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: `+t;throw fs(e),new Error(e)}function Ye(t,e){t||le()}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends gs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dn.UNAUTHENTICATED))}shutdown(){}}class VP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zP{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new os;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new os,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new os)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string"),new T6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new dn(e)}}class BP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class WP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new BP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new HP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=GP(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function tl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new Ft(0,0))}static max(){return new ue(new Ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return uu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof uu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends uu{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const KP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends uu{construct(e,n,r){return new tn(e,n,r)}static isValidIdentifier(e){return KP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Ge.fromString(e))}static fromName(e){return new ne(Ge.fromString(e).popFirst(5))}static empty(){return new ne(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Ge(e.slice()))}}function QP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ue.fromTimestamp(r===1e9?new Ft(n+1,0):new Ft(n,r));return new ki(s,ne.empty(),e)}function YP(t){return new ki(t.readTime,t.key,-1)}class ki{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ki(ue.min(),ne.empty(),-1)}static max(){return new ki(ue.max(),ne.empty(),-1)}}function XP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==JP)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new os,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Tc(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=xy(r.target.error);this.V.reject(new Tc(e,s))}}static open(e,n,r,s){try{return new wy(n,e.transaction(s,r))}catch(i){throw new Tc(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new tL(n)}}class lo{constructor(e,n,r){this.name=e,this.version=n,this.p=r,lo.S(Pt())===12.2&&fs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Q("SimpleDb","Removing database:",e),eo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!pC())return!1;if(lo.C())return!0;const e=Pt(),n=lo.S(e),r=0<n&&n<10,s=lo.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(Q("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Tc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new q(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new q(U.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Tc(e,o))},s.onupgradeneeded=i=>{Q("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{Q("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=wy.open(this.db,e,i?"readonly":"readwrite",r),l=s(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),B.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(Q("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class eL{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return eo(this.k.delete())}}class Tc extends q{constructor(e,n){super(U.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ku(t){return t.name==="IndexedDbTransactionError"}class tL{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Q("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Q("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),eo(r)}add(e){return Q("SimpleDb","ADD",this.store.name,e,e),eo(this.store.add(e))}get(e){return eo(this.store.get(e)).next(n=>(n===void 0&&(n=null),Q("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Q("SimpleDb","DELETE",this.store.name,e),eo(this.store.delete(e))}count(){return Q("SimpleDb","COUNT",this.store.name),eo(this.store.count())}W(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new B((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new B((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(e,n){Q("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new B((r,s)=>{n.onerror=i=>{const o=xy(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new B((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new eL(a),c=n(a.primaryKey,a.value,l);if(c instanceof B){const u=c.catch(d=>(l.done(),B.reject(d)));r.push(u)}l.isDone?s():l.$===null?a.continue():a.continue(l.$)}}).next(()=>B.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function eo(t){return new B((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=xy(r.target.error);n(s)}})}let dw=!1;function xy(t){const e=lo.S(Pt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dw||(dw=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Ey._e=-1;function xf(t){return t==null}function s0(t){return t===0&&1/t==-1/0}function nL(t){return typeof t=="number"&&Number.isInteger(t)&&!s0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function b6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lt=class og{constructor(e,n){this.comparator=e,this.root=n||Ci.EMPTY}insert(e,n){return new og(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ci.BLACK,null,null))}remove(e){return new og(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ci.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jd(this.root,e,this.comparator,!1)}getReverseIterator(){return new jd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jd(this.root,e,this.comparator,!0)}},jd=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ci=class xs{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??xs.RED,this.left=s??xs.EMPTY,this.right=i??xs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new xs(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return xs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return xs.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}};Ci.EMPTY=null,Ci.RED=!0,Ci.BLACK=!1;Ci.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ci(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fw(this.data.getIterator())}getIteratorFrom(e){return new fw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new sn(this.comparator);return n.data=e,n}}class fw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new sn(tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new S6("Invalid base64 string: "+i):i}}(e);return new En(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const rL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(t){if(Ye(!!t),typeof t=="string"){let e=0;const n=rL.exec(t);if(Ye(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ro(t){return typeof t=="string"?En.fromBase64String(t):En.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Cy(t){const e=t.mapValue.fields.__previous_value__;return Ef(e)?Cy(e):e}function du(t){const e=Ni(t.mapValue.fields.__local_write_time__.timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class hu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ko(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ef(t)?4:iL(t)?9007199254740991:10:le()}function ps(t,e){if(t===e)return!0;const n=ko(t);if(n!==ko(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return du(t).isEqual(du(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ni(s.timestampValue),a=Ni(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ro(s.bytesValue).isEqual(Ro(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return St(s.geoPointValue.latitude)===St(i.geoPointValue.latitude)&&St(s.geoPointValue.longitude)===St(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return St(s.integerValue)===St(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=St(s.doubleValue),a=St(i.doubleValue);return o===a?s0(o)===s0(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return tl(t.arrayValue.values||[],e.arrayValue.values||[],ps);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(hw(o)!==hw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ps(o[l],a[l])))return!1;return!0}(t,e);default:return le()}}function fu(t,e){return(t.values||[]).find(n=>ps(n,e))!==void 0}function nl(t,e){if(t===e)return 0;const n=ko(t),r=ko(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=St(i.integerValue||i.doubleValue),l=St(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return pw(t.timestampValue,e.timestampValue);case 4:return pw(du(t),du(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ro(i),l=Ro(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Re(a[c],l[c]);if(u!==0)return u}return Re(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Re(St(i.latitude),St(o.latitude));return a!==0?a:Re(St(i.longitude),St(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=nl(a[c],l[c]);if(u)return u}return Re(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===$d.mapValue&&o===$d.mapValue)return 0;if(i===$d.mapValue)return 1;if(o===$d.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Re(l[d],u[d]);if(h!==0)return h;const p=nl(a[l[d]],c[u[d]]);if(p!==0)return p}return Re(l.length,u.length)}(t.mapValue,e.mapValue);default:throw le()}}function pw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=Ni(t),r=Ni(e),s=Re(n.seconds,r.seconds);return s!==0?s:Re(n.nanos,r.nanos)}function rl(t){return ag(t)}function ag(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ni(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ro(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=ag(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${ag(n.fields[o])}`;return s+"}"}(t.mapValue):le()}function i0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lg(t){return!!t&&"integerValue"in t}function Ty(t){return!!t&&"arrayValue"in t}function mw(t){return!!t&&"nullValue"in t}function gw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lh(t){return!!t&&"mapValue"in t}function Ic(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ic(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ic(t.arrayValue.values[n]);return e}return Object.assign({},t)}function iL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ic(n)}setAll(e){let n=tn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ic(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];lh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){zo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Mn(Ic(this.value))}}function A6(t){const e=[];return zo(t.fields,(n,r)=>{const s=new tn([n]);if(lh(r)){const i=A6(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new fn(e,0,ue.min(),ue.min(),ue.min(),Mn.empty(),0)}static newFoundDocument(e,n,r,s){return new fn(e,1,n,ue.min(),r,s,0)}static newNoDocument(e,n){return new fn(e,2,n,ue.min(),ue.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,ue.min(),ue.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this.position=e,this.inclusive=n}}function yw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=nl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function vw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ps(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n="asc"){this.field=e,this.dir=n}}function oL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{}class kt extends R6{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lL(e,n,r):n==="array-contains"?new dL(e,r):n==="in"?new hL(e,r):n==="not-in"?new fL(e,r):n==="array-contains-any"?new pL(e,r):new kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cL(e,r):new uL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(nl(n,this.value)):n!==null&&ko(this.value)===ko(n)&&this.matchesComparison(nl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Br extends R6{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Br(e,n)}matches(e){return k6(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function k6(t){return t.op==="and"}function N6(t){return aL(t)&&k6(t)}function aL(t){for(const e of t.filters)if(e instanceof Br)return!1;return!0}function cg(t){if(t instanceof kt)return t.field.canonicalString()+t.op.toString()+rl(t.value);if(N6(t))return t.filters.map(e=>cg(e)).join(",");{const e=t.filters.map(n=>cg(n)).join(",");return`${t.op}(${e})`}}function P6(t,e){return t instanceof kt?function(r,s){return s instanceof kt&&r.op===s.op&&r.field.isEqual(s.field)&&ps(r.value,s.value)}(t,e):t instanceof Br?function(r,s){return s instanceof Br&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&P6(o,s.filters[a]),!0):!1}(t,e):void le()}function L6(t){return t instanceof kt?function(n){return`${n.field.canonicalString()} ${n.op} ${rl(n.value)}`}(t):t instanceof Br?function(n){return n.op.toString()+" {"+n.getFilters().map(L6).join(" ,")+"}"}(t):"Filter"}class lL extends kt{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class cL extends kt{constructor(e,n){super(e,"in",n),this.keys=M6("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uL extends kt{constructor(e,n){super(e,"not-in",n),this.keys=M6("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function M6(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class dL extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ty(n)&&fu(n.arrayValue,this.value)}}class hL extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fu(this.value.arrayValue,n)}}class fL extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!fu(this.value.arrayValue,n)}}class pL extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ty(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function _w(t,e=null,n=[],r=[],s=null,i=null,o=null){return new mL(t,e,n,r,s,i,o)}function Iy(t){const e=he(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),xf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rl(r)).join(",")),e.ce=n}return e.ce}function by(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!P6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vw(t.startAt,e.startAt)&&vw(t.endAt,e.endAt)}function ug(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function gL(t,e,n,r,s,i,o,a){return new Bo(t,e,n,r,s,i,o,a)}function Cf(t){return new Bo(t)}function ww(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Sy(t){return t.collectionGroup!==null}function La(t){const e=he(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new sn(tn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new pu(i,r))}),n.has(tn.keyField().canonicalString())||e.le.push(new pu(tn.keyField(),r))}return e.le}function as(t){const e=he(t);return e.he||(e.he=yL(e,La(t))),e.he}function yL(t,e){if(t.limitType==="F")return _w(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new pu(s.field,i)});const n=t.endAt?new sl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sl(t.startAt.position,t.startAt.inclusive):null;return _w(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dg(t,e){const n=t.filters.concat([e]);return new Bo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function o0(t,e,n){return new Bo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tf(t,e){return by(as(t),as(e))&&t.limitType===e.limitType}function O6(t){return`${Iy(as(t))}|lt:${t.limitType}`}function sa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>L6(s)).join(", ")}]`),xf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>rl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>rl(s)).join(",")),`Target(${r})`}(as(t))}; limitType=${t.limitType})`}function If(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ne.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of La(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=yw(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,La(r),s)||r.endAt&&!function(o,a,l){const c=yw(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,La(r),s))}(t,e)}function vL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function D6(t){return(e,n)=>{let r=!1;for(const s of La(t)){const i=_L(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function _L(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?nl(l,c):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){zo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return b6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=new Lt(ne.comparator);function Fs(){return wL}const j6=new Lt(ne.comparator);function dc(...t){let e=j6;for(const n of t)e=e.insert(n.key,n);return e}function $6(t){let e=j6;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function co(){return bc()}function F6(){return bc()}function bc(){return new Cl(t=>t.toString(),(t,e)=>t.isEqual(e))}const xL=new Lt(ne.comparator),EL=new sn(ne.comparator);function ge(...t){let e=EL;for(const n of t)e=e.add(n);return e}const CL=new sn(Re);function TL(){return CL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:s0(e)?"-0":e}}function V6(t){return{integerValue:""+t}}function IL(t,e){return nL(e)?V6(e):U6(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(){this._=void 0}}function bL(t,e,n){return t instanceof mu?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Ef(i)&&(i=Cy(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof il?B6(t,e):t instanceof gu?W6(t,e):function(s,i){const o=z6(s,i),a=xw(o)+xw(s.Ie);return lg(o)&&lg(s.Ie)?V6(a):U6(s.serializer,a)}(t,e)}function SL(t,e,n){return t instanceof il?B6(t,e):t instanceof gu?W6(t,e):n}function z6(t,e){return t instanceof a0?function(r){return lg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class mu extends bf{}class il extends bf{constructor(e){super(),this.elements=e}}function B6(t,e){const n=H6(e);for(const r of t.elements)n.some(s=>ps(s,r))||n.push(r);return{arrayValue:{values:n}}}class gu extends bf{constructor(e){super(),this.elements=e}}function W6(t,e){let n=H6(e);for(const r of t.elements)n=n.filter(s=>!ps(s,r));return{arrayValue:{values:n}}}class a0 extends bf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function xw(t){return St(t.integerValue||t.doubleValue)}function H6(t){return Ty(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e,n){this.field=e,this.transform=n}}function AL(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof il&&s instanceof il||r instanceof gu&&s instanceof gu?tl(r.elements,s.elements,ps):r instanceof a0&&s instanceof a0?ps(r.Ie,s.Ie):r instanceof mu&&s instanceof mu}(t.transform,e.transform)}class RL{constructor(e,n){this.version=e,this.transformResults=n}}class vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sf{}function G6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ay(t.key,vr.none()):new Qu(t.key,t.data,vr.none());{const n=t.data,r=Mn.empty();let s=new sn(tn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Bi(t.key,r,new Gn(s.toArray()),vr.none())}}function kL(t,e,n){t instanceof Qu?function(s,i,o){const a=s.value.clone(),l=Cw(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Bi?function(s,i,o){if(!ch(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Cw(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(K6(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Sc(t,e,n,r){return t instanceof Qu?function(i,o,a,l){if(!ch(i.precondition,o))return a;const c=i.value.clone(),u=Tw(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bi?function(i,o,a,l){if(!ch(i.precondition,o))return a;const c=Tw(i.fieldTransforms,l,o),u=o.data;return u.setAll(K6(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return ch(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function NL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=z6(r.transform,s||null);i!=null&&(n===null&&(n=Mn.empty()),n.set(r.field,i))}return n||null}function Ew(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&tl(r,s,(i,o)=>AL(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qu extends Sf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Bi extends Sf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function K6(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Cw(t,e,n){const r=new Map;Ye(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,SL(o,a,n[s]))}return r}function Tw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,bL(i,o,e))}return r}class Ay extends Sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PL extends Sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&kL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=F6();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=G6(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,(n,r)=>Ew(n,r))&&tl(this.baseMutations,e.baseMutations,(n,r)=>Ew(n,r))}}class Ry{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ye(e.mutations.length===r.length);let s=function(){return xL}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Ry(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,we;function DL(t){switch(t){default:return le();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function Q6(t){if(t===void 0)return fs("GRPC error has no .code"),U.UNKNOWN;switch(t){case bt.OK:return U.OK;case bt.CANCELLED:return U.CANCELLED;case bt.UNKNOWN:return U.UNKNOWN;case bt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case bt.INTERNAL:return U.INTERNAL;case bt.UNAVAILABLE:return U.UNAVAILABLE;case bt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case bt.NOT_FOUND:return U.NOT_FOUND;case bt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case bt.ABORTED:return U.ABORTED;case bt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case bt.DATA_LOSS:return U.DATA_LOSS;default:return le()}}(we=bt||(bt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=new Pa([4294967295,4294967295],0);function Iw(t){const e=jL().encode(t),n=new FP;return n.update(e),new Uint8Array(n.digest())}function bw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Pa([n,r],0),new Pa([s,i],0)]}class ky{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hc(`Invalid padding: ${n}`);if(r<0)throw new hc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Pa.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Pa.fromNumber(r)));return s.compare($L)===1&&(s=new Pa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Iw(e),[r,s]=bw(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ky(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=Iw(e),[r,s]=bw(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Yu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Af(ue.min(),s,new Lt(Re),Fs(),ge())}}class Yu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yu(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class Y6{constructor(e,n){this.targetId=e,this.fe=n}}class X6{constructor(e,n,r=En.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Sw{constructor(){this.ge=0,this.pe=Rw(),this.ye=En.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ge(),n=ge(),r=ge();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:le()}}),new Yu(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Rw()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ye(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class FL{constructor(e){this.Be=e,this.ke=new Map,this.qe=Fs(),this.Qe=Aw(),this.Ke=new Lt(Re)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(ug(i))if(r===0){const o=new ne(i.path);this.We(n,o,fn.newNoDocument(o,ue.min()))}else Ye(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ro(r).toUint8Array()}catch(l){if(l instanceof S6)return el("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ky(o,s,i)}catch(l){return el(l instanceof hc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&ug(a.target)){const l=new ne(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,fn.newNoDocument(l,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=ge();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new Af(e,n,this.Ke,this.qe,r);return this.qe=Fs(),this.Qe=Aw(),this.Ke=new Lt(Re),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Sw,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new sn(Re),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Sw),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function Aw(){return new Lt(ne.comparator)}function Rw(){return new Lt(ne.comparator)}const UL={asc:"ASCENDING",desc:"DESCENDING"},VL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zL={and:"AND",or:"OR"};class BL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hg(t,e){return t.useProto3Json||xf(e)?e:{value:e}}function l0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function WL(t,e){return l0(t,e.toTimestamp())}function ls(t){return Ye(!!t),ue.fromTimestamp(function(n){const r=Ni(n);return new Ft(r.seconds,r.nanos)}(t))}function Ny(t,e){return fg(t,e).canonicalString()}function fg(t,e){const n=function(s){return new Ge(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Z6(t){const e=Ge.fromString(t);return Ye(sT(e)),e}function pg(t,e){return Ny(t.databaseId,e.path)}function Cp(t,e){const n=Z6(e);if(n.get(1)!==t.databaseId.projectId)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(tT(n))}function eT(t,e){return Ny(t.databaseId,e)}function HL(t){const e=Z6(t);return e.length===4?Ge.emptyPath():tT(e)}function mg(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tT(t){return Ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function kw(t,e,n){return{name:pg(t,e),fields:n.value.mapValue.fields}}function qL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Ye(u===void 0||typeof u=="string"),En.fromBase64String(u||"")):(Ye(u===void 0||u instanceof Uint8Array),En.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?U.UNKNOWN:Q6(c.code);return new q(u,c.message||"")}(o);n=new X6(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Cp(t,r.document.name),i=ls(r.document.updateTime),o=r.document.createTime?ls(r.document.createTime):ue.min(),a=new Mn({mapValue:{fields:r.document.fields}}),l=fn.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new uh(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Cp(t,r.document),i=r.readTime?ls(r.readTime):ue.min(),o=fn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new uh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Cp(t,r.document),i=r.removedTargetIds||[];n=new uh([],i,s,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new OL(s,i),a=r.targetId;n=new Y6(a,o)}}return n}function GL(t,e){let n;if(e instanceof Qu)n={update:kw(t,e.key,e.value)};else if(e instanceof Ay)n={delete:pg(t,e.key)};else if(e instanceof Bi)n={update:kw(t,e.key,e.data),updateMask:nM(e.fieldMask)};else{if(!(e instanceof PL))return le();n={verify:pg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof mu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof il)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof gu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof a0)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:WL(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:le()}(t,e.precondition)),n}function KL(t,e){return t&&t.length>0?(Ye(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?ls(s.updateTime):ls(i);return o.isEqual(ue.min())&&(o=ls(i)),new RL(o,s.transformResults||[])}(n,e))):[]}function QL(t,e){return{documents:[eT(t,e.path)]}}function YL(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eT(t,s);const i=function(c){if(c.length!==0)return rT(Br.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:ia(h.field),direction:ZL(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=hg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:s}}function XL(t){let e=HL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ye(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(d){const h=nT(d);return h instanceof Br&&N6(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new pu(oa(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,xf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new sl(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new sl(p,h)}(n.endAt)),gL(e,s,o,i,a,"F",l,c)}function JL(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=oa(n.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=oa(n.unaryFilter.field);return kt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=oa(n.unaryFilter.field);return kt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=oa(n.unaryFilter.field);return kt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return kt.create(oa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Br.create(n.compositeFilter.filters.map(r=>nT(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function ZL(t){return UL[t]}function eM(t){return VL[t]}function tM(t){return zL[t]}function ia(t){return{fieldPath:t.canonicalString()}}function oa(t){return tn.fromServerFormat(t.fieldPath)}function rT(t){return t instanceof kt?function(n){if(n.op==="=="){if(gw(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NAN"}};if(mw(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gw(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NOT_NAN"}};if(mw(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ia(n.field),op:eM(n.op),value:n.value}}}(t):t instanceof Br?function(n){const r=n.getFilters().map(s=>rT(s));return r.length===1?r[0]:{compositeFilter:{op:tM(n.op),filters:r}}}(t):le()}function nM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n,r,s,i=ue.min(),o=ue.min(),a=En.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.ct=e}}function sM(t){const e=XL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?o0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this._n=new oM}addToCollectionParentIndex(e,n){return this._n.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(ki.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class oM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new sn(Ge.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new sn(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ol(0)}static Ln(){return new ol(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(){this.changes=new Cl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Sc(r.mutation,s,Gn.empty(),Ft.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const s=co();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=dc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=co();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Fs();const o=bc(),a=function(){return bc()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Bi)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Sc(u.mutation,c,u.mutation.getFieldMask(),Ft.now())):o.set(c.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new lM(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=bc();let s=new Lt((o,a)=>o-a),i=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Gn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(s.get(a.batchId)||ge()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=F6();u.forEach(h=>{if(!i.has(h)){const p=G6(n.get(h),r.get(h));p!==null&&d.set(h,p),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Sy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(co());let a=-1,l=i;return o.next(c=>B.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(u)?B.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,ge())).next(u=>({batchId:a,changes:$6(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let s=dc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=dc();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,l=>{const c=function(d,h){return new Bo(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,fn.newInvalidDocument(u)))});let a=dc();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Sc(u.mutation,c,Gn.empty(),Ft.now()),If(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return B.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ls(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:sM(s.bundledQuery),readTime:ls(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(){this.overlays=new Lt(ne.comparator),this.hr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=co();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=co(),i=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Lt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=co(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=co(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return B.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ML(n,r));let i=this.hr.get(n);i===void 0&&(i=ge(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.Pr=new sn(Vt.Ir),this.Tr=new sn(Vt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Vt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Vt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ne(new Ge([])),r=new Vt(n,e),s=new Vt(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ne(new Ge([])),r=new Vt(n,e),s=new Vt(n,e+1);let i=ge();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Vt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ne.comparator(e.key,n.key)||Re(e.pr,n.pr)}static Er(e,n){return Re(e.pr,n.pr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new sn(Vt.Ir)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new LL(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new Vt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vt(n,0),s=new Vt(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sn(Re);return n.forEach(s=>{const i=new Vt(s,0),o=new Vt(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),B.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ne.isDocumentKey(i)||(i=i.child(""));const o=new Vt(new ne(i),0);let a=new sn(Re);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.pr)),!0)},o),B.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ye(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return B.forEach(n.mutations,s=>{const i=new Vt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Vt(n,0),s=this.wr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.vr=e,this.docs=function(){return new Lt(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let r=Fs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():fn.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Fs();const o=n.path,a=new ne(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||XP(YP(u),r)<=0||(s.has(u.key)||If(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){le()}Fr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pM(this)}getSize(e){return B.resolve(this.size)}}class pM extends aM{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.persistence=e,this.Mr=new Cl(n=>Iy(n),by),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Py,this.targetCount=0,this.Lr=ol.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),B.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ol(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.qn(n),B.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n){this.Br={},this.overlays={},this.kr=new Ey(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new mM(this),this.indexManager=new iM,this.remoteDocumentCache=function(s){return new fM(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new rM(n),this.$r=new uM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new hM(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const s=new yM(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return B.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class yM extends ZP{constructor(e){super(),this.currentSequenceNumber=e}}class Ly{constructor(e){this.persistence=e,this.zr=new Py,this.jr=null}static Hr(e){return new Ly(e)}get Jr(){if(this.jr)return this.jr;throw le()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),B.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Jr,r=>{const s=ne.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,ue.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return B.or([()=>B.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=ge(),s=ge();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new My(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return gk()?8:lo.v(Pt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new vM;return this.Ji(e,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(ql()<=me.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",sa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),B.resolve()):(ql()<=me.DEBUG&&Q("QueryEngine","Query:",sa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(ql()<=me.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",sa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,as(n))):B.resolve())}ji(e,n){if(ww(n))return B.resolve(null);let r=as(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=o0(n,null,"F"),r=as(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ge(...i);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,o0(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,s){return ww(n)||s.isEqual(ue.min())?B.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?B.resolve(null):(ql()<=me.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),sa(n)),this.es(e,o,n,QP(s,-1)).next(a=>a))})}Zi(e,n){let r=new sn(D6(e));return n.forEach((s,i)=>{If(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return ql()<=me.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",sa(n)),this.zi.getDocumentsMatchingQuery(e,n,ki.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new Lt(Re),this.rs=new Cl(i=>Iy(i),by),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cM(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function xM(t,e,n,r){return new wM(t,e,n,r)}async function iT(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ge();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function EM(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let p=B.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(y=>{const v=c.docVersions.get(g);Ye(v!==null),y.version.compareTo(v)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ge();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function oT(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function CM(t,e){const n=he(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];e.targetChanges.forEach((u,d)=>{const h=s.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(i,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(i,u.addedDocuments,d)));let p=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(En.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(d,p),function(y,v,m){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,p,u)&&a.push(n.Qr.updateTargetData(i,p))});let l=Fs(),c=ge();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(TM(i,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(ue.min())){const u=n.Qr.getLastRemoteSnapshotVersion(i).next(d=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.ns=s,i))}function TM(t,e,n){let r=ge(),s=ge();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Fs();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:s}})}function IM(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bM(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new li(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function gg(t,e,n){const r=he(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ku(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function Nw(t,e,n){const r=he(t);let s=ue.min(),i=ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=he(l),h=d.rs.get(u);return h!==void 0?B.resolve(d.ns.get(h)):d.Qr.getTargetData(c,u)}(r,o,as(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:ue.min(),n?i:ge())).next(a=>(SM(r,vL(e),a),{documents:a,hs:i})))}function SM(t,e,n){let r=t.ss.get(e)||ue.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class Pw{constructor(){this.activeTargetIds=TL()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AM{constructor(){this.no=new Pw,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Pw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd=null;function Tp(){return Fd===null?Fd=function(){return 268435456+Math.round(2147483648*Math.random())}():Fd++,"0x"+Fd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class PM extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const a=Tp(),l=this.bo(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,i,o),this.Co(n,l,c,s).then(u=>(Q("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw el("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}vo(n,r,s,i,o,a){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+El}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=kM[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=Tp();return new Promise((o,a)=>{const l=new $P;l.setWithCredentials(!0),l.listenOnce(DP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ep.NO_ERROR:const u=l.getResponseJson();Q(cn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Ep.TIMEOUT:Q(cn,`RPC '${e}' ${i} timed out`),a(new q(U.DEADLINE_EXCEEDED,"Request time out"));break;case Ep.HTTP_ERROR:const d=l.getStatus();if(Q(cn,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const g=function(v){const m=v.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(m)>=0?m:U.UNKNOWN}(p.status);a(new q(g,p.message))}else a(new q(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(U.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{Q(cn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);Q(cn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const s=Tp(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=MP(),a=OP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");Q(cn,`Creating RPC '${e}' stream ${s}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,p=!1;const g=new NM({lo:v=>{p?Q(cn,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(h||(Q(cn,`Opening RPC '${e}' stream ${s} transport.`),d.open(),h=!0),Q(cn,`RPC '${e}' stream ${s} sending:`,v),d.send(v))},ho:()=>d.close()}),y=(v,m,_)=>{v.listen(m,w=>{try{_(w)}catch(T){setTimeout(()=>{throw T},0)}})};return y(d,Dd.EventType.OPEN,()=>{p||Q(cn,`RPC '${e}' stream ${s} transport opened.`)}),y(d,Dd.EventType.CLOSE,()=>{p||(p=!0,Q(cn,`RPC '${e}' stream ${s} transport closed`),g.Vo())}),y(d,Dd.EventType.ERROR,v=>{p||(p=!0,el(cn,`RPC '${e}' stream ${s} transport errored:`,v),g.Vo(new q(U.UNAVAILABLE,"The operation could not be completed")))}),y(d,Dd.EventType.MESSAGE,v=>{var m;if(!p){const _=v.data[0];Ye(!!_);const w=_,T=w.error||((m=w[0])===null||m===void 0?void 0:m.error);if(T){Q(cn,`RPC '${e}' stream ${s} received error:`,T);const R=T.status;let I=function(C){const S=bt[C];if(S!==void 0)return Q6(S)}(R),b=T.message;I===void 0&&(I=U.INTERNAL,b="Unknown error status: "+R+" with message "+T.message),p=!0,g.Vo(new q(I,b)),d.close()}else Q(cn,`RPC '${e}' stream ${s} received:`,_),g.mo(_)}}),y(a,jP.STAT_EVENT,v=>{v.stat===cw.PROXY?Q(cn,`RPC '${e}' stream ${s} detected buffering proxy`):v.stat===cw.NOPROXY&&Q(cn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function Ip(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t){return new BL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n,r,s,i,o,a,l){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new aT(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(fs(n.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LM extends lT{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=qL(this.serializer,e),r=function(i){if(!("targetChange"in i))return ue.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?ls(o.readTime):ue.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=mg(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=ug(l)?{documents:QL(i,l)}:{query:YL(i,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=J6(i,o.resumeToken);const c=hg(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=l0(i,o.snapshotVersion.toTimestamp());const c=hg(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=JL(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=mg(this.serializer),n.removeTarget=e,this.t_(n)}}class MM extends lT{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=KL(e.writeResults,e.commitTime),r=ls(e.commitTime);return this.listener.T_(r,n)}return Ye(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=mg(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>GL(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,fg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(U.UNKNOWN,i.toString())})}vo(e,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,fg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(U.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class DM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(fs(n),this.g_=!1):Q("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{Wo(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=he(l);c.v_.add(4),await Xu(c),c.x_.set("Unknown"),c.v_.delete(4),await kf(c)}(this))})}),this.x_=new DM(r,s)}}async function kf(t){if(Wo(t))for(const e of t.F_)await e(!0)}async function Xu(t){for(const e of t.F_)await e(!1)}function cT(t,e){const n=he(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),$y(n)?jy(n):Tl(n).Jo()&&Dy(n,e))}function Oy(t,e){const n=he(t),r=Tl(n);n.C_.delete(e),r.Jo()&&uT(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Wo(n)&&n.x_.set("Unknown"))}function Dy(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tl(t).c_(e)}function uT(t,e){t.O_.Oe(e),Tl(t).l_(e)}function jy(t){t.O_=new FL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Tl(t).start(),t.x_.p_()}function $y(t){return Wo(t)&&!Tl(t).Ho()&&t.C_.size>0}function Wo(t){return he(t).v_.size===0}function dT(t){t.O_=void 0}async function $M(t){t.C_.forEach((e,n)=>{Dy(t,e)})}async function FM(t,e){dT(t),$y(t)?(t.x_.S_(e),jy(t)):t.x_.set("Unknown")}async function UM(t,e,n){if(t.x_.set("Online"),e instanceof X6&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.C_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.C_.delete(a),s.O_.removeTarget(a))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await c0(t,r)}else if(e instanceof uh?t.O_.$e(e):e instanceof Y6?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ue.min()))try{const r=await oT(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.C_.get(c);u&&i.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.C_.get(l);if(!u)return;i.C_.set(l,u.withResumeToken(En.EMPTY_BYTE_STRING,u.snapshotVersion)),uT(i,l);const d=new li(u.target,l,c,u.sequenceNumber);Dy(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await c0(t,r)}}async function c0(t,e,n){if(!Ku(e))throw e;t.v_.add(1),await Xu(t),t.x_.set("Offline"),n||(n=()=>oT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await kf(t)})}function hT(t,e){return e().catch(n=>c0(t,n,e))}async function Nf(t){const e=he(t),n=Pi(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;VM(e);)try{const s=await IM(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,zM(e,s)}catch(s){await c0(e,s)}fT(e)&&pT(e)}function VM(t){return Wo(t)&&t.D_.length<10}function zM(t,e){t.D_.push(e);const n=Pi(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function fT(t){return Wo(t)&&!Pi(t).Ho()&&t.D_.length>0}function pT(t){Pi(t).start()}async function BM(t){Pi(t).d_()}async function WM(t){const e=Pi(t);for(const n of t.D_)e.I_(n.mutations)}async function HM(t,e,n){const r=t.D_.shift(),s=Ry.from(r,e,n);await hT(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Nf(t)}async function qM(t,e){e&&Pi(t).P_&&await async function(r,s){if(function(o){return DL(o)&&o!==U.ABORTED}(s.code)){const i=r.D_.shift();Pi(r).Zo(),await hT(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Nf(r)}}(t,e),fT(t)&&pT(t)}async function Mw(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=Wo(n);n.v_.add(3),await Xu(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await kf(n)}async function GM(t,e){const n=he(t);e?(n.v_.delete(2),await kf(n)):e||(n.v_.add(2),await Xu(n),n.x_.set("Unknown"))}function Tl(t){return t.N_||(t.N_=function(n,r,s){const i=he(n);return i.R_(),new LM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:$M.bind(null,t),To:FM.bind(null,t),u_:UM.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),$y(t)?jy(t):t.x_.set("Unknown")):(await t.N_.stop(),dT(t))})),t.N_}function Pi(t){return t.L_||(t.L_=function(n,r,s){const i=he(n);return i.R_(),new MM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:BM.bind(null,t),To:qM.bind(null,t),E_:WM.bind(null,t),T_:HM.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Nf(t)):(await t.L_.stop(),t.D_.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Fy(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uy(t,e){if(fs("AsyncQueue",`${e}: ${t}`),Ku(t))return new q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=dc(),this.sortedSet=new Lt(this.comparator)}static emptySet(e){return new Ma(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ma)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ma;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.B_=new Lt(ne.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):le():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class al{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new al(e,n,Ma.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class QM{constructor(){this.queries=new Cl(e=>O6(e),Tf),this.onlineState="Unknown",this.W_=new Set}}async function Vy(t,e){const n=he(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.K_()&&e.U_()&&(r=2):(i=new KM,r=e.U_()?0:1);try{switch(r){case 0:i.q_=await n.onListen(s,!0);break;case 1:i.q_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Uy(o,`Initialization of query '${sa(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Q_.push(e),e.G_(n.onlineState),i.q_&&e.z_(i.q_)&&By(n)}async function zy(t,e){const n=he(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Q_.indexOf(e);o>=0&&(i.Q_.splice(o,1),i.Q_.length===0?s=e.U_()?0:1:!i.K_()&&e.U_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function YM(t,e){const n=he(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Q_)a.z_(s)&&(r=!0);o.q_=s}}r&&By(n)}function XM(t,e,n){const r=he(t),s=r.queries.get(e);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(e)}function By(t){t.W_.forEach(e=>{e.next()})}var yg,Dw;(Dw=yg||(yg={})).j_="default",Dw.Cache="cache";class Wy{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new al(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==yg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){this.key=e}}class gT{constructor(e){this.key=e}}class JM{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=ge(),this.mutatedKeys=ge(),this.ha=D6(e),this.Pa=new Ma(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new Ow,s=n?n.Pa:this.Pa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,d)=>{const h=s.get(u),p=If(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?g!==y&&(r.track({type:3,doc:p}),v=!0):this.da(h,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.ha(p,l)>0||c&&this.ha(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(l||c)&&(a=!0)),v&&(p?(o=o.add(p),i=y?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:i}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((u,d)=>function(p,g){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return y(p)-y(g)}(u.type,d.type)||this.ha(u.doc,d.doc)),this.Aa(r),s=s!=null&&s;const a=n&&!s?this.Ra():[],l=this.la.size===0&&this.current&&!s?1:0,c=l!==this.ca;return this.ca=l,o.length!==0||c?{snapshot:new al(this.query,e.Pa,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new Ow,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=ge(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new gT(r))}),this.la.forEach(r=>{e.has(r)||n.push(new mT(r))}),n}fa(e){this.ua=e.hs,this.la=ge();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return al.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class ZM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class eO{constructor(e){this.key=e,this.pa=!1}}class tO{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new Cl(a=>O6(a),Tf),this.Sa=new Map,this.ba=new Set,this.Da=new Lt(ne.comparator),this.Ca=new Map,this.va=new Py,this.Fa={},this.Ma=new Map,this.xa=ol.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function nO(t,e,n=!0){const r=ET(t);let s;const i=r.wa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ga()):s=await yT(r,e,n,!0),s}async function rO(t,e){const n=ET(t);await yT(n,e,!0,!1)}async function yT(t,e,n,r){const s=await bM(t.localStore,as(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await sO(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&cT(t.remoteStore,s),a}async function sO(t,e,n,r,s){t.Na=(d,h,p)=>async function(y,v,m,_){let w=v.view.Ta(m);w.Xi&&(w=await Nw(y.localStore,v.query,!1).then(({documents:b})=>v.view.Ta(b,w)));const T=_&&_.targetChanges.get(v.targetId),R=_&&_.targetMismatches.get(v.targetId)!=null,I=v.view.applyChanges(w,y.isPrimaryClient,T,R);return $w(y,v.targetId,I.Va),I.snapshot}(t,d,h,p);const i=await Nw(t.localStore,e,!0),o=new JM(e,i.hs),a=o.Ta(i.documents),l=Yu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);$w(t,n,c.Va);const u=new ZM(e,n,o);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot}async function iO(t,e,n){const r=he(t),s=r.wa.get(e),i=r.Sa.get(s.targetId);if(i.length>1)return r.Sa.set(s.targetId,i.filter(o=>!Tf(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await gg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Oy(r.remoteStore,s.targetId),vg(r,s.targetId)}).catch(Gu)):(vg(r,s.targetId),await gg(r.localStore,s.targetId,!0))}async function oO(t,e){const n=he(t),r=n.wa.get(e),s=n.Sa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Oy(n.remoteStore,r.targetId))}async function aO(t,e,n){const r=pO(t);try{const s=await function(o,a){const l=he(o),c=Ft.now(),u=a.reduce((p,g)=>p.add(g.key),ge());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Fs(),y=ge();return l.os.getEntries(p,u).next(v=>{g=v,g.forEach((m,_)=>{_.isValidDocument()||(y=y.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{d=v;const m=[];for(const _ of a){const w=NL(_,d.get(_.key).overlayedDocument);w!=null&&m.push(new Bi(_.key,w,A6(w.value.mapValue),vr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,m,a)}).next(v=>{h=v;const m=v.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,v.batchId,m)})}).then(()=>({batchId:h.batchId,changes:$6(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Fa[o.currentUser.toKey()];c||(c=new Lt(Re)),c=c.insert(a,l),o.Fa[o.currentUser.toKey()]=c}(r,s.batchId,n),await Ju(r,s.changes),await Nf(r.remoteStore)}catch(s){const i=Uy(s,"Failed to persist write");n.reject(i)}}async function vT(t,e){const n=he(t);try{const r=await CM(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ca.get(i);o&&(Ye(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.pa=!0:s.modifiedDocuments.size>0?Ye(o.pa):s.removedDocuments.size>0&&(Ye(o.pa),o.pa=!1))}),await Ju(n,r,e)}catch(r){await Gu(r)}}function jw(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wa.forEach((i,o)=>{const a=o.view.G_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=he(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.Q_)h.G_(a)&&(c=!0)}),c&&By(l)}(r.eventManager,e),s.length&&r.ya.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lO(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ca.get(e),i=s&&s.key;if(i){let o=new Lt(ne.comparator);o=o.insert(i,fn.newNoDocument(i,ue.min()));const a=ge().add(i),l=new Af(ue.min(),new Map,new Lt(Re),o,a);await vT(r,l),r.Da=r.Da.remove(i),r.Ca.delete(e),Hy(r)}else await gg(r.localStore,e,!1).then(()=>vg(r,e,n)).catch(Gu)}async function cO(t,e){const n=he(t),r=e.batch.batchId;try{const s=await EM(n.localStore,e);wT(n,r,null),_T(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ju(n,s)}catch(s){await Gu(s)}}async function uO(t,e,n){const r=he(t);try{const s=await function(o,a){const l=he(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Ye(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);wT(r,e,n),_T(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ju(r,s)}catch(s){await Gu(s)}}function _T(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function wT(t,e,n){const r=he(t);let s=r.Fa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Fa[r.currentUser.toKey()]=s}}function vg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||xT(t,r)})}function xT(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(Oy(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),Hy(t))}function $w(t,e,n){for(const r of n)r instanceof mT?(t.va.addReference(r.key,e),dO(t,r)):r instanceof gT?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||xT(t,r.key)):le()}function dO(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.ba.add(r),Hy(t))}function Hy(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new ne(Ge.fromString(e)),r=t.xa.next();t.Ca.set(r,new eO(n)),t.Da=t.Da.insert(n,r),cT(t.remoteStore,new li(as(Cf(n.path)),r,"TargetPurposeLimboResolution",Ey._e))}}async function Ju(t,e,n){const r=he(t),s=[],i=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=My.Ki(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.ya.u_(s),await async function(l,c){const u=he(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>B.forEach(c,h=>B.forEach(h.qi,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>B.forEach(h.Qi,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Ku(d))throw d;Q("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.ns.get(h),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);u.ns=u.ns.insert(h,y)}}}(r.localStore,i))}async function hO(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await iT(n.localStore,e);n.currentUser=e,function(i,o){i.Ma.forEach(a=>{a.forEach(l=>{l.reject(new q(U.CANCELLED,o))})}),i.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ju(n,r.us)}}function fO(t,e){const n=he(t),r=n.Ca.get(e);if(r&&r.pa)return ge().add(r.key);{let s=ge();const i=n.Sa.get(e);if(!i)return s;for(const o of i){const a=n.wa.get(o);s=s.unionWith(a.view.Ia)}return s}}function ET(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lO.bind(null,e),e.ya.u_=YM.bind(null,e.eventManager),e.ya.La=XM.bind(null,e.eventManager),e}function pO(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uO.bind(null,e),e}class Fw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Rf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return xM(this.persistence,new _M,e.initialUser,this.serializer)}createPersistence(e){return new gM(Ly.Hr,this.serializer)}createSharedClientState(e){return new AM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class mO{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hO.bind(null,this.syncEngine),await GM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new QM}()}createDatastore(e){const n=Rf(e.databaseInfo.databaseId),r=function(i){return new PM(i)}(e.databaseInfo);return function(i,o,a,l){return new OM(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new jM(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>jw(this.syncEngine,n,0),function(){return Lw.D()?new Lw:new RM}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const d=new tO(s,i,o,a,l,c);return u&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=he(r);Q("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await Xu(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=dn.UNAUTHENTICATED,this.clientId=I6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{Q("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(Q("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Uy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bp(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await iT(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Uw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vO(t);Q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Mw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Mw(e.remoteStore,s)),t._onlineComponents=e}function yO(t){return t.name==="FirebaseError"?t.code===U.FAILED_PRECONDITION||t.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function vO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await bp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!yO(n))throw n;el("Error using user provided cache. Falling back to memory cache: "+n),await bp(t,new Fw)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await bp(t,new Fw);return t._offlineComponents}async function CT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await Uw(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await Uw(t,new mO))),t._onlineComponents}function _O(t){return CT(t).then(e=>e.syncEngine)}async function u0(t){const e=await CT(t),n=e.eventManager;return n.onListen=nO.bind(null,e.syncEngine),n.onUnlisten=iO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oO.bind(null,e.syncEngine),n}function wO(t,e,n={}){const r=new os;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new qy({next:h=>{o.enqueueAndForget(()=>zy(i,d));const p=h.docs.has(a);!p&&h.fromCache?c.reject(new q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new Wy(Cf(a.path),u,{includeMetadataChanges:!0,ta:!0});return Vy(i,d)}(await u0(t),t.asyncQueue,e,n,r)),r.promise}function xO(t,e,n={}){const r=new os;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new qy({next:h=>{o.enqueueAndForget(()=>zy(i,d)),h.fromCache&&l.source==="server"?c.reject(new q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new Wy(a,u,{includeMetadataChanges:!0,ta:!0});return Vy(i,d)}(await u0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(t,e,n){if(!n)throw new q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EO(t,e,n,r){if(e===!0&&r===!0)throw new q(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zw(t){if(!ne.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Bw(t){if(ne.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Pf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pf(t);throw new q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function CO(t,e){if(e<=0)throw new q(U.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ww({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ww(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new UP;switch(r.type){case"firstParty":return new WP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Vw.get(n);r&&(Q("ComponentProvider","Removing Datastore"),Vw.delete(n),r.terminate())}(this),Promise.resolve()}}function TO(t,e,n,r={}){var s;const i=(t=zn(t,Lf))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=dn.MOCK_USER;else{a=K1(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new dn(c)}t._authCredentials=new VP(new T6(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ys(this.firestore,e,this._query)}}class wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class Ti extends ys{constructor(e,n,r){super(e,n,Cf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new ne(e))}withConverter(e){return new Ti(this.firestore,e,this._path)}}function lt(t,e,...n){if(t=We(t),IT("collection","path",e),t instanceof Lf){const r=Ge.fromString(e,...n);return Bw(r),new Ti(t,null,r)}{if(!(t instanceof wn||t instanceof Ti))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return Bw(r),new Ti(t.firestore,null,r)}}function de(t,e,...n){if(t=We(t),arguments.length===1&&(e=I6.newId()),IT("doc","path",e),t instanceof Lf){const r=Ge.fromString(e,...n);return zw(r),new wn(t,null,new ne(r))}{if(!(t instanceof wn||t instanceof Ti))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return zw(r),new wn(t.firestore,t instanceof Ti?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new aT(this,"async_queue_retry"),this.cu=()=>{const n=Ip();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Ip();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Ip();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new os;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Ku(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw fs("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const s=Fy.createAndSchedule(this,e,n,r,i=>this.Iu(i));return this.su.push(s),s}lu(){this.ou&&le()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function Hw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Us extends Lf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new IO}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||bT(this),this._firestoreClient.terminate()}}function bO(t,e){const n=typeof t=="object"?t:rf(),r=typeof t=="string"?t:e||"(default)",s=$u(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=q1("firestore");i&&TO(s,...i)}return s}function Mf(t){return t._firestoreClient||bT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function bT(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new sL(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,TT(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new gO(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ll(En.fromBase64String(e))}catch(n){throw new q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ll(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=/^__.*__$/;class AO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qu(e,this.data,n,this.fieldTransforms)}}class ST{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Bi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class Df{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Df(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.pu(e),s}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.Ru(),s}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return d0(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(AT(this.Vu)&&SO.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class RO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rf(e)}Cu(e,n,r,s=!1){return new Df({Vu:e,methodName:n,Du:r,path:tn.emptyPath(),gu:!1,bu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ed(t){const e=t._freezeSettings(),n=Rf(t._databaseId);return new RO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RT(t,e,n,r,s,i={}){const o=t.Cu(i.merge||i.mergeFields?2:0,e,n,s);Yy("Data must be an object, but it was:",o,r);const a=NT(r,o);let l,c;if(i.merge)l=new Gn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const h=_g(e,d,n);if(!o.contains(h))throw new q(U.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);LT(u,h)||u.push(h)}l=new Gn(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new AO(new Mn(a),l,c)}class jf extends Zu{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jf}}function kO(t,e,n){return new Df({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ky extends Zu{_toFieldTransform(e){return new q6(e.path,new mu)}isEqual(e){return e instanceof Ky}}class Qy extends Zu{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=kO(this,e,!0),r=this.vu.map(i=>Il(i,n)),s=new il(r);return new q6(e.path,s)}isEqual(e){return e instanceof Qy&&eu(this.vu,e.vu)}}function NO(t,e,n,r){const s=t.Cu(1,e,n);Yy("Data must be an object, but it was:",s,r);const i=[],o=Mn.empty();zo(r,(l,c)=>{const u=Xy(e,l,n);c=We(c);const d=s.yu(u);if(c instanceof jf)i.push(u);else{const h=Il(c,d);h!=null&&(i.push(u),o.set(u,h))}});const a=new Gn(i);return new ST(o,a,s.fieldTransforms)}function PO(t,e,n,r,s,i){const o=t.Cu(1,e,n),a=[_g(e,r,n)],l=[s];if(i.length%2!=0)throw new q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(_g(e,i[h])),l.push(i[h+1]);const c=[],u=Mn.empty();for(let h=a.length-1;h>=0;--h)if(!LT(c,a[h])){const p=a[h];let g=l[h];g=We(g);const y=o.yu(p);if(g instanceof jf)c.push(p);else{const v=Il(g,y);v!=null&&(c.push(p),u.set(p,v))}}const d=new Gn(c);return new ST(u,d,o.fieldTransforms)}function kT(t,e,n,r=!1){return Il(n,t.Cu(r?4:3,e))}function Il(t,e){if(PT(t=We(t)))return Yy("Unsupported field value:",e,t),NT(t,e);if(t instanceof Zu)return function(r,s){if(!AT(s.Vu))throw s.Su(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Su(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Il(a,s.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ft.fromDate(r);return{timestampValue:l0(s.serializer,i)}}if(r instanceof Ft){const i=new Ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:l0(s.serializer,i)}}if(r instanceof Gy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ll)return{bytesValue:J6(s.serializer,r._byteString)};if(r instanceof wn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ny(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Su(`Unsupported field value: ${Pf(r)}`)}(t,e)}function NT(t,e){const n={};return b6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zo(t,(r,s)=>{const i=Il(s,e.fu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function PT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ft||t instanceof Gy||t instanceof ll||t instanceof wn||t instanceof Zu)}function Yy(t,e,n){if(!PT(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Pf(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function _g(t,e,n){if((e=We(e))instanceof Of)return e._internalPath;if(typeof e=="string")return Xy(t,e);throw d0("Field path arguments must be of type string or ",t,!1,void 0,n)}const LO=new RegExp("[~\\*/\\[\\]]");function Xy(t,e,n){if(e.search(LO)>=0)throw d0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Of(...e.split("."))._internalPath}catch{throw d0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function d0(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new q(U.INVALID_ARGUMENT,a+t+l)}function LT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MO extends Jy{data(){return super.data()}}function Zy(t,e){return typeof e=="string"?Xy(t,e):e instanceof Of?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ev{}class $f extends ev{}function Oa(t,e,...n){let r=[];e instanceof ev&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof nv).length,a=i.filter(l=>l instanceof tv).length;if(o>1||o>0&&a>0)throw new q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class tv extends $f{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new tv(e,n,r)}_apply(e){const n=this._parse(e);return DT(e._query,n),new ys(e.firestore,e.converter,dg(e._query,n))}_parse(e){const n=ed(e.firestore);return function(i,o,a,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Gw(d,u);const p=[];for(const g of d)p.push(qw(l,i,g));h={arrayValue:{values:p}}}else h=qw(l,i,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Gw(d,u),h=kT(a,o,d,u==="in"||u==="not-in");return kt.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class nv extends ev{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new nv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Br.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)DT(o,l),o=dg(o,l)}(e._query,n),new ys(e.firestore,e.converter,dg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rv extends $f{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rv(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pu(i,o)}(e._query,this._field,this._direction);return new ys(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Bo(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function h0(t,e="asc"){const n=e,r=Zy("orderBy",t);return rv._create(r,n)}class sv extends $f{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new sv(e,n,r)}_apply(e){return new ys(e.firestore,e.converter,o0(e._query,this._limit,this._limitType))}}function f0(t){return CO("limit",t),sv._create("limit",t,"F")}class iv extends $f{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new iv(e,n,r)}_apply(e){const n=OO(e,this.type,this._docOrFields,this._inclusive);return new ys(e.firestore,e.converter,function(s,i){return new Bo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function OT(...t){return iv._create("startAfter",t,!1)}function OO(t,e,n,r){if(n[0]=We(n[0]),n[0]instanceof Jy)return function(i,o,a,l,c){if(!l)throw new q(U.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of La(i))if(d.field.isKeyField())u.push(i0(o,l.key));else{const h=l.data.field(d.field);if(Ef(h))throw new q(U.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=d.field.canonicalString();throw new q(U.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(h)}return new sl(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=ed(t.firestore);return function(o,a,l,c,u,d){const h=o.explicitOrderBy;if(u.length>h.length)throw new q(U.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let g=0;g<u.length;g++){const y=u[g];if(h[g].field.isKeyField()){if(typeof y!="string")throw new q(U.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof y}`);if(!Sy(o)&&y.indexOf("/")!==-1)throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${y}' contains a slash.`);const v=o.path.child(Ge.fromString(y));if(!ne.isDocumentKey(v))throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const m=new ne(v);p.push(i0(a,m))}else{const v=kT(l,c,y);p.push(v)}}return new sl(p,d)}(t._query,t.firestore._databaseId,s,e,n,r)}}function qw(t,e,n){if(typeof(n=We(n))=="string"){if(n==="")throw new q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sy(e)&&n.indexOf("/")!==-1)throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ge.fromString(n));if(!ne.isDocumentKey(r))throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return i0(t,new ne(r))}if(n instanceof wn)return i0(t,n._key);throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pf(n)}.`)}function Gw(t,e){if(!Array.isArray(t)||t.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DT(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class DO{convertValue(e,n="none"){switch(ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new Gy(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const n=Ni(e);return new Ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);Ye(sT(r));const s=new hu(r.get(1),r.get(3)),i=new ne(r.popFirst(5));return s.isEqual(n)||fs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $T extends Jy{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Zy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class dh extends $T{data(e={}){return super.data(e)}}class FT{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new fc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new dh(this._firestore,this._userDataWriter,r.key,r,new fc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new dh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new fc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new dh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new fc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:jO(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t){t=zn(t,wn);const e=zn(t.firestore,Us);return wO(Mf(e),t._key).then(n=>VT(e,t,n))}class ov extends DO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ll(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}function $O(t){t=zn(t,ys);const e=zn(t.firestore,Us),n=Mf(e),r=new ov(e);return MT(t._query),xO(n,t._query).then(s=>new FT(e,r,t,s))}function yu(t,e,n){t=zn(t,wn);const r=zn(t.firestore,Us),s=jT(t.converter,e,n);return Ff(r,[RT(ed(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,vr.none())])}function gn(t,e,n,...r){t=zn(t,wn);const s=zn(t.firestore,Us),i=ed(s);let o;return o=typeof(e=We(e))=="string"||e instanceof Of?PO(i,"updateDoc",t._key,e,n,r):NO(i,"updateDoc",t._key,e),Ff(s,[o.toMutation(t._key,vr.exists(!0))])}function Ii(t){return Ff(zn(t.firestore,Us),[new Ay(t._key,vr.none())])}function Ho(t,e){const n=zn(t.firestore,Us),r=de(t),s=jT(t.converter,e);return Ff(n,[RT(ed(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,vr.exists(!1))]).then(()=>r)}function er(t,...e){var n,r,s;t=We(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Hw(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Hw(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(s=d.complete)===null||s===void 0?void 0:s.bind(d)}let l,c,u;if(t instanceof wn)c=zn(t.firestore,Us),u=Cf(t._key.path),l={next:d=>{e[o]&&e[o](VT(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=zn(t,ys);c=zn(d.firestore,Us),u=d._query;const h=new ov(c);l={next:p=>{e[o]&&e[o](new FT(c,h,d,p))},error:e[o+1],complete:e[o+2]},MT(t._query)}return function(h,p,g,y){const v=new qy(y),m=new Wy(p,v,g);return h.asyncQueue.enqueueAndForget(async()=>Vy(await u0(h),m)),()=>{v.Qa(),h.asyncQueue.enqueueAndForget(async()=>zy(await u0(h),m))}}(Mf(c),u,a,l)}function Ff(t,e){return function(r,s){const i=new os;return r.asyncQueue.enqueueAndForget(async()=>aO(await _O(r),s,i)),i.promise}(Mf(t),e)}function VT(t,e,n){const r=n.docs.get(e._key),s=new ov(t);return new $T(t,s,e._key,r,new fc(n.hasPendingWrites,n.fromCache),e.converter)}function Dn(){return new Ky("serverTimestamp")}function zT(...t){return new Qy("arrayUnion",t)}(function(e,n=!0){(function(s){El=s})(Ui),Ri(new js("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Us(new zP(r.getProvider("auth-internal")),new qP(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),yr(uw,"4.5.0",e),yr(uw,"4.5.0","esm2017")})();var FO="firebase",UO="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr(FO,UO,"app");function av(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function BT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VO=BT,WT=new ju("auth","Firebase",BT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new nf("@firebase/auth");function zO(t,...e){p0.logLevel<=me.WARN&&p0.warn(`Auth (${Ui}): ${t}`,...e)}function hh(t,...e){p0.logLevel<=me.ERROR&&p0.error(`Auth (${Ui}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t,...e){throw lv(t,...e)}function cs(t,...e){return lv(t,...e)}function HT(t,e,n){const r=Object.assign(Object.assign({},VO()),{[e]:n});return new ju("auth","Firebase",r).create(e,{appName:t.name})}function BO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&xr(t,"argument-error"),HT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return WT.create(t,...e)}function oe(t,e,...n){if(!t)throw lv(e,...n)}function As(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hh(e),new Error(e)}function Vs(t,e){t||As(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WO(){return Kw()==="http:"||Kw()==="https:"}function Kw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WO()||pk()||"connection"in navigator)?navigator.onLine:!0}function qO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vs(n>e,"Short delay should be less than long delay!"),this.isMobile=Q1()||hC()}get(){return HO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t,e){Vs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=new td(3e4,6e4);function Wi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Hi(t,e,n,r,s={}){return GT(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=_l(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),qT.fetch()(KT(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function GT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},GO),e);try{const s=new YO(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ud(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ud(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ud(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ud(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw HT(t,u,c);xr(t,u)}}catch(s){if(s instanceof gs)throw s;xr(t,"network-request-failed",{message:String(s)})}}async function nd(t,e,n,r,s={}){const i=await Hi(t,e,n,r,s);return"mfaPendingCredential"in i&&xr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function KT(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?cv(t.config,s):`${t.config.apiScheme}://${s}`}function QO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cs(this.auth,"network-request-failed")),KO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ud(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=cs(t,e,r);return s.customData._tokenResponse=n,s}function Qw(t){return t!==void 0&&t.enterprise!==void 0}class XO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return QO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function JO(t,e){return Hi(t,"GET","/v2/recaptchaConfig",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(t,e){return Hi(t,"POST","/v1/accounts:delete",e)}async function eD(t,e){return Hi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tD(t,e=!1){const n=We(t),r=await n.getIdToken(e),s=uv(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ac(Sp(s.auth_time)),issuedAtTime:Ac(Sp(s.iat)),expirationTime:Ac(Sp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Sp(t){return Number(t)*1e3}function uv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const s=Qh(n);return s?JSON.parse(s):(hh("Failed to decode base64 JWT payload"),null)}catch(s){return hh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function nD(t){const e=uv(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gs&&rD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function rD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ac(this.lastLoginAt),this.creationTime=Ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m0(t){var e;const n=t.auth,r=await t.getIdToken(),s=await vu(t,eD(n,{idToken:r}));oe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?aD(i.providerUserInfo):[],a=oD(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new QT(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function iD(t){const e=We(t);await m0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oD(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function aD(t){return t.map(e=>{var{providerId:n}=e,r=av(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(t,e){const n=await GT(t,{},async()=>{const r=_l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=KT(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",qT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cD(t,e){return Hi(t,"POST","/v2/accounts:revokeToken",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return oe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await lD(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new _u;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _u,this.toJSON())}_performRefresh(){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vo{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=av(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new QT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await vu(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tD(this,e)}reload(){return iD(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await m0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await vu(this,ZO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:T,isAnonymous:R,providerData:I,stsTokenManager:b}=n;oe(w&&b,e,"internal-error");const x=_u.fromJSON(this.name,b);oe(typeof w=="string",e,"internal-error"),Ks(d,e.name),Ks(h,e.name),oe(typeof T=="boolean",e,"internal-error"),oe(typeof R=="boolean",e,"internal-error"),Ks(p,e.name),Ks(g,e.name),Ks(y,e.name),Ks(v,e.name),Ks(m,e.name),Ks(_,e.name);const C=new vo({uid:w,auth:e,email:h,emailVerified:T,displayName:d,isAnonymous:R,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:x,createdAt:m,lastLoginAt:_});return I&&Array.isArray(I)&&(C.providerData=I.map(S=>Object.assign({},S))),v&&(C._redirectEventId=v),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new _u;s.updateFromServerResponse(n);const i=new vo({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await m0(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=new Map;function Rs(t){Vs(t instanceof Function,"Expected a class definition");let e=Yw.get(t);return e?(Vs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Yw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YT.type="NONE";const Xw=YT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t,e,n){return`firebase:${t}:${e}:${n}`}class Da{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=fh(this.userKey,s.apiKey,i),this.fullPersistenceKey=fh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Da(Rs(Xw),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Rs(Xw);const o=fh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=vo._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Da(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Da(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tI(e))return"Blackberry";if(nI(e))return"Webos";if(dv(e))return"Safari";if((e.includes("chrome/")||JT(e))&&!e.includes("edge/"))return"Chrome";if(eI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function XT(t=Pt()){return/firefox\//i.test(t)}function dv(t=Pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JT(t=Pt()){return/crios\//i.test(t)}function ZT(t=Pt()){return/iemobile/i.test(t)}function eI(t=Pt()){return/android/i.test(t)}function tI(t=Pt()){return/blackberry/i.test(t)}function nI(t=Pt()){return/webos/i.test(t)}function Uf(t=Pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uD(t=Pt()){var e;return Uf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dD(){return mk()&&document.documentMode===10}function rI(t=Pt()){return Uf(t)||eI(t)||nI(t)||tI(t)||/windows phone/i.test(t)||ZT(t)}function hD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t,e=[]){let n;switch(t){case"Browser":n=Jw(Pt());break;case"Worker":n=`${Jw(Pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ui}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(t,e={}){return Hi(t,"GET","/v2/passwordPolicy",Wi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=6;class gD{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:mD,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zw(this),this.idTokenSubscription=new Zw(this),this.beforeStateQueue=new fD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rs(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Da.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await m0(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?We(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pD(this),n=new gD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ju("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await cD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rs(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Da.create(this,[Rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&zO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qi(t){return We(t)}class Zw{constructor(e){this.auth=e,this.observer=null,this.addObserver=Tk(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vD(t){Vf=t}function iI(t){return Vf.loadJS(t)}function _D(){return Vf.recaptchaEnterpriseScript}function wD(){return Vf.gapiScript}function xD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const ED="recaptcha-enterprise",CD="NO_RECAPTCHA";class TD{constructor(e){this.type=ED,this.auth=qi(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{JO(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new XO(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Qw(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(CD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Qw(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=_D();l.length!==0&&(l+=a),iI(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function e5(t,e,n,r=!1){const s=new TD(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function xg(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await e5(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await e5(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t,e){const n=$u(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(eu(i,e??{}))return s;xr(s,"already-initialized")}return n.initialize({options:e})}function bD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function SD(t,e,n){const r=qi(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=oI(e),{host:o,port:a}=AD(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||RD()}function oI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AD(t){const e=oI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:t5(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:t5(o)}}}function t5(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function RD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,n){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}}async function kD(t,e){return Hi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e){return nd(t,"POST","/v1/accounts:signInWithPassword",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(t,e){return nd(t,"POST","/v1/accounts:signInWithEmailLink",Wi(t,e))}async function LD(t,e){return nd(t,"POST","/v1/accounts:signInWithEmailLink",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends hv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new wu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new wu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xg(e,n,"signInWithPassword",ND);case"emailLink":return PD(e,{email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xg(e,r,"signUpPassword",kD);case"emailLink":return LD(e,{idToken:n,email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(t,e){return nd(t,"POST","/v1/accounts:signInWithIdp",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="http://localhost";class No extends hv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new No(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=av(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new No(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ja(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ja(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ja(e,n)}buildRequest(){const e={requestUri:MD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_l(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DD(t){const e=ac(lc(t)).link,n=e?ac(lc(e)).deep_link_id:null,r=ac(lc(t)).deep_link_id;return(r?ac(lc(r)).link:null)||r||n||e||t}class fv{constructor(e){var n,r,s,i,o,a;const l=ac(lc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=OD((s=l.mode)!==null&&s!==void 0?s:null);oe(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=DD(e);try{return new fv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.providerId=bl.PROVIDER_ID}static credential(e,n){return wu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=fv.parseLink(n);return oe(r,"argument-error"),wu._fromEmailAndCode(e,r.code,r.tenantId)}}bl.PROVIDER_ID="password";bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends pv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends rd{constructor(){super("facebook.com")}static credential(e){return No._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends rd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return No._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ts.credential(n,r)}catch{return null}}}Ts.GOOGLE_SIGN_IN_METHOD="google.com";Ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends rd{constructor(){super("github.com")}static credential(e){return No._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ei.credential(e.oauthAccessToken)}catch{return null}}}ei.GITHUB_SIGN_IN_METHOD="github.com";ei.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends rd{constructor(){super("twitter.com")}static credential(e,n){return No._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ti.credential(n,r)}catch{return null}}}ti.TWITTER_SIGN_IN_METHOD="twitter.com";ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(t,e){return nd(t,"POST","/v1/accounts:signUp",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await vo._fromIdTokenResponse(e,r,s),o=n5(r);return new Po({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=n5(r);return new Po({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function n5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0 extends gs{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,g0.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new g0(e,n,r,s)}}function aI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?g0._fromErrorAndOperation(t,i,e,r):i})}async function $D(t,e,n=!1){const r=await vu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Po._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await vu(t,aI(r,s,e,t),n);oe(i.idToken,r,"internal-error");const o=uv(i.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(t.uid===a,r,"user-mismatch"),Po._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&xr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(t,e,n=!1){const r="signIn",s=await aI(t,r,e),i=await Po._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function UD(t,e){return lI(qi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(t){const e=qi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function VD(t,e,n){const r=qi(t),o=await xg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jD).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&cI(t),l}),a=await Po._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function zD(t,e,n){return UD(We(t),bl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cI(t),r})}function BD(t,e,n,r){return We(t).onIdTokenChanged(e,n,r)}function WD(t,e,n){return We(t).beforeAuthStateChanged(e,n)}function HD(t,e,n,r){return We(t).onAuthStateChanged(e,n,r)}function qD(t){return We(t).signOut()}const y0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(y0,"1"),this.storage.removeItem(y0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(){const t=Pt();return dv(t)||Uf(t)}const KD=1e3,QD=10;class dI extends uI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=GD()&&hD(),this.fallbackToPolling=rI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);dD()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,QD):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},KD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dI.type="LOCAL";const YD=dI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI extends uI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hI.type="SESSION";const fI=hI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new zf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await XD(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=mv("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(){return window}function ZD(t){us().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(){return typeof us().WorkerGlobalScope<"u"&&typeof us().importScripts=="function"}async function ej(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function nj(){return pI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="firebaseLocalStorageDb",rj=1,v0="firebaseLocalStorage",gI="fbase_key";class sd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bf(t,e){return t.transaction([v0],e?"readwrite":"readonly").objectStore(v0)}function sj(){const t=indexedDB.deleteDatabase(mI);return new sd(t).toPromise()}function Eg(){const t=indexedDB.open(mI,rj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(v0,{keyPath:gI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(v0)?e(r):(r.close(),await sj(),e(await Eg()))})})}async function r5(t,e,n){const r=Bf(t,!0).put({[gI]:e,value:n});return new sd(r).toPromise()}async function ij(t,e){const n=Bf(t,!1).get(e),r=await new sd(n).toPromise();return r===void 0?null:r.value}function s5(t,e){const n=Bf(t,!0).delete(e);return new sd(n).toPromise()}const oj=800,aj=3;class yI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Eg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>aj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zf._getInstance(nj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ej(),!this.activeServiceWorker)return;this.sender=new JD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Eg();return await r5(e,y0,"1"),await s5(e,y0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>r5(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ij(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>s5(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Bf(s,!1).getAll();return new sd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yI.type="LOCAL";const lj=yI;new td(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t,e){return e?Rs(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends hv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cj(t){return lI(t.auth,new gv(t),t.bypassAuthState)}function uj(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),FD(n,new gv(t),t.bypassAuthState)}async function dj(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),$D(n,new gv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cj;case"linkViaPopup":case"linkViaRedirect":return dj;case"reauthViaPopup":case"reauthViaRedirect":return uj;default:xr(this.auth,"internal-error")}}resolve(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=new td(2e3,1e4);async function fj(t,e,n){const r=qi(t);BO(t,e,pv);const s=vI(r,n);return new uo(r,"signInViaPopup",e,s).executeNotNull()}class uo extends _I{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Vs(this.filter.length===1,"Popup operations only handle one event");const e=mv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hj.get())};e()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="pendingRedirect",ph=new Map;class mj extends _I{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const r=await gj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gj(t,e){const n=_j(e),r=vj(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function yj(t,e){ph.set(t._key(),e)}function vj(t){return Rs(t._redirectPersistence)}function _j(t){return fh(pj,t.config.apiKey,t.name)}async function wj(t,e,n=!1){const r=qi(t),s=vI(r,e),o=await new mj(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=10*60*1e3;class Ej{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Cj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(cs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xj&&this.cachedEventUids.clear(),this.cachedEventUids.has(i5(e))}saveEventToCache(e){this.cachedEventUids.add(i5(e)),this.lastProcessedEventTime=Date.now()}}function i5(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Cj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(t,e={}){return Hi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bj=/^https?/;async function Sj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Tj(t);for(const n of e)try{if(Aj(n))return}catch{}xr(t,"unauthorized-domain")}function Aj(t){const e=wg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!bj.test(n))return!1;if(Ij.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=new td(3e4,6e4);function o5(){const t=us().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kj(t){return new Promise((e,n)=>{var r,s,i;function o(){o5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o5(),n(cs(t,"network-request-failed"))},timeout:Rj.get()})}if(!((s=(r=us().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=us().gapi)===null||i===void 0)&&i.load)o();else{const a=xD("iframefcb");return us()[a]=()=>{gapi.load?o():n(cs(t,"network-request-failed"))},iI(`${wD()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw mh=null,e})}let mh=null;function Nj(t){return mh=mh||kj(t),mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=new td(5e3,15e3),Lj="__/auth/iframe",Mj="emulator/auth/iframe",Oj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jj(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cv(e,Mj):`https://${t.config.authDomain}/${Lj}`,r={apiKey:e.apiKey,appName:t.name,v:Ui},s=Dj.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${_l(r).slice(1)}`}async function $j(t){const e=await Nj(t),n=us().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:jj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oj,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=cs(t,"network-request-failed"),a=us().setTimeout(()=>{i(o)},Pj.get());function l(){us().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Uj=500,Vj=600,zj="_blank",Bj="http://localhost";class a5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Wj(t,e,n,r=Uj,s=Vj){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Fj),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Pt().toLowerCase();n&&(a=JT(c)?zj:n),XT(c)&&(e=e||Bj,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(uD(c)&&a!=="_self")return Hj(e||"",a),new a5(null);const d=window.open(e||"",a,u);oe(d,t,"popup-blocked");try{d.focus()}catch{}return new a5(d)}function Hj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj="__/auth/handler",Gj="emulator/auth/handler",Kj=encodeURIComponent("fac");async function l5(t,e,n,r,s,i){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ui,eventId:s};if(e instanceof pv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",zm(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(i||{}))o[u]=d}if(e instanceof rd){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Kj}=${encodeURIComponent(l)}`:"";return`${Qj(t)}?${_l(a).slice(1)}${c}`}function Qj({config:t}){return t.emulator?cv(t,Gj):`https://${t.authDomain}/${qj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="webStorageSupport";class Yj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fI,this._completeRedirectFn=wj,this._overrideRedirectResult=yj}async _openPopup(e,n,r,s){var i;Vs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await l5(e,n,r,wg(),s);return Wj(e,o,mv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await l5(e,n,r,wg(),s);return ZD(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Vs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $j(e),r=new Ej(e);return n.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ap,{type:Ap},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Ap];o!==void 0&&n(!!o),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Sj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rI()||dv()||Uf()}}const Xj=Yj;var c5="@firebase/auth",u5="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e$(t){Ri(new js("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sI(t)},c=new yD(r,s,i,l);return bD(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ri(new js("auth-internal",e=>{const n=qi(e.getProvider("auth").getImmediate());return(r=>new Jj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(c5,u5,Zj(t)),yr(c5,u5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=5*60,n$=dC("authIdTokenMaxAge")||t$;let d5=null;const r$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>n$)return;const s=n==null?void 0:n.token;d5!==s&&(d5=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function s$(t=rf()){const e=$u(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ID(t,{popupRedirectResolver:Xj,persistence:[lj,YD,fI]}),r=dC("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const i=r$(r);WD(n,i,()=>i(n.currentUser)),BD(n,o=>i(o))}const s=cC("auth");return s&&SD(n,`http://${s}`),n}function i$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}vD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=cs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",i$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e$("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="firebasestorage.googleapis.com",EI="storageBucket",o$=2*60*1e3,a$=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt extends gs{constructor(e,n,r=0){super(Rp(e),`Firebase Storage: ${n} (${Rp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pt||(pt={}));function Rp(t){return"storage/"+t}function yv(){const t="An unknown error occurred, please check the error payload for server response.";return new mt(pt.UNKNOWN,t)}function l$(t){return new mt(pt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function c$(t){return new mt(pt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function u$(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mt(pt.UNAUTHENTICATED,t)}function d$(){return new mt(pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function h$(t){return new mt(pt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function f$(){return new mt(pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function p$(){return new mt(pt.CANCELED,"User canceled the upload/download.")}function m$(t){return new mt(pt.INVALID_URL,"Invalid URL '"+t+"'.")}function g$(t){return new mt(pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function y$(){return new mt(pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+EI+"' property when initializing the app?")}function v$(){return new mt(pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _$(){return new mt(pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function w$(t){return new mt(pt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Cg(t){return new mt(pt.INVALID_ARGUMENT,t)}function CI(){return new mt(pt.APP_DELETED,"The Firebase app was deleted.")}function x$(t){return new mt(pt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rc(t,e){return new mt(pt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Gl(t){throw new mt(pt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Kn.makeFromUrl(e,n)}catch{return new Kn(e,"")}if(r.path==="")return r;throw g$(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(T){T.path_=decodeURIComponent(T.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${s}/o${h}`,"i"),g={bucket:1,path:3},y=n===xI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",m=new RegExp(`^https?://${y}/${s}/${v}`,"i"),w=[{regex:a,indices:l,postModify:i},{regex:p,indices:g,postModify:c},{regex:m,indices:{bucket:1,path:2},postModify:c}];for(let T=0;T<w.length;T++){const R=w[T],I=R.regex.exec(e);if(I){const b=I[R.indices.bucket];let x=I[R.indices.path];x||(x=""),r=new Kn(b,x),R.postModify(r);break}}if(r==null)throw m$(e);return r}}class E${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...v){c||(c=!0,e.apply(null,v))}function d(v){s=setTimeout(()=>{s=null,t(p,l())},v)}function h(){i&&clearTimeout(i)}function p(v,...m){if(c){h();return}if(v){h(),u.call(null,v,...m);return}if(l()||o){h(),u.call(null,v,...m);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let g=!1;function y(v){g||(g=!0,h(),!c&&(s!==null?(v||(a=2),clearTimeout(s),d(0)):v||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,y(!0)},n),y}function T$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(t){return t!==void 0}function b$(t){return typeof t=="object"&&!Array.isArray(t)}function vv(t){return typeof t=="string"||t instanceof String}function h5(t){return _v()&&t instanceof Blob}function _v(){return typeof Blob<"u"}function f5(t,e,n,r){if(r<e)throw Cg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Cg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function TI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _o;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(_o||(_o={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(e,n,r,s,i,o,a,l,c,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Vd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===_o.NO_ERROR,l=i.getStatus();if(!a||S$(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===_o.ABORT;r(!1,new Vd(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Vd(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());I$(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=yv();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?CI():p$();o(l)}else{const l=f$();o(l)}};this.canceled_?n(!1,new Vd(!1,null,!0)):this.backoffId_=C$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&T$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Vd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function R$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function k$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function N$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function P$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function L$(t,e,n,r,s,i,o=!0){const a=TI(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return N$(c,e),R$(c,n),k$(c,i),P$(c,r),new A$(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function O$(...t){const e=M$();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(_v())return new Blob(t);throw new mt(pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function D$(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(t){if(typeof atob>"u")throw w$("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class kp{constructor(e,n){this.data=e,this.contentType=n||null}}function $$(t,e){switch(t){case ns.RAW:return new kp(II(e));case ns.BASE64:case ns.BASE64URL:return new kp(bI(t,e));case ns.DATA_URL:return new kp(U$(e),V$(e))}throw yv()}function II(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function F$(t){let e;try{e=decodeURIComponent(t)}catch{throw Rc(ns.DATA_URL,"Malformed data URL.")}return II(e)}function bI(t,e){switch(t){case ns.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Rc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ns.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Rc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=j$(e)}catch(s){throw s.message.includes("polyfill")?s:Rc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class SI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Rc(ns.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=z$(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function U$(t){const e=new SI(t);return e.base64?bI(ns.BASE64,e.rest):F$(e.rest)}function V$(t){return new SI(t).contentType}function z$(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n){let r=0,s="";h5(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(h5(this.data_)){const r=this.data_,s=D$(r,e,n);return s===null?null:new ni(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ni(r,!0)}}static getBlob(...e){if(_v()){const n=e.map(r=>r instanceof ni?r.data_:r);return new ni(O$.apply(null,n))}else{const n=e.map(o=>vv(o)?$$(ns.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new ni(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t){let e;try{e=JSON.parse(t)}catch{return null}return b$(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function W$(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function RI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(t,e){return e}class Cn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||H$}}let zd=null;function q$(t){return!vv(t)||t.length<2?t:RI(t)}function kI(){if(zd)return zd;const t=[];t.push(new Cn("bucket")),t.push(new Cn("generation")),t.push(new Cn("metageneration")),t.push(new Cn("name","fullPath",!0));function e(i,o){return q$(o)}const n=new Cn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Cn("size");return s.xform=r,t.push(s),t.push(new Cn("timeCreated")),t.push(new Cn("updated")),t.push(new Cn("md5Hash",null,!0)),t.push(new Cn("cacheControl",null,!0)),t.push(new Cn("contentDisposition",null,!0)),t.push(new Cn("contentEncoding",null,!0)),t.push(new Cn("contentLanguage",null,!0)),t.push(new Cn("contentType",null,!0)),t.push(new Cn("metadata","customMetadata",!0)),zd=t,zd}function G$(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Kn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function K$(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return G$(r,t),r}function NI(t,e,n){const r=AI(e);return r===null?null:K$(t,r,n)}function Q$(t,e,n,r){const s=AI(e);if(s===null||!vv(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,d=t.fullPath,h="/b/"+o(u)+"/o/"+o(d),p=Wf(h,n,r),g=TI({alt:"media",token:c});return p+g})[0]}function Y$(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class wv{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t){if(!t)throw yv()}function X$(t,e){function n(r,s){const i=NI(t,s,e);return PI(i!==null),i}return n}function J$(t,e){function n(r,s){const i=NI(t,s,e);return PI(i!==null),Q$(i,s,t.host,t._protocol)}return n}function LI(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=d$():s=u$():n.getStatus()===402?s=c$(t.bucket):n.getStatus()===403?s=h$(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function MI(t){const e=LI(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=l$(t.path)),i.serverResponse=s.serverResponse,i}return n}function Z$(t,e,n){const r=e.fullServerUrl(),s=Wf(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new wv(s,i,J$(t,n),o);return a.errorHandler=MI(e),a}function eF(t,e){const n=e.fullServerUrl(),r=Wf(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,c){}const a=new wv(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=MI(e),a}function tF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function nF(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=tF(null,e)),r}function rF(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let T=0;T<2;T++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=nF(e,r,s),u=Y$(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=ni.getBlob(d,r,h);if(p===null)throw v$();const g={name:c.fullPath},y=Wf(i,t.host,t._protocol),v="POST",m=t.maxUploadRetryTime,_=new wv(y,v,X$(t,n),m);return _.urlParams=g,_.headers=o,_.body=p.uploadData(),_.errorHandler=LI(e),_}class sF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_o.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_o.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_o.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Gl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Gl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Gl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Gl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Gl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class iF extends sF{initXhr(){this.xhr_.responseType="text"}}function xv(){return new iF}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n){this._service=e,n instanceof Kn?this._location=n:this._location=Kn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Lo(e,n)}get root(){const e=new Kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RI(this._location.path)}get storage(){return this._service}get parent(){const e=B$(this._location.path);if(e===null)return null;const n=new Kn(this._location.bucket,e);return new Lo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw x$(e)}}function oF(t,e,n){t._throwIfRoot("uploadBytes");const r=rF(t.storage,t._location,kI(),new ni(e,!0),n);return t.storage.makeRequestWithTokens(r,xv).then(s=>({metadata:s,ref:t}))}function aF(t){t._throwIfRoot("getDownloadURL");const e=Z$(t.storage,t._location,kI());return t.storage.makeRequestWithTokens(e,xv).then(n=>{if(n===null)throw _$();return n})}function lF(t){t._throwIfRoot("deleteObject");const e=eF(t.storage,t._location);return t.storage.makeRequestWithTokens(e,xv)}function cF(t,e){const n=W$(t._location.path,e),r=new Kn(t._location.bucket,n);return new Lo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(t){return/^[A-Za-z]+:\/\//.test(t)}function dF(t,e){return new Lo(t,e)}function OI(t,e){if(t instanceof Ev){const n=t;if(n._bucket==null)throw y$();const r=new Lo(n,n._bucket);return e!=null?OI(r,e):r}else return e!==void 0?cF(t,e):t}function hF(t,e){if(e&&uF(e)){if(t instanceof Ev)return dF(t,e);throw Cg("To use ref(service, url), the first argument must be a Storage instance.")}else return OI(t,e)}function p5(t,e){const n=e==null?void 0:e[EI];return n==null?null:Kn.makeFromBucketSpec(n,t)}function fF(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:K1(s,t.app.options.projectId))}class Ev{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=xI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=o$,this._maxUploadRetryTime=a$,this._requests=new Set,s!=null?this._bucket=Kn.makeFromBucketSpec(s,this._host):this._bucket=p5(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kn.makeFromBucketSpec(this._url,e):this._bucket=p5(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){f5("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){f5("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Lo(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new E$(CI());{const o=L$(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const m5="@firebase/storage",g5="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="storage";function xu(t,e,n){return t=We(t),oF(t,e,n)}function Eu(t){return t=We(t),aF(t)}function Tg(t){return t=We(t),lF(t)}function ci(t,e){return t=We(t),hF(t,e)}function pF(t=rf(),e){t=We(t);const r=$u(t,DI).getImmediate({identifier:e}),s=q1("storage");return s&&mF(r,...s),r}function mF(t,e,n,r={}){fF(t,e,n,r)}function gF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Ev(n,r,s,e,Ui)}function yF(){Ri(new js(DI,gF,"PUBLIC").setMultipleInstances(!0)),yr(m5,g5,""),yr(m5,g5,"esm2017")}yF();var y5={};const v5="@firebase/database",_5="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jI="";function vF(t){jI=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),en(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Zc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ws(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new _F(e)}}catch{}return new wF},ho=$I("localStorage"),Ig=$I("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new nf("@firebase/database"),xF=function(){let t=1;return function(){return t++}}(),FI=function(t){const e=Ak(t),n=new Ck;n.update(e);const r=n.digest();return H1.encodeByteArray(r)},id=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=id.apply(null,r):typeof r=="object"?e+=en(r):e+=r,e+=" "}return e};let wo=null,w5=!0;const EF=function(t,e){Y(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?($a.logLevel=me.VERBOSE,wo=$a.log.bind($a),e&&Ig.set("logging_enabled",!0)):typeof t=="function"?wo=t:(wo=null,Ig.remove("logging_enabled"))},pn=function(...t){if(w5===!0&&(w5=!1,wo===null&&Ig.get("logging_enabled")===!0&&EF(!0)),wo){const e=id.apply(null,t);wo(e)}},od=function(t){return function(...e){pn(t,...e)}},bg=function(...t){const e="FIREBASE INTERNAL ERROR: "+id(...t);$a.error(e)},zs=function(...t){const e=`FIREBASE FATAL ERROR: ${id(...t)}`;throw $a.error(e),new Error(e)},Yn=function(...t){const e="FIREBASE WARNING: "+id(...t);$a.warn(e)},CF=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Yn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},UI=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},TF=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},cl="[MIN_NAME]",Mo="[MAX_NAME]",Sl=function(t,e){if(t===e)return 0;if(t===cl||e===Mo)return-1;if(e===cl||t===Mo)return 1;{const n=x5(t),r=x5(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},IF=function(t,e){return t===e?0:t<e?-1:1},Kl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+en(e))},Cv=function(t){if(typeof t!="object"||t===null)return en(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=en(e[r]),n+=":",n+=Cv(t[e[r]]);return n+="}",n},VI=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Er(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const zI=function(t){Y(!UI(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},bF=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},SF=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},AF=new RegExp("^-?(0*)\\d{1,10}$"),RF=-2147483648,kF=2147483647,x5=function(t){if(AF.test(t)){const e=Number(t);if(e>=RF&&e<=kF)return e}return null},ad=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Yn("Exception was thrown by user callback.",n),e},Math.floor(0))}},NF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},kc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Yn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(pn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Yn(e)}}class Fa{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Fa.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="5",BI="v",WI="s",HI="r",qI="f",GI=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,KI="ls",QI="p",Sg="ac",YI="websocket",XI="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ho.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ho.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function MF(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ZI(t,e,n){Y(typeof e=="string","typeof type must == string"),Y(typeof n=="object","typeof params must == object");let r;if(e===YI)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===XI)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);MF(t)&&(n.ns=t.namespace);const s=[];return Er(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(){this.counters_={}}incrementCounter(e,n=1){Ws(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return ak(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np={},Pp={};function Iv(t){const e=t.toString();return Np[e]||(Np[e]=new OF),Np[e]}function DF(t,e){const n=t.toString();return Pp[n]||(Pp[n]=e()),Pp[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&ad(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5="start",$F="close",FF="pLPCommand",UF="pRTLPCB",e9="id",t9="pw",n9="ser",VF="cb",zF="seg",BF="ts",WF="d",HF="dframe",r9=1870,s9=30,qF=r9-s9,GF=25e3,KF=3e4;class xa{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=od(e),this.stats_=Iv(n),this.urlFn=l=>(this.appCheckToken&&(l[Sg]=this.appCheckToken),ZI(n,XI,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new jF(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(KF)),TF(()=>{if(this.isClosed_)return;this.scriptTagHolder=new bv((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===E5)this.id=a,this.password=l;else if(o===$F)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[E5]="t",r[n9]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[VF]=this.scriptTagHolder.uniqueCallbackIdentifier),r[BI]=Tv,this.transportSessionId&&(r[WI]=this.transportSessionId),this.lastSessionId&&(r[KI]=this.lastSessionId),this.applicationId&&(r[QI]=this.applicationId),this.appCheckToken&&(r[Sg]=this.appCheckToken),typeof location<"u"&&location.hostname&&GI.test(location.hostname)&&(r[HI]=qI);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xa.forceAllow_=!0}static forceDisallow(){xa.forceDisallow_=!0}static isAvailable(){return xa.forceAllow_?!0:!xa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!bF()&&!SF()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=en(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=aC(n),s=VI(r,qF);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[HF]="t",r[e9]=e,r[t9]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=en(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class bv{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=xF(),window[FF+this.uniqueCallbackIdentifier]=e,window[UF+this.uniqueCallbackIdentifier]=n,this.myIFrame=bv.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){pn("frame writing exception"),a.stack&&pn(a.stack),pn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||pn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[e9]=this.myID,e[t9]=this.myPW,e[n9]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+s9+r.length<=r9;){const o=this.pendingSegs.shift();r=r+"&"+zF+s+"="+o.seg+"&"+BF+s+"="+o.ts+"&"+WF+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(GF)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{pn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=16384,YF=45e3;let _0=null;typeof MozWebSocket<"u"?_0=MozWebSocket:typeof WebSocket<"u"&&(_0=WebSocket);class Dr{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=od(this.connId),this.stats_=Iv(n),this.connURL=Dr.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[BI]=Tv,typeof location<"u"&&location.hostname&&GI.test(location.hostname)&&(o[HI]=qI),n&&(o[WI]=n),r&&(o[KI]=r),s&&(o[Sg]=s),i&&(o[QI]=i),ZI(e,YI,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ho.set("previous_websocket_failure",!0);try{let r;fC(),this.mySock=new _0(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Dr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&_0!==null&&!Dr.forceDisallow_}static previouslyFailed(){return ho.isInMemoryStorage||ho.get("previous_websocket_failure")===!0}markConnectionHealthy(){ho.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Zc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Y(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=en(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=VI(n,QF);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(YF))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Dr.responsesRequiredToBeHealthy=2;Dr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[xa,Dr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Dr&&Dr.isAvailable();let r=n&&!Dr.previouslyFailed();if(e.webSocketOnly&&(n||Yn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Dr];else{const s=this.transports_=[];for(const i of Cu.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Cu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Cu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=6e4,JF=5e3,ZF=10*1024,eU=100*1024,Lp="t",C5="d",tU="s",T5="r",nU="e",I5="o",b5="a",S5="n",A5="p",rU="h";class sU{constructor(e,n,r,s,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=od("c:"+this.id+":"),this.transportManager_=new Cu(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=kc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>eU?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ZF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Lp in e){const n=e[Lp];n===b5?this.upgradeIfSecondaryHealthy_():n===T5?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===I5&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Kl("t",e),r=Kl("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:A5,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:b5,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:S5,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Kl("t",e),r=Kl("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Kl(Lp,e);if(C5 in e){const r=e[C5];if(n===rU){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===S5){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===tU?this.onConnectionShutdown_(r):n===T5?this.onReset_(r):n===nU?bg("Server Error: "+r):n===I5?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bg("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Tv!==r&&Yn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),kc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(XF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):kc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(JF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:A5,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ho.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e){this.allowedEvents_=e,this.listeners_={},Y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){Y(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0 extends o9{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Q1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new w0}getInitialEvent(e){return Y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=32,k5=768;class nt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Fe(){return new nt("")}function xe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Li(t){return t.pieces_.length-t.pieceNum_}function Ze(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new nt(t.pieces_,e)}function a9(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function iU(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function l9(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function c9(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new nt(e,0)}function Wt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof nt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new nt(n,0)}function _e(t){return t.pieceNum_>=t.pieces_.length}function mr(t,e){const n=xe(t),r=xe(e);if(n===null)return e;if(n===r)return mr(Ze(t),Ze(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function u9(t,e){if(Li(t)!==Li(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function jr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Li(t)>Li(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class oU{constructor(e,n){this.errorPrefix_=n,this.parts_=l9(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=tf(this.parts_[r]);d9(this)}}function aU(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=tf(e),d9(t)}function lU(t){const e=t.parts_.pop();t.byteLength_-=tf(e),t.parts_.length>0&&(t.byteLength_-=1)}function d9(t){if(t.byteLength_>k5)throw new Error(t.errorPrefix_+"has a key path longer than "+k5+" bytes ("+t.byteLength_+").");if(t.parts_.length>R5)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+R5+") or object contains a cycle "+Zi(t))}function Zi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv extends o9{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Sv}getInitialEvent(e){return Y(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=1e3,cU=60*5*1e3,N5=30*1e3,uU=1.3,dU=3e4,hU="server_kill",P5=3;class Ps extends i9{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ps.nextPersistentConnectionId_++,this.log_=od("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ql,this.maxReconnectDelay_=cU,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!fC())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Sv.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&w0.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(en(i)),Y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new G1,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Y(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Ps.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ws(e,"w")){const r=Ja(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Yn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Ek(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=N5)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=xk(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+en(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):bg("Unrecognized action received from server: "+en(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ql,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ql,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>dU&&(this.reconnectDelay_=Ql),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*uU)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Ps.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){Y(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?pn("getToken() completed but was canceled"):(pn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new sU(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Yn(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(hU)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Yn(d),l())}}}interrupt(e){pn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){pn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],zm(this.interruptReasons_)&&(this.reconnectDelay_=Ql,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Cv(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new nt(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){pn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=P5&&(this.reconnectDelay_=N5,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){pn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=P5&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+jI.replace(/\./g,"-")]=1,Q1()?e["framework.cordova"]=1:hC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=w0.getInstance().currentlyOnline();return zm(this.interruptReasons_)&&e}}Ps.nextPersistentConnectionId_=0;Ps.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ee(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ee(cl,e),s=new Ee(cl,n);return this.compare(r,s)!==0}minPost(){return Ee.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd;class h9 extends Hf{static get __EMPTY_NODE(){return Bd}static set __EMPTY_NODE(e){Bd=e}compare(e,n){return Sl(e.name,n.name)}isDefinedOn(e){throw vl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ee.MIN}maxPost(){return new Ee(Mo,Bd)}makePost(e,n){return Y(typeof e=="string","KeyIndex indexValue must always be a string."),new Ee(e,Bd)}toString(){return".key"}}const Ua=new h9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Bt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Bt.RED,this.left=s??jn.EMPTY_NODE,this.right=i??jn.EMPTY_NODE}copy(e,n,r,s,i){return new Bt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return jn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return jn.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Bt.RED=!0;Bt.BLACK=!1;class fU{copy(e,n,r,s,i){return this}insert(e,n,r){return new Bt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class jn{constructor(e,n=jn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new jn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Bt.BLACK,null,null))}remove(e){return new jn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Bt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Wd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Wd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Wd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Wd(this.root_,null,this.comparator_,!0,e)}}jn.EMPTY_NODE=new fU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(t,e){return Sl(t.name,e.name)}function Av(t,e){return Sl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ag;function mU(t){Ag=t}const f9=function(t){return typeof t=="number"?"number:"+zI(t):"string:"+t},p9=function(t){if(t.isLeafNode()){const e=t.val();Y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ws(e,".sv"),"Priority must be a string or number.")}else Y(t===Ag||t.isEmpty(),"priority of unexpected type.");Y(t===Ag||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L5;class Ut{constructor(e,n=Ut.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),p9(this.priorityNode_)}static set __childrenNodeConstructor(e){L5=e}static get __childrenNodeConstructor(){return L5}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ut(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ut.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return _e(e)?this:xe(e)===".priority"?this.priorityNode_:Ut.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ut.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=xe(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Y(r!==".priority"||Li(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ut.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ze(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+f9(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=zI(this.value_):e+=this.value_,this.lazyHash_=FI(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ut.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ut.__childrenNodeConstructor?-1:(Y(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Ut.VALUE_TYPE_ORDER.indexOf(n),i=Ut.VALUE_TYPE_ORDER.indexOf(r);return Y(s>=0,"Unknown leaf type: "+n),Y(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ut.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m9,g9;function gU(t){m9=t}function yU(t){g9=t}class vU extends Hf{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Sl(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ee.MIN}maxPost(){return new Ee(Mo,new Ut("[PRIORITY-POST]",g9))}makePost(e,n){const r=m9(e);return new Ee(n,new Ut("[PRIORITY-POST]",r))}toString(){return".priority"}}const yn=new vU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=Math.log(2);class wU{constructor(e){const n=i=>parseInt(Math.log(i)/_U,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const x0=function(t,e,n,r){t.sort(e);const s=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new Bt(h,d.node,Bt.BLACK,null,null);{const p=parseInt(u/2,10)+l,g=s(l,p),y=s(p+1,c);return d=t[p],h=n?n(d):d,new Bt(h,d.node,Bt.BLACK,g,y)}},i=function(l){let c=null,u=null,d=t.length;const h=function(g,y){const v=d-g,m=d;d-=g;const _=s(v+1,m),w=t[v],T=n?n(w):w;p(new Bt(T,w.node,y,null,_))},p=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const y=l.nextBitIsOne(),v=Math.pow(2,l.count-(g+1));y?h(v,Bt.BLACK):(h(v,Bt.BLACK),h(v,Bt.RED))}return u},o=new wU(t.length),a=i(o);return new jn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mp;const Jo={};class ks{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Y(Jo&&yn,"ChildrenNode.ts has not been loaded"),Mp=Mp||new ks({".priority":Jo},{".priority":yn}),Mp}get(e){const n=Ja(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof jn?n:null}hasIndex(e){return Ws(this.indexSet_,e.toString())}addIndex(e,n){Y(e!==Ua,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(Ee.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=x0(r,e.getCompare()):a=Jo;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new ks(u,c)}addToIndexes(e,n){const r=Yh(this.indexes_,(s,i)=>{const o=Ja(this.indexSet_,i);if(Y(o,"Missing index implementation for "+i),s===Jo)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ee.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),x0(a,o.getCompare())}else return Jo;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new Ee(e.name,a))),l.insert(e,e.node)}});return new ks(r,this.indexSet_)}removeFromIndexes(e,n){const r=Yh(this.indexes_,s=>{if(s===Jo)return s;{const i=n.get(e.name);return i?s.remove(new Ee(e.name,i)):s}});return new ks(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl;class ke{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&p9(this.priorityNode_),this.children_.isEmpty()&&Y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Yl||(Yl=new ke(new jn(Av),null,ks.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Yl}updatePriority(e){return this.children_.isEmpty()?this:new ke(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Yl:n}}getChild(e){const n=xe(e);return n===null?this:this.getImmediateChild(n).getChild(Ze(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Y(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ee(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Yl:this.priorityNode_;return new ke(s,o,i)}}updateChild(e,n){const r=xe(e);if(r===null)return n;{Y(xe(e)!==".priority"||Li(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Ze(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(yn,(o,a)=>{n[o]=a.val(e),r++,i&&ke.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+f9(this.getPriority().val())+":"),this.forEachChild(yn,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":FI(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new Ee(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ee(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ee(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Ee.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Ee.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ld?-1:0}withIndex(e){if(e===Ua||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ke(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ua||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(yn),s=n.getIterator(yn);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ua?null:this.indexMap_.get(e.toString())}}ke.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class xU extends ke{constructor(){super(new jn(Av),ke.EMPTY_NODE,ks.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ke.EMPTY_NODE}isEmpty(){return!1}}const ld=new xU;Object.defineProperties(Ee,{MIN:{value:new Ee(cl,ke.EMPTY_NODE)},MAX:{value:new Ee(Mo,ld)}});h9.__EMPTY_NODE=ke.EMPTY_NODE;Ut.__childrenNodeConstructor=ke;mU(ld);yU(ld);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=!0;function mn(t,e=null){if(t===null)return ke.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ut(n,mn(e))}if(!(t instanceof Array)&&EU){const n=[];let r=!1;if(Er(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=mn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ee(o,l)))}}),n.length===0)return ke.EMPTY_NODE;const i=x0(n,pU,o=>o.name,Av);if(r){const o=x0(n,yn.getCompare());return new ke(i,mn(e),new ks({".priority":o},{".priority":yn}))}else return new ke(i,mn(e),ks.Default)}else{let n=ke.EMPTY_NODE;return Er(t,(r,s)=>{if(Ws(t,r)&&r.substring(0,1)!=="."){const i=mn(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(mn(e))}}gU(mn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU extends Hf{constructor(e){super(),this.indexPath_=e,Y(!_e(e)&&xe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Sl(e.name,n.name):i}makePost(e,n){const r=mn(e),s=ke.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ee(n,s)}maxPost(){const e=ke.EMPTY_NODE.updateChild(this.indexPath_,ld);return new Ee(Mo,e)}toString(){return l9(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU extends Hf{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Sl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ee.MIN}maxPost(){return Ee.MAX}makePost(e,n){const r=mn(e);return new Ee(n,r)}toString(){return".value"}}const IU=new TU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(t){return{type:"value",snapshotNode:t}}function SU(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function AU(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function M5(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function RU(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=yn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:cl}hasEnd(){return this.endSet_}getIndexEndValue(){return Y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Mo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===yn}copy(){const e=new Rv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function O5(t){const e={};if(t.isDefault())return e;let n;if(t.index_===yn?n="$priority":t.index_===IU?n="$value":t.index_===Ua?n="$key":(Y(t.index_ instanceof CU,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=en(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=en(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+en(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=en(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+en(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function D5(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==yn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0 extends i9{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=od("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=E0.getListenId_(e,r),a={};this.listens_[o]=a;const l=O5(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,r),Ja(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",s(h,null)}})}unlisten(e,n){const r=E0.getListenId_(e,n);delete this.listens_[r]}get(e){const n=O5(e._queryParams),r=e._path.toString(),s=new G1;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+_l(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Zc(a.responseText)}catch{Yn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Yn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(){this.rootNode_=ke.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(){return{value:null,children:new Map}}function y9(t,e,n){if(_e(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=xe(e);t.children.has(r)||t.children.set(r,C0());const s=t.children.get(r);e=Ze(e),y9(s,e,n)}}function Rg(t,e,n){t.value!==null?n(e,t.value):NU(t,(r,s)=>{const i=new nt(e.toString()+"/"+r);Rg(s,i,n)})}function NU(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Er(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=10*1e3,LU=30*1e3,MU=5*60*1e3;class OU{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new PU(e);const r=j5+(LU-j5)*Math.random();kc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Er(e,(s,i)=>{i>0&&Ws(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),kc(this.reportStats_.bind(this),Math.floor(Math.random()*2*MU))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rs;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(rs||(rs={}));function v9(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function _9(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function w9(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=rs.ACK_USER_WRITE,this.source=v9()}operationForChild(e){if(_e(this.path)){if(this.affectedTree.value!=null)return Y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new nt(e));return new T0(Fe(),n,this.revert)}}else return Y(xe(this.path)===e,"operationForChild called for unrelated child."),new T0(Ze(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=rs.OVERWRITE}operationForChild(e){return _e(this.path)?new Oo(this.source,Fe(),this.snap.getImmediateChild(e)):new Oo(this.source,Ze(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=rs.MERGE}operationForChild(e){if(_e(this.path)){const n=this.children.subtree(new nt(e));return n.isEmpty()?null:n.value?new Oo(this.source,Fe(),n.value):new Tu(this.source,Fe(),n)}else return Y(xe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Tu(this.source,Ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(_e(e))return this.isFullyInitialized()&&!this.filtered_;const n=xe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function DU(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(RU(o.childName,o.snapshotNode))}),Xl(t,s,"child_removed",e,r,n),Xl(t,s,"child_added",e,r,n),Xl(t,s,"child_moved",i,r,n),Xl(t,s,"child_changed",e,r,n),Xl(t,s,"value",e,r,n),s}function Xl(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>$U(t,a,l)),o.forEach(a=>{const l=jU(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function jU(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function $U(t,e,n){if(e.childName==null||n.childName==null)throw vl("Should only compare child_ events.");const r=new Ee(e.childName,e.snapshotNode),s=new Ee(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t,e){return{eventCache:t,serverCache:e}}function Nc(t,e,n,r){return x9(new kv(e,n,r),t.serverCache)}function E9(t,e,n,r){return x9(t.eventCache,new kv(e,n,r))}function kg(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Do(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op;const FU=()=>(Op||(Op=new jn(IF)),Op);class Je{constructor(e,n=FU()){this.value=e,this.children=n}static fromObject(e){let n=new Je(null);return Er(e,(r,s)=>{n=n.set(new nt(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Fe(),value:this.value};if(_e(e))return null;{const r=xe(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(Ze(e),n);return i!=null?{path:Wt(new nt(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(_e(e))return this;{const n=xe(e),r=this.children.get(n);return r!==null?r.subtree(Ze(e)):new Je(null)}}set(e,n){if(_e(e))return new Je(n,this.children);{const r=xe(e),i=(this.children.get(r)||new Je(null)).set(Ze(e),n),o=this.children.insert(r,i);return new Je(this.value,o)}}remove(e){if(_e(e))return this.children.isEmpty()?new Je(null):new Je(null,this.children);{const n=xe(e),r=this.children.get(n);if(r){const s=r.remove(Ze(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new Je(null):new Je(this.value,i)}else return this}}get(e){if(_e(e))return this.value;{const n=xe(e),r=this.children.get(n);return r?r.get(Ze(e)):null}}setTree(e,n){if(_e(e))return n;{const r=xe(e),i=(this.children.get(r)||new Je(null)).setTree(Ze(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new Je(this.value,o)}}fold(e){return this.fold_(Fe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(Wt(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Fe(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(_e(e))return null;{const i=xe(e),o=this.children.get(i);return o?o.findOnPath_(Ze(e),Wt(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Fe(),n)}foreachOnPath_(e,n,r){if(_e(e))return this;{this.value&&r(n,this.value);const s=xe(e),i=this.children.get(s);return i?i.foreachOnPath_(Ze(e),Wt(n,s),r):new Je(null)}}foreach(e){this.foreach_(Fe(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Wt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.writeTree_=e}static empty(){return new Ur(new Je(null))}}function Pc(t,e,n){if(_e(e))return new Ur(new Je(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=mr(s,e);return i=i.updateChild(o,n),new Ur(t.writeTree_.set(s,i))}else{const s=new Je(n),i=t.writeTree_.setTree(e,s);return new Ur(i)}}}function $5(t,e,n){let r=t;return Er(n,(s,i)=>{r=Pc(r,Wt(e,s),i)}),r}function F5(t,e){if(_e(e))return Ur.empty();{const n=t.writeTree_.setTree(e,new Je(null));return new Ur(n)}}function Ng(t,e){return qo(t,e)!=null}function qo(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(mr(n.path,e)):null}function U5(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(yn,(r,s)=>{e.push(new Ee(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Ee(r,s.value))}),e}function bi(t,e){if(_e(e))return t;{const n=qo(t,e);return n!=null?new Ur(new Je(n)):new Ur(t.writeTree_.subtree(e))}}function Pg(t){return t.writeTree_.isEmpty()}function ul(t,e){return C9(Fe(),t.writeTree_,e)}function C9(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(Y(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=C9(Wt(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Wt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(t,e){return R9(e,t)}function UU(t,e,n,r,s){Y(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Pc(t.visibleWrites,e,n)),t.lastWriteId=r}function VU(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function zU(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Y(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&BU(a,r.path)?s=!1:jr(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return WU(t),!0;if(r.snap)t.visibleWrites=F5(t.visibleWrites,r.path);else{const a=r.children;Er(a,l=>{t.visibleWrites=F5(t.visibleWrites,Wt(r.path,l))})}return!0}else return!1}function BU(t,e){if(t.snap)return jr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&jr(Wt(t.path,n),e))return!0;return!1}function WU(t){t.visibleWrites=I9(t.allWrites,HU,Fe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function HU(t){return t.visible}function I9(t,e,n){let r=Ur.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)jr(n,o)?(a=mr(n,o),r=Pc(r,a,i.snap)):jr(o,n)&&(a=mr(o,n),r=Pc(r,Fe(),i.snap.getChild(a)));else if(i.children){if(jr(n,o))a=mr(n,o),r=$5(r,a,i.children);else if(jr(o,n))if(a=mr(o,n),_e(a))r=$5(r,Fe(),i.children);else{const l=Ja(i.children,xe(a));if(l){const c=l.getChild(Ze(a));r=Pc(r,Fe(),c)}}}else throw vl("WriteRecord should have .snap or .children")}}return r}function b9(t,e,n,r,s){if(!r&&!s){const i=qo(t.visibleWrites,e);if(i!=null)return i;{const o=bi(t.visibleWrites,e);if(Pg(o))return n;if(n==null&&!Ng(o,Fe()))return null;{const a=n||ke.EMPTY_NODE;return ul(o,a)}}}else{const i=bi(t.visibleWrites,e);if(!s&&Pg(i))return n;if(!s&&n==null&&!Ng(i,Fe()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(jr(c.path,e)||jr(e,c.path))},a=I9(t.allWrites,o,e),l=n||ke.EMPTY_NODE;return ul(a,l)}}}function qU(t,e,n){let r=ke.EMPTY_NODE;const s=qo(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(yn,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=bi(t.visibleWrites,e);return n.forEachChild(yn,(o,a)=>{const l=ul(bi(i,new nt(o)),a);r=r.updateImmediateChild(o,l)}),U5(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=bi(t.visibleWrites,e);return U5(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function GU(t,e,n,r,s){Y(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=Wt(e,n);if(Ng(t.visibleWrites,i))return null;{const o=bi(t.visibleWrites,i);return Pg(o)?s.getChild(n):ul(o,s.getChild(n))}}function KU(t,e,n,r){const s=Wt(e,n),i=qo(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=bi(t.visibleWrites,s);return ul(o,r.getNode().getImmediateChild(n))}else return null}function QU(t,e){return qo(t.visibleWrites,e)}function YU(t,e,n,r,s,i,o){let a;const l=bi(t.visibleWrites,e),c=qo(l,Fe());if(c!=null)a=c;else if(n!=null)a=ul(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=h.getNext();for(;p&&u.length<s;)d(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function XU(){return{visibleWrites:Ur.empty(),allWrites:[],lastWriteId:-1}}function Lg(t,e,n,r){return b9(t.writeTree,t.treePath,e,n,r)}function S9(t,e){return qU(t.writeTree,t.treePath,e)}function V5(t,e,n,r){return GU(t.writeTree,t.treePath,e,n,r)}function I0(t,e){return QU(t.writeTree,Wt(t.treePath,e))}function JU(t,e,n,r,s,i){return YU(t.writeTree,t.treePath,e,n,r,s,i)}function Nv(t,e,n){return KU(t.writeTree,t.treePath,e,n)}function A9(t,e){return R9(Wt(t.treePath,e),t.writeTree)}function R9(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Y(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Y(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,M5(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,AU(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,SU(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,M5(r,e.snapshotNode,s.oldSnap));else throw vl("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const k9=new eV;class Pv{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new kv(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Nv(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Do(this.viewCache_),i=JU(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}function tV(t,e){Y(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Y(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function nV(t,e,n,r,s){const i=new ZU;let o,a;if(n.type===rs.OVERWRITE){const c=n;c.source.fromUser?o=Mg(t,e,c.path,c.snap,r,s,i):(Y(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!_e(c.path),o=b0(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===rs.MERGE){const c=n;c.source.fromUser?o=sV(t,e,c.path,c.children,r,s,i):(Y(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Og(t,e,c.path,c.children,r,s,a,i))}else if(n.type===rs.ACK_USER_WRITE){const c=n;c.revert?o=aV(t,e,c.path,r,s,i):o=iV(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===rs.LISTEN_COMPLETE)o=oV(t,e,n.path,r,i);else throw vl("Unknown operation type: "+n.type);const l=i.getChanges();return rV(e,o,l),{viewCache:o,changes:l}}function rV(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=kg(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(bU(kg(e)))}}function N9(t,e,n,r,s,i){const o=e.eventCache;if(I0(r,n)!=null)return e;{let a,l;if(_e(n))if(Y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Do(e),u=c instanceof ke?c:ke.EMPTY_NODE,d=S9(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=Lg(r,Do(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=xe(n);if(c===".priority"){Y(Li(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=V5(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Ze(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=V5(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=Nv(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,s,i):a=o.getNode()}}return Nc(e,a,o.isFullyInitialized()||_e(n),t.filter.filtersNodes())}}function b0(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(_e(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=xe(n);if(!l.isCompleteForPath(n)&&Li(n)>1)return e;const g=Ze(n),v=l.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?c=u.updatePriority(l.getNode(),v):c=u.updateChild(l.getNode(),p,v,g,k9,null)}const d=E9(e,c,l.isFullyInitialized()||_e(n),u.filtersNodes()),h=new Pv(s,d,i);return N9(t,d,n,s,h,a)}function Mg(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const u=new Pv(s,e,i);if(_e(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Nc(e,c,!0,t.filter.filtersNodes());else{const d=xe(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Nc(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Ze(n),p=a.getNode().getImmediateChild(d);let g;if(_e(h))g=r;else{const y=u.getCompleteChild(d);y!=null?a9(h)===".priority"&&y.getChild(c9(h)).isEmpty()?g=y:g=y.updateChild(h,r):g=ke.EMPTY_NODE}if(p.equals(g))l=e;else{const y=t.filter.updateChild(a.getNode(),d,g,h,u,o);l=Nc(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function z5(t,e){return t.eventCache.isCompleteForChild(e)}function sV(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const u=Wt(n,l);z5(e,xe(u))&&(a=Mg(t,a,u,c,s,i,o))}),r.foreach((l,c)=>{const u=Wt(n,l);z5(e,xe(u))||(a=Mg(t,a,u,c,s,i,o))}),a}function B5(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Og(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;_e(n)?c=r:c=new Je(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),g=B5(t,p,h);l=b0(t,l,new nt(d),g,s,i,o,a)}}),c.children.inorderTraversal((d,h)=>{const p=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!p){const g=e.serverCache.getNode().getImmediateChild(d),y=B5(t,g,h);l=b0(t,l,new nt(d),y,s,i,o,a)}}),l}function iV(t,e,n,r,s,i,o){if(I0(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(_e(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return b0(t,e,n,l.getNode().getChild(n),s,i,a,o);if(_e(n)){let c=new Je(null);return l.getNode().forEachChild(Ua,(u,d)=>{c=c.set(new nt(u),d)}),Og(t,e,n,c,s,i,a,o)}else return e}else{let c=new Je(null);return r.foreach((u,d)=>{const h=Wt(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Og(t,e,n,c,s,i,a,o)}}function oV(t,e,n,r,s){const i=e.serverCache,o=E9(e,i.getNode(),i.isFullyInitialized()||_e(n),i.isFiltered());return N9(t,o,n,r,k9,s)}function aV(t,e,n,r,s,i){let o;if(I0(r,n)!=null)return e;{const a=new Pv(r,e,s),l=e.eventCache.getNode();let c;if(_e(n)||xe(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Lg(r,Do(e));else{const d=e.serverCache.getNode();Y(d instanceof ke,"serverChildren would be complete if leaf node"),u=S9(r,d)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=xe(n);let d=Nv(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Ze(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,ke.EMPTY_NODE,Ze(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Lg(r,Do(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||I0(r,Fe())!=null,Nc(e,c,o,t.filter.filtersNodes())}}function lV(t,e){const n=Do(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!_e(e)&&!n.getImmediateChild(xe(e)).isEmpty())?n.getChild(e):null}function W5(t,e,n,r){e.type===rs.MERGE&&e.source.queryId!==null&&(Y(Do(t.viewCache_),"We should always have a full cache before handling merges"),Y(kg(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=nV(t.processor_,s,e,n,r);return tV(t.processor_,i.viewCache),Y(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,cV(t,i.changes,i.viewCache.eventCache.getNode(),null)}function cV(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return DU(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H5;function uV(t){Y(!H5,"__referenceConstructor has already been defined"),H5=t}function Lv(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return Y(i!=null,"SyncTree gave us an op for an invalid query."),W5(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(W5(o,e,n,r));return i}}function Mv(t,e){let n=null;for(const r of t.views.values())n=n||lV(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q5;function dV(t){Y(!q5,"__referenceConstructor has already been defined"),q5=t}class G5{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Je(null),this.pendingWriteTree_=XU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hV(t,e,n,r,s){return UU(t.pendingWriteTree_,e,n,r,s),s?Gf(t,new Oo(v9(),e,n)):[]}function Ea(t,e,n=!1){const r=VU(t.pendingWriteTree_,e);if(zU(t.pendingWriteTree_,e)){let i=new Je(null);return r.snap!=null?i=i.set(Fe(),!0):Er(r.children,o=>{i=i.set(new nt(o),!0)}),Gf(t,new T0(r.path,i,n))}else return[]}function qf(t,e,n){return Gf(t,new Oo(_9(),e,n))}function fV(t,e,n){const r=Je.fromObject(n);return Gf(t,new Tu(_9(),e,r))}function pV(t,e,n,r){const s=O9(t,r);if(s!=null){const i=D9(s),o=i.path,a=i.queryId,l=mr(o,e),c=new Oo(w9(a),l,n);return j9(t,o,c)}else return[]}function mV(t,e,n,r){const s=O9(t,r);if(s){const i=D9(s),o=i.path,a=i.queryId,l=mr(o,e),c=Je.fromObject(n),u=new Tu(w9(a),l,c);return j9(t,o,u)}else return[]}function P9(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=mr(o,e),c=Mv(a,l);if(c)return c});return b9(s,e,i,n,!0)}function Gf(t,e){return L9(e,t.syncPointTree_,null,T9(t.pendingWriteTree_,Fe()))}function L9(t,e,n,r){if(_e(t.path))return M9(t,e,n,r);{const s=e.get(Fe());n==null&&s!=null&&(n=Mv(s,Fe()));let i=[];const o=xe(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=A9(r,o);i=i.concat(L9(a,l,c,u))}return s&&(i=i.concat(Lv(s,t,r,n))),i}}function M9(t,e,n,r){const s=e.get(Fe());n==null&&s!=null&&(n=Mv(s,Fe()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=A9(r,o),u=t.operationForChild(o);u&&(i=i.concat(M9(u,a,l,c)))}),s&&(i=i.concat(Lv(s,t,r,n))),i}function O9(t,e){return t.tagToQueryMap.get(e)}function D9(t){const e=t.indexOf("$");return Y(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new nt(t.substr(0,e))}}function j9(t,e,n){const r=t.syncPointTree_.get(e);Y(r,"Missing sync point for query tag that we're tracking");const s=T9(t.pendingWriteTree_,e);return Lv(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Ov(n)}node(){return this.node_}}class Dv{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Wt(this.path_,e);return new Dv(this.syncTree_,n)}node(){return P9(this.syncTree_,this.path_)}}const gV=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},K5=function(t,e,n){if(!t||typeof t!="object")return t;if(Y(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return yV(t[".sv"],e,n);if(typeof t[".sv"]=="object")return vV(t[".sv"],e);Y(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},yV=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Y(!1,"Unexpected server value: "+t)}},vV=function(t,e,n){t.hasOwnProperty("increment")||Y(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Y(!1,"Unexpected increment value: "+r);const s=e.node();if(Y(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},_V=function(t,e,n,r){return jv(e,new Dv(n,t),r)},wV=function(t,e,n){return jv(t,new Ov(e),n)};function jv(t,e,n){const r=t.getPriority().val(),s=K5(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=K5(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Ut(a,mn(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Ut(s))),o.forEachChild(yn,(a,l)=>{const c=jv(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Fv(t,e){let n=e instanceof nt?e:new nt(e),r=t,s=xe(n);for(;s!==null;){const i=Ja(r.node.children,s)||{children:{},childCount:0};r=new $v(s,r,i),n=Ze(n),s=xe(n)}return r}function Al(t){return t.node.value}function $9(t,e){t.node.value=e,Dg(t)}function F9(t){return t.node.childCount>0}function xV(t){return Al(t)===void 0&&!F9(t)}function Kf(t,e){Er(t.node.children,(n,r)=>{e(new $v(n,t,r))})}function U9(t,e,n,r){n&&!r&&e(t),Kf(t,s=>{U9(s,e,!0,r)}),n&&r&&e(t)}function EV(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function cd(t){return new nt(t.parent===null?t.name:cd(t.parent)+"/"+t.name)}function Dg(t){t.parent!==null&&CV(t.parent,t.name,t)}function CV(t,e,n){const r=xV(n),s=Ws(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Dg(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Dg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=/[\[\].#$\/\u0000-\u001F\u007F]/,IV=/[\[\].#$\u0000-\u001F\u007F]/,Dp=10*1024*1024,V9=function(t){return typeof t=="string"&&t.length!==0&&!TV.test(t)},bV=function(t){return typeof t=="string"&&t.length!==0&&!IV.test(t)},SV=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),bV(t)},z9=function(t,e,n){const r=n instanceof nt?new oU(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Zi(r));if(typeof e=="function")throw new Error(t+"contains a function "+Zi(r)+" with contents = "+e.toString());if(UI(e))throw new Error(t+"contains "+e.toString()+" "+Zi(r));if(typeof e=="string"&&e.length>Dp/3&&tf(e)>Dp)throw new Error(t+"contains a string greater than "+Dp+" utf8 bytes "+Zi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Er(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!V9(o)))throw new Error(t+" contains an invalid key ("+o+") "+Zi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);aU(r,o),z9(t,a,r),lU(r)}),s&&i)throw new Error(t+' contains ".value" child '+Zi(r)+" in addition to actual children.")}},AV=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!V9(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!SV(n))throw new Error(Sk(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function kV(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!u9(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function Go(t,e,n){kV(t,n),NV(t,r=>jr(r,e)||jr(e,r))}function NV(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(PV(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function PV(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();wo&&pn("event: "+n.toString()),ad(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV="repo_interrupt",MV=25;class OV{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new RV,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=C0(),this.transactionQueueTree_=new $v,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function DV(t,e,n){if(t.stats_=Iv(t.repoInfo_),t.forceRestClient_||NF())t.server_=new E0(t.repoInfo_,(r,s,i,o)=>{Q5(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Y5(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{en(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ps(t.repoInfo_,e,(r,s,i,o)=>{Q5(t,r,s,i,o)},r=>{Y5(t,r)},r=>{$V(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=DF(t.repoInfo_,()=>new OU(t.stats_,t.server_)),t.infoData_=new kU,t.infoSyncTree_=new G5({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=qf(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Uv(t,"connected",!1),t.serverSyncTree_=new G5({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);Go(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function jV(t){const n=t.infoData_.getNode(new nt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function B9(t){return gV({timestamp:jV(t)})}function Q5(t,e,n,r,s){t.dataUpdateCount++;const i=new nt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=Yh(n,c=>mn(c));o=mV(t.serverSyncTree_,i,l,s)}else{const l=mn(n);o=pV(t.serverSyncTree_,i,l,s)}else if(r){const l=Yh(n,c=>mn(c));o=fV(t.serverSyncTree_,i,l)}else{const l=mn(n);o=qf(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=zv(t,i)),Go(t.eventQueue_,a,o)}function Y5(t,e){Uv(t,"connected",e),e===!1&&UV(t)}function $V(t,e){Er(e,(n,r)=>{Uv(t,n,r)})}function Uv(t,e,n){const r=new nt("/.info/"+e),s=mn(n);t.infoData_.updateSnapshot(r,s);const i=qf(t.infoSyncTree_,r,s);Go(t.eventQueue_,r,i)}function FV(t){return t.nextWriteId_++}function UV(t){W9(t,"onDisconnectEvents");const e=B9(t),n=C0();Rg(t.onDisconnect_,Fe(),(s,i)=>{const o=_V(s,i,t.serverSyncTree_,e);y9(n,s,o)});let r=[];Rg(n,Fe(),(s,i)=>{r=r.concat(qf(t.serverSyncTree_,s,i));const o=WV(t,s);zv(t,o)}),t.onDisconnect_=C0(),Go(t.eventQueue_,Fe(),r)}function VV(t){t.persistentConnection_&&t.persistentConnection_.interrupt(LV)}function W9(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),pn(n,...e)}function H9(t,e,n){return P9(t.serverSyncTree_,e,n)||ke.EMPTY_NODE}function Vv(t,e=t.transactionQueueTree_){if(e||Qf(t,e),Al(e)){const n=G9(t,e);Y(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&zV(t,cd(e),n)}else F9(e)&&Kf(e,n=>{Vv(t,n)})}function zV(t,e,n){const r=n.map(c=>c.currentWriteId),s=H9(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];Y(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=mr(e,u.path);i=i.updateChild(d,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{W9(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Ea(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Qf(t,Fv(t.transactionQueueTree_,e)),Vv(t,t.transactionQueueTree_),Go(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)ad(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Yn("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}zv(t,e)}},o)}function zv(t,e){const n=q9(t,e),r=cd(n),s=G9(t,n);return BV(t,s,r),r}function BV(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=mr(n,l.path);let u=!1,d;if(Y(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,s=s.concat(Ea(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=MV)u=!0,d="maxretry",s=s.concat(Ea(t.serverSyncTree_,l.currentWriteId,!0));else{const h=H9(t,l.path,o);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){z9("transaction failed: Data returned ",p,l.path);let g=mn(p);typeof p=="object"&&p!=null&&Ws(p,".priority")||(g=g.updatePriority(h.getPriority()));const v=l.currentWriteId,m=B9(t),_=wV(g,h,m);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=_,l.currentWriteId=FV(t),o.splice(o.indexOf(v),1),s=s.concat(hV(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),s=s.concat(Ea(t.serverSyncTree_,v,!0))}else u=!0,d="nodata",s=s.concat(Ea(t.serverSyncTree_,l.currentWriteId,!0))}Go(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Qf(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ad(r[a]);Vv(t,t.transactionQueueTree_)}function q9(t,e){let n,r=t.transactionQueueTree_;for(n=xe(e);n!==null&&Al(r)===void 0;)r=Fv(r,n),e=Ze(e),n=xe(e);return r}function G9(t,e){const n=[];return K9(t,e,n),n.sort((r,s)=>r.order-s.order),n}function K9(t,e,n){const r=Al(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Kf(e,s=>{K9(t,s,n)})}function Qf(t,e){const n=Al(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,$9(e,n.length>0?n:void 0)}Kf(e,r=>{Qf(t,r)})}function WV(t,e){const n=cd(q9(t,e)),r=Fv(t.transactionQueueTree_,e);return EV(r,s=>{jp(t,s)}),jp(t,r),U9(r,s=>{jp(t,s)}),n}function jp(t,e){const n=Al(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Y(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(Y(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Ea(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?$9(e,void 0):n.length=i+1,Go(t.eventQueue_,cd(e),s);for(let o=0;o<r.length;o++)ad(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function qV(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Yn(`Invalid query segment '${n}' in query '${t}'`)}return e}const X5=function(t,e){const n=GV(t),r=n.namespace;n.domain==="firebase.com"&&zs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&zs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||CF();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new JI(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new nt(n.pathString)}},GV=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(s=HV(t.substring(u,d)));const h=qV(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),i=r}"ns"in h&&(i=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return _e(this._path)?null:a9(this._path)}get ref(){return new Rl(this._repo,this._path)}get _queryIdentifier(){const e=D5(this._queryParams),n=Cv(e);return n==="{}"?"default":n}get _queryObject(){return D5(this._queryParams)}isEqual(e){if(e=We(e),!(e instanceof Bv))return!1;const n=this._repo===e._repo,r=u9(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+iU(this._path)}}class Rl extends Bv{constructor(e,n){super(e,n,new Rv,!1)}get parent(){const e=c9(this._path);return e===null?null:new Rl(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}uV(Rl);dV(Rl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="FIREBASE_DATABASE_EMULATOR_HOST",jg={};let QV=!1;function YV(t,e,n,r){t.repoInfo_=new JI(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function XV(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||zs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pn("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=X5(i,s),a=o.repoInfo,l,c;typeof process<"u"&&y5&&(c=y5[KV]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,o=X5(i,s),a=o.repoInfo):l=!o.repoInfo.secure;const u=s&&l?new Fa(Fa.OWNER):new LF(t.name,t.options,e);AV("Invalid Firebase Database URL",o),_e(o.path)||zs("Database URL must point to the root of a Firebase Database (not including a child path).");const d=ZV(a,t,u,new PF(t.name,n));return new ez(d,t)}function JV(t,e){const n=jg[e];(!n||n[t.key]!==t)&&zs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),VV(t),delete n[t.key]}function ZV(t,e,n,r){let s=jg[e.name];s||(s={},jg[e.name]=s);let i=s[t.toURLString()];return i&&zs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new OV(t,QV,n,r),s[t.toURLString()]=i,i}class ez{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(DV(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Rl(this._repo,Fe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(JV(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&zs("Cannot call "+e+" on a deleted database.")}}function tz(t=rf(),e){const n=$u(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=q1("database");r&&nz(n,...r)}return n}function nz(t,e,n,r={}){t=We(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&zs("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&zs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Fa(Fa.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:K1(r.mockUserToken,t.app.options.projectId);i=new Fa(o)}YV(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(t){vF(Ui),Ri(new js("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return XV(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),yr(v5,_5,t),yr(v5,_5,"esm2017")}Ps.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ps.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};rz();function $g(t,e){localStorage.setItem(t,JSON.stringify(e))}function sz(t){let e=localStorage.getItem(t);try{return JSON.parse(e)}catch{return null}}const iz={apiKey:"AIzaSyCwF75LGVuWriGfXEyHzoGBvobiOdMEwHs",authDomain:"star-education-academy.firebaseapp.com",projectId:"star-education-academy",storageBucket:"star-education-academy.appspot.com",messagingSenderId:"693801186794",appId:"1:693801186794:web:b202cdffa55530e687ee93",measurementId:"G-JN1DV2YT81",databaseURL:"https://star-education-academy-default-rtdb.asia-southeast1.firebasedatabase.app"},Yf=vC(iz),Z=s$(Yf),oz=new Ts,Te=bO(Yf),ui=pF(Yf);tz(Yf);const dl=(t,e,n)=>{E.useEffect(()=>{try{if(n){const r=lt(Te,t),s=er(r,i=>{const o=i.docs.map(a=>({...a.data(),[t==="users"?"uid":"id"]:a.id}));o.length!==0&&e(o)});return()=>{s()}}}catch(r){console.log(r.message)}},[n])},az=(t,e,n)=>{E.useEffect(()=>{var r;try{if(n){const s=de(Te,t,(r=Z==null?void 0:Z.currentUser)==null?void 0:r.uid),i=er(s,o=>{const a={uid:o.id,...o.data()};return a!=null&&a.name&&e(a),()=>i()})}}catch(s){console.log(s.message)}},[n])};function ir(t,e){let n;return t.forEach(r=>{r.uid===e&&(n=r)}),n}async function Wv(t,e,n,r=null){try{const s=lt(Te,"notifications"),i={uid:Z.currentUser.uid,type:t,[e]:n,isReadBy:[],timestamp:Dn(),comment:r};await Ho(s,i)}catch(s){console.log(s.message)}}const lz=({data:t})=>{const{nextPage:e,prevPage:n,isEnded:r,startIndex:s}=t,{startTimer:i,formattedTime:o,stopTest:a,currentTest:l,answeredQuestions:c}=E.useContext(ee),u=sr(),d=async()=>{try{const p=lt(de(Te,"users",Z.currentUser.uid),"history"),g=ZR(c,l,o),y=await Ho(p,g),v=(await UT(y)).id;u(`/app/history/${v}`)}catch(p){console.log(p.message)}},h=()=>{i(),d(),a(),Wv(["took","test"],"testName",l.name)};return f.jsxs("div",{className:"flex justify-center gap-x-5",children:[s!==0&&f.jsx(Be,{data:{clickFn:n,text:"Previous",image:"back"}}),r?f.jsx(Be,{data:{clickFn:h,text:"Finish",image:"finish"}}):f.jsx(Be,{data:{clickFn:e,text:"Next",image:"next"}})]})},Hr=()=>{const[t,e]=E.useState(!0),[n,r]=E.useState(0),{theme:s}=E.useContext(ee);if(E.useEffect(()=>{const i=setInterval(()=>{r(Math.min(n+1,100)),n===100&&(e(!1),r(0))},5);return()=>{clearInterval(i)}},[n]),t&&(document.title="Loading..."),t)return f.jsx("div",{className:`transition-all fixed z-30  top-0 right-0 left-0 bottom-0 flex  items-center justify-center ${s==="light"?"bg-white":"bg-slate-600 text-white"}`,children:f.jsxs("div",{className:"flex flex-col items-center justify-center gap-y-4",children:[f.jsx("img",{className:"w-20 rounded-lg",src:"/images/sea-logo.jpg"}),f.jsx("div",{className:"h-3 w-[200px] rounded-md overflow-hidden",children:f.jsx("div",{style:{width:`${n}%`},className:"h-full bg-blue-300"})}),f.jsxs("p",{className:"text-lg",children:[n,"%"]})]})})},cz=()=>{const{answeredQuestions:t,setAnsweredQuestions:e,currentTest:n,seaLocalStorage:r,seconds:s,hours:i,minutes:o}=E.useContext(ee),a=t.length,l=n.quizzes.length,[c,u]=E.useState((r==null?void 0:r.startIndex)||0),[d,h]=E.useState(!1),[p,g]=E.useState(!1),[y,v]=E.useState(!1),m=10;let _=n.quizzes.slice(c,c+m);const w=n.name,T=Math.ceil(l/m),R=Math.ceil((c+m)/m),I=Math.round(a/l*100);E.useEffect(()=>(Vn(),Vn()),[]),E.useEffect(()=>{$g("sea-localStorage",{answeredQuestions:t,currentTest:n,startIndex:c,timer:{seconds:s,minutes:o,hours:i}})},[t,n,c,s]),E.useEffect(()=>{a===l&&c+m>=l?h(!0):h(!1)},[c,t]),E.useEffect(()=>{a>=c+m?g(!0):g(!1)},[t,c]);const S={pageTitle:w,currentPage:R,totalPage:T,percentage:I,answerLength:a,questionsLength:l,currentQuestions:_,isEnded:d,chooseAnswer:(N,P)=>{const M=q7(N,t);e(M?t.map(L=>N===L.id?{id:N,userAnswer:P}:L):[...t,{id:N,userAnswer:P}])},nextPage:()=>{p?(u(c+m),a<=c+m&&Vn()):G7(v)},prevPage:()=>{u(Math.max(c-m,0))},startIndex:c};return f.jsxs("div",{className:"p-3 grid gap-y-3",children:[f.jsx(Hr,{}),f.jsx(K7,{data:S}),f.jsx(Q7,{data:S}),y&&f.jsx(X7,{}),f.jsx(lz,{data:S})]})},Hv=({title:t,text:e})=>{const{isLogin:n,theme:r}=E.useContext(ee),s=sr();return f.jsxs("div",{className:"grid p-5 gap-y-2",children:[e&&f.jsx("div",{className:` ${r==="light"?"":"text-white"}`,children:e}),f.jsx("div",{children:f.jsx(Be,{data:{clickFn:()=>s(n?"/app/posts":"/login"),image:"redo",text:n?"Return Home":"Login"}})})]})},uz=()=>{const{theme:t,userData:e}=E.useContext(ee),[n,r]=E.useState(null),s=`${n==null?void 0:n.testName} - Results`,i=Math.round((n==null?void 0:n.score)/(n==null?void 0:n.totalScore)*100),o=sr(),{resultId:a}=W1(),l=()=>{try{const u=lt(de(Te,"users",e.uid),"history"),d=de(u,a);return er(d,p=>{const g={id:p.id,...p.data()};r(g)})}catch(u){return console.log(u.message),()=>{}}};E.useEffect(()=>{const u=l();return()=>{u()}},[a]),E.useEffect(()=>(Vn(),Vn()),[]);const c=async()=>{try{await navigator.share({title:"Check out my score!",text:`I scored ${n.score} out of ${n.totalScore} in '${n.testName}'.
Website URL - https://wwww.seaacademy.onrender.com
        `})}catch{console.log("Error")}};return f.jsxs("div",{className:"p-5 ",children:[f.jsx(Hr,{}),n?f.jsxs("div",{className:"",children:[f.jsxs("div",{className:"flex items-center gap-x-1 h-10 font-medium mb-4",children:[f.jsx(ze,{data:{image:"back",clickFn:()=>o("/app/history")}}),f.jsx("div",{className:`text-lg pl-2 place-items-center bg-blue-40 ${t==="light"?"text-gray-500":"text-white"}`,children:s})]}),f.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[f.jsx("div",{children:f.jsx("div",{className:"grid items-center justify-center bg-blue-300/50 h-40 w-40 rounded-full",children:f.jsx("div",{className:"grid items-center justify-center bg-blue-400/50 h-32 w-32 rounded-full",children:f.jsx("div",{className:"grid items-center justify-center bg-blue-500/50 h-28 w-28 rounded-full",children:f.jsx("div",{className:`grid  h-20 w-20 items-center justify-center rounded-full ${t==="light"?"bg-slate-50":"bg-slate-600"}`,children:f.jsxs("div",{className:`flex flex-col items-center justify-center font-medium ${t==="light"?"text-blue-500":"text-white"}`,children:[f.jsx("div",{className:"text-sm font-bold",children:"Your Score"}),f.jsxs("div",{className:" text-lg ",children:[n.score," / ",n.totalScore]})]})})})})})}),f.jsx("div",{className:`grid items-center justify-center font-bold
             text-lg ${t==="light"?"text-blue-700":"text-white"}`,children:f.jsx("div",{children:n.level})})]}),f.jsxs("div",{className:"mt-1 mb-2 h-2 border flex ",children:[f.jsx("div",{className:`h-full ${t==="light"?"bg-lime-400":"bg-slate-500"}`,style:{width:`${i}%`}}),f.jsx("div",{className:"h-full bg-gray-200",style:{width:`${100-i}%`}})]}),f.jsxs("div",{className:`grid grid-cols-2 gap-y-2 border p-2 rounded-lg ${t==="light"?"bg-white border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsx(Qi,{text:"Score Percentage",value:`${i}%`,color:"text-lime-500"}),f.jsx(Qi,{text:"Total Questions",value:n.totalScore,color:"text-lime-500"}),f.jsx(Qi,{text:"Correct",value:n.score,color:"text-green-500"}),f.jsx(Qi,{text:"Wrong",value:n.totalScore-n.score,color:"text-red-500"}),f.jsx(Qi,{text:"Date",value:n.date,color:"text-lime-500"}),f.jsx(Qi,{text:"Time",value:n.time,color:"text-lime-500"}),f.jsx(Qi,{text:"Time taken",value:KE(n.timeTaken)||"Unknown",color:"text-lime-500"})]}),f.jsxs("div",{className:`grid grid-cols-3 justify-center gap-y-2 mt-5 ${t==="light"?"":"text-white"}`,children:[f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx(ze,{data:{clickFn:()=>o(`/app/history/${a}/reviews`),image:"review"}}),f.jsx("div",{className:"text-sm",children:"Review Answers"})]}),f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx(ze,{data:{clickFn:c,image:"share"}}),f.jsx("div",{className:"text-sm",children:"Share Score"})]}),f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx(ze,{data:{clickFn:()=>o("/app/posts"),image:"home"}}),f.jsx("div",{className:"text-sm",children:"Home"})]})]})]}):f.jsx(Hv,{text:"Unavailable"})]})},Qi=({text:t,value:e,color:n})=>f.jsxs("div",{children:[f.jsxs("div",{className:`font-medium ${n}`,children:["● ",e]}),f.jsx("div",{className:"text-sm",children:t})]});function vs(t,e=15){const n=t.slice(0,e);return e>t.length?n:`${n}...`}const Ir=({image:t,name:e,size:n="size-10",fontSize:r="text-lg"})=>{const s=t&&t.trim(),i=e&&e.trim(),o=s&&i,a=()=>{const l=e.trim().split(" ");return l.length<=3?l[0][0].toUpperCase():`${l[0][0]}${l[1][0]}`.toUpperCase()};if(s||o)return f.jsx("img",{className:`${n} rounded-full object-cover`,src:t});if(i)return f.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:a()});if(!o)return f.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:"U"})},dz=({data:t})=>{const{setIsMenuOpen:e}=t,[n,r]=E.useState(!1),[s,i]=E.useState(!1),o=E.useRef(null),a=sr(),{setIsLogIn:l,theme:c,userData:u,refreshUserData:d,inspecting:h,isOnline:p}=E.useContext(ee),g=async()=>{try{await qD(Z),e(!1),l(!1)}catch(y){console.log(y.message)}};return ms(o,r),f.jsxs("div",{ref:o,className:"p-2 ",children:[f.jsx("div",{className:"top-0 right-0 left-0 bottom-0",children:s&&f.jsx(bo,{data:{yesButton:g,noButton:()=>{i(!1)},text:"Are you sure to log out ?",setValue:i}})}),f.jsx("button",{onClick:()=>r(!n),className:`transition-all p-1 rounded-md cursor-pointer w-full min-h-14 ${c==="light"?`${n?"bg-slate-200/70":"hover:bg-slate-200/70"}`:`${n?"bg-slate-500/70":"hover:bg-slate-500/70"}`}`,children:f.jsxs("div",{className:"flex gap-x-2 items-center mb-2",children:[f.jsx("div",{className:"relative w-10",children:f.jsx(Ir,{image:u==null?void 0:u.image,name:u==null?void 0:u.name})}),f.jsxs("div",{className:"flex flex-1 items-center justify-between",children:[f.jsx("div",{className:"font-medium",children:u!=null&&u.name?u.name:"User"}),h&&f.jsx(ze,{data:{clickFn:d,image:"exit"}})]})]})}),n&&f.jsxs("div",{className:`absolute bottom-[70px] left-1 border w-4/6 sm:w-3/5 md:w-4/6  p-2 rounded-md ${c==="light"?"border-gray-200 bg-white ":"bg-slate-500 text-white border-slate-500 "}`,children:[f.jsx("div",{children:f.jsxs("button",{onClick:()=>{a("/app/settings"),e(!1),r(!1)},className:`flex w-full p-1 rounded-md gap-x-2 items-center  ${c==="light"?"hover:bg-gray-200/70":"hover:bg-slate-600 text-white"}`,children:[f.jsx("img",{className:"w-6",src:ae("admin")}),f.jsx("div",{children:"Settings"})]})}),f.jsxs("button",{onClick:()=>{i(!0)},className:`flex w-full p-1 rounded-md gap-x-2 items-center ${c==="light"?"hover:bg-gray-200/70":"hover:bg-slate-600 text-white"}`,children:[f.jsx("img",{className:"w-6",src:ae("logout")}),f.jsx("div",{children:"Log out"})]})]})]})},hz={black:"#000",white:"#fff"},Iu=hz,fz={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Zo=fz,pz={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ea=pz,mz={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ta=mz,gz={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},na=gz,yz={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ra=yz,vz={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Jl=vz,_z={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},wz=_z;function bu(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const xz=Object.freeze(Object.defineProperty({__proto__:null,default:bu},Symbol.toStringTag,{value:"Module"})),qv="$$material";function G(){return G=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G.apply(null,arguments)}function Mt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Q9(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Ez=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Cz=Q9(function(t){return Ez.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function Tz(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Iz(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var bz=function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Iz(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Tz(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),un="-ms-",S0="-moz-",Se="-webkit-",Y9="comm",Gv="rule",Kv="decl",Sz="@import",X9="@keyframes",Az="@layer",Rz=Math.abs,Xf=String.fromCharCode,kz=Object.assign;function Nz(t,e){return Jt(t,0)^45?(((e<<2^Jt(t,0))<<2^Jt(t,1))<<2^Jt(t,2))<<2^Jt(t,3):0}function J9(t){return t.trim()}function Pz(t,e){return(t=e.exec(t))?t[0]:t}function Ae(t,e,n){return t.replace(e,n)}function Fg(t,e){return t.indexOf(e)}function Jt(t,e){return t.charCodeAt(e)|0}function Su(t,e,n){return t.slice(e,n)}function Qr(t){return t.length}function Qv(t){return t.length}function Hd(t,e){return e.push(t),t}function Lz(t,e){return t.map(e).join("")}var Jf=1,hl=1,Z9=0,Bn=0,At=0,kl="";function Zf(t,e,n,r,s,i,o){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:Jf,column:hl,length:o,return:""}}function Zl(t,e){return kz(Zf("",null,null,"",null,null,0),t,{length:-t.length},e)}function Mz(){return At}function Oz(){return At=Bn>0?Jt(kl,--Bn):0,hl--,At===10&&(hl=1,Jf--),At}function Xn(){return At=Bn<Z9?Jt(kl,Bn++):0,hl++,At===10&&(hl=1,Jf++),At}function ds(){return Jt(kl,Bn)}function gh(){return Bn}function ud(t,e){return Su(kl,t,e)}function Au(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function eb(t){return Jf=hl=1,Z9=Qr(kl=t),Bn=0,[]}function tb(t){return kl="",t}function yh(t){return J9(ud(Bn-1,Ug(t===91?t+2:t===40?t+1:t)))}function Dz(t){for(;(At=ds())&&At<33;)Xn();return Au(t)>2||Au(At)>3?"":" "}function jz(t,e){for(;--e&&Xn()&&!(At<48||At>102||At>57&&At<65||At>70&&At<97););return ud(t,gh()+(e<6&&ds()==32&&Xn()==32))}function Ug(t){for(;Xn();)switch(At){case t:return Bn;case 34:case 39:t!==34&&t!==39&&Ug(At);break;case 40:t===41&&Ug(t);break;case 92:Xn();break}return Bn}function $z(t,e){for(;Xn()&&t+At!==57;)if(t+At===84&&ds()===47)break;return"/*"+ud(e,Bn-1)+"*"+Xf(t===47?t:Xn())}function Fz(t){for(;!Au(ds());)Xn();return ud(t,Bn)}function Uz(t){return tb(vh("",null,null,null,[""],t=eb(t),0,[0],t))}function vh(t,e,n,r,s,i,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,g=0,y=1,v=1,m=1,_=0,w="",T=s,R=i,I=r,b=w;v;)switch(g=_,_=Xn()){case 40:if(g!=108&&Jt(b,d-1)==58){Fg(b+=Ae(yh(_),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:b+=yh(_);break;case 9:case 10:case 13:case 32:b+=Dz(g);break;case 92:b+=jz(gh()-1,7);continue;case 47:switch(ds()){case 42:case 47:Hd(Vz($z(Xn(),gh()),e,n),l);break;default:b+="/"}break;case 123*y:a[c++]=Qr(b)*m;case 125*y:case 59:case 0:switch(_){case 0:case 125:v=0;case 59+u:m==-1&&(b=Ae(b,/\f/g,"")),p>0&&Qr(b)-d&&Hd(p>32?Z5(b+";",r,n,d-1):Z5(Ae(b," ","")+";",r,n,d-2),l);break;case 59:b+=";";default:if(Hd(I=J5(b,e,n,c,u,s,a,w,T=[],R=[],d),i),_===123)if(u===0)vh(b,e,I,I,T,i,d,a,R);else switch(h===99&&Jt(b,3)===110?100:h){case 100:case 108:case 109:case 115:vh(t,I,I,r&&Hd(J5(t,I,I,0,0,s,a,w,s,T=[],d),R),s,R,d,a,r?T:R);break;default:vh(b,I,I,I,[""],R,0,a,R)}}c=u=p=0,y=m=1,w=b="",d=o;break;case 58:d=1+Qr(b),p=g;default:if(y<1){if(_==123)--y;else if(_==125&&y++==0&&Oz()==125)continue}switch(b+=Xf(_),_*y){case 38:m=u>0?1:(b+="\f",-1);break;case 44:a[c++]=(Qr(b)-1)*m,m=1;break;case 64:ds()===45&&(b+=yh(Xn())),h=ds(),u=d=Qr(w=b+=Fz(gh())),_++;break;case 45:g===45&&Qr(b)==2&&(y=0)}}return i}function J5(t,e,n,r,s,i,o,a,l,c,u){for(var d=s-1,h=s===0?i:[""],p=Qv(h),g=0,y=0,v=0;g<r;++g)for(var m=0,_=Su(t,d+1,d=Rz(y=o[g])),w=t;m<p;++m)(w=J9(y>0?h[m]+" "+_:Ae(_,/&\f/g,h[m])))&&(l[v++]=w);return Zf(t,e,n,s===0?Gv:a,l,c,u)}function Vz(t,e,n){return Zf(t,e,n,Y9,Xf(Mz()),Su(t,2,-2),0)}function Z5(t,e,n,r){return Zf(t,e,n,Kv,Su(t,0,r),Su(t,r+1,-1),r)}function Va(t,e){for(var n="",r=Qv(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function zz(t,e,n,r){switch(t.type){case Az:if(t.children.length)break;case Sz:case Kv:return t.return=t.return||t.value;case Y9:return"";case X9:return t.return=t.value+"{"+Va(t.children,r)+"}";case Gv:t.value=t.props.join(",")}return Qr(n=Va(t.children,r))?t.return=t.value+"{"+n+"}":""}function Bz(t){var e=Qv(t);return function(n,r,s,i){for(var o="",a=0;a<e;a++)o+=t[a](n,r,s,i)||"";return o}}function Wz(t){return function(e){e.root||(e=e.return)&&t(e)}}var Hz=function(e,n,r){for(var s=0,i=0;s=i,i=ds(),s===38&&i===12&&(n[r]=1),!Au(i);)Xn();return ud(e,Bn)},qz=function(e,n){var r=-1,s=44;do switch(Au(s)){case 0:s===38&&ds()===12&&(n[r]=1),e[r]+=Hz(Bn-1,n,r);break;case 2:e[r]+=yh(s);break;case 4:if(s===44){e[++r]=ds()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Xf(s)}while(s=Xn());return e},Gz=function(e,n){return tb(qz(eb(e),n))},ex=new WeakMap,Kz=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!ex.get(r))&&!s){ex.set(e,!0);for(var i=[],o=Gz(n,i),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=i[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},Qz=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function nb(t,e){switch(Nz(t,e)){case 5103:return Se+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Se+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Se+t+S0+t+un+t+t;case 6828:case 4268:return Se+t+un+t+t;case 6165:return Se+t+un+"flex-"+t+t;case 5187:return Se+t+Ae(t,/(\w+).+(:[^]+)/,Se+"box-$1$2"+un+"flex-$1$2")+t;case 5443:return Se+t+un+"flex-item-"+Ae(t,/flex-|-self/,"")+t;case 4675:return Se+t+un+"flex-line-pack"+Ae(t,/align-content|flex-|-self/,"")+t;case 5548:return Se+t+un+Ae(t,"shrink","negative")+t;case 5292:return Se+t+un+Ae(t,"basis","preferred-size")+t;case 6060:return Se+"box-"+Ae(t,"-grow","")+Se+t+un+Ae(t,"grow","positive")+t;case 4554:return Se+Ae(t,/([^-])(transform)/g,"$1"+Se+"$2")+t;case 6187:return Ae(Ae(Ae(t,/(zoom-|grab)/,Se+"$1"),/(image-set)/,Se+"$1"),t,"")+t;case 5495:case 3959:return Ae(t,/(image-set\([^]*)/,Se+"$1$`$1");case 4968:return Ae(Ae(t,/(.+:)(flex-)?(.*)/,Se+"box-pack:$3"+un+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Se+t+t;case 4095:case 3583:case 4068:case 2532:return Ae(t,/(.+)-inline(.+)/,Se+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qr(t)-1-e>6)switch(Jt(t,e+1)){case 109:if(Jt(t,e+4)!==45)break;case 102:return Ae(t,/(.+:)(.+)-([^]+)/,"$1"+Se+"$2-$3$1"+S0+(Jt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Fg(t,"stretch")?nb(Ae(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Jt(t,e+1)!==115)break;case 6444:switch(Jt(t,Qr(t)-3-(~Fg(t,"!important")&&10))){case 107:return Ae(t,":",":"+Se)+t;case 101:return Ae(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Se+(Jt(t,14)===45?"inline-":"")+"box$3$1"+Se+"$2$3$1"+un+"$2box$3")+t}break;case 5936:switch(Jt(t,e+11)){case 114:return Se+t+un+Ae(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Se+t+un+Ae(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Se+t+un+Ae(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Se+t+un+t+t}return t}var Yz=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case Kv:e.return=nb(e.value,e.length);break;case X9:return Va([Zl(e,{value:Ae(e.value,"@","@"+Se)})],s);case Gv:if(e.length)return Lz(e.props,function(i){switch(Pz(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Va([Zl(e,{props:[Ae(i,/:(read-\w+)/,":"+S0+"$1")]})],s);case"::placeholder":return Va([Zl(e,{props:[Ae(i,/:(plac\w+)/,":"+Se+"input-$1")]}),Zl(e,{props:[Ae(i,/:(plac\w+)/,":"+S0+"$1")]}),Zl(e,{props:[Ae(i,/:(plac\w+)/,un+"input-$1")]})],s)}return""})}},Xz=[Yz],rb=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var v=y.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var s=e.stylisPlugins||Xz,i={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var v=y.getAttribute("data-emotion").split(" "),m=1;m<v.length;m++)i[v[m]]=!0;a.push(y)});var l,c=[Kz,Qz];{var u,d=[zz,Wz(function(y){u.insert(y)})],h=Bz(c.concat(s,d)),p=function(v){return Va(Uz(v),h)};l=function(v,m,_,w){u=_,p(v?v+"{"+m.styles+"}":m.styles),w&&(g.inserted[m.name]=!0)}}var g={key:n,sheet:new bz({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return g.sheet.hydrate(a),g},sb={exports:{}},De={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kt=typeof Symbol=="function"&&Symbol.for,Yv=Kt?Symbol.for("react.element"):60103,Xv=Kt?Symbol.for("react.portal"):60106,e2=Kt?Symbol.for("react.fragment"):60107,t2=Kt?Symbol.for("react.strict_mode"):60108,n2=Kt?Symbol.for("react.profiler"):60114,r2=Kt?Symbol.for("react.provider"):60109,s2=Kt?Symbol.for("react.context"):60110,Jv=Kt?Symbol.for("react.async_mode"):60111,i2=Kt?Symbol.for("react.concurrent_mode"):60111,o2=Kt?Symbol.for("react.forward_ref"):60112,a2=Kt?Symbol.for("react.suspense"):60113,Jz=Kt?Symbol.for("react.suspense_list"):60120,l2=Kt?Symbol.for("react.memo"):60115,c2=Kt?Symbol.for("react.lazy"):60116,Zz=Kt?Symbol.for("react.block"):60121,eB=Kt?Symbol.for("react.fundamental"):60117,tB=Kt?Symbol.for("react.responder"):60118,nB=Kt?Symbol.for("react.scope"):60119;function or(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Yv:switch(t=t.type,t){case Jv:case i2:case e2:case n2:case t2:case a2:return t;default:switch(t=t&&t.$$typeof,t){case s2:case o2:case c2:case l2:case r2:return t;default:return e}}case Xv:return e}}}function ib(t){return or(t)===i2}De.AsyncMode=Jv;De.ConcurrentMode=i2;De.ContextConsumer=s2;De.ContextProvider=r2;De.Element=Yv;De.ForwardRef=o2;De.Fragment=e2;De.Lazy=c2;De.Memo=l2;De.Portal=Xv;De.Profiler=n2;De.StrictMode=t2;De.Suspense=a2;De.isAsyncMode=function(t){return ib(t)||or(t)===Jv};De.isConcurrentMode=ib;De.isContextConsumer=function(t){return or(t)===s2};De.isContextProvider=function(t){return or(t)===r2};De.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yv};De.isForwardRef=function(t){return or(t)===o2};De.isFragment=function(t){return or(t)===e2};De.isLazy=function(t){return or(t)===c2};De.isMemo=function(t){return or(t)===l2};De.isPortal=function(t){return or(t)===Xv};De.isProfiler=function(t){return or(t)===n2};De.isStrictMode=function(t){return or(t)===t2};De.isSuspense=function(t){return or(t)===a2};De.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===e2||t===i2||t===n2||t===t2||t===a2||t===Jz||typeof t=="object"&&t!==null&&(t.$$typeof===c2||t.$$typeof===l2||t.$$typeof===r2||t.$$typeof===s2||t.$$typeof===o2||t.$$typeof===eB||t.$$typeof===tB||t.$$typeof===nB||t.$$typeof===Zz)};De.typeOf=or;sb.exports=De;var rB=sb.exports,ob=rB,sB={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},iB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ab={};ab[ob.ForwardRef]=sB;ab[ob.Memo]=iB;var oB=!0;function aB(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):r+=s+" "}),r}var lb=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||oB===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},cb=function(e,n,r){lb(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function lB(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var cB={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},uB=/[A-Z]|^ms/g,dB=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ub=function(e){return e.charCodeAt(1)===45},tx=function(e){return e!=null&&typeof e!="boolean"},$p=Q9(function(t){return ub(t)?t:t.replace(uB,"-$&").toLowerCase()}),nx=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(dB,function(r,s,i){return Yr={name:s,styles:i,next:Yr},s})}return cB[e]!==1&&!ub(e)&&typeof n=="number"&&n!==0?n+"px":n};function Ru(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Yr={name:n.name,styles:n.styles,next:Yr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Yr={name:r.name,styles:r.styles,next:Yr},r=r.next;var s=n.styles+";";return s}return hB(t,e,n)}case"function":{if(t!==void 0){var i=Yr,o=n(t);return Yr=i,Ru(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function hB(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Ru(t,e,n[s])+";";else for(var i in n){var o=n[i];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=i+"{"+e[o]+"}":tx(o)&&(r+=$p(i)+":"+nx(i,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)tx(o[a])&&(r+=$p(i)+":"+nx(i,o[a])+";");else{var l=Ru(t,e,o);switch(i){case"animation":case"animationName":{r+=$p(i)+":"+l+";";break}default:r+=i+"{"+l+"}"}}}return r}var rx=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Yr,Zv=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var s=!0,i="";Yr=void 0;var o=e[0];o==null||o.raw===void 0?(s=!1,i+=Ru(r,n,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=Ru(r,n,e[a]),s&&(i+=o[a]);rx.lastIndex=0;for(var l="",c;(c=rx.exec(i))!==null;)l+="-"+c[1];var u=lB(i)+l;return{name:u,styles:i,next:Yr}},fB=function(e){return e()},db=Hp.useInsertionEffect?Hp.useInsertionEffect:!1,pB=db||fB,sx=db||E.useLayoutEffect,hb=E.createContext(typeof HTMLElement<"u"?rb({key:"css"}):null),mB=hb.Provider,fb=function(e){return E.forwardRef(function(n,r){var s=E.useContext(hb);return e(n,s,r)})},u2=E.createContext({}),Fp={exports:{}},ix;function pb(){return ix||(ix=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)({}).hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Fp)),Fp.exports}pb();var gB=fb(function(t,e){var n=t.styles,r=Zv([n],void 0,E.useContext(u2)),s=E.useRef();return sx(function(){var i=e.key+"-global",o=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",i),o.hydrate([l])),s.current=[o,a],function(){o.flush()}},[e]),sx(function(){var i=s.current,o=i[0],a=i[1];if(a){i[1]=!1;return}if(r.next!==void 0&&cb(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function mb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Zv(e)}var d2=function(){var e=mb.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},yB=Cz,vB=function(e){return e!=="theme"},ox=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?yB:vB},ax=function(e,n,r){var s;if(n){var i=n.shouldForwardProp;s=e.__emotion_forwardProp&&i?function(o){return e.__emotion_forwardProp(o)&&i(o)}:i}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},_B=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return lb(n,r,s),pB(function(){return cb(n,r,s)}),null},wB=function t(e,n){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,i,o;n!==void 0&&(i=n.label,o=n.target);var a=ax(e,n,r),l=a||ox(s),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&d.push("label:"+i+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var g=fb(function(y,v,m){var _=c&&y.as||s,w="",T=[],R=y;if(y.theme==null){R={};for(var I in y)R[I]=y[I];R.theme=E.useContext(u2)}typeof y.className=="string"?w=aB(v.registered,T,y.className):y.className!=null&&(w=y.className+" ");var b=Zv(d.concat(T),v.registered,R);w+=v.key+"-"+b.name,o!==void 0&&(w+=" "+o);var x=c&&a===void 0?ox(_):l,C={};for(var S in y)c&&S==="as"||x(S)&&(C[S]=y[S]);return C.className=w,C.ref=m,E.createElement(E.Fragment,null,E.createElement(_B,{cache:v,serialized:b,isStringTag:typeof _=="string"}),E.createElement(_,C))});return g.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=s,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(y,v){return t(y,G({},n,v,{shouldForwardProp:ax(g,v,!0)})).apply(void 0,d)},g}},xB=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Vg=wB.bind();xB.forEach(function(t){Vg[t]=Vg(t)});let zg;typeof document=="object"&&(zg=rb({key:"css",prepend:!0}));function EB(t){const{injectFirst:e,children:n}=t;return e&&zg?f.jsx(mB,{value:zg,children:n}):n}function CB(t){return t==null||Object.keys(t).length===0}function TB(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?s=>e(CB(s)?n:s):e;return f.jsx(gB,{styles:r})}function IB(t,e){return Vg(t,e)}const bB=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},SB=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:TB,StyledEngineProvider:EB,ThemeContext:u2,css:mb,default:IB,internal_processStyles:bB,keyframes:d2},Symbol.toStringTag,{value:"Module"}));function ri(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function gb(t){if(!ri(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=gb(t[n])}),e}function hs(t,e,n={clone:!0}){const r=n.clone?G({},t):t;return ri(t)&&ri(e)&&Object.keys(e).forEach(s=>{ri(e[s])&&Object.prototype.hasOwnProperty.call(t,s)&&ri(t[s])?r[s]=hs(t[s],e[s],n):n.clone?r[s]=ri(e[s])?gb(e[s]):e[s]:r[s]=e[s]}),r}const AB=Object.freeze(Object.defineProperty({__proto__:null,default:hs,isPlainObject:ri},Symbol.toStringTag,{value:"Module"})),RB=["values","unit","step"],kB=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>G({},n,{[r.key]:r.val}),{})};function yb(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,s=Mt(t,RB),i=kB(e),o=Object.keys(i);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function c(h,p){const g=o.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(g!==-1&&typeof e[o[g]]=="number"?e[o[g]]:p)-r/100}${n})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return G({keys:o,values:i,up:a,down:l,between:c,only:u,not:d,unit:n},s)}const NB={borderRadius:4},PB=NB;function Lc(t,e){return e?hs(t,e,{clone:!1}):t}const e_={xs:0,sm:600,md:900,lg:1200,xl:1536},lx={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${e_[t]}px)`};function Cr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const i=r.breakpoints||lx;return e.reduce((o,a,l)=>(o[i.up(i.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const i=r.breakpoints||lx;return Object.keys(e).reduce((o,a)=>{if(Object.keys(i.values||e_).indexOf(a)!==-1){const l=i.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function LB(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,s)=>{const i=t.up(s);return r[i]={},r},{}))||{}}function MB(t,e){return t.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},e)}function OB(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((s,i)=>{i<t.length&&(n[s]=!0)}):r.forEach(s=>{t[s]!=null&&(n[s]=!0)}),n}function h2({values:t,breakpoints:e,base:n}){const r=n||OB(t,e),s=Object.keys(r);if(s.length===0)return t;let i;return s.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[i],i=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[i],i=a):o[a]=t,o),{})}function Ke(t){if(typeof t!="string")throw new Error(bu(7));return t.charAt(0).toUpperCase()+t.slice(1)}const DB=Object.freeze(Object.defineProperty({__proto__:null,default:Ke},Symbol.toStringTag,{value:"Module"}));function f2(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,t);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,t)}function A0(t,e,n,r=n){let s;return typeof t=="function"?s=t(n):Array.isArray(t)?s=t[n]||r:s=f2(t,n)||r,e&&(s=e(s,r,t)),s}function Ct(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:s}=t,i=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=f2(l,r)||{};return Cr(o,a,d=>{let h=A0(c,s,d);return d===h&&typeof d=="string"&&(h=A0(c,s,`${e}${d==="default"?"":Ke(d)}`,d)),n===!1?h:{[n]:h}})};return i.propTypes={},i.filterProps=[e],i}function jB(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const $B={m:"margin",p:"padding"},FB={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},cx={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},UB=jB(t=>{if(t.length>2)if(cx[t])t=cx[t];else return[t];const[e,n]=t.split(""),r=$B[e],s=FB[n]||"";return Array.isArray(s)?s.map(i=>r+i):[r+s]}),t_=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],n_=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...t_,...n_];function dd(t,e,n,r){var s;const i=(s=f2(t,e,!1))!=null?s:n;return typeof i=="number"?o=>typeof o=="string"?o:i*o:Array.isArray(i)?o=>typeof o=="string"?o:i[o]:typeof i=="function"?i:()=>{}}function vb(t){return dd(t,"spacing",8)}function hd(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function VB(t,e){return n=>t.reduce((r,s)=>(r[s]=hd(e,n),r),{})}function zB(t,e,n,r){if(e.indexOf(n)===-1)return null;const s=UB(n),i=VB(s,r),o=t[n];return Cr(t,o,i)}function _b(t,e){const n=vb(t.theme);return Object.keys(t).map(r=>zB(t,e,r,n)).reduce(Lc,{})}function ut(t){return _b(t,t_)}ut.propTypes={};ut.filterProps=t_;function dt(t){return _b(t,n_)}dt.propTypes={};dt.filterProps=n_;function BB(t=8){if(t.mui)return t;const e=vb({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(i=>{const o=e(i);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function p2(...t){const e=t.reduce((r,s)=>(s.filterProps.forEach(i=>{r[i]=s}),r),{}),n=r=>Object.keys(r).reduce((s,i)=>e[i]?Lc(s,e[i](r)):s,{});return n.propTypes={},n.filterProps=t.reduce((r,s)=>r.concat(s.filterProps),[]),n}function hr(t){return typeof t!="number"?t:`${t}px solid`}function br(t,e){return Ct({prop:t,themeKey:"borders",transform:e})}const WB=br("border",hr),HB=br("borderTop",hr),qB=br("borderRight",hr),GB=br("borderBottom",hr),KB=br("borderLeft",hr),QB=br("borderColor"),YB=br("borderTopColor"),XB=br("borderRightColor"),JB=br("borderBottomColor"),ZB=br("borderLeftColor"),eW=br("outline",hr),tW=br("outlineColor"),m2=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=dd(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:hd(e,r)});return Cr(t,t.borderRadius,n)}return null};m2.propTypes={};m2.filterProps=["borderRadius"];p2(WB,HB,qB,GB,KB,QB,YB,XB,JB,ZB,m2,eW,tW);const g2=t=>{if(t.gap!==void 0&&t.gap!==null){const e=dd(t.theme,"spacing",8),n=r=>({gap:hd(e,r)});return Cr(t,t.gap,n)}return null};g2.propTypes={};g2.filterProps=["gap"];const y2=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=dd(t.theme,"spacing",8),n=r=>({columnGap:hd(e,r)});return Cr(t,t.columnGap,n)}return null};y2.propTypes={};y2.filterProps=["columnGap"];const v2=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=dd(t.theme,"spacing",8),n=r=>({rowGap:hd(e,r)});return Cr(t,t.rowGap,n)}return null};v2.propTypes={};v2.filterProps=["rowGap"];const nW=Ct({prop:"gridColumn"}),rW=Ct({prop:"gridRow"}),sW=Ct({prop:"gridAutoFlow"}),iW=Ct({prop:"gridAutoColumns"}),oW=Ct({prop:"gridAutoRows"}),aW=Ct({prop:"gridTemplateColumns"}),lW=Ct({prop:"gridTemplateRows"}),cW=Ct({prop:"gridTemplateAreas"}),uW=Ct({prop:"gridArea"});p2(g2,y2,v2,nW,rW,sW,iW,oW,aW,lW,cW,uW);function za(t,e){return e==="grey"?e:t}const dW=Ct({prop:"color",themeKey:"palette",transform:za}),hW=Ct({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:za}),fW=Ct({prop:"backgroundColor",themeKey:"palette",transform:za});p2(dW,hW,fW);function Hn(t){return t<=1&&t!==0?`${t*100}%`:t}const pW=Ct({prop:"width",transform:Hn}),r_=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,s;const i=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||e_[n];return i?((s=t.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${i}${t.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Hn(n)}};return Cr(t,t.maxWidth,e)}return null};r_.filterProps=["maxWidth"];const mW=Ct({prop:"minWidth",transform:Hn}),gW=Ct({prop:"height",transform:Hn}),yW=Ct({prop:"maxHeight",transform:Hn}),vW=Ct({prop:"minHeight",transform:Hn});Ct({prop:"size",cssProperty:"width",transform:Hn});Ct({prop:"size",cssProperty:"height",transform:Hn});const _W=Ct({prop:"boxSizing"});p2(pW,r_,mW,gW,yW,vW,_W);const wW={border:{themeKey:"borders",transform:hr},borderTop:{themeKey:"borders",transform:hr},borderRight:{themeKey:"borders",transform:hr},borderBottom:{themeKey:"borders",transform:hr},borderLeft:{themeKey:"borders",transform:hr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:hr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:m2},color:{themeKey:"palette",transform:za},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:za},backgroundColor:{themeKey:"palette",transform:za},p:{style:dt},pt:{style:dt},pr:{style:dt},pb:{style:dt},pl:{style:dt},px:{style:dt},py:{style:dt},padding:{style:dt},paddingTop:{style:dt},paddingRight:{style:dt},paddingBottom:{style:dt},paddingLeft:{style:dt},paddingX:{style:dt},paddingY:{style:dt},paddingInline:{style:dt},paddingInlineStart:{style:dt},paddingInlineEnd:{style:dt},paddingBlock:{style:dt},paddingBlockStart:{style:dt},paddingBlockEnd:{style:dt},m:{style:ut},mt:{style:ut},mr:{style:ut},mb:{style:ut},ml:{style:ut},mx:{style:ut},my:{style:ut},margin:{style:ut},marginTop:{style:ut},marginRight:{style:ut},marginBottom:{style:ut},marginLeft:{style:ut},marginX:{style:ut},marginY:{style:ut},marginInline:{style:ut},marginInlineStart:{style:ut},marginInlineEnd:{style:ut},marginBlock:{style:ut},marginBlockStart:{style:ut},marginBlockEnd:{style:ut},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:g2},rowGap:{style:v2},columnGap:{style:y2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Hn},maxWidth:{style:r_},minWidth:{transform:Hn},height:{transform:Hn},maxHeight:{transform:Hn},minHeight:{transform:Hn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},fd=wW;function xW(...t){const e=t.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function EW(t,e){return typeof t=="function"?t(e):t}function wb(){function t(n,r,s,i){const o={[n]:r,theme:s},a=i[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=f2(s,c)||{};return d?d(o):Cr(o,r,g=>{let y=A0(h,u,g);return g===y&&typeof g=="string"&&(y=A0(h,u,`${n}${g==="default"?"":Ke(g)}`,g)),l===!1?y:{[l]:y}})}function e(n){var r;const{sx:s,theme:i={}}=n||{};if(!s)return null;const o=(r=i.unstable_sxConfig)!=null?r:fd;function a(l){let c=l;if(typeof l=="function")c=l(i);else if(typeof l!="object")return l;if(!c)return null;const u=LB(i.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(p=>{const g=EW(c[p],i);if(g!=null)if(typeof g=="object")if(o[p])h=Lc(h,t(p,g,i,o));else{const y=Cr({theme:i},g,v=>({[p]:v}));xW(y,g)?h[p]=e({sx:g,theme:i}):h=Lc(h,y)}else h=Lc(h,t(p,g,i,o))}),MB(d,h)}return Array.isArray(s)?s.map(a):a(s)}return e}const xb=wb();xb.filterProps=["sx"];const s_=xb;function Eb(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const CW=["breakpoints","palette","spacing","shape"];function i_(t={},...e){const{breakpoints:n={},palette:r={},spacing:s,shape:i={}}=t,o=Mt(t,CW),a=yb(n),l=BB(s);let c=hs({breakpoints:a,direction:"ltr",components:{},palette:G({mode:"light"},r),spacing:l,shape:G({},PB,i)},o);return c.applyStyles=Eb,c=e.reduce((u,d)=>hs(u,d),c),c.unstable_sxConfig=G({},fd,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return s_({sx:d,theme:this})},c}const TW=Object.freeze(Object.defineProperty({__proto__:null,default:i_,private_createBreakpoints:yb,unstable_applyStyles:Eb},Symbol.toStringTag,{value:"Module"}));function IW(t){return Object.keys(t).length===0}function bW(t=null){const e=E.useContext(u2);return!e||IW(e)?t:e}const SW=i_();function Cb(t=SW){return bW(t)}const AW=["sx"],RW=t=>{var e,n;const r={systemProps:{},otherProps:{}},s=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:fd;return Object.keys(t).forEach(i=>{s[i]?r.systemProps[i]=t[i]:r.otherProps[i]=t[i]}),r};function o_(t){const{sx:e}=t,n=Mt(t,AW),{systemProps:r,otherProps:s}=RW(n);let i;return Array.isArray(e)?i=[r,...e]:typeof e=="function"?i=(...o)=>{const a=e(...o);return ri(a)?G({},r,a):r}:i=G({},r,e),G({},s,{sx:i})}const kW=Object.freeze(Object.defineProperty({__proto__:null,default:s_,extendSxProp:o_,unstable_createStyleFunctionSx:wb,unstable_defaultSxConfig:fd},Symbol.toStringTag,{value:"Module"})),ux=t=>t,NW=()=>{let t=ux;return{configure(e){t=e},generate(e){return t(e)},reset(){t=ux}}},PW=NW(),LW=PW;function Tb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Tb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function wt(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Tb(t))&&(r&&(r+=" "),r+=e);return r}const MW={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Sr(t,e,n="Mui"){const r=MW[e];return r?`${n}-${r}`:`${LW.generate(t)}-${e}`}function Ar(t,e,n="Mui"){const r={};return e.forEach(s=>{r[s]=Sr(t,s,n)}),r}var Ib={exports:{}},je={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_=Symbol.for("react.element"),l_=Symbol.for("react.portal"),_2=Symbol.for("react.fragment"),w2=Symbol.for("react.strict_mode"),x2=Symbol.for("react.profiler"),E2=Symbol.for("react.provider"),C2=Symbol.for("react.context"),OW=Symbol.for("react.server_context"),T2=Symbol.for("react.forward_ref"),I2=Symbol.for("react.suspense"),b2=Symbol.for("react.suspense_list"),S2=Symbol.for("react.memo"),A2=Symbol.for("react.lazy"),DW=Symbol.for("react.offscreen"),bb;bb=Symbol.for("react.module.reference");function Rr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case a_:switch(t=t.type,t){case _2:case x2:case w2:case I2:case b2:return t;default:switch(t=t&&t.$$typeof,t){case OW:case C2:case T2:case A2:case S2:case E2:return t;default:return e}}case l_:return e}}}je.ContextConsumer=C2;je.ContextProvider=E2;je.Element=a_;je.ForwardRef=T2;je.Fragment=_2;je.Lazy=A2;je.Memo=S2;je.Portal=l_;je.Profiler=x2;je.StrictMode=w2;je.Suspense=I2;je.SuspenseList=b2;je.isAsyncMode=function(){return!1};je.isConcurrentMode=function(){return!1};je.isContextConsumer=function(t){return Rr(t)===C2};je.isContextProvider=function(t){return Rr(t)===E2};je.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===a_};je.isForwardRef=function(t){return Rr(t)===T2};je.isFragment=function(t){return Rr(t)===_2};je.isLazy=function(t){return Rr(t)===A2};je.isMemo=function(t){return Rr(t)===S2};je.isPortal=function(t){return Rr(t)===l_};je.isProfiler=function(t){return Rr(t)===x2};je.isStrictMode=function(t){return Rr(t)===w2};je.isSuspense=function(t){return Rr(t)===I2};je.isSuspenseList=function(t){return Rr(t)===b2};je.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===_2||t===x2||t===w2||t===I2||t===b2||t===DW||typeof t=="object"&&t!==null&&(t.$$typeof===A2||t.$$typeof===S2||t.$$typeof===E2||t.$$typeof===C2||t.$$typeof===T2||t.$$typeof===bb||t.getModuleId!==void 0)};je.typeOf=Rr;Ib.exports=je;var dx=Ib.exports;const jW=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function Sb(t){const e=`${t}`.match(jW);return e&&e[1]||""}function Ab(t,e=""){return t.displayName||t.name||Sb(t)||e}function hx(t,e,n){const r=Ab(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function $W(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return Ab(t,"Component");if(typeof t=="object")switch(t.$$typeof){case dx.ForwardRef:return hx(t,t.render,"ForwardRef");case dx.Memo:return hx(t,t.type,"memo");default:return}}}const FW=Object.freeze(Object.defineProperty({__proto__:null,default:$W,getFunctionName:Sb},Symbol.toStringTag,{value:"Module"}));function c_(t,e){const n=G({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=G({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const s=t[r]||{},i=e[r];n[r]={},!i||!Object.keys(i)?n[r]=s:!s||!Object.keys(s)?n[r]=i:(n[r]=G({},i),Object.keys(s).forEach(o=>{n[r][o]=c_(s[o],i[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function UW(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:c_(e.components[n].defaultProps,r)}function VW({props:t,name:e,defaultTheme:n,themeId:r}){let s=Cb(n);return r&&(s=s[r]||s),UW({theme:s,name:e,props:t})}const zW=typeof window<"u"?E.useLayoutEffect:E.useEffect,BW=zW;function WW(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const HW=Object.freeze(Object.defineProperty({__proto__:null,default:WW},Symbol.toStringTag,{value:"Module"}));function qW(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function qd(t){const e=E.useRef(t);return BW(()=>{e.current=t}),E.useRef((...n)=>(0,e.current)(...n)).current}function fx(...t){return E.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{qW(n,e)})},t)}const px={};function GW(t,e){const n=E.useRef(px);return n.current===px&&(n.current=t(e)),n}const KW=[];function QW(t){E.useEffect(t,KW)}class R2{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new R2}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function YW(){const t=GW(R2.create).current;return QW(t.disposeEffect),t}let k2=!0,Bg=!1;const XW=new R2,JW={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ZW(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&JW[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function eH(t){t.metaKey||t.altKey||t.ctrlKey||(k2=!0)}function Up(){k2=!1}function tH(){this.visibilityState==="hidden"&&Bg&&(k2=!0)}function nH(t){t.addEventListener("keydown",eH,!0),t.addEventListener("mousedown",Up,!0),t.addEventListener("pointerdown",Up,!0),t.addEventListener("touchstart",Up,!0),t.addEventListener("visibilitychange",tH,!0)}function rH(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return k2||ZW(e)}function sH(){const t=E.useCallback(s=>{s!=null&&nH(s.ownerDocument)},[]),e=E.useRef(!1);function n(){return e.current?(Bg=!0,XW.start(100,()=>{Bg=!1}),e.current=!1,!0):!1}function r(s){return rH(s)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function qr(t,e,n=void 0){const r={};return Object.keys(t).forEach(s=>{r[s]=t[s].reduce((i,o)=>{if(o){const a=e(o);a!==""&&i.push(a),n&&n[o]&&i.push(n[o])}return i},[]).join(" ")}),r}function iH(t,e){return G({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Tt={},Rb={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Rb);var kb=Rb.exports;const oH=Oi(xz),aH=Oi(HW);var Nb=kb;Object.defineProperty(Tt,"__esModule",{value:!0});var di=Tt.alpha=Ob;Tt.blend=wH;Tt.colorChannel=void 0;var lH=Tt.darken=d_;Tt.decomposeColor=Tr;Tt.emphasize=Db;var cH=Tt.getContrastRatio=mH;Tt.getLuminance=R0;Tt.hexToRgb=Pb;Tt.hslToRgb=Mb;var uH=Tt.lighten=h_;Tt.private_safeAlpha=gH;Tt.private_safeColorChannel=void 0;Tt.private_safeDarken=yH;Tt.private_safeEmphasize=_H;Tt.private_safeLighten=vH;Tt.recomposeColor=Nl;Tt.rgbToHex=pH;var mx=Nb(oH),dH=Nb(aH);function u_(t,e=0,n=1){return(0,dH.default)(t,e,n)}function Pb(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function hH(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Tr(t){if(t.type)return t;if(t.charAt(0)==="#")return Tr(Pb(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,mx.default)(9,t));let r=t.substring(e+1,t.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error((0,mx.default)(10,s))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:s}}const Lb=t=>{const e=Tr(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Tt.colorChannel=Lb;const fH=(t,e)=>{try{return Lb(t)}catch{return t}};Tt.private_safeColorChannel=fH;function Nl(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((s,i)=>i<3?parseInt(s,10):s):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function pH(t){if(t.indexOf("#")===0)return t;const{values:e}=Tr(t);return`#${e.map((n,r)=>hH(r===3?Math.round(255*n):n)).join("")}`}function Mb(t){t=Tr(t);const{values:e}=t,n=e[0],r=e[1]/100,s=e[2]/100,i=r*Math.min(s,1-s),o=(c,u=(c+n/30)%12)=>s-i*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Nl({type:a,values:l})}function R0(t){t=Tr(t);let e=t.type==="hsl"||t.type==="hsla"?Tr(Mb(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function mH(t,e){const n=R0(t),r=R0(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Ob(t,e){return t=Tr(t),e=u_(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Nl(t)}function gH(t,e,n){try{return Ob(t,e)}catch{return t}}function d_(t,e){if(t=Tr(t),e=u_(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Nl(t)}function yH(t,e,n){try{return d_(t,e)}catch{return t}}function h_(t,e){if(t=Tr(t),e=u_(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Nl(t)}function vH(t,e,n){try{return h_(t,e)}catch{return t}}function Db(t,e=.15){return R0(t)>.5?d_(t,e):h_(t,e)}function _H(t,e,n){try{return Db(t,e)}catch{return t}}function wH(t,e,n,r=1){const s=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),i=Tr(t),o=Tr(e),a=[s(i.values[0],o.values[0]),s(i.values[1],o.values[1]),s(i.values[2],o.values[2])];return Nl({type:"rgb",values:a})}const xH=["mode","contrastThreshold","tonalOffset"],gx={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Iu.white,default:Iu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Vp={text:{primary:Iu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Iu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function yx(t,e,n,r){const s=r.light||r,i=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=uH(t.main,s):e==="dark"&&(t.dark=lH(t.main,i)))}function EH(t="light"){return t==="dark"?{main:ta[200],light:ta[50],dark:ta[400]}:{main:ta[700],light:ta[400],dark:ta[800]}}function CH(t="light"){return t==="dark"?{main:ea[200],light:ea[50],dark:ea[400]}:{main:ea[500],light:ea[300],dark:ea[700]}}function TH(t="light"){return t==="dark"?{main:Zo[500],light:Zo[300],dark:Zo[700]}:{main:Zo[700],light:Zo[400],dark:Zo[800]}}function IH(t="light"){return t==="dark"?{main:na[400],light:na[300],dark:na[700]}:{main:na[700],light:na[500],dark:na[900]}}function bH(t="light"){return t==="dark"?{main:ra[400],light:ra[300],dark:ra[700]}:{main:ra[800],light:ra[500],dark:ra[900]}}function SH(t="light"){return t==="dark"?{main:Jl[400],light:Jl[300],dark:Jl[700]}:{main:"#ed6c02",light:Jl[500],dark:Jl[900]}}function AH(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,s=Mt(t,xH),i=t.primary||EH(e),o=t.secondary||CH(e),a=t.error||TH(e),l=t.info||IH(e),c=t.success||bH(e),u=t.warning||SH(e);function d(y){return cH(y,Vp.text.primary)>=n?Vp.text.primary:gx.text.primary}const h=({color:y,name:v,mainShade:m=500,lightShade:_=300,darkShade:w=700})=>{if(y=G({},y),!y.main&&y[m]&&(y.main=y[m]),!y.hasOwnProperty("main"))throw new Error(bu(11,v?` (${v})`:"",m));if(typeof y.main!="string")throw new Error(bu(12,v?` (${v})`:"",JSON.stringify(y.main)));return yx(y,"light",_,r),yx(y,"dark",w,r),y.contrastText||(y.contrastText=d(y.main)),y},p={dark:Vp,light:gx};return hs(G({common:G({},Iu),mode:e,primary:h({color:i,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:wz,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[e]),s)}const RH=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function kH(t){return Math.round(t*1e5)/1e5}const vx={textTransform:"uppercase"},_x='"Roboto", "Helvetica", "Arial", sans-serif';function NH(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=_x,fontSize:s=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,h=Mt(n,RH),p=s/14,g=d||(m=>`${m/c*p}rem`),y=(m,_,w,T,R)=>G({fontFamily:r,fontWeight:m,fontSize:g(_),lineHeight:w},r===_x?{letterSpacing:`${kH(T/_)}em`}:{},R,u),v={h1:y(i,96,1.167,-1.5),h2:y(i,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(a,14,1.75,.4,vx),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,vx),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return hs(G({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:s,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},v),h,{clone:!1})}const PH=.2,LH=.14,MH=.12;function st(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${PH})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${LH})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${MH})`].join(",")}const OH=["none",st(0,2,1,-1,0,1,1,0,0,1,3,0),st(0,3,1,-2,0,2,2,0,0,1,5,0),st(0,3,3,-2,0,3,4,0,0,1,8,0),st(0,2,4,-1,0,4,5,0,0,1,10,0),st(0,3,5,-1,0,5,8,0,0,1,14,0),st(0,3,5,-1,0,6,10,0,0,1,18,0),st(0,4,5,-2,0,7,10,1,0,2,16,1),st(0,5,5,-3,0,8,10,1,0,3,14,2),st(0,5,6,-3,0,9,12,1,0,3,16,2),st(0,6,6,-3,0,10,14,1,0,4,18,3),st(0,6,7,-4,0,11,15,1,0,4,20,3),st(0,7,8,-4,0,12,17,2,0,5,22,4),st(0,7,8,-4,0,13,19,2,0,5,24,4),st(0,7,9,-4,0,14,21,2,0,5,26,4),st(0,8,9,-5,0,15,22,2,0,6,28,5),st(0,8,10,-5,0,16,24,2,0,6,30,5),st(0,8,11,-5,0,17,26,2,0,6,32,5),st(0,9,11,-5,0,18,28,2,0,7,34,6),st(0,9,12,-6,0,19,29,2,0,7,36,6),st(0,10,13,-6,0,20,31,3,0,8,38,7),st(0,10,13,-6,0,21,33,3,0,8,40,7),st(0,10,14,-6,0,22,35,3,0,8,42,7),st(0,11,14,-7,0,23,36,3,0,9,44,8),st(0,11,15,-7,0,24,38,3,0,9,46,8)],DH=OH,jH=["duration","easing","delay"],$H={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},FH={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function wx(t){return`${Math.round(t)}ms`}function UH(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function VH(t){const e=G({},$H,t.easing),n=G({},FH,t.duration);return G({getAutoHeightDuration:UH,create:(s=["all"],i={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=i;return Mt(i,jH),(Array.isArray(s)?s:[s]).map(c=>`${c} ${typeof o=="string"?o:wx(o)} ${a} ${typeof l=="string"?l:wx(l)}`).join(",")}},t,{easing:e,duration:n})}const zH={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},BH=zH,WH=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function HH(t={},...e){const{mixins:n={},palette:r={},transitions:s={},typography:i={}}=t,o=Mt(t,WH);if(t.vars)throw new Error(bu(18));const a=AH(r),l=i_(t);let c=hs(l,{mixins:iH(l.breakpoints,n),palette:a,shadows:DH.slice(),typography:NH(a,i),transitions:VH(s),zIndex:G({},BH)});return c=hs(c,o),c=e.reduce((u,d)=>hs(u,d),c),c.unstable_sxConfig=G({},fd,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return s_({sx:d,theme:this})},c}const qH=HH(),f_=qH;function GH(){const t=Cb(f_);return t[qv]||t}function kr({props:t,name:e}){return VW({props:t,name:e,defaultTheme:f_,themeId:qv})}var pd={},zp={exports:{}},xx;function KH(){return xx||(xx=1,function(t){function e(n,r){if(n==null)return{};var s={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(r.indexOf(i)>=0)continue;s[i]=n[i]}return s}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(zp)),zp.exports}const QH=Oi(SB),YH=Oi(AB),XH=Oi(DB),JH=Oi(FW),ZH=Oi(TW),eq=Oi(kW);var Pl=kb;Object.defineProperty(pd,"__esModule",{value:!0});var tq=pd.default=pq;pd.shouldForwardProp=_h;pd.systemDefaultTheme=void 0;var lr=Pl(pb()),Wg=Pl(KH()),Ex=lq(QH),nq=YH;Pl(XH);Pl(JH);var rq=Pl(ZH),sq=Pl(eq);const iq=["ownerState"],oq=["variants"],aq=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function jb(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(jb=function(r){return r?n:e})(t)}function lq(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=jb(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var o=s?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function cq(t){return Object.keys(t).length===0}function uq(t){return typeof t=="string"&&t.charCodeAt(0)>96}function _h(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const dq=pd.systemDefaultTheme=(0,rq.default)(),hq=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Gd({defaultTheme:t,theme:e,themeId:n}){return cq(e)?t:e[n]||e}function fq(t){return t?(e,n)=>n[t]:null}function wh(t,e){let{ownerState:n}=e,r=(0,Wg.default)(e,iq);const s=typeof t=="function"?t((0,lr.default)({ownerState:n},r)):t;if(Array.isArray(s))return s.flatMap(i=>wh(i,(0,lr.default)({ownerState:n},r)));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:i=[]}=s;let a=(0,Wg.default)(s,oq);return i.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,lr.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,lr.default)({ownerState:n},r,n)):l.style))}),a}return s}function pq(t={}){const{themeId:e,defaultTheme:n=dq,rootShouldForwardProp:r=_h,slotShouldForwardProp:s=_h}=t,i=o=>(0,sq.default)((0,lr.default)({},o,{theme:Gd((0,lr.default)({},o,{defaultTheme:n,themeId:e}))}));return i.__mui_systemSx=!0,(o,a={})=>{(0,Ex.internal_processStyles)(o,R=>R.filter(I=>!(I!=null&&I.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=fq(hq(c))}=a,p=(0,Wg.default)(a,aq),g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,y=d||!1;let v,m=_h;c==="Root"||c==="root"?m=r:c?m=s:uq(o)&&(m=void 0);const _=(0,Ex.default)(o,(0,lr.default)({shouldForwardProp:m,label:v},p)),w=R=>typeof R=="function"&&R.__emotion_real!==R||(0,nq.isPlainObject)(R)?I=>wh(R,(0,lr.default)({},I,{theme:Gd({theme:I.theme,defaultTheme:n,themeId:e})})):R,T=(R,...I)=>{let b=w(R);const x=I?I.map(w):[];l&&h&&x.push(N=>{const P=Gd((0,lr.default)({},N,{defaultTheme:n,themeId:e}));if(!P.components||!P.components[l]||!P.components[l].styleOverrides)return null;const M=P.components[l].styleOverrides,L={};return Object.entries(M).forEach(([j,k])=>{L[j]=wh(k,(0,lr.default)({},N,{theme:P}))}),h(N,L)}),l&&!g&&x.push(N=>{var P;const M=Gd((0,lr.default)({},N,{defaultTheme:n,themeId:e})),L=M==null||(P=M.components)==null||(P=P[l])==null?void 0:P.variants;return wh({variants:L},(0,lr.default)({},N,{theme:M}))}),y||x.push(i);const C=x.length-I.length;if(Array.isArray(R)&&C>0){const N=new Array(C).fill("");b=[...R,...N],b.raw=[...R.raw,...N]}const S=_(b,...x);return o.muiName&&(S.muiName=o.muiName),S};return _.withConfig&&(T.withConfig=_.withConfig),T}}function mq(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const gq=t=>mq(t)&&t!=="classes",$b=gq,yq=tq({themeId:qv,defaultTheme:f_,rootShouldForwardProp:$b}),kn=yq,vq=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},Cx=vq;function Hg(t,e){return Hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Hg(t,e)}function _q(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Hg(t,e)}const Tx=aa.createContext(null);function wq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p_(t,e){var n=function(i){return e&&E.isValidElement(i)?e(i):i},r=Object.create(null);return t&&E.Children.map(t,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function xq(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),s=[];for(var i in t)i in e?s.length&&(r[i]=s,s=[]):s.push(i);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<s.length;o++)a[s[o]]=n(s[o]);return a}function fo(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Eq(t,e){return p_(t.children,function(n){return E.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:fo(n,"appear",t),enter:fo(n,"enter",t),exit:fo(n,"exit",t)})})}function Cq(t,e,n){var r=p_(t.children),s=xq(e,r);return Object.keys(s).forEach(function(i){var o=s[i];if(E.isValidElement(o)){var a=i in e,l=i in r,c=e[i],u=E.isValidElement(c)&&!c.props.in;l&&(!a||u)?s[i]=E.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:fo(o,"exit",t),enter:fo(o,"enter",t)}):!l&&a&&!u?s[i]=E.cloneElement(o,{in:!1}):l&&a&&E.isValidElement(c)&&(s[i]=E.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:fo(o,"exit",t),enter:fo(o,"enter",t)}))}}),s}var Tq=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Iq={component:"div",childFactory:function(e){return e}},m_=function(t){_q(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var o=i.handleExited.bind(wq(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,i){var o=i.children,a=i.handleExited,l=i.firstRender;return{children:l?Eq(s,a):Cq(s,o,a),firstRender:!1}},n.handleExited=function(s,i){var o=p_(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(a){var l=G({},a.children);return delete l[s.key],{children:l}}))},n.render=function(){var s=this.props,i=s.component,o=s.childFactory,a=Mt(s,["component","childFactory"]),l=this.state.contextValue,c=Tq(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,i===null?aa.createElement(Tx.Provider,{value:l},c):aa.createElement(Tx.Provider,{value:l},aa.createElement(i,a,c))},e}(aa.Component);m_.propTypes={};m_.defaultProps=Iq;const bq=m_;function Sq(t){return Sr("MuiPaper",t)}Ar("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Aq=["className","component","elevation","square","variant"],Rq=t=>{const{square:e,elevation:n,variant:r,classes:s}=t,i={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return qr(i,Sq,s)},kq=kn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return G({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&G({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${di("#fff",Cx(e.elevation))}, ${di("#fff",Cx(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),Nq=E.forwardRef(function(e,n){const r=kr({props:e,name:"MuiPaper"}),{className:s,component:i="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,c=Mt(r,Aq),u=G({},r,{component:i,elevation:o,square:a,variant:l}),d=Rq(u);return f.jsx(kq,G({as:i,ownerState:u,className:wt(d.root,s),ref:n},c))}),Fb=Nq;function Pq(t){const{className:e,classes:n,pulsate:r=!1,rippleX:s,rippleY:i,rippleSize:o,in:a,onExited:l,timeout:c}=t,[u,d]=E.useState(!1),h=wt(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+i,left:-(o/2)+s},g=wt(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),E.useEffect(()=>{if(!a&&l!=null){const y=setTimeout(l,c);return()=>{clearTimeout(y)}}},[l,a,c]),f.jsx("span",{className:h,style:p,children:f.jsx("span",{className:g})})}const Lq=Ar("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),cr=Lq,Mq=["center","classes","className"];let N2=t=>t,Ix,bx,Sx,Ax;const qg=550,Oq=80,Dq=d2(Ix||(Ix=N2`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),jq=d2(bx||(bx=N2`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),$q=d2(Sx||(Sx=N2`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Fq=kn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Uq=kn(Pq,{name:"MuiTouchRipple",slot:"Ripple"})(Ax||(Ax=N2`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),cr.rippleVisible,Dq,qg,({theme:t})=>t.transitions.easing.easeInOut,cr.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,cr.child,cr.childLeaving,jq,qg,({theme:t})=>t.transitions.easing.easeInOut,cr.childPulsate,$q,({theme:t})=>t.transitions.easing.easeInOut),Vq=E.forwardRef(function(e,n){const r=kr({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:i={},className:o}=r,a=Mt(r,Mq),[l,c]=E.useState([]),u=E.useRef(0),d=E.useRef(null);E.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=E.useRef(!1),p=YW(),g=E.useRef(null),y=E.useRef(null),v=E.useCallback(T=>{const{pulsate:R,rippleX:I,rippleY:b,rippleSize:x,cb:C}=T;c(S=>[...S,f.jsx(Uq,{classes:{ripple:wt(i.ripple,cr.ripple),rippleVisible:wt(i.rippleVisible,cr.rippleVisible),ripplePulsate:wt(i.ripplePulsate,cr.ripplePulsate),child:wt(i.child,cr.child),childLeaving:wt(i.childLeaving,cr.childLeaving),childPulsate:wt(i.childPulsate,cr.childPulsate)},timeout:qg,pulsate:R,rippleX:I,rippleY:b,rippleSize:x},u.current)]),u.current+=1,d.current=C},[i]),m=E.useCallback((T={},R={},I=()=>{})=>{const{pulsate:b=!1,center:x=s||R.pulsate,fakeElement:C=!1}=R;if((T==null?void 0:T.type)==="mousedown"&&h.current){h.current=!1;return}(T==null?void 0:T.type)==="touchstart"&&(h.current=!0);const S=C?null:y.current,N=S?S.getBoundingClientRect():{width:0,height:0,left:0,top:0};let P,M,L;if(x||T===void 0||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)P=Math.round(N.width/2),M=Math.round(N.height/2);else{const{clientX:j,clientY:k}=T.touches&&T.touches.length>0?T.touches[0]:T;P=Math.round(j-N.left),M=Math.round(k-N.top)}if(x)L=Math.sqrt((2*N.width**2+N.height**2)/3),L%2===0&&(L+=1);else{const j=Math.max(Math.abs((S?S.clientWidth:0)-P),P)*2+2,k=Math.max(Math.abs((S?S.clientHeight:0)-M),M)*2+2;L=Math.sqrt(j**2+k**2)}T!=null&&T.touches?g.current===null&&(g.current=()=>{v({pulsate:b,rippleX:P,rippleY:M,rippleSize:L,cb:I})},p.start(Oq,()=>{g.current&&(g.current(),g.current=null)})):v({pulsate:b,rippleX:P,rippleY:M,rippleSize:L,cb:I})},[s,v,p]),_=E.useCallback(()=>{m({},{pulsate:!0})},[m]),w=E.useCallback((T,R)=>{if(p.clear(),(T==null?void 0:T.type)==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{w(T,R)});return}g.current=null,c(I=>I.length>0?I.slice(1):I),d.current=R},[p]);return E.useImperativeHandle(n,()=>({pulsate:_,start:m,stop:w}),[_,m,w]),f.jsx(Fq,G({className:wt(cr.root,i.root,o),ref:y},a,{children:f.jsx(bq,{component:null,exit:!0,children:l})}))}),zq=Vq;function Bq(t){return Sr("MuiButtonBase",t)}const Wq=Ar("MuiButtonBase",["root","disabled","focusVisible"]),Hq=Wq,qq=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Gq=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:s}=t,o=qr({root:["root",e&&"disabled",n&&"focusVisible"]},Bq,s);return n&&r&&(o.root+=` ${r}`),o},Kq=kn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Hq.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Qq=E.forwardRef(function(e,n){const r=kr({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:i=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:g,onClick:y,onContextMenu:v,onDragLeave:m,onFocus:_,onFocusVisible:w,onKeyDown:T,onKeyUp:R,onMouseDown:I,onMouseLeave:b,onMouseUp:x,onTouchEnd:C,onTouchMove:S,onTouchStart:N,tabIndex:P=0,TouchRippleProps:M,touchRippleRef:L,type:j}=r,k=Mt(r,qq),A=E.useRef(null),D=E.useRef(null),O=fx(D,L),{isFocusVisibleRef:$,onFocus:H,onBlur:z,ref:K}=sH(),[V,F]=E.useState(!1);c&&V&&F(!1),E.useImperativeHandle(s,()=>({focusVisible:()=>{F(!0),A.current.focus()}}),[]);const[te,pe]=E.useState(!1);E.useEffect(()=>{pe(!0)},[]);const ve=te&&!u&&!c;E.useEffect(()=>{V&&h&&!u&&te&&D.current.pulsate()},[u,h,V,te]);function ie(se,re,fe=d){return qd(Le=>(re&&re(Le),!fe&&D.current&&D.current[se](Le),!0))}const be=ie("start",I),Ne=ie("stop",v),He=ie("stop",m),Ue=ie("stop",x),Qt=ie("stop",se=>{V&&se.preventDefault(),b&&b(se)}),Ve=ie("start",N),Ot=ie("stop",C),$e=ie("stop",S),Pe=ie("stop",se=>{z(se),$.current===!1&&F(!1),g&&g(se)},!1),gt=qd(se=>{A.current||(A.current=se.currentTarget),H(se),$.current===!0&&(F(!0),w&&w(se)),_&&_(se)}),yt=()=>{const se=A.current;return l&&l!=="button"&&!(se.tagName==="A"&&se.href)},qe=E.useRef(!1),Yt=qd(se=>{h&&!qe.current&&V&&D.current&&se.key===" "&&(qe.current=!0,D.current.stop(se,()=>{D.current.start(se)})),se.target===se.currentTarget&&yt()&&se.key===" "&&se.preventDefault(),T&&T(se),se.target===se.currentTarget&&yt()&&se.key==="Enter"&&!c&&(se.preventDefault(),y&&y(se))}),rt=qd(se=>{h&&se.key===" "&&D.current&&V&&!se.defaultPrevented&&(qe.current=!1,D.current.stop(se,()=>{D.current.pulsate(se)})),R&&R(se),y&&se.target===se.currentTarget&&yt()&&se.key===" "&&!se.defaultPrevented&&y(se)});let Ie=l;Ie==="button"&&(k.href||k.to)&&(Ie=p);const vt={};Ie==="button"?(vt.type=j===void 0?"button":j,vt.disabled=c):(!k.href&&!k.to&&(vt.role="button"),c&&(vt["aria-disabled"]=c));const Nn=fx(n,K,A),_s=G({},r,{centerRipple:i,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:P,focusVisible:V}),_t=Gq(_s);return f.jsxs(Kq,G({as:Ie,className:wt(_t.root,a),ownerState:_s,onBlur:Pe,onClick:y,onContextMenu:Ne,onFocus:gt,onKeyDown:Yt,onKeyUp:rt,onMouseDown:be,onMouseLeave:Qt,onMouseUp:Ue,onDragLeave:He,onTouchEnd:Ot,onTouchMove:$e,onTouchStart:Ve,ref:Nn,tabIndex:c?-1:P,type:j},vt,k,{children:[o,ve?f.jsx(zq,G({ref:O,center:i},M)):null]}))}),Ub=Qq;function Yq(t){return Sr("MuiIconButton",t)}const Xq=Ar("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Jq=Xq,Zq=["edge","children","className","color","disabled","disableFocusRipple","size"],eG=t=>{const{classes:e,disabled:n,color:r,edge:s,size:i}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${Ke(r)}`,s&&`edge${Ke(s)}`,`size${Ke(i)}`]};return qr(o,Yq,e)},tG=kn(Ub,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${Ke(n.color)}`],n.edge&&e[`edge${Ke(n.edge)}`],e[`size${Ke(n.size)}`]]}})(({theme:t,ownerState:e})=>G({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:di(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return G({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&G({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":G({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:di(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${Jq.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),nG=E.forwardRef(function(e,n){const r=kr({props:e,name:"MuiIconButton"}),{edge:s=!1,children:i,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=Mt(r,Zq),h=G({},r,{edge:s,color:a,disabled:l,disableFocusRipple:c,size:u}),p=eG(h);return f.jsx(tG,G({className:wt(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:h,children:i}))}),P2=nG;function rG(t){return Sr("MuiTypography",t)}Ar("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const sG=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],iG=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:s,variant:i,classes:o}=t,a={root:["root",i,t.align!=="inherit"&&`align${Ke(e)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return qr(a,rG,o)},oG=kn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Ke(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>G({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),Rx={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},aG={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},lG=t=>aG[t]||t,cG=E.forwardRef(function(e,n){const r=kr({props:e,name:"MuiTypography"}),s=lG(r.color),i=o_(G({},r,{color:s})),{align:o="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:h="body1",variantMapping:p=Rx}=i,g=Mt(i,sG),y=G({},i,{align:o,color:s,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:h,variantMapping:p}),v=l||(d?"p":p[h]||Rx[h])||"span",m=iG(y);return f.jsx(oG,G({as:v,ref:n,ownerState:y,className:wt(m.root,a)},g))}),to=cG;function uG(t){return Sr("MuiAppBar",t)}Ar("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const dG=["className","color","enableColorOnDark","position"],hG=t=>{const{color:e,position:n,classes:r}=t,s={root:["root",`color${Ke(e)}`,`position${Ke(n)}`]};return qr(s,uG,r)},Kd=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,fG=kn(Fb,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Ke(n.position)}`],e[`color${Ke(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return G({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&G({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&G({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&G({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:Kd(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:Kd(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:Kd(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:Kd(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),pG=E.forwardRef(function(e,n){const r=kr({props:e,name:"MuiAppBar"}),{className:s,color:i="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=Mt(r,dG),c=G({},r,{color:i,position:a,enableColorOnDark:o}),u=hG(c);return f.jsx(fG,G({square:!0,component:"header",ownerState:c,elevation:4,className:wt(u.root,s,a==="fixed"&&"mui-fixed"),ref:n},l))}),mG=pG;function gG(t){return Sr("MuiButton",t)}const yG=Ar("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Qd=yG,vG=E.createContext({}),_G=vG,wG=E.createContext(void 0),xG=wG,EG=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],CG=t=>{const{color:e,disableElevation:n,fullWidth:r,size:s,variant:i,classes:o}=t,a={root:["root",i,`${i}${Ke(e)}`,`size${Ke(s)}`,`${i}Size${Ke(s)}`,`color${Ke(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Ke(s)}`],endIcon:["icon","endIcon",`iconSize${Ke(s)}`]},l=qr(a,gG,o);return G({},o,l)},Vb=t=>G({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),TG=kn(Ub,{shouldForwardProp:t=>$b(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ke(n.color)}`],e[`size${Ke(n.size)}`],e[`${n.variant}Size${Ke(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const s=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],i=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return G({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":G({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:di(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:di(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:di(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":G({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Qd.focusVisible}`]:G({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Qd.disabled}`]:G({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${di(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:s,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Qd.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Qd.disabled}`]:{boxShadow:"none"}}),IG=kn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${Ke(n.size)}`]]}})(({ownerState:t})=>G({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},Vb(t))),bG=kn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${Ke(n.size)}`]]}})(({ownerState:t})=>G({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},Vb(t))),SG=E.forwardRef(function(e,n){const r=E.useContext(_G),s=E.useContext(xG),i=c_(r,e),o=kr({props:i,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:g,focusVisibleClassName:y,fullWidth:v=!1,size:m="medium",startIcon:_,type:w,variant:T="text"}=o,R=Mt(o,EG),I=G({},o,{color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:v,size:m,type:w,variant:T}),b=CG(I),x=_&&f.jsx(IG,{className:b.startIcon,ownerState:I,children:_}),C=g&&f.jsx(bG,{className:b.endIcon,ownerState:I,children:g}),S=s||"";return f.jsxs(TG,G({ownerState:I,className:wt(r.className,b.root,u,S),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:wt(b.focusVisible,y),ref:n,type:w},R,{classes:b,children:[x,a,C]}))}),fl=SG;function AG(t){return Sr("MuiCard",t)}Ar("MuiCard",["root"]);const RG=["className","raised"],kG=t=>{const{classes:e}=t;return qr({root:["root"]},AG,e)},NG=kn(Fb,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),PG=E.forwardRef(function(e,n){const r=kr({props:e,name:"MuiCard"}),{className:s,raised:i=!1}=r,o=Mt(r,RG),a=G({},r,{raised:i}),l=kG(a);return f.jsx(NG,G({className:wt(l.root,s),elevation:i?8:void 0,ref:n,ownerState:a},o))}),Gg=PG;function LG(t){return Sr("MuiCardActions",t)}Ar("MuiCardActions",["root","spacing"]);const MG=["disableSpacing","className"],OG=t=>{const{classes:e,disableSpacing:n}=t;return qr({root:["root",!n&&"spacing"]},LG,e)},DG=kn("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>G({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),jG=E.forwardRef(function(e,n){const r=kr({props:e,name:"MuiCardActions"}),{disableSpacing:s=!1,className:i}=r,o=Mt(r,MG),a=G({},r,{disableSpacing:s}),l=OG(a);return f.jsx(DG,G({className:wt(l.root,i),ownerState:a,ref:n},o))}),$G=jG;function FG(t){return Sr("MuiCardMedia",t)}Ar("MuiCardMedia",["root","media","img"]);const UG=["children","className","component","image","src","style"],VG=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return qr({root:["root",n&&"media",r&&"img"]},FG,e)},zG=kn("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:s}=n;return[e.root,r&&e.media,s&&e.img]}})(({ownerState:t})=>G({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),BG=["video","audio","picture","iframe","img"],WG=["picture","img"],HG=E.forwardRef(function(e,n){const r=kr({props:e,name:"MuiCardMedia"}),{children:s,className:i,component:o="div",image:a,src:l,style:c}=r,u=Mt(r,UG),d=BG.indexOf(o)!==-1,h=!d&&a?G({backgroundImage:`url("${a}")`},c):c,p=G({},r,{component:o,isMediaComponent:d,isImageComponent:WG.indexOf(o)!==-1}),g=VG(p);return f.jsx(zG,G({className:wt(g.root,i),as:o,role:!d&&a?"img":void 0,ref:n,style:h,ownerState:p,src:d?a||l:void 0},u,{children:s}))}),qG=HG,GG=E.createContext(),kx=GG;function KG(t){return Sr("MuiGrid",t)}const QG=[0,1,2,3,4,5,6,7,8,9,10],YG=["column-reverse","column","row-reverse","row"],XG=["nowrap","wrap-reverse","wrap"],ec=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],ku=Ar("MuiGrid",["root","container","item","zeroMinWidth",...QG.map(t=>`spacing-xs-${t}`),...YG.map(t=>`direction-xs-${t}`),...XG.map(t=>`wrap-xs-${t}`),...ec.map(t=>`grid-xs-${t}`),...ec.map(t=>`grid-sm-${t}`),...ec.map(t=>`grid-md-${t}`),...ec.map(t=>`grid-lg-${t}`),...ec.map(t=>`grid-xl-${t}`)]),JG=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Ba(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function ZG({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,s)=>{let i={};if(e[s]&&(n=e[s]),!n)return r;if(n===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=h2({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[s]:o;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const u=t.spacing(e.columnSpacing);if(u!=="0px"){const d=`calc(${l} + ${Ba(u)})`;c={flexBasis:d,maxWidth:d}}}i=G({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[s]===0?Object.assign(r,i):r[t.breakpoints.up(s)]=i,r},{})}function eK({theme:t,ownerState:e}){const n=h2({values:e.direction,breakpoints:t.breakpoints.values});return Cr({theme:t},n,r=>{const s={flexDirection:r};return r.indexOf("column")===0&&(s[`& > .${ku.item}`]={maxWidth:"none"}),s})}function zb({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(s=>{n===""&&e[s]!==0&&(n=s)});const r=Object.keys(t).sort((s,i)=>t[s]-t[i]);return r.slice(0,r.indexOf(n))}function tK({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let s={};if(n&&r!==0){const i=h2({values:r,breakpoints:t.breakpoints.values});let o;typeof i=="object"&&(o=zb({breakpoints:t.breakpoints.values,values:i})),s=Cr({theme:t},i,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{marginTop:`-${Ba(u)}`,[`& > .${ku.item}`]:{paddingTop:Ba(u)}}:(c=o)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${ku.item}`]:{paddingTop:0}}})}return s}function nK({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let s={};if(n&&r!==0){const i=h2({values:r,breakpoints:t.breakpoints.values});let o;typeof i=="object"&&(o=zb({breakpoints:t.breakpoints.values,values:i})),s=Cr({theme:t},i,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{width:`calc(100% + ${Ba(u)})`,marginLeft:`-${Ba(u)}`,[`& > .${ku.item}`]:{paddingLeft:Ba(u)}}:(c=o)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${ku.item}`]:{paddingLeft:0}}})}return s}function rK(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(s=>{const i=t[s];Number(i)>0&&r.push(n[`spacing-${s}-${String(i)}`])}),r}const sK=kn("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:s,item:i,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=rK(o,c,e));const d=[];return c.forEach(h=>{const p=n[h];p&&d.push(e[`grid-${h}-${String(p)}`])}),[e.root,r&&e.container,i&&e.item,l&&e.zeroMinWidth,...u,s!=="row"&&e[`direction-xs-${String(s)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:t})=>G({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),eK,tK,nK,ZG);function iK(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const s=t[r];if(Number(s)>0){const i=`spacing-${r}-${String(s)}`;n.push(i)}}),n}const oK=t=>{const{classes:e,container:n,direction:r,item:s,spacing:i,wrap:o,zeroMinWidth:a,breakpoints:l}=t;let c=[];n&&(c=iK(i,l));const u=[];l.forEach(h=>{const p=t[h];p&&u.push(`grid-${h}-${String(p)}`)});const d={root:["root",n&&"container",s&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...u]};return qr(d,KG,e)},aK=E.forwardRef(function(e,n){const r=kr({props:e,name:"MuiGrid"}),{breakpoints:s}=GH(),i=o_(r),{className:o,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:h=!1,rowSpacing:p,spacing:g=0,wrap:y="wrap",zeroMinWidth:v=!1}=i,m=Mt(i,JG),_=p||g,w=l||g,T=E.useContext(kx),R=u?a||12:T,I={},b=G({},m);s.keys.forEach(S=>{m[S]!=null&&(I[S]=m[S],delete b[S])});const x=G({},i,{columns:R,container:u,direction:d,item:h,rowSpacing:_,columnSpacing:w,wrap:y,zeroMinWidth:v,spacing:g},I,{breakpoints:s.keys}),C=oK(x);return f.jsx(kx.Provider,{value:R,children:f.jsx(sK,G({ownerState:x,className:wt(C.root,o),as:c,ref:n},b))})}),Wa=aK;function lK(t){return Sr("MuiToolbar",t)}Ar("MuiToolbar",["root","gutters","regular","dense"]);const cK=["className","component","disableGutters","variant"],uK=t=>{const{classes:e,disableGutters:n,variant:r}=t;return qr({root:["root",!n&&"gutters",r]},lK,e)},dK=kn("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>G({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),hK=E.forwardRef(function(e,n){const r=kr({props:e,name:"MuiToolbar"}),{className:s,component:i="div",disableGutters:o=!1,variant:a="regular"}=r,l=Mt(r,cK),c=G({},r,{component:i,disableGutters:o,variant:a}),u=uK(c);return f.jsx(dK,G({as:i,className:wt(u.root,s),ref:n,ownerState:c},l))}),fK=hK,pK=({data:t})=>{const{isMenuOpen:e,setIsMenuOpen:n,homeActive:r,historyActive:s,helpActive:i,notificationActive:o,chatroomActive:a,adminActive:l}=t,c=E.useRef(null),{theme:u,userData:d}=E.useContext(ee),h=[{text:"Home",image:"home",path:"/app/posts",active:r,clickFn:()=>n(!1)},{text:"History",image:"history",path:"/app/history",active:s,clickFn:()=>n(!1)},{text:"Help",image:"help",path:"/app/help",active:i,clickFn:()=>n(!1)},{text:"Notifications",image:"notification",path:"/app/notifications",color:"bg-red-600",active:o,clickFn:()=>n(!1)},{text:"Chat Room",image:"chat",path:"/app/chatroom",color:"bg-red-600",active:a,clickFn:()=>n(!1)},{text:"Admin",image:"admin",path:"/app/admin",active:l,clickFn:()=>n(!1)}],p=["Admin","Notifications"],g=h.filter(y=>d.isAdmin?!0:!p.includes(y.text));return ms(c,n),f.jsx("div",{className:"z-30 transition-all duration-300 fixed right-0 left-0  top-0 bottom-0 bg-black/40",children:f.jsxs("div",{ref:c,className:"relative flex flex-col nbackdrop-blur-sm  justify-between transition-all duration-300 h-full w-5/6 sm:w-3/5 md:w-3/6 lg:w-2/6 shadow-lg shadow-black bg-white text-black",children:[f.jsxs("div",{children:[f.jsx("div",{className:"flex p-2 items-center",children:f.jsxs("div",{className:"font-medium text-md flex-1 flex items-center",children:[f.jsx(P2,{onClick:()=>n(!1),children:f.jsx("img",{className:"w-8",src:ae("close")})}),f.jsx(to,{sx:{fontWeight:"bold"},children:"STAR EDUCATION ACADEMY"})]})}),f.jsx("div",{className:"mr-2",children:g.map(y=>f.jsx(mK,{data:{active:y.active,image:y.image,path:y.path,text:y.text,items:y==null?void 0:y.items,clickFn:y.clickFn,color:y.color}},y.text))})]}),f.jsx(dz,{data:{setIsMenuOpen:n}})]})})},mK=({data:t})=>{const{active:e,image:n,text:r,items:s,path:i,clickFn:o,color:a}=t,l=sr(),{theme:c,currentTest:u}=E.useContext(ee),d=()=>{o&&o()};return f.jsxs("button",{onClick:()=>{l(i),d()},className:`p-2 pl-2 transition-all font-medium rounded-tr-3xl rounded-br-3xl flex relative items-center gap-x-1 w-full  hover:shadow-md 
      ${c==="light"?` ${e?"bg-blue-500/70":"hover:bg-slate-200/70"}`:` ${e?"bg-blue-500/70":"hover:bg-slate-100"}`}
      `,children:[f.jsx("img",{className:`h-9 w-9 p-1 transition-all
        `,src:ae(n)}),f.jsx("div",{children:r}),s>=0&&f.jsx("div",{className:` flex items-center rounded-full justify-center w-6 h-6 text-sm  top-0 -left-1 font-bold text-white ${a||"bg-black"}`,children:s}),u&&r==="Home"&&f.jsxs("div",{className:"text-sm",children:["(Taking ",vs(u.name,45),")"]})]})},gK=()=>{const{headerTitle:t,theme:e,setTheme:n,isLogin:r,setHeaderTitle:s}=E.useContext(ee),[i,o]=E.useState(!1),a=yl(),l=["/app/admin","/app/admin/posts","/app/admin/users","/app/admin/helps","/app/admin/tests"],c=["/app/posts","/app/tests"],u=a.pathname.includes("/app/history"),d=l.includes(a.pathname),h=c.includes(a.pathname),p=a.pathname==="/app/help",g=a.pathname==="/app/settings",y=a.pathname==="/login",v=a.pathname==="/app/notifications",m=a.pathname==="/app/chatroom";if(u)s("History");else if(p)s("Help");else if(d)switch(a.pathname){case"/app/admin":s("Admin");break;case"/app/admin/posts":s("Admin - Posts");break;case"/app/admin/users":s("Admin - Users");break;case"/app/admin/tests":s("Admin - Tests");break;case"/app/admin/help":s("Admin - Help");break}else g?s("Settings"):(y||h)&&s("STAR EDUCATION ACADEMY");return E.useEffect(()=>{Et(i?"hidden":"auto")},[i]),f.jsx(mG,{position:"sticky",sx:{zIndex:"20"},children:f.jsx(fK,{sx:{padding:"5px",backgroundColor:"white"},children:f.jsxs(Wa,{container:!0,justifyContent:"space-between",children:[f.jsxs(Wa,{item:!0,display:"flex",alignItems:"center",children:[r&&f.jsxs(f.Fragment,{children:[f.jsx(P2,{onClick:()=>o(!0),children:f.jsx("img",{className:"w-8",src:ae("menu")})}),i&&f.jsx(pK,{data:{homeActive:h,historyActive:u,helpActive:p,notificationActive:v,chatroomActive:m,adminActive:d,isMenuOpen:i,setIsMenuOpen:o}})]}),f.jsx(to,{sx:{fontWeight:"bold",color:"black"},children:t})]}),f.jsx(Wa,{item:!0,children:f.jsx("div",{className:"flex gap-x-2 items-center",children:f.jsx("img",{className:"size-12 rounded-full",src:"images/sea-logo.jpg"})})})]})})})},Ca=()=>f.jsx("div",{className:"h-0.5 border border-dashed border-gray-200 mb-2 mt-2"}),yK=()=>{var y;const{theme:t,userData:e}=E.useContext(ee),n=0,r=10,[s,i]=E.useState(r),[o,a]=E.useState(!1),[l,c]=E.useState({}),u=(y=l==null?void 0:l.results)==null?void 0:y.slice(n,s),d=`${l==null?void 0:l.testName} - Review your answers`,{resultId:h}=W1(),p=()=>{try{const v=lt(de(Te,"users",e.uid),"history"),m=de(v,h);return er(m,w=>{const T={id:w.id,...w.data()};c(T)})}catch(v){console.log(v.message)}};E.useEffect(()=>{const v=p();return()=>{v()}},[h]),E.useEffect(()=>(Vn(),Vn()),[]);const g=()=>{i(s+r)};return E.useEffect(()=>{var v;s>=((v=l==null?void 0:l.results)==null?void 0:v.length)&&a(!0)},[s]),document.title=d,f.jsxs("div",{className:"p-5",children:[f.jsx(Hr,{}),l?f.jsxs("div",{className:"grid gap-y-5",children:[f.jsx("div",{className:`font-medium text-lg ${t==="light"?"":"text-white"}`,children:d}),u==null?void 0:u.map(v=>{const{id:m,question:_,isTrue:w,answer:T,userAnswer:R}=v;return w?f.jsxs("div",{className:"grid font-padauk gap-y-2",children:[f.jsxs("div",{className:"flex gap-x-3 items-center",children:[f.jsx("div",{className:"bg-green-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:m}),f.jsx("div",{className:`flex-1 ${t==="light"?"":"text-white"}`,children:_})]}),f.jsx("div",{children:f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"text-green-500 font-bold",children:"Correct (your answer)"}),f.jsxs("div",{className:"min-h-12  flex gap-x-3 p-2 border text-green-500 border-green-500 rounded-lg items-center shadow-md shadow-lime-200",children:[f.jsx("img",{className:"w-5 h-5",src:ae("trueIcon")}),f.jsx("div",{children:T})]})]})}),f.jsx(Ca,{})]},`result-${m}`):f.jsxs("div",{className:"grid font-padauk gap-y-2",children:[f.jsxs("div",{className:"flex gap-x-3 items-center",children:[f.jsx("div",{className:"bg-red-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:m}),f.jsx("div",{className:`flex-1 ${t==="light"?"":"text-white"}`,children:_})]}),f.jsxs("div",{className:"grid gap-y-1",children:[f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"text-red-500 font-bold",children:"Incorrect (your answer)"}),f.jsxs("div",{className:"min-h-12 flex gap-x-3 p-2 border text-red-500 border-red-500 rounded-lg items-center shadow-md shadow-red-200",children:[f.jsx("img",{className:"w-5 h-5",src:ae("falseIcon")}),f.jsx("div",{children:R})]})]}),f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"text-green-500 font-bold",children:"Correct"}),f.jsxs("div",{className:" min-h-12  flex gap-x-3 p-2 border text-green-500 shadow-md shadow-lime-200 border-green-500 rounded-lg items-center",children:[f.jsx("img",{className:"w-5 h-5",src:ae("trueIcon")}),f.jsx("div",{children:T})]})]})]}),f.jsx(Ca,{})]},`result-${m}`)}),o?"":f.jsx("div",{className:"flex justify-center",children:f.jsx(Be,{data:{image:"down",text:"See More",clickFn:g}})}),f.jsx("div",{children:f.jsx(XR,{to:`/app/history/${h}`,children:f.jsx(Be,{data:{image:"back",text:"Back to results"}})})})]}):f.jsx(Hv,{text:"Unavailable"})]})},vK=()=>{const{deleteFromHistory:t,theme:e,history:n,setHistory:r,userData:s,historyLastDoc:i,setHistoryLastDoc:o}=E.useContext(ee),a=sr(),[l,c]=E.useState(null),[u,d]=E.useState(!1),[h,p]=E.useState(!1),[g,y]=E.useState(!1),[v,m]=E.useState([]);E.useState(null);const _=()=>{try{const x=lt(de(Te,"users",s.uid),"history");return er(x,S=>{const N=S.docs.map(P=>({id:P.id,...P.data()}));N.length!==0&&r(N)})}catch(x){return console.log(x.message),()=>{}}};E.useEffect(()=>{Vn();const x=_();return()=>{Vn(),x()}},[]);const w=x=>{g||a(`/app/history/${x.id}`)},T=()=>{t(l),c(null),d(!1)},R=()=>{d(!1),c(null)},I=(x,C)=>{x.target.checked?m([...v,C]):m(v.filter(S=>S!==C))},b=()=>{const x=n.filter(C=>!v.includes(C.id));r(x),m([]),p(!1),y(!1)};return f.jsxs("div",{className:"p-5",children:[f.jsx(Hr,{}),h&&f.jsx(bo,{data:{text:`Are you sure to delete ${v.length} ${v.length<=1?"item":"items"} ?`,yesButton:b,noButton:()=>p(!1),setValue:p}}),u&&f.jsx(bo,{data:{text:"Are you sure to delete ?",yesButton:T,noButton:R,setValue:d}}),n.length!==0?f.jsxs("div",{className:"grid gap-y-2  ",children:[f.jsxs("div",{className:"flex items-center gap-x-2 justify-between",children:[f.jsx(Be,{data:{clickFn:()=>{y(!g),m([])},text:g?"Done":"Select"}}),g&&f.jsxs("div",{className:"flex items-center gap-x-2",children:[f.jsxs("div",{className:"font-medium rounded-lg",children:[v.length," ",v.length<=1?"item":"items"," selected"]}),f.jsx(ze,{data:{clickFn:()=>{v.length&&p(!0)},image:"trash"}})]})]}),n.map((x,C)=>f.jsxs("div",{className:`min-h-20 border rounded-md gap-x-3 ${e==="light"?"border-slate-200 shadow-gray-200":"border-slate-500/70 text-white shadow-slate-500"}`,children:[f.jsx("div",{className:`font-medium border-b p-2 rounded-tl-md rounded-tr-md ${e==="light"?"bg-slate-100 border-b-slate-200":"bg-slate-500/70 border-b-slate-400"}`,children:x.testName}),f.jsxs("div",{className:"p-2 flex items-center gap-x-2",children:[g&&f.jsx("input",{checked:v.includes(x.id),onChange:S=>I(S,x.id),className:"form-checkbox rounded-lg border-2 w-6 h-6 border-gray-200 checked:bg-transparent ",type:"checkbox"}),f.jsx("div",{onClick:()=>w(x),className:"flex flex-1 items-center gap-x-3 cursor-pointer",children:f.jsxs("div",{className:"flex-1 sm:flex items-center gap-x-3 ",children:[f.jsxs("div",{className:"",children:["Score: ",x.score," / ",x.results.length," "]}),f.jsxs("div",{className:"",children:["Message: ",vs(x.level,15)]}),f.jsxs("div",{className:" ",children:["Date: ",x.date," (",` ${x.time}`,")"]}),f.jsxs("div",{className:"",children:["Time taken: ",KE(x.timeTaken)||"Unknown"]})]})}),!1]})]},`shadow-md history-item-${x.id}`))]}):f.jsx("p",{children:"No items"})]})},_K=()=>{const[t,e]=E.useState(0),n=()=>{const r=window.innerHeight,s=document.documentElement.scrollHeight,i=window.scrollY,o=s-r,a=i/o*100;e(a)};return E.useEffect(()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}),[]),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-20",children:f.jsx("div",{style:{width:`${t}%`},className:"h-1 bg-blue-600"})})},wK=()=>{const{users:t,theme:e}=E.useContext(ee),n=sr(),r=[{name:"Posts",image:"home",path:"/app/admin/posts"},{name:"Tests",image:"exam",path:"/app/admin/tests"},{name:"Users",image:"user",path:"/app/admin/users"}];return f.jsxs("div",{className:"p-5 grid gap-y-2",children:[f.jsx(Hr,{}),r.map(s=>f.jsxs("button",{onClick:()=>{n(s.path)},className:`transition-all flex items-center gap-x-2 border  p-2 rounded-lg hover:shadow-md  hover:font-bold min-h-[70px] ${e==="light"?"border-gray-200 hover:bg-slate-100 hover:shadow-gray-500 ":"border-slate-500/70 hover:bg-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:ae(s.image)}),f.jsx("div",{children:s.name})]},s.name))]})},xK=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ko(t){const n=new Date().getTime()-t,r=Math.floor(n/1e3),s=Math.floor(r/60),i=Math.floor(s/60),o=Math.floor(i/24),a=Math.floor(o/7),l=Math.floor(o/30),c=Math.floor(l/12),u=new Date(t),d=u.getFullYear(),h=u.getMonth(),p=u.getDate(),g=`${xK[h]} ${p}, ${d}`;if(c>0)return g;if(l>0)return`${g}`;if(a>0)return`${g}`;if(o>0)return`${o} ${o===1?"day":"days"} ago`;if(i>0)return`${i} ${i===1?"hour":"hours"} ago`;if(s>0)return`${s} ${s===1?"minute":"minutes"} ago`;if(r>0)return`${r} ${r===1?"second":"seconds"} ago`}const EK=({options:t,moreOptionRef:e,handleClick:n,message:r,chatId:s,isComment:i})=>{const o=[{name:"like",image:"facebookLike"},{name:"love",image:"facebookLove"},{name:"haha",image:"facebookHaha"},{name:"wow",image:"facebookWow"},{name:"sad",image:"facebookSad"},{name:"angry",image:"facebookAngry"}];E.useEffect(()=>(Et("hidden"),()=>{Et("auto")}),[]);const a=async l=>{const c=de(lt(de(lt(de(Te,"chats",s),"messages"),r.id),"reactedBy"),Z.currentUser.uid);await yu(c,{uid:Z.currentUser.uid,reactionType:l})};return f.jsx("div",{className:"z-30 bg-black/50 p-2 fixed bottom-[-8px] top-0 left-[-8px] right-[-8px] flex items-end justify-center",children:f.jsxs("div",{ref:e,className:"h-[40%] w-full bg-slate-200 md:w-[60%]",children:[i?f.jsx("div",{className:"p-2 rounded-md bg-slate-50 pl-4 text-lg font-bold",children:"More options"}):f.jsx("div",{className:" flex gap-x-1 bg-slate-50 rounded-md p-1",children:o.map(l=>f.jsx(P2,{onClick:()=>{n(),a(l.name)},children:f.jsx("img",{className:"w-6",src:ae(l.image)})},l.name))}),f.jsx("div",{className:"grid gap-y-1",children:t.map(l=>{if(l)return f.jsxs("button",{className:"flex items-center gap-x-1 p-2 hover:bg-slate-300",onClick:()=>{l.onClick(),n()},children:[f.jsx("img",{className:"w-6",src:ae(l.icon)}),f.jsx("p",{children:l.text})]},l.text)})})]})})},L2=({options:t,left:e="-left-[102px]",message:n,chatId:r,isComment:s})=>{const[i,o]=E.useState(!1),{theme:a}=E.useContext(ee),l=E.useRef(null);ms(l,o);const c=()=>{o(!0)};return f.jsxs(f.Fragment,{children:[f.jsx("button",{className:`relative rounded-full p-1 ${a==="light"?"bg-slate-100":"bg-slate-500/70"}`,onClick:c,children:f.jsx("img",{className:"w-6",src:ae("moreOption")})}),i&&f.jsx(EK,{handleClick:()=>{o(!1)},moreOptionRef:l,options:t,message:n,chatId:r,isComment:s})]})},CK=["January","February","March","April","May","June","July","August","September","October","November","December"],TK=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Mi(t){const n=new Date().getTime()-t,r=Math.floor(n/1e3),s=Math.floor(r/60),i=Math.floor(s/60),o=Math.floor(i/24),a=Math.floor(o/7),l=Math.floor(o/30),c=Math.floor(l/12),u=new Date(t),d=u.getFullYear(),h=u.getMonth(),p=u.getDate(),g=TK[u.getDay()],y=CK[h],v=`${y} ${p}, ${d}`,m=u.toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0});if(c>0)return`${m} • ${v}`;if(l>0)return`${m} • ${y} ${p}`;if(a>0)return`${g}, ${m} • ${y} ${p}`;if(o>0)return`${g}, ${m}`;if(i>0)return m;if(s>0)return m;if(r>0)return m}function Wr(t,e,n="timestamp",r="older"){var o,a;const s=new Date((o=t[n])!=null&&o.seconds?t[n].seconds*1e3:t[n]),i=new Date((a=e[n])!=null&&a.seconds?e[n].seconds*1e3:e[n]);return r==="older"?s-i:i-s}function tr(t){return t!=null&&t.seconds?t.seconds*1e3:t}const Bb=({post:t,collectionName:e})=>{const{id:n}=t,[r,s]=E.useState([]),[i,o]=E.useState([]),{users:a,theme:l}=E.useContext(ee),[c,u]=E.useState(!1),[d,h]=E.useState(!1),p=e==="posts",g=lt(de(Te,e,n),"comments"),y=lt(de(Te,e,n),"likes"),v=()=>er(y,b=>{const x=b.docs.map(C=>({id:C.id,...C.data()})).sort((C,S)=>Wr(C,S,"timestamp","newer"));s(x)}),m=()=>er(g,b=>{const x=b.docs.map(C=>({id:C.id,...C.data()})).sort((C,S)=>Wr(C,S,"timestamp"));o(x)});E.useEffect(()=>{const I=v(),b=m();return()=>{I(),b()}},[]);const _=()=>{let I=!1;return r.forEach(b=>{var x;b.uid===((x=Z==null?void 0:Z.currentUser)==null?void 0:x.uid)&&(I=!0)}),I},w=async()=>{try{const I=de(y,Z.currentUser.uid),b=_(),x={uid:Z.currentUser.uid,timestamp:Dn()};b?await Ii(I):(await yu(I,x),Wv(["like",p?"post":"test"],p?"description":"testName",p?t.description:t.name))}catch(I){console.log(I.message)}},T=_(),R=()=>{var b;return ir(a,(b=r[0])==null?void 0:b.uid)||null};return f.jsxs("div",{className:"mt-2",children:[f.jsxs("div",{className:"transition-all mb-1 flex justify-between",children:[f.jsx("button",{onClick:()=>{u(!c),h(!1)},className:`transition-all ${l==="light"?`${c?"bg-slate-200":"hover:bg-slate-200"}`:`${c?"bg-slate-500/70":"hover:bg-slate-500/70"}`}  p-1 rounded-lg`,children:R()?f.jsx("span",{children:r.length===1?R().name:`${R().name} and ${r.length-1} others`}):f.jsxs("span",{children:[r.length," ",r.length>1?"likes":"like"]})}),f.jsxs("button",{onClick:()=>{h(!d),u(!1)},className:`transition-all ${l==="light"?`${d?"bg-slate-200":"hover:bg-slate-200"}`:`${d?"bg-slate-500/70":"hover:bg-slate-500/70"}`}  p-1 rounded-lg`,children:[i.length," ",i.length>1?"comments":"comment"]})]}),f.jsxs("div",{className:`border-t pt-2 flex gap-x-2 ${l==="light"?"border-t-slate-300":"border-t-slate-500/70"}`,children:[f.jsx(fl,{variant:T?"outlined":"",color:l!=="light"?"warning":"primary",onClick:w,startIcon:f.jsx("img",{className:"w-6",src:ae(T?"liked":"like")}),children:T?"Liked":"Like"}),f.jsx(fl,{color:l!=="light"?"warning":"primary",onClick:()=>{h(!d),u(!1)},startIcon:f.jsx("img",{className:"w-6",src:ae("comment")}),children:"Comment"})]}),c&&f.jsx(IK,{likes:r,users:a}),d&&f.jsx(bK,{isPost:p,post:t,id:n,comments:i,collectionName:e})]})},IK=({likes:t})=>{const{users:e}=E.useContext(ee);return f.jsx("div",{className:"mt-2 grid gap-y-2",children:t.map(n=>{const r=ir(e,n.uid);return f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsx(Ir,{image:r==null?void 0:r.image,name:r==null?void 0:r.name}),f.jsx("div",{children:r==null?void 0:r.name})]},`user-${r==null?void 0:r.uid}`)})})},bK=({post:t,isPost:e,comments:n,id:r,collectionName:s})=>{const[i,o]=E.useState(""),{users:a,theme:l,userData:c}=E.useContext(ee),u=lt(de(Te,s,r),"comments"),[d,h]=E.useState(null),p=async()=>{if(i.trim()){const v={uid:Z.currentUser.uid,text:i.trim(),timestamp:Dn()};await Ho(u,v),o(""),Wv(["comment",e?"post":"test"],e?"description":"testName",e?t.description:t.name,i.trim())}},g=async()=>{const v=de(u,d);if(i.trim()){const m={text:i.trim(),editedTime:Dn()};await gn(v,m),o(""),h(null)}},y=async v=>{const m=de(u,v);try{await Ii(m)}catch(_){console.log(_.message)}};return f.jsxs("div",{className:"mt-2",children:[f.jsx("div",{className:"grid gap-y-2",children:n.map(v=>{var T;const m=ir(a,v.uid);console.log(m);const _=v.uid===((T=Z==null?void 0:Z.currentUser)==null?void 0:T.uid),w=_&&{text:"Edit",icon:"editPencil",onClick:()=>{h(v.id),o(v.text)}};return f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex gap-x-1",children:[f.jsx("div",{children:f.jsx(Ir,{image:m==null?void 0:m.image,name:m==null?void 0:m.name})}),f.jsxs("div",{className:"max-w-[250px]",children:[f.jsxs("div",{className:`p-2  rounded-lg ${l==="light"?"bg-slate-100":"bg-slate-500/70 text-white"}`,children:[f.jsx("div",{className:"font-bold",children:m==null?void 0:m.name}),f.jsx("div",{children:v.text})]}),f.jsx("div",{className:`text-sm mt-1 ${l==="light"?"text-gray-600":"text-white"}`,children:v!=null&&v.editedTime?f.jsxs("span",{children:["edited ",Mi(tr(v.editedTime))]}):f.jsx("span",{children:Mi(tr(v.timestamp))})})]})]}),_||c!=null&&c.isAdmin?f.jsx(L2,{options:[w,{text:"Delete",icon:"deleteIcon",onClick:()=>y(v.id)}],isComment:!0}):""]},`${v.uid}-${v.id}`)})}),f.jsxs("div",{className:"mt-2 flex gap-x-1",children:[f.jsx("input",{autoFocus:!0,onChange:v=>o(v.target.value),value:i,className:`h-10 flex-1 rounded-lg pl-2 border ${l==="light"?"border-gray-300 focus:outline-blue-500":"outline-none bg-slate-500/70 border-slate-500/70"}`,placeholder:"Write a comment..."}),f.jsxs("div",{className:"flex gap-x-1",children:[d&&f.jsx(Be,{data:{image:"falseIcon",clickFn:()=>{h(null),o("")}}}),f.jsx(Be,{data:{clickFn:()=>{i.trim()&&(d?g():p())},image:"send"}})]})]})]})},SK=({t,takeTest:e})=>{const{users:n,theme:r}=E.useContext(ee),s=ir(n,t.uid);return f.jsxs("div",{className:`flex flex-col justify-between min-h-60 border shadow-md  rounded-md bg-gradient-to-tr ${r==="light"?"border-blue-200 shadow-gray-200":"border-blue-200 text-white shadow-slate-500"}`,children:[f.jsxs("div",{className:"flex gap-x-2 mb-2 p-2",children:[f.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:s.image}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:s.name}),f.jsx("div",{className:` text-sm ${r==="light"?"text-gray-500 ":"text-white"}`,children:Ko(tr(t.time))})]}),f.jsxs("span",{className:`rounded-md flex items-center p-1 ${r==="light"?"bg-slate-100 ":"bg-slate-500/70 "}`,children:[t.quizzes.length,t.quizzes.length>1?" questions":" question"]})]}),t.image&&f.jsx("div",{className:"m-2 min-h-32",children:f.jsx("img",{className:"w-full",src:`images/tests/${t.image}`})}),f.jsxs("div",{className:`rounded-bl-lg rounded-br-lg border-t  p-2 pb-5 ${r==="light"?"border-t-slate-300":"border-t-slate-500/70"}`,children:[f.jsx("div",{className:"font-medium text-lg",children:t.name}),f.jsx("p",{className:" mb-2 break-words white-space-pre-wrap",children:t.description.trim()||"No description"}),f.jsx(fl,{onClick:()=>e(t),children:"Take the test"}),f.jsx(Bb,{post:t,collectionName:"tests"})]})]})},Nx=({text:t})=>{const{theme:e}=E.useContext(ee);return f.jsx("div",{className:"h-[300px] flex flex-col justify-center items-center",children:f.jsx("p",{className:`text-center ${e==="light"?"":"text-white"}`,children:t})})},AK=()=>{const{setCurrentTest:t,startTimer:e,users:n,theme:r,isLogin:s,posts:i,setPosts:o,tests:a,setTests:l}=E.useContext(ee),{page:c}=W1(),u=yl(),d=sr(),h=u.pathname==="/app/posts",p=u.pathname==="/app/tests";E.useState(!0),E.useState(!0);const g=[{name:"Posts",active:h,image:"home",path:"/app/posts"},{name:"Tests",active:p,image:"exam",path:"/app/tests"}];dl("posts",o,s),dl("tests",l,s);const y=m=>{scrollTo({top:0}),t(m),e()},v=()=>{switch(c){case"posts":return f.jsx("div",{className:"grid gap-y-2 mb-2",children:i.length===0?f.jsx(Nx,{text:"No posts"}):i.sort((m,_)=>Wr(m,_,"time","newer")).map(m=>{var w,T;const _=ir(n,m.uid);if(!m.draft)return f.jsxs(Gg,{sx:{width:"full",padding:"8px",backgroundColor:"white",color:r!=="light"?"white":"black"},children:[f.jsxs("div",{className:"top-section flex gap-x-2 mb-2",children:[f.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:_.image}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:_.name}),f.jsx("div",{className:` text-sm ${r==="light"?"text-gray-500":"text-white"}`,children:Ko(tr(m.time))})]})]}),(m==null?void 0:m.description)&&f.jsx("p",{className:"mb-2 break-words whitespace-pre-wrap",children:m.description}),m.images.length!==0&&f.jsx("div",{className:"image grid gap-y-2",children:f.jsx(RK,{data:{post:m}})}),m.files&&((w=m==null?void 0:m.files)==null?void 0:w.length)!==0&&f.jsx(kK,{files:m.files}),(m==null?void 0:m.links)&&((T=m==null?void 0:m.links)==null?void 0:T.length)!==0&&f.jsx(NK,{links:m.links}),f.jsx(Bb,{post:m,collectionName:"posts"})]},`post-${m.id}`)})});case"tests":return f.jsx("div",{className:"grid gap-y-2 mb-2",children:a.length===0?f.jsx(Nx,{text:"No tests"}):a.sort((m,_)=>Wr(m,_,"timestamp","newer")).map(m=>{if(m.isUploaded)return f.jsx(SK,{t:m,takeTest:y},`tests-${m.id}-${m.name}`)})})}};return f.jsxs("div",{children:[f.jsx(Hr,{}),f.jsxs("div",{className:"grid pb-5 pl-2 pr-2",children:[f.jsx("div",{className:"flex mb-2 justify-center ",children:f.jsx(Gg,{justify:"center",sx:{backgroundColor:"white"},children:f.jsx($G,{children:g.map(m=>f.jsx(fl,{color:"primary",onClick:()=>d(m.path),variant:m.active?"contained":"",startIcon:f.jsx("img",{className:"w-6",src:ae(m.image)}),children:m.name},m.name))})})}),v()]})]})},RK=({data:t})=>{const{post:e}=t,n=0,[r,s]=E.useState(4),[i,o]=E.useState(!0),a=e.images.slice(n,r),l=e.images.length-4,c=()=>{o(!1),s(e.images.length)};return a.map((u,d)=>f.jsxs("div",{className:"relative ",children:[f.jsx("img",{className:"w-full shadow-md min-h-48",src:u.imageURL,alt:u.name}),f.jsx("div",{className:"z-20 absolute right-1 top-1"}),d+1===4&&i&&l?f.jsx("div",{onClick:c,className:"z-10 absolute top-0 right-0 left-0 bottom-0 flex cursor-pointer items-center justify-center",children:f.jsxs("div",{className:"font-medium text-8xl text-white",children:["+",l]})}):""]},`post-${e.id}-image-${u.imageURL}`))},kK=({files:t})=>{const{theme:e}=E.useContext(ee);return f.jsx("div",{className:"grid gap-y-2 mt-2",children:t.map((n,r)=>f.jsx("a",{href:n.fileURL,download:n.name,target:"_blank",children:f.jsxs("div",{className:`p-1 cursor-pointer  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${e==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:ae("download")}),f.jsxs("div",{children:[f.jsx("p",{className:"underline",children:n.name}),(n==null?void 0:n.size)&&f.jsxs("p",{children:[(n.size/(1024*1024)).toFixed(2)," MB"]})]})]})},`${r}-${n.fileURL}`))})},NK=({links:t})=>{const{theme:e}=E.useContext(ee);return f.jsx("div",{className:"grid gap-y-2 mt-2",children:t.map((n,r)=>f.jsx("a",{href:n.link,target:"_blank",children:f.jsxs("div",{className:`p-1 cursor-pointer  min-h-14 rounded-md flex ga-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${e==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:ae("link")}),f.jsx("div",{children:f.jsx("p",{className:"underline",children:n.title})})]})},`${r}-${n.link}`))})},PK=()=>{const e=new Date().getFullYear(),{theme:n}=E.useContext(ee);return f.jsxs("footer",{className:`w-full flex flex-col items-center p-1 bg-white border-t  mt-auto ${n==="light"?"border-t-gray-100":"bg-slate-600 text-white border-t-slate-500"}`,children:[f.jsxs("div",{children:["SEA copyright 2015 - ",e]}),f.jsx("div",{children:"All rights reserved."}),f.jsx("div",{children:"Author: Than Aung Naing"})]})},k0=({message:t,bgColor:e="bg-slate-200"})=>f.jsx("div",{className:"z-30 fixed flex justify-center bottom-5 left-0 right-0 ",children:f.jsx("div",{className:`${e} font-bold p-3 rounded-lg`,children:t})}),LK=({data:t})=>{const{isLogin:e,refreshUserData:n,setHeaderTitle:r,theme:s}=E.useContext(ee),[i,o]=E.useState(""),[a,l]=E.useState(""),[c,u]=E.useState(""),[d,h]=E.useState(null),[p,g]=E.useState("login"),y=sr();let v;document.title="Login",E.useEffect(()=>{e&&y("/"),r("STAR EDUCATION ACADEMY")},[]),Et("auto");const m=async(I,b,x,C)=>{try{const S=de(Te,"users",Z.currentUser.uid),N=await UT(S),P={name:I,email:b,password:x,image:C,isAdmin:!1,createdAt:Dn()};N.exists()||await yu(S,P),n()}catch(S){console.log(S.message)}},_=async()=>{try{await fj(Z,oz),m(Z.currentUser.displayName,Z.currentUser.email,"",Z.currentUser.photoURL)}catch(I){clearTimeout(v),h(I.message),v=setTimeout(()=>{h(null)},3e3)}},w=async()=>{try{await zD(Z,a,c)}catch(I){clearTimeout(v),h(I.message),v=setTimeout(()=>{h(null)},3e3)}},T=async()=>{try{await VD(Z,a,c),m(i,a,c,null)}catch(I){clearTimeout(v),h(I.message),v=setTimeout(()=>{h(null)},3e3)}},R=()=>{switch(p){case"login":return f.jsxs("div",{children:[f.jsx("div",{className:`text-md rounded-md font-medium  p-1 pl-2 border-b  ${s==="light"?"text-lime-700 bg-lime-100/70 border-b-lime-300":"text-white bg-slate-500/70 border-slate-500/70"}`,children:"You must log in first."}),f.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[f.jsx("div",{className:"text-lg font-medium text-blue-500",children:"Log in"}),f.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[f.jsx(tc,{data:{type:"text",value:a,setValue:l,placeholder:"Enter your email"}}),f.jsx(tc,{data:{type:"password",value:c,setValue:u,placeholder:"Enter your password"}}),d&&f.jsx(k0,{message:d,bgColor:"bg-red-300"}),f.jsx("button",{onClick:w,className:"transition-all bg-blue-400 text-white font-medium h-10 rounded-lg border border-transparent hover:border-lime-500",children:"Log in"})]}),f.jsx(Px,{}),f.jsx("div",{children:f.jsx(Be,{data:{clickFn:_,image:"google",text:"Sign in with Google"}})}),f.jsx(Px,{}),f.jsx("div",{children:f.jsx(Be,{data:{clickFn:()=>g("signup"),text:"Create new Account"}})})]})]});case"signup":return f.jsxs("div",{children:[f.jsx("div",{className:`text-md rounded-md font-medium  p-1 pl-2 border-b  ${s==="light"?"text-lime-700 bg-lime-100/70 border-b-lime-300":" bg-slate-500/70 border-slate-500/70 text-white"}`,children:"You must log in first."}),f.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[f.jsx("div",{className:"text-lg font-medium text-blue-500",children:"Create new account"}),f.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[f.jsx(tc,{data:{type:"text",value:i,setValue:o,placeholder:"Enter your name"}}),f.jsx(tc,{data:{type:"text",value:a,setValue:l,placeholder:"Enter your email"}}),f.jsx(tc,{data:{type:"password",value:c,setValue:u,placeholder:"Enter your password"}}),d&&f.jsx(k0,{message:d,bgColor:"bg-red-300"}),f.jsx("button",{onClick:()=>{i.trim()&&T()},className:"transition-all bg-blue-400 text-white font-medium h-10 rounded-lg border border-transparent hover:border-lime-500",children:"Sign up"}),f.jsx("div",{children:f.jsx(Be,{data:{clickFn:()=>g("login"),text:"Back",image:"back"}})})]})]})]})}};return f.jsxs("div",{className:"Login mb-5",children:[f.jsx(Hr,{}),R()]})},tc=({data:t})=>{const{value:e,setValue:n,placeholder:r,type:s}=t,{theme:i}=E.useContext(ee);return f.jsx("input",{type:s,value:e,onChange:o=>n(o.target.value),className:`h-10  pl-1 border rounded-lg   ${i==="light"?"border-gray-200 focus:outline-blue-500":"bg-slate-500/70 outline-none border-slate-500/70 text-white"}`,placeholder:r})},Px=()=>{const{theme:t}=E.useContext(ee);return f.jsx("div",{className:`mt-2 mb-2 ${t==="light"?"":"text-white"}`,children:"OR"})};function MK(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function Wb(t,e){return new Promise(function(n,r){let s;return OK(t).then(function(i){try{return s=i,n(new Blob([e.slice(0,2),s,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const OK=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:s}})=>{const i=new DataView(s);let o=0;if(i.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const a=i.getUint16(o);if(a===65498)break;const l=i.getUint16(o+2);if(a===65505&&i.getUint32(o+4)===1165519206){const c=o+10;let u;switch(i.getUint16(c)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(i.getUint16(c+2,u)!==42)return n("TIFF header contains invalid version");const d=i.getUint32(c+4,u),h=c+d+2+12*i.getUint16(c+d,u);for(let p=c+d+2;p<h;p+=12)if(i.getUint16(p,u)==274){if(i.getUint16(p+2,u)!==3)return n("Orientation data type is invalid");if(i.getUint32(p+4,u)!==1)return n("Orientation data count is invalid");i.setUint16(p+8,1,u);break}return e(s.slice(o,o+2+l))}o+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var N0={},DK={get exports(){return N0},set exports(t){N0=t}};(function(t){var e,n,r={};DK.exports=r,r.parse=function(s,i){for(var o=r.bin.readUshort,a=r.bin.readUint,l=0,c={},u=new Uint8Array(s),d=u.length-4;a(u,d)!=101010256;)d--;l=d,l+=4;var h=o(u,l+=4);o(u,l+=2);var p=a(u,l+=2),g=a(u,l+=4);l+=4,l=g;for(var y=0;y<h;y++){a(u,l),l+=4,l+=4,l+=4,a(u,l+=4),p=a(u,l+=4);var v=a(u,l+=4),m=o(u,l+=4),_=o(u,l+2),w=o(u,l+4);l+=6;var T=a(u,l+=8);l+=4,l+=m+_+w,r._readLocal(u,T,c,p,v,i)}return c},r._readLocal=function(s,i,o,a,l,c){var u=r.bin.readUshort,d=r.bin.readUint;d(s,i),u(s,i+=4),u(s,i+=2);var h=u(s,i+=2);d(s,i+=2),d(s,i+=4),i+=4;var p=u(s,i+=8),g=u(s,i+=2);i+=2;var y=r.bin.readUTF8(s,i,p);if(i+=p,i+=g,c)o[y]={size:l,csize:a};else{var v=new Uint8Array(s.buffer,i);if(h==0)o[y]=new Uint8Array(v.buffer.slice(i,i+a));else{if(h!=8)throw"unknown compression method: "+h;var m=new Uint8Array(l);r.inflateRaw(v,m),o[y]=m}}},r.inflateRaw=function(s,i){return r.F.inflate(s,i)},r.inflate=function(s,i){return s[0],s[1],r.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),i)},r.deflate=function(s,i){i==null&&(i={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*s.length));a[o]=120,a[o+1]=156,o+=2,o=r.F.deflateRaw(s,a,o,i.level);var l=r.adler(s,0,s.length);return a[o+0]=l>>>24&255,a[o+1]=l>>>16&255,a[o+2]=l>>>8&255,a[o+3]=l>>>0&255,new Uint8Array(a.buffer,0,o+4)},r.deflateRaw=function(s,i){i==null&&(i={level:6});var o=new Uint8Array(50+Math.floor(1.1*s.length)),a=r.F.deflateRaw(s,o,a,i.level);return new Uint8Array(o.buffer,0,a)},r.encode=function(s,i){i==null&&(i=!1);var o=0,a=r.bin.writeUint,l=r.bin.writeUshort,c={};for(var u in s){var d=!r._noNeed(u)&&!i,h=s[u],p=r.crc.crc(h,0,h.length);c[u]={cpr:d,usize:h.length,crc:p,file:d?r.deflateRaw(h):h}}for(var u in c)o+=c[u].file.length+30+46+2*r.bin.sizeUTF8(u);o+=22;var g=new Uint8Array(o),y=0,v=[];for(var u in c){var m=c[u];v.push(y),y=r._writeHeader(g,y,u,m,0)}var _=0,w=y;for(var u in c)m=c[u],v.push(y),y=r._writeHeader(g,y,u,m,1,v[_++]);var T=y-w;return a(g,y,101010256),y+=4,l(g,y+=4,_),l(g,y+=2,_),a(g,y+=2,T),a(g,y+=4,w),y+=4,y+=2,g.buffer},r._noNeed=function(s){var i=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},r._writeHeader=function(s,i,o,a,l,c){var u=r.bin.writeUint,d=r.bin.writeUshort,h=a.file;return u(s,i,l==0?67324752:33639248),i+=4,l==1&&(i+=2),d(s,i,20),d(s,i+=2,0),d(s,i+=2,a.cpr?8:0),u(s,i+=2,0),u(s,i+=4,a.crc),u(s,i+=4,h.length),u(s,i+=4,a.usize),d(s,i+=4,r.bin.sizeUTF8(o)),d(s,i+=2,0),i+=2,l==1&&(i+=2,i+=2,u(s,i+=6,c),i+=4),i+=r.bin.writeUTF8(s,i,o),l==0&&(s.set(h,i),i+=h.length),i},r.crc={table:function(){for(var s=new Uint32Array(256),i=0;i<256;i++){for(var o=i,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;s[i]=o}return s}(),update:function(s,i,o,a){for(var l=0;l<a;l++)s=r.crc.table[255&(s^i[o+l])]^s>>>8;return s},crc:function(s,i,o){return 4294967295^r.crc.update(4294967295,s,i,o)}},r.adler=function(s,i,o){for(var a=1,l=0,c=i,u=i+o;c<u;){for(var d=Math.min(c+5552,u);c<d;)l+=a+=s[c++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(s,i){return s[i]|s[i+1]<<8},writeUshort:function(s,i,o){s[i]=255&o,s[i+1]=o>>8&255},readUint:function(s,i){return 16777216*s[i+3]+(s[i+2]<<16|s[i+1]<<8|s[i])},writeUint:function(s,i,o){s[i]=255&o,s[i+1]=o>>8&255,s[i+2]=o>>16&255,s[i+3]=o>>24&255},readASCII:function(s,i,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(s[i+l]);return a},writeASCII:function(s,i,o){for(var a=0;a<o.length;a++)s[i+a]=o.charCodeAt(a)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,i,o){for(var a,l="",c=0;c<o;c++)l+="%"+r.bin.pad(s[i+c].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(s,i,o)}return a},writeUTF8:function(s,i,o){for(var a=o.length,l=0,c=0;c<a;c++){var u=o.charCodeAt(c);if(!(4294967168&u))s[i+l]=u,l++;else if(!(4294965248&u))s[i+l]=192|u>>6,s[i+l+1]=128|u>>0&63,l+=2;else if(!(4294901760&u))s[i+l]=224|u>>12,s[i+l+1]=128|u>>6&63,s[i+l+2]=128|u>>0&63,l+=3;else{if(4292870144&u)throw"e";s[i+l]=240|u>>18,s[i+l+1]=128|u>>12&63,s[i+l+2]=128|u>>6&63,s[i+l+3]=128|u>>0&63,l+=4}}return l},sizeUTF8:function(s){for(var i=s.length,o=0,a=0;a<i;a++){var l=s.charCodeAt(a);if(!(4294967168&l))o++;else if(!(4294965248&l))o+=2;else if(!(4294901760&l))o+=3;else{if(4292870144&l)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(s,i,o,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],c=r.F.U,u=r.F._goodIndex;r.F._hash;var d=r.F._putsE,h=0,p=o<<3,g=0,y=s.length;if(a==0){for(;h<y;)d(i,p,h+(N=Math.min(65535,y-h))==y?1:0),p=r.F._copyExact(s,h,N,i,p+8),h+=N;return p>>>3}var v=c.lits,m=c.strt,_=c.prev,w=0,T=0,R=0,I=0,b=0,x=0;for(y>2&&(m[x=r.F._hash(s,0)]=0),h=0;h<y;h++){if(b=x,h+1<y-2){x=r.F._hash(s,h+1);var C=h+1&32767;_[C]=m[x],m[x]=C}if(g<=h){(w>14e3||T>26697)&&y-h>100&&(g<h&&(v[w]=h-g,w+=2,g=h),p=r.F._writeBlock(h==y-1||g==y?1:0,v,w,I,s,R,h-R,i,p),w=T=I=0,R=h);var S=0;h<y-2&&(S=r.F._bestMatch(s,h,_,b,Math.min(l[2],y-h),l[3]));var N=S>>>16,P=65535&S;if(S!=0){P=65535&S;var M=u(N=S>>>16,c.of0);c.lhst[257+M]++;var L=u(P,c.df0);c.dhst[L]++,I+=c.exb[M]+c.dxb[L],v[w]=N<<23|h-g,v[w+1]=P<<16|M<<8|L,w+=2,g=h+N}else c.lhst[s[h]]++;T++}}for(R==h&&s.length!=0||(g<h&&(v[w]=h-g,w+=2,g=h),p=r.F._writeBlock(1,v,w,I,s,R,h-R,i,p),w=0,T=0,w=T=I=0,R=h);7&p;)p++;return p>>>3},r.F._bestMatch=function(s,i,o,a,l,c){var u=32767&i,d=o[u],h=u-d+32768&32767;if(d==u||a!=r.F._hash(s,i-h))return 0;for(var p=0,g=0,y=Math.min(32767,i);h<=y&&--c!=0&&d!=u;){if(p==0||s[i+p]==s[i+p-h]){var v=r.F._howLong(s,i,h);if(v>p){if(g=h,(p=v)>=l)break;h+2<v&&(v=h+2);for(var m=0,_=0;_<v-2;_++){var w=i-h+_+32768&32767,T=w-o[w]+32768&32767;T>m&&(m=T,d=w)}}}h+=(u=d)-(d=o[u])+32768&32767}return p<<16|g},r.F._howLong=function(s,i,o){if(s[i]!=s[i-o]||s[i+1]!=s[i+1-o]||s[i+2]!=s[i+2-o])return 0;var a=i,l=Math.min(s.length,i+258);for(i+=3;i<l&&s[i]==s[i-o];)i++;return i-a},r.F._hash=function(s,i){return(s[i]<<8|s[i+1])+(s[i+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(s,i,o,a,l,c,u,d,h){var p,g,y,v,m,_,w,T,R,I=r.F.U,b=r.F._putsF,x=r.F._putsE;I.lhst[256]++,g=(p=r.F.getTrees())[0],y=p[1],v=p[2],m=p[3],_=p[4],w=p[5],T=p[6],R=p[7];var C=32+(h+3&7?8-(h+3&7):0)+(u<<3),S=a+r.F.contSize(I.fltree,I.lhst)+r.F.contSize(I.fdtree,I.dhst),N=a+r.F.contSize(I.ltree,I.lhst)+r.F.contSize(I.dtree,I.dhst);N+=14+3*w+r.F.contSize(I.itree,I.ihst)+(2*I.ihst[16]+3*I.ihst[17]+7*I.ihst[18]);for(var P=0;P<286;P++)I.lhst[P]=0;for(P=0;P<30;P++)I.dhst[P]=0;for(P=0;P<19;P++)I.ihst[P]=0;var M=C<S&&C<N?0:S<N?1:2;if(b(d,h,s),b(d,h+1,M),h+=3,M==0){for(;7&h;)h++;h=r.F._copyExact(l,c,u,d,h)}else{var L,j;if(M==1&&(L=I.fltree,j=I.fdtree),M==2){r.F.makeCodes(I.ltree,g),r.F.revCodes(I.ltree,g),r.F.makeCodes(I.dtree,y),r.F.revCodes(I.dtree,y),r.F.makeCodes(I.itree,v),r.F.revCodes(I.itree,v),L=I.ltree,j=I.dtree,x(d,h,m-257),x(d,h+=5,_-1),x(d,h+=5,w-4),h+=4;for(var k=0;k<w;k++)x(d,h+3*k,I.itree[1+(I.ordr[k]<<1)]);h+=3*w,h=r.F._codeTiny(T,I.itree,d,h),h=r.F._codeTiny(R,I.itree,d,h)}for(var A=c,D=0;D<o;D+=2){for(var O=i[D],$=O>>>23,H=A+(8388607&O);A<H;)h=r.F._writeLit(l[A++],L,d,h);if($!=0){var z=i[D+1],K=z>>16,V=z>>8&255,F=255&z;x(d,h=r.F._writeLit(257+V,L,d,h),$-I.of0[V]),h+=I.exb[V],b(d,h=r.F._writeLit(F,j,d,h),K-I.df0[F]),h+=I.dxb[F],A+=$}}h=r.F._writeLit(256,L,d,h)}return h},r.F._copyExact=function(s,i,o,a,l){var c=l>>>3;return a[c]=o,a[c+1]=o>>>8,a[c+2]=255-a[c],a[c+3]=255-a[c+1],c+=4,a.set(new Uint8Array(s.buffer,i,o),c),l+(o+4<<3)},r.F.getTrees=function(){for(var s=r.F.U,i=r.F._hufTree(s.lhst,s.ltree,15),o=r.F._hufTree(s.dhst,s.dtree,15),a=[],l=r.F._lenCodes(s.ltree,a),c=[],u=r.F._lenCodes(s.dtree,c),d=0;d<a.length;d+=2)s.ihst[a[d]]++;for(d=0;d<c.length;d+=2)s.ihst[c[d]]++;for(var h=r.F._hufTree(s.ihst,s.itree,7),p=19;p>4&&s.itree[1+(s.ordr[p-1]<<1)]==0;)p--;return[i,o,h,l,u,p,a,c]},r.F.getSecond=function(s){for(var i=[],o=0;o<s.length;o+=2)i.push(s[o+1]);return i},r.F.nonZero=function(s){for(var i="",o=0;o<s.length;o+=2)s[o+1]!=0&&(i+=(o>>1)+",");return i},r.F.contSize=function(s,i){for(var o=0,a=0;a<i.length;a++)o+=i[a]*s[1+(a<<1)];return o},r.F._codeTiny=function(s,i,o,a){for(var l=0;l<s.length;l+=2){var c=s[l],u=s[l+1];a=r.F._writeLit(c,i,o,a);var d=c==16?2:c==17?3:7;c>15&&(r.F._putsE(o,a,u,d),a+=d)}return a},r.F._lenCodes=function(s,i){for(var o=s.length;o!=2&&s[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var l=s[a+1],c=a+3<o?s[a+3]:-1,u=a+5<o?s[a+5]:-1,d=a==0?-1:s[a-1];if(l==0&&c==l&&u==l){for(var h=a+5;h+2<o&&s[h+2]==l;)h+=2;(p=Math.min(h+1-a>>>1,138))<11?i.push(17,p-3):i.push(18,p-11),a+=2*p-2}else if(l==d&&c==l&&u==l){for(h=a+5;h+2<o&&s[h+2]==l;)h+=2;var p=Math.min(h+1-a>>>1,6);i.push(16,p-3),a+=2*p-2}else i.push(l,0)}return o>>>1},r.F._hufTree=function(s,i,o){var a=[],l=s.length,c=i.length,u=0;for(u=0;u<c;u+=2)i[u]=0,i[u+1]=0;for(u=0;u<l;u++)s[u]!=0&&a.push({lit:u,f:s[u]});var d=a.length,h=a.slice(0);if(d==0)return 0;if(d==1){var p=a[0].lit;return h=p==0?1:0,i[1+(p<<1)]=1,i[1+(h<<1)]=1,1}a.sort(function(T,R){return T.f-R.f});var g=a[0],y=a[1],v=0,m=1,_=2;for(a[0]={lit:-1,f:g.f+y.f,l:g,r:y,d:0};m!=d-1;)g=v!=m&&(_==d||a[v].f<a[_].f)?a[v++]:a[_++],y=v!=m&&(_==d||a[v].f<a[_].f)?a[v++]:a[_++],a[m++]={lit:-1,f:g.f+y.f,l:g,r:y};var w=r.F.setDepth(a[m-1],0);for(w>o&&(r.F.restrictDepth(h,o,w),w=o),u=0;u<d;u++)i[1+(h[u].lit<<1)]=h[u].d;return w},r.F.setDepth=function(s,i){return s.lit!=-1?(s.d=i,i):Math.max(r.F.setDepth(s.l,i+1),r.F.setDepth(s.r,i+1))},r.F.restrictDepth=function(s,i,o){var a=0,l=1<<o-i,c=0;for(s.sort(function(d,h){return h.d==d.d?d.f-h.f:h.d-d.d}),a=0;a<s.length&&s[a].d>i;a++){var u=s[a].d;s[a].d=i,c+=l-(1<<o-u)}for(c>>>=o-i;c>0;)(u=s[a].d)<i?(s[a].d++,c-=1<<i-u-1):a++;for(;a>=0;a--)s[a].d==i&&c<0&&(s[a].d--,c++);c!=0&&console.log("debt left")},r.F._goodIndex=function(s,i){var o=0;return i[16|o]<=s&&(o|=16),i[8|o]<=s&&(o|=8),i[4|o]<=s&&(o|=4),i[2|o]<=s&&(o|=2),i[1|o]<=s&&(o|=1),o},r.F._writeLit=function(s,i,o,a){return r.F._putsF(o,a,i[s<<1]),a+i[1+(s<<1)]},r.F.inflate=function(s,i){var o=Uint8Array;if(s[0]==3&&s[1]==0)return i||new o(0);var a=r.F,l=a._bitsF,c=a._bitsE,u=a._decodeTiny,d=a.makeCodes,h=a.codes2map,p=a._get17,g=a.U,y=i==null;y&&(i=new o(s.length>>>2<<3));for(var v,m,_=0,w=0,T=0,R=0,I=0,b=0,x=0,C=0,S=0;_==0;)if(_=l(s,S,1),w=l(s,S+1,2),S+=3,w!=0){if(y&&(i=r.F._check(i,C+(1<<17))),w==1&&(v=g.flmap,m=g.fdmap,b=511,x=31),w==2){T=c(s,S,5)+257,R=c(s,S+5,5)+1,I=c(s,S+10,4)+4,S+=14;for(var N=0;N<38;N+=2)g.itree[N]=0,g.itree[N+1]=0;var P=1;for(N=0;N<I;N++){var M=c(s,S+3*N,3);g.itree[1+(g.ordr[N]<<1)]=M,M>P&&(P=M)}S+=3*I,d(g.itree,P),h(g.itree,P,g.imap),v=g.lmap,m=g.dmap,S=u(g.imap,(1<<P)-1,T+R,s,S,g.ttree);var L=a._copyOut(g.ttree,0,T,g.ltree);b=(1<<L)-1;var j=a._copyOut(g.ttree,T,R,g.dtree);x=(1<<j)-1,d(g.ltree,L),h(g.ltree,L,v),d(g.dtree,j),h(g.dtree,j,m)}for(;;){var k=v[p(s,S)&b];S+=15&k;var A=k>>>4;if(!(A>>>8))i[C++]=A;else{if(A==256)break;var D=C+A-254;if(A>264){var O=g.ldef[A-257];D=C+(O>>>3)+c(s,S,7&O),S+=7&O}var $=m[p(s,S)&x];S+=15&$;var H=$>>>4,z=g.ddef[H],K=(z>>>4)+l(s,S,15&z);for(S+=15&z,y&&(i=r.F._check(i,C+(1<<17)));C<D;)i[C]=i[C++-K],i[C]=i[C++-K],i[C]=i[C++-K],i[C]=i[C++-K];C=D}}}else{7&S&&(S+=8-(7&S));var V=4+(S>>>3),F=s[V-4]|s[V-3]<<8;y&&(i=r.F._check(i,C+F)),i.set(new o(s.buffer,s.byteOffset+V,F),C),S=V+F<<3,C+=F}return i.length==C?i:i.slice(0,C)},r.F._check=function(s,i){var o=s.length;if(i<=o)return s;var a=new Uint8Array(Math.max(o<<1,i));return a.set(s,0),a},r.F._decodeTiny=function(s,i,o,a,l,c){for(var u=r.F._bitsE,d=r.F._get17,h=0;h<o;){var p=s[d(a,l)&i];l+=15&p;var g=p>>>4;if(g<=15)c[h]=g,h++;else{var y=0,v=0;g==16?(v=3+u(a,l,2),l+=2,y=c[h-1]):g==17?(v=3+u(a,l,3),l+=3):g==18&&(v=11+u(a,l,7),l+=7);for(var m=h+v;h<m;)c[h]=y,h++}}return l},r.F._copyOut=function(s,i,o,a){for(var l=0,c=0,u=a.length>>>1;c<o;){var d=s[c+i];a[c<<1]=0,a[1+(c<<1)]=d,d>l&&(l=d),c++}for(;c<u;)a[c<<1]=0,a[1+(c<<1)]=0,c++;return l},r.F.makeCodes=function(s,i){for(var o,a,l,c,u=r.F.U,d=s.length,h=u.bl_count,p=0;p<=i;p++)h[p]=0;for(p=1;p<d;p+=2)h[s[p]]++;var g=u.next_code;for(o=0,h[0]=0,a=1;a<=i;a++)o=o+h[a-1]<<1,g[a]=o;for(l=0;l<d;l+=2)(c=s[l+1])!=0&&(s[l]=g[c],g[c]++)},r.F.codes2map=function(s,i,o){for(var a=s.length,l=r.F.U.rev15,c=0;c<a;c+=2)if(s[c+1]!=0)for(var u=c>>1,d=s[c+1],h=u<<4|d,p=i-d,g=s[c]<<p,y=g+(1<<p);g!=y;)o[l[g]>>>15-i]=h,g++},r.F.revCodes=function(s,i){for(var o=r.F.U.rev15,a=15-i,l=0;l<s.length;l+=2){var c=s[l]<<i-s[l+1];s[l]=o[c]>>>a}},r.F._putsE=function(s,i,o){o<<=7&i;var a=i>>>3;s[a]|=o,s[a+1]|=o>>>8},r.F._putsF=function(s,i,o){o<<=7&i;var a=i>>>3;s[a]|=o,s[a+1]|=o>>>8,s[a+2]|=o>>>16},r.F._bitsE=function(s,i,o){return(s[i>>>3]|s[1+(i>>>3)]<<8)>>>(7&i)&(1<<o)-1},r.F._bitsF=function(s,i,o){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)&(1<<o)-1},r.F._get17=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)},r.F._get25=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16|s[3+(i>>>3)]<<24)>>>(7&i)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var s=r.F.U,i=0;i<32768;i++){var o=i;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,s.rev15[i]=(o>>>16|o<<16)>>>17}function a(l,c,u){for(;c--!=0;)l.push(0,u)}for(i=0;i<32;i++)s.ldef[i]=s.of0[i]<<3|s.exb[i],s.ddef[i]=s.df0[i]<<4|s.dxb[i];a(s.fltree,144,8),a(s.fltree,112,9),a(s.fltree,24,7),a(s.fltree,8,8),r.F.makeCodes(s.fltree,9),r.F.codes2map(s.fltree,9,s.flmap),r.F.revCodes(s.fltree,9),a(s.fdtree,32,5),r.F.makeCodes(s.fdtree,5),r.F.codes2map(s.fdtree,5,s.fdmap),r.F.revCodes(s.fdtree,5),a(s.itree,19,0),a(s.ltree,286,0),a(s.dtree,30,0),a(s.ttree,320,0)}()})();var jK=MK({__proto__:null,default:N0},[N0]);const Pr=function(){var t={nextZero(u,d){for(;u[d]!=0;)d++;return d},readUshort:(u,d)=>u[d]<<8|u[d+1],writeUshort(u,d,h){u[d]=h>>8&255,u[d+1]=255&h},readUint:(u,d)=>16777216*u[d]+(u[d+1]<<16|u[d+2]<<8|u[d+3]),writeUint(u,d,h){u[d]=h>>24&255,u[d+1]=h>>16&255,u[d+2]=h>>8&255,u[d+3]=255&h},readASCII(u,d,h){let p="";for(let g=0;g<h;g++)p+=String.fromCharCode(u[d+g]);return p},writeASCII(u,d,h){for(let p=0;p<h.length;p++)u[d+p]=h.charCodeAt(p)},readBytes(u,d,h){const p=[];for(let g=0;g<h;g++)p.push(u[d+g]);return p},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,d,h){let p,g="";for(let y=0;y<h;y++)g+=`%${t.pad(u[d+y].toString(16))}`;try{p=decodeURIComponent(g)}catch{return t.readASCII(u,d,h)}return p}};function e(u,d,h,p){const g=d*h,y=i(p),v=Math.ceil(d*y/8),m=new Uint8Array(4*g),_=new Uint32Array(m.buffer),{ctype:w}=p,{depth:T}=p,R=t.readUshort;if(w==6){const O=g<<2;if(T==8)for(var I=0;I<O;I+=4)m[I]=u[I],m[I+1]=u[I+1],m[I+2]=u[I+2],m[I+3]=u[I+3];if(T==16)for(I=0;I<O;I++)m[I]=u[I<<1]}else if(w==2){const O=p.tabs.tRNS;if(O==null){if(T==8)for(I=0;I<g;I++){var b=3*I;_[I]=255<<24|u[b+2]<<16|u[b+1]<<8|u[b]}if(T==16)for(I=0;I<g;I++)b=6*I,_[I]=255<<24|u[b+4]<<16|u[b+2]<<8|u[b]}else{var x=O[0];const $=O[1],H=O[2];if(T==8)for(I=0;I<g;I++){var C=I<<2;b=3*I,_[I]=255<<24|u[b+2]<<16|u[b+1]<<8|u[b],u[b]==x&&u[b+1]==$&&u[b+2]==H&&(m[C+3]=0)}if(T==16)for(I=0;I<g;I++)C=I<<2,b=6*I,_[I]=255<<24|u[b+4]<<16|u[b+2]<<8|u[b],R(u,b)==x&&R(u,b+2)==$&&R(u,b+4)==H&&(m[C+3]=0)}}else if(w==3){const O=p.tabs.PLTE,$=p.tabs.tRNS,H=$?$.length:0;if(T==1)for(var S=0;S<h;S++){var N=S*v,P=S*d;for(I=0;I<d;I++){C=P+I<<2;var M=3*(L=u[N+(I>>3)]>>7-((7&I)<<0)&1);m[C]=O[M],m[C+1]=O[M+1],m[C+2]=O[M+2],m[C+3]=L<H?$[L]:255}}if(T==2)for(S=0;S<h;S++)for(N=S*v,P=S*d,I=0;I<d;I++)C=P+I<<2,M=3*(L=u[N+(I>>2)]>>6-((3&I)<<1)&3),m[C]=O[M],m[C+1]=O[M+1],m[C+2]=O[M+2],m[C+3]=L<H?$[L]:255;if(T==4)for(S=0;S<h;S++)for(N=S*v,P=S*d,I=0;I<d;I++)C=P+I<<2,M=3*(L=u[N+(I>>1)]>>4-((1&I)<<2)&15),m[C]=O[M],m[C+1]=O[M+1],m[C+2]=O[M+2],m[C+3]=L<H?$[L]:255;if(T==8)for(I=0;I<g;I++){var L;C=I<<2,M=3*(L=u[I]),m[C]=O[M],m[C+1]=O[M+1],m[C+2]=O[M+2],m[C+3]=L<H?$[L]:255}}else if(w==4){if(T==8)for(I=0;I<g;I++){C=I<<2;var j=u[k=I<<1];m[C]=j,m[C+1]=j,m[C+2]=j,m[C+3]=u[k+1]}if(T==16)for(I=0;I<g;I++){var k;C=I<<2,j=u[k=I<<2],m[C]=j,m[C+1]=j,m[C+2]=j,m[C+3]=u[k+2]}}else if(w==0)for(x=p.tabs.tRNS?p.tabs.tRNS:-1,S=0;S<h;S++){const O=S*v,$=S*d;if(T==1)for(var A=0;A<d;A++){var D=(j=255*(u[O+(A>>>3)]>>>7-(7&A)&1))==255*x?0:255;_[$+A]=D<<24|j<<16|j<<8|j}else if(T==2)for(A=0;A<d;A++)D=(j=85*(u[O+(A>>>2)]>>>6-((3&A)<<1)&3))==85*x?0:255,_[$+A]=D<<24|j<<16|j<<8|j;else if(T==4)for(A=0;A<d;A++)D=(j=17*(u[O+(A>>>1)]>>>4-((1&A)<<2)&15))==17*x?0:255,_[$+A]=D<<24|j<<16|j<<8|j;else if(T==8)for(A=0;A<d;A++)D=(j=u[O+A])==x?0:255,_[$+A]=D<<24|j<<16|j<<8|j;else if(T==16)for(A=0;A<d;A++)j=u[O+(A<<1)],D=R(u,O+(A<<1))==x?0:255,_[$+A]=D<<24|j<<16|j<<8|j}return m}function n(u,d,h,p){const g=i(u),y=Math.ceil(h*g/8),v=new Uint8Array((y+1+u.interlace)*p);return d=u.tabs.CgBI?s(d,v):r(d,v),u.interlace==0?d=o(d,u,0,h,p):u.interlace==1&&(d=function(_,w){const T=w.width,R=w.height,I=i(w),b=I>>3,x=Math.ceil(T*I/8),C=new Uint8Array(R*x);let S=0;const N=[0,0,4,0,2,0,1],P=[0,4,0,2,0,1,0],M=[8,8,8,4,4,2,2],L=[8,8,4,4,2,2,1];let j=0;for(;j<7;){const A=M[j],D=L[j];let O=0,$=0,H=N[j];for(;H<R;)H+=A,$++;let z=P[j];for(;z<T;)z+=D,O++;const K=Math.ceil(O*I/8);o(_,w,S,O,$);let V=0,F=N[j];for(;F<R;){let te=P[j],pe=S+V*K<<3;for(;te<T;){var k;if(I==1&&(k=(k=_[pe>>3])>>7-(7&pe)&1,C[F*x+(te>>3)]|=k<<7-((7&te)<<0)),I==2&&(k=(k=_[pe>>3])>>6-(7&pe)&3,C[F*x+(te>>2)]|=k<<6-((3&te)<<1)),I==4&&(k=(k=_[pe>>3])>>4-(7&pe)&15,C[F*x+(te>>1)]|=k<<4-((1&te)<<2)),I>=8){const ve=F*x+te*b;for(let ie=0;ie<b;ie++)C[ve+ie]=_[(pe>>3)+ie]}pe+=I,te+=D}V++,F+=A}O*$!=0&&(S+=$*(1+K)),j+=1}return C}(d,u)),d}function r(u,d){return s(new Uint8Array(u.buffer,2,u.length-6),d)}var s=function(){const u={H:{}};return u.H.N=function(d,h){const p=Uint8Array;let g,y,v=0,m=0,_=0,w=0,T=0,R=0,I=0,b=0,x=0;if(d[0]==3&&d[1]==0)return h||new p(0);const C=u.H,S=C.b,N=C.e,P=C.R,M=C.n,L=C.A,j=C.Z,k=C.m,A=h==null;for(A&&(h=new p(d.length>>>2<<5));v==0;)if(v=S(d,x,1),m=S(d,x+1,2),x+=3,m!=0){if(A&&(h=u.H.W(h,b+(1<<17))),m==1&&(g=k.J,y=k.h,R=511,I=31),m==2){_=N(d,x,5)+257,w=N(d,x+5,5)+1,T=N(d,x+10,4)+4,x+=14;let O=1;for(var D=0;D<38;D+=2)k.Q[D]=0,k.Q[D+1]=0;for(D=0;D<T;D++){const z=N(d,x+3*D,3);k.Q[1+(k.X[D]<<1)]=z,z>O&&(O=z)}x+=3*T,M(k.Q,O),L(k.Q,O,k.u),g=k.w,y=k.d,x=P(k.u,(1<<O)-1,_+w,d,x,k.v);const $=C.V(k.v,0,_,k.C);R=(1<<$)-1;const H=C.V(k.v,_,w,k.D);I=(1<<H)-1,M(k.C,$),L(k.C,$,g),M(k.D,H),L(k.D,H,y)}for(;;){const O=g[j(d,x)&R];x+=15&O;const $=O>>>4;if(!($>>>8))h[b++]=$;else{if($==256)break;{let H=b+$-254;if($>264){const te=k.q[$-257];H=b+(te>>>3)+N(d,x,7&te),x+=7&te}const z=y[j(d,x)&I];x+=15&z;const K=z>>>4,V=k.c[K],F=(V>>>4)+S(d,x,15&V);for(x+=15&V;b<H;)h[b]=h[b++-F],h[b]=h[b++-F],h[b]=h[b++-F],h[b]=h[b++-F];b=H}}}}else{7&x&&(x+=8-(7&x));const O=4+(x>>>3),$=d[O-4]|d[O-3]<<8;A&&(h=u.H.W(h,b+$)),h.set(new p(d.buffer,d.byteOffset+O,$),b),x=O+$<<3,b+=$}return h.length==b?h:h.slice(0,b)},u.H.W=function(d,h){const p=d.length;if(h<=p)return d;const g=new Uint8Array(p<<1);return g.set(d,0),g},u.H.R=function(d,h,p,g,y,v){const m=u.H.e,_=u.H.Z;let w=0;for(;w<p;){const T=d[_(g,y)&h];y+=15&T;const R=T>>>4;if(R<=15)v[w]=R,w++;else{let I=0,b=0;R==16?(b=3+m(g,y,2),y+=2,I=v[w-1]):R==17?(b=3+m(g,y,3),y+=3):R==18&&(b=11+m(g,y,7),y+=7);const x=w+b;for(;w<x;)v[w]=I,w++}}return y},u.H.V=function(d,h,p,g){let y=0,v=0;const m=g.length>>>1;for(;v<p;){const _=d[v+h];g[v<<1]=0,g[1+(v<<1)]=_,_>y&&(y=_),v++}for(;v<m;)g[v<<1]=0,g[1+(v<<1)]=0,v++;return y},u.H.n=function(d,h){const p=u.H.m,g=d.length;let y,v,m,_;const w=p.j;for(var T=0;T<=h;T++)w[T]=0;for(T=1;T<g;T+=2)w[d[T]]++;const R=p.K;for(y=0,w[0]=0,v=1;v<=h;v++)y=y+w[v-1]<<1,R[v]=y;for(m=0;m<g;m+=2)_=d[m+1],_!=0&&(d[m]=R[_],R[_]++)},u.H.A=function(d,h,p){const g=d.length,y=u.H.m.r;for(let v=0;v<g;v+=2)if(d[v+1]!=0){const m=v>>1,_=d[v+1],w=m<<4|_,T=h-_;let R=d[v]<<T;const I=R+(1<<T);for(;R!=I;)p[y[R]>>>15-h]=w,R++}},u.H.l=function(d,h){const p=u.H.m.r,g=15-h;for(let y=0;y<d.length;y+=2){const v=d[y]<<h-d[y+1];d[y]=p[v]>>>g}},u.H.M=function(d,h,p){p<<=7&h;const g=h>>>3;d[g]|=p,d[g+1]|=p>>>8},u.H.I=function(d,h,p){p<<=7&h;const g=h>>>3;d[g]|=p,d[g+1]|=p>>>8,d[g+2]|=p>>>16},u.H.e=function(d,h,p){return(d[h>>>3]|d[1+(h>>>3)]<<8)>>>(7&h)&(1<<p)-1},u.H.b=function(d,h,p){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16)>>>(7&h)&(1<<p)-1},u.H.Z=function(d,h){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16)>>>(7&h)},u.H.i=function(d,h){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16|d[3+(h>>>3)]<<24)>>>(7&h)},u.H.m=function(){const d=Uint16Array,h=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new h(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new h(286),Y:new h(30),a:new h(19),t:new h(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=u.H.m;for(var h=0;h<32768;h++){let g=h;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,d.r[h]=(g>>>16|g<<16)>>>17}function p(g,y,v){for(;y--!=0;)g.push(0,v)}for(h=0;h<32;h++)d.q[h]=d.S[h]<<3|d.T[h],d.c[h]=d.p[h]<<4|d.z[h];p(d._,144,8),p(d._,112,9),p(d._,24,7),p(d._,8,8),u.H.n(d._,9),u.H.A(d._,9,d.J),u.H.l(d._,9),p(d.$,32,5),u.H.n(d.$,5),u.H.A(d.$,5,d.h),u.H.l(d.$,5),p(d.Q,19,0),p(d.C,286,0),p(d.D,30,0),p(d.v,320,0)}(),u.H.N}();function i(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function o(u,d,h,p,g){let y=i(d);const v=Math.ceil(p*y/8);let m,_;y=Math.ceil(y/8);let w=u[h],T=0;if(w>1&&(u[h]=[0,0,1][w-2]),w==3)for(T=y;T<v;T++)u[T+1]=u[T+1]+(u[T+1-y]>>>1)&255;for(let R=0;R<g;R++)if(m=h+R*v,_=m+R+1,w=u[_-1],T=0,w==0)for(;T<v;T++)u[m+T]=u[_+T];else if(w==1){for(;T<y;T++)u[m+T]=u[_+T];for(;T<v;T++)u[m+T]=u[_+T]+u[m+T-y]}else if(w==2)for(;T<v;T++)u[m+T]=u[_+T]+u[m+T-v];else if(w==3){for(;T<y;T++)u[m+T]=u[_+T]+(u[m+T-v]>>>1);for(;T<v;T++)u[m+T]=u[_+T]+(u[m+T-v]+u[m+T-y]>>>1)}else{for(;T<y;T++)u[m+T]=u[_+T]+a(0,u[m+T-v],0);for(;T<v;T++)u[m+T]=u[_+T]+a(u[m+T-y],u[m+T-v],u[m+T-y-v])}return u}function a(u,d,h){const p=u+d-h,g=p-u,y=p-d,v=p-h;return g*g<=y*y&&g*g<=v*v?u:y*y<=v*v?d:h}function l(u,d,h){h.width=t.readUint(u,d),d+=4,h.height=t.readUint(u,d),d+=4,h.depth=u[d],d++,h.ctype=u[d],d++,h.compress=u[d],d++,h.filter=u[d],d++,h.interlace=u[d],d++}function c(u,d,h,p,g,y,v,m,_){const w=Math.min(d,g),T=Math.min(h,y);let R=0,I=0;for(let j=0;j<T;j++)for(let k=0;k<w;k++)if(v>=0&&m>=0?(R=j*d+k<<2,I=(m+j)*g+v+k<<2):(R=(-m+j)*d-v+k<<2,I=j*g+k<<2),_==0)p[I]=u[R],p[I+1]=u[R+1],p[I+2]=u[R+2],p[I+3]=u[R+3];else if(_==1){var b=u[R+3]*.00392156862745098,x=u[R]*b,C=u[R+1]*b,S=u[R+2]*b,N=p[I+3]*(1/255),P=p[I]*N,M=p[I+1]*N,L=p[I+2]*N;const A=1-b,D=b+N*A,O=D==0?0:1/D;p[I+3]=255*D,p[I+0]=(x+P*A)*O,p[I+1]=(C+M*A)*O,p[I+2]=(S+L*A)*O}else if(_==2)b=u[R+3],x=u[R],C=u[R+1],S=u[R+2],N=p[I+3],P=p[I],M=p[I+1],L=p[I+2],b==N&&x==P&&C==M&&S==L?(p[I]=0,p[I+1]=0,p[I+2]=0,p[I+3]=0):(p[I]=x,p[I+1]=C,p[I+2]=S,p[I+3]=b);else if(_==3){if(b=u[R+3],x=u[R],C=u[R+1],S=u[R+2],N=p[I+3],P=p[I],M=p[I+1],L=p[I+2],b==N&&x==P&&C==M&&S==L)continue;if(b<220&&N>20)return!1}return!0}return{decode:function(d){const h=new Uint8Array(d);let p=8;const g=t,y=g.readUshort,v=g.readUint,m={tabs:{},frames:[]},_=new Uint8Array(h.length);let w,T=0,R=0;const I=[137,80,78,71,13,10,26,10];for(var b=0;b<8;b++)if(h[b]!=I[b])throw"The input is not a PNG file!";for(;p<h.length;){const j=g.readUint(h,p);p+=4;const k=g.readASCII(h,p,4);if(p+=4,k=="IHDR")l(h,p,m);else if(k=="iCCP"){for(var x=p;h[x]!=0;)x++;g.readASCII(h,p,x-p),h[x+1];const A=h.slice(x+2,p+j);let D=null;try{D=r(A)}catch{D=s(A)}m.tabs[k]=D}else if(k=="CgBI")m.tabs[k]=h.slice(p,p+4);else if(k=="IDAT"){for(b=0;b<j;b++)_[T+b]=h[p+b];T+=j}else if(k=="acTL")m.tabs[k]={num_frames:v(h,p),num_plays:v(h,p+4)},w=new Uint8Array(h.length);else if(k=="fcTL"){R!=0&&((L=m.frames[m.frames.length-1]).data=n(m,w.slice(0,R),L.rect.width,L.rect.height),R=0);const A={x:v(h,p+12),y:v(h,p+16),width:v(h,p+4),height:v(h,p+8)};let D=y(h,p+22);D=y(h,p+20)/(D==0?100:D);const O={rect:A,delay:Math.round(1e3*D),dispose:h[p+24],blend:h[p+25]};m.frames.push(O)}else if(k=="fdAT"){for(b=0;b<j-4;b++)w[R+b]=h[p+b+4];R+=j-4}else if(k=="pHYs")m.tabs[k]=[g.readUint(h,p),g.readUint(h,p+4),h[p+8]];else if(k=="cHRM")for(m.tabs[k]=[],b=0;b<8;b++)m.tabs[k].push(g.readUint(h,p+4*b));else if(k=="tEXt"||k=="zTXt"){m.tabs[k]==null&&(m.tabs[k]={});var C=g.nextZero(h,p),S=g.readASCII(h,p,C-p),N=p+j-C-1;if(k=="tEXt")M=g.readASCII(h,C+1,N);else{var P=r(h.slice(C+2,C+2+N));M=g.readUTF8(P,0,P.length)}m.tabs[k][S]=M}else if(k=="iTXt"){m.tabs[k]==null&&(m.tabs[k]={}),C=0,x=p,C=g.nextZero(h,x),S=g.readASCII(h,x,C-x);const A=h[x=C+1];var M;h[x+1],x+=2,C=g.nextZero(h,x),g.readASCII(h,x,C-x),x=C+1,C=g.nextZero(h,x),g.readUTF8(h,x,C-x),N=j-((x=C+1)-p),A==0?M=g.readUTF8(h,x,N):(P=r(h.slice(x,x+N)),M=g.readUTF8(P,0,P.length)),m.tabs[k][S]=M}else if(k=="PLTE")m.tabs[k]=g.readBytes(h,p,j);else if(k=="hIST"){const A=m.tabs.PLTE.length/3;for(m.tabs[k]=[],b=0;b<A;b++)m.tabs[k].push(y(h,p+2*b))}else if(k=="tRNS")m.ctype==3?m.tabs[k]=g.readBytes(h,p,j):m.ctype==0?m.tabs[k]=y(h,p):m.ctype==2&&(m.tabs[k]=[y(h,p),y(h,p+2),y(h,p+4)]);else if(k=="gAMA")m.tabs[k]=g.readUint(h,p)/1e5;else if(k=="sRGB")m.tabs[k]=h[p];else if(k=="bKGD")m.ctype==0||m.ctype==4?m.tabs[k]=[y(h,p)]:m.ctype==2||m.ctype==6?m.tabs[k]=[y(h,p),y(h,p+2),y(h,p+4)]:m.ctype==3&&(m.tabs[k]=h[p]);else if(k=="IEND")break;p+=j,g.readUint(h,p),p+=4}var L;return R!=0&&((L=m.frames[m.frames.length-1]).data=n(m,w.slice(0,R),L.rect.width,L.rect.height)),m.data=n(m,_,m.width,m.height),delete m.compress,delete m.interlace,delete m.filter,m},toRGBA8:function(d){const h=d.width,p=d.height;if(d.tabs.acTL==null)return[e(d.data,h,p,d).buffer];const g=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const y=h*p*4,v=new Uint8Array(y),m=new Uint8Array(y),_=new Uint8Array(y);for(let T=0;T<d.frames.length;T++){const R=d.frames[T],I=R.rect.x,b=R.rect.y,x=R.rect.width,C=R.rect.height,S=e(R.data,x,C,d);if(T!=0)for(var w=0;w<y;w++)_[w]=v[w];if(R.blend==0?c(S,x,C,v,h,p,I,b,0):R.blend==1&&c(S,x,C,v,h,p,I,b,1),g.push(v.buffer.slice(0)),R.dispose!=0){if(R.dispose==1)c(m,x,C,v,h,p,I,b,0);else if(R.dispose==2)for(w=0;w<y;w++)v[w]=_[w]}}return g},_paeth:a,_copyTile:c,_bin:t}}();(function(){const{_copyTile:t}=Pr,{_bin:e}=Pr,n=Pr._paeth;var r={table:function(){const x=new Uint32Array(256);for(let C=0;C<256;C++){let S=C;for(let N=0;N<8;N++)1&S?S=3988292384^S>>>1:S>>>=1;x[C]=S}return x}(),update(x,C,S,N){for(let P=0;P<N;P++)x=r.table[255&(x^C[S+P])]^x>>>8;return x},crc:(x,C,S)=>4294967295^r.update(4294967295,x,C,S)};function s(x,C,S,N){C[S]+=x[0]*N>>4,C[S+1]+=x[1]*N>>4,C[S+2]+=x[2]*N>>4,C[S+3]+=x[3]*N>>4}function i(x){return Math.max(0,Math.min(255,x))}function o(x,C){const S=x[0]-C[0],N=x[1]-C[1],P=x[2]-C[2],M=x[3]-C[3];return S*S+N*N+P*P+M*M}function a(x,C,S,N,P,M,L){L==null&&(L=1);const j=N.length,k=[];for(var A=0;A<j;A++){const F=N[A];k.push([F>>>0&255,F>>>8&255,F>>>16&255,F>>>24&255])}for(A=0;A<j;A++){let F=4294967295;for(var D=0,O=0;O<j;O++){var $=o(k[A],k[O]);O!=A&&$<F&&(F=$,D=O)}}const H=new Uint32Array(P.buffer),z=new Int16Array(C*S*4),K=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(A=0;A<K.length;A++)K[A]=255*((K[A]+.5)/16-.5);for(let F=0;F<S;F++)for(let te=0;te<C;te++){var V;A=4*(F*C+te),L!=2?V=[i(x[A]+z[A]),i(x[A+1]+z[A+1]),i(x[A+2]+z[A+2]),i(x[A+3]+z[A+3])]:($=K[4*(3&F)+(3&te)],V=[i(x[A]+$),i(x[A+1]+$),i(x[A+2]+$),i(x[A+3]+$)]),D=0;let pe=16777215;for(O=0;O<j;O++){const be=o(V,k[O]);be<pe&&(pe=be,D=O)}const ve=k[D],ie=[V[0]-ve[0],V[1]-ve[1],V[2]-ve[2],V[3]-ve[3]];L==1&&(te!=C-1&&s(ie,z,A+4,7),F!=S-1&&(te!=0&&s(ie,z,A+4*C-4,3),s(ie,z,A+4*C,5),te!=C-1&&s(ie,z,A+4*C+4,1))),M[A>>2]=D,H[A>>2]=N[D]}}function l(x,C,S,N,P){P==null&&(P={});const{crc:M}=r,L=e.writeUint,j=e.writeUshort,k=e.writeASCII;let A=8;const D=x.frames.length>1;let O,$=!1,H=33+(D?20:0);if(P.sRGB!=null&&(H+=13),P.pHYs!=null&&(H+=21),P.iCCP!=null&&(O=pako.deflate(P.iCCP),H+=21+O.length+4),x.ctype==3){for(var z=x.plte.length,K=0;K<z;K++)x.plte[K]>>>24!=255&&($=!0);H+=8+3*z+4+($?8+1*z+4:0)}for(var V=0;V<x.frames.length;V++)D&&(H+=38),H+=(ve=x.frames[V]).cimg.length+12,V!=0&&(H+=4);H+=12;const F=new Uint8Array(H),te=[137,80,78,71,13,10,26,10];for(K=0;K<8;K++)F[K]=te[K];if(L(F,A,13),A+=4,k(F,A,"IHDR"),A+=4,L(F,A,C),A+=4,L(F,A,S),A+=4,F[A]=x.depth,A++,F[A]=x.ctype,A++,F[A]=0,A++,F[A]=0,A++,F[A]=0,A++,L(F,A,M(F,A-17,17)),A+=4,P.sRGB!=null&&(L(F,A,1),A+=4,k(F,A,"sRGB"),A+=4,F[A]=P.sRGB,A++,L(F,A,M(F,A-5,5)),A+=4),P.iCCP!=null){const ie=13+O.length;L(F,A,ie),A+=4,k(F,A,"iCCP"),A+=4,k(F,A,"ICC profile"),A+=11,A+=2,F.set(O,A),A+=O.length,L(F,A,M(F,A-(ie+4),ie+4)),A+=4}if(P.pHYs!=null&&(L(F,A,9),A+=4,k(F,A,"pHYs"),A+=4,L(F,A,P.pHYs[0]),A+=4,L(F,A,P.pHYs[1]),A+=4,F[A]=P.pHYs[2],A++,L(F,A,M(F,A-13,13)),A+=4),D&&(L(F,A,8),A+=4,k(F,A,"acTL"),A+=4,L(F,A,x.frames.length),A+=4,L(F,A,P.loop!=null?P.loop:0),A+=4,L(F,A,M(F,A-12,12)),A+=4),x.ctype==3){for(L(F,A,3*(z=x.plte.length)),A+=4,k(F,A,"PLTE"),A+=4,K=0;K<z;K++){const ie=3*K,be=x.plte[K],Ne=255&be,He=be>>>8&255,Ue=be>>>16&255;F[A+ie+0]=Ne,F[A+ie+1]=He,F[A+ie+2]=Ue}if(A+=3*z,L(F,A,M(F,A-3*z-4,3*z+4)),A+=4,$){for(L(F,A,z),A+=4,k(F,A,"tRNS"),A+=4,K=0;K<z;K++)F[A+K]=x.plte[K]>>>24&255;A+=z,L(F,A,M(F,A-z-4,z+4)),A+=4}}let pe=0;for(V=0;V<x.frames.length;V++){var ve=x.frames[V];D&&(L(F,A,26),A+=4,k(F,A,"fcTL"),A+=4,L(F,A,pe++),A+=4,L(F,A,ve.rect.width),A+=4,L(F,A,ve.rect.height),A+=4,L(F,A,ve.rect.x),A+=4,L(F,A,ve.rect.y),A+=4,j(F,A,N[V]),A+=2,j(F,A,1e3),A+=2,F[A]=ve.dispose,A++,F[A]=ve.blend,A++,L(F,A,M(F,A-30,30)),A+=4);const ie=ve.cimg;L(F,A,(z=ie.length)+(V==0?0:4)),A+=4;const be=A;k(F,A,V==0?"IDAT":"fdAT"),A+=4,V!=0&&(L(F,A,pe++),A+=4),F.set(ie,A),A+=z,L(F,A,M(F,be,A-be)),A+=4}return L(F,A,0),A+=4,k(F,A,"IEND"),A+=4,L(F,A,M(F,A-4,4)),A+=4,F.buffer}function c(x,C,S){for(let N=0;N<x.frames.length;N++){const P=x.frames[N];P.rect.width;const M=P.rect.height,L=new Uint8Array(M*P.bpl+M);P.cimg=p(P.img,M,P.bpp,P.bpl,L,C,S)}}function u(x,C,S,N,P){const M=P[0],L=P[1],j=P[2],k=P[3],A=P[4],D=P[5];let O=6,$=8,H=255;for(var z=0;z<x.length;z++){const Ot=new Uint8Array(x[z]);for(var K=Ot.length,V=0;V<K;V+=4)H&=Ot[V+3]}const F=H!=255,te=function($e,Pe,gt,yt,qe,Yt){const rt=[];for(var Ie=0;Ie<$e.length;Ie++){const re=new Uint8Array($e[Ie]),fe=new Uint32Array(re.buffer);var vt;let Le=0,It=0,ar=Pe,ws=gt,Ll=yt?1:0;if(Ie!=0){const tS=Yt||yt||Ie==1||rt[Ie-2].dispose!=0?1:2;let O2=0,w_=1e9;for(let Ml=0;Ml<tS;Ml++){var Nn=new Uint8Array($e[Ie-1-Ml]);const nS=new Uint32Array($e[Ie-1-Ml]);let Hs=Pe,qs=gt,Qo=-1,Ol=-1;for(let Gi=0;Gi<gt;Gi++)for(let Ki=0;Ki<Pe;Ki++)fe[_t=Gi*Pe+Ki]!=nS[_t]&&(Ki<Hs&&(Hs=Ki),Ki>Qo&&(Qo=Ki),Gi<qs&&(qs=Gi),Gi>Ol&&(Ol=Gi));Qo==-1&&(Hs=qs=Qo=Ol=0),qe&&((1&Hs)==1&&Hs--,(1&qs)==1&&qs--);const x_=(Qo-Hs+1)*(Ol-qs+1);x_<w_&&(w_=x_,O2=Ml,Le=Hs,It=qs,ar=Qo-Hs+1,ws=Ol-qs+1)}Nn=new Uint8Array($e[Ie-1-O2]),O2==1&&(rt[Ie-1].dispose=2),vt=new Uint8Array(ar*ws*4),t(Nn,Pe,gt,vt,ar,ws,-Le,-It,0),Ll=t(re,Pe,gt,vt,ar,ws,-Le,-It,3)?1:0,Ll==1?h(re,Pe,gt,vt,{x:Le,y:It,width:ar,height:ws}):t(re,Pe,gt,vt,ar,ws,-Le,-It,0)}else vt=re.slice(0);rt.push({rect:{x:Le,y:It,width:ar,height:ws},img:vt,blend:Ll,dispose:0})}if(yt)for(Ie=0;Ie<rt.length;Ie++){if((se=rt[Ie]).blend==1)continue;const re=se.rect,fe=rt[Ie-1].rect,Le=Math.min(re.x,fe.x),It=Math.min(re.y,fe.y),ar={x:Le,y:It,width:Math.max(re.x+re.width,fe.x+fe.width)-Le,height:Math.max(re.y+re.height,fe.y+fe.height)-It};rt[Ie-1].dispose=1,Ie-1!=0&&d($e,Pe,gt,rt,Ie-1,ar,qe),d($e,Pe,gt,rt,Ie,ar,qe)}let _s=0;if($e.length!=1)for(var _t=0;_t<rt.length;_t++){var se;_s+=(se=rt[_t]).rect.width*se.rect.height}return rt}(x,C,S,M,L,j),pe={},ve=[],ie=[];if(N!=0){const Ot=[];for(V=0;V<te.length;V++)Ot.push(te[V].img.buffer);const $e=function(qe){let Yt=0;for(var rt=0;rt<qe.length;rt++)Yt+=qe[rt].byteLength;const Ie=new Uint8Array(Yt);let vt=0;for(rt=0;rt<qe.length;rt++){const Nn=new Uint8Array(qe[rt]),_s=Nn.length;for(let _t=0;_t<_s;_t+=4){let se=Nn[_t],re=Nn[_t+1],fe=Nn[_t+2];const Le=Nn[_t+3];Le==0&&(se=re=fe=0),Ie[vt+_t]=se,Ie[vt+_t+1]=re,Ie[vt+_t+2]=fe,Ie[vt+_t+3]=Le}vt+=_s}return Ie.buffer}(Ot),Pe=y($e,N);for(V=0;V<Pe.plte.length;V++)ve.push(Pe.plte[V].est.rgba);let gt=0;for(V=0;V<te.length;V++){const yt=(Ne=te[V]).img.length;var be=new Uint8Array(Pe.inds.buffer,gt>>2,yt>>2);ie.push(be);const qe=new Uint8Array(Pe.abuf,gt,yt);D&&a(Ne.img,Ne.rect.width,Ne.rect.height,ve,qe,be),Ne.img.set(qe),gt+=yt}}else for(z=0;z<te.length;z++){var Ne=te[z];const Ot=new Uint32Array(Ne.img.buffer);var He=Ne.rect.width;for(K=Ot.length,be=new Uint8Array(K),ie.push(be),V=0;V<K;V++){const $e=Ot[V];if(V!=0&&$e==Ot[V-1])be[V]=be[V-1];else if(V>He&&$e==Ot[V-He])be[V]=be[V-He];else{let Pe=pe[$e];if(Pe==null&&(pe[$e]=Pe=ve.length,ve.push($e),ve.length>=300))break;be[V]=Pe}}}const Ue=ve.length;for(Ue<=256&&A==0&&($=Ue<=2?1:Ue<=4?2:Ue<=16?4:8,$=Math.max($,k)),z=0;z<te.length;z++){(Ne=te[z]).rect.x,Ne.rect.y,He=Ne.rect.width;const Ot=Ne.rect.height;let $e=Ne.img;new Uint32Array($e.buffer);let Pe=4*He,gt=4;if(Ue<=256&&A==0){Pe=Math.ceil($*He/8);var Qt=new Uint8Array(Pe*Ot);const yt=ie[z];for(let qe=0;qe<Ot;qe++){V=qe*Pe;const Yt=qe*He;if($==8)for(var Ve=0;Ve<He;Ve++)Qt[V+Ve]=yt[Yt+Ve];else if($==4)for(Ve=0;Ve<He;Ve++)Qt[V+(Ve>>1)]|=yt[Yt+Ve]<<4-4*(1&Ve);else if($==2)for(Ve=0;Ve<He;Ve++)Qt[V+(Ve>>2)]|=yt[Yt+Ve]<<6-2*(3&Ve);else if($==1)for(Ve=0;Ve<He;Ve++)Qt[V+(Ve>>3)]|=yt[Yt+Ve]<<7-1*(7&Ve)}$e=Qt,O=3,gt=1}else if(F==0&&te.length==1){Qt=new Uint8Array(He*Ot*3);const yt=He*Ot;for(V=0;V<yt;V++){const qe=3*V,Yt=4*V;Qt[qe]=$e[Yt],Qt[qe+1]=$e[Yt+1],Qt[qe+2]=$e[Yt+2]}$e=Qt,O=2,gt=3,Pe=3*He}Ne.img=$e,Ne.bpl=Pe,Ne.bpp=gt}return{ctype:O,depth:$,plte:ve,frames:te}}function d(x,C,S,N,P,M,L){const j=Uint8Array,k=Uint32Array,A=new j(x[P-1]),D=new k(x[P-1]),O=P+1<x.length?new j(x[P+1]):null,$=new j(x[P]),H=new k($.buffer);let z=C,K=S,V=-1,F=-1;for(let pe=0;pe<M.height;pe++)for(let ve=0;ve<M.width;ve++){const ie=M.x+ve,be=M.y+pe,Ne=be*C+ie,He=H[Ne];He==0||N[P-1].dispose==0&&D[Ne]==He&&(O==null||O[4*Ne+3]!=0)||(ie<z&&(z=ie),ie>V&&(V=ie),be<K&&(K=be),be>F&&(F=be))}V==-1&&(z=K=V=F=0),L&&((1&z)==1&&z--,(1&K)==1&&K--),M={x:z,y:K,width:V-z+1,height:F-K+1};const te=N[P];te.rect=M,te.blend=1,te.img=new Uint8Array(M.width*M.height*4),N[P-1].dispose==0?(t(A,C,S,te.img,M.width,M.height,-M.x,-M.y,0),h($,C,S,te.img,M)):t($,C,S,te.img,M.width,M.height,-M.x,-M.y,0)}function h(x,C,S,N,P){t(x,C,S,N,P.width,P.height,-P.x,-P.y,2)}function p(x,C,S,N,P,M,L){const j=[];let k,A=[0,1,2,3,4];M!=-1?A=[M]:(C*N>5e5||S==1)&&(A=[0]),L&&(k={level:0});const D=jK;for(var O=0;O<A.length;O++){for(let z=0;z<C;z++)g(P,x,z,N,S,A[O]);j.push(D.deflate(P,k))}let $,H=1e9;for(O=0;O<j.length;O++)j[O].length<H&&($=O,H=j[O].length);return j[$]}function g(x,C,S,N,P,M){const L=S*N;let j=L+S;if(x[j]=M,j++,M==0)if(N<500)for(var k=0;k<N;k++)x[j+k]=C[L+k];else x.set(new Uint8Array(C.buffer,L,N),j);else if(M==1){for(k=0;k<P;k++)x[j+k]=C[L+k];for(k=P;k<N;k++)x[j+k]=C[L+k]-C[L+k-P]+256&255}else if(S==0){for(k=0;k<P;k++)x[j+k]=C[L+k];if(M==2)for(k=P;k<N;k++)x[j+k]=C[L+k];if(M==3)for(k=P;k<N;k++)x[j+k]=C[L+k]-(C[L+k-P]>>1)+256&255;if(M==4)for(k=P;k<N;k++)x[j+k]=C[L+k]-n(C[L+k-P],0,0)+256&255}else{if(M==2)for(k=0;k<N;k++)x[j+k]=C[L+k]+256-C[L+k-N]&255;if(M==3){for(k=0;k<P;k++)x[j+k]=C[L+k]+256-(C[L+k-N]>>1)&255;for(k=P;k<N;k++)x[j+k]=C[L+k]+256-(C[L+k-N]+C[L+k-P]>>1)&255}if(M==4){for(k=0;k<P;k++)x[j+k]=C[L+k]+256-n(0,C[L+k-N],0)&255;for(k=P;k<N;k++)x[j+k]=C[L+k]+256-n(C[L+k-P],C[L+k-N],C[L+k-P-N])&255}}}function y(x,C){const S=new Uint8Array(x),N=S.slice(0),P=new Uint32Array(N.buffer),M=v(N,C),L=M[0],j=M[1],k=S.length,A=new Uint8Array(k>>2);let D;if(S.length<2e7)for(var O=0;O<k;O+=4)D=m(L,$=S[O]*(1/255),H=S[O+1]*(1/255),z=S[O+2]*(1/255),K=S[O+3]*(1/255)),A[O>>2]=D.ind,P[O>>2]=D.est.rgba;else for(O=0;O<k;O+=4){var $=S[O]*.00392156862745098,H=S[O+1]*(1/255),z=S[O+2]*(1/255),K=S[O+3]*(1/255);for(D=L;D.left;)D=_(D.est,$,H,z,K)<=0?D.left:D.right;A[O>>2]=D.ind,P[O>>2]=D.est.rgba}return{abuf:N.buffer,inds:A,plte:j}}function v(x,C,S){S==null&&(S=1e-4);const N=new Uint32Array(x.buffer),P={i0:0,i1:x.length,bst:null,est:null,tdst:0,left:null,right:null};P.bst=R(x,P.i0,P.i1),P.est=I(P.bst);const M=[P];for(;M.length<C;){let j=0,k=0;for(var L=0;L<M.length;L++)M[L].est.L>j&&(j=M[L].est.L,k=L);if(j<S)break;const A=M[k],D=w(x,N,A.i0,A.i1,A.est.e,A.est.eMq255);if(A.i0>=D||A.i1<=D){A.est.L=0;continue}const O={i0:A.i0,i1:D,bst:null,est:null,tdst:0,left:null,right:null};O.bst=R(x,O.i0,O.i1),O.est=I(O.bst);const $={i0:D,i1:A.i1,bst:null,est:null,tdst:0,left:null,right:null};for($.bst={R:[],m:[],N:A.bst.N-O.bst.N},L=0;L<16;L++)$.bst.R[L]=A.bst.R[L]-O.bst.R[L];for(L=0;L<4;L++)$.bst.m[L]=A.bst.m[L]-O.bst.m[L];$.est=I($.bst),A.left=O,A.right=$,M[k]=O,M.push($)}for(M.sort((j,k)=>k.bst.N-j.bst.N),L=0;L<M.length;L++)M[L].ind=L;return[P,M]}function m(x,C,S,N,P){if(x.left==null)return x.tdst=function(O,$,H,z,K){const V=$-O[0],F=H-O[1],te=z-O[2],pe=K-O[3];return V*V+F*F+te*te+pe*pe}(x.est.q,C,S,N,P),x;const M=_(x.est,C,S,N,P);let L=x.left,j=x.right;M>0&&(L=x.right,j=x.left);const k=m(L,C,S,N,P);if(k.tdst<=M*M)return k;const A=m(j,C,S,N,P);return A.tdst<k.tdst?A:k}function _(x,C,S,N,P){const{e:M}=x;return M[0]*C+M[1]*S+M[2]*N+M[3]*P-x.eMq}function w(x,C,S,N,P,M){for(N-=4;S<N;){for(;T(x,S,P)<=M;)S+=4;for(;T(x,N,P)>M;)N-=4;if(S>=N)break;const L=C[S>>2];C[S>>2]=C[N>>2],C[N>>2]=L,S+=4,N-=4}for(;T(x,S,P)>M;)S-=4;return S+4}function T(x,C,S){return x[C]*S[0]+x[C+1]*S[1]+x[C+2]*S[2]+x[C+3]*S[3]}function R(x,C,S){const N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],P=[0,0,0,0],M=S-C>>2;for(let L=C;L<S;L+=4){const j=x[L]*.00392156862745098,k=x[L+1]*(1/255),A=x[L+2]*(1/255),D=x[L+3]*(1/255);P[0]+=j,P[1]+=k,P[2]+=A,P[3]+=D,N[0]+=j*j,N[1]+=j*k,N[2]+=j*A,N[3]+=j*D,N[5]+=k*k,N[6]+=k*A,N[7]+=k*D,N[10]+=A*A,N[11]+=A*D,N[15]+=D*D}return N[4]=N[1],N[8]=N[2],N[9]=N[6],N[12]=N[3],N[13]=N[7],N[14]=N[11],{R:N,m:P,N:M}}function I(x){const{R:C}=x,{m:S}=x,{N}=x,P=S[0],M=S[1],L=S[2],j=S[3],k=N==0?0:1/N,A=[C[0]-P*P*k,C[1]-P*M*k,C[2]-P*L*k,C[3]-P*j*k,C[4]-M*P*k,C[5]-M*M*k,C[6]-M*L*k,C[7]-M*j*k,C[8]-L*P*k,C[9]-L*M*k,C[10]-L*L*k,C[11]-L*j*k,C[12]-j*P*k,C[13]-j*M*k,C[14]-j*L*k,C[15]-j*j*k],D=A,O=b;let $=[Math.random(),Math.random(),Math.random(),Math.random()],H=0,z=0;if(N!=0)for(let V=0;V<16&&($=O.multVec(D,$),z=Math.sqrt(O.dot($,$)),$=O.sml(1/z,$),!(V!=0&&Math.abs(z-H)<1e-9));V++)H=z;const K=[P*k,M*k,L*k,j*k];return{Cov:A,q:K,e:$,L:H,eMq255:O.dot(O.sml(255,K),$),eMq:O.dot($,K),rgba:(Math.round(255*K[3])<<24|Math.round(255*K[2])<<16|Math.round(255*K[1])<<8|Math.round(255*K[0])<<0)>>>0}}var b={multVec:(x,C)=>[x[0]*C[0]+x[1]*C[1]+x[2]*C[2]+x[3]*C[3],x[4]*C[0]+x[5]*C[1]+x[6]*C[2]+x[7]*C[3],x[8]*C[0]+x[9]*C[1]+x[10]*C[2]+x[11]*C[3],x[12]*C[0]+x[13]*C[1]+x[14]*C[2]+x[15]*C[3]],dot:(x,C)=>x[0]*C[0]+x[1]*C[1]+x[2]*C[2]+x[3]*C[3],sml:(x,C)=>[x*C[0],x*C[1],x*C[2],x*C[3]]};Pr.encode=function(C,S,N,P,M,L,j){P==null&&(P=0),j==null&&(j=!1);const k=u(C,S,N,P,[!1,!1,!1,0,j,!1]);return c(k,-1),l(k,S,N,M,L)},Pr.encodeLL=function(C,S,N,P,M,L,j,k){const A={ctype:0+(P==1?0:2)+(M==0?0:4),depth:L,frames:[]},D=(P+M)*L,O=D*S;for(let $=0;$<C.length;$++)A.frames.push({rect:{x:0,y:0,width:S,height:N},img:new Uint8Array(C[$]),blend:0,dispose:1,bpp:Math.ceil(D/8),bpl:Math.ceil(O/8)});return c(A,0,!0),l(A,S,N,j,k)},Pr.encode.compress=u,Pr.encode.dither=a,Pr.quantize=y,Pr.quantize.getKDtree=v,Pr.quantize.getNearest=m})();const Hb={toArrayBuffer(t,e){const n=t.width,r=t.height,s=n<<2,i=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(i.data.buffer),a=(32*n+31)/32<<2,l=a*r,c=122+l,u=new ArrayBuffer(c),d=new DataView(u),h=1<<20;let p,g,y,v,m=h,_=0,w=0,T=0;function R(x){d.setUint16(w,x,!0),w+=2}function I(x){d.setUint32(w,x,!0),w+=4}function b(x){w+=x}R(19778),I(c),b(4),I(122),I(108),I(n),I(-r>>>0),R(1),R(32),I(3),I(l),I(2835),I(2835),b(8),I(16711680),I(65280),I(255),I(4278190080),I(1466527264),function x(){for(;_<r&&m>0;){for(v=122+_*a,p=0;p<s;)m--,g=o[T++],y=g>>>24,d.setUint32(v+p,g<<8|y),p+=4;_++}T<o.length?(m=h,setTimeout(x,Hb._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Ln={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},$K={[Ln.CHROME]:16384,[Ln.FIREFOX]:11180,[Ln.DESKTOP_SAFARI]:16384,[Ln.IE]:8192,[Ln.IOS]:4096,[Ln.ETC]:8192};const g_=typeof window<"u",qb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,P0=g_&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),FK=(g_||qb)&&(P0&&P0.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Gb=(g_||qb)&&(P0&&P0.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function y_(t,e,n=Date.now()){return new Promise(r=>{const s=t.split(","),i=s[0].match(/:(.*?);/)[1],o=globalThis.atob(s[1]);let a=o.length;const l=new Uint8Array(a);for(;a--;)l[a]=o.charCodeAt(a);const c=new Blob([l],{type:i});c.name=e,c.lastModified=n,r(c)})}function Kb(t){return new Promise((e,n)=>{const r=new Gb;r.onload=()=>e(r.result),r.onerror=s=>n(s),r.readAsDataURL(t)})}function Qb(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=s=>n(s),r.src=t})}function po(){if(po.cachedResult!==void 0)return po.cachedResult;let t=Ln.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Ln.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Ln.IOS:/Safari/i.test(e)?t=Ln.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Ln.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Ln.IE),po.cachedResult=t,po.cachedResult}function Yb(t,e){const n=po(),r=$K[n];let s=t,i=e,o=s*i;const a=s>i?i/s:s/i;for(;o>r*r;){const l=(r+s)/2,c=(r+i)/2;l<c?(i=c,s=c*a):(i=l*a,s=l),o=s*i}return{width:s,height:i}}function M2(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function Xb(t,e){const{width:n,height:r}=Yb(t.width,t.height),[s,i]=M2(n,r);return e&&/jpe?g/.test(e)&&(i.fillStyle="white",i.fillRect(0,0,s.width,s.height)),i.drawImage(t,0,0,s.width,s.height),s}function xh(){return xh.cachedResult!==void 0||(xh.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),xh.cachedResult}function L0(t,e={}){return new Promise(function(n,r){let s,i;var o=function(){try{return i=Xb(s,e.fileType||t.type),n([s,i])}catch(l){return r(l)}},a=function(l){try{var c=function(u){try{throw u}catch(d){return r(d)}};try{let u;return Kb(t).then(function(d){try{return u=d,Qb(u).then(function(h){try{return s=h,function(){try{return o()}catch(p){return r(p)}}()}catch(p){return c(p)}},c)}catch(h){return c(h)}},c)}catch(u){c(u)}}catch(u){return r(u)}};try{if(xh()||[Ln.DESKTOP_SAFARI,Ln.MOBILE_SAFARI].includes(po()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return s=l,o()}catch{return a()}},a)}catch{a()}})}function M0(t,e,n,r,s=1){return new Promise(function(i,o){let a;if(e==="image/png"){let d,h,p;return d=t.getContext("2d"),{data:h}=d.getImageData(0,0,t.width,t.height),p=Pr.encode([h.buffer],t.width,t.height,4096*s),a=new Blob([p],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let d=function(){return l.call(this)};var c=d;if(e==="image/bmp")return new Promise(h=>Hb.toBlob(t,h)).then((function(h){try{return a=h,a.name=n,a.lastModified=r,d.call(this)}catch(p){return o(p)}}).bind(this),o);{let h=function(){return d.call(this)};var u=h;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:s}).then((function(p){try{return a=p,a.name=n,a.lastModified=r,h.call(this)}catch(g){return o(g)}}).bind(this),o);{let p;return p=t.toDataURL(e,s),y_(p,n,r).then((function(g){try{return a=g,h.call(this)}catch(y){return o(y)}}).bind(this),o)}}}function l(){return i(a)}})}function Xr(t){t.width=0,t.height=0}function Ta(){return new Promise(function(t,e){let n,r,s,i;return Ta.cachedResult!==void 0?t(Ta.cachedResult):y_("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,L0(n).then(function(a){try{return r=a[1],M0(r,n.type,n.name,n.lastModified).then(function(l){try{return s=l,Xr(r),L0(s).then(function(c){try{return i=c[0],Ta.cachedResult=i.width===1&&i.height===2,t(Ta.cachedResult)}catch(u){return e(u)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function Jb(t){return new Promise((e,n)=>{const r=new Gb;r.onload=s=>{const i=new DataView(s.target.result);if(i.getUint16(0,!1)!=65496)return e(-2);const o=i.byteLength;let a=2;for(;a<o;){if(i.getUint16(a+2,!1)<=8)return e(-1);const l=i.getUint16(a,!1);if(a+=2,l==65505){if(i.getUint32(a+=2,!1)!=1165519206)return e(-1);const c=i.getUint16(a+=6,!1)==18761;a+=i.getUint32(a+4,c);const u=i.getUint16(a,c);a+=2;for(let d=0;d<u;d++)if(i.getUint16(a+12*d,c)==274)return e(i.getUint16(a+12*d+8,c))}else{if((65280&l)!=65280)break;a+=i.getUint16(a,!1)}}return e(-1)},r.onerror=s=>n(s),r.readAsArrayBuffer(t)})}function Zb(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:s}=e;let i,o=t;return isFinite(s)&&(n>s||r>s)&&([o,i]=M2(n,r),n>r?(o.width=s,o.height=r/n*s):(o.width=n/r*s,o.height=s),i.drawImage(t,0,0,o.width,o.height),Xr(t)),o}function eS(t,e){const{width:n}=t,{height:r}=t,[s,i]=M2(n,r);switch(e>4&&e<9?(s.width=r,s.height=n):(s.width=n,s.height=r),e){case 2:i.transform(-1,0,0,1,n,0);break;case 3:i.transform(-1,0,0,-1,n,r);break;case 4:i.transform(1,0,0,-1,0,r);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,r,0);break;case 7:i.transform(0,-1,-1,0,r,n);break;case 8:i.transform(0,-1,1,0,0,n)}return i.drawImage(t,0,0,n,r),Xr(t),s}function Lx(t,e,n=0){return new Promise(function(r,s){let i,o,a,l,c,u,d,h,p,g,y,v,m,_,w,T,R,I,b,x;function C(N=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;i+=N,e.onProgress(Math.min(i,100))}function S(N){if(e.signal&&e.signal.aborted)throw e.signal.reason;i=Math.min(Math.max(N,i),100),e.onProgress(i)}return i=n,o=e.maxIteration||10,a=1024*e.maxSizeMB*1024,C(),L0(t,e).then((function(N){try{return[,l]=N,C(),c=Zb(l,e),C(),new Promise(function(P,M){var L;if(!(L=e.exifOrientation))return Jb(t).then((function(k){try{return L=k,j.call(this)}catch(A){return M(A)}}).bind(this),M);function j(){return P(L)}return j.call(this)}).then((function(P){try{return u=P,C(),Ta().then((function(M){try{return d=M?c:eS(c,u),C(),h=e.initialQuality||1,p=e.fileType||t.type,M0(d,p,t.name,t.lastModified,h).then((function(L){try{{let D=function(){if(o--&&(w>a||w>m)){let $,H;return $=x?.95*b.width:b.width,H=x?.95*b.height:b.height,[R,I]=M2($,H),I.drawImage(b,0,0,$,H),h*=p==="image/png"?.85:.95,M0(R,p,t.name,t.lastModified,h).then(function(z){try{return T=z,Xr(b),b=R,w=T.size,S(Math.min(99,Math.floor((_-w)/(_-a)*100))),D}catch(K){return s(K)}},s)}return[1]},O=function(){return Xr(b),Xr(R),Xr(c),Xr(d),Xr(l),S(100),r(T)};var k=D,A=O;if(g=L,C(),y=g.size>a,v=g.size>t.size,!y&&!v)return S(100),r(g);var j;return m=t.size,_=g.size,w=_,b=d,x=!e.alwaysKeepResolution&&y,(j=(function($){for(;$;){if($.then)return void $.then(j,s);try{if($.pop){if($.length)return $.pop()?O.call(this):$;$=D}else $=$.call(this)}catch(H){return s(H)}}}).bind(this))(D)}}catch(D){return s(D)}}).bind(this),s)}catch(L){return s(L)}}).bind(this),s)}catch(M){return s(M)}}).bind(this),s)}catch(P){return s(P)}}).bind(this),s)})}const UK=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Bp;function VK(t,e){return new Promise((n,r)=>{Bp||(Bp=function(o){const a=[];return typeof o=="function"?a.push(`(${o})()`):a.push(o),URL.createObjectURL(new Blob(a))}(UK));const s=new Worker(Bp);s.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)s.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void s.terminate();n(o.data.file),s.terminate()}else e.onProgress(o.data.progress)}),s.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),s.terminate()}),s.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function Dt(t,e){return new Promise(function(n,r){let s,i,o,a,l,c;if(s={...e},o=0,{onProgress:a}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof s.useWebWorker!="boolean"||s.useWebWorker,delete s.useWebWorker,s.onProgress=p=>{o=p,typeof a=="function"&&a(o)},!(t instanceof Blob||t instanceof FK))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||c)return Lx(t,s).then((function(p){try{return i=p,h.call(this)}catch(g){return r(g)}}).bind(this),r);var u=(function(){try{return h.call(this)}catch(p){return r(p)}}).bind(this),d=function(p){try{return Lx(t,s).then(function(g){try{return i=g,u()}catch(y){return r(y)}},r)}catch(g){return r(g)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",VK(t,s).then(function(p){try{return i=p,u()}catch{return d()}},d)}catch{d()}function h(){try{i.name=t.name,i.lastModified=t.lastModified}catch{}try{s.preserveExif&&t.type==="image/jpeg"&&(!s.fileType||s.fileType&&s.fileType===t.type)&&(i=Wb(t,i))}catch{}return n(i)}})}Dt.getDataUrlFromFile=Kb,Dt.getFilefromDataUrl=y_,Dt.loadImage=Qb,Dt.drawImageInCanvas=Xb,Dt.drawFileInCanvas=L0,Dt.canvasToFile=M0,Dt.getExifOrientation=Jb,Dt.handleMaxWidthOrHeight=Zb,Dt.followExifOrientation=eS,Dt.cleanupCanvasMemory=Xr,Dt.isAutoOrientationInBrowser=Ta,Dt.approximateBelowMaximumCanvasSizeOfBrowser=Yb,Dt.copyExifWithoutOrientation=Wb,Dt.getBrowserName=po,Dt.version="2.0.2";const zK=()=>{var I;const{userData:t,refreshUserData:e,theme:n,setTheme:r,isOnline:s}=E.useContext(ee),[i,o]=E.useState(t.name||""),[a,l]=E.useState(null),[c,u]=E.useState(!1),d=E.useRef(null),[h,p]=E.useState(null),g=de(Te,"users",(I=Z==null?void 0:Z.currentUser)==null?void 0:I.uid),y=(t==null?void 0:t.nameChangeCount)||0;ms(d,u);const v=async(b,x)=>{if(i.trim())try{await gn(g,b),e(),R(x)}catch(C){R(C.message)}},m=()=>{var S;const b=new Date,x=(S=t==null?void 0:t.lastNameChangeDate)==null?void 0:S.toDate();if(b.getMonth()===(x==null?void 0:x.getMonth())&&b.getFullYear()===(x==null?void 0:x.getFullYear()))if(y<3){const N={name:i.trim(),nameChangeCount:y+1,lastNameChangeDate:b};v(N,"Updated name successfully!")}else R("You can only change your name 3 times per month!");else{const N={name:i.trim(),nameChangeCount:1,lastNameChangeDate:b};v(N,"Updated name successfully!")}};E.useEffect(()=>{o(t.name)},[t]);const _=async()=>{const b=await Dt(a,{maxSizeMB:.3,maxWidthOrHeight:300,useWebWorker:!0}),x=ci(ui,`profile/${t.uid}/${t.name}-${a.name}`);try{const C=de(Te,"users",t.uid);R("Uploading image...");const S=await xu(x,b),P={image:await Eu(S.ref)};await gn(C,P),l(null),R("Updated profile picture successfully!")}catch(C){R(C.message)}},w=()=>{a&&_(),i.trim()!==t.name&&m()};let T;const R=(b,x=3e3)=>{clearTimeout(T),p(b),T=setTimeout(()=>{p(null)},x)};return f.jsxs("div",{className:"Settings p-2",children:[f.jsx(Hr,{}),f.jsxs("div",{className:"p-2",children:[f.jsxs("div",{className:"relative size-20",children:[f.jsx(Ir,{name:t.name||i||"User",image:a?URL.createObjectURL(a):t.image,size:"size-full",fontSize:"text-3xl"}),f.jsx("input",{type:"file",accept:"image/*",id:"imageInput",className:"hidden",onChange:b=>l(b.target.files[0])}),f.jsx("label",{htmlFor:"imageInput",className:` p-1 rounded-full absolute -bottom-1 -right-1 cursor-pointer ${n==="light"?"bg-gray-200":"bg-slate-500/70"}`,children:f.jsx("img",{className:"w-5",src:ae("edit")})})]}),f.jsxs("div",{className:`${n==="light"?"":"text-white"}`,children:["Hi, ",vs(t.name||i||"User",25),"!"]})]}),f.jsxs("div",{className:`grid gap-y-2 border  p-2 rounded-md ${n==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{children:[f.jsx("div",{children:"Name"}),f.jsxs("div",{ref:d,className:"flex gap-x-2 items-center",children:[!c&&f.jsx("div",{children:i||t.name||"User"}),c&&f.jsx("input",{autoFocus:!0,value:i,onChange:b=>o(b.target.value),className:` ${n==="light"?"focus:outline-blue-500":"bg-slate-500/70 outline-none"}`,placeholder:"Enter your full name"}),f.jsx("button",{onClick:()=>{u(!c)},className:` p-1 rounded-full cursor-pointer ${n==="light"?"bg-gray-200":"bg-slate-500/70"}`,children:f.jsx("img",{className:"w-5",src:ae(c?"save":"edit")})})]}),f.jsxs("p",{className:"text-red-600",children:["You have changed your name ",`${y} / 3`," ",y>1?"times":"time"," this month!"]})]}),f.jsxs("div",{children:[f.jsx("div",{children:"Email"}),f.jsx("div",{children:t.email||"example@gmail.com"})]})]}),f.jsx("div",{className:"flex gap-x-2 mt-2",children:a||(i==null?void 0:i.trim())!==t.name?f.jsx(Be,{data:{clickFn:()=>{w()},image:"save",text:"Update"}}):""}),h&&f.jsx(k0,{message:h}),f.jsx("div",{className:`mt-4 ${n==="light"?"":"text-white"} md:hidden`})]})},O0=({data:t})=>{const{text:e,onChangeFn:n,value:r,placeholder:s}=t,{theme:i}=E.useContext(ee);return f.jsxs("div",{className:"grid items-center gap-y-2",children:[f.jsx("div",{className:"font-medium",children:e}),f.jsx("input",{onChange:n,value:r,className:`border rounded-md h-10 pl-1 pr-1  w-full outline-2  ${i==="light"?"focus:outline-blue-300 border-gray-300":"border-slate-500/70 outline-none bg-slate-500/70"}`,placeholder:s})]})},BK=({data:t})=>{const{close:e}=t,{theme:n}=E.useContext(ee),[r,s]=E.useState(""),[i,o]=E.useState(""),a=r.trim(),l=lt(Te,"tests"),c=async h=>{try{await Ho(l,h)}catch(p){console.log(p.message)}},u=()=>{const h={uid:Z.currentUser.uid,isUploaded:!1,name:r,description:i,quizzes:[],gradingRules:[],time:Dn()};c(h),e()},d=()=>{a&&u()};return E.useEffect(()=>(Et("hidden"),()=>{Et("auto")}),[]),f.jsx("div",{className:"fixed flex items-center z-20 bg-black/60 justify-center top-0 left-0 right-0 bottom-0",children:f.jsxs("div",{className:`border w-4/5 sm:w-4/5 md:w-3/5 lg:w-2/5 rounded-md p-10 pb-5 grid gap-y-5 ${n==="light"?"bg-white border-gray-300":"bg-slate-600 border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(O0,{data:{text:"Name",onChangeFn:h=>s(h.target.value),value:r,placeholder:"Type test name here"}}),f.jsx(O0,{data:{text:"Description",onChangeFn:h=>o(h.target.value),value:i,placeholder:"Type description here"}})]}),f.jsxs("div",{className:"flex items-center gap-x-3 justify-center",children:[f.jsx(Be,{data:{clickFn:d,text:"Save",image:"save"}}),f.jsx(Be,{data:{clickFn:e,text:"Cancel"}})]})]})})},WK=({data:t})=>{const{options:e,value:n,setValue:r}=t,{theme:s}=E.useContext(ee),[i,o]=E.useState(!1),a=E.useRef(null);ms(a,o);const l=()=>{o(!i)},c=u=>{r(u)};return f.jsxs("div",{ref:a,className:"w-full relative font-padauk",children:[f.jsxs("button",{onClick:l,className:`border flex items-center rounded-lg justify-between h-10 w-full cursor-pointer hover:border-blue-500 shadow-sm gap-x-2 px-2 ${s==="light"?"border-gray-300 hover:bg-gray-50":"hover:bg-slate-500/70 text-white border-slate-500/70"}`,children:[f.jsx("span",{children:n||"Select correct answer"}),f.jsx("img",{className:"h-6 w-6",src:ae(i?"up":"down")})]}),i&&e.length!==0?f.jsx("div",{className:`absolute grid gap-y-1 min-w-full p-2 rounded-md border -top-40 ${s==="light"?"border-gray-200 bg-white":"text-white bg-slate-500/70 border-slate-500/70"}`,children:e.map(u=>f.jsx("div",{onClick:()=>{l(),c(u)},className:`p-1 cursor-pointer rounded-lg transition-all ${s==="light"?`${u===n?"bg-black font-medium text-white ":"hover:bg-gray-200"}`:`${u===n?"bg-slate-600 font-medium text-white ":"hover:bg-slate-600"}`}`,children:u},`choice-${u}`))}):""]})},si=({data:t})=>{const{choice:e,handleFn:n,value:r,placeholder:s}=t,{theme:i}=E.useContext(ee);return f.jsxs("div",{className:"grid gap-y-2 font-padauk",children:[f.jsx("div",{className:`font-medium ${i==="light"?"":"text-white"}`,children:e}),f.jsx("input",{onChange:o=>n(e,o),value:r,className:` w-full border rounded-md h-10 pl-1 pr-1  ${i==="light"?"focus:outline-blue-500 border-gray-300":"text-white outline-none border-slate-500/70 bg-slate-600"}`,placeholder:s})]})},HK=({data:t})=>{const{cancel:e,quizzes:n,setQuizzes:r,editData:s,clearEditData:i}=t,{theme:o}=E.useContext(ee),[a,l]=E.useState(s?s.question:""),[c,u]=E.useState(s?s.choices[0]:""),[d,h]=E.useState(s?s.choices[1]:""),[p,g]=E.useState(s?s.choices[2]:""),[y,v]=E.useState(s?s.choices[3]:""),[m,_]=E.useState(s?s.answer:"");let w=[];const T=c.trim()&&d.trim()&&p.trim()&&y.trim(),R=a.trim()&&c.trim()&&d.trim()&&p.trim()&&y.trim()&&m.trim();T&&(w=[c,d,p,y]);const I=(P,M)=>{P.toLowerCase()==="question"?l(M.target.value):_(M.target.value)},b=()=>{let P,M;R&&(P={id:n.length===0?1:n[n.length-1].id+1,question:a,choices:w,answer:m},M=[...n,P],r(M),io(),e())},x=()=>{const P=s.id,M={id:P,question:a,choices:w,answer:m},L=n.map(j=>P===j.id?M:j);r(L),e(),i()},C=(P,M)=>{P.toLowerCase()==="choice 1"?u(M.target.value):P.toLowerCase()==="choice 2"?h(M.target.value):P.toLowerCase()==="choice 3"?g(M.target.value):v(M.target.value)},S=()=>{s?x():b()},N=()=>{e(),i()};return E.useEffect(()=>(Et("hidden"),()=>{Et("auto")}),[]),f.jsx("div",{className:"fixed flex items-center z-20 bg-black/60 justify-center top-0 left-0 right-0 bottom-0",children:f.jsxs("div",{className:`border w-5/6 sm:w-4/5 md:w-3/5 lg:w-2/5 grid gap-y-2  p-3  top-0 left-0 right-0 bottom-0 rounded-lg relative ${o==="light"?"bg-white border-gray-200":"text-white border-slate-500/70 bg-slate-600"}`,children:[f.jsx("div",{className:`top-1 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center ${o==="light"?"bg-black border-gray-200":"bg-slate-500/70 border-slate-600"}`,children:s?s.number:n.length+1}),f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(si,{data:{handleFn:I,value:a,choice:"Question",placeholder:"Enter question"}}),f.jsx(si,{data:{handleFn:C,value:c,choice:"Choice 1",placeholder:"Enter choice 1"}}),f.jsx(si,{data:{handleFn:C,value:d,choice:"Choice 2",placeholder:"Enter choice 2"}}),f.jsx(si,{data:{handleFn:C,value:p,choice:"Choice 3",placeholder:"Enter choice 3"}}),f.jsx(si,{data:{handleFn:C,value:y,choice:"Choice 4",placeholder:"Enter choice 4"}}),f.jsxs("div",{className:"flex items-center gap-x-5",children:[f.jsx("div",{className:"font-medium",children:"Answer"}),f.jsx(WK,{data:{options:w,value:m,setValue:_}})]})]}),f.jsxs("div",{className:"flex justify-end gap-x-2",children:[f.jsx(Be,{data:{clickFn:S,text:"Save",image:"save"}}),f.jsx(Be,{data:{clickFn:N,text:"Cancel"}})]})]})})},qK=({data:t})=>{const{theme:e}=E.useContext(ee),{testName:n,numbers:r,changePage:s}=t;return f.jsx("div",{className:`text-lg p-1 font-medium sticky top-0 z-10 flex justify-between items-center ${e==="light"?"":"text-white"}`,children:f.jsxs("div",{className:"flex items-center gap-x-2",children:[f.jsx(ze,{data:{clickFn:()=>s("test"),image:"back"}}),f.jsxs("div",{children:[n,f.jsxs("span",{className:"text-sm",children:[" • "," ",r," ",r>1?"questions":"question"]})]})]})})},GK=({data:t})=>{const{quizzes:e,editQuestion:n,askToDelete:r,add:s,changePage:i}=t,{theme:o}=E.useContext(ee);return f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx("div",{className:`pl-1 font-medium ${o==="light"?"":"text-white"}`,children:"Questions"}),e.map((a,l)=>f.jsxs("div",{className:`border font-padauk p-2 relative ${o==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-x-2",children:[f.jsx(ze,{data:{clickFn:()=>n(a,l),image:"edit"}}),f.jsx(ze,{data:{clickFn:()=>r(a.id),image:"trash"}})]}),f.jsxs("div",{className:"flex items-center justify-between gap-x-2",children:[f.jsx("div",{className:"overflow-x-auto p-0.5 flex-1",children:a.question}),f.jsx("div",{className:`top-0 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center ${o==="light"?"bg-black border-gray-200":"bg-slate-500/70 border-slate-600"}`,children:l+1})]}),f.jsx("div",{className:"pl-2 pt-2 grid gap-y-1",children:a.choices.map((c,u)=>f.jsxs("div",{className:"flex gap-x-2",children:[f.jsx("div",{className:`w-8 flex h-8 items-center  justify-center text-white font-medium rounded-md ${o==="light"?"bg-black":"bg-slate-500/70"}`,children:u+1}),f.jsx("div",{className:"flex-1",children:c})]},`choice-${l}-${u}`))})]},`question-${l}`)),f.jsx("div",{className:"flex justify-center sticky bottom-5",children:f.jsx(ze,{data:{clickFn:s,image:"add"}})})]})},KK=({data:t})=>{const{currentTest:e,setCurrentTest:n,setIsRulesAdding:r,setEditData:s}=t,{theme:i}=E.useContext(ee),{gradingRules:o}=e,[a,l]=E.useState(null),c=g=>{const y=o.filter(m=>m.id!==g),v={...e,gradingRules:y};n(v)},u=g=>{l(g)},d=g=>{s(g),r(!0)},h=()=>{c(a),l(null)},p=()=>{l(null)};return f.jsxs("div",{className:"grid gap-y-3",children:[f.jsx("div",{className:`pl-1 font-medium ${i==="light"?"":"text-white"}`,children:"Grading Rules"}),a&&f.jsx(bo,{data:{yesButton:h,noButton:p,text:"Are you sure to delete?"}}),o.map((g,y)=>f.jsxs("div",{className:`flex font-padauk items-center justify-between border  p-2 ${i==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"grid flex-1 grid-cols-3 justify-between mr-10",children:[f.jsx(Wp,{data:{text:"From",value:g.from}}),f.jsx(Wp,{data:{text:"To",value:g.to}}),f.jsx(Wp,{data:{text:"Level",value:g.level}})]}),f.jsxs("div",{className:"flex items-center gap-x-1 h-full ",children:[f.jsx(ze,{data:{clickFn:()=>d(g),image:"edit"}}),f.jsx(ze,{data:{clickFn:()=>u(g.id),image:"trash"}})]})]},`rule-${y}-${g.from}-${g.to}-${g.level}`)),f.jsx("div",{className:"flex justify-center sticky bottom-5",children:f.jsx(ze,{data:{clickFn:()=>r(!0),image:"add"}})})]})},Wp=({data:t})=>{const{text:e,value:n}=t,{theme:r}=E.useContext(ee);return f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"font-medium",children:e}),f.jsx("div",{className:`font-medium max-h-10 ${r==="light"?"text-slate-600":"text-white"}`,children:typeof n=="string"?vs(n,15):n})]})},QK=({data:t})=>{const{currentTest:e,setCurrentTest:n,editData:r,setEditData:s,setIsRulesAdding:i}=t,{theme:o}=E.useContext(ee),{gradingRules:a}=e,[l,c]=E.useState(r?r.from:null),[u,d]=E.useState(r?r.to:null),[h,p]=E.useState(r?r.level:""),g=l&&u&&h.trim(),y=()=>{const T={id:a.length===0?1:a[a.length-1].id+1,from:Number(l),to:Number(u),level:h},R={...e,gradingRules:[...a,T]};n(R)},v=()=>{const T=r.id,R={id:T,from:Number(l),to:Number(u),level:h},I=a.map(x=>T===x.id?R:x),b={...e,gradingRules:I};n(b)},m=()=>{i(!1),s(null)},_=()=>{g&&(r?v():y(),m())},w=(T,R)=>{const I=R.target.value;T.toLowerCase()==="from"?c(I):T.toLowerCase()==="to"?d(I):p(I)};return E.useEffect(()=>(Et("hidden"),()=>{Et("auto")}),[]),f.jsx("div",{className:"fixed z-20 bg-black/50 top-0 right-0 left-0 bottom-0 flex justify-center items-center",children:f.jsxs("div",{className:`border w-5/6 sm:w-4/5 md:w-3/5 lg:w-2/5 grid gap-y-2 p-3  top-0 left-0 right-0 bottom-0 rounded-lg relative ${o==="light"?"border-gray-200 bg-white":"text-white bg-slate-600 border-slate-500/70"}`,children:[f.jsx(si,{data:{handleFn:w,value:l!==null?l:"",choice:"From",placeholder:"Enter 'from' value"}}),f.jsx(si,{data:{handleFn:w,value:u!==null?u:"",choice:"To",placeholder:"Enter 'to' value"}}),f.jsx(si,{data:{handleFn:w,value:h,choice:"Level",placeholder:"Enter level"}}),f.jsxs("div",{className:"flex justify-end gap-x-2",children:[f.jsx(Be,{data:{clickFn:_,text:"Save",image:"save"}}),f.jsx(Be,{data:{clickFn:m,text:"Cancel"}})]})]})})},Mx=({data:t})=>{const{currentTest:e,setCurrentTest:n,title:r}=t,{theme:s}=E.useContext(ee),{description:i,name:o}=e,[a,l]=E.useState(r==="Description"?i:o),[c,u]=E.useState(!1),d=y=>{l(y.target.value)},h=()=>{if(r==="Description"){const y={...e,description:a};n(y)}else{const y={...e,name:a};n(y)}},p=()=>{h(),u(!1)},g=()=>{u(!1),l(r==="Description"?i:o)};return f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx("div",{className:`font-medium ${s==="light"?"":"text-white"}`,children:r}),c?f.jsx("textarea",{autoFocus:!0,placeholder:`Type ${r.toLowerCase()} here`,onChange:d,className:`p-1 border border-gray-200 outline-none ${s==="light"?"":"text-white bg-slate-600"}`,value:a}):f.jsx("div",{className:`text-gray-500 p-1 ${s==="light"?"":"text-white"}`,children:a||"No description"}),c?f.jsxs("div",{className:"flex gap-x-2",children:[f.jsx(ze,{data:{clickFn:p,image:"save"}}),f.jsx(ze,{data:{clickFn:g,image:"falseIcon"}})]}):f.jsx(ze,{data:{clickFn:()=>u(!0),image:"edit"}})]})},YK=({data:t})=>{const{setHeaderTitle:e}=E.useContext(ee),{setPage:n,currentTest:r,setCurrentTest:s}=t,[i,o]=E.useState(!1),[a,l]=E.useState(!1),[c,u]=E.useState(r.quizzes),[d,h]=E.useState(null),[p,g]=E.useState(null);E.useEffect(()=>{e(r.name)});const y=async(P,M)=>{try{const L=de(Te,"tests",P);await gn(L,M)}catch(L){console.log(L.message)}};E.useEffect(()=>{v()},[r,c]);const v=()=>{y(r.id,{...r,quizzes:c})},m=()=>{o(!0)},_=()=>{o(!1),g(null)},w=P=>{g(P)},T=()=>{b(p),g(null)},R=()=>{g(null)},I=P=>{n(P)},b=P=>{const M=c.filter(L=>L.id!==P);u(M)},x=(P,M)=>{const L={...P,number:M+1};h(L),m()},C=()=>{h(null)},S={testName:r.name,numbers:c.length,changePage:I},N={quizzes:c,editQuestion:x,askToDelete:w,add:m};return f.jsxs("div",{className:"grid gap-y-2 z-65 p-5",children:[f.jsx(qK,{data:S}),f.jsx(Ca,{}),f.jsx(Mx,{data:{title:"Test Name",currentTest:r,setCurrentTest:s}}),f.jsx(Mx,{data:{title:"Description",currentTest:r,setCurrentTest:s}}),f.jsx(Ca,{}),f.jsx(KK,{data:{currentTest:r,setEditData:h,setCurrentTest:s,setIsRulesAdding:l}}),f.jsx(Ca,{}),f.jsx(GK,{data:N}),i&&f.jsx(HK,{data:{cancel:_,setQuizzes:u,quizzes:c,editData:d,clearEditData:C}}),a&&f.jsx(QK,{data:{currentTest:r,setCurrentTest:s,editData:d,setEditData:h,setIsRulesAdding:l}}),p&&f.jsx(bo,{data:{yesButton:T,noButton:R,text:"Are you sure to delete ?"}}),f.jsx(Ca,{})]})},v_=({text:t,length:e})=>{const n=sr(),{theme:r}=E.useContext(ee);return f.jsxs("div",{className:`flex items-center gap-x-1 mb-2 ${r==="light"?"":"text-white"}`,children:[f.jsx(ze,{data:{clickFn:()=>n("/app/admin"),image:"back"}}),f.jsxs("p",{children:[t," (",e,")"]})]})},XK=()=>{const[t,e]=E.useState("test"),{theme:n,isLogin:r,tests:s,setTests:i}=E.useContext(ee),[o,a]=E.useState({}),[l,c]=E.useState(!1),[u,d]=E.useState(!1),[h,p]=E.useState(null);dl("tests",i,r),E.useEffect(()=>(Vn(),Vn()),[]);const g=b=>{a(b),e("editTest")},y=b=>{p(b),d(!0)},v=async b=>{const x=de(Te,"tests",b.id);await gn(x,{isUploaded:!b.isUploaded})},m=()=>{R(h),p(null),d(!1)},_=()=>{d(!1)},w=()=>{c(!0)},T=()=>{c(!1)},R=async b=>{try{const x=de(Te,"tests",b);await Ii(x)}catch(x){console.log(x.message)}};return(()=>{switch(t){case"test":return f.jsxs("div",{className:"p-5 grid gap-y-2",children:[f.jsx("div",{className:"flex justify-between",children:f.jsx(v_,{text:"Tests",length:s.length})}),l&&f.jsx(BK,{data:{close:T}}),u&&f.jsx(bo,{data:{yesButton:m,noButton:_,text:"Are you sure to delete ?"}}),f.jsx("div",{className:"grid gap-y-2",children:s.map(b=>f.jsxs("div",{className:`flex items-center border p-2 rounded-md min-h-[100px] ${n==="light"?"border-gray-100":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"flex flex-1 gap-x-2 items-center",children:[f.jsx("input",{checked:b.isUploaded,onChange:()=>v(b),className:"size-6",type:"checkbox"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:b.name}),f.jsxs("div",{className:`text-sm ${n==="light"?"text-gray-500":"text-white"}`,children:[b.quizzes.length,b.quizzes.length>1?" questions":" question",b.isUploaded?" (Uploaded)":" (Not uploaded)"]})]})]}),f.jsx("div",{className:"flex gap-x-2",children:f.jsx(L2,{options:[{text:"Edit",icon:"editPencil",onClick:()=>{g(b)}},{text:"Delete",icon:"deleteIcon",onClick:()=>y(b.id)}]})})]},`tests-${b.id}`))}),f.jsx("div",{children:f.jsx(Be,{data:{clickFn:w,text:"New Test",image:"add"}})})]});case"editTest":return f.jsx(YK,{data:{setPage:e,currentTest:o,setCurrentTest:a}})}})()},JK=({password:t})=>{const[e,n]=E.useState(!1);return f.jsxs("div",{children:["Password: ",e?t:"*********"," ",f.jsx("span",{onClick:()=>n(!e),className:"cursor-pointer text-blue-500 underline",children:e?"hide":"show"})]})},ZK=()=>{const{setUserData:t,users:e,theme:n}=E.useContext(ee);E.useEffect(()=>(Vn(),Vn()),[]);const r=sr(),s=o=>{t(o),r("/app/posts")},i=async o=>{const a=de(Te,"users",o.uid);await gn(a,{isAdmin:!o.isAdmin})};return f.jsxs("div",{className:"mt-2 p-5",children:[f.jsx(v_,{text:"Users",length:e==null?void 0:e.length}),f.jsx("div",{className:"mt-2 grid gap-y-2",children:e.sort((o,a)=>Wr(o,a,"timestamp","newer")).map(o=>{var a,l,c,u,d;return f.jsxs("div",{className:`hover:border-blue-300 border p-2  ${n==="light"?`hover:bg-slate-50 ${((a=Z==null?void 0:Z.currentUser)==null?void 0:a.uid)===o.uid?"bg-slate-50 border-blue-300 ":"border-gray-200"}`:`hover:bg-slate-500/70 text-white ${((l=Z==null?void 0:Z.currentUser)==null?void 0:l.uid)===o.uid?" border-blue-300 bg-slate-500/70":"border-slate-500/70 "}`}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex w-5/6 gap-x-2 items-center",children:[f.jsx(Ir,{image:o.image,name:o.name}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"font-medium",children:[o.name," ",f.jsxs("span",{className:`${o!=null&&o.isAdmin?"text-blue-500":"text-white"}`,children:["(",o!=null&&o.isAdmin?"admin":"user",")"," ",((c=Z==null?void 0:Z.currentUser)==null?void 0:c.uid)===o.uid?"(You)":""]})]}),f.jsx("div",{className:"text-md ",children:o.email}),f.jsxs("div",{className:"text-md",children:["Created: ",Mi(tr(o.createdAt))]}),f.jsxs("div",{className:"text-md font-medium text-lime-600",children:["UID : ",o.uid]}),f.jsx(JK,{password:o.password})]})]}),((u=Z==null?void 0:Z.currentUser)==null?void 0:u.uid)!==o.uid&&f.jsx(ze,{data:{clickFn:()=>s(o),image:"review"}})]}),((d=Z==null?void 0:Z.currentUser)==null?void 0:d.uid)!==o.uid&&f.jsx(Be,{data:{image:"admin",clickFn:()=>i(o),text:o.isAdmin?"Remove from admin":"Set as admin"}})]},o.uid)})})]})},__=({data:t,children:e})=>{const{setValue:n}=t,{theme:r}=E.useContext(ee),s=E.useRef(null);return ms(s,n),E.useEffect(()=>(Et("hidden"),()=>{Et("auto")}),[]),f.jsx("div",{className:"fixed flex items-center z-40 bg-black/60 justify-center top-0 left-0 right-0 bottom-0 ",children:f.jsx("div",{ref:s,className:`w-4/5 sm:w-3/5 md:w-2/5 p-5 min-h-40 grid gap-y-3 rounded-md items-center border  ${r==="light"?"border-gray-300 bg-white":"border-slate-500/70 text-white bg-slate-600"}`,children:e})})},eQ=({data:t})=>{const{links:e,setLinks:n,setIsLinkAdding:r}=t,[s,i]=E.useState(""),[o,a]=E.useState(""),l=s.trim()&&o.trim(),c=()=>{if(l){const u={id:e.length===0?1:e[e.length-1].id+1,title:s.trim(),link:o.trim()},d=[...e,u];n(d),r(!1)}};return f.jsxs(__,{data:{setValue:r},children:[f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(O0,{data:{text:"Title",onChangeFn:u=>i(u.target.value),value:s,placeholder:"Enter title..."}}),f.jsx(O0,{data:{text:"Link",onChangeFn:u=>a(u.target.value),value:o,placeholder:"Enter link..."}})]}),f.jsx("div",{children:f.jsx(Be,{data:{image:"add",text:"Add Link",clickFn:c}})})]})},tQ=()=>{const{users:t,theme:e,isLogin:n,posts:r,setPosts:s}=E.useContext(ee),[i,o]=E.useState("posts"),[a,l]=E.useState(null);dl("posts",s,n);const c=async d=>{const h=de(Te,"posts",d);await Ii(h)},u=()=>{switch(i){case"posts":return f.jsxs("div",{className:"grid gap-y-2",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx(v_,{text:"Posts",length:r.length}),f.jsx(Be,{data:{clickFn:()=>o("createPost"),text:"Create a post"}})]}),f.jsx("div",{className:"grid gap-y-2 mb-2",children:r.sort((d,h)=>Wr(d,h,"time","newer")).map(d=>{var p,g,y;let h;return t.forEach(v=>{v.uid===d.uid&&(h=v)}),f.jsxs("div",{className:`p-2 border min-h-20 flex items-center rounded-md ${e==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"top-section flex mb-2 gap-x-2",children:[f.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:h.image}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:h.name}),f.jsx("div",{className:` text-sm ${e==="light"?"text-gray-500":"text-white"}`,children:Ko(tr(d.time))})]})]}),f.jsx("p",{className:"mb-2 break-words whitespace-normal",children:vs(d.description,25)}),f.jsxs("div",{className:"flex items-center gap-x-1",children:[d.images.length!==0&&f.jsxs("div",{className:`p-1 min-h-9 flex items-center gap-x-1  rounded-md ${e==="light"?"bg-green-100":"bg-slate-500/70"}`,children:[f.jsx("img",{className:"w-7",src:ae("image")}),f.jsxs("span",{children:[d.images.length," ",d.images.length<=1?"image":"images"]})]}),d.files.length!==0&&f.jsxs("div",{className:`p-1 min-h-9  flex items-center gap-x-1 rounded-md ${e==="light"?"bg-green-100":"bg-slate-500/70"}`,children:[f.jsx("img",{className:"w-7",src:ae("file")}),f.jsxs("span",{children:[d.files.length," ",d.files.length<=1?"file":"files"]})]}),d.links&&((p=d==null?void 0:d.links)==null?void 0:p.length)!==0&&f.jsxs("div",{className:`p-1 min-h-9  flex items-center gap-x-1 rounded-md ${e==="light"?"bg-green-100":"bg-slate-500/70"}`,children:[f.jsx("img",{className:"w-7",src:ae("link")}),f.jsxs("span",{children:[(g=d==null?void 0:d.links)==null?void 0:g.length," ",((y=d==null?void 0:d.links)==null?void 0:y.length)<=1?"link":"links"]})]}),d.draft&&f.jsx("div",{className:`p-1 min-h-9 flex items-center gap-x-1 rounded-md ${e==="light"?"bg-green-100":"bg-slate-500/70"}`,children:f.jsx("span",{className:"font-bold text-red-500",children:"(Draft)"})})]})]}),f.jsx("div",{className:"flex items-center gap-x-1",children:f.jsx(L2,{options:[{text:"Edit",icon:"editPencil",onClick:()=>{l(d),o("createPost")}},{text:"Delete",icon:"deleteIcon",onClick:()=>c(d.id)}]})})]},`post-${d.id}`)})})]});case"createPost":return f.jsx(nQ,{setPage:o,postData:a,setPostData:l})}};return f.jsx("div",{className:"p-5",children:u()})},nQ=({setPage:t,postData:e,setPostData:n})=>{const{theme:r}=E.useContext(ee),[s,i]=E.useState(e?e.images:[]),[o,a]=E.useState(null),[l,c]=E.useState(e?e.description:""),[u,d]=E.useState(e?e==null?void 0:e.files:[]),[h,p]=E.useState(e?(e==null?void 0:e.links)||[]:[]),[g,y]=E.useState(!1),v=l.trim()||s.length!==0||u.length!==0||h.length!==0,m=async(C=!1)=>{try{const S=lt(Te,"posts");await Ho(S,{uid:Z.currentUser.uid,time:Dn(),editedTime:Dn(),description:l,images:s,files:u,links:h,draft:C}),t("posts")}catch(S){console.log(S.message)}},_=async()=>{try{const C=de(Te,"posts",e.id);await gn(C,{editedTime:Dn(),description:l,images:s,files:u,links:h,draft:!1}),t("posts")}catch(C){console.log(C.message)}},w=async()=>{try{if(e){const C=de(Te,"posts",e.id);await gn(C,{editedTime:Dn(),description:l,images:s,files:u,links:h,draft:!0})}else m(!0);t("posts")}catch(C){console.log(C.message)}},T=async C=>{try{const S=await Dt(C,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),N=`posts/${Z.currentUser.uid}/${C.name}`,P=ci(ui,N);a("Uploading image...");const M=await xu(P,S),L=await Eu(M.ref),j=[...s,{name:C.name,path:N,imageURL:L}];i(j),a("Uploaded image"),setTimeout(()=>{a(null)},3e3)}catch(S){a(S.message),setTimeout(()=>{a(null)},3e3)}},R=async C=>{try{const S=`posts/${Z.currentUser.uid}/${C.name}`,N=ci(ui,S);a("Uploading file...");const P=await xu(N,C),M=await Eu(P.ref),L=[...u,{name:C.name,path:S,fileURL:M,size:C.size}];d(L),a("Uploaded file"),setTimeout(()=>{a(null)},3e3)}catch(S){a(S.message),setTimeout(()=>{a(null)},3e3)}},I=async(C,S)=>{const N=s.filter(M=>S!==M.imageURL);i(N);const P=ci(ui,C);await Tg(P)},b=async(C,S)=>{const N=u.filter(M=>S!==M.fileURL);d(N);const P=ci(ui,C);await Tg(P)},x=C=>{const S=h.filter(N=>C!==N.id);p(S)};return f.jsxs("div",{children:[f.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[o&&f.jsx(k0,{message:o}),f.jsxs("div",{className:"flex gap-x-1 items-center",children:[f.jsx(ze,{data:{clickFn:()=>{t("posts"),n(null)},image:"back"}}),f.jsx("div",{className:r==="light"?"":"text-white",children:e?"Edit post":"Create a post"})]}),f.jsxs("div",{className:"flex items-center gap-x-1",children:[f.jsx(Be,{data:{text:"Draft",clickFn:()=>{v&&w()}}}),f.jsx(Be,{data:{clickFn:()=>{v?(e?_():m(),n(null)):a("Create a post first!")},text:e?"Save":"Publish",image:e?"save":"upload"}})]})]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("textarea",{value:l,onChange:C=>c(C.target.value),className:`w-full p-2 resize-none border min-h-28 ${r==="light"?"border-slate-200  focus:outline-blue-500":"border-slate-500/70 outline-none bg-slate-600 text-white"}`,placeholder:"Write description here"}),f.jsx("input",{className:"hidden",id:"imagesInput",type:"file",accept:"image/*",onChange:C=>T(C.target.files[0])}),f.jsx("input",{className:"hidden",id:"filesInput",type:"file",onChange:C=>R(C.target.files[0])}),f.jsxs("div",{className:"flex justify-start gap-x-2 mt-1",children:[f.jsxs("label",{htmlFor:"imagesInput",className:`min-h-10 shadow-md hover:opacity-70 border  font-medium px-2 py-1 rounded-lg flex justify-center items-center gap-x-1 transition-all ${r==="light"?"bg-gray-50/50 border-gray-200":"bg-slate-500/70 text-white border-slate-500/70"}`,children:[f.jsx("img",{className:" h-7",src:ae("image")}),f.jsx("span",{children:"Image"})]}),f.jsxs("label",{htmlFor:"filesInput",className:`min-h-10 shadow-md hover:opacity-70 border  font-medium px-2 py-1 rounded-lg flex justify-center items-center gap-x-1 transition-all ${r==="light"?"bg-gray-50/50 border-gray-200":"bg-slate-500/70 text-white border-slate-500/70"}`,children:[f.jsx("img",{className:" h-7",src:ae("file")}),f.jsx("span",{children:"File"})]}),f.jsxs("label",{onClick:()=>{y(!0)},className:`min-h-10 shadow-md hover:opacity-70 border  font-medium px-2 py-1 rounded-lg flex justify-center items-center gap-x-1 transition-all ${r==="light"?"bg-gray-50/50 border-gray-200":"bg-slate-500/70 text-white border-slate-500/70"}`,children:[f.jsx("img",{className:" h-7",src:ae("link")}),f.jsx("span",{children:"Link"})]}),g&&f.jsx(eQ,{data:{links:h,setLinks:p,setIsLinkAdding:y}})]})]}),s.length!==0&&f.jsx("div",{className:"grid gap-y-2",children:s.map(C=>f.jsxs("div",{className:"relative min-h-20",children:[f.jsx("img",{alt:C.name,className:"size-full",src:C.imageURL}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx(ze,{data:{clickFn:()=>I(C.path,C.imageURL),image:"falseIcon"}})})]},C.imageURL))}),u.length!==0&&f.jsx("div",{className:"grid gap-y-1 mt-2",children:u.map(C=>f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:`p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${r==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:ae("download")}),f.jsxs("div",{children:[f.jsx("p",{className:"underline text-blue-600",children:C.name}),(C==null?void 0:C.size)&&f.jsxs("p",{children:[(C.size/(1024*1024)).toFixed(2)," MB"]})]})]}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx(ze,{data:{clickFn:()=>b(C.path,C.fileURL),image:"falseIcon"}})})]},C.fileURL))}),h.length!==0&&f.jsx("div",{className:"grid gap-y-1 mt-2",children:h.map(C=>f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:`p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${r==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:ae("link")}),f.jsx("div",{children:f.jsx("p",{className:"underline text-blue-600",children:C.title})})]}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx(ze,{data:{image:"falseIcon",clickFn:()=>x(C.id)}})})]},C.link))})]})},rQ=()=>{const{users:t,setHeaderTitle:e,theme:n,notifications:r,setNotifications:s,notificationLastDoc:i,setNotificationLastDoc:o}=E.useContext(ee),a=5,l=()=>{const c=lt(Te,"notifications");let u=Oa(c,h0("timestamp","desc"),f0(a));i&&(u=Oa(u,OT(i))),er(u,d=>{const h=d.docs.map(p=>({id:p.id,...p.data()}));s([...r,...h]),o(d.docs[d.docs.length-1])})};return E.useEffect(()=>{const c=lt(Te,"notifications"),u=Oa(c,h0("timestamp","desc"),f0(5)),d=er(u,h=>{const p=h.docs.map(g=>({id:g.id,...g.data()}));p.length!==0&&(s(p),setLastDoc(h.docs[h.docs.length-1]))});return()=>d()},[]),E.useEffect(()=>{e("Notifications")},[]),f.jsxs("div",{className:"p-5 grid gap-y-2 ",children:[f.jsx(Hr,{}),r.map(c=>{let u;return t.forEach(d=>{c.uid===d.uid&&(u=d)}),f.jsx(sQ,{notification:c,user:u},c.id)}),r.length===0&&f.jsx("div",{className:`${n==="light"?"":"text-white"}`,children:"No notifications"}),r.length>=a&&f.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:f.jsx("button",{onClick:l,className:`border  rounded-md text-sm p-1 ${n==="light"?"border-gray-100":"text-white bg-slate-500/70"}`,children:"load more"})})]})},sQ=({notification:t,user:e})=>{let n;const{type:r,description:s,timestamp:i,testName:o,comment:a}=t,{theme:l}=E.useContext(ee);switch(`${r[0]} ${r[1]}`){case"like post":n="liked a post";break;case"like test":n="liked a test";break;case"comment post":n="commented on a post";break;case"comment test":n="commented on a test";break;case"added post":n="added a post";break;case"added test":n="added a test";break;case"took test":n="took a test";break}return f.jsxs("div",{className:`cursor-pointer shadow-md flex items-center gap-x-2 p-2 border  rounded-md ${l==="light"?"border-slate-300 bg-white shadow-gray-200":"border-slate-500/70 bg-slate-500/70 text-white shadow-slate-500 "}`,children:[f.jsx("div",{children:f.jsx("img",{className:"size-10 object-cover rounded-full object-center bg-cover",src:e==null?void 0:e.image})}),f.jsxs("div",{children:[f.jsxs("p",{children:[f.jsx("b",{children:e==null?void 0:e.name})," ",n]}),s&&f.jsx("p",{children:vs(s,30)}),o&&f.jsx("p",{children:o}),a&&f.jsx("p",{children:a}),f.jsx("p",{children:Ko(tr(i))})]})]})},iQ=({members:t,isUserOnline:e})=>{const{users:n,theme:r}=E.useContext(ee);return f.jsxs("div",{className:`p-2 grid gap-y-2 ${r==="light"?"":"text-white"}`,children:[f.jsx("p",{className:"text-lg font-bold",children:"Members"}),t.sort((s,i)=>Wr(s,i,"joinedAt","newer")).map(s=>{const i=ir(n,s.uid),o=e(s.uid);return f.jsxs("div",{className:`p-2 flex gap-x-2 items-center border  rounded-md ${r==="light"?"border-slate-200":"bg-slate-500/70 border-slate-500"}`,children:[f.jsxs("div",{className:"relative",children:[f.jsx(Ir,{image:i.image,name:i.name}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${o.isOnline?"bg-green-500":"bg-gray-500"}`})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{children:i==null?void 0:i.name}),f.jsx("p",{className:`text-sm ${o.isOnline?"text-blue-500":"text-red-500"}`,children:o.isOnline?"Online":Ko(tr(o.lastSeen))})]})]},s.uid+s.joinedAt)})]})},oQ=({setSubPage:t,currentChat:e,onlineUsers:n})=>{var _;const{theme:r,users:s,userData:i}=E.useContext(ee),{members:o}=e,a=de(Te,"chats",e.id),[l,c]=E.useState(""),[u,d]=E.useState(null);E.useEffect(()=>{c(e.name)},[e]);const h=async w=>{try{const T=de(Te,"chats",e.id);await gn(T,{members:zT({uid:w,joinedAt:new Date().getTime()})})}catch(T){console.log(T.message)}},p=async w=>{try{const T=de(Te,"chats",e.id),R=o.filter(I=>w!==I.uid);await gn(T,{members:R})}catch(T){console.log(T.message)}},g=w=>{let T=!1;return o.forEach(R=>{w===R.uid&&(T=!0)}),T},y=w=>{let T=!1,R=null;return n.forEach(I=>{I.uid===w&&(T=!0,R=I)}),{isOnline:T,...R}},v=async()=>{if(!u)return;const w=`chats/${e.id}/groupImage-${u.name}`,T=ci(ui,w),R=await Dt(u,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),I=await xu(T,R),b=await Eu(I.ref),x={name:u.name,path:w,URL:b,size:R.size};await gn(a,{image:x})},m=async()=>{l.trim()&&await gn(a,{name:l})};return E.useEffect(()=>{v()},[u]),f.jsxs("div",{className:"",children:[f.jsx("div",{className:`h-[70px] z-30 fixed top-0 right-0 left-0 p-2 min-h-10 pb-2 flex items-center justify-between gap-x-1 border-b ${r==="light"?"border-b-slate-200 bg-slate-50":"border-b-slate-500/70 bg-slate-500"}`,children:f.jsxs("div",{className:"flex gap-x-1",children:[f.jsx("div",{children:f.jsx(ze,{data:{image:"back",clickFn:()=>t("chat")}})}),f.jsxs("div",{className:` ${r==="light"?"":"text-white"}`,children:[f.jsx("p",{className:"text-lg font-bold",children:e.name}),f.jsxs("p",{className:"text-sm",children:[o.length," ",o.length<=1?"member":"members"]})]})]})}),(i==null?void 0:i.isAdmin)&&f.jsxs("div",{className:"p-2 m-1 mt-4  border border-gray-300 rounded-md",children:[f.jsx("input",{id:"imageInput",className:"hidden",type:"file",accept:"image/*",onChange:w=>d(w.target.files[0])}),f.jsxs("div",{className:"relative size-24",children:[f.jsx("img",{src:(_=e==null?void 0:e.image)==null?void 0:_.URL,className:"size-24 rounded-full object-cover object-center bg-cover"}),f.jsx("label",{htmlFor:"imageInput",className:` p-1 rounded-full absolute -bottom-1 -right-1 cursor-pointer ${r==="light"?"bg-gray-200":"bg-slate-500/70"}`,children:f.jsx("img",{className:"w-5",src:ae("edit")})})]}),f.jsxs("div",{className:`mt-2 ${r==="light"?"":"text-white"}`,children:[f.jsx("p",{children:"Group Name"}),f.jsx("input",{className:"p-[2px] focus:outline-blue-500",value:l,onChange:w=>c(w.target.value)}),f.jsx(P2,{onClick:m,children:f.jsx("img",{className:"w-7",src:ae("save")})})]})]}),f.jsx(iQ,{members:o,onlineUsers:n,isUserOnline:y}),(i==null?void 0:i.isAdmin)&&f.jsxs("div",{className:`p-2 grid gap-y-2 ${r==="light"?"":"text-white"}`,children:[f.jsx("p",{className:"text-lg font-bold",children:"Manage Members"}),s.sort((w,T)=>Wr(w,T,"createdAt","newer")).map((w,T)=>{const R=y(w.uid);return f.jsxs("div",{className:`p-2 flex justify-between items-center border  rounded-md ${r==="light"?"border-slate-200":"bg-slate-500/70 border-slate-500"}`,children:[f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsxs("div",{className:"relative",children:[f.jsx(Ir,{image:w.image,name:w.name}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${R.isOnline?"bg-green-500":"bg-gray-500"}`})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{children:w.name}),f.jsx("p",{className:`text-sm ${R.isOnline?"text-blue-500":"text-red-500"}`,children:R.isOnline?"Online":Ko(tr(R.lastSeen))})]})]}),f.jsx("div",{children:g(w.uid)?!w.isAdmin&&f.jsx(ze,{data:{clickFn:()=>p(w.uid),image:"trash"}}):f.jsx(ze,{data:{clickFn:()=>h(w.uid),image:"add"}})})]},w.name+" "+w.image+T)})]})]})},aQ=[{name:"like",image:"facebookLike"},{name:"love",image:"facebookLove"},{name:"haha",image:"facebookHaha"},{name:"wow",image:"facebookWow"},{name:"sad",image:"facebookSad"},{name:"angry",image:"facebookAngry"}],lQ=({chatId:t,message:e})=>{const[n,r]=E.useState(!1),[s,i]=E.useState([]),o=lt(de(lt(de(Te,"chats",t),"messages"),e.id),"reactedBy"),a=()=>{r(!1)},l=()=>er(o,p=>{const g=p.docs.map(y=>({...y.data()}));i(g)});E.useEffect(()=>l(),[]);const c=async()=>{const h=de(o,Z.currentUser.uid);await Ii(h)},u=h=>{let p=!1;return s.forEach(g=>{g.reactionType===h&&(p=!0)}),p},d=aQ.filter(h=>u(h.name));if(s.length!==0)return f.jsxs("div",{children:[f.jsxs("button",{onClick:()=>r(!0),className:"mt-2 border border-gray-200 bg-white p-1 rounded-lg flex justify-center items-center text-sm",children:[d.map((h,p)=>f.jsx("img",{className:"w-4 ml-[-3px]",src:ae(h.image)},`reaction-${h.name}-${p}`)),f.jsx("span",{className:"ml-1",children:s.length})]}),n&&f.jsx(cQ,{setOpen:r,reactedBy:s,removeReaction:c,close:a})]})},cQ=({reactedBy:t,setOpen:e,removeReaction:n,close:r})=>{const s=E.useRef(null),{users:i}=E.useContext(ee),o=a=>({like:"facebookLike",love:"facebookLove",haha:"facebookHaha",wow:"facebookWow",sad:"facebookSad",angry:"facebookAngry"})[a];return ms(s,e),E.useEffect(()=>(Et("hidden"),()=>{Et("auto")}),[]),f.jsx("div",{className:"fixed top-[-8px] left-[-8px] bg-black/50 right-[-8px] bottom-[-8px] flex items-end justify-center z-30",children:f.jsxs("div",{ref:s,className:" h-[50%] w-full md:w-[60%] bg-slate-200 rounded-l-md rounded-r-md ",children:[f.jsx("div",{className:"p-2 rounded-md bg-slate-50 pl-4 text-lg font-bold",children:"Reactions"}),f.jsx("div",{className:"flex flex-col p-2 min-h-full max-h-full overflow-y-auto",children:t.map((a,l)=>{const c=ir(i,a.uid),u=a.uid===Z.currentUser.uid;return f.jsxs("div",{onClick:()=>{u&&(n(),r())},className:`flex p-2 justify-between items-center w-full hover:bg-slate-300 ${u?"cursor-pointer":""}`,children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Ir,{image:c.image,name:c.name,size:"size-9"}),f.jsxs("p",{className:"ml-[4px]",children:[c.name," ",u?"(Click to remove)":""]})]}),f.jsx("img",{className:"w-6 ",src:ae(o(a.reactionType))})]},`reactedBy-${c.name}-${l}`)})})]})})},uQ=({message:t,deleteMessage:e,setMessage:n,setImageObject:r,setEditMessageObject:s,setViewingImage:i,setReplyMessage:o,isUserOnline:a,chatId:l,messagesRef:c,messageIndex:u,viewingOldMessages:d,setSeenUsers:h})=>{var S;const{users:p,theme:g,userData:y}=E.useContext(ee),v=Z.currentUser.uid===t.senderId,m=ir(p,t.senderId),_=a(m==null?void 0:m.uid),w=(t==null?void 0:t.seenBy)&&t.seenBy.length>0,T=E.useRef(!1),R={...t,index:u},I=v?{text:"Edit",icon:"editPencil",onClick:()=>{s(R),n(t.content),r(t==null?void 0:t.image),o(t==null?void 0:t.reply)}}:null,b=v||y!=null&&y.isAdmin?{text:"Delete",icon:"deleteIcon",onClick:()=>{e(t.id)}}:null,x=()=>{var P;let N=!1;return(P=t==null?void 0:t.seenBy)==null||P.forEach(M=>{Z.currentUser.uid===M.uid&&(N=!0)}),N},C=()=>{let N=!1;return u>=11&&u<=14&&(N=!0),N};return E.useEffect(()=>{(async()=>{const P=de(c,t.id);if(T.current)return;const M={uid:Z.currentUser.uid,timestamp:new Date().getTime()};!x()&&!v&&C()&&!d&&(await gn(P,{seenBy:zT(M)}),T.current=!0)})()},[]),f.jsxs("div",{className:`flex mb-2 gap-x-2 ${v?"flex-row-reverse":""} `,children:[f.jsxs("div",{className:"size-10 relative",children:[f.jsx(Ir,{name:m==null?void 0:m.name,image:m==null?void 0:m.image}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${_!=null&&_.isOnline?"bg-green-500":"bg-gray-500"}`})]}),f.jsxs("div",{className:`grid gap-y-1 whitespace-pre-wrap ${g==="light"?"":"text-white"}`,children:[f.jsx("p",{className:`font-bold ${v?"text-right":"text-left"} `,children:m!=null&&m.name?m.name:"Deleted User"}),f.jsxs("div",{className:`flex items-start gap-x-1 ${v?"flex-row-reverse justify-start":""}`,children:[f.jsx("div",{className:"relative",children:f.jsxs("div",{className:`max-w-[250px] grid min-w-20 break-words whitespace-pre-wrap text-wrap rounded-[10px] border border-slate-200 p-2  ${g==="light"?`${v?"rounded-tr-none bg-blue-300 ":"bg-white rounded-tl-none "}`:`${v?"rounded-tr-none bg-blue-300":"bg-white rounded-tl-none text-black "}`}`,children:[(t==null?void 0:t.reply)&&f.jsx(dQ,{message:t}),f.jsx("p",{className:"w-full max-w-full break-words break-all",children:t.content}),(t==null?void 0:t.image)&&f.jsx("img",{onClick:()=>{i(t.image)},className:"cursor-pointer border mt-1 mb-1 rounded-md border-slate-200 overflow-hidden w-[200px] min-h-[100px]",alt:t.image.name,src:t.image.URL}),f.jsx(lQ,{chatId:l,message:t}),f.jsx("div",{className:`flex  ${v?"flex-row-reverse":""} gap-x-1 items-center mt-1`,children:f.jsxs("p",{className:`text-sm flex gap-x-1 items-center ${v?"text-right":"text-left"}`,children:[t!=null&&t.editedTime?f.jsxs("span",{children:["edited ",Mi(tr(t.editedTime))]}):f.jsx("span",{children:Mi(tr(t.timestamp))}),f.jsx("img",{className:"w-4",src:ae("seen")}),w?f.jsxs("button",{onClick:()=>{h(t.seenBy)},className:"flex gap-x-1 items-center",children:[(S=t==null?void 0:t.seenBy)==null?void 0:S.length,f.jsx("img",{className:"w-4",src:ae("eye")})]}):""]})})]})}),f.jsx(L2,{options:[I,b,{text:"Reply",icon:"reply",onClick:()=>o(t)}],message:t,chatId:l})]})]})]})},dQ=({message:t})=>{const{users:e,theme:n}=E.useContext(ee),{senderId:r,content:s,image:i}=t.reply,[o,a]=E.useState(!1),l=ir(e,r);return f.jsxs("div",{className:`mb-1 border-l-4 p-1 rounded-md border-l-green-500  ${n==="light"?"bg-green-200":"bg-green-300"}`,children:[f.jsx("p",{className:"font-bold ",children:l.name}),s&&f.jsxs("p",{className:"w-full max-w-full break-words break-all",children:[o?s:vs(s,25),s.length>=25&&f.jsx("span",{onClick:()=>{a(!o)},className:"font-bold text-blue-400 cursor-pointer",children:o?" see less":" see more"})]}),i&&f.jsx("p",{children:"Image"})]})},hQ=({image:t,setViewingImage:e})=>{const n=E.useRef(null);ms(n,e),E.useEffect(()=>(Et("hidden"),()=>Et("auto")),[]);const r=()=>{const s=(t==null?void 0:t.size)/1048576,i=(t==null?void 0:t.size)/1024;return s>1?`${s.toFixed(2)} MB`:`${i.toFixed(2)} kB`};return f.jsxs("div",{className:"p-2 flex flex-col items-center justify-center fixed top-0 right-0 left-0 bottom-0 z-40 bg-black/50",children:[f.jsx("button",{onClick:()=>{e(!1)},className:"p-1 bg-white absolute right-2 top-2 rounded-md opacity-60 z-50",children:f.jsx("img",{className:"w-7",src:ae("close")})}),t?f.jsxs("div",{ref:n,className:"bg-white border rounded-md overflow-hidden min-h-[200px] min-w-[200px] border-gray-300 relative max-w-full max-h-full",children:[f.jsx("p",{className:"border border-gray-200 absolute right-1 bottom-1 bg-slate-300/70 p-1 rounded-lg font-bold ",children:r()}),f.jsx("img",{alt:t.name,className:"h-full ",src:t.URL})]}):f.jsx("div",{className:"bg-white border border-gray-300 rounded-md",children:"Image not available."})]})},fQ=({setIsRulesOpen:t,rules:e=["ရိုသေလေးစားမှုရှိပါ - Group ထဲတွင် ရှိသောသူများအားလုံးကို လေးစားရမည်။ မသင့်တော်သော စကားလုံးများ၊ အခြားသူများကို ထိခိုက်စေနိုင်သော စကားလုံးများကို မပြောရ။","No spamming - တူညီသော မက်ဆေ့ချ်များ၊ လင့်ခ် (link) များနှင့်၊ အမြောက်အများသော emoji များ ပို့ခြင်းကို မပြုရ။","Privacy ရှိပါ - တစ်စုံတစ်ဦး၏ ကိုယ်ရေးကိုယ်တာ အချက်အလက်များကို ခွင့်ပြုချက်မရှိဘဲ မမျှဝေရ။ လူတိုင်း၏ ကိုယ်ရေးကိုယ်တာကို လေးစားပါ။","အထက်ပါ စည်းမျဉ်းစည်းကမ်းများ (rules) ထဲမှ တစ်ခုခုကို ချိုးဖောက်ပါက Group ထဲမှ ရက်အကန့်အသတ်ဖြင့် သော်လည်းကောင်း၊ ရာသတ်ပန် သော်လည်းကောင်း ထုတ်ပယ်မည် (သို့မဟုတ်) ထိုက်တန်သော အပြစ်တစ်ခုခုကို ခံယူရမည်။"]})=>f.jsx(__,{data:{setValue:t},children:e?f.jsxs("div",{className:"p-2 max-h-[80%] overflow-auto",children:[f.jsx("p",{className:"font-bold mb-1",children:"Group Rules"}),e.map((n,r)=>f.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[f.jsx("p",{className:"size-10 flex items-center justify-center rounded-full bg-gray-300",children:r+1}),f.jsx("p",{className:"flex-1",children:n})]},`${r}-${n}`))]}):f.jsx("div",{className:"p-2",children:"No rules"})}),pQ=({message:t,loadMessages:e,setNewMessage:n,setViewingOldMessages:r})=>{const{senderId:s,content:i,timestamp:o}=t,{users:a,theme:l}=E.useContext(ee),c=ir(a,s);return f.jsx("div",{onClick:()=>{e(),io(),n(null),r(!1)},className:`z-30 cursor-pointer fixed  right-2 bottom-[200px] rounded-md border border-slate-300 p-2 ${l==="light"?"bg-white":"bg-slate-500 text-white"}`,children:f.jsxs("div",{children:[f.jsxs("div",{className:"flex gap-x-1 mb-1",children:[f.jsx("img",{className:"size-7 rounded-full object-center object-cover",src:c.image}),f.jsx("p",{className:"font-bold",children:c.name})]}),f.jsx("div",{children:vs(i)}),f.jsx("p",{className:"text-sm text-gray-300",children:Mi(tr(o))})]})})},mQ=()=>{const t="Typing...",[e,n]=E.useState("");let r=0;const[s,i]=E.useState(0);return E.useEffect(()=>(r=setInterval(()=>{s!==t.length?(n(e+t[s]),i(s+1)):(i(0),n(""))},250),()=>{clearInterval(r)}),[e,s]),f.jsx("p",{children:e.length===0?"T":e})},gQ=({typingUsers:t,viewingOldMessages:e,isUserOnline:n})=>{const{users:r,theme:s}=E.useContext(ee);if(E.useEffect(()=>{!e&&t.length!==0&&io()},[t]),t.length!==0)return f.jsx("div",{className:"",children:f.jsx("div",{className:"grid gap-y-1",children:t.sort((i,o)=>Wr(i,o,"timestamp","older")).map(i=>{const o=ir(r,i.uid),a=n(i.uid),l=Z.currentUser.uid===i.uid;return f.jsxs("div",{className:`flex mb-2 gap-x-2 ${l?"flex-row-reverse":""} `,children:[f.jsxs("div",{className:"size-10 relative",children:[f.jsx(Ir,{name:o.name,image:o.image}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${a!=null&&a.isOnline?"bg-green-500":"bg-gray-500"}`})]}),f.jsxs("div",{className:`grid gap-y-1 whitespace-pre-wrap ${s==="light"?"":"text-white"}`,children:[f.jsx("p",{className:`font-bold ${l?"text-right":"text-left"} `,children:o.name}),f.jsx("div",{className:`flex items-start gap-x-1 ${l?"flex-row-reverse justify-start":""}`,children:f.jsx("div",{children:f.jsx("p",{className:`max-w-[250px] w-20 break-words whitespace-pre-wrap text-wrap rounded-[10px] border border-slate-200 p-2  ${s==="light"?`${l?"rounded-tr-none bg-blue-300":"bg-white rounded-tl-none"}`:`${l?"rounded-tr-none bg-blue-300":"bg-white rounded-tl-none text-black"}`}`,children:f.jsx(mQ,{})})})})]})]})})})})},yQ=({seenUsers:t,setSeenUsers:e})=>{const n=E.useRef(null),{users:r}=E.useContext(ee);return ms(n,e),E.useEffect(()=>(Et("hidden"),()=>{Et("auto")}),[]),f.jsx("div",{className:"fixed top-[-8px] left-[-8px] bg-black/50 right-[-8px] bottom-[-8px] flex items-end justify-center z-40",children:f.jsxs("div",{ref:n,className:" h-[50%] w-full md:w-[60%] bg-slate-200 rounded-l-md rounded-r-md ",children:[f.jsx("div",{className:"p-2 rounded-md bg-slate-50 pl-4 text-lg font-bold",children:"Seen by"}),f.jsx("div",{className:"flex flex-col p-2 min-h-full max-h-full overflow-y-auto",children:t.sort((s,i)=>Wr(s,i,"timestamp","newer")).map((s,i)=>{const o=ir(r,s.uid);return f.jsxs("div",{className:"flex p-2 justify-between items-center w-full hover:bg-slate-300",children:[f.jsxs("div",{className:"flex items-center gap-x-1",children:[f.jsx(Ir,{image:o==null?void 0:o.image,name:o==null?void 0:o.name,size:"size-9"}),f.jsx("p",{children:o==null?void 0:o.name})]}),f.jsx("p",{className:"ml-[4px]",children:Mi(s.timestamp)})]},`seenUser-${o==null?void 0:o.name}-${i}`)})})]})})},vQ=({data:t})=>{const{setPage:e,chatId:n,chats:r,messages:s,viewingOldMessages:i,setViewingOldMessages:o,loadMoreWithoutSnapshot:a,loadMessages:l,typingUsers:c,setTypingUsers:u}=t,{theme:d,userData:h,users:p,setIsOnline:g}=E.useContext(ee),[y,v]=E.useState(""),[m,_]=E.useState("chat"),[w,T]=E.useState(null),R=de(Te,"chats",n),I=lt(R,"messages"),[b,x]=E.useState(null),[C,S]=E.useState(!1),[N,P]=E.useState(!1),[M,L]=E.useState(null),[j,k]=E.useState(null),[A,D]=E.useState(null),[O,$]=E.useState(!1),[H,z]=E.useState(null);let K=0;const V=lt(R,"typingUsers"),F=de(V,Z.currentUser.uid),[te,pe]=E.useState(!1);let ve=0;const ie=lt(R,"onlineUsers"),be=de(ie,Z.currentUser.uid),[Ne,He]=E.useState([]);let Ue;const[Qt,Ve]=E.useState(null);(()=>{r.forEach(re=>{n===re.id&&(Ue=re)})})();const $e=()=>er(V,fe=>{const Le=fe.docs.map(It=>({...It.data()}));u(Le)});E.useEffect(()=>$e(),[]),E.useEffect(()=>(y.trim()&&pe(!0),ve=setTimeout(()=>{pe(!1)},3e3),()=>{pe(!1),clearTimeout(ve)}),[y]);const Pe=async()=>{await yu(F,{uid:Z.currentUser.uid,timestamp:Dn()})},gt=async()=>{const re=de(V,Z.currentUser.uid);await Ii(re)};E.useEffect(()=>{te?Pe():gt()},[te]);const yt=()=>er(ie,fe=>{const Le=fe.docs.map(It=>({...It.data()}));He(Le)});E.useEffect(()=>yt(),[]);const qe=async()=>{await yu(be,{uid:Z.currentUser.uid,lastSeen:Dn()})},Yt=async()=>{const re=de(ie,Z.currentUser.uid);await Ii(re)};E.useEffect(()=>(qe(),Yt),[]),E.useEffect(()=>(z(Ue==null?void 0:Ue.lastMessage),K=setTimeout(()=>{z(null)},12e4),()=>clearTimeout(K)),[r]),E.useEffect(()=>{const re=ir(p,j==null?void 0:j.senderId);D(re)},[j]),E.useEffect(()=>{io()},[]);const rt=async re=>{const fe=`chats/${n}/${h.name}-${re.name}`,Le=ci(ui,fe);S(!0),P(!0);const It=await Dt(re,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),ar=await xu(Le,It),ws=await Eu(ar.ref),Ll={name:re.name,path:fe,URL:ws,size:It.size};x(Ll),S(!1),P(!1)},Ie=async re=>{const fe=ci(ui,re);await Tg(fe),x(null)},vt=async()=>{try{const re={senderId:Z.currentUser.uid,content:y.trim(),timestamp:Dn(),image:b||null,reply:j||null,reactions:[]};P(!0),await Ho(I,re),await gn(R,{lastMessage:re}),v(""),x(null),io(),P(!1),k(null),D(null),pe(!1)}catch(re){console.log(re.message)}},Nn=async()=>{try{const re=de(I,w.id),fe={content:y.trim(),editedTime:Dn(),image:b||null,reply:j||null};P(!0),await gn(re,fe),w.index===14&&await gn(R,{lastMessage:fe}),Nn&&v(""),x(null),T(null),P(!1),k(null),D(null)}catch(re){console.log(re.message)}},_s=async re=>{const fe=de(I,re);await Ii(fe)},_t=re=>{let fe=!1,Le=null;return Ne.forEach(It=>{It.uid===re&&(fe=!0,Le=It)}),{isOnline:fe,...Le}},se=()=>{var re;switch(m){case"chat":return f.jsxs("div",{className:"",children:[H&&i?f.jsx(pQ,{message:H,loadMessages:l,setNewMessage:z,setViewingOldMessages:o}):"",M&&f.jsx(hQ,{image:M,setViewingImage:L}),O&&f.jsx(fQ,{setIsRulesOpen:$,rules:Ue==null?void 0:Ue.rules}),Qt&&f.jsx(yQ,{seenUsers:Qt,setSeenUsers:Ve}),f.jsxs("div",{className:`h-[70px] z-30 fixed top-0 right-0 left-0 p-2 min-h-10 pb-2 flex items-center justify-between gap-x-1 border-b ${d==="light"?"border-b-slate-200 bg-slate-50":"border-b-slate-500/70 bg-slate-500"}`,children:[f.jsxs("div",{className:"flex gap-x-1",children:[f.jsx("div",{children:f.jsx(ze,{data:{image:"back",clickFn:()=>e("chatroom")}})}),f.jsxs("div",{onClick:()=>_("info"),className:` ${d==="light"?"":"text-white"}`,children:[f.jsx("p",{className:"text-lg font-bold",children:Ue.name}),f.jsxs("p",{className:"text-sm",children:[Ue.members.length," ",Ue.members.length<=1?"member":"members"]})]})]}),f.jsx("button",{onClick:()=>_("info"),children:f.jsx("img",{src:(re=Ue==null?void 0:Ue.image)==null?void 0:re.URL,alt:"group-image",className:"size-12 rounded-full object-center object-cover "})})]}),f.jsxs("div",{className:"p-2 gap-y-3 mb-[106px]",children:[f.jsx("div",{className:"flex justify-center mb-2",children:f.jsx("button",{onClick:()=>{a("old"),o(!0),io()},className:`border rounded-md text-sm p-1 ${d==="light"?"border-gray-100":"text-white bg-slate-500/70"}`,children:"Older messages"})}),s.sort((fe,Le)=>Wr(fe,Le)).map((fe,Le)=>f.jsx(uQ,{editMessage:Nn,setEditMessageObject:T,deleteMessage:_s,message:fe,setMessage:v,setImageObject:x,setViewingImage:L,setReplyMessage:k,isUserOnline:_t,chatId:n,messagesRef:I,messageIndex:Le,viewingOldMessages:i,setSeenUsers:Ve},`${Le}-${fe.id}`)),i&&f.jsxs("div",{className:"flex gap-x-1 justify-center mt-1 mb-2",children:[f.jsx("button",{onClick:()=>{a("newer"),Vn()},className:`border  rounded-md text-sm p-1 ${d==="light"?"border-gray-100":"text-white bg-slate-500/70"}`,children:"Newer messages"}),f.jsx("button",{onClick:()=>{l(),o(!1),io()},className:`border  rounded-md text-sm p-1 ${d==="light"?"border-gray-100":"text-white bg-slate-500/70"}`,children:"Latest messages"})]}),f.jsx(gQ,{typingUsers:c,viewingOldMessages:i,isUserOnline:_t})]}),f.jsxs("div",{className:`fixed bottom-0 right-0 left-0 p-2 min-h-[80px] flex flex-col items-center  ${d==="light"?" bg-slate-50":" bg-slate-500 text-white"}`,children:[f.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 pt-0 md:w-2/3 lg:w-1/2",children:f.jsx("button",{onClick:()=>$(!0),className:"text-sm underline text-blue-300",children:"Group Rules"})}),w&&f.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[f.jsx("p",{children:"Editing a message"}),f.jsx("button",{onClick:()=>{T(null),v(""),x(null),k(null),D(null)},className:" rounded-full shadow-sm p-1",children:f.jsx("img",{className:"w-6",src:ae("falseIcon")})})]}),j&&f.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("p",{className:"font-bold",children:["Reply to ",A==null?void 0:A.name]}),f.jsx("p",{children:vs(j==null?void 0:j.content,25)})]}),f.jsx("button",{onClick:()=>{k(null),D(null)},className:"rounded-full shadow-sm p-1",children:f.jsx("img",{className:"w-6",src:ae("falseIcon")})})]}),C&&f.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:f.jsx("p",{children:"Uploading image..."})}),b&&f.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[f.jsxs("div",{className:"flex flex-1 items-center gap-x-1",children:[f.jsx("img",{src:b.URL,className:"h-10 rounded-sm"}),f.jsx("p",{children:b.name})]}),f.jsx("button",{onClick:()=>{Ie(b.path),x(null)},className:"rounded-full shadow-sm p-1",children:f.jsx("img",{className:"w-6",src:ae("falseIcon")})})]}),f.jsxs("div",{className:`border shadow-sm w-full md:w-2/3 lg:w-1/2 p-1 rounded-[12px] flex items-center justify-between ${d==="light"?"border-slate-200":"border-slate-600"}`,children:[f.jsx("input",{id:"imageFile",className:"hidden",type:"file",onChange:fe=>{rt(fe.target.files[0])},accept:"image/*"}),f.jsx("label",{htmlFor:"imageFile",className:"p-1 cursor-pointer rounded-md",children:f.jsx("img",{className:"w-7",src:ae("image")})}),f.jsx("textarea",{onChange:fe=>v(fe.target.value),value:y,className:`h-auto resize-none outline-none flex-1 p-1 pl-1 pr-1 rounded-md mr-2 ${d==="light"?"bg-transparent":"bg-transparent text-white"}`,placeholder:"Type message..."}),f.jsx("button",{onClick:()=>{!N&&(y.trim()||b)&&(w?Nn():vt())},children:f.jsx("img",{className:"w-10",src:ae(N?"sendingLetter":"sendLetter")})})]})]})]});case"info":return f.jsx(oQ,{setSubPage:_,currentChat:Ue,onlineUsers:Ne})}};return f.jsx(f.Fragment,{children:se()})},_Q=({setIsCreating:t})=>{const[e,n]=E.useState(""),r=async()=>{if(!e.trim())return;const s=lt(Te,"chats");await Ho(s,{name:e,image:null,latestMessage:"",members:[{uid:Z.currentUser.uid,joinedAt:new Date().getTime()}]})};return f.jsxs(__,{data:{setValue:t},children:[f.jsx("div",{children:"Group Name"}),f.jsx("input",{className:"focus:outline-blue-500 p-2",placeholder:"Enter a name",value:e,onChange:s=>n(s.target.value)}),f.jsx(fl,{onClick:()=>{e.trim()&&(r(),t(!1))},variant:"contained",children:"Create"})]})},wQ=()=>{const[t,e]=E.useState("chatroom"),[n,r]=E.useState(null),[s,i]=E.useState(null),[o,a]=E.useState(!1),[l,c]=E.useState([]),[u,d]=E.useState(!1),{theme:h,users:p,setHeaderTitle:g,isLogin:y,chats:v,setChats:m,messages:_,setMessages:w,userData:T}=E.useContext(ee);let R=0;dl("chats",m,y);const I=()=>{let N;try{if(!o){const P=lt(de(Te,"chats",n),"messages");let M=Oa(P,h0("timestamp","desc"),f0(15));return N=er(M,L=>{const j=L.docs.map(k=>({id:k.id,...k.data()}));w(j),i(L.docs[L.docs.length-1])}),()=>{N&&N()}}}catch(P){console.log(P.message)}},b=async N=>{try{const P=lt(de(Te,"chats",n),"messages");let L=Oa(P,h0("timestamp",N==="newer"?"asc":"desc"),f0(15));s&&(L=Oa(L,OT(s)));const j=await $O(L),k=j.docs.map(A=>({id:A.id,...A.data()}));w(k),i(j.docs[j.docs.length-1])}catch(P){console.log(P.message)}};E.useEffect(()=>I(),[o,n]),E.useEffect(()=>{g("Chat Room")},[]);const x=N=>{e("chat"),r(N)},C=(N,P)=>{let M=!1;return N.forEach(L=>{P===L.uid&&(M=!0)}),M},S=()=>{switch(t){case"chatroom":return f.jsxs("div",{className:"p-5 grid gap-y-2 ",children:[v.map(N=>{var M,L,j,k,A;let P;if(p.forEach(D=>{var O;D.uid===((O=N==null?void 0:N.lastMessage)==null?void 0:O.senderId)&&(P=D)}),C(N.members,(M=Z==null?void 0:Z.currentUser)==null?void 0:M.uid))return R++,f.jsxs(Gg,{onClick:()=>x(N.id),sx:{display:"flex",minHeight:"100px",columnGap:"2px",alignItems:"center",cursor:"pointer",padding:"4px"},children:[f.jsx(qG,{component:"img",alt:"Group Image",image:(L=N==null?void 0:N.image)==null?void 0:L.URL,sx:{height:"48px",width:"48px",borderRadius:"8px",objectPosition:"center",objectFit:"cover",marginRight:"4px"}}),f.jsxs("div",{children:[f.jsx(to,{sx:{fontWeight:"bold"},gutterBottom:!0,children:N==null?void 0:N.name}),f.jsxs(Wa,{container:!0,sx:{display:"grid"},children:[f.jsx(Wa,{item:!0,sx:{display:"flex",columnGap:"4px",alignItems:"center"},children:(N==null?void 0:N.lastMessage)&&f.jsxs(f.Fragment,{children:[f.jsx(Ir,{size:"size-5",fontSize:"text-sm",name:P.name,image:P.image}),f.jsx(to,{size:"small",fontWeight:"bold",variant:"caption",color:"textSecondary",children:P==null?void 0:P.name})]})}),(N==null?void 0:N.lastMessage)&&f.jsxs(Wa,{sx:{marginTop:"2px",display:"grid"},children:[f.jsx(to,{size:"small",variant:"caption",color:"textSecondary",children:vs(N.lastMessage.content,30)}),((j=N.lastMessage)==null?void 0:j.image)&&f.jsx(to,{size:"small",variant:"caption",color:"textSecondary",children:"1 image"}),f.jsxs(to,{size:"small",variant:"caption",color:"textSecondary",children:[((k=N.lastMessage)==null?void 0:k.editedTime)&&"edited ",Mi(tr((A=N.lastMessage)!=null&&A.editedTime?N.lastMessage.editedTime:N.lastMessage.timestamp))]})]})]})]})]},N.id)}),R===0&&f.jsxs("div",{className:`${h==="light"?"":"text-white"}`,children:[f.jsx("p",{children:"You don't have any chat rooms."}),f.jsx("p",{children:"Ask the admin to add you to a chat room."})]}),(T==null?void 0:T.isAdmin)&&f.jsx("div",{children:f.jsx(fl,{onClick:()=>d(!0),endIcon:f.jsx("img",{className:"w-7",src:ae("add")}),children:"Create group"})}),u&&f.jsx(_Q,{setIsCreating:d})]});case"chat":return f.jsx(vQ,{data:{page:t,chats:v,setPage:e,chatId:n,messages:_,viewingOldMessages:o,setViewingOldMessages:a,setLastDoc:i,loadMoreWithoutSnapshot:b,loadMessages:I,typingUsers:l,setTypingUsers:c}})}};return f.jsxs(f.Fragment,{children:[f.jsx(Hr,{}),S()]})},xQ=()=>{const{headerTitle:t,refreshUserData:e,isLogin:n,setIsLogIn:r,setUserId:s}=E.useContext(ee);document.title=t;const i=sr();E.useEffect(()=>{e()},[n]),E.useEffect(()=>{const o=HD(Z,a=>{a&&(r(a),s(Z.currentUser.uid))});return()=>{o()}},[]),E.useEffect(()=>{i(n?"/app/posts":"/login")},[n])},EQ=()=>{const t={text:"About SEA",image:"about",answer:`SEA stands for Star Education Academy, is an education academy founded by U Aye Kyaw and Daw Sandar Lwin in 2015. At SEA, you can study variety of subjects including
    English Language and four skills,
    Philosophy, Maths and Science.`},e=[{text:"Is my data private ?",answer:"Yes, your data is private."},{text:"Where can I give feedback to developer ?",answer:"You can give feedback at aungnaingthan22@gmail.com"}],n=[{text:"What are updated in the latest version ?",answer:"Updated UI design and fix bugs."},{text:"What is the last update time ?",answer:` Updated ${Ko(1712655376346)}.`}];return f.jsxs("div",{className:"p-5 ",children:[f.jsx(Hr,{}),f.jsx(nc,{image:t.image,text:t.text,answer:t.answer}),f.jsx(nc,{text:"FAQ",image:"faq",answer:e.map(r=>f.jsx(nc,{text:r.text,answer:r.answer},r.text))}),f.jsx(nc,{image:"update",text:"Updates",answer:n.map(r=>f.jsx(nc,{text:r.text,answer:r.answer},r.text))})]})},nc=({image:t,text:e,answer:n})=>{const[r,s]=E.useState(!1),{theme:i}=E.useContext(ee);return f.jsxs("div",{className:`border p-2  mb-2 ${i==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"transition-all flex items-center rounded-md min-h-14 justify-between",children:[f.jsxs("div",{className:"flex items-center gap-x-2",children:[t&&f.jsx(CQ,{image:t}),f.jsx("div",{children:e})]}),f.jsx("button",{onClick:()=>s(!r),className:`mr-2  rounded-full p-1 ${i==="light"?"bg-gray-200":"bg-slate-500"}`,children:f.jsx("img",{className:"w-6",src:ae(r?"up":"down")})})]}),r&&f.jsx("div",{className:"font-medium ",children:n})]})},CQ=({image:t})=>f.jsx("img",{className:"w-7",src:ae(t)}),ee=E.createContext();function TQ(){var Ne,He,Ue;const t=sz("sea-localStorage"),[e,n]=E.useState("light"),[r,s]=E.useState(((Ne=t==null?void 0:t.timer)==null?void 0:Ne.seconds)||0),[i,o]=E.useState(((He=t==null?void 0:t.timer)==null?void 0:He.minutes)||0),[a,l]=E.useState(((Ue=t==null?void 0:t.timer)==null?void 0:Ue.hours)||0),[c,u]=E.useState(!1),[d,h]=E.useState({}),[p,g]=E.useState([]),[y,v]=E.useState(null),[m,_]=E.useState((t==null?void 0:t.answeredQuestions)||[]),[w,T]=E.useState((t==null?void 0:t.currentTest)||null),[R,I]=E.useState(!1),[b,x]=E.useState(""),[C,S]=E.useState(!1),[N,P]=E.useState([]),[M,L]=E.useState([]),[j,k]=E.useState([]),[A,D]=E.useState(null),[O,$]=E.useState([]),[H,z]=E.useState([]),[K,V]=E.useState([]),[F,te]=E.useState(null);dl("users",g,c),az("users",h,c);const pe=()=>{},ve=()=>{s(0),o(0),l(0)},ie=()=>{ve(),_([]),T(null),$g("sea-localStorage",{answeredQuestions:[],currentTest:null,startIndex:null,timer:{seconds:0,minutes:0,hours:0}})};E.useEffect(()=>{$g("seaacademy-theme-data",e)},[e]);const be=`${a}:${P3(i)}:${P3(r)}`;return E.useEffect(()=>{const Qt=setInterval(()=>{r<59?s(r+1):(s(0),o(i+1)),i===59&&(o(0),l(a+1))},1e3);return()=>{clearInterval(Qt)}},[r]),f.jsx(ee.Provider,{value:{answeredQuestions:m,setAnsweredQuestions:_,currentTest:w,stopTest:ie,seaLocalStorage:t,formattedTime:be,startTimer:ve,seconds:r,minutes:i,hours:a,inspecting:R,userData:d,isLogin:c,setUserData:h,users:p,setCurrentTest:T,headerTitle:b,setHeaderTitle:x,theme:e,setTheme:n,refreshUserData:pe,isOnline:C,setIsOnline:S,userId:y,setUserId:v,setInspecting:I,setIsLogIn:u,posts:N,setPosts:P,tests:M,setTests:L,history:j,setHistory:k,chats:O,setChats:$,messages:H,setMessages:z,notifications:K,setNotifications:V,historyLastDoc:A,setHistoryLastDoc:D,notificationLastDoc:F,setNotificationLastDoc:te},children:f.jsx("div",{className:"transition-all duration-300 App font-padauk flex flex-col items-center min-h-screen bgdf-[#e3f2fd]",children:f.jsxs(KR,{children:[f.jsx(xQ,{}),f.jsx(gK,{}),f.jsx(_K,{}),f.jsx("div",{className:"flex-1 w-full h-full md:w-4/5 lg:w-3/5 ",children:f.jsxs(VR,{children:[!c&&f.jsx(Tn,{exact:!0,path:"/login",element:f.jsx(LK,{})}),c&&f.jsxs(f.Fragment,{children:[f.jsx(Tn,{exact:!0,path:"/app/:page",element:w?f.jsx(cz,{}):f.jsx(AK,{})}),f.jsx(Tn,{exact:!0,path:"/app/history/:resultId",element:f.jsx(uz,{})}),f.jsx(Tn,{exact:!0,path:"/app/help",element:f.jsx(EQ,{})}),f.jsx(Tn,{exact:!0,path:"/app/history/:resultId/reviews",element:f.jsx(yK,{})}),f.jsx(Tn,{path:"/app/history",element:f.jsx(vK,{})}),f.jsx(Tn,{path:"/app/chatroom",element:f.jsx(wQ,{})}),(d==null?void 0:d.isAdmin)&&f.jsxs(f.Fragment,{children:[f.jsx(Tn,{path:"/app/notifications",element:f.jsx(rQ,{})}),f.jsx(Tn,{path:"/app/admin",element:f.jsx(wK,{})}),f.jsx(Tn,{path:"/app/admin/tests",element:f.jsx(XK,{})}),f.jsx(Tn,{path:"/app/admin/users",element:f.jsx(ZK,{})}),f.jsx(Tn,{path:"/app/admin/posts",element:f.jsx(tQ,{})})]}),f.jsx(Tn,{exact:!0,path:"/app/settings",element:f.jsx(zK,{})})]}),f.jsx(Tn,{path:"*",element:f.jsx(Hv,{title:"No page found!",text:"There is no page!"})})]})}),b!=="Chat Room"&&f.jsx(PK,{})]})})})}qp.createRoot(document.getElementById("root")).render(f.jsx(f.Fragment,{children:f.jsx(TQ,{})}));
