function tM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function E4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ia(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var I4={exports:{}},e2={},b4={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lf=Symbol.for("react.element"),nM=Symbol.for("react.portal"),rM=Symbol.for("react.fragment"),iM=Symbol.for("react.strict_mode"),sM=Symbol.for("react.profiler"),oM=Symbol.for("react.provider"),aM=Symbol.for("react.context"),lM=Symbol.for("react.forward_ref"),cM=Symbol.for("react.suspense"),uM=Symbol.for("react.memo"),dM=Symbol.for("react.lazy"),C5=Symbol.iterator;function hM(t){return t===null||typeof t!="object"?null:(t=C5&&t[C5]||t["@@iterator"],typeof t=="function"?t:null)}var C4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T4=Object.assign,S4={};function bu(t,e,n){this.props=t,this.context=e,this.refs=S4,this.updater=n||C4}bu.prototype.isReactComponent={};bu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function R4(){}R4.prototype=bu.prototype;function Lw(t,e,n){this.props=t,this.context=e,this.refs=S4,this.updater=n||C4}var Mw=Lw.prototype=new R4;Mw.constructor=Lw;T4(Mw,bu.prototype);Mw.isPureReactComponent=!0;var T5=Array.isArray,k4=Object.prototype.hasOwnProperty,Ow={current:null},A4={key:!0,ref:!0,__self:!0,__source:!0};function P4(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)k4.call(e,r)&&!A4.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:lf,type:t,key:s,ref:o,props:i,_owner:Ow.current}}function fM(t,e){return{$$typeof:lf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Dw(t){return typeof t=="object"&&t!==null&&t.$$typeof===lf}function pM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var S5=/\/+/g;function S1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pM(""+t.key):e.toString(36)}function q0(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case lf:case nM:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+S1(o,0):r,T5(i)?(n="",t!=null&&(n=t.replace(S5,"$&/")+"/"),q0(i,e,n,"",function(c){return c})):i!=null&&(Dw(i)&&(i=fM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(S5,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",T5(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+S1(s,a);o+=q0(s,e,n,l,i)}else if(l=hM(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+S1(s,a++),o+=q0(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function n0(t,e,n){if(t==null)return t;var r=[],i=0;return q0(t,r,"","",function(s){return e.call(n,s,i++)}),r}function mM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _r={current:null},G0={transition:null},gM={ReactCurrentDispatcher:_r,ReactCurrentBatchConfig:G0,ReactCurrentOwner:Ow};Ke.Children={map:n0,forEach:function(t,e,n){n0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return n0(t,function(){e++}),e},toArray:function(t){return n0(t,function(e){return e})||[]},only:function(t){if(!Dw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ke.Component=bu;Ke.Fragment=rM;Ke.Profiler=sM;Ke.PureComponent=Lw;Ke.StrictMode=iM;Ke.Suspense=cM;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gM;Ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=T4({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ow.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)k4.call(e,l)&&!A4.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:lf,type:t.type,key:i,ref:s,props:r,_owner:o}};Ke.createContext=function(t){return t={$$typeof:aM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oM,_context:t},t.Consumer=t};Ke.createElement=P4;Ke.createFactory=function(t){var e=P4.bind(null,t);return e.type=t,e};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(t){return{$$typeof:lM,render:t}};Ke.isValidElement=Dw;Ke.lazy=function(t){return{$$typeof:dM,_payload:{_status:-1,_result:t},_init:mM}};Ke.memo=function(t,e){return{$$typeof:uM,type:t,compare:e===void 0?null:e}};Ke.startTransition=function(t){var e=G0.transition;G0.transition={};try{t()}finally{G0.transition=e}};Ke.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ke.useCallback=function(t,e){return _r.current.useCallback(t,e)};Ke.useContext=function(t){return _r.current.useContext(t)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(t){return _r.current.useDeferredValue(t)};Ke.useEffect=function(t,e){return _r.current.useEffect(t,e)};Ke.useId=function(){return _r.current.useId()};Ke.useImperativeHandle=function(t,e,n){return _r.current.useImperativeHandle(t,e,n)};Ke.useInsertionEffect=function(t,e){return _r.current.useInsertionEffect(t,e)};Ke.useLayoutEffect=function(t,e){return _r.current.useLayoutEffect(t,e)};Ke.useMemo=function(t,e){return _r.current.useMemo(t,e)};Ke.useReducer=function(t,e,n){return _r.current.useReducer(t,e,n)};Ke.useRef=function(t){return _r.current.useRef(t)};Ke.useState=function(t){return _r.current.useState(t)};Ke.useSyncExternalStore=function(t,e,n){return _r.current.useSyncExternalStore(t,e,n)};Ke.useTransition=function(){return _r.current.useTransition()};Ke.version="18.2.0";b4.exports=Ke;var y=b4.exports;const hr=E4(y),Lp=tM({__proto__:null,default:hr},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vM=y,yM=Symbol.for("react.element"),_M=Symbol.for("react.fragment"),wM=Object.prototype.hasOwnProperty,xM=vM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EM={key:!0,ref:!0,__self:!0,__source:!0};function N4(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wM.call(e,r)&&!EM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:yM,type:t,key:s,ref:o,props:i,_owner:xM.current}}e2.Fragment=_M;e2.jsx=N4;e2.jsxs=N4;I4.exports=e2;var f=I4.exports,Jv={},L4={exports:{}},Xr={},M4={exports:{}},O4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,$){var F=O.length;O.push($);e:for(;0<F;){var q=F-1>>>1,W=O[q];if(0<i(W,$))O[q]=$,O[F]=W,F=q;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var $=O[0],F=O.pop();if(F!==$){O[0]=F;e:for(var q=0,W=O.length,z=W>>>1;q<z;){var B=2*(q+1)-1,V=O[B],G=B+1,ie=O[G];if(0>i(V,F))G<W&&0>i(ie,V)?(O[q]=ie,O[G]=F,q=G):(O[q]=V,O[B]=F,q=B);else if(G<W&&0>i(ie,F))O[q]=ie,O[G]=F,q=G;else break e}}return $}function i(O,$){var F=O.sortIndex-$.sortIndex;return F!==0?F:O.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(O){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=O)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function E(O){if(v=!1,_(O),!m)if(n(l)!==null)m=!0,P(S);else{var $=n(c);$!==null&&A(E,$.startTime-O)}}function S(O,$){m=!1,v&&(v=!1,g(b),b=-1),p=!0;var F=h;try{for(_($),d=n(l);d!==null&&(!(d.expirationTime>$)||O&&!k());){var q=d.callback;if(typeof q=="function"){d.callback=null,h=d.priorityLevel;var W=q(d.expirationTime<=$);$=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),_($)}else r(l);d=n(l)}if(d!==null)var z=!0;else{var B=n(c);B!==null&&A(E,B.startTime-$),z=!1}return z}finally{d=null,h=F,p=!1}}var I=!1,C=null,b=-1,R=5,T=-1;function k(){return!(t.unstable_now()-T<R)}function N(){if(C!==null){var O=t.unstable_now();T=O;var $=!0;try{$=C(!0,O)}finally{$?M():(I=!1,C=null)}}else I=!1}var M;if(typeof w=="function")M=function(){w(N)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,j=L.port2;L.port1.onmessage=N,M=function(){j.postMessage(null)}}else M=function(){x(N,0)};function P(O){C=O,I||(I=!0,M())}function A(O,$){b=x(function(){O(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(S))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var F=h;h=$;try{return O()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var F=h;h=O;try{return $()}finally{h=F}},t.unstable_scheduleCallback=function(O,$,F){var q=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?q+F:q):F=q,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=F+W,O={id:u++,callback:$,priorityLevel:O,startTime:F,expirationTime:W,sortIndex:-1},F>q?(O.sortIndex=F,e(c,O),n(l)===null&&O===n(c)&&(v?(g(b),b=-1):v=!0,A(E,F-q))):(O.sortIndex=W,e(l,O),m||p||(m=!0,P(S))),O},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(O){var $=h;return function(){var F=h;h=$;try{return O.apply(this,arguments)}finally{h=F}}}})(O4);M4.exports=O4;var IM=M4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D4=y,Kr=IM;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $4=new Set,ch={};function Tl(t,e){Kc(t,e),Kc(t+"Capture",e)}function Kc(t,e){for(ch[t]=e,t=0;t<e.length;t++)$4.add(e[t])}var Hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zv=Object.prototype.hasOwnProperty,bM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R5={},k5={};function CM(t){return Zv.call(k5,t)?!0:Zv.call(R5,t)?!1:bM.test(t)?k5[t]=!0:(R5[t]=!0,!1)}function TM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SM(t,e,n,r){if(e===null||typeof e>"u"||TM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Hn[t]=new wr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Hn[e]=new wr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Hn[t]=new wr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Hn[t]=new wr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Hn[t]=new wr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Hn[t]=new wr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Hn[t]=new wr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Hn[t]=new wr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Hn[t]=new wr(t,5,!1,t.toLowerCase(),null,!1,!1)});var $w=/[\-:]([a-z])/g;function jw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($w,jw);Hn[e]=new wr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($w,jw);Hn[e]=new wr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($w,jw);Hn[e]=new wr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Hn[t]=new wr(t,1,!1,t.toLowerCase(),null,!1,!1)});Hn.xlinkHref=new wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Hn[t]=new wr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fw(t,e,n,r){var i=Hn.hasOwnProperty(e)?Hn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SM(e,n,i,r)&&(n=null),r||i===null?CM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var to=D4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,r0=Symbol.for("react.element"),hc=Symbol.for("react.portal"),fc=Symbol.for("react.fragment"),Vw=Symbol.for("react.strict_mode"),ey=Symbol.for("react.profiler"),j4=Symbol.for("react.provider"),F4=Symbol.for("react.context"),Uw=Symbol.for("react.forward_ref"),ty=Symbol.for("react.suspense"),ny=Symbol.for("react.suspense_list"),Bw=Symbol.for("react.memo"),vo=Symbol.for("react.lazy"),V4=Symbol.for("react.offscreen"),A5=Symbol.iterator;function Ku(t){return t===null||typeof t!="object"?null:(t=A5&&t[A5]||t["@@iterator"],typeof t=="function"?t:null)}var Wt=Object.assign,R1;function Id(t){if(R1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);R1=e&&e[1]||""}return`
`+R1+t}var k1=!1;function A1(t,e){if(!t||k1)return"";k1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{k1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Id(t):""}function RM(t){switch(t.tag){case 5:return Id(t.type);case 16:return Id("Lazy");case 13:return Id("Suspense");case 19:return Id("SuspenseList");case 0:case 2:case 15:return t=A1(t.type,!1),t;case 11:return t=A1(t.type.render,!1),t;case 1:return t=A1(t.type,!0),t;default:return""}}function ry(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fc:return"Fragment";case hc:return"Portal";case ey:return"Profiler";case Vw:return"StrictMode";case ty:return"Suspense";case ny:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case F4:return(t.displayName||"Context")+".Consumer";case j4:return(t._context.displayName||"Context")+".Provider";case Uw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bw:return e=t.displayName||null,e!==null?e:ry(t.type)||"Memo";case vo:e=t._payload,t=t._init;try{return ry(t(e))}catch{}}return null}function kM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ry(e);case 8:return e===Vw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ko(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function U4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function AM(t){var e=U4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function i0(t){t._valueTracker||(t._valueTracker=AM(t))}function B4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=U4(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Mp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function iy(t,e){var n=e.checked;return Wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function P5(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ko(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function z4(t,e){e=e.checked,e!=null&&Fw(t,"checked",e,!1)}function sy(t,e){z4(t,e);var n=Ko(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?oy(t,e.type,n):e.hasOwnProperty("defaultValue")&&oy(t,e.type,Ko(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function N5(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function oy(t,e,n){(e!=="number"||Mp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bd=Array.isArray;function Ac(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ko(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ay(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return Wt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function L5(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(bd(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ko(n)}}function W4(t,e){var n=Ko(e.value),r=Ko(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function M5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function H4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ly(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?H4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var s0,q4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(s0=s0||document.createElement("div"),s0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=s0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function uh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $d={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PM=["Webkit","ms","Moz","O"];Object.keys($d).forEach(function(t){PM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$d[e]=$d[t]})});function G4(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$d.hasOwnProperty(t)&&$d[t]?(""+e).trim():e+"px"}function K4(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=G4(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var NM=Wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cy(t,e){if(e){if(NM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function uy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dy=null;function zw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hy=null,Pc=null,Nc=null;function O5(t){if(t=df(t)){if(typeof hy!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=s2(e),hy(t.stateNode,t.type,e))}}function Q4(t){Pc?Nc?Nc.push(t):Nc=[t]:Pc=t}function Y4(){if(Pc){var t=Pc,e=Nc;if(Nc=Pc=null,O5(t),e)for(t=0;t<e.length;t++)O5(e[t])}}function X4(t,e){return t(e)}function J4(){}var P1=!1;function Z4(t,e,n){if(P1)return t(e,n);P1=!0;try{return X4(t,e,n)}finally{P1=!1,(Pc!==null||Nc!==null)&&(J4(),Y4())}}function dh(t,e){var n=t.stateNode;if(n===null)return null;var r=s2(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var fy=!1;if(Hs)try{var Qu={};Object.defineProperty(Qu,"passive",{get:function(){fy=!0}}),window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{fy=!1}function LM(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var jd=!1,Op=null,Dp=!1,py=null,MM={onError:function(t){jd=!0,Op=t}};function OM(t,e,n,r,i,s,o,a,l){jd=!1,Op=null,LM.apply(MM,arguments)}function DM(t,e,n,r,i,s,o,a,l){if(OM.apply(this,arguments),jd){if(jd){var c=Op;jd=!1,Op=null}else throw Error(Q(198));Dp||(Dp=!0,py=c)}}function Sl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function eR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function D5(t){if(Sl(t)!==t)throw Error(Q(188))}function $M(t){var e=t.alternate;if(!e){if(e=Sl(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return D5(i),t;if(s===r)return D5(i),e;s=s.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function tR(t){return t=$M(t),t!==null?nR(t):null}function nR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nR(t);if(e!==null)return e;t=t.sibling}return null}var rR=Kr.unstable_scheduleCallback,$5=Kr.unstable_cancelCallback,jM=Kr.unstable_shouldYield,FM=Kr.unstable_requestPaint,nn=Kr.unstable_now,VM=Kr.unstable_getCurrentPriorityLevel,Ww=Kr.unstable_ImmediatePriority,iR=Kr.unstable_UserBlockingPriority,$p=Kr.unstable_NormalPriority,UM=Kr.unstable_LowPriority,sR=Kr.unstable_IdlePriority,t2=null,ps=null;function BM(t){if(ps&&typeof ps.onCommitFiberRoot=="function")try{ps.onCommitFiberRoot(t2,t,void 0,(t.current.flags&128)===128)}catch{}}var ji=Math.clz32?Math.clz32:HM,zM=Math.log,WM=Math.LN2;function HM(t){return t>>>=0,t===0?32:31-(zM(t)/WM|0)|0}var o0=64,a0=4194304;function Cd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Cd(a):(s&=o,s!==0&&(r=Cd(s)))}else o=n&~i,o!==0?r=Cd(o):s!==0&&(r=Cd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ji(e),i=1<<n,r|=t[n],e&=~i;return r}function qM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ji(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=qM(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function my(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oR(){var t=o0;return o0<<=1,!(o0&4194240)&&(o0=64),t}function N1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ji(e),t[e]=n}function KM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ji(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Hw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ji(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var mt=0;function aR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lR,qw,cR,uR,dR,gy=!1,l0=[],Lo=null,Mo=null,Oo=null,hh=new Map,fh=new Map,_o=[],QM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function j5(t,e){switch(t){case"focusin":case"focusout":Lo=null;break;case"dragenter":case"dragleave":Mo=null;break;case"mouseover":case"mouseout":Oo=null;break;case"pointerover":case"pointerout":hh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fh.delete(e.pointerId)}}function Yu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=df(e),e!==null&&qw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function YM(t,e,n,r,i){switch(e){case"focusin":return Lo=Yu(Lo,t,e,n,r,i),!0;case"dragenter":return Mo=Yu(Mo,t,e,n,r,i),!0;case"mouseover":return Oo=Yu(Oo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return hh.set(s,Yu(hh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,fh.set(s,Yu(fh.get(s)||null,t,e,n,r,i)),!0}return!1}function hR(t){var e=Oa(t.target);if(e!==null){var n=Sl(e);if(n!==null){if(e=n.tag,e===13){if(e=eR(n),e!==null){t.blockedOn=e,dR(t.priority,function(){cR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function K0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dy=r,n.target.dispatchEvent(r),dy=null}else return e=df(n),e!==null&&qw(e),t.blockedOn=n,!1;e.shift()}return!0}function F5(t,e,n){K0(t)&&n.delete(e)}function XM(){gy=!1,Lo!==null&&K0(Lo)&&(Lo=null),Mo!==null&&K0(Mo)&&(Mo=null),Oo!==null&&K0(Oo)&&(Oo=null),hh.forEach(F5),fh.forEach(F5)}function Xu(t,e){t.blockedOn===e&&(t.blockedOn=null,gy||(gy=!0,Kr.unstable_scheduleCallback(Kr.unstable_NormalPriority,XM)))}function ph(t){function e(i){return Xu(i,t)}if(0<l0.length){Xu(l0[0],t);for(var n=1;n<l0.length;n++){var r=l0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Lo!==null&&Xu(Lo,t),Mo!==null&&Xu(Mo,t),Oo!==null&&Xu(Oo,t),hh.forEach(e),fh.forEach(e),n=0;n<_o.length;n++)r=_o[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_o.length&&(n=_o[0],n.blockedOn===null);)hR(n),n.blockedOn===null&&_o.shift()}var Lc=to.ReactCurrentBatchConfig,Fp=!0;function JM(t,e,n,r){var i=mt,s=Lc.transition;Lc.transition=null;try{mt=1,Gw(t,e,n,r)}finally{mt=i,Lc.transition=s}}function ZM(t,e,n,r){var i=mt,s=Lc.transition;Lc.transition=null;try{mt=4,Gw(t,e,n,r)}finally{mt=i,Lc.transition=s}}function Gw(t,e,n,r){if(Fp){var i=vy(t,e,n,r);if(i===null)B1(t,e,r,Vp,n),j5(t,r);else if(YM(i,t,e,n,r))r.stopPropagation();else if(j5(t,r),e&4&&-1<QM.indexOf(t)){for(;i!==null;){var s=df(i);if(s!==null&&lR(s),s=vy(t,e,n,r),s===null&&B1(t,e,r,Vp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else B1(t,e,r,null,n)}}var Vp=null;function vy(t,e,n,r){if(Vp=null,t=zw(r),t=Oa(t),t!==null)if(e=Sl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=eR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vp=t,null}function fR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VM()){case Ww:return 1;case iR:return 4;case $p:case UM:return 16;case sR:return 536870912;default:return 16}default:return 16}}var So=null,Kw=null,Q0=null;function pR(){if(Q0)return Q0;var t,e=Kw,n=e.length,r,i="value"in So?So.value:So.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Q0=i.slice(t,1<r?1-r:void 0)}function Y0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function c0(){return!0}function V5(){return!1}function Jr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?c0:V5,this.isPropagationStopped=V5,this}return Wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=c0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=c0)},persist:function(){},isPersistent:c0}),e}var Cu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qw=Jr(Cu),uf=Wt({},Cu,{view:0,detail:0}),eO=Jr(uf),L1,M1,Ju,n2=Wt({},uf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ju&&(Ju&&t.type==="mousemove"?(L1=t.screenX-Ju.screenX,M1=t.screenY-Ju.screenY):M1=L1=0,Ju=t),L1)},movementY:function(t){return"movementY"in t?t.movementY:M1}}),U5=Jr(n2),tO=Wt({},n2,{dataTransfer:0}),nO=Jr(tO),rO=Wt({},uf,{relatedTarget:0}),O1=Jr(rO),iO=Wt({},Cu,{animationName:0,elapsedTime:0,pseudoElement:0}),sO=Jr(iO),oO=Wt({},Cu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aO=Jr(oO),lO=Wt({},Cu,{data:0}),B5=Jr(lO),cO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dO[t])?!!e[t]:!1}function Yw(){return hO}var fO=Wt({},uf,{key:function(t){if(t.key){var e=cO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Y0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yw,charCode:function(t){return t.type==="keypress"?Y0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Y0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pO=Jr(fO),mO=Wt({},n2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z5=Jr(mO),gO=Wt({},uf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yw}),vO=Jr(gO),yO=Wt({},Cu,{propertyName:0,elapsedTime:0,pseudoElement:0}),_O=Jr(yO),wO=Wt({},n2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xO=Jr(wO),EO=[9,13,27,32],Xw=Hs&&"CompositionEvent"in window,Fd=null;Hs&&"documentMode"in document&&(Fd=document.documentMode);var IO=Hs&&"TextEvent"in window&&!Fd,mR=Hs&&(!Xw||Fd&&8<Fd&&11>=Fd),W5=" ",H5=!1;function gR(t,e){switch(t){case"keyup":return EO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pc=!1;function bO(t,e){switch(t){case"compositionend":return vR(e);case"keypress":return e.which!==32?null:(H5=!0,W5);case"textInput":return t=e.data,t===W5&&H5?null:t;default:return null}}function CO(t,e){if(pc)return t==="compositionend"||!Xw&&gR(t,e)?(t=pR(),Q0=Kw=So=null,pc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mR&&e.locale!=="ko"?null:e.data;default:return null}}var TO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!TO[t.type]:e==="textarea"}function yR(t,e,n,r){Q4(r),e=Up(e,"onChange"),0<e.length&&(n=new Qw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vd=null,mh=null;function SO(t){kR(t,0)}function r2(t){var e=vc(t);if(B4(e))return t}function RO(t,e){if(t==="change")return e}var _R=!1;if(Hs){var D1;if(Hs){var $1="oninput"in document;if(!$1){var G5=document.createElement("div");G5.setAttribute("oninput","return;"),$1=typeof G5.oninput=="function"}D1=$1}else D1=!1;_R=D1&&(!document.documentMode||9<document.documentMode)}function K5(){Vd&&(Vd.detachEvent("onpropertychange",wR),mh=Vd=null)}function wR(t){if(t.propertyName==="value"&&r2(mh)){var e=[];yR(e,mh,t,zw(t)),Z4(SO,e)}}function kO(t,e,n){t==="focusin"?(K5(),Vd=e,mh=n,Vd.attachEvent("onpropertychange",wR)):t==="focusout"&&K5()}function AO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return r2(mh)}function PO(t,e){if(t==="click")return r2(e)}function NO(t,e){if(t==="input"||t==="change")return r2(e)}function LO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qi=typeof Object.is=="function"?Object.is:LO;function gh(t,e){if(qi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Zv.call(e,i)||!qi(t[i],e[i]))return!1}return!0}function Q5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Y5(t,e){var n=Q5(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Q5(n)}}function xR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ER(){for(var t=window,e=Mp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Mp(t.document)}return e}function Jw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function MO(t){var e=ER(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xR(n.ownerDocument.documentElement,n)){if(r!==null&&Jw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Y5(n,s);var o=Y5(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var OO=Hs&&"documentMode"in document&&11>=document.documentMode,mc=null,yy=null,Ud=null,_y=!1;function X5(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_y||mc==null||mc!==Mp(r)||(r=mc,"selectionStart"in r&&Jw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ud&&gh(Ud,r)||(Ud=r,r=Up(yy,"onSelect"),0<r.length&&(e=new Qw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mc)))}function u0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gc={animationend:u0("Animation","AnimationEnd"),animationiteration:u0("Animation","AnimationIteration"),animationstart:u0("Animation","AnimationStart"),transitionend:u0("Transition","TransitionEnd")},j1={},IR={};Hs&&(IR=document.createElement("div").style,"AnimationEvent"in window||(delete gc.animationend.animation,delete gc.animationiteration.animation,delete gc.animationstart.animation),"TransitionEvent"in window||delete gc.transitionend.transition);function i2(t){if(j1[t])return j1[t];if(!gc[t])return t;var e=gc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in IR)return j1[t]=e[n];return t}var bR=i2("animationend"),CR=i2("animationiteration"),TR=i2("animationstart"),SR=i2("transitionend"),RR=new Map,J5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sa(t,e){RR.set(t,e),Tl(e,[t])}for(var F1=0;F1<J5.length;F1++){var V1=J5[F1],DO=V1.toLowerCase(),$O=V1[0].toUpperCase()+V1.slice(1);sa(DO,"on"+$O)}sa(bR,"onAnimationEnd");sa(CR,"onAnimationIteration");sa(TR,"onAnimationStart");sa("dblclick","onDoubleClick");sa("focusin","onFocus");sa("focusout","onBlur");sa(SR,"onTransitionEnd");Kc("onMouseEnter",["mouseout","mouseover"]);Kc("onMouseLeave",["mouseout","mouseover"]);Kc("onPointerEnter",["pointerout","pointerover"]);Kc("onPointerLeave",["pointerout","pointerover"]);Tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Td));function Z5(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,DM(r,e,void 0,t),t.currentTarget=null}function kR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Z5(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Z5(i,a,c),s=l}}}if(Dp)throw t=py,Dp=!1,py=null,t}function kt(t,e){var n=e[by];n===void 0&&(n=e[by]=new Set);var r=t+"__bubble";n.has(r)||(AR(e,t,2,!1),n.add(r))}function U1(t,e,n){var r=0;e&&(r|=4),AR(n,t,r,e)}var d0="_reactListening"+Math.random().toString(36).slice(2);function vh(t){if(!t[d0]){t[d0]=!0,$4.forEach(function(n){n!=="selectionchange"&&(jO.has(n)||U1(n,!1,t),U1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[d0]||(e[d0]=!0,U1("selectionchange",!1,e))}}function AR(t,e,n,r){switch(fR(e)){case 1:var i=JM;break;case 4:i=ZM;break;default:i=Gw}n=i.bind(null,e,n,t),i=void 0,!fy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function B1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Oa(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Z4(function(){var c=s,u=zw(n),d=[];e:{var h=RR.get(t);if(h!==void 0){var p=Qw,m=t;switch(t){case"keypress":if(Y0(n)===0)break e;case"keydown":case"keyup":p=pO;break;case"focusin":m="focus",p=O1;break;case"focusout":m="blur",p=O1;break;case"beforeblur":case"afterblur":p=O1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=U5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=nO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=vO;break;case bR:case CR:case TR:p=sO;break;case SR:p=_O;break;case"scroll":p=eO;break;case"wheel":p=xO;break;case"copy":case"cut":case"paste":p=aO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=z5}var v=(e&4)!==0,x=!v&&t==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var w=c,_;w!==null;){_=w;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,g!==null&&(E=dh(w,g),E!=null&&v.push(yh(w,E,_)))),x)break;w=w.return}0<v.length&&(h=new p(h,m,null,n,u),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==dy&&(m=n.relatedTarget||n.fromElement)&&(Oa(m)||m[qs]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Oa(m):null,m!==null&&(x=Sl(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=U5,E="onMouseLeave",g="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=z5,E="onPointerLeave",g="onPointerEnter",w="pointer"),x=p==null?h:vc(p),_=m==null?h:vc(m),h=new v(E,w+"leave",p,n,u),h.target=x,h.relatedTarget=_,E=null,Oa(u)===c&&(v=new v(g,w+"enter",m,n,u),v.target=_,v.relatedTarget=x,E=v),x=E,p&&m)t:{for(v=p,g=m,w=0,_=v;_;_=ql(_))w++;for(_=0,E=g;E;E=ql(E))_++;for(;0<w-_;)v=ql(v),w--;for(;0<_-w;)g=ql(g),_--;for(;w--;){if(v===g||g!==null&&v===g.alternate)break t;v=ql(v),g=ql(g)}v=null}else v=null;p!==null&&eI(d,h,p,v,!1),m!==null&&x!==null&&eI(d,x,m,v,!0)}}e:{if(h=c?vc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=RO;else if(q5(h))if(_R)S=NO;else{S=AO;var I=kO}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=PO);if(S&&(S=S(t,c))){yR(d,S,n,u);break e}I&&I(t,h,c),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&oy(h,"number",h.value)}switch(I=c?vc(c):window,t){case"focusin":(q5(I)||I.contentEditable==="true")&&(mc=I,yy=c,Ud=null);break;case"focusout":Ud=yy=mc=null;break;case"mousedown":_y=!0;break;case"contextmenu":case"mouseup":case"dragend":_y=!1,X5(d,n,u);break;case"selectionchange":if(OO)break;case"keydown":case"keyup":X5(d,n,u)}var C;if(Xw)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else pc?gR(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(mR&&n.locale!=="ko"&&(pc||b!=="onCompositionStart"?b==="onCompositionEnd"&&pc&&(C=pR()):(So=u,Kw="value"in So?So.value:So.textContent,pc=!0)),I=Up(c,b),0<I.length&&(b=new B5(b,t,null,n,u),d.push({event:b,listeners:I}),C?b.data=C:(C=vR(n),C!==null&&(b.data=C)))),(C=IO?bO(t,n):CO(t,n))&&(c=Up(c,"onBeforeInput"),0<c.length&&(u=new B5("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}kR(d,e)})}function yh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Up(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=dh(t,n),s!=null&&r.unshift(yh(t,s,i)),s=dh(t,e),s!=null&&r.push(yh(t,s,i))),t=t.return}return r}function ql(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function eI(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=dh(n,s),l!=null&&o.unshift(yh(n,l,a))):i||(l=dh(n,s),l!=null&&o.push(yh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var FO=/\r\n?/g,VO=/\u0000|\uFFFD/g;function tI(t){return(typeof t=="string"?t:""+t).replace(FO,`
`).replace(VO,"")}function h0(t,e,n){if(e=tI(e),tI(t)!==e&&n)throw Error(Q(425))}function Bp(){}var wy=null,xy=null;function Ey(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Iy=typeof setTimeout=="function"?setTimeout:void 0,UO=typeof clearTimeout=="function"?clearTimeout:void 0,nI=typeof Promise=="function"?Promise:void 0,BO=typeof queueMicrotask=="function"?queueMicrotask:typeof nI<"u"?function(t){return nI.resolve(null).then(t).catch(zO)}:Iy;function zO(t){setTimeout(function(){throw t})}function z1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ph(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ph(e)}function Do(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Tu=Math.random().toString(36).slice(2),rs="__reactFiber$"+Tu,_h="__reactProps$"+Tu,qs="__reactContainer$"+Tu,by="__reactEvents$"+Tu,WO="__reactListeners$"+Tu,HO="__reactHandles$"+Tu;function Oa(t){var e=t[rs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qs]||n[rs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=rI(t);t!==null;){if(n=t[rs])return n;t=rI(t)}return e}t=n,n=t.parentNode}return null}function df(t){return t=t[rs]||t[qs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function s2(t){return t[_h]||null}var Cy=[],yc=-1;function oa(t){return{current:t}}function Mt(t){0>yc||(t.current=Cy[yc],Cy[yc]=null,yc--)}function Rt(t,e){yc++,Cy[yc]=t.current,t.current=e}var Qo={},lr=oa(Qo),kr=oa(!1),nl=Qo;function Qc(t,e){var n=t.type.contextTypes;if(!n)return Qo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ar(t){return t=t.childContextTypes,t!=null}function zp(){Mt(kr),Mt(lr)}function iI(t,e,n){if(lr.current!==Qo)throw Error(Q(168));Rt(lr,e),Rt(kr,n)}function PR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,kM(t)||"Unknown",i));return Wt({},n,r)}function Wp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qo,nl=lr.current,Rt(lr,t),Rt(kr,kr.current),!0}function sI(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=PR(t,e,nl),r.__reactInternalMemoizedMergedChildContext=t,Mt(kr),Mt(lr),Rt(lr,t)):Mt(kr),Rt(kr,n)}var As=null,o2=!1,W1=!1;function NR(t){As===null?As=[t]:As.push(t)}function qO(t){o2=!0,NR(t)}function aa(){if(!W1&&As!==null){W1=!0;var t=0,e=mt;try{var n=As;for(mt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}As=null,o2=!1}catch(i){throw As!==null&&(As=As.slice(t+1)),rR(Ww,aa),i}finally{mt=e,W1=!1}}return null}var _c=[],wc=0,Hp=null,qp=0,si=[],oi=0,rl=null,Ms=1,Os="";function Ia(t,e){_c[wc++]=qp,_c[wc++]=Hp,Hp=t,qp=e}function LR(t,e,n){si[oi++]=Ms,si[oi++]=Os,si[oi++]=rl,rl=t;var r=Ms;t=Os;var i=32-ji(r)-1;r&=~(1<<i),n+=1;var s=32-ji(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ms=1<<32-ji(e)+i|n<<i|r,Os=s+t}else Ms=1<<s|n<<i|r,Os=t}function Zw(t){t.return!==null&&(Ia(t,1),LR(t,1,0))}function e3(t){for(;t===Hp;)Hp=_c[--wc],_c[wc]=null,qp=_c[--wc],_c[wc]=null;for(;t===rl;)rl=si[--oi],si[oi]=null,Os=si[--oi],si[oi]=null,Ms=si[--oi],si[oi]=null}var Wr=null,Ur=null,$t=!1,Mi=null;function MR(t,e){var n=ui(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function oI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wr=t,Ur=Do(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wr=t,Ur=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=rl!==null?{id:Ms,overflow:Os}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ui(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wr=t,Ur=null,!0):!1;default:return!1}}function Ty(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sy(t){if($t){var e=Ur;if(e){var n=e;if(!oI(t,e)){if(Ty(t))throw Error(Q(418));e=Do(n.nextSibling);var r=Wr;e&&oI(t,e)?MR(r,n):(t.flags=t.flags&-4097|2,$t=!1,Wr=t)}}else{if(Ty(t))throw Error(Q(418));t.flags=t.flags&-4097|2,$t=!1,Wr=t}}}function aI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wr=t}function f0(t){if(t!==Wr)return!1;if(!$t)return aI(t),$t=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ey(t.type,t.memoizedProps)),e&&(e=Ur)){if(Ty(t))throw OR(),Error(Q(418));for(;e;)MR(t,e),e=Do(e.nextSibling)}if(aI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ur=Do(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ur=null}}else Ur=Wr?Do(t.stateNode.nextSibling):null;return!0}function OR(){for(var t=Ur;t;)t=Do(t.nextSibling)}function Yc(){Ur=Wr=null,$t=!1}function t3(t){Mi===null?Mi=[t]:Mi.push(t)}var GO=to.ReactCurrentBatchConfig;function Ni(t,e){if(t&&t.defaultProps){e=Wt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Gp=oa(null),Kp=null,xc=null,n3=null;function r3(){n3=xc=Kp=null}function i3(t){var e=Gp.current;Mt(Gp),t._currentValue=e}function Ry(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Mc(t,e){Kp=t,n3=xc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tr=!0),t.firstContext=null)}function yi(t){var e=t._currentValue;if(n3!==t)if(t={context:t,memoizedValue:e,next:null},xc===null){if(Kp===null)throw Error(Q(308));xc=t,Kp.dependencies={lanes:0,firstContext:t}}else xc=xc.next=t;return e}var Da=null;function s3(t){Da===null?Da=[t]:Da.push(t)}function DR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,s3(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gs(t,r)}function Gs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yo=!1;function o3(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $R(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $o(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,it&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gs(t,n)}return i=r.interleaved,i===null?(e.next=e,s3(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gs(t,n)}function X0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hw(t,n)}}function lI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qp(t,e,n,r){var i=t.updateQueue;yo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(h=e,p=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=Wt({},d,h);break e;case 2:yo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);sl|=o,t.lanes=o,t.memoizedState=d}}function cI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var jR=new D4.Component().refs;function ky(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Wt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var a2={isMounted:function(t){return(t=t._reactInternals)?Sl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=pr(),i=Fo(t),s=Bs(r,i);s.payload=e,n!=null&&(s.callback=n),e=$o(t,s,i),e!==null&&(Fi(e,t,i,r),X0(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=pr(),i=Fo(t),s=Bs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=$o(t,s,i),e!==null&&(Fi(e,t,i,r),X0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pr(),r=Fo(t),i=Bs(n,r);i.tag=2,e!=null&&(i.callback=e),e=$o(t,i,r),e!==null&&(Fi(e,t,r,n),X0(e,t,r))}};function uI(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!gh(n,r)||!gh(i,s):!0}function FR(t,e,n){var r=!1,i=Qo,s=e.contextType;return typeof s=="object"&&s!==null?s=yi(s):(i=Ar(e)?nl:lr.current,r=e.contextTypes,s=(r=r!=null)?Qc(t,i):Qo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=a2,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function dI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&a2.enqueueReplaceState(e,e.state,null)}function Ay(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=jR,o3(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=yi(s):(s=Ar(e)?nl:lr.current,i.context=Qc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ky(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&a2.enqueueReplaceState(i,i.state,null),Qp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Zu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===jR&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function p0(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hI(t){var e=t._init;return e(t._payload)}function VR(t){function e(g,w){if(t){var _=g.deletions;_===null?(g.deletions=[w],g.flags|=16):_.push(w)}}function n(g,w){if(!t)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function r(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function i(g,w){return g=Vo(g,w),g.index=0,g.sibling=null,g}function s(g,w,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<w?(g.flags|=2,w):_):(g.flags|=2,w)):(g.flags|=1048576,w)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,w,_,E){return w===null||w.tag!==6?(w=X1(_,g.mode,E),w.return=g,w):(w=i(w,_),w.return=g,w)}function l(g,w,_,E){var S=_.type;return S===fc?u(g,w,_.props.children,E,_.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===vo&&hI(S)===w.type)?(E=i(w,_.props),E.ref=Zu(g,w,_),E.return=g,E):(E=rp(_.type,_.key,_.props,null,g.mode,E),E.ref=Zu(g,w,_),E.return=g,E)}function c(g,w,_,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=J1(_,g.mode,E),w.return=g,w):(w=i(w,_.children||[]),w.return=g,w)}function u(g,w,_,E,S){return w===null||w.tag!==7?(w=Ga(_,g.mode,E,S),w.return=g,w):(w=i(w,_),w.return=g,w)}function d(g,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=X1(""+w,g.mode,_),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case r0:return _=rp(w.type,w.key,w.props,null,g.mode,_),_.ref=Zu(g,null,w),_.return=g,_;case hc:return w=J1(w,g.mode,_),w.return=g,w;case vo:var E=w._init;return d(g,E(w._payload),_)}if(bd(w)||Ku(w))return w=Ga(w,g.mode,_,null),w.return=g,w;p0(g,w)}return null}function h(g,w,_,E){var S=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(g,w,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case r0:return _.key===S?l(g,w,_,E):null;case hc:return _.key===S?c(g,w,_,E):null;case vo:return S=_._init,h(g,w,S(_._payload),E)}if(bd(_)||Ku(_))return S!==null?null:u(g,w,_,E,null);p0(g,_)}return null}function p(g,w,_,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(_)||null,a(w,g,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case r0:return g=g.get(E.key===null?_:E.key)||null,l(w,g,E,S);case hc:return g=g.get(E.key===null?_:E.key)||null,c(w,g,E,S);case vo:var I=E._init;return p(g,w,_,I(E._payload),S)}if(bd(E)||Ku(E))return g=g.get(_)||null,u(w,g,E,S,null);p0(w,E)}return null}function m(g,w,_,E){for(var S=null,I=null,C=w,b=w=0,R=null;C!==null&&b<_.length;b++){C.index>b?(R=C,C=null):R=C.sibling;var T=h(g,C,_[b],E);if(T===null){C===null&&(C=R);break}t&&C&&T.alternate===null&&e(g,C),w=s(T,w,b),I===null?S=T:I.sibling=T,I=T,C=R}if(b===_.length)return n(g,C),$t&&Ia(g,b),S;if(C===null){for(;b<_.length;b++)C=d(g,_[b],E),C!==null&&(w=s(C,w,b),I===null?S=C:I.sibling=C,I=C);return $t&&Ia(g,b),S}for(C=r(g,C);b<_.length;b++)R=p(C,g,b,_[b],E),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?b:R.key),w=s(R,w,b),I===null?S=R:I.sibling=R,I=R);return t&&C.forEach(function(k){return e(g,k)}),$t&&Ia(g,b),S}function v(g,w,_,E){var S=Ku(_);if(typeof S!="function")throw Error(Q(150));if(_=S.call(_),_==null)throw Error(Q(151));for(var I=S=null,C=w,b=w=0,R=null,T=_.next();C!==null&&!T.done;b++,T=_.next()){C.index>b?(R=C,C=null):R=C.sibling;var k=h(g,C,T.value,E);if(k===null){C===null&&(C=R);break}t&&C&&k.alternate===null&&e(g,C),w=s(k,w,b),I===null?S=k:I.sibling=k,I=k,C=R}if(T.done)return n(g,C),$t&&Ia(g,b),S;if(C===null){for(;!T.done;b++,T=_.next())T=d(g,T.value,E),T!==null&&(w=s(T,w,b),I===null?S=T:I.sibling=T,I=T);return $t&&Ia(g,b),S}for(C=r(g,C);!T.done;b++,T=_.next())T=p(C,g,b,T.value,E),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?b:T.key),w=s(T,w,b),I===null?S=T:I.sibling=T,I=T);return t&&C.forEach(function(N){return e(g,N)}),$t&&Ia(g,b),S}function x(g,w,_,E){if(typeof _=="object"&&_!==null&&_.type===fc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case r0:e:{for(var S=_.key,I=w;I!==null;){if(I.key===S){if(S=_.type,S===fc){if(I.tag===7){n(g,I.sibling),w=i(I,_.props.children),w.return=g,g=w;break e}}else if(I.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===vo&&hI(S)===I.type){n(g,I.sibling),w=i(I,_.props),w.ref=Zu(g,I,_),w.return=g,g=w;break e}n(g,I);break}else e(g,I);I=I.sibling}_.type===fc?(w=Ga(_.props.children,g.mode,E,_.key),w.return=g,g=w):(E=rp(_.type,_.key,_.props,null,g.mode,E),E.ref=Zu(g,w,_),E.return=g,g=E)}return o(g);case hc:e:{for(I=_.key;w!==null;){if(w.key===I)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(g,w.sibling),w=i(w,_.children||[]),w.return=g,g=w;break e}else{n(g,w);break}else e(g,w);w=w.sibling}w=J1(_,g.mode,E),w.return=g,g=w}return o(g);case vo:return I=_._init,x(g,w,I(_._payload),E)}if(bd(_))return m(g,w,_,E);if(Ku(_))return v(g,w,_,E);p0(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(g,w.sibling),w=i(w,_),w.return=g,g=w):(n(g,w),w=X1(_,g.mode,E),w.return=g,g=w),o(g)):n(g,w)}return x}var Xc=VR(!0),UR=VR(!1),hf={},ms=oa(hf),wh=oa(hf),xh=oa(hf);function $a(t){if(t===hf)throw Error(Q(174));return t}function a3(t,e){switch(Rt(xh,e),Rt(wh,t),Rt(ms,hf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ly(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ly(e,t)}Mt(ms),Rt(ms,e)}function Jc(){Mt(ms),Mt(wh),Mt(xh)}function BR(t){$a(xh.current);var e=$a(ms.current),n=ly(e,t.type);e!==n&&(Rt(wh,t),Rt(ms,n))}function l3(t){wh.current===t&&(Mt(ms),Mt(wh))}var Vt=oa(0);function Yp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var H1=[];function c3(){for(var t=0;t<H1.length;t++)H1[t]._workInProgressVersionPrimary=null;H1.length=0}var J0=to.ReactCurrentDispatcher,q1=to.ReactCurrentBatchConfig,il=0,Bt=null,yn=null,En=null,Xp=!1,Bd=!1,Eh=0,KO=0;function Kn(){throw Error(Q(321))}function u3(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qi(t[n],e[n]))return!1;return!0}function d3(t,e,n,r,i,s){if(il=s,Bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,J0.current=t===null||t.memoizedState===null?JO:ZO,t=n(r,i),Bd){s=0;do{if(Bd=!1,Eh=0,25<=s)throw Error(Q(301));s+=1,En=yn=null,e.updateQueue=null,J0.current=eD,t=n(r,i)}while(Bd)}if(J0.current=Jp,e=yn!==null&&yn.next!==null,il=0,En=yn=Bt=null,Xp=!1,e)throw Error(Q(300));return t}function h3(){var t=Eh!==0;return Eh=0,t}function Ji(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Bt.memoizedState=En=t:En=En.next=t,En}function _i(){if(yn===null){var t=Bt.alternate;t=t!==null?t.memoizedState:null}else t=yn.next;var e=En===null?Bt.memoizedState:En.next;if(e!==null)En=e,yn=t;else{if(t===null)throw Error(Q(310));yn=t,t={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},En===null?Bt.memoizedState=En=t:En=En.next=t}return En}function Ih(t,e){return typeof e=="function"?e(t):e}function G1(t){var e=_i(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=yn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((il&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Bt.lanes|=u,sl|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,qi(r,e.memoizedState)||(Tr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Bt.lanes|=s,sl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function K1(t){var e=_i(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);qi(s,e.memoizedState)||(Tr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function zR(){}function WR(t,e){var n=Bt,r=_i(),i=e(),s=!qi(r.memoizedState,i);if(s&&(r.memoizedState=i,Tr=!0),r=r.queue,f3(GR.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||En!==null&&En.memoizedState.tag&1){if(n.flags|=2048,bh(9,qR.bind(null,n,r,i,e),void 0,null),Tn===null)throw Error(Q(349));il&30||HR(n,e,i)}return i}function HR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Bt.updateQueue,e===null?(e={lastEffect:null,stores:null},Bt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qR(t,e,n,r){e.value=n,e.getSnapshot=r,KR(e)&&QR(t)}function GR(t,e,n){return n(function(){KR(e)&&QR(t)})}function KR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qi(t,n)}catch{return!0}}function QR(t){var e=Gs(t,1);e!==null&&Fi(e,t,1,-1)}function fI(t){var e=Ji();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ih,lastRenderedState:t},e.queue=t,t=t.dispatch=XO.bind(null,Bt,t),[e.memoizedState,t]}function bh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Bt.updateQueue,e===null?(e={lastEffect:null,stores:null},Bt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function YR(){return _i().memoizedState}function Z0(t,e,n,r){var i=Ji();Bt.flags|=t,i.memoizedState=bh(1|e,n,void 0,r===void 0?null:r)}function l2(t,e,n,r){var i=_i();r=r===void 0?null:r;var s=void 0;if(yn!==null){var o=yn.memoizedState;if(s=o.destroy,r!==null&&u3(r,o.deps)){i.memoizedState=bh(e,n,s,r);return}}Bt.flags|=t,i.memoizedState=bh(1|e,n,s,r)}function pI(t,e){return Z0(8390656,8,t,e)}function f3(t,e){return l2(2048,8,t,e)}function XR(t,e){return l2(4,2,t,e)}function JR(t,e){return l2(4,4,t,e)}function ZR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ek(t,e,n){return n=n!=null?n.concat([t]):null,l2(4,4,ZR.bind(null,e,t),n)}function p3(){}function tk(t,e){var n=_i();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&u3(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function nk(t,e){var n=_i();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&u3(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rk(t,e,n){return il&21?(qi(n,e)||(n=oR(),Bt.lanes|=n,sl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tr=!0),t.memoizedState=n)}function QO(t,e){var n=mt;mt=n!==0&&4>n?n:4,t(!0);var r=q1.transition;q1.transition={};try{t(!1),e()}finally{mt=n,q1.transition=r}}function ik(){return _i().memoizedState}function YO(t,e,n){var r=Fo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sk(t))ok(e,n);else if(n=DR(t,e,n,r),n!==null){var i=pr();Fi(n,t,r,i),ak(n,e,r)}}function XO(t,e,n){var r=Fo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sk(t))ok(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,qi(a,o)){var l=e.interleaved;l===null?(i.next=i,s3(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=DR(t,e,i,r),n!==null&&(i=pr(),Fi(n,t,r,i),ak(n,e,r))}}function sk(t){var e=t.alternate;return t===Bt||e!==null&&e===Bt}function ok(t,e){Bd=Xp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ak(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hw(t,n)}}var Jp={readContext:yi,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useInsertionEffect:Kn,useLayoutEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useMutableSource:Kn,useSyncExternalStore:Kn,useId:Kn,unstable_isNewReconciler:!1},JO={readContext:yi,useCallback:function(t,e){return Ji().memoizedState=[t,e===void 0?null:e],t},useContext:yi,useEffect:pI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Z0(4194308,4,ZR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Z0(4194308,4,t,e)},useInsertionEffect:function(t,e){return Z0(4,2,t,e)},useMemo:function(t,e){var n=Ji();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ji();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=YO.bind(null,Bt,t),[r.memoizedState,t]},useRef:function(t){var e=Ji();return t={current:t},e.memoizedState=t},useState:fI,useDebugValue:p3,useDeferredValue:function(t){return Ji().memoizedState=t},useTransition:function(){var t=fI(!1),e=t[0];return t=QO.bind(null,t[1]),Ji().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Bt,i=Ji();if($t){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Tn===null)throw Error(Q(349));il&30||HR(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,pI(GR.bind(null,r,s,t),[t]),r.flags|=2048,bh(9,qR.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ji(),e=Tn.identifierPrefix;if($t){var n=Os,r=Ms;n=(r&~(1<<32-ji(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Eh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=KO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ZO={readContext:yi,useCallback:tk,useContext:yi,useEffect:f3,useImperativeHandle:ek,useInsertionEffect:XR,useLayoutEffect:JR,useMemo:nk,useReducer:G1,useRef:YR,useState:function(){return G1(Ih)},useDebugValue:p3,useDeferredValue:function(t){var e=_i();return rk(e,yn.memoizedState,t)},useTransition:function(){var t=G1(Ih)[0],e=_i().memoizedState;return[t,e]},useMutableSource:zR,useSyncExternalStore:WR,useId:ik,unstable_isNewReconciler:!1},eD={readContext:yi,useCallback:tk,useContext:yi,useEffect:f3,useImperativeHandle:ek,useInsertionEffect:XR,useLayoutEffect:JR,useMemo:nk,useReducer:K1,useRef:YR,useState:function(){return K1(Ih)},useDebugValue:p3,useDeferredValue:function(t){var e=_i();return yn===null?e.memoizedState=t:rk(e,yn.memoizedState,t)},useTransition:function(){var t=K1(Ih)[0],e=_i().memoizedState;return[t,e]},useMutableSource:zR,useSyncExternalStore:WR,useId:ik,unstable_isNewReconciler:!1};function Zc(t,e){try{var n="",r=e;do n+=RM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Q1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Py(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tD=typeof WeakMap=="function"?WeakMap:Map;function lk(t,e,n){n=Bs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){em||(em=!0,Uy=r),Py(t,e)},n}function ck(t,e,n){n=Bs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Py(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Py(t,e),typeof r!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function mI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=mD.bind(null,t,e,n),e.then(t,t))}function gI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Bs(-1,1),e.tag=2,$o(n,e,1))),n.lanes|=1),t)}var nD=to.ReactCurrentOwner,Tr=!1;function ur(t,e,n,r){e.child=t===null?UR(e,null,n,r):Xc(e,t.child,n,r)}function yI(t,e,n,r,i){n=n.render;var s=e.ref;return Mc(e,i),r=d3(t,e,n,r,s,i),n=h3(),t!==null&&!Tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ks(t,e,i)):($t&&n&&Zw(e),e.flags|=1,ur(t,e,r,i),e.child)}function _I(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!E3(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,uk(t,e,s,r,i)):(t=rp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:gh,n(o,r)&&t.ref===e.ref)return Ks(t,e,i)}return e.flags|=1,t=Vo(s,r),t.ref=e.ref,t.return=e,e.child=t}function uk(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(gh(s,r)&&t.ref===e.ref)if(Tr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Tr=!0);else return e.lanes=t.lanes,Ks(t,e,i)}return Ny(t,e,n,r,i)}function dk(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(Ic,Fr),Fr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Rt(Ic,Fr),Fr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Rt(Ic,Fr),Fr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Rt(Ic,Fr),Fr|=r;return ur(t,e,i,n),e.child}function hk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ny(t,e,n,r,i){var s=Ar(n)?nl:lr.current;return s=Qc(e,s),Mc(e,i),n=d3(t,e,n,r,s,i),r=h3(),t!==null&&!Tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ks(t,e,i)):($t&&r&&Zw(e),e.flags|=1,ur(t,e,n,i),e.child)}function wI(t,e,n,r,i){if(Ar(n)){var s=!0;Wp(e)}else s=!1;if(Mc(e,i),e.stateNode===null)ep(t,e),FR(e,n,r),Ay(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=yi(c):(c=Ar(n)?nl:lr.current,c=Qc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&dI(e,o,r,c),yo=!1;var h=e.memoizedState;o.state=h,Qp(e,r,o,i),l=e.memoizedState,a!==r||h!==l||kr.current||yo?(typeof u=="function"&&(ky(e,n,u,r),l=e.memoizedState),(a=yo||uI(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$R(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ni(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=yi(l):(l=Ar(n)?nl:lr.current,l=Qc(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&dI(e,o,r,l),yo=!1,h=e.memoizedState,o.state=h,Qp(e,r,o,i);var m=e.memoizedState;a!==d||h!==m||kr.current||yo?(typeof p=="function"&&(ky(e,n,p,r),m=e.memoizedState),(c=yo||uI(e,n,c,r,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Ly(t,e,n,r,s,i)}function Ly(t,e,n,r,i,s){hk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&sI(e,n,!1),Ks(t,e,s);r=e.stateNode,nD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xc(e,t.child,null,s),e.child=Xc(e,null,a,s)):ur(t,e,a,s),e.memoizedState=r.state,i&&sI(e,n,!0),e.child}function fk(t){var e=t.stateNode;e.pendingContext?iI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&iI(t,e.context,!1),a3(t,e.containerInfo)}function xI(t,e,n,r,i){return Yc(),t3(i),e.flags|=256,ur(t,e,n,r),e.child}var My={dehydrated:null,treeContext:null,retryLane:0};function Oy(t){return{baseLanes:t,cachePool:null,transitions:null}}function pk(t,e,n){var r=e.pendingProps,i=Vt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Rt(Vt,i&1),t===null)return Sy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=d2(o,r,0,null),t=Ga(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Oy(n),e.memoizedState=My,t):m3(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return rD(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Vo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Vo(a,s):(s=Ga(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Oy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=My,r}return s=t.child,t=s.sibling,r=Vo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function m3(t,e){return e=d2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function m0(t,e,n,r){return r!==null&&t3(r),Xc(e,t.child,null,n),t=m3(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rD(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Q1(Error(Q(422))),m0(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=d2({mode:"visible",children:r.children},i,0,null),s=Ga(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Xc(e,t.child,null,o),e.child.memoizedState=Oy(o),e.memoizedState=My,s);if(!(e.mode&1))return m0(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Q(419)),r=Q1(s,r,void 0),m0(t,e,o,r)}if(a=(o&t.childLanes)!==0,Tr||a){if(r=Tn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gs(t,i),Fi(r,t,i,-1))}return x3(),r=Q1(Error(Q(421))),m0(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=gD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ur=Do(i.nextSibling),Wr=e,$t=!0,Mi=null,t!==null&&(si[oi++]=Ms,si[oi++]=Os,si[oi++]=rl,Ms=t.id,Os=t.overflow,rl=e),e=m3(e,r.children),e.flags|=4096,e)}function EI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ry(t.return,e,n)}function Y1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function mk(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ur(t,e,r.children,n),r=Vt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&EI(t,n,e);else if(t.tag===19)EI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Rt(Vt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Yp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Y1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Yp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Y1(e,!0,n,null,s);break;case"together":Y1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ep(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ks(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),sl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Vo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function iD(t,e,n){switch(e.tag){case 3:fk(e),Yc();break;case 5:BR(e);break;case 1:Ar(e.type)&&Wp(e);break;case 4:a3(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Rt(Gp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Rt(Vt,Vt.current&1),e.flags|=128,null):n&e.child.childLanes?pk(t,e,n):(Rt(Vt,Vt.current&1),t=Ks(t,e,n),t!==null?t.sibling:null);Rt(Vt,Vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return mk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rt(Vt,Vt.current),r)break;return null;case 22:case 23:return e.lanes=0,dk(t,e,n)}return Ks(t,e,n)}var gk,Dy,vk,yk;gk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dy=function(){};vk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$a(ms.current);var s=null;switch(n){case"input":i=iy(t,i),r=iy(t,r),s=[];break;case"select":i=Wt({},i,{value:void 0}),r=Wt({},r,{value:void 0}),s=[];break;case"textarea":i=ay(t,i),r=ay(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bp)}cy(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ch.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ch.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&kt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};yk=function(t,e,n,r){n!==r&&(e.flags|=4)};function ed(t,e){if(!$t)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function sD(t,e,n){var r=e.pendingProps;switch(e3(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(e),null;case 1:return Ar(e.type)&&zp(),Qn(e),null;case 3:return r=e.stateNode,Jc(),Mt(kr),Mt(lr),c3(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(f0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mi!==null&&(Wy(Mi),Mi=null))),Dy(t,e),Qn(e),null;case 5:l3(e);var i=$a(xh.current);if(n=e.type,t!==null&&e.stateNode!=null)vk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Qn(e),null}if(t=$a(ms.current),f0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[rs]=e,r[_h]=s,t=(e.mode&1)!==0,n){case"dialog":kt("cancel",r),kt("close",r);break;case"iframe":case"object":case"embed":kt("load",r);break;case"video":case"audio":for(i=0;i<Td.length;i++)kt(Td[i],r);break;case"source":kt("error",r);break;case"img":case"image":case"link":kt("error",r),kt("load",r);break;case"details":kt("toggle",r);break;case"input":P5(r,s),kt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},kt("invalid",r);break;case"textarea":L5(r,s),kt("invalid",r)}cy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&h0(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&h0(r.textContent,a,t),i=["children",""+a]):ch.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&kt("scroll",r)}switch(n){case"input":i0(r),N5(r,s,!0);break;case"textarea":i0(r),M5(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Bp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=H4(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[rs]=e,t[_h]=r,gk(t,e,!1,!1),e.stateNode=t;e:{switch(o=uy(n,r),n){case"dialog":kt("cancel",t),kt("close",t),i=r;break;case"iframe":case"object":case"embed":kt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Td.length;i++)kt(Td[i],t);i=r;break;case"source":kt("error",t),i=r;break;case"img":case"image":case"link":kt("error",t),kt("load",t),i=r;break;case"details":kt("toggle",t),i=r;break;case"input":P5(t,r),i=iy(t,r),kt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Wt({},r,{value:void 0}),kt("invalid",t);break;case"textarea":L5(t,r),i=ay(t,r),kt("invalid",t);break;default:i=r}cy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?K4(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&q4(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&uh(t,l):typeof l=="number"&&uh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ch.hasOwnProperty(s)?l!=null&&s==="onScroll"&&kt("scroll",t):l!=null&&Fw(t,s,l,o))}switch(n){case"input":i0(t),N5(t,r,!1);break;case"textarea":i0(t),M5(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ko(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ac(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ac(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Bp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qn(e),null;case 6:if(t&&e.stateNode!=null)yk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=$a(xh.current),$a(ms.current),f0(e)){if(r=e.stateNode,n=e.memoizedProps,r[rs]=e,(s=r.nodeValue!==n)&&(t=Wr,t!==null))switch(t.tag){case 3:h0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&h0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rs]=e,e.stateNode=r}return Qn(e),null;case 13:if(Mt(Vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($t&&Ur!==null&&e.mode&1&&!(e.flags&128))OR(),Yc(),e.flags|=98560,s=!1;else if(s=f0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[rs]=e}else Yc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qn(e),s=!1}else Mi!==null&&(Wy(Mi),Mi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Vt.current&1?_n===0&&(_n=3):x3())),e.updateQueue!==null&&(e.flags|=4),Qn(e),null);case 4:return Jc(),Dy(t,e),t===null&&vh(e.stateNode.containerInfo),Qn(e),null;case 10:return i3(e.type._context),Qn(e),null;case 17:return Ar(e.type)&&zp(),Qn(e),null;case 19:if(Mt(Vt),s=e.memoizedState,s===null)return Qn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ed(s,!1);else{if(_n!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yp(t),o!==null){for(e.flags|=128,ed(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Rt(Vt,Vt.current&1|2),e.child}t=t.sibling}s.tail!==null&&nn()>eu&&(e.flags|=128,r=!0,ed(s,!1),e.lanes=4194304)}else{if(!r)if(t=Yp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ed(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!$t)return Qn(e),null}else 2*nn()-s.renderingStartTime>eu&&n!==1073741824&&(e.flags|=128,r=!0,ed(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=nn(),e.sibling=null,n=Vt.current,Rt(Vt,r?n&1|2:n&1),e):(Qn(e),null);case 22:case 23:return w3(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fr&1073741824&&(Qn(e),e.subtreeFlags&6&&(e.flags|=8192)):Qn(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function oD(t,e){switch(e3(e),e.tag){case 1:return Ar(e.type)&&zp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jc(),Mt(kr),Mt(lr),c3(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return l3(e),null;case 13:if(Mt(Vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Yc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Mt(Vt),null;case 4:return Jc(),null;case 10:return i3(e.type._context),null;case 22:case 23:return w3(),null;case 24:return null;default:return null}}var g0=!1,Jn=!1,aD=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Ec(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Kt(t,e,r)}else n.current=null}function $y(t,e,n){try{n()}catch(r){Kt(t,e,r)}}var II=!1;function lD(t,e){if(wy=Fp,t=ER(),Jw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xy={focusedElem:t,selectionRange:n},Fp=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,x=m.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ni(e.type,v),x);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(E){Kt(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return m=II,II=!1,m}function zd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&$y(e,n,s)}i=i.next}while(i!==r)}}function c2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _k(t){var e=t.alternate;e!==null&&(t.alternate=null,_k(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rs],delete e[_h],delete e[by],delete e[WO],delete e[HO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wk(t){return t.tag===5||t.tag===3||t.tag===4}function bI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bp));else if(r!==4&&(t=t.child,t!==null))for(Fy(t,e,n),t=t.sibling;t!==null;)Fy(t,e,n),t=t.sibling}function Vy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Vy(t,e,n),t=t.sibling;t!==null;)Vy(t,e,n),t=t.sibling}var On=null,Li=!1;function lo(t,e,n){for(n=n.child;n!==null;)xk(t,e,n),n=n.sibling}function xk(t,e,n){if(ps&&typeof ps.onCommitFiberUnmount=="function")try{ps.onCommitFiberUnmount(t2,n)}catch{}switch(n.tag){case 5:Jn||Ec(n,e);case 6:var r=On,i=Li;On=null,lo(t,e,n),On=r,Li=i,On!==null&&(Li?(t=On,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):On.removeChild(n.stateNode));break;case 18:On!==null&&(Li?(t=On,n=n.stateNode,t.nodeType===8?z1(t.parentNode,n):t.nodeType===1&&z1(t,n),ph(t)):z1(On,n.stateNode));break;case 4:r=On,i=Li,On=n.stateNode.containerInfo,Li=!0,lo(t,e,n),On=r,Li=i;break;case 0:case 11:case 14:case 15:if(!Jn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&$y(n,e,o),i=i.next}while(i!==r)}lo(t,e,n);break;case 1:if(!Jn&&(Ec(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Kt(n,e,a)}lo(t,e,n);break;case 21:lo(t,e,n);break;case 22:n.mode&1?(Jn=(r=Jn)||n.memoizedState!==null,lo(t,e,n),Jn=r):lo(t,e,n);break;default:lo(t,e,n)}}function CI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new aD),e.forEach(function(r){var i=vD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ki(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:On=a.stateNode,Li=!1;break e;case 3:On=a.stateNode.containerInfo,Li=!0;break e;case 4:On=a.stateNode.containerInfo,Li=!0;break e}a=a.return}if(On===null)throw Error(Q(160));xk(s,o,i),On=null,Li=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Kt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ek(e,t),e=e.sibling}function Ek(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ki(e,t),Xi(t),r&4){try{zd(3,t,t.return),c2(3,t)}catch(v){Kt(t,t.return,v)}try{zd(5,t,t.return)}catch(v){Kt(t,t.return,v)}}break;case 1:ki(e,t),Xi(t),r&512&&n!==null&&Ec(n,n.return);break;case 5:if(ki(e,t),Xi(t),r&512&&n!==null&&Ec(n,n.return),t.flags&32){var i=t.stateNode;try{uh(i,"")}catch(v){Kt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&z4(i,s),uy(a,o);var c=uy(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?K4(i,d):u==="dangerouslySetInnerHTML"?q4(i,d):u==="children"?uh(i,d):Fw(i,u,d,c)}switch(a){case"input":sy(i,s);break;case"textarea":W4(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ac(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ac(i,!!s.multiple,s.defaultValue,!0):Ac(i,!!s.multiple,s.multiple?[]:"",!1))}i[_h]=s}catch(v){Kt(t,t.return,v)}}break;case 6:if(ki(e,t),Xi(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Kt(t,t.return,v)}}break;case 3:if(ki(e,t),Xi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ph(e.containerInfo)}catch(v){Kt(t,t.return,v)}break;case 4:ki(e,t),Xi(t);break;case 13:ki(e,t),Xi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(y3=nn())),r&4&&CI(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Jn=(c=Jn)||u,ki(e,t),Jn=c):ki(e,t),Xi(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ue=t,u=t.child;u!==null;){for(d=ue=u;ue!==null;){switch(h=ue,p=h.child,h.tag){case 0:case 11:case 14:case 15:zd(4,h,h.return);break;case 1:Ec(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){Kt(r,n,v)}}break;case 5:Ec(h,h.return);break;case 22:if(h.memoizedState!==null){SI(d);continue}}p!==null?(p.return=h,ue=p):SI(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=G4("display",o))}catch(v){Kt(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Kt(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ki(e,t),Xi(t),r&4&&CI(t);break;case 21:break;default:ki(e,t),Xi(t)}}function Xi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wk(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(uh(i,""),r.flags&=-33);var s=bI(t);Vy(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=bI(t);Fy(t,a,o);break;default:throw Error(Q(161))}}catch(l){Kt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cD(t,e,n){ue=t,Ik(t)}function Ik(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var i=ue,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||g0;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Jn;a=g0;var c=Jn;if(g0=o,(Jn=l)&&!c)for(ue=i;ue!==null;)o=ue,l=o.child,o.tag===22&&o.memoizedState!==null?RI(i):l!==null?(l.return=o,ue=l):RI(i);for(;s!==null;)ue=s,Ik(s),s=s.sibling;ue=i,g0=a,Jn=c}TI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ue=s):TI(t)}}function TI(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jn||c2(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ni(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&cI(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}cI(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&ph(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Jn||e.flags&512&&jy(e)}catch(h){Kt(e,e.return,h)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function SI(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function RI(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{c2(4,e)}catch(l){Kt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Kt(e,i,l)}}var s=e.return;try{jy(e)}catch(l){Kt(e,s,l)}break;case 5:var o=e.return;try{jy(e)}catch(l){Kt(e,o,l)}}}catch(l){Kt(e,e.return,l)}if(e===t){ue=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ue=a;break}ue=e.return}}var uD=Math.ceil,Zp=to.ReactCurrentDispatcher,g3=to.ReactCurrentOwner,mi=to.ReactCurrentBatchConfig,it=0,Tn=null,hn=null,Un=0,Fr=0,Ic=oa(0),_n=0,Ch=null,sl=0,u2=0,v3=0,Wd=null,br=null,y3=0,eu=1/0,Rs=null,em=!1,Uy=null,jo=null,v0=!1,Ro=null,tm=0,Hd=0,By=null,tp=-1,np=0;function pr(){return it&6?nn():tp!==-1?tp:tp=nn()}function Fo(t){return t.mode&1?it&2&&Un!==0?Un&-Un:GO.transition!==null?(np===0&&(np=oR()),np):(t=mt,t!==0||(t=window.event,t=t===void 0?16:fR(t.type)),t):1}function Fi(t,e,n,r){if(50<Hd)throw Hd=0,By=null,Error(Q(185));cf(t,n,r),(!(it&2)||t!==Tn)&&(t===Tn&&(!(it&2)&&(u2|=n),_n===4&&wo(t,Un)),Pr(t,r),n===1&&it===0&&!(e.mode&1)&&(eu=nn()+500,o2&&aa()))}function Pr(t,e){var n=t.callbackNode;GM(t,e);var r=jp(t,t===Tn?Un:0);if(r===0)n!==null&&$5(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$5(n),e===1)t.tag===0?qO(kI.bind(null,t)):NR(kI.bind(null,t)),BO(function(){!(it&6)&&aa()}),n=null;else{switch(aR(r)){case 1:n=Ww;break;case 4:n=iR;break;case 16:n=$p;break;case 536870912:n=sR;break;default:n=$p}n=Pk(n,bk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bk(t,e){if(tp=-1,np=0,it&6)throw Error(Q(327));var n=t.callbackNode;if(Oc()&&t.callbackNode!==n)return null;var r=jp(t,t===Tn?Un:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=nm(t,r);else{e=r;var i=it;it|=2;var s=Tk();(Tn!==t||Un!==e)&&(Rs=null,eu=nn()+500,qa(t,e));do try{fD();break}catch(a){Ck(t,a)}while(!0);r3(),Zp.current=s,it=i,hn!==null?e=0:(Tn=null,Un=0,e=_n)}if(e!==0){if(e===2&&(i=my(t),i!==0&&(r=i,e=zy(t,i))),e===1)throw n=Ch,qa(t,0),wo(t,r),Pr(t,nn()),n;if(e===6)wo(t,r);else{if(i=t.current.alternate,!(r&30)&&!dD(i)&&(e=nm(t,r),e===2&&(s=my(t),s!==0&&(r=s,e=zy(t,s))),e===1))throw n=Ch,qa(t,0),wo(t,r),Pr(t,nn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:ba(t,br,Rs);break;case 3:if(wo(t,r),(r&130023424)===r&&(e=y3+500-nn(),10<e)){if(jp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){pr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Iy(ba.bind(null,t,br,Rs),e);break}ba(t,br,Rs);break;case 4:if(wo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ji(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=nn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uD(r/1960))-r,10<r){t.timeoutHandle=Iy(ba.bind(null,t,br,Rs),r);break}ba(t,br,Rs);break;case 5:ba(t,br,Rs);break;default:throw Error(Q(329))}}}return Pr(t,nn()),t.callbackNode===n?bk.bind(null,t):null}function zy(t,e){var n=Wd;return t.current.memoizedState.isDehydrated&&(qa(t,e).flags|=256),t=nm(t,e),t!==2&&(e=br,br=n,e!==null&&Wy(e)),t}function Wy(t){br===null?br=t:br.push.apply(br,t)}function dD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!qi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wo(t,e){for(e&=~v3,e&=~u2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ji(e),r=1<<n;t[n]=-1,e&=~r}}function kI(t){if(it&6)throw Error(Q(327));Oc();var e=jp(t,0);if(!(e&1))return Pr(t,nn()),null;var n=nm(t,e);if(t.tag!==0&&n===2){var r=my(t);r!==0&&(e=r,n=zy(t,r))}if(n===1)throw n=Ch,qa(t,0),wo(t,e),Pr(t,nn()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ba(t,br,Rs),Pr(t,nn()),null}function _3(t,e){var n=it;it|=1;try{return t(e)}finally{it=n,it===0&&(eu=nn()+500,o2&&aa())}}function ol(t){Ro!==null&&Ro.tag===0&&!(it&6)&&Oc();var e=it;it|=1;var n=mi.transition,r=mt;try{if(mi.transition=null,mt=1,t)return t()}finally{mt=r,mi.transition=n,it=e,!(it&6)&&aa()}}function w3(){Fr=Ic.current,Mt(Ic)}function qa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,UO(n)),hn!==null)for(n=hn.return;n!==null;){var r=n;switch(e3(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zp();break;case 3:Jc(),Mt(kr),Mt(lr),c3();break;case 5:l3(r);break;case 4:Jc();break;case 13:Mt(Vt);break;case 19:Mt(Vt);break;case 10:i3(r.type._context);break;case 22:case 23:w3()}n=n.return}if(Tn=t,hn=t=Vo(t.current,null),Un=Fr=e,_n=0,Ch=null,v3=u2=sl=0,br=Wd=null,Da!==null){for(e=0;e<Da.length;e++)if(n=Da[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Da=null}return t}function Ck(t,e){do{var n=hn;try{if(r3(),J0.current=Jp,Xp){for(var r=Bt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xp=!1}if(il=0,En=yn=Bt=null,Bd=!1,Eh=0,g3.current=null,n===null||n.return===null){_n=1,Ch=e,hn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Un,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=gI(o);if(p!==null){p.flags&=-257,vI(p,o,a,s,e),p.mode&1&&mI(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){mI(s,c,e),x3();break e}l=Error(Q(426))}}else if($t&&a.mode&1){var x=gI(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),vI(x,o,a,s,e),t3(Zc(l,a));break e}}s=l=Zc(l,a),_n!==4&&(_n=2),Wd===null?Wd=[s]:Wd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=lk(s,l,e);lI(s,g);break e;case 1:a=l;var w=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(jo===null||!jo.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=ck(s,a,e);lI(s,E);break e}}s=s.return}while(s!==null)}Rk(n)}catch(S){e=S,hn===n&&n!==null&&(hn=n=n.return);continue}break}while(!0)}function Tk(){var t=Zp.current;return Zp.current=Jp,t===null?Jp:t}function x3(){(_n===0||_n===3||_n===2)&&(_n=4),Tn===null||!(sl&268435455)&&!(u2&268435455)||wo(Tn,Un)}function nm(t,e){var n=it;it|=2;var r=Tk();(Tn!==t||Un!==e)&&(Rs=null,qa(t,e));do try{hD();break}catch(i){Ck(t,i)}while(!0);if(r3(),it=n,Zp.current=r,hn!==null)throw Error(Q(261));return Tn=null,Un=0,_n}function hD(){for(;hn!==null;)Sk(hn)}function fD(){for(;hn!==null&&!jM();)Sk(hn)}function Sk(t){var e=Ak(t.alternate,t,Fr);t.memoizedProps=t.pendingProps,e===null?Rk(t):hn=e,g3.current=null}function Rk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=oD(n,e),n!==null){n.flags&=32767,hn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_n=6,hn=null;return}}else if(n=sD(n,e,Fr),n!==null){hn=n;return}if(e=e.sibling,e!==null){hn=e;return}hn=e=t}while(e!==null);_n===0&&(_n=5)}function ba(t,e,n){var r=mt,i=mi.transition;try{mi.transition=null,mt=1,pD(t,e,n,r)}finally{mi.transition=i,mt=r}return null}function pD(t,e,n,r){do Oc();while(Ro!==null);if(it&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(KM(t,s),t===Tn&&(hn=Tn=null,Un=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||v0||(v0=!0,Pk($p,function(){return Oc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=mi.transition,mi.transition=null;var o=mt;mt=1;var a=it;it|=4,g3.current=null,lD(t,n),Ek(n,t),MO(xy),Fp=!!wy,xy=wy=null,t.current=n,cD(n),FM(),it=a,mt=o,mi.transition=s}else t.current=n;if(v0&&(v0=!1,Ro=t,tm=i),s=t.pendingLanes,s===0&&(jo=null),BM(n.stateNode),Pr(t,nn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(em)throw em=!1,t=Uy,Uy=null,t;return tm&1&&t.tag!==0&&Oc(),s=t.pendingLanes,s&1?t===By?Hd++:(Hd=0,By=t):Hd=0,aa(),null}function Oc(){if(Ro!==null){var t=aR(tm),e=mi.transition,n=mt;try{if(mi.transition=null,mt=16>t?16:t,Ro===null)var r=!1;else{if(t=Ro,Ro=null,tm=0,it&6)throw Error(Q(331));var i=it;for(it|=4,ue=t.current;ue!==null;){var s=ue,o=s.child;if(ue.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ue=c;ue!==null;){var u=ue;switch(u.tag){case 0:case 11:case 15:zd(8,u,s)}var d=u.child;if(d!==null)d.return=u,ue=d;else for(;ue!==null;){u=ue;var h=u.sibling,p=u.return;if(_k(u),u===c){ue=null;break}if(h!==null){h.return=p,ue=h;break}ue=p}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}ue=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ue=o;else e:for(;ue!==null;){if(s=ue,s.flags&2048)switch(s.tag){case 0:case 11:case 15:zd(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ue=g;break e}ue=s.return}}var w=t.current;for(ue=w;ue!==null;){o=ue;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ue=_;else e:for(o=w;ue!==null;){if(a=ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:c2(9,a)}}catch(S){Kt(a,a.return,S)}if(a===o){ue=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,ue=E;break e}ue=a.return}}if(it=i,aa(),ps&&typeof ps.onPostCommitFiberRoot=="function")try{ps.onPostCommitFiberRoot(t2,t)}catch{}r=!0}return r}finally{mt=n,mi.transition=e}}return!1}function AI(t,e,n){e=Zc(n,e),e=lk(t,e,1),t=$o(t,e,1),e=pr(),t!==null&&(cf(t,1,e),Pr(t,e))}function Kt(t,e,n){if(t.tag===3)AI(t,t,n);else for(;e!==null;){if(e.tag===3){AI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jo===null||!jo.has(r))){t=Zc(n,t),t=ck(e,t,1),e=$o(e,t,1),t=pr(),e!==null&&(cf(e,1,t),Pr(e,t));break}}e=e.return}}function mD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=pr(),t.pingedLanes|=t.suspendedLanes&n,Tn===t&&(Un&n)===n&&(_n===4||_n===3&&(Un&130023424)===Un&&500>nn()-y3?qa(t,0):v3|=n),Pr(t,e)}function kk(t,e){e===0&&(t.mode&1?(e=a0,a0<<=1,!(a0&130023424)&&(a0=4194304)):e=1);var n=pr();t=Gs(t,e),t!==null&&(cf(t,e,n),Pr(t,n))}function gD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kk(t,n)}function vD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),kk(t,n)}var Ak;Ak=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kr.current)Tr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tr=!1,iD(t,e,n);Tr=!!(t.flags&131072)}else Tr=!1,$t&&e.flags&1048576&&LR(e,qp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ep(t,e),t=e.pendingProps;var i=Qc(e,lr.current);Mc(e,n),i=d3(null,e,r,t,i,n);var s=h3();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ar(r)?(s=!0,Wp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,o3(e),i.updater=a2,e.stateNode=i,i._reactInternals=e,Ay(e,r,t,n),e=Ly(null,e,r,!0,s,n)):(e.tag=0,$t&&s&&Zw(e),ur(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ep(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_D(r),t=Ni(r,t),i){case 0:e=Ny(null,e,r,t,n);break e;case 1:e=wI(null,e,r,t,n);break e;case 11:e=yI(null,e,r,t,n);break e;case 14:e=_I(null,e,r,Ni(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),Ny(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),wI(t,e,r,i,n);case 3:e:{if(fk(e),t===null)throw Error(Q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,$R(t,e),Qp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Zc(Error(Q(423)),e),e=xI(t,e,r,n,i);break e}else if(r!==i){i=Zc(Error(Q(424)),e),e=xI(t,e,r,n,i);break e}else for(Ur=Do(e.stateNode.containerInfo.firstChild),Wr=e,$t=!0,Mi=null,n=UR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yc(),r===i){e=Ks(t,e,n);break e}ur(t,e,r,n)}e=e.child}return e;case 5:return BR(e),t===null&&Sy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ey(r,i)?o=null:s!==null&&Ey(r,s)&&(e.flags|=32),hk(t,e),ur(t,e,o,n),e.child;case 6:return t===null&&Sy(e),null;case 13:return pk(t,e,n);case 4:return a3(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xc(e,null,r,n):ur(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),yI(t,e,r,i,n);case 7:return ur(t,e,e.pendingProps,n),e.child;case 8:return ur(t,e,e.pendingProps.children,n),e.child;case 12:return ur(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Rt(Gp,r._currentValue),r._currentValue=o,s!==null)if(qi(s.value,o)){if(s.children===i.children&&!kr.current){e=Ks(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Bs(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ry(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ry(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ur(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Mc(e,n),i=yi(i),r=r(i),e.flags|=1,ur(t,e,r,n),e.child;case 14:return r=e.type,i=Ni(r,e.pendingProps),i=Ni(r.type,i),_I(t,e,r,i,n);case 15:return uk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),ep(t,e),e.tag=1,Ar(r)?(t=!0,Wp(e)):t=!1,Mc(e,n),FR(e,r,i),Ay(e,r,i,n),Ly(null,e,r,!0,t,n);case 19:return mk(t,e,n);case 22:return dk(t,e,n)}throw Error(Q(156,e.tag))};function Pk(t,e){return rR(t,e)}function yD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(t,e,n,r){return new yD(t,e,n,r)}function E3(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _D(t){if(typeof t=="function")return E3(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Uw)return 11;if(t===Bw)return 14}return 2}function Vo(t,e){var n=t.alternate;return n===null?(n=ui(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rp(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")E3(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fc:return Ga(n.children,i,s,e);case Vw:o=8,i|=8;break;case ey:return t=ui(12,n,e,i|2),t.elementType=ey,t.lanes=s,t;case ty:return t=ui(13,n,e,i),t.elementType=ty,t.lanes=s,t;case ny:return t=ui(19,n,e,i),t.elementType=ny,t.lanes=s,t;case V4:return d2(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case j4:o=10;break e;case F4:o=9;break e;case Uw:o=11;break e;case Bw:o=14;break e;case vo:o=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=ui(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ga(t,e,n,r){return t=ui(7,t,r,e),t.lanes=n,t}function d2(t,e,n,r){return t=ui(22,t,r,e),t.elementType=V4,t.lanes=n,t.stateNode={isHidden:!1},t}function X1(t,e,n){return t=ui(6,t,null,e),t.lanes=n,t}function J1(t,e,n){return e=ui(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wD(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=N1(0),this.expirationTimes=N1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=N1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function I3(t,e,n,r,i,s,o,a,l){return t=new wD(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ui(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},o3(s),t}function xD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Nk(t){if(!t)return Qo;t=t._reactInternals;e:{if(Sl(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ar(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(Ar(n))return PR(t,n,e)}return e}function Lk(t,e,n,r,i,s,o,a,l){return t=I3(n,r,!0,t,i,s,o,a,l),t.context=Nk(null),n=t.current,r=pr(),i=Fo(n),s=Bs(r,i),s.callback=e??null,$o(n,s,i),t.current.lanes=i,cf(t,i,r),Pr(t,r),t}function h2(t,e,n,r){var i=e.current,s=pr(),o=Fo(i);return n=Nk(n),e.context===null?e.context=n:e.pendingContext=n,e=Bs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$o(i,e,o),t!==null&&(Fi(t,i,o,s),X0(t,i,o)),o}function rm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function PI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function b3(t,e){PI(t,e),(t=t.alternate)&&PI(t,e)}function ED(){return null}var Mk=typeof reportError=="function"?reportError:function(t){console.error(t)};function C3(t){this._internalRoot=t}f2.prototype.render=C3.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));h2(t,e,null,null)};f2.prototype.unmount=C3.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ol(function(){h2(null,t,null,null)}),e[qs]=null}};function f2(t){this._internalRoot=t}f2.prototype.unstable_scheduleHydration=function(t){if(t){var e=uR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_o.length&&e!==0&&e<_o[n].priority;n++);_o.splice(n,0,t),n===0&&hR(t)}};function T3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function NI(){}function ID(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=rm(o);s.call(c)}}var o=Lk(e,r,t,0,null,!1,!1,"",NI);return t._reactRootContainer=o,t[qs]=o.current,vh(t.nodeType===8?t.parentNode:t),ol(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=rm(l);a.call(c)}}var l=I3(t,0,!1,null,null,!1,!1,"",NI);return t._reactRootContainer=l,t[qs]=l.current,vh(t.nodeType===8?t.parentNode:t),ol(function(){h2(e,l,n,r)}),l}function m2(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=rm(o);a.call(l)}}h2(e,o,t,i)}else o=ID(n,e,t,i,r);return rm(o)}lR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Cd(e.pendingLanes);n!==0&&(Hw(e,n|1),Pr(e,nn()),!(it&6)&&(eu=nn()+500,aa()))}break;case 13:ol(function(){var r=Gs(t,1);if(r!==null){var i=pr();Fi(r,t,1,i)}}),b3(t,1)}};qw=function(t){if(t.tag===13){var e=Gs(t,134217728);if(e!==null){var n=pr();Fi(e,t,134217728,n)}b3(t,134217728)}};cR=function(t){if(t.tag===13){var e=Fo(t),n=Gs(t,e);if(n!==null){var r=pr();Fi(n,t,e,r)}b3(t,e)}};uR=function(){return mt};dR=function(t,e){var n=mt;try{return mt=t,e()}finally{mt=n}};hy=function(t,e,n){switch(e){case"input":if(sy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=s2(r);if(!i)throw Error(Q(90));B4(r),sy(r,i)}}}break;case"textarea":W4(t,n);break;case"select":e=n.value,e!=null&&Ac(t,!!n.multiple,e,!1)}};X4=_3;J4=ol;var bD={usingClientEntryPoint:!1,Events:[df,vc,s2,Q4,Y4,_3]},td={findFiberByHostInstance:Oa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},CD={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:to.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tR(t),t===null?null:t.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||ED,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var y0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!y0.isDisabled&&y0.supportsFiber)try{t2=y0.inject(CD),ps=y0}catch{}}Xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bD;Xr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T3(e))throw Error(Q(200));return xD(t,e,null,n)};Xr.createRoot=function(t,e){if(!T3(t))throw Error(Q(299));var n=!1,r="",i=Mk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=I3(t,1,!1,null,null,n,!1,r,i),t[qs]=e.current,vh(t.nodeType===8?t.parentNode:t),new C3(e)};Xr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=tR(e),t=t===null?null:t.stateNode,t};Xr.flushSync=function(t){return ol(t)};Xr.hydrate=function(t,e,n){if(!p2(e))throw Error(Q(200));return m2(null,t,e,!0,n)};Xr.hydrateRoot=function(t,e,n){if(!T3(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Mk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Lk(e,null,t,1,n??null,i,!1,s,o),t[qs]=e.current,vh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new f2(e)};Xr.render=function(t,e,n){if(!p2(e))throw Error(Q(200));return m2(null,t,e,!1,n)};Xr.unmountComponentAtNode=function(t){if(!p2(t))throw Error(Q(40));return t._reactRootContainer?(ol(function(){m2(null,null,t,!1,function(){t._reactRootContainer=null,t[qs]=null})}),!0):!1};Xr.unstable_batchedUpdates=_3;Xr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!p2(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return m2(t,e,n,!1,r)};Xr.version="18.2.0-next-9e3b772b8-20220608";function Ok(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ok)}catch(t){console.error(t)}}Ok(),L4.exports=Xr;var Th=L4.exports;const _0=E4(Th);var LI=Th;Jv.createRoot=LI.createRoot,Jv.hydrateRoot=LI.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sh(){return Sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sh.apply(this,arguments)}var ko;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ko||(ko={}));const MI="popstate";function TD(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Rl(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Hy("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:im(s))}function r(i,s){g2(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return RD(e,n,r,t)}function mn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function g2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SD(){return Math.random().toString(36).substr(2,8)}function OI(t,e){return{usr:t.state,key:t.key,idx:e}}function Hy(t,e,n,r){return n===void 0&&(n=null),Sh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Rl(e):e,{state:n,key:e&&e.key||r||SD()})}function im(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Rl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function RD(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ko.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Sh({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=ko.Pop;let x=u(),g=x==null?null:x-c;c=x,l&&l({action:a,location:v.location,delta:g})}function h(x,g){a=ko.Push;let w=Hy(v.location,x,g);n&&n(w,x),c=u()+1;let _=OI(w,c),E=v.createHref(w);try{o.pushState(_,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(E)}s&&l&&l({action:a,location:v.location,delta:1})}function p(x,g){a=ko.Replace;let w=Hy(v.location,x,g);n&&n(w,x),c=u();let _=OI(w,c),E=v.createHref(w);o.replaceState(_,"",E),s&&l&&l({action:a,location:v.location,delta:0})}function m(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:im(x);return mn(g,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,g)}let v={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(MI,d),l=x,()=>{i.removeEventListener(MI,d),l=null}},createHref(x){return e(i,x)},createURL:m,encodeLocation(x){let g=m(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(x){return o.go(x)}};return v}var DI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(DI||(DI={}));function kD(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Rl(e):e,i=S3(r.pathname||"/",n);if(i==null)return null;let s=Dk(t);AD(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=FD(s[a],BD(i));return o}function Dk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(mn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Uo([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(mn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Dk(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:$D(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of $k(s.path))i(s,o,l)}),e}function $k(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=$k(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function AD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const PD=/^:[\w-]+$/,ND=3,LD=2,MD=1,OD=10,DD=-2,$I=t=>t==="*";function $D(t,e){let n=t.split("/"),r=n.length;return n.some($I)&&(r+=DD),e&&(r+=LD),n.filter(i=>!$I(i)).reduce((i,s)=>i+(PD.test(s)?ND:s===""?MD:OD),r)}function jD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function FD(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=VD({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:Uo([i,u.pathname]),pathnameBase:GD(Uo([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Uo([i,u.pathnameBase]))}return s}function VD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=UD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let v=a[d]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?c[h]=void 0:c[h]=zD(m||"",h),c},{}),pathname:s,pathnameBase:o,pattern:t}}function UD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),g2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function BD(t){try{return decodeURI(t)}catch(e){return g2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zD(t,e){try{return decodeURIComponent(t)}catch(n){return g2(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function S3(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function WD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Rl(t):t;return{pathname:n?n.startsWith("/")?n:HD(n,e):e,search:KD(r),hash:QD(i)}}function HD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Z1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jk(t,e){let n=qD(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Fk(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Rl(t):(i=Sh({},t),mn(!i.pathname||!i.pathname.includes("?"),Z1("?","pathname","search",i)),mn(!i.pathname||!i.pathname.includes("#"),Z1("#","pathname","hash",i)),mn(!i.search||!i.search.includes("#"),Z1("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=WD(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Uo=t=>t.join("/").replace(/\/\/+/g,"/"),GD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function YD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Vk=["post","put","patch","delete"];new Set(Vk);const XD=["get",...Vk];new Set(XD);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rh.apply(this,arguments)}const R3=y.createContext(null),JD=y.createContext(null),kl=y.createContext(null),v2=y.createContext(null),la=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Uk=y.createContext(null);function ZD(t,e){let{relative:n}=e===void 0?{}:e;ff()||mn(!1);let{basename:r,navigator:i}=y.useContext(kl),{hash:s,pathname:o,search:a}=zk(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Uo([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ff(){return y.useContext(v2)!=null}function Su(){return ff()||mn(!1),y.useContext(v2).location}function Bk(t){y.useContext(kl).static||y.useLayoutEffect(t)}function An(){let{isDataRoute:t}=y.useContext(la);return t?h$():e$()}function e$(){ff()||mn(!1);let t=y.useContext(R3),{basename:e,future:n,navigator:r}=y.useContext(kl),{matches:i}=y.useContext(la),{pathname:s}=Su(),o=JSON.stringify(jk(i,n.v7_relativeSplatPath)),a=y.useRef(!1);return Bk(()=>{a.current=!0}),y.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Fk(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Uo([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}function pf(){let{matches:t}=y.useContext(la),e=t[t.length-1];return e?e.params:{}}function zk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(kl),{matches:i}=y.useContext(la),{pathname:s}=Su(),o=JSON.stringify(jk(i,r.v7_relativeSplatPath));return y.useMemo(()=>Fk(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function t$(t,e){return n$(t,e)}function n$(t,e,n,r){ff()||mn(!1);let{navigator:i}=y.useContext(kl),{matches:s}=y.useContext(la),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Su(),u;if(e){var d;let x=typeof e=="string"?Rl(e):e;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||mn(!1),u=x}else u=c;let h=u.pathname||"/",p=l==="/"?h:h.slice(l.length)||"/",m=kD(t,{pathname:p}),v=a$(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Uo([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Uo([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&v?y.createElement(v2.Provider,{value:{location:Rh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ko.Pop}},v):v}function r$(){let t=d$(),e=YD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:i},n):null,s)}const i$=y.createElement(r$,null);class s$ extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(la.Provider,{value:this.props.routeContext},y.createElement(Uk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function o$(t){let{routeContext:e,match:n,children:r}=t,i=y.useContext(R3);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(la.Provider,{value:e},r)}function a$(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||mn(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let p,m=!1,v=null,x=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||i$,l&&(c<0&&h===0?(f$("route-fallback",!1),m=!0,x=null):c===h&&(m=!0,x=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,h+1)),w=()=>{let _;return p?_=v:m?_=x:d.route.Component?_=y.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,y.createElement(o$,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?y.createElement(s$,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):w()},null)}var Wk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Wk||{}),sm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(sm||{});function l$(t){let e=y.useContext(R3);return e||mn(!1),e}function c$(t){let e=y.useContext(JD);return e||mn(!1),e}function u$(t){let e=y.useContext(la);return e||mn(!1),e}function Hk(t){let e=u$(),n=e.matches[e.matches.length-1];return n.route.id||mn(!1),n.route.id}function d$(){var t;let e=y.useContext(Uk),n=c$(sm.UseRouteError),r=Hk(sm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function h$(){let{router:t}=l$(Wk.UseNavigateStable),e=Hk(sm.UseNavigateStable),n=y.useRef(!1);return Bk(()=>{n.current=!0}),y.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Rh({fromRouteId:e},s)))},[t,e])}const jI={};function f$(t,e,n){!e&&!jI[t]&&(jI[t]=!0)}function gn(t){mn(!1)}function p$(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ko.Pop,navigator:s,static:o=!1,future:a}=t;ff()&&mn(!1);let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:s,static:o,future:Rh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Rl(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,v=y.useMemo(()=>{let x=S3(u,l);return x==null?null:{location:{pathname:x,search:d,hash:h,state:p,key:m},navigationType:i}},[l,u,d,h,p,m,i]);return v==null?null:y.createElement(kl.Provider,{value:c},y.createElement(v2.Provider,{children:n,value:v}))}function m$(t){let{children:e,location:n}=t;return t$(qy(e),n)}new Promise(()=>{});function qy(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,i)=>{if(!y.isValidElement(r))return;let s=[...e,i];if(r.type===y.Fragment){n.push.apply(n,qy(r.props.children,s));return}r.type!==gn&&mn(!1),!r.props.index||!r.props.children||mn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=qy(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gy(){return Gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gy.apply(this,arguments)}function g$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function v$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function y$(t,e){return t.button===0&&(!e||e==="_self")&&!v$(t)}const _$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],w$="6";try{window.__reactRouterVersion=w$}catch{}const x$="startTransition",FI=Lp[x$];function E$(t){let{basename:e,children:n,future:r,window:i}=t,s=y.useRef();s.current==null&&(s.current=TD({window:i,v5Compat:!0}));let o=s.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=y.useCallback(d=>{c&&FI?FI(()=>l(d)):l(d)},[l,c]);return y.useLayoutEffect(()=>o.listen(u),[o,u]),y.createElement(p$,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const I$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",b$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,C$=y.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,h=g$(e,_$),{basename:p}=y.useContext(kl),m,v=!1;if(typeof c=="string"&&b$.test(c)&&(m=c,I$))try{let _=new URL(window.location.href),E=c.startsWith("//")?new URL(_.protocol+c):new URL(c),S=S3(E.pathname,p);E.origin===_.origin&&S!=null?c=S+E.search+E.hash:v=!0}catch{}let x=ZD(c,{relative:i}),g=T$(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function w(_){r&&r(_),_.defaultPrevented||g(_)}return y.createElement("a",Gy({},h,{href:m||x,onClick:v||s?r:w,ref:n,target:l}))});var VI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(VI||(VI={}));var UI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(UI||(UI={}));function T$(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=An(),c=Su(),u=zk(t,{relative:o});return y.useCallback(d=>{if(y$(d,n)){d.preventDefault();let h=r!==void 0?r:im(c)===im(u);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}const S$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M41.9375%208.625C41.273438%208.648438%2040.664063%209%2040.3125%209.5625L21.5%2038.34375L9.3125%2027.8125C8.789063%2027.269531%208.003906%2027.066406%207.28125%2027.292969C6.5625%2027.515625%206.027344%2028.125%205.902344%2028.867188C5.777344%2029.613281%206.078125%2030.363281%206.6875%2030.8125L20.625%2042.875C21.0625%2043.246094%2021.640625%2043.410156%2022.207031%2043.328125C22.777344%2043.242188%2023.28125%2042.917969%2023.59375%2042.4375L43.6875%2011.75C44.117188%2011.121094%2044.152344%2010.308594%2043.78125%209.644531C43.410156%208.984375%2042.695313%208.589844%2041.9375%208.625Z'%20fill='%231EE97C'%20/%3e%3c/svg%3e",R$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",k$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%203C14.168432%203%2013.456063%203.5067238%2013.154297%204.2285156L2.3007812%2022.947266L2.3007812%2022.949219%20A%202%202%200%200%200%202%2024%20A%202%202%200%200%200%204%2026%20A%202%202%200%200%200%204.140625%2025.994141L4.1445312%2026L15%2026L25.855469%2026L25.859375%2025.992188%20A%202%202%200%200%200%2026%2026%20A%202%202%200%200%200%2028%2024%20A%202%202%200%200%200%2027.699219%2022.947266L27.683594%2022.919922%20A%202%202%200%200%200%2027.681641%2022.917969L16.845703%204.2285156C16.543937%203.5067238%2015.831568%203%2015%203%20z%20M%2013.787109%2011.359375L16.212891%2011.359375L16.011719%2017.832031L13.988281%2017.832031L13.787109%2011.359375%20z%20M%2015.003906%2019.810547C15.825906%2019.810547%2016.318359%2020.252813%2016.318359%2021.007812C16.318359%2021.748812%2015.825906%2022.189453%2015.003906%2022.189453C14.175906%2022.189453%2013.679688%2021.748813%2013.679688%2021.007812C13.679688%2020.252813%2014.174906%2019.810547%2015.003906%2019.810547%20z'%20fill='%23E91E25'%20/%3e%3c/svg%3e",A$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M3,12v-2c0-0.386,0.223-0.738,0.572-0.904s0.762-0.115,1.062,0.13L15,17.708l10.367-8.482%20c0.299-0.245,0.712-0.295,1.062-0.13C26.779,9.261,27,9.614,27,10v2c0,0.3-0.135,0.584-0.367,0.774l-11,9%20c-0.369,0.301-0.898,0.301-1.267,0l-11-9C3.135,12.584,3,12.3,3,12z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",P$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M17,3h2c0.386,0,0.738,0.223,0.904,0.572s0.115,0.762-0.13,1.062L11.292,15l8.482,10.367%20c0.245,0.299,0.295,0.712,0.13,1.062S19.386,27,19,27h-2c-0.3,0-0.584-0.135-0.774-0.367l-9-11c-0.301-0.369-0.301-0.898,0-1.267%20l9-11C16.416,3.135,16.7,3,17,3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",N$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M19,7h-6.774l0.564-1.551c0.604-1.662-0.134-3.512-1.716-4.302c-0.691-0.345-1.532-0.064-1.877,0.627L6.339,7.504%20C5.532,8.042,5,8.958,5,10v7c0,2.209,1.791,4,4,4h6.989c2.344,0,4.373-1.628,4.881-3.915L22,12v-2C22,8.343,20.657,7,19,7z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M7,19.5c0-0.386,0-10.614,0-11C7,7.672,6.328,7,5.5,7S4,7.672,4,8.5c0,0.386,0,10.614,0,11C4,20.328,4.672,21,5.5,21S7,20.328,7,19.5z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",L$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M12,6h4V3.706c0-0.615,0.742-0.924,1.178-0.491l4.104,4.075c0.395,0.391,0.395,1.03,0,1.421l-4.104,4.075C16.742,13.218,16,12.908,16,12.294V10h-4c-4.351,0-5,2.661-5,4H3C3,10.31,5.357,6,12,6z'%20opacity='.35'%20fill='%232E2E2E'%20/%3e%3cpath%20d='M8,22c0.513,0,1.024-0.196,1.415-0.587c0.78-0.781,0.78-2.046,0-2.827C8.786,17.951,7,15.753,7,14c0-6.845,5-8,5-8c-6.643,0-9,4.31-9,8c0,3.726,3.22,7.049,3.587,7.415C6.978,21.805,7.488,22,8,22z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",M$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M12,27h-2c-0.386,0-0.738-0.223-0.904-0.572s-0.115-0.762,0.13-1.062L17.708,15L9.226,4.633%20c-0.245-0.299-0.295-0.712-0.13-1.062S9.614,3,10,3h2c0.3,0,0.584,0.135,0.774,0.367l9,11c0.301,0.369,0.301,0.898,0,1.267l-9,11%20C12.584,26.865,12.3,27,12,27z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",O$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L11.5%206%20z%20M%2011.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209%20z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",D$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C11.832031%204%208.152344%206.113281%206%209.34375L6%206L4%206L4%2013L11%2013L11%2011L7.375%2011C9.101563%208.019531%2012.296875%206%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016L4%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2015%208L15%2017L22%2017L22%2015L17%2015L17%208Z'%20fill='%232E2E2E'%20/%3e%3c/svg%3e",$$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L5%203C4.4%203%204%203.4%204%204C4%204.6%204.4%205%205%205L7%205L17%205L19%205C19.6%205%2020%204.6%2020%204C20%203.4%2019.6%203%2019%203L15%203L14%202L10%202%20z%20M%205%207L5%2020C5%2021.1%205.9%2022%207%2022L17%2022C18.1%2022%2019%2021.1%2019%2020L19%207L5%207%20z%20M%209%209C9.6%209%2010%209.4%2010%2010L10%2019C10%2019.6%209.6%2020%209%2020C8.4%2020%208%2019.6%208%2019L8%2010C8%209.4%208.4%209%209%209%20z%20M%2015%209C15.6%209%2016%209.4%2016%2010L16%2019C16%2019.6%2015.6%2020%2015%2020C14.4%2020%2014%2019.6%2014%2019L14%2010C14%209.4%2014.4%209%2015%209%20z'%20fill='%23FF4A33'%20/%3e%3c/svg%3e",j$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20fill='%230F0F0F'%20/%3e%3cpath%20d='M3%2011H21V13H3z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",F$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3cpath%20d='M79.335938%2015.667969C78.064453%2015.622266%2076.775%2015.762109%2075.5%2016.099609C72.1%2016.999609%2069.299609%2019.199219%2067.599609%2022.199219L64%2028.699219C63.2%2030.099219%2063.699609%2032.000781%2065.099609%2032.800781L82.400391%2042.800781C82.900391%2043.100781%2083.400391%2043.199219%2083.900391%2043.199219C84.200391%2043.199219%2084.399219%2043.199609%2084.699219%2043.099609C85.499219%2042.899609%2086.1%2042.399219%2086.5%2041.699219L90.199219%2035.199219C91.899219%2032.199219%2092.4%2028.700781%2091.5%2025.300781C90.6%2021.900781%2088.400391%2019.100391%2085.400391%2017.400391C83.525391%2016.337891%2081.455078%2015.744141%2079.335938%2015.667969%20z%20M%2060.097656%2038.126953C59.128906%2038.201172%2058.199219%2038.724609%2057.699219%2039.599609L27.5%2092C24.1%2097.8%2022.200781%20104.30039%2021.800781%20110.90039L21%20123.80078C20.9%20124.90078%2021.5%20125.99961%2022.5%20126.59961C23%20126.89961%2023.5%20127%2024%20127C24.6%20127%2025.199219%20126.8%2025.699219%20126.5L36.5%20119.40039C42%20115.70039%2046.7%20110.8%2050%20105L80.300781%2052.599609C81.100781%2051.199609%2080.599219%2049.3%2079.199219%2048.5C77.799219%2047.7%2075.899609%2048.199609%2075.099609%2049.599609L44.800781%20102C41.900781%20106.9%2037.899609%20111.20039%2033.099609%20114.40039L27.300781%20118.19922L27.699219%20111.30078C27.999219%20105.60078%2029.699609%20100%2032.599609%2095L62.900391%2042.599609C63.700391%2041.199609%2063.200781%2039.3%2061.800781%2038.5C61.275781%2038.2%2060.678906%2038.082422%2060.097656%2038.126953%20z%20M%2049%20121C47.3%20121%2046%20122.3%2046%20124C46%20125.7%2047.3%20127%2049%20127L89%20127C90.7%20127%2092%20125.7%2092%20124C92%20122.3%2090.7%20121%2089%20121L49%20121%20z%20M%20104%20121%20A%203%203%200%200%200%20101%20124%20A%203%203%200%200%200%20104%20127%20A%203%203%200%200%200%20107%20124%20A%203%203%200%200%200%20104%20121%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",V$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M5%203C3.9057453%203%203%203.9057453%203%205L3%2019C3%2020.094255%203.9057453%2021%205%2021L19%2021C20.094255%2021%2021%2020.094255%2021%2019L21%207L17%203L5%203%20z%20M%205%205L16.171875%205L19%207.828125L19%2019L5%2019L5%205%20z%20M%207%207L7%2010L15%2010L15%207L7%207%20z%20M%2011.5%2012%20A%202.5%202.5%200%200%200%209%2014.5%20A%202.5%202.5%200%200%200%2011.5%2017%20A%202.5%202.5%200%200%200%2014%2014.5%20A%202.5%202.5%200%200%200%2011.5%2012%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",U$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M27,18v2c0,0.386-0.223,0.738-0.572,0.904c-0.349,0.166-0.762,0.115-1.062-0.13L15,12.292L4.633,20.774%20c-0.299,0.245-0.712,0.295-1.062,0.13C3.221,20.739,3,20.386,3,20v-2c0-0.3,0.135-0.584,0.367-0.774l11-9%20c0.369-0.301,0.898-0.301,1.267,0l11,9C26.865,17.416,27,17.7,27,18z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",B$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15%200C13.35499%200%2012%201.3549904%2012%203L8%203C6.3550302%203%205%204.3550302%205%206L5%2024C5%2025.64497%206.3550302%2027%208%2027L22%2027C23.64497%2027%2025%2025.64497%2025%2024L25%206C25%204.3550302%2023.64497%203%2022%203L18%203C18%201.3549904%2016.64501%200%2015%200%20z%20M%2015%202C15.564129%202%2016%202.4358706%2016%203C16%203.5641294%2015.564129%204%2015%204C14.435871%204%2014%203.5641294%2014%203C14%202.4358706%2014.435871%202%2015%202%20z%20M%208%205L12%205L12%206C12%206.552%2012.448%207%2013%207L17%207C17.552%207%2018%206.552%2018%206L18%205L22%205C22.56503%205%2023%205.4349698%2023%206L23%2024C23%2024.56503%2022.56503%2025%2022%2025L8%2025C7.4349698%2025%207%2024.56503%207%2024L7%206C7%205.4349698%207.4349698%205%208%205%20z%20M%2011%2011%20A%201.0001%201.0001%200%201%200%2011%2013L19%2013%20A%201.0001%201.0001%200%201%200%2019%2011L11%2011%20z%20M%2011%2015%20A%201.0001%201.0001%200%201%200%2011%2017L16%2017%20A%201.0001%201.0001%200%201%200%2016%2015L11%2015%20z%20M%2011%2019%20A%201.0001%201.0001%200%201%200%2011%2021L19%2021%20A%201.0001%201.0001%200%201%200%2019%2019L11%2019%20z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",z$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16.03125%204C14.921875%204%2013.8125%204.15625%2012.71875%204.46875L11.9375%204.6875L12%205.5C12.042969%206.238281%2011.679688%206.949219%2011%207.34375C10.320313%207.738281%209.523438%207.6875%208.90625%207.28125L8.25%206.84375L7.65625%207.375C6.023438%208.957031%204.910156%2010.957031%204.375%2013.09375L4.1875%2013.875L4.875%2014.21875C5.535156%2014.550781%206%2015.210938%206%2016C6%2016.789063%205.535156%2017.449219%204.875%2017.78125L4.15625%2018.125L4.375%2018.90625C4.636719%2019.957031%205.019531%2021.007813%205.59375%2022C6.167969%2022.992188%206.878906%2023.871094%207.65625%2024.625L8.25%2025.1875L8.90625%2024.75C9.523438%2024.34375%2010.316406%2024.261719%2011%2024.65625C11.683594%2025.050781%2012.042969%2025.761719%2012%2026.5L11.9375%2027.3125L12.71875%2027.53125C14.109375%2027.925781%2015.558594%2028.039063%2017%2027.90625L17%2032L32%2032L32%2018L27.59375%2018L27.125%2017.78125C26.464844%2017.449219%2026%2016.789063%2026%2016C26%2015.210938%2026.464844%2014.550781%2027.125%2014.21875L27.84375%2013.875L27.625%2013.09375C27.363281%2012.042969%2026.980469%2010.992188%2026.40625%2010C25.832031%209.007813%2025.121094%208.128906%2024.34375%207.375L23.78125%206.8125L23.09375%207.28125C22.476563%207.6875%2021.683594%207.738281%2021%207.34375L20.96875%207.3125C20.3125%206.914063%2019.957031%206.222656%2020%205.5L20.0625%204.6875L19.28125%204.46875C18.222656%204.167969%2017.140625%204%2016.03125%204%20Z%20M%2016%206.09375C16.742188%206.09375%2017.496094%206.179688%2018.21875%206.34375C18.429688%207.4375%2018.960938%208.460938%2020%209.0625C21.050781%209.667969%2022.21875%209.597656%2023.28125%209.21875C23.785156%209.757813%2024.273438%2010.335938%2024.65625%2011C25.042969%2011.671875%2025.285156%2012.378906%2025.5%2013.09375C24.648438%2013.824219%2024%2014.792969%2024%2016C24%2016.730469%2024.214844%2017.410156%2024.5625%2018L21.65625%2018C21.882813%2017.378906%2022%2016.703125%2022%2016C22%2012.699219%2019.300781%2010%2016%2010C12.699219%2010%2010%2012.699219%2010%2016C10%2019.300781%2012.699219%2022%2016%2022C16.34375%2022%2016.671875%2021.960938%2017%2021.90625L17%2025.90625C15.910156%2026.007813%2014.832031%2025.921875%2013.78125%2025.6875C13.574219%2024.582031%2013.050781%2023.542969%2012%2022.9375C10.949219%2022.332031%209.78125%2022.402344%208.71875%2022.78125C8.210938%2022.238281%207.726563%2021.664063%207.34375%2021C6.957031%2020.328125%206.714844%2019.621094%206.5%2018.90625C7.351563%2018.175781%208%2017.207031%208%2016C8%2014.792969%207.351563%2013.824219%206.5%2013.09375C6.933594%2011.667969%207.710938%2010.371094%208.75%209.25C9.800781%209.609375%2010.960938%209.660156%2012%209.0625C13.039063%208.464844%2013.570313%207.4375%2013.78125%206.34375C14.523438%206.175781%2015.257813%206.09375%2016%206.09375%20Z%20M%2016%2012C18.21875%2012%2020%2013.78125%2020%2016C20%2016.730469%2019.785156%2017.40625%2019.4375%2018L17%2018L17%2019.84375C16.675781%2019.933594%2016.351563%2020%2016%2020C13.78125%2020%2012%2018.21875%2012%2016C12%2013.78125%2013.78125%2012%2016%2012%20Z%20M%2019%2020L30%2020L30%2021L19%2021%20Z%20M%2019%2023L30%2023L30%2030L19%2030%20Z%20M%2026.28125%2023.78125L24%2026.0625L22.71875%2024.78125L21.28125%2026.21875L23.28125%2028.21875L24%2028.90625L24.71875%2028.21875L27.71875%2025.21875Z'%20fill='%230F0F0F'%20/%3e%3c/svg%3e",W$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M4%207L4%209L28%209L28%207%20Z%20M%204%2015L4%2017L28%2017L28%2015%20Z%20M%204%2023L4%2025L28%2025L28%2023Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",H$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%202.59375L15.28125%203.28125L2.28125%2016.28125L3.71875%2017.71875L5%2016.4375L5%2028L14%2028L14%2018L18%2018L18%2028L27%2028L27%2016.4375L28.28125%2017.71875L29.71875%2016.28125L16.71875%203.28125%20Z%20M%2016%205.4375L25%2014.4375L25%2026L20%2026L20%2016L12%2016L12%2026L7%2026L7%2014.4375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",q$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M20.5%204C18.203405%204%2016.305701%205.7666235%2016.050781%208L12.5%208C10.032499%208%208%2010.032499%208%2012.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2012.5C40%2010.032499%2037.967501%208%2035.5%208L31.949219%208C31.694299%205.7666235%2029.796595%204%2027.5%204L20.5%204%20z%20M%2020.5%207L27.5%207C28.346499%207%2029%207.6535009%2029%208.5C29%209.3464991%2028.346499%2010%2027.5%2010L20.5%2010C19.653501%2010%2019%209.3464991%2019%208.5C19%207.6535009%2019.653501%207%2020.5%207%20z%20M%2012.5%2011L16.769531%2011C17.581237%2012.2019%2018.954719%2013%2020.5%2013L27.5%2013C29.045281%2013%2030.418763%2012.2019%2031.230469%2011L35.5%2011C36.346499%2011%2037%2011.653501%2037%2012.5L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%2012.5C11%2011.653501%2011.653501%2011%2012.5%2011%20z%20M%2032.470703%2018.986328%20A%201.50015%201.50015%200%200%200%2031.439453%2019.439453L28.5%2022.378906L27.560547%2021.439453%20A%201.50015%201.50015%200%201%200%2025.439453%2023.560547L27.439453%2025.560547%20A%201.50015%201.50015%200%200%200%2029.560547%2025.560547L33.560547%2021.560547%20A%201.50015%201.50015%200%200%200%2032.470703%2018.986328%20z%20M%2015.5%2021%20A%201.50015%201.50015%200%201%200%2015.5%2024L21.5%2024%20A%201.50015%201.50015%200%201%200%2021.5%2021L15.5%2021%20z%20M%2032.486328%2027.978516%20A%201.50015%201.50015%200%200%200%2031.439453%2028.439453L30%2029.878906L28.560547%2028.439453%20A%201.50015%201.50015%200%200%200%2027.484375%2027.984375%20A%201.50015%201.50015%200%200%200%2026.439453%2030.560547L27.878906%2032L26.439453%2033.439453%20A%201.50015%201.50015%200%201%200%2028.560547%2035.560547L30%2034.121094L31.439453%2035.560547%20A%201.50015%201.50015%200%201%200%2033.560547%2033.439453L32.121094%2032L33.560547%2030.560547%20A%201.50015%201.50015%200%200%200%2032.486328%2027.978516%20z%20M%2015.5%2030%20A%201.50015%201.50015%200%201%200%2015.5%2033L21.5%2033%20A%201.50015%201.50015%200%201%200%2021.5%2030L15.5%2030%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",G$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C9.382813%204%204%209.382813%204%2016C4%2022.617188%209.382813%2028%2016%2028C22.617188%2028%2028%2022.617188%2028%2016C28%209.382813%2022.617188%204%2016%204%20Z%20M%2016%206C21.535156%206%2026%2010.464844%2026%2016C26%2021.535156%2021.535156%2026%2016%2026C10.464844%2026%206%2021.535156%206%2016C6%2010.464844%2010.464844%206%2016%206%20Z%20M%2016%2010C13.800781%2010%2012%2011.800781%2012%2014L14%2014C14%2012.882813%2014.882813%2012%2016%2012C17.117188%2012%2018%2012.882813%2018%2014C18%2014.765625%2017.507813%2015.445313%2016.78125%2015.6875L16.375%2015.8125C15.558594%2016.082031%2015%2016.863281%2015%2017.71875L15%2019L17%2019L17%2017.71875L17.40625%2017.59375C18.945313%2017.082031%2020%2015.621094%2020%2014C20%2011.800781%2018.199219%2010%2016%2010%20Z%20M%2015%2020L15%2022L17%2022L17%2020Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",K$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20x='0'%20y='0'%20viewBox='0%200%20128%20128'%20width='512'%20height='512'%3e%3ccircle%20cx='64'%20cy='64'%20r='55'%20fill='%23fff'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,122C32,122,6,96,6,64S32,6,64,6s58,26,58,58S96,122,64,122z%20M64,12c-28.7,0-52,23.3-52,52s23.3,52,52,52%20s52-23.3,52-52S92.7,12,64,12z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,90c-1.7,0-3-1.3-3-3V61c0-1.7,1.3-3,3-3s3,1.3,3,3v26C67,88.7,65.7,90,64,90z'%20/%3e%3cpath%20fill='%23444b54'%20d='M64,49c-1.7,0-3-1.3-3-3v-5c0-1.7,1.3-3,3-3s3,1.3,3,3v5C67,47.7,65.7,49,64,49z'%20/%3e%3c/svg%3e",Q$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M6%203L6%2029L17.765625%2029C19.233126%2030.826376%2021.480367%2032%2024%2032C26.396%2032%2028.534%2030.929859%2030%2029.255859L30%2032L32%2032L32%2026L26%2026L26%2028L28.445312%2028C27.347313%2029.221%2025.768%2030%2024%2030C20.691%2030%2018%2027.309%2018%2024C18%2020.691%2020.691%2018%2024%2018C27.309%2018%2030%2020.691%2030%2024L32%2024C32%2020.280606%2029.444687%2017.153349%2026%2016.261719L26%209.5859375L19.414062%203L6%203%20z%20M%208%205L18%205L18%2011L24%2011L24%2016C21.979283%2016%2020.136244%2016.75962%2018.726562%2018L11%2018L11%2020L17.082031%2020C16.722543%2020.619242%2016.445366%2021.290505%2016.261719%2022L11%2022L11%2024L16%2024C16%2025.060938%2016.211142%2026.072669%2016.587891%2027L8%2027L8%205%20z%20M%2020%206.4140625L22.585938%209L20%209L20%206.4140625%20z%20M%2011%2014L11%2016L21%2016L21%2014L11%2014%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",Y$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M4.0097656%203C2.9179106%203%202.0097656%203.9049841%202.0097656%204.9980469L2%2023L6%2019L20%2019C21.093063%2019%2022%2018.093063%2022%2017L22%205C22%203.9069372%2021.093063%203%2020%203L4.0097656%203%20z%20M%204.0097656%205L20%205L20%2017L5.171875%2017L4.0039062%2018.167969L4.0097656%205%20z%20M%2011%207L11%209L13%209L13%207L11%207%20z%20M%2011%2011L11%2015L13%2015L13%2011L11%2011%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",X$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M11%203L11%2011L3%2011L3%2013L11%2013L11%2021L13%2021L13%2013L21%2013L21%2011L13%2011L13%203L11%203%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",J$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11%203H13V21H11z'%20transform='rotate(90%2012%2012)'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",Z$="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M18%202%20A%203%203%200%200%200%2015%205%20A%203%203%200%200%200%2015.054688%205.5605469L7.9394531%209.7109375%20A%203%203%200%200%200%206%209%20A%203%203%200%200%200%203%2012%20A%203%203%200%200%200%206%2015%20A%203%203%200%200%200%207.9355469%2014.287109L15.054688%2018.439453%20A%203%203%200%200%200%2015%2019%20A%203%203%200%200%200%2018%2022%20A%203%203%200%200%200%2021%2019%20A%203%203%200%200%200%2018%2016%20A%203%203%200%200%200%2016.0625%2016.712891L8.9453125%2012.560547%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%208.9453125%2011.439453L16.060547%207.2890625%20A%203%203%200%200%200%2018%208%20A%203%203%200%200%200%2021%205%20A%203%203%200%200%200%2018%202%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",ej="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%208C7.664063%208%201.25%2015.34375%201.25%2015.34375L0.65625%2016L1.25%2016.65625C1.25%2016.65625%207.097656%2023.324219%2014.875%2023.9375C15.246094%2023.984375%2015.617188%2024%2016%2024C16.382813%2024%2016.753906%2023.984375%2017.125%2023.9375C24.902344%2023.324219%2030.75%2016.65625%2030.75%2016.65625L31.34375%2016L30.75%2015.34375C30.75%2015.34375%2024.335938%208%2016%208%20Z%20M%2016%2010C18.203125%2010%2020.234375%2010.601563%2022%2011.40625C22.636719%2012.460938%2023%2013.675781%2023%2015C23%2018.613281%2020.289063%2021.582031%2016.78125%2021.96875C16.761719%2021.972656%2016.738281%2021.964844%2016.71875%2021.96875C16.480469%2021.980469%2016.242188%2022%2016%2022C15.734375%2022%2015.476563%2021.984375%2015.21875%2021.96875C11.710938%2021.582031%209%2018.613281%209%2015C9%2013.695313%209.351563%2012.480469%209.96875%2011.4375L9.9375%2011.4375C11.71875%2010.617188%2013.773438%2010%2016%2010%20Z%20M%2016%2012C14.34375%2012%2013%2013.34375%2013%2015C13%2016.65625%2014.34375%2018%2016%2018C17.65625%2018%2019%2016.65625%2019%2015C19%2013.34375%2017.65625%2012%2016%2012%20Z%20M%207.25%2012.9375C7.09375%2013.609375%207%2014.285156%207%2015C7%2016.753906%207.5%2018.394531%208.375%2019.78125C5.855469%2018.324219%204.105469%2016.585938%203.53125%2016C4.011719%2015.507813%205.351563%2014.203125%207.25%2012.9375%20Z%20M%2024.75%2012.9375C26.648438%2014.203125%2027.988281%2015.507813%2028.46875%2016C27.894531%2016.585938%2026.144531%2018.324219%2023.625%2019.78125C24.5%2018.394531%2025%2016.753906%2025%2015C25%2014.285156%2024.90625%2013.601563%2024.75%2012.9375Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",tj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M11.5%206C8.4802259%206%206%208.4802259%206%2011.5L6%2017.5%20A%201.50015%201.50015%200%201%200%209%2017.5L9%2011.5C9%2010.101774%2010.101774%209%2011.5%209L17.5%209%20A%201.50015%201.50015%200%201%200%2017.5%206L11.5%206%20z%20M%2030.5%206%20A%201.50015%201.50015%200%201%200%2030.5%209L36.5%209C37.898226%209%2039%2010.101774%2039%2011.5L39%2017.5%20A%201.50015%201.50015%200%201%200%2042%2017.5L42%2011.5C42%208.4802259%2039.519774%206%2036.5%206L30.5%206%20z%20M%207.4765625%2028.978516%20A%201.50015%201.50015%200%200%200%206%2030.5L6%2036.5C6%2039.519774%208.4802259%2042%2011.5%2042L17.5%2042%20A%201.50015%201.50015%200%201%200%2017.5%2039L11.5%2039C10.101774%2039%209%2037.898226%209%2036.5L9%2030.5%20A%201.50015%201.50015%200%200%200%207.4765625%2028.978516%20z%20M%2040.476562%2028.978516%20A%201.50015%201.50015%200%200%200%2039%2030.5L39%2036.5C39%2037.898226%2037.898226%2039%2036.5%2039L30.5%2039%20A%201.50015%201.50015%200%201%200%2030.5%2042L36.5%2042C39.519774%2042%2042%2039.519774%2042%2036.5L42%2030.5%20A%201.50015%201.50015%200%200%200%2040.476562%2028.978516%20z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",nj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M19%203C13.488281%203%209%207.488281%209%2013C9%2015.394531%209.839844%2017.589844%2011.25%2019.3125L3.28125%2027.28125L4.71875%2028.71875L12.6875%2020.75C14.410156%2022.160156%2016.605469%2023%2019%2023C24.511719%2023%2029%2018.511719%2029%2013C29%207.488281%2024.511719%203%2019%203%20Z%20M%2019%205C23.429688%205%2027%208.570313%2027%2013C27%2017.429688%2023.429688%2021%2019%2021C14.570313%2021%2011%2017.429688%2011%2013C11%208.570313%2014.570313%205%2019%205Z'%20fill='%230E0E0E'%20/%3e%3c/svg%3e",rj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M9%202C5.1458514%202%202%205.1458514%202%209C2%2012.854149%205.1458514%2016%209%2016C10.747998%2016%2012.345009%2015.348024%2013.574219%2014.28125L14%2014.707031L14%2016L19.585938%2021.585938C20.137937%2022.137937%2021.033938%2022.137938%2021.585938%2021.585938C22.137938%2021.033938%2022.137938%2020.137938%2021.585938%2019.585938L16%2014L14.707031%2014L14.28125%2013.574219C15.348024%2012.345009%2016%2010.747998%2016%209C16%205.1458514%2012.854149%202%209%202%20z%20M%209%204C11.773268%204%2014%206.2267316%2014%209C14%2011.773268%2011.773268%2014%209%2014C6.2267316%2014%204%2011.773268%204%209C4%206.2267316%206.2267316%204%209%204%20z'%20fill='%23F0F0F0'%20/%3e%3c/svg%3e",ij="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M9.15625%206.3125L6.3125%209.15625L22.15625%2025L6.21875%2040.96875L9.03125%2043.78125L25%2027.84375L40.9375%2043.78125L43.78125%2040.9375L27.84375%2025L43.6875%209.15625L40.84375%206.3125L25%2022.15625Z'%20fill='%23313131'%20/%3e%3c/svg%3e",sj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M18.5%205C15.480226%205%2013%207.4802259%2013%2010.5L13%2032.5C13%2035.519774%2015.480226%2038%2018.5%2038L34.5%2038C37.519774%2038%2040%2035.519774%2040%2032.5L40%2010.5C40%207.4802259%2037.519774%205%2034.5%205L18.5%205%20z%20M%2018.5%208L34.5%208C35.898226%208%2037%209.1017741%2037%2010.5L37%2032.5C37%2033.898226%2035.898226%2035%2034.5%2035L18.5%2035C17.101774%2035%2016%2033.898226%2016%2032.5L16%2010.5C16%209.1017741%2017.101774%208%2018.5%208%20z%20M%2011%2010L9.78125%2010.8125C8.66825%2011.5545%208%2012.803625%208%2014.140625L8%2033.5C8%2038.747%2012.253%2043%2017.5%2043L30.859375%2043C32.197375%2043%2033.4465%2042.33175%2034.1875%2041.21875L35%2040L17.5%2040C13.91%2040%2011%2037.09%2011%2033.5L11%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",oj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='480'%20height='480'%20viewBox='0%200%2048%2048'%3e%3cpath%20fill='%23FFC107'%20d='M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3cpath%20fill='%23FF3D00'%20d='M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z'%20/%3e%3cpath%20fill='%234CAF50'%20d='M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z'%20/%3e%3cpath%20fill='%231976D2'%20d='M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z'%20/%3e%3c/svg%3e",aj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M16%204C10.886719%204%206.617188%207.160156%204.875%2011.625L6.71875%2012.375C8.175781%208.640625%2011.710938%206%2016%206C19.242188%206%2022.132813%207.589844%2023.9375%2010L20%2010L20%2012L27%2012L27%205L25%205L25%208.09375C22.808594%205.582031%2019.570313%204%2016%204%20Z%20M%2025.28125%2019.625C23.824219%2023.359375%2020.289063%2026%2016%2026C12.722656%2026%209.84375%2024.386719%208.03125%2022L12%2022L12%2020L5%2020L5%2027L7%2027L7%2023.90625C9.1875%2026.386719%2012.394531%2028%2016%2028C21.113281%2028%2025.382813%2024.839844%2027.125%2020.375Z'%20fill='%23313131'%20/%3e%3c/svg%3e",lj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M6%200C4.34375%200%203%201.34375%203%203L3%2023C3%2024.65625%204.34375%2026%206%2026L20%2026C21.65625%2026%2023%2024.65625%2023%2023L23%2017.8125L21%2019.5625L21%2023C21%2023.550781%2020.550781%2024%2020%2024L6%2024C5.449219%2024%205%2023.550781%205%2023L5%203C5%202.449219%205.449219%202%206%202L20%202C20.550781%202%2021%202.449219%2021%203L21%206.4375L23%208.1875L23%203C23%201.34375%2021.65625%200%2020%200%20Z%20M%2016.5%206.46875C16.25%206.542969%2016%206.796875%2016%207.46875L16%2010L10%2010C9.449219%2010%209%2010.449219%209%2011L9%2015C9%2015.550781%209.449219%2016%2010%2016L16%2016L16%2018.5C16%2019.78125%2017%2019.5%2017%2019.5L24.5%2013L17%206.5C17%206.5%2016.75%206.394531%2016.5%206.46875Z'%20fill='%23313131'%20/%3e%3c/svg%3e",cj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M12.5%204C10.032499%204%208%206.0324991%208%208.5L8%2039.5C8%2041.967501%2010.032499%2044%2012.5%2044L35.5%2044C37.967501%2044%2040%2041.967501%2040%2039.5L40%2018.5%20A%201.50015%201.50015%200%200%200%2039.560547%2017.439453L39.544922%2017.423828L26.560547%204.4394531%20A%201.50015%201.50015%200%200%200%2025.5%204L12.5%204%20z%20M%2012.5%207L24%207L24%2015.5C24%2017.967501%2026.032499%2020%2028.5%2020L37%2020L37%2039.5C37%2040.346499%2036.346499%2041%2035.5%2041L12.5%2041C11.653501%2041%2011%2040.346499%2011%2039.5L11%208.5C11%207.6535009%2011.653501%207%2012.5%207%20z%20M%2027%209.1210938L34.878906%2017L28.5%2017C27.653501%2017%2027%2016.346499%2027%2015.5L27%209.1210938%20z%20M%2019%2022.998047C18.391%2022.998047%2017.841328%2023.365687%2017.611328%2023.929688L13.111328%2034.929688C12.797328%2035.696688%2013.164641%2036.573719%2013.931641%2036.886719C14.698641%2037.202719%2015.575672%2036.834406%2015.888672%2036.066406L16.326172%2034.998047L21.673828%2034.998047L22.111328%2036.066406C22.349328%2036.647406%2022.909%2036.998047%2023.5%2036.998047C23.689%2036.998047%2023.881359%2036.963719%2024.068359%2036.886719C24.834359%2036.573719%2025.202672%2035.696688%2024.888672%2034.929688L20.388672%2023.929688C20.158672%2023.365688%2019.609%2022.998047%2019%2022.998047%20z%20M%2030.476562%2023.978516%20A%201.50015%201.50015%200%200%200%2029%2025.5L29%2027L27.5%2027%20A%201.50015%201.50015%200%201%200%2027.5%2030L29%2030L29%2031.5%20A%201.50015%201.50015%200%201%200%2032%2031.5L32%2030L33.5%2030%20A%201.50015%201.50015%200%201%200%2033.5%2027L32%2027L32%2025.5%20A%201.50015%201.50015%200%200%200%2030.476562%2023.978516%20z%20M%2019%2028.460938L20.447266%2031.998047L17.552734%2031.998047L19%2028.460938%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",uj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M26.886719%203.0234375C26.437415%203.0492805%2025.990861%203.1581308%2025.574219%203.3847656C24.740935%203.8380352%2024.23601%204.6408958%2023.933594%205.484375%20A%201.50015%201.50015%200%200%200%2023.931641%205.4863281C23.856851%205.6965582%2023.895729%205.5996163%2023.880859%205.6503906C23.865989%205.7011646%2023.846326%205.768146%2023.822266%205.8515625C23.774136%206.0183955%2023.709041%206.2482122%2023.630859%206.5214844C23.474496%207.0680287%2023.269926%207.787416%2023.066406%208.5019531C22.659368%209.9310274%2022.255859%2011.345703%2022.255859%2011.345703%20A%201.50015%201.50015%200%200%200%2022.255859%2011.349609C22.141471%2011.755416%2022.046189%2011.970637%2022.005859%2012.033203%20A%201.50015%201.50015%200%200%200%2022.003906%2012.037109C20.528039%2014.338252%2018.938262%2016.655605%2017.394531%2019L10.5%2019C8.0324991%2019%206%2021.032499%206%2023.5L6%2039.5C6%2041.967501%208.0324991%2044%2010.5%2044L14.5%2044C15.757335%2044%2016.892811%2043.465209%2017.712891%2042.621094C20.020827%2043.120886%2022.596814%2043.674636%2024.695312%2044.117188C25.795053%2044.349109%2026.761579%2044.550006%2027.490234%2044.697266C28.21796%2044.844337%2028.488997%2044.922925%2028.96875%2044.96875C29.276882%2044.99849%2029.582707%2045.013672%2029.884766%2045.013672C34.166546%2045.013672%2037.951276%2042.101357%2039.046875%2037.871094C39.884581%2034.63323%2041.600002%2027.921603%2041.607422%2027.892578C41.746989%2027.37849%2041.941717%2026.687301%2041.986328%2025.859375%20A%201.50015%201.50015%200%200%200%2041.986328%2025.857422C42.082078%2024.068723%2041.461123%2022.328247%2040.242188%2021.039062%20A%201.50015%201.50015%200%200%200%2040.242188%2021.037109C39.003328%2019.728222%2037.266509%2019.003801%2035.439453%2019%20A%201.50015%201.50015%200%200%200%2035.435547%2019L31.466797%2019C31.818422%2017.742495%2032.16537%2016.527227%2032.417969%2015.541016%20A%201.50015%201.50015%200%200%200%2032.417969%2015.539062C33.021899%2013.169223%2033.163006%2011.052777%2032.796875%209.0214844%20A%201.50015%201.50015%200%200%200%2032.796875%209.0195312C32.612962%208.0064557%2032.266053%206.5283049%2031.216797%205.1679688C30.454227%204.1798868%2029.406708%203.4604803%2028.21875%203.1621094%20A%201.50015%201.50015%200%200%200%2028.214844%203.1621094C27.787706%203.0556602%2027.336023%202.9975943%2026.886719%203.0234375%20z%20M%2027.083984%206.0097656C27.153229%206.0089389%2027.277677%206.0200946%2027.488281%206.0722656C28.020323%206.2058951%2028.434367%206.4720819%2028.841797%207C29.43854%207.7736637%2029.69161%208.705806%2029.845703%209.5546875C30.125167%2011.106826%2030.039576%2012.7275%2029.511719%2014.798828C29.151131%2016.206389%2028.056641%2020.09375%2028.056641%2020.09375%20A%201.50015%201.50015%200%200%200%2029.5%2022L35.435547%2022C36.491612%2022.0027%2037.39379%2022.393048%2038.0625%2023.099609C38.717564%2023.792425%2039.04448%2024.683965%2038.990234%2025.697266C38.966844%2026.13134%2038.851324%2026.59751%2038.712891%2027.107422%20A%201.50015%201.50015%200%200%200%2038.707031%2027.128906C38.707031%2027.128906%2036.979062%2033.886003%2036.142578%2037.119141C35.380177%2040.062877%2032.818985%2042.013672%2029.884766%2042.013672C29.676824%2042.013672%2029.467681%2042.002682%2029.257812%2041.982422%20A%201.50015%201.50015%200%200%200%2029.255859%2041.982422C29.484761%2042.004222%2028.797548%2041.902023%2028.083984%2041.757812C27.370421%2041.613604%2026.409589%2041.412593%2025.314453%2041.181641C23.401221%2040.778161%2021.082509%2040.278628%2018.935547%2039.814453C18.94375%2039.705129%2019%2039.611242%2019%2039.5L19%2022.011719C20.770748%2019.246238%2022.705347%2016.498683%2024.527344%2013.658203L24.529297%2013.65625C24.857875%2013.14567%2025.005183%2012.649533%2025.142578%2012.162109C25.143578%2012.158509%2025.544977%2010.748377%2025.951172%209.3222656C26.154528%208.6083028%2026.357942%207.891987%2026.513672%207.3476562C26.591532%207.0754909%2026.658135%206.8463076%2026.705078%206.6835938C26.728548%206.6022368%2026.746996%206.5377315%2026.759766%206.4941406C26.916091%206.0606215%2027.022027%206.0117998%2027.007812%206.0195312C27.000698%206.0234013%2027.014739%206.0105924%2027.083984%206.0097656%20z%20M%2010.5%2022L16%2022L16%2039.5C16%2040.346499%2015.346499%2041%2014.5%2041L10.5%2041C9.6535009%2041%209%2040.346499%209%2039.5L9%2023.5C9%2022.653501%209.6535009%2022%2010.5%2022%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",dj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M11.677734%202.1816406C11.255625%202.2202656%2010.879797%202.5279063%2010.779297%202.9726562L10.224609%205.4179688L7.5136719%208.4296875C7.1826719%208.7966875%207%209.2735781%207%209.7675781L7%2019C7%2020.105%207.895%2021%209%2021L17.03125%2021C17.77225%2021%2018.443141%2020.563719%2018.744141%2019.886719L21.746094%2013.130859C21.913094%2012.756859%2022%2012.351406%2022%2011.941406L22%2011C22%209.9%2021.1%209%2020%209L13%209C13%209%2014%206.6292813%2014%204.8632812C14%203.2502813%2012.962422%202.5443281%2012.107422%202.2363281C11.964672%202.1845781%2011.818437%202.1687656%2011.677734%202.1816406%20z%20M%203.5%209C2.672%209%202%209.672%202%2010.5L2%2019.5C2%2020.328%202.672%2021%203.5%2021C4.328%2021%205%2020.328%205%2019.5L5%2010.5C5%209.672%204.328%209%203.5%209%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",hj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%207C6.9280619%207%204%209.9280619%204%2013.5L4%2030.5C4%2034.071938%206.9280619%2037%2010.5%2037L12%2037L12%2042.5C12%2044.46599%2014.427297%2045.67893%2016%2044.5L26%2037L37.5%2037C41.071938%2037%2044%2034.071938%2044%2030.5L44%2013.5C44%209.9280619%2041.071938%207%2037.5%207L10.5%207%20z%20M%2010.5%2010L37.5%2010C39.450062%2010%2041%2011.549938%2041%2013.5L41%2030.5C41%2032.450062%2039.450062%2034%2037.5%2034L25.5%2034%20A%201.50015%201.50015%200%200%200%2024.599609%2034.300781L15%2041.5L15%2035.5%20A%201.50015%201.50015%200%200%200%2013.5%2034L10.5%2034C8.5499381%2034%207%2032.450062%207%2030.5L7%2013.5C7%2011.549938%208.5499381%2010%2010.5%2010%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",fj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M26%203%20A%201%201%200%200%200%2025.716797%203.0429688%20A%201%201%200%200%200%2025.636719%203.0683594L3.6503906%2010.060547L3.6503906%2010.064453%20A%201%201%200%200%200%203%2011%20A%201%201%200%200%200%203.4824219%2011.853516L10.164062%2017.154297L23.373047%206.6269531L12.845703%2019.835938L18.142578%2026.513672%20A%201%201%200%200%200%2019%2027%20A%201%201%200%200%200%2019.935547%2026.349609L19.939453%2026.349609L26.9375%204.34375%20A%201%201%200%200%200%2026.957031%204.2832031%20A%201%201%200%200%200%2027%204%20A%201%201%200%200%200%2026%203%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",pj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M6%202C4.897%202%204%202.897%204%204L4%2020C4%2021.103%204.897%2022%206%2022L18%2022C19.103%2022%2020%2021.103%2020%2020L20%2015.25L18.001953%2016.748047L18.001953%2020L6%2020L6%204L18%204L18%207.25L20%208.75L20%204C20%202.897%2019.103%202%2018%202L6%202%20z%20M%2016%208.25L16%2011L11%2011L11%2013L16%2013L16%2015.75L21%2012L16%208.25%20z'%20fill='%23313131'%20/%3e%3c/svg%3e",mj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%203%20A%204%204%200%200%200%208%207%20A%204%204%200%200%200%2012%2011%20A%204%204%200%200%200%2016%207%20A%204%204%200%200%200%2012%203%20z%20M%2012%2014C8.996%2014%203%2015.508%203%2018.5L3%2020C3%2020.552%203.448%2021%204%2021L20%2021C20.552%2021%2021%2020.552%2021%2020L21%2018.5C21%2015.508%2015.004%2014%2012%2014%20z'%20/%3e%3c/svg%3e",gj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M17,18H4c-1.105,0-2-0.895-2-2V6c0-1.105,0.895-2,2-2h13c1.105,0,2,0.895,2,2v10C19,17.105,18.105,18,17,18z'%20opacity='.35'%20/%3e%3ccircle%20cx='14.5'%20cy='7.5'%20r='1.5'%20/%3e%3cpath%20d='M4,15.125C4,15.604,4.364,16,4.812,16h11.375C16.636,16,17,15.611,17,15.125C17,13.932,15.829,12,14.969,12%20c-0.896,0-1.383,1.001-2.969,1.001C10.015,13.001,8.875,9,7.25,9S4,12.817,4,15.125z'%20/%3e%3cpath%20d='M20,6h-1v10c0,1.105-0.895,2-2,2H5c0,1.105,0.895,2,2,2h13c1.105,0,2-0.895,2-2V8C22,6.895,21.105,6,20,6z'%20/%3e%3c/svg%3e",vj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M14,15.5V8h3l-5-5L7,8h3v7.5c0,0.3,0.2,0.5,0.5,0.5h3C13.8,16,14,15.8,14,15.5z'%20opacity='.3'%20/%3e%3cpath%20d='M2%2020H22V22H2zM13.5%2017h-3C9.7%2017%209%2016.3%209%2015.5V9H4.6L12%201.6%2019.4%209H15v6.5C15%2016.3%2014.3%2017%2013.5%2017zM11%2015h2V7h1.6L12%204.4%209.4%207H11V15z'%20/%3e%3c/svg%3e",yj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M14.984375%200.98632812%20A%201.0001%201.0001%200%200%200%2014%202L14%205%20A%201.0001%201.0001%200%201%200%2016%205L16%202%20A%201.0001%201.0001%200%200%200%2014.984375%200.98632812%20z%20M%205.796875%204.7988281%20A%201.0001%201.0001%200%200%200%205.1015625%206.515625L7.2226562%208.6367188%20A%201.0001%201.0001%200%201%200%208.6367188%207.2226562L6.515625%205.1015625%20A%201.0001%201.0001%200%200%200%205.796875%204.7988281%20z%20M%2024.171875%204.7988281%20A%201.0001%201.0001%200%200%200%2023.484375%205.1015625L21.363281%207.2226562%20A%201.0001%201.0001%200%201%200%2022.777344%208.6367188L24.898438%206.515625%20A%201.0001%201.0001%200%200%200%2024.171875%204.7988281%20z%20M%2015%208%20A%207%207%200%200%200%208%2015%20A%207%207%200%200%200%2015%2022%20A%207%207%200%200%200%2022%2015%20A%207%207%200%200%200%2015%208%20z%20M%202%2014%20A%201.0001%201.0001%200%201%200%202%2016L5%2016%20A%201.0001%201.0001%200%201%200%205%2014L2%2014%20z%20M%2025%2014%20A%201.0001%201.0001%200%201%200%2025%2016L28%2016%20A%201.0001%201.0001%200%201%200%2028%2014L25%2014%20z%20M%207.9101562%2021.060547%20A%201.0001%201.0001%200%200%200%207.2226562%2021.363281L5.1015625%2023.484375%20A%201.0001%201.0001%200%201%200%206.515625%2024.898438L8.6367188%2022.777344%20A%201.0001%201.0001%200%200%200%207.9101562%2021.060547%20z%20M%2022.060547%2021.060547%20A%201.0001%201.0001%200%200%200%2021.363281%2022.777344L23.484375%2024.898438%20A%201.0001%201.0001%200%201%200%2024.898438%2023.484375L22.777344%2021.363281%20A%201.0001%201.0001%200%200%200%2022.060547%2021.060547%20z%20M%2014.984375%2023.986328%20A%201.0001%201.0001%200%200%200%2014%2025L14%2028%20A%201.0001%201.0001%200%201%200%2016%2028L16%2025%20A%201.0001%201.0001%200%200%200%2014.984375%2023.986328%20z'%20/%3e%3c/svg%3e",_j="/assets/dark-i8sdGySW.svg",wj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M12%2018.071L6.429%2012.5%204.929%2014%2012%2021.071%2019.071%2014%2017.571%2012.5z'%20/%3e%3cpath%20d='M4%2010H20V12H4z'%20transform='rotate(-90%2012%2011)'%20/%3e%3c/svg%3e",xj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M4,19V5c0-1.657,1.343-3,3-3h7l6,6v11c0,1.657-1.343,3-3,3H7C5.343,22,4,20.657,4,19z'%20opacity='.35'%20/%3e%3cpath%20d='M14,6V2l6,6h-4C14.895,8,14,7.105,14,6z'%20/%3e%3c/svg%3e",Ej="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M23.277344%204.0175781C15.193866%204.3983176%209%2011.343391%209%2019.380859L9%2026.648438L6.3496094%2031.980469%20A%201.50015%201.50015%200%200%200%206.3359375%2032.009766C5.2696804%2034.277268%206.9957076%2037%209.5019531%2037L18%2037C18%2040.295865%2020.704135%2043%2024%2043C27.295865%2043%2030%2040.295865%2030%2037L38.496094%2037C41.002339%2037%2042.730582%2034.277829%2041.664062%2032.009766%20A%201.50015%201.50015%200%200%200%2041.650391%2031.980469L39%2026.648438L39%2019C39%2010.493798%2031.863289%203.6133643%2023.277344%204.0175781%20z%20M%2023.417969%207.0136719C30.338024%206.6878857%2036%2012.162202%2036%2019L36%2027%20A%201.50015%201.50015%200%200%200%2036.15625%2027.667969L38.949219%2033.289062C39.128826%2033.674017%2038.921017%2034%2038.496094%2034L9.5019531%2034C9.077027%2034%208.8709034%2033.674574%209.0507812%2033.289062C9.0507812%2033.289062%209.0507812%2033.287109%209.0507812%2033.287109L11.84375%2027.667969%20A%201.50015%201.50015%200%200%200%2012%2027L12%2019.380859C12%2012.880328%2016.979446%207.3169324%2023.417969%207.0136719%20z%20M%2021%2037L27%2037C27%2038.674135%2025.674135%2040%2024%2040C22.325865%2040%2021%2038.674135%2021%2037%20z'%20/%3e%3c/svg%3e",Ij="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M10.5%206C6.9280619%206%204%208.9280619%204%2012.5L4%2028.5L4%2034.535156C4%2036.486795%206.3899087%2037.705105%207.96875%2036.558594%20A%201.50015%201.50015%200%200%200%207.9707031%2036.558594L12.291016%2033.416016C13.114957%2036.061625%2015.594339%2038%2018.5%2038L31.011719%2038L40.029297%2044.558594%20A%201.50015%201.50015%200%200%200%2040.03125%2044.558594C41.610044%2045.705105%2044%2044.486795%2044%2042.535156L44%2036.5L44%2020.5C44%2016.928062%2041.071938%2014%2037.5%2014L36%2014L36%2012.5C36%208.9280619%2033.071938%206%2029.5%206L10.5%206%20z%20M%2010.5%209L29.5%209C31.450062%209%2033%2010.549938%2033%2012.5L33%2023.5C33%2025.450062%2031.450062%2027%2029.5%2027L16.5%2027%20A%201.50015%201.50015%200%200%200%2015.617188%2027.287109L7%2033.554688L7%2028.5L7%2012.5C7%2010.549938%208.5499381%209%2010.5%209%20z%20M%2036%2017L37.5%2017C39.450062%2017%2041%2018.549938%2041%2020.5L41%2036.5L41%2041.554688L32.382812%2035.287109%20A%201.50015%201.50015%200%200%200%2031.5%2035L18.5%2035C16.549938%2035%2015%2033.450062%2015%2031.5L15%2031.445312L16.988281%2030L29.5%2030C33.071938%2030%2036%2027.071938%2036%2023.5L36%2017%20z'%20/%3e%3c/svg%3e",bj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2026%2026'%20width='208'%20height='208'%3e%3cpath%20d='M5%201L10.3125%2011L4%2011L1%207L0%207L1%2013L0%2019L1%2019L4%2015L10.3125%2015L5%2025L7.1875%2025L15.90625%2015L24%2015C25.101563%2015%2026%2014.101563%2026%2013C26%2011.898438%2025.101563%2011%2024%2011L15.90625%2011L7.1875%201Z'%20/%3e%3c/svg%3e",Cj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20width='512'%20height='512'%3e%3cpath%20d='M5.40625%205.40625C-0.441406%2011.253906%20-0.441406%2020.746094%205.40625%2026.59375L6.8125%2025.1875C1.726563%2020.101563%201.726563%2011.898438%206.8125%206.8125%20Z%20M%2026.59375%205.40625L25.1875%206.8125C30.273438%2011.898438%2030.273438%2020.101563%2025.1875%2025.1875L26.59375%2026.59375C32.441406%2020.746094%2032.441406%2011.253906%2026.59375%205.40625%20Z%20M%209.625%209.625C6.117188%2013.132813%206.117188%2018.867188%209.625%2022.375L11.0625%2020.9375C8.320313%2018.195313%208.320313%2013.804688%2011.0625%2011.0625%20Z%20M%2022.375%209.625L20.9375%2011.0625C23.679688%2013.804688%2023.679688%2018.195313%2020.9375%2020.9375L22.375%2022.375C25.882813%2018.867188%2025.882813%2013.132813%2022.375%209.625%20Z%20M%2016%2013C14.355469%2013%2013%2014.355469%2013%2016C13%2017.644531%2014.355469%2019%2016%2019C17.644531%2019%2019%2017.644531%2019%2016C19%2014.355469%2017.644531%2013%2016%2013%20Z%20M%2016%2015C16.5625%2015%2017%2015.4375%2017%2016C17%2016.5625%2016.5625%2017%2016%2017C15.4375%2017%2015%2016.5625%2015%2016C15%2015.4375%2015.4375%2015%2016%2015Z'%20/%3e%3c/svg%3e",Tj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='240'%20height='240'%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWa'%20x1='21.302'%20x2='27.254'%20y1='21.302'%20y2='27.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='24'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWa)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWb'%20x1='21.302'%20x2='27.254'%20y1='7.302'%20y2='13.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='10'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWb)'%20/%3e%3clinearGradient%20id='SO5UwR~UHtGc~sBTMNyFWc'%20x1='21.302'%20x2='27.254'%20y1='35.302'%20y2='41.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2332bdef'%20/%3e%3cstop%20offset='1'%20stop-color='%231ea2e4'%20/%3e%3c/linearGradient%3e%3ccircle%20cx='24'%20cy='38'%20r='4'%20fill='url(%23SO5UwR~UHtGc~sBTMNyFWc)'%20/%3e%3c/svg%3e",Sj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M10%202L9%203L4%203L4%205L20%205L20%203L15%203L14%202L10%202%20z%20M%205%207L5%2022L14.220703%2022L16.230469%2020L14%2020L14%209L16%209L16%2015.978516L16.464844%2015.515625L17.878906%2014.101562L19%2015.222656L19%207L5%207%20z%20M%208%209L10%209L10%2020L8%2020L8%209%20z%20M%2017.878906%2016.929688L16.464844%2018.34375L18.585938%2020.464844L16.464844%2022.585938L17.878906%2024L20%2021.878906L22.121094%2024L23.535156%2022.585938L21.414062%2020.464844L23.535156%2018.34375L22.121094%2016.929688L20%2019.050781L17.878906%2016.929688%20z'%20/%3e%3c/svg%3e",Rj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M20.011,3.989c-1.318-1.318-3.455-1.318-4.773,0L4.208,14.998c-0.302,0.302-0.503,0.689-0.576,1.11l-0.615,3.567c-0.133,0.772,0.538,1.442,1.31,1.308l3.525-0.613c0.418-0.073,0.804-0.273,1.104-0.573L20.011,8.761C21.33,7.443,21.33,5.307,20.011,3.989z'%20opacity='.35'%20/%3e%3cpolygon%20points='13.075,6.144%2017.848,10.917%2019.832,8.94%2015.059,4.167'%20/%3e%3cpath%20d='M3.392,17.5l-0.375,2.175c-0.133,0.772,0.538,1.442,1.31,1.308l2.171-0.378L3.392,17.5z'%20/%3e%3c/svg%3e",kj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='384'%20height='384'%3e%3cpath%20d='M16.414,7.586c-0.781-0.781-2.047-0.781-2.828,0l-6,6c-0.781,0.781-0.781,2.047,0,2.828c0.781,0.781,2.047,0.781,2.828,0l6-6C17.195,9.633,17.195,8.367,16.414,7.586z'%20/%3e%3cpath%20d='M20.389,3.611c-2.148-2.148-5.63-2.148-7.778,0c-0.171,0.171-0.829,0.829-1,1c-1.548,1.548-1.963,3.786-1.279,5.722%20c-1.936-0.684-4.173-0.27-5.721,1.278c-0.171,0.171-0.829,0.829-1,1c-2.148,2.148-2.148,5.63,0,7.778%20c2.148,2.148,5.63,2.148,7.778,0c0.171-0.171,0.829-0.829,1-1c1.548-1.548,1.963-3.786,1.279-5.722%20c1.936,0.684,4.173,0.27,5.721-1.278c0.171-0.171,0.829-0.829,1-1C22.537,9.241,22.537,5.759,20.389,3.611z'%20opacity='.35'%20/%3e%3c/svg%3e",Aj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20/%3e%3c/svg%3e",Pj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2030%2030'%20width='480'%20height='480'%3e%3cpath%20d='M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z%20M19.707,13.707%20C19.511,13.903,19.255,14,18.999,14H16v7c0,0.552-0.447,1-1,1s-1-0.448-1-1v-7h-2.999c-0.256,0-0.512-0.097-0.708-0.293%20c-0.391-0.391-0.391-1.023,0-1.414l4-4C14.488,8.098,14.744,8,15,8s0.512,0.098,0.707,0.293l4,4%20C20.098,12.684,20.098,13.316,19.707,13.707z'%20fill='%238D8D8D'%20/%3e%3c/svg%3e",Nj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='96'%20height='96'%3e%3cpath%20d='M19.999,3H4.01c-1.1,0-2.001,0.9-2.001,2L2,16.999C2,18.104,2.895,19,4,19h1.499c0.276,0,0.5,0.224,0.5,0.5v2.086%20c0,0.891,1.077,1.337,1.707,0.707l3-3C10.894,19.105,11.148,19,11.413,19h8.586c1.1,0,2-0.9,2-2V5C21.999,3.9,21.099,3,19.999,3z%20M15.903,15c-0.492,0-0.883-0.363-0.988-0.843C14.472,12.147,12.455,12.006,12,12V14c0,0.404-0.243,0.769-0.617,0.924%20C11.259,14.975,11.129,15,11,15c-0.26,0-0.516-0.102-0.707-0.293l-3-3c-0.391-0.391-0.391-1.023,0-1.414l3-3%20c0.286-0.286,0.715-0.371,1.09-0.217C11.757,7.231,12,7.595,12,8v2v0c1.535,0,4.284,0.823,4.883,3.773%20C17.011,14.403,16.545,15,15.903,15z'%20fill='%23050505'%20/%3e%3c/svg%3e",Lj="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='-9.31019674359186%20-9.31019674359186%20200.60019674359185%20200.59919674359185'%3e%3clinearGradient%20id='a'%20x1='47.061%25'%20x2='47.061%25'%20y1='-3.394%25'%20y2='96.606%25'%3e%3cstop%20offset='0'%20stop-color='%2337aeff'/%3e%3cstop%20offset='.05'%20stop-color='%2337aeff'/%3e%3cstop%20offset='1'%20stop-color='%231861f7'/%3e%3c/linearGradient%3e%3cg%20fill='none'%3e%3cpath%20d='M0%2095.645c0%2052.823%2042.822%2095.644%2095.645%2095.644%2052.823%200%2095.644-42.821%2095.644-95.644C191.29%2042.822%20148.468%200%2095.645%200A95.617%2095.617%200%200%200%200%2095.645'%20fill='url(%23a)'/%3e%3cpath%20d='M151.421%2099.986a9.095%209.095%200%200%200-3.901-8.737%2018.08%2018.08%200%200%200%203.6-8.628c0-8.463-7.941-10.99-20.168-10.99-7.27.08-14.51.936-21.597%202.555.66-3.627%205.496-14.15%205.496-17.667%200-7.31-1.731-16.486-8.436-19.976a11.925%2011.925%200%200%200-6.154-1.593c-2.68-.126-5.303.8-7.309%202.583a6.32%206.32%200%200%200-.742%203.681l1.21%2013.738c0%2010.99-16.899%2024.729-16.899%2040.528v33.136c0%205.88%207.886%2010.056%2019.234%2010.056h31.46c8.243%200%2010.084-1.428%2012.2-5.275a7.583%207.583%200%200%200-.166-8.023%2012.364%2012.364%200%200%200%207.749-8.93c.487-2.412.118-4.92-1.044-7.089a9.48%209.48%200%200%200%205.495-9.369M48.743%2080.945h9.836a8.243%208.243%200%200%201%208.243%208.243V135.1a8.243%208.243%200%200%201-8.243%208.242h-9.836a8.243%208.243%200%200%201-8.243-8.242V89.298a8.243%208.243%200%200%201%208.243-8.243'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",Mj="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3e%3clinearGradient%20id='a'%20x1='50%25'%20x2='50%25'%20y1='0%25'%20y2='100%25'%3e%3cstop%20offset='0'%20stop-color='%23f65e7a'/%3e%3cstop%20offset='.051'%20stop-color='%23f65e7a'/%3e%3cstop%20offset='.1'%20stop-color='%23f65d79'/%3e%3cstop%20offset='.146'%20stop-color='%23f55c78'/%3e%3cstop%20offset='.191'%20stop-color='%23f45b76'/%3e%3cstop%20offset='.233'%20stop-color='%23f35974'/%3e%3cstop%20offset='.274'%20stop-color='%23f25771'/%3e%3cstop%20offset='.314'%20stop-color='%23f1546f'/%3e%3cstop%20offset='.353'%20stop-color='%23f0526b'/%3e%3cstop%20offset='.39'%20stop-color='%23ee4f68'/%3e%3cstop%20offset='.427'%20stop-color='%23ed4b64'/%3e%3cstop%20offset='.464'%20stop-color='%23eb4860'/%3e%3cstop%20offset='.5'%20stop-color='%23e9445c'/%3e%3cstop%20offset='.536'%20stop-color='%23e84057'/%3e%3cstop%20offset='.573'%20stop-color='%23e63c53'/%3e%3cstop%20offset='.61'%20stop-color='%23e5374e'/%3e%3cstop%20offset='.647'%20stop-color='%23e33349'/%3e%3cstop%20offset='.686'%20stop-color='%23e22e44'/%3e%3cstop%20offset='.726'%20stop-color='%23e02940'/%3e%3cstop%20offset='.767'%20stop-color='%23df253b'/%3e%3cstop%20offset='.809'%20stop-color='%23de2037'/%3e%3cstop%20offset='.854'%20stop-color='%23dd1c33'/%3e%3cstop%20offset='.9'%20stop-color='%23dd1830'/%3e%3cstop%20offset='.949'%20stop-color='%23dc152e'/%3e%3cstop%20offset='1'%20stop-color='%23dc142d'/%3e%3c/linearGradient%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='96'%20cy='96'%20fill='url(%23a)'%20r='96'/%3e%3cpath%20d='M95.926%2070.264c1.666-5.311%205.057-9.77%2010.171-13.374%208.485-5.982%2029.714-7.652%2040.268%208.14%2010.555%2015.791%205.613%2037.04-10.554%2053.746-10.555%2010.905-23.674%2021.075-39.358%2030.508a2%202%200%200%201-2.018.026c-13.021-7.386-26.062-17.564-39.12-30.534-20.1-19.962-21.546-37.989-10.773-53.747%2010.772-15.757%2031.73-14.12%2040.215-8.14%205.115%203.606%208.52%208.065%2010.215%2013.377a.5.5%200%200%200%20.954-.002z'%20fill='%23fff'/%3e%3c/g%3e%3c/svg%3e",Oj="/assets/facebook-reaction-sad-fp-d8NwB.svg",Dj="/assets/facebook-reaction-wow-4aGHxQqX.svg",$j="data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201500%201500'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:url(%23SVGID_1_)}.st1{fill:%23262c38}.st2{fill:none;stroke:%23262c38;stroke-width:60;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}%3c/style%3e%3clinearGradient%20id='SVGID_1_'%20gradientUnits='userSpaceOnUse'%20x1='750'%20y1='1501.519'%20x2='750'%20y2='4.759'%20gradientTransform='matrix(1%200%200%20-1%200%201499.72)'%3e%3cstop%20offset='.098'%20stop-color='%23f05766'/%3e%3cstop%20offset='.25'%20stop-color='%23f3766a'/%3e%3cstop%20offset='.826'%20stop-color='%23ffda6b'/%3e%3c/linearGradient%3e%3ccircle%20class='st0'%20cx='750'%20cy='750'%20r='750'/%3e%3ccircle%20class='st1'%20cx='416.7'%20cy='947'%20r='73.7'/%3e%3ccircle%20class='st1'%20cx='1082.7'%20cy='947'%20r='73.7'/%3e%3cpath%20class='st2'%20d='M205.9%20805.1s120.5%2093.7%20423.4%2093.7M1291.9%20805.1s-120.5%2093.7-423.4%2093.7'/%3e%3cpath%20class='st1'%20d='M987.6%201211.4c0%2041.7-106.7%2043.3-238.4%2043.3s-238.4-1.7-238.4-43.3c0-36.8%20109.9-54.6%20241.5-54.6s235.3%2017.7%20235.3%2054.6z'/%3e%3c/svg%3e",jj="data:image/svg+xml,%3csvg%20height='2500'%20width='2500'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20192%20192'%3e%3cradialGradient%20id='a'%20cy='0%25'%20gradientTransform='matrix(0%201%20-1.26314%200%20.5%20-.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%23fce16b'/%3e%3cstop%20offset='.11'%20stop-color='%23fce16b'/%3e%3cstop%20offset='.205'%20stop-color='%23fce06a'/%3e%3cstop%20offset='.288'%20stop-color='%23fcdf69'/%3e%3cstop%20offset='.36'%20stop-color='%23fcdd68'/%3e%3cstop%20offset='.424'%20stop-color='%23fbda66'/%3e%3cstop%20offset='.483'%20stop-color='%23fbd764'/%3e%3cstop%20offset='.537'%20stop-color='%23fbd361'/%3e%3cstop%20offset='.591'%20stop-color='%23facf5e'/%3e%3cstop%20offset='.644'%20stop-color='%23fac959'/%3e%3cstop%20offset='.701'%20stop-color='%23f9c254'/%3e%3cstop%20offset='.763'%20stop-color='%23f8bb4e'/%3e%3cstop%20offset='.832'%20stop-color='%23f8b147'/%3e%3cstop%20offset='.91'%20stop-color='%23f7a73d'/%3e%3cstop%20offset='1'%20stop-color='%23f69a31'/%3e%3c/radialGradient%3e%3cradialGradient%20id='b'%20cy='100%25'%20gradientTransform='matrix(0%20-1%201.136%200%20-.636%201.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%2383370e'/%3e%3cstop%20offset='.226'%20stop-color='%2383370e'/%3e%3cstop%20offset='1'%20stop-color='%23482213'/%3e%3c/radialGradient%3e%3cradialGradient%20id='c'%20cy='0%25'%20gradientTransform='matrix(0%201%20-.7355%200%20.5%20-.5)'%20r='100%25'%3e%3cstop%20offset='0'%20stop-color='%23f75b73'/%3e%3cstop%20offset='1'%20stop-color='%23c51f2d'/%3e%3c/radialGradient%3e%3cfilter%20id='d'%20height='116.4%25'%20width='112.8%25'%20x='-6.4%25'%20y='-8.2%25'%3e%3cfeGaussianBlur%20in='SourceGraphic'%20stdDeviation='1'/%3e%3c/filter%3e%3cfilter%20id='e'%20height='116.4%25'%20width='112.8%25'%20x='-6.4%25'%20y='-8.2%25'%3e%3cfeGaussianBlur%20in='SourceGraphic'%20stdDeviation='1'/%3e%3c/filter%3e%3clinearGradient%20id='f'%20x1='85.463%25'%20y1='19.628%25'%20y2='80.372%25'%3e%3cstop%20offset='0'%20stop-color='%23222845'/%3e%3cstop%20offset='.086'%20stop-color='%23222845'/%3e%3cstop%20offset='.166'%20stop-color='%23232946'/%3e%3cstop%20offset='.239'%20stop-color='%23232b48'/%3e%3cstop%20offset='.308'%20stop-color='%23242d4a'/%3e%3cstop%20offset='.374'%20stop-color='%23262f4c'/%3e%3cstop%20offset='.438'%20stop-color='%2327314e'/%3e%3cstop%20offset='.5'%20stop-color='%23283350'/%3e%3cstop%20offset='.562'%20stop-color='%23293552'/%3e%3cstop%20offset='.626'%20stop-color='%232a3754'/%3e%3cstop%20offset='.692'%20stop-color='%232b3956'/%3e%3cstop%20offset='.761'%20stop-color='%232c3a58'/%3e%3cstop%20offset='.834'%20stop-color='%232c3b59'/%3e%3cstop%20offset='.914'%20stop-color='%232d3c5a'/%3e%3cstop%20offset='1'%20stop-color='%232d3c5a'/%3e%3c/linearGradient%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3ccircle%20cx='96'%20cy='96'%20fill='url(%23a)'%20r='96'/%3e%3cpath%20d='M96%20166c38.66%200%2064-31.34%2064-70%200-.66-7-13-64-13S32%2095.34%2032%2096c0%2038.66%2025.34%2070%2064%2070z'%20fill='url(%23b)'/%3e%3cpath%20d='M52.272%20148.44C60.808%20139.232%2077.192%20133%2096%20133s35.192%206.231%2043.728%2015.44C128.75%20159.368%20113.785%20166%2096%20166s-32.75-6.633-43.728-17.56z'%20fill='url(%23c)'/%3e%3cpath%20d='M143.907%2039.169c-8.207%202.389-27.788%2013.373-30.542%2017.594s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.582-8.024%2018.07-10.617%205.49-2.593%203.226-11.026-4.982-8.636z'%20fill='%23fff3c5'%20filter='url(%23d)'%20opacity='.449'/%3e%3cpath%20d='M64.797%2039.169C56.59%2041.558%2037.01%2052.542%2034.255%2056.763s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.583-8.024%2018.071-10.617%205.488-2.593%203.225-11.026-4.983-8.636z'%20fill='%23fff3c5'%20filter='url(%23e)'%20opacity='.449'%20transform='matrix(-1%200%200%201%20112.83%200)'/%3e%3cg%20fill='url(%23f)'%3e%3cpath%20d='M143.907%2035.169c-8.207%202.389-27.788%2013.373-30.542%2017.594s-.61%209.333%202.895%2010.056c9.102%200%2024.787%202.671%2035.424%207.776%205.94%203.015%209.499-5.293%205.66-7.776-5.597-4.395-14.439-7.194-26.525-8.397.991-3.035%2012.582-8.024%2018.07-10.617%205.49-2.593%203.226-11.026-4.982-8.636zM48.032%2035.169c8.208%202.389%2027.789%2013.373%2030.543%2017.594s.61%209.333-2.896%2010.056c-9.101%200-24.786%202.671-35.423%207.776-5.94%203.015-9.499-5.293-5.66-7.776%205.597-4.395%2014.438-7.194%2026.525-8.397-.992-3.035-12.583-8.024-18.071-10.617-5.489-2.593-3.225-11.026%204.982-8.636z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Fj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='144'%20height='144'%3e%3cpath%20d='M43.470703%208.9863281%20A%201.50015%201.50015%200%200%200%2042.439453%209.4394531L16.5%2035.378906L5.5605469%2024.439453%20A%201.50015%201.50015%200%201%200%203.4394531%2026.560547L15.439453%2038.560547%20A%201.50015%201.50015%200%200%200%2017.560547%2038.560547L44.560547%2011.560547%20A%201.50015%201.50015%200%200%200%2043.470703%208.9863281%20z'%20/%3e%3c/svg%3e",Vj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2050%2050'%20width='500'%20height='500'%3e%3cpath%20d='M13%2042C12.472656%2042%2011.960938%2041.789063%2011.585938%2041.414063L0.585938%2030.414063C-0.195313%2029.632813%20-0.195313%2028.367188%200.585938%2027.585938C1.367188%2026.804688%202.632813%2026.804688%203.414063%2027.585938L12.859375%2037.03125L35.460938%209.726563C36.164063%208.871094%2037.425781%208.753906%2038.273438%209.460938C39.125%2010.164063%2039.246094%2011.425781%2038.539063%2012.273438L14.539063%2041.273438C14.183594%2041.710938%2013.65625%2041.972656%2013.09375%2041.996094C13.0625%2042%2013.03125%2042%2013%2042%20Z%20M%2024.09375%2041.996094C24.65625%2041.972656%2025.179688%2041.710938%2025.539063%2041.273438L49.539063%2012.273438C50.246094%2011.425781%2050.125%2010.164063%2049.273438%209.460938C48.425781%208.753906%2047.164063%208.875%2046.460938%209.726563L23.859375%2037.03125L23.414063%2036.585938C22.632813%2035.804688%2021.367188%2035.804688%2020.585938%2036.585938C19.804688%2037.367188%2019.804688%2038.632813%2020.585938%2039.414063L22.585938%2041.414063C22.960938%2041.789063%2023.472656%2042%2024%2042C24.03125%2042%2024.0625%2042%2024.09375%2041.996094Z'%20/%3e%3c/svg%3e",Uj="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20width='480'%20height='480'%3e%3cpath%20d='M12%204C4%204%201%2012%201%2012C1%2012%204%2020%2012%2020C20%2020%2023%2012%2023%2012C23%2012%2020%204%2012%204%20z%20M%2012%207C14.761%207%2017%209.239%2017%2012C17%2014.761%2014.761%2017%2012%2017C9.239%2017%207%2014.761%207%2012C7%209.239%209.239%207%2012%207%20z%20M%2012%209%20A%203%203%200%200%200%209%2012%20A%203%203%200%200%200%2012%2015%20A%203%203%200%200%200%2015%2012%20A%203%203%200%200%200%2012%209%20z'%20/%3e%3c/svg%3e",Bj={sent:Fj,eye:Uj,seen:Vj,link:kj,reply:Nj,sendLetter:Aj,sendingLetter:Pj,deleteIcon:Sj,editPencil:Rj,moreOption:Tj,download:wj,offline:bj,online:Cj,chat:Ij,notification:Ej,file:xj,light:yj,dark:_j,upload:vj,trueIcon:S$,falseIcon:R$,error:k$,down:A$,back:P$,thumbUp:N$,redo:L$,next:M$,finish:O$,history:D$,trash:$$,add:j$,edit:F$,save:V$,up:U$,clipboard:B$,admin:z$,menu:W$,home:H$,result:q$,help:G$,about:K$,update:Q$,faq:Y$,plus:X$,minus:J$,share:Z$,review:ej,fullScreen:tj,search:nj,searchLeft:rj,close:ij,copy:sj,google:oj,refresh:aj,exit:lj,exam:cj,like:uj,liked:dj,comment:hj,send:fj,logout:pj,user:mj,image:gj,facebookAngry:$j,facebookHaha:jj,facebookLike:Lj,facebookLove:Mj,facebookSad:Oj,facebookWow:Dj};function Pe(t){return Bj[t]||null}const Vi=({data:t})=>{const{clickFn:e,text:n,image:r}=t,i=Pe(r),{theme:s}=y.useContext(Z),o=()=>{e&&e()};return f.jsxs("button",{onClick:o,className:`min-h-10 shadow-md hover:opacity-70 border  font-medium px-2 py-1 rounded-lg flex justify-center items-center gap-x-1 transition-all ${s==="light"?"bg-blue-200/60 border-gray-200":"bg-blue-200/60 text-white border-slate-500/70"}`,children:[r&&f.jsx("img",{className:" h-7",src:i}),n&&f.jsx("span",{children:n})]})},zj={black:"#000",white:"#fff"},kh=zj,Wj={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Gl=Wj,Hj={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Kl=Hj,qj={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ql=qj,Gj={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Yl=Gj,Kj={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Xl=Kj,Qj={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},nd=Qj,Yj={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Xj=Yj;function al(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const Jj=Object.freeze(Object.defineProperty({__proto__:null,default:al},Symbol.toStringTag,{value:"Module"})),y2="$$material";function D(){return D=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D.apply(null,arguments)}function de(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qk(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Zj=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,eF=qk(function(t){return Zj.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function tF(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function nF(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var rF=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(nF(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=tF(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Xn="-ms-",om="-moz-",lt="-webkit-",Gk="comm",k3="rule",A3="decl",iF="@import",Kk="@keyframes",sF="@layer",oF=Math.abs,_2=String.fromCharCode,aF=Object.assign;function lF(t,e){return $n(t,0)^45?(((e<<2^$n(t,0))<<2^$n(t,1))<<2^$n(t,2))<<2^$n(t,3):0}function Qk(t){return t.trim()}function cF(t,e){return(t=e.exec(t))?t[0]:t}function ct(t,e,n){return t.replace(e,n)}function Ky(t,e){return t.indexOf(e)}function $n(t,e){return t.charCodeAt(e)|0}function Ah(t,e,n){return t.slice(e,n)}function Zi(t){return t.length}function P3(t){return t.length}function w0(t,e){return e.push(t),t}function uF(t,e){return t.map(e).join("")}var w2=1,tu=1,Yk=0,Lr=0,un=0,Ru="";function x2(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:w2,column:tu,length:o,return:""}}function rd(t,e){return aF(x2("",null,null,"",null,null,0),t,{length:-t.length},e)}function dF(){return un}function hF(){return un=Lr>0?$n(Ru,--Lr):0,tu--,un===10&&(tu=1,w2--),un}function Hr(){return un=Lr<Yk?$n(Ru,Lr++):0,tu++,un===10&&(tu=1,w2++),un}function gs(){return $n(Ru,Lr)}function ip(){return Lr}function mf(t,e){return Ah(Ru,t,e)}function Ph(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Xk(t){return w2=tu=1,Yk=Zi(Ru=t),Lr=0,[]}function Jk(t){return Ru="",t}function sp(t){return Qk(mf(Lr-1,Qy(t===91?t+2:t===40?t+1:t)))}function fF(t){for(;(un=gs())&&un<33;)Hr();return Ph(t)>2||Ph(un)>3?"":" "}function pF(t,e){for(;--e&&Hr()&&!(un<48||un>102||un>57&&un<65||un>70&&un<97););return mf(t,ip()+(e<6&&gs()==32&&Hr()==32))}function Qy(t){for(;Hr();)switch(un){case t:return Lr;case 34:case 39:t!==34&&t!==39&&Qy(un);break;case 40:t===41&&Qy(t);break;case 92:Hr();break}return Lr}function mF(t,e){for(;Hr()&&t+un!==57;)if(t+un===84&&gs()===47)break;return"/*"+mf(e,Lr-1)+"*"+_2(t===47?t:Hr())}function gF(t){for(;!Ph(gs());)Hr();return mf(t,Lr)}function vF(t){return Jk(op("",null,null,null,[""],t=Xk(t),0,[0],t))}function op(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,m=0,v=1,x=1,g=1,w=0,_="",E=i,S=s,I=r,C=_;x;)switch(m=w,w=Hr()){case 40:if(m!=108&&$n(C,d-1)==58){Ky(C+=ct(sp(w),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:C+=sp(w);break;case 9:case 10:case 13:case 32:C+=fF(m);break;case 92:C+=pF(ip()-1,7);continue;case 47:switch(gs()){case 42:case 47:w0(yF(mF(Hr(),ip()),e,n),l);break;default:C+="/"}break;case 123*v:a[c++]=Zi(C)*g;case 125*v:case 59:case 0:switch(w){case 0:case 125:x=0;case 59+u:g==-1&&(C=ct(C,/\f/g,"")),p>0&&Zi(C)-d&&w0(p>32?zI(C+";",r,n,d-1):zI(ct(C," ","")+";",r,n,d-2),l);break;case 59:C+=";";default:if(w0(I=BI(C,e,n,c,u,i,a,_,E=[],S=[],d),s),w===123)if(u===0)op(C,e,I,I,E,s,d,a,S);else switch(h===99&&$n(C,3)===110?100:h){case 100:case 108:case 109:case 115:op(t,I,I,r&&w0(BI(t,I,I,0,0,i,a,_,i,E=[],d),S),i,S,d,a,r?E:S);break;default:op(C,I,I,I,[""],S,0,a,S)}}c=u=p=0,v=g=1,_=C="",d=o;break;case 58:d=1+Zi(C),p=m;default:if(v<1){if(w==123)--v;else if(w==125&&v++==0&&hF()==125)continue}switch(C+=_2(w),w*v){case 38:g=u>0?1:(C+="\f",-1);break;case 44:a[c++]=(Zi(C)-1)*g,g=1;break;case 64:gs()===45&&(C+=sp(Hr())),h=gs(),u=d=Zi(_=C+=gF(ip())),w++;break;case 45:m===45&&Zi(C)==2&&(v=0)}}return s}function BI(t,e,n,r,i,s,o,a,l,c,u){for(var d=i-1,h=i===0?s:[""],p=P3(h),m=0,v=0,x=0;m<r;++m)for(var g=0,w=Ah(t,d+1,d=oF(v=o[m])),_=t;g<p;++g)(_=Qk(v>0?h[g]+" "+w:ct(w,/&\f/g,h[g])))&&(l[x++]=_);return x2(t,e,n,i===0?k3:a,l,c,u)}function yF(t,e,n){return x2(t,e,n,Gk,_2(dF()),Ah(t,2,-2),0)}function zI(t,e,n,r){return x2(t,e,n,A3,Ah(t,0,r),Ah(t,r+1,-1),r)}function Dc(t,e){for(var n="",r=P3(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function _F(t,e,n,r){switch(t.type){case sF:if(t.children.length)break;case iF:case A3:return t.return=t.return||t.value;case Gk:return"";case Kk:return t.return=t.value+"{"+Dc(t.children,r)+"}";case k3:t.value=t.props.join(",")}return Zi(n=Dc(t.children,r))?t.return=t.value+"{"+n+"}":""}function wF(t){var e=P3(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function xF(t){return function(e){e.root||(e=e.return)&&t(e)}}var EF=function(e,n,r){for(var i=0,s=0;i=s,s=gs(),i===38&&s===12&&(n[r]=1),!Ph(s);)Hr();return mf(e,Lr)},IF=function(e,n){var r=-1,i=44;do switch(Ph(i)){case 0:i===38&&gs()===12&&(n[r]=1),e[r]+=EF(Lr-1,n,r);break;case 2:e[r]+=sp(i);break;case 4:if(i===44){e[++r]=gs()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=_2(i)}while(i=Hr());return e},bF=function(e,n){return Jk(IF(Xk(e),n))},WI=new WeakMap,CF=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!WI.get(r))&&!i){WI.set(e,!0);for(var s=[],o=bF(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},TF=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Zk(t,e){switch(lF(t,e)){case 5103:return lt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return lt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return lt+t+om+t+Xn+t+t;case 6828:case 4268:return lt+t+Xn+t+t;case 6165:return lt+t+Xn+"flex-"+t+t;case 5187:return lt+t+ct(t,/(\w+).+(:[^]+)/,lt+"box-$1$2"+Xn+"flex-$1$2")+t;case 5443:return lt+t+Xn+"flex-item-"+ct(t,/flex-|-self/,"")+t;case 4675:return lt+t+Xn+"flex-line-pack"+ct(t,/align-content|flex-|-self/,"")+t;case 5548:return lt+t+Xn+ct(t,"shrink","negative")+t;case 5292:return lt+t+Xn+ct(t,"basis","preferred-size")+t;case 6060:return lt+"box-"+ct(t,"-grow","")+lt+t+Xn+ct(t,"grow","positive")+t;case 4554:return lt+ct(t,/([^-])(transform)/g,"$1"+lt+"$2")+t;case 6187:return ct(ct(ct(t,/(zoom-|grab)/,lt+"$1"),/(image-set)/,lt+"$1"),t,"")+t;case 5495:case 3959:return ct(t,/(image-set\([^]*)/,lt+"$1$`$1");case 4968:return ct(ct(t,/(.+:)(flex-)?(.*)/,lt+"box-pack:$3"+Xn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+lt+t+t;case 4095:case 3583:case 4068:case 2532:return ct(t,/(.+)-inline(.+)/,lt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Zi(t)-1-e>6)switch($n(t,e+1)){case 109:if($n(t,e+4)!==45)break;case 102:return ct(t,/(.+:)(.+)-([^]+)/,"$1"+lt+"$2-$3$1"+om+($n(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Ky(t,"stretch")?Zk(ct(t,"stretch","fill-available"),e)+t:t}break;case 4949:if($n(t,e+1)!==115)break;case 6444:switch($n(t,Zi(t)-3-(~Ky(t,"!important")&&10))){case 107:return ct(t,":",":"+lt)+t;case 101:return ct(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+lt+($n(t,14)===45?"inline-":"")+"box$3$1"+lt+"$2$3$1"+Xn+"$2box$3")+t}break;case 5936:switch($n(t,e+11)){case 114:return lt+t+Xn+ct(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return lt+t+Xn+ct(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return lt+t+Xn+ct(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return lt+t+Xn+t+t}return t}var SF=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case A3:e.return=Zk(e.value,e.length);break;case Kk:return Dc([rd(e,{value:ct(e.value,"@","@"+lt)})],i);case k3:if(e.length)return uF(e.props,function(s){switch(cF(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Dc([rd(e,{props:[ct(s,/:(read-\w+)/,":"+om+"$1")]})],i);case"::placeholder":return Dc([rd(e,{props:[ct(s,/:(plac\w+)/,":"+lt+"input-$1")]}),rd(e,{props:[ct(s,/:(plac\w+)/,":"+om+"$1")]}),rd(e,{props:[ct(s,/:(plac\w+)/,Xn+"input-$1")]})],i)}return""})}},RF=[SF],eA=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var x=v.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||RF,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var x=v.getAttribute("data-emotion").split(" "),g=1;g<x.length;g++)s[x[g]]=!0;a.push(v)});var l,c=[CF,TF];{var u,d=[_F,xF(function(v){u.insert(v)})],h=wF(c.concat(i,d)),p=function(x){return Dc(vF(x),h)};l=function(x,g,w,_){u=w,p(x?x+"{"+g.styles+"}":g.styles),_&&(m.inserted[g.name]=!0)}}var m={key:n,sheet:new rF({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return m.sheet.hydrate(a),m},tA={exports:{}},vt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pn=typeof Symbol=="function"&&Symbol.for,N3=Pn?Symbol.for("react.element"):60103,L3=Pn?Symbol.for("react.portal"):60106,E2=Pn?Symbol.for("react.fragment"):60107,I2=Pn?Symbol.for("react.strict_mode"):60108,b2=Pn?Symbol.for("react.profiler"):60114,C2=Pn?Symbol.for("react.provider"):60109,T2=Pn?Symbol.for("react.context"):60110,M3=Pn?Symbol.for("react.async_mode"):60111,S2=Pn?Symbol.for("react.concurrent_mode"):60111,R2=Pn?Symbol.for("react.forward_ref"):60112,k2=Pn?Symbol.for("react.suspense"):60113,kF=Pn?Symbol.for("react.suspense_list"):60120,A2=Pn?Symbol.for("react.memo"):60115,P2=Pn?Symbol.for("react.lazy"):60116,AF=Pn?Symbol.for("react.block"):60121,PF=Pn?Symbol.for("react.fundamental"):60117,NF=Pn?Symbol.for("react.responder"):60118,LF=Pn?Symbol.for("react.scope"):60119;function Zr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case N3:switch(t=t.type,t){case M3:case S2:case E2:case b2:case I2:case k2:return t;default:switch(t=t&&t.$$typeof,t){case T2:case R2:case P2:case A2:case C2:return t;default:return e}}case L3:return e}}}function nA(t){return Zr(t)===S2}vt.AsyncMode=M3;vt.ConcurrentMode=S2;vt.ContextConsumer=T2;vt.ContextProvider=C2;vt.Element=N3;vt.ForwardRef=R2;vt.Fragment=E2;vt.Lazy=P2;vt.Memo=A2;vt.Portal=L3;vt.Profiler=b2;vt.StrictMode=I2;vt.Suspense=k2;vt.isAsyncMode=function(t){return nA(t)||Zr(t)===M3};vt.isConcurrentMode=nA;vt.isContextConsumer=function(t){return Zr(t)===T2};vt.isContextProvider=function(t){return Zr(t)===C2};vt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===N3};vt.isForwardRef=function(t){return Zr(t)===R2};vt.isFragment=function(t){return Zr(t)===E2};vt.isLazy=function(t){return Zr(t)===P2};vt.isMemo=function(t){return Zr(t)===A2};vt.isPortal=function(t){return Zr(t)===L3};vt.isProfiler=function(t){return Zr(t)===b2};vt.isStrictMode=function(t){return Zr(t)===I2};vt.isSuspense=function(t){return Zr(t)===k2};vt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===E2||t===S2||t===b2||t===I2||t===k2||t===kF||typeof t=="object"&&t!==null&&(t.$$typeof===P2||t.$$typeof===A2||t.$$typeof===C2||t.$$typeof===T2||t.$$typeof===R2||t.$$typeof===PF||t.$$typeof===NF||t.$$typeof===LF||t.$$typeof===AF)};vt.typeOf=Zr;tA.exports=vt;var MF=tA.exports,rA=MF,OF={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},DF={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},iA={};iA[rA.ForwardRef]=OF;iA[rA.Memo]=DF;var $F=!0;function jF(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var sA=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||$F===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},oA=function(e,n,r){sA(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function FF(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var aA={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},VF=/[A-Z]|^ms/g,UF=/_EMO_([^_]+?)_([^]*?)_EMO_/g,lA=function(e){return e.charCodeAt(1)===45},HI=function(e){return e!=null&&typeof e!="boolean"},ev=qk(function(t){return lA(t)?t:t.replace(VF,"-$&").toLowerCase()}),qI=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(UF,function(r,i,s){return es={name:i,styles:s,next:es},i})}return aA[e]!==1&&!lA(e)&&typeof n=="number"&&n!==0?n+"px":n};function Nh(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return es={name:n.name,styles:n.styles,next:es},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)es={name:r.name,styles:r.styles,next:es},r=r.next;var i=n.styles+";";return i}return BF(t,e,n)}case"function":{if(t!==void 0){var s=es,o=n(t);return es=s,Nh(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function BF(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Nh(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":HI(o)&&(r+=ev(s)+":"+qI(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)HI(o[a])&&(r+=ev(s)+":"+qI(s,o[a])+";");else{var l=Nh(t,e,o);switch(s){case"animation":case"animationName":{r+=ev(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var GI=/label:\s*([^\s;\n{]+)\s*(;|$)/g,es,O3=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";es=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Nh(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Nh(r,n,e[a]),i&&(s+=o[a]);GI.lastIndex=0;for(var l="",c;(c=GI.exec(s))!==null;)l+="-"+c[1];var u=FF(s)+l;return{name:u,styles:s,next:es}},zF=function(e){return e()},cA=Lp.useInsertionEffect?Lp.useInsertionEffect:!1,WF=cA||zF,KI=cA||y.useLayoutEffect,uA=y.createContext(typeof HTMLElement<"u"?eA({key:"css"}):null),HF=uA.Provider,dA=function(e){return y.forwardRef(function(n,r){var i=y.useContext(uA);return e(n,i,r)})},N2=y.createContext({}),tv={exports:{}},QI;function hA(){return QI||(QI=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(tv)),tv.exports}hA();var qF=dA(function(t,e){var n=t.styles,r=O3([n],void 0,y.useContext(N2)),i=y.useRef();return KI(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),KI(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&oA(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function Al(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return O3(e)}var no=function(){var e=Al.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},GF=eF,KF=function(e){return e!=="theme"},YI=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?GF:KF},XI=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},QF=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return sA(n,r,i),WF(function(){return oA(n,r,i)}),null},YF=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=XI(e,n,r),l=a||YI(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var m=dA(function(v,x,g){var w=c&&v.as||i,_="",E=[],S=v;if(v.theme==null){S={};for(var I in v)S[I]=v[I];S.theme=y.useContext(N2)}typeof v.className=="string"?_=jF(x.registered,E,v.className):v.className!=null&&(_=v.className+" ");var C=O3(d.concat(E),x.registered,S);_+=x.key+"-"+C.name,o!==void 0&&(_+=" "+o);var b=c&&a===void 0?YI(w):l,R={};for(var T in v)c&&T==="as"||b(T)&&(R[T]=v[T]);return R.className=_,R.ref=g,y.createElement(y.Fragment,null,y.createElement(QF,{cache:x,serialized:C,isStringTag:typeof w=="string"}),y.createElement(w,R))});return m.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(v,x){return t(v,D({},n,x,{shouldForwardProp:XI(m,x,!0)})).apply(void 0,d)},m}},XF=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Yy=YF.bind();XF.forEach(function(t){Yy[t]=Yy(t)});let Xy;typeof document=="object"&&(Xy=eA({key:"css",prepend:!0}));function JF(t){const{injectFirst:e,children:n}=t;return e&&Xy?f.jsx(HF,{value:Xy,children:n}):n}function ZF(t){return t==null||Object.keys(t).length===0}function fA(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(ZF(i)?n:i):e;return f.jsx(qF,{styles:r})}function D3(t,e){return Yy(t,e)}const pA=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},eV=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:fA,StyledEngineProvider:JF,ThemeContext:N2,css:Al,default:D3,internal_processStyles:pA,keyframes:no},Symbol.toStringTag,{value:"Module"}));function Ns(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function mA(t){if(!Ns(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=mA(t[n])}),e}function mr(t,e,n={clone:!0}){const r=n.clone?D({},t):t;return Ns(t)&&Ns(e)&&Object.keys(e).forEach(i=>{Ns(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Ns(t[i])?r[i]=mr(t[i],e[i],n):n.clone?r[i]=Ns(e[i])?mA(e[i]):e[i]:r[i]=e[i]}),r}const tV=Object.freeze(Object.defineProperty({__proto__:null,default:mr,isPlainObject:Ns},Symbol.toStringTag,{value:"Module"})),nV=["values","unit","step"],rV=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>D({},n,{[r.key]:r.val}),{})};function gA(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=de(t,nV),s=rV(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function c(h,p){const m=o.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(m!==-1&&typeof e[o[m]]=="number"?e[o[m]]:p)-r/100}${n})`}function u(h){return o.indexOf(h)+1<o.length?c(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return D({keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:n},i)}const iV={borderRadius:4},sV=iV;function qd(t,e){return e?mr(t,e,{clone:!1}):t}const $3={xs:0,sm:600,md:900,lg:1200,xl:1536},JI={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${$3[t]}px)`};function Mr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||JI;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||JI;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||$3).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function vA(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function yA(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function oV(t,...e){const n=vA(t),r=[n,...e].reduce((i,s)=>mr(i,s),{});return yA(Object.keys(n),r)}function aV(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Ka({values:t,breakpoints:e,base:n}){const r=n||aV(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function se(t){if(typeof t!="string")throw new Error(al(7));return t.charAt(0).toUpperCase()+t.slice(1)}const lV=Object.freeze(Object.defineProperty({__proto__:null,default:se},Symbol.toStringTag,{value:"Module"}));function L2(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function am(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=L2(t,n)||r,e&&(i=e(i,r,t)),i}function sn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=L2(l,r)||{};return Mr(o,a,d=>{let h=am(c,i,d);return d===h&&typeof d=="string"&&(h=am(c,i,`${e}${d==="default"?"":se(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function cV(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const uV={m:"margin",p:"padding"},dV={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ZI={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},hV=cV(t=>{if(t.length>2)if(ZI[t])t=ZI[t];else return[t];const[e,n]=t.split(""),r=uV[e],i=dV[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),j3=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],F3=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...j3,...F3];function gf(t,e,n,r){var i;const s=(i=L2(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function V3(t){return gf(t,"spacing",8)}function ll(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function fV(t,e){return n=>t.reduce((r,i)=>(r[i]=ll(e,n),r),{})}function pV(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=hV(n),s=fV(i,r),o=t[n];return Mr(t,o,s)}function _A(t,e){const n=V3(t.theme);return Object.keys(t).map(r=>pV(t,e,r,n)).reduce(qd,{})}function qt(t){return _A(t,j3)}qt.propTypes={};qt.filterProps=j3;function Gt(t){return _A(t,F3)}Gt.propTypes={};Gt.filterProps=F3;function mV(t=8){if(t.mui)return t;const e=V3({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function M2(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?qd(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function ai(t){return typeof t!="number"?t:`${t}px solid`}function bi(t,e){return sn({prop:t,themeKey:"borders",transform:e})}const gV=bi("border",ai),vV=bi("borderTop",ai),yV=bi("borderRight",ai),_V=bi("borderBottom",ai),wV=bi("borderLeft",ai),xV=bi("borderColor"),EV=bi("borderTopColor"),IV=bi("borderRightColor"),bV=bi("borderBottomColor"),CV=bi("borderLeftColor"),TV=bi("outline",ai),SV=bi("outlineColor"),O2=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=gf(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:ll(e,r)});return Mr(t,t.borderRadius,n)}return null};O2.propTypes={};O2.filterProps=["borderRadius"];M2(gV,vV,yV,_V,wV,xV,EV,IV,bV,CV,O2,TV,SV);const D2=t=>{if(t.gap!==void 0&&t.gap!==null){const e=gf(t.theme,"spacing",8),n=r=>({gap:ll(e,r)});return Mr(t,t.gap,n)}return null};D2.propTypes={};D2.filterProps=["gap"];const $2=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=gf(t.theme,"spacing",8),n=r=>({columnGap:ll(e,r)});return Mr(t,t.columnGap,n)}return null};$2.propTypes={};$2.filterProps=["columnGap"];const j2=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=gf(t.theme,"spacing",8),n=r=>({rowGap:ll(e,r)});return Mr(t,t.rowGap,n)}return null};j2.propTypes={};j2.filterProps=["rowGap"];const RV=sn({prop:"gridColumn"}),kV=sn({prop:"gridRow"}),AV=sn({prop:"gridAutoFlow"}),PV=sn({prop:"gridAutoColumns"}),NV=sn({prop:"gridAutoRows"}),LV=sn({prop:"gridTemplateColumns"}),MV=sn({prop:"gridTemplateRows"}),OV=sn({prop:"gridTemplateAreas"}),DV=sn({prop:"gridArea"});M2(D2,$2,j2,RV,kV,AV,PV,NV,LV,MV,OV,DV);function $c(t,e){return e==="grey"?e:t}const $V=sn({prop:"color",themeKey:"palette",transform:$c}),jV=sn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:$c}),FV=sn({prop:"backgroundColor",themeKey:"palette",transform:$c});M2($V,jV,FV);function Vr(t){return t<=1&&t!==0?`${t*100}%`:t}const VV=sn({prop:"width",transform:Vr}),U3=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||$3[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Vr(n)}};return Mr(t,t.maxWidth,e)}return null};U3.filterProps=["maxWidth"];const UV=sn({prop:"minWidth",transform:Vr}),BV=sn({prop:"height",transform:Vr}),zV=sn({prop:"maxHeight",transform:Vr}),WV=sn({prop:"minHeight",transform:Vr});sn({prop:"size",cssProperty:"width",transform:Vr});sn({prop:"size",cssProperty:"height",transform:Vr});const HV=sn({prop:"boxSizing"});M2(VV,U3,UV,BV,zV,WV,HV);const qV={border:{themeKey:"borders",transform:ai},borderTop:{themeKey:"borders",transform:ai},borderRight:{themeKey:"borders",transform:ai},borderBottom:{themeKey:"borders",transform:ai},borderLeft:{themeKey:"borders",transform:ai},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ai},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:O2},color:{themeKey:"palette",transform:$c},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:$c},backgroundColor:{themeKey:"palette",transform:$c},p:{style:Gt},pt:{style:Gt},pr:{style:Gt},pb:{style:Gt},pl:{style:Gt},px:{style:Gt},py:{style:Gt},padding:{style:Gt},paddingTop:{style:Gt},paddingRight:{style:Gt},paddingBottom:{style:Gt},paddingLeft:{style:Gt},paddingX:{style:Gt},paddingY:{style:Gt},paddingInline:{style:Gt},paddingInlineStart:{style:Gt},paddingInlineEnd:{style:Gt},paddingBlock:{style:Gt},paddingBlockStart:{style:Gt},paddingBlockEnd:{style:Gt},m:{style:qt},mt:{style:qt},mr:{style:qt},mb:{style:qt},ml:{style:qt},mx:{style:qt},my:{style:qt},margin:{style:qt},marginTop:{style:qt},marginRight:{style:qt},marginBottom:{style:qt},marginLeft:{style:qt},marginX:{style:qt},marginY:{style:qt},marginInline:{style:qt},marginInlineStart:{style:qt},marginInlineEnd:{style:qt},marginBlock:{style:qt},marginBlockStart:{style:qt},marginBlockEnd:{style:qt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:D2},rowGap:{style:j2},columnGap:{style:$2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Vr},maxWidth:{style:U3},minWidth:{transform:Vr},height:{transform:Vr},maxHeight:{transform:Vr},minHeight:{transform:Vr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},vf=qV;function GV(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function KV(t,e){return typeof t=="function"?t(e):t}function wA(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const h=L2(i,c)||{};return d?d(o):Mr(o,r,m=>{let v=am(h,u,m);return m===v&&typeof m=="string"&&(v=am(h,u,`${n}${m==="default"?"":se(m)}`,m)),l===!1?v:{[l]:v}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:vf;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=vA(s.breakpoints),d=Object.keys(u);let h=u;return Object.keys(c).forEach(p=>{const m=KV(c[p],s);if(m!=null)if(typeof m=="object")if(o[p])h=qd(h,t(p,m,s,o));else{const v=Mr({theme:s},m,x=>({[p]:x}));GV(v,m)?h[p]=e({sx:m,theme:s}):h=qd(h,v)}else h=qd(h,t(p,m,s,o))}),yA(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const xA=wA();xA.filterProps=["sx"];const yf=xA;function EA(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const QV=["breakpoints","palette","spacing","shape"];function _f(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=de(t,QV),a=gA(n),l=mV(i);let c=mr({breakpoints:a,direction:"ltr",components:{},palette:D({mode:"light"},r),spacing:l,shape:D({},sV,s)},o);return c.applyStyles=EA,c=e.reduce((u,d)=>mr(u,d),c),c.unstable_sxConfig=D({},vf,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return yf({sx:d,theme:this})},c}const YV=Object.freeze(Object.defineProperty({__proto__:null,default:_f,private_createBreakpoints:gA,unstable_applyStyles:EA},Symbol.toStringTag,{value:"Module"}));function XV(t){return Object.keys(t).length===0}function JV(t=null){const e=y.useContext(N2);return!e||XV(e)?t:e}const ZV=_f();function F2(t=ZV){return JV(t)}function eU({styles:t,themeId:e,defaultTheme:n={}}){const r=F2(n),i=typeof t=="function"?t(e&&r[e]||r):t;return f.jsx(fA,{styles:i})}const tU=["sx"],nU=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:vf;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function wf(t){const{sx:e}=t,n=de(t,tU),{systemProps:r,otherProps:i}=nU(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Ns(a)?D({},r,a):r}:s=D({},r,e),D({},i,{sx:s})}const rU=Object.freeze(Object.defineProperty({__proto__:null,default:yf,extendSxProp:wf,unstable_createStyleFunctionSx:wA,unstable_defaultSxConfig:vf},Symbol.toStringTag,{value:"Module"})),eb=t=>t,iU=()=>{let t=eb;return{configure(e){t=e},generate(e){return t(e)},reset(){t=eb}}},sU=iU(),IA=sU;function bA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=bA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function we(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=bA(t))&&(r&&(r+=" "),r+=e);return r}const oU=["className","component"];function aU(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=D3("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(yf);return y.forwardRef(function(l,c){const u=F2(n),d=wf(l),{className:h,component:p="div"}=d,m=de(d,oU);return f.jsx(s,D({as:p,ref:c,className:we(h,i?i(r):r),theme:e&&u[e]||u},m))})}const lU={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Xe(t,e,n="Mui"){const r=lU[e];return r?`${n}-${r}`:`${IA.generate(t)}-${e}`}function We(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Xe(t,i,n)}),r}var CA={exports:{}},yt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B3=Symbol.for("react.element"),z3=Symbol.for("react.portal"),V2=Symbol.for("react.fragment"),U2=Symbol.for("react.strict_mode"),B2=Symbol.for("react.profiler"),z2=Symbol.for("react.provider"),W2=Symbol.for("react.context"),cU=Symbol.for("react.server_context"),H2=Symbol.for("react.forward_ref"),q2=Symbol.for("react.suspense"),G2=Symbol.for("react.suspense_list"),K2=Symbol.for("react.memo"),Q2=Symbol.for("react.lazy"),uU=Symbol.for("react.offscreen"),TA;TA=Symbol.for("react.module.reference");function Ci(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case B3:switch(t=t.type,t){case V2:case B2:case U2:case q2:case G2:return t;default:switch(t=t&&t.$$typeof,t){case cU:case W2:case H2:case Q2:case K2:case z2:return t;default:return e}}case z3:return e}}}yt.ContextConsumer=W2;yt.ContextProvider=z2;yt.Element=B3;yt.ForwardRef=H2;yt.Fragment=V2;yt.Lazy=Q2;yt.Memo=K2;yt.Portal=z3;yt.Profiler=B2;yt.StrictMode=U2;yt.Suspense=q2;yt.SuspenseList=G2;yt.isAsyncMode=function(){return!1};yt.isConcurrentMode=function(){return!1};yt.isContextConsumer=function(t){return Ci(t)===W2};yt.isContextProvider=function(t){return Ci(t)===z2};yt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===B3};yt.isForwardRef=function(t){return Ci(t)===H2};yt.isFragment=function(t){return Ci(t)===V2};yt.isLazy=function(t){return Ci(t)===Q2};yt.isMemo=function(t){return Ci(t)===K2};yt.isPortal=function(t){return Ci(t)===z3};yt.isProfiler=function(t){return Ci(t)===B2};yt.isStrictMode=function(t){return Ci(t)===U2};yt.isSuspense=function(t){return Ci(t)===q2};yt.isSuspenseList=function(t){return Ci(t)===G2};yt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===V2||t===B2||t===U2||t===q2||t===G2||t===uU||typeof t=="object"&&t!==null&&(t.$$typeof===Q2||t.$$typeof===K2||t.$$typeof===z2||t.$$typeof===W2||t.$$typeof===H2||t.$$typeof===TA||t.getModuleId!==void 0)};yt.typeOf=Ci;CA.exports=yt;var tb=CA.exports;const dU=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function SA(t){const e=`${t}`.match(dU);return e&&e[1]||""}function RA(t,e=""){return t.displayName||t.name||SA(t)||e}function nb(t,e,n){const r=RA(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function hU(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return RA(t,"Component");if(typeof t=="object")switch(t.$$typeof){case tb.ForwardRef:return nb(t,t.render,"ForwardRef");case tb.Memo:return nb(t,t.type,"memo");default:return}}}const fU=Object.freeze(Object.defineProperty({__proto__:null,default:hU,getFunctionName:SA},Symbol.toStringTag,{value:"Module"})),pU=["ownerState"],mU=["variants"],gU=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function vU(t){return Object.keys(t).length===0}function yU(t){return typeof t=="string"&&t.charCodeAt(0)>96}function nv(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const _U=_f(),wU=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function x0({defaultTheme:t,theme:e,themeId:n}){return vU(e)?t:e[n]||e}function xU(t){return t?(e,n)=>n[t]:null}function ap(t,e){let{ownerState:n}=e,r=de(e,pU);const i=typeof t=="function"?t(D({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>ap(s,D({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=de(i,mU);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(D({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(D({ownerState:n},r,n)):l.style))}),a}return i}function EU(t={}){const{themeId:e,defaultTheme:n=_U,rootShouldForwardProp:r=nv,slotShouldForwardProp:i=nv}=t,s=o=>yf(D({},o,{theme:x0(D({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{pA(o,S=>S.filter(I=>!(I!=null&&I.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=xU(wU(c))}=a,p=de(a,gU),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,v=d||!1;let x,g=nv;c==="Root"||c==="root"?g=r:c?g=i:yU(o)&&(g=void 0);const w=D3(o,D({shouldForwardProp:g,label:x},p)),_=S=>typeof S=="function"&&S.__emotion_real!==S||Ns(S)?I=>ap(S,D({},I,{theme:x0({theme:I.theme,defaultTheme:n,themeId:e})})):S,E=(S,...I)=>{let C=_(S);const b=I?I.map(_):[];l&&h&&b.push(k=>{const N=x0(D({},k,{defaultTheme:n,themeId:e}));if(!N.components||!N.components[l]||!N.components[l].styleOverrides)return null;const M=N.components[l].styleOverrides,L={};return Object.entries(M).forEach(([j,P])=>{L[j]=ap(P,D({},k,{theme:N}))}),h(k,L)}),l&&!m&&b.push(k=>{var N;const M=x0(D({},k,{defaultTheme:n,themeId:e})),L=M==null||(N=M.components)==null||(N=N[l])==null?void 0:N.variants;return ap({variants:L},D({},k,{theme:M}))}),v||b.push(s);const R=b.length-I.length;if(Array.isArray(S)&&R>0){const k=new Array(R).fill("");C=[...S,...k],C.raw=[...S.raw,...k]}const T=w(C,...b);return o.muiName&&(T.muiName=o.muiName),T};return w.withConfig&&(E.withConfig=w.withConfig),E}}const IU=EU(),bU=IU;function Lh(t,e){const n=D({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=D({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=D({},s),Object.keys(i).forEach(o=>{n[r][o]=Lh(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function CU(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Lh(e.components[n].defaultProps,r)}function TU({props:t,name:e,defaultTheme:n,themeId:r}){let i=F2(n);return r&&(i=i[r]||i),CU({theme:i,name:e,props:t})}const SU=typeof window<"u"?y.useLayoutEffect:y.useEffect,_s=SU;function RU(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const kU=Object.freeze(Object.defineProperty({__proto__:null,default:RU},Symbol.toStringTag,{value:"Module"}));function rb(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function W3(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function rv(t,e){var n,r;return y.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function fn(t){return t&&t.ownerDocument||document}function qr(t){return fn(t).defaultView||window}function Jy(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let ib=0;function AU(t){const[e,n]=y.useState(t),r=t||e;return y.useEffect(()=>{e==null&&(ib+=1,n(`mui-${ib}`))},[e]),r}const sb=Lp.useId;function H3(t){if(sb!==void 0){const e=sb();return t??e}return AU(t)}function ob({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=y.useRef(t!==void 0),[s,o]=y.useState(e),a=i?t:s,l=y.useCallback(c=>{i||o(c)},[]);return[a,l]}function di(t){const e=y.useRef(t);return _s(()=>{e.current=t}),y.useRef((...n)=>(0,e.current)(...n)).current}function Rn(...t){return y.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Jy(n,e)})},t)}const ab={};function PU(t,e){const n=y.useRef(ab);return n.current===ab&&(n.current=t(e)),n}const NU=[];function LU(t){y.useEffect(t,NU)}class Y2{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Y2}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function q3(){const t=PU(Y2.create).current;return LU(t.disposeEffect),t}let X2=!0,Zy=!1;const MU=new Y2,OU={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function DU(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&OU[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function $U(t){t.metaKey||t.altKey||t.ctrlKey||(X2=!0)}function iv(){X2=!1}function jU(){this.visibilityState==="hidden"&&Zy&&(X2=!0)}function FU(t){t.addEventListener("keydown",$U,!0),t.addEventListener("mousedown",iv,!0),t.addEventListener("pointerdown",iv,!0),t.addEventListener("touchstart",iv,!0),t.addEventListener("visibilitychange",jU,!0)}function VU(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return X2||DU(e)}function UU(){const t=y.useCallback(i=>{i!=null&&FU(i.ownerDocument)},[]),e=y.useRef(!1);function n(){return e.current?(Zy=!0,MU.start(100,()=>{Zy=!1}),e.current=!1,!0):!1}function r(i){return VU(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function kA(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function nt(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}function lm(t){return typeof t=="string"}function BU(t,e,n){return t===void 0||lm(t)?e:D({},e,{ownerState:D({},e.ownerState,n)})}function cm(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function lb(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function zU(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const p=we(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),m=D({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),v=D({},n,i,r);return p.length>0&&(v.className=p),Object.keys(m).length>0&&(v.style=m),{props:v,internalRef:void 0}}const o=cm(D({},i,r)),a=lb(r),l=lb(i),c=e(o),u=we(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=D({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=D({},c,n,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}function WU(t,e,n){return typeof t=="function"?t(e,n):t}const HU=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function cl(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=de(t,HU),a=s?{}:WU(r,i),{props:l,internalRef:c}=zU(D({},o,{externalSlotProps:a})),u=Rn(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return BU(n,D({},l,{ref:u}),i)}const qU=y.createContext(),G3=()=>{const t=y.useContext(qU);return t??!1},GU=y.createContext(void 0);function KU(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Lh(i.defaultProps,r):!i.styleOverrides&&!i.variants?Lh(i,r):r}function QU({props:t,name:e}){const n=y.useContext(GU);return KU({props:t,name:e,theme:{components:n}})}const YU=["component","direction","spacing","divider","children","className","useFlexGap"],XU=_f(),JU=bU("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function ZU(t){return TU({props:t,name:"MuiStack",defaultTheme:XU})}function eB(t,e){const n=y.Children.toArray(t).filter(Boolean);return n.reduce((r,i,s)=>(r.push(i),s<n.length-1&&r.push(y.cloneElement(e,{key:`separator-${s}`})),r),[])}const tB=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],nB=({ownerState:t,theme:e})=>{let n=D({display:"flex",flexDirection:"column"},Mr({theme:e},Ka({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=V3(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),s=Ka({values:t.direction,base:i}),o=Ka({values:t.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((l,c,u)=>{if(!s[l]){const h=c>0?s[u[c-1]]:"column";s[l]=h}}),n=mr(n,Mr({theme:e},o,(l,c)=>t.useFlexGap?{gap:ll(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${tB(c?s[c]:t.direction)}`]:ll(r,l)}}))}return n=oV(e.breakpoints,n),n};function rB(t={}){const{createStyledComponent:e=JU,useThemeProps:n=ZU,componentName:r="MuiStack"}=t,i=()=>nt({root:["root"]},l=>Xe(r,l),{}),s=e(nB);return y.forwardRef(function(l,c){const u=n(l),d=wf(u),{component:h="div",direction:p="column",spacing:m=0,divider:v,children:x,className:g,useFlexGap:w=!1}=d,_=de(d,YU),E={direction:p,spacing:m,useFlexGap:w},S=i();return f.jsx(s,D({as:h,ownerState:E,ref:c,className:we(S.root,g)},_,{children:v?eB(x,v):x}))})}function iB(t,e){return D({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var on={},AA={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(AA);var PA=AA.exports;const sB=ia(Jj),oB=ia(kU);var NA=PA;Object.defineProperty(on,"__esModule",{value:!0});var hi=on.alpha=jA;on.blend=yB;on.colorChannel=void 0;var LA=on.darken=Q3;on.decomposeColor=wi;var aB=on.emphasize=FA,lB=on.getContrastRatio=fB;on.getLuminance=um;on.hexToRgb=OA;on.hslToRgb=$A;var MA=on.lighten=Y3;on.private_safeAlpha=pB;on.private_safeColorChannel=void 0;on.private_safeDarken=mB;on.private_safeEmphasize=vB;on.private_safeLighten=gB;on.recomposeColor=ku;on.rgbToHex=hB;var cb=NA(sB),cB=NA(oB);function K3(t,e=0,n=1){return(0,cB.default)(t,e,n)}function OA(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function uB(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function wi(t){if(t.type)return t;if(t.charAt(0)==="#")return wi(OA(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,cb.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,cb.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const DA=t=>{const e=wi(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};on.colorChannel=DA;const dB=(t,e)=>{try{return DA(t)}catch{return t}};on.private_safeColorChannel=dB;function ku(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function hB(t){if(t.indexOf("#")===0)return t;const{values:e}=wi(t);return`#${e.map((n,r)=>uB(r===3?Math.round(255*n):n)).join("")}`}function $A(t){t=wi(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+n/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),ku({type:a,values:l})}function um(t){t=wi(t);let e=t.type==="hsl"||t.type==="hsla"?wi($A(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function fB(t,e){const n=um(t),r=um(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function jA(t,e){return t=wi(t),e=K3(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,ku(t)}function pB(t,e,n){try{return jA(t,e)}catch{return t}}function Q3(t,e){if(t=wi(t),e=K3(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return ku(t)}function mB(t,e,n){try{return Q3(t,e)}catch{return t}}function Y3(t,e){if(t=wi(t),e=K3(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return ku(t)}function gB(t,e,n){try{return Y3(t,e)}catch{return t}}function FA(t,e=.15){return um(t)>.5?Q3(t,e):Y3(t,e)}function vB(t,e,n){try{return FA(t,e)}catch{return t}}function yB(t,e,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),s=wi(t),o=wi(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return ku({type:"rgb",values:a})}const _B=["mode","contrastThreshold","tonalOffset"],ub={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:kh.white,default:kh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},sv={text:{primary:kh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:kh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function db(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=MA(t.main,i):e==="dark"&&(t.dark=LA(t.main,s)))}function wB(t="light"){return t==="dark"?{main:Ql[200],light:Ql[50],dark:Ql[400]}:{main:Ql[700],light:Ql[400],dark:Ql[800]}}function xB(t="light"){return t==="dark"?{main:Kl[200],light:Kl[50],dark:Kl[400]}:{main:Kl[500],light:Kl[300],dark:Kl[700]}}function EB(t="light"){return t==="dark"?{main:Gl[500],light:Gl[300],dark:Gl[700]}:{main:Gl[700],light:Gl[400],dark:Gl[800]}}function IB(t="light"){return t==="dark"?{main:Yl[400],light:Yl[300],dark:Yl[700]}:{main:Yl[700],light:Yl[500],dark:Yl[900]}}function bB(t="light"){return t==="dark"?{main:Xl[400],light:Xl[300],dark:Xl[700]}:{main:Xl[800],light:Xl[500],dark:Xl[900]}}function CB(t="light"){return t==="dark"?{main:nd[400],light:nd[300],dark:nd[700]}:{main:"#ed6c02",light:nd[500],dark:nd[900]}}function TB(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=de(t,_B),s=t.primary||wB(e),o=t.secondary||xB(e),a=t.error||EB(e),l=t.info||IB(e),c=t.success||bB(e),u=t.warning||CB(e);function d(v){return lB(v,sv.text.primary)>=n?sv.text.primary:ub.text.primary}const h=({color:v,name:x,mainShade:g=500,lightShade:w=300,darkShade:_=700})=>{if(v=D({},v),!v.main&&v[g]&&(v.main=v[g]),!v.hasOwnProperty("main"))throw new Error(al(11,x?` (${x})`:"",g));if(typeof v.main!="string")throw new Error(al(12,x?` (${x})`:"",JSON.stringify(v.main)));return db(v,"light",w,r),db(v,"dark",_,r),v.contrastText||(v.contrastText=d(v.main)),v},p={dark:sv,light:ub};return mr(D({common:D({},kh),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:Xj,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[e]),i)}const SB=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function RB(t){return Math.round(t*1e5)/1e5}const hb={textTransform:"uppercase"},fb='"Roboto", "Helvetica", "Arial", sans-serif';function kB(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=fb,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,h=de(n,SB),p=i/14,m=d||(g=>`${g/c*p}rem`),v=(g,w,_,E,S)=>D({fontFamily:r,fontWeight:g,fontSize:m(w),lineHeight:_},r===fb?{letterSpacing:`${RB(E/w)}em`}:{},S,u),x={h1:v(s,96,1.167,-1.5),h2:v(s,60,1.2,-.5),h3:v(o,48,1.167,0),h4:v(o,34,1.235,.25),h5:v(o,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(o,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(o,16,1.5,.15),body2:v(o,14,1.43,.15),button:v(a,14,1.75,.4,hb),caption:v(o,12,1.66,.4),overline:v(o,12,2.66,1,hb),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return mr(D({htmlFontSize:c,pxToRem:m,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},x),h,{clone:!1})}const AB=.2,PB=.14,NB=.12;function Dt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${AB})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${PB})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${NB})`].join(",")}const LB=["none",Dt(0,2,1,-1,0,1,1,0,0,1,3,0),Dt(0,3,1,-2,0,2,2,0,0,1,5,0),Dt(0,3,3,-2,0,3,4,0,0,1,8,0),Dt(0,2,4,-1,0,4,5,0,0,1,10,0),Dt(0,3,5,-1,0,5,8,0,0,1,14,0),Dt(0,3,5,-1,0,6,10,0,0,1,18,0),Dt(0,4,5,-2,0,7,10,1,0,2,16,1),Dt(0,5,5,-3,0,8,10,1,0,3,14,2),Dt(0,5,6,-3,0,9,12,1,0,3,16,2),Dt(0,6,6,-3,0,10,14,1,0,4,18,3),Dt(0,6,7,-4,0,11,15,1,0,4,20,3),Dt(0,7,8,-4,0,12,17,2,0,5,22,4),Dt(0,7,8,-4,0,13,19,2,0,5,24,4),Dt(0,7,9,-4,0,14,21,2,0,5,26,4),Dt(0,8,9,-5,0,15,22,2,0,6,28,5),Dt(0,8,10,-5,0,16,24,2,0,6,30,5),Dt(0,8,11,-5,0,17,26,2,0,6,32,5),Dt(0,9,11,-5,0,18,28,2,0,7,34,6),Dt(0,9,12,-6,0,19,29,2,0,7,36,6),Dt(0,10,13,-6,0,20,31,3,0,8,38,7),Dt(0,10,13,-6,0,21,33,3,0,8,40,7),Dt(0,10,14,-6,0,22,35,3,0,8,42,7),Dt(0,11,14,-7,0,23,36,3,0,9,44,8),Dt(0,11,15,-7,0,24,38,3,0,9,46,8)],MB=LB,OB=["duration","easing","delay"],DB={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},$B={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function pb(t){return`${Math.round(t)}ms`}function jB(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function FB(t){const e=D({},DB,t.easing),n=D({},$B,t.duration);return D({getAutoHeightDuration:jB,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return de(s,OB),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:pb(o)} ${a} ${typeof l=="string"?l:pb(l)}`).join(",")}},t,{easing:e,duration:n})}const VB={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},UB=VB,BB=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function VA(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=de(t,BB);if(t.vars)throw new Error(al(18));const a=TB(r),l=_f(t);let c=mr(l,{mixins:iB(l.breakpoints,n),palette:a,shadows:MB.slice(),typography:kB(a,s),transitions:FB(i),zIndex:D({},UB)});return c=mr(c,o),c=e.reduce((u,d)=>mr(u,d),c),c.unstable_sxConfig=D({},vf,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return yf({sx:d,theme:this})},c}const zB=VA(),X3=zB;function ca(){const t=F2(X3);return t[y2]||t}var xf={},ov={exports:{}},mb;function WB(){return mb||(mb=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(r.indexOf(s)>=0)continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(ov)),ov.exports}const HB=ia(eV),qB=ia(tV),GB=ia(lV),KB=ia(fU),QB=ia(YV),YB=ia(rU);var Au=PA;Object.defineProperty(xf,"__esModule",{value:!0});var XB=xf.default=uz;xf.shouldForwardProp=lp;xf.systemDefaultTheme=void 0;var ri=Au(hA()),e_=Au(WB()),gb=iz(HB),JB=qB;Au(GB);Au(KB);var ZB=Au(QB),ez=Au(YB);const tz=["ownerState"],nz=["variants"],rz=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function UA(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(UA=function(r){return r?n:e})(t)}function iz(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=UA(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function sz(t){return Object.keys(t).length===0}function oz(t){return typeof t=="string"&&t.charCodeAt(0)>96}function lp(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const az=xf.systemDefaultTheme=(0,ZB.default)(),lz=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function E0({defaultTheme:t,theme:e,themeId:n}){return sz(e)?t:e[n]||e}function cz(t){return t?(e,n)=>n[t]:null}function cp(t,e){let{ownerState:n}=e,r=(0,e_.default)(e,tz);const i=typeof t=="function"?t((0,ri.default)({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>cp(s,(0,ri.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,e_.default)(i,nz);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,ri.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,ri.default)({ownerState:n},r,n)):l.style))}),a}return i}function uz(t={}){const{themeId:e,defaultTheme:n=az,rootShouldForwardProp:r=lp,slotShouldForwardProp:i=lp}=t,s=o=>(0,ez.default)((0,ri.default)({},o,{theme:E0((0,ri.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,gb.internal_processStyles)(o,S=>S.filter(I=>!(I!=null&&I.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:h=cz(lz(c))}=a,p=(0,e_.default)(a,rz),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,v=d||!1;let x,g=lp;c==="Root"||c==="root"?g=r:c?g=i:oz(o)&&(g=void 0);const w=(0,gb.default)(o,(0,ri.default)({shouldForwardProp:g,label:x},p)),_=S=>typeof S=="function"&&S.__emotion_real!==S||(0,JB.isPlainObject)(S)?I=>cp(S,(0,ri.default)({},I,{theme:E0({theme:I.theme,defaultTheme:n,themeId:e})})):S,E=(S,...I)=>{let C=_(S);const b=I?I.map(_):[];l&&h&&b.push(k=>{const N=E0((0,ri.default)({},k,{defaultTheme:n,themeId:e}));if(!N.components||!N.components[l]||!N.components[l].styleOverrides)return null;const M=N.components[l].styleOverrides,L={};return Object.entries(M).forEach(([j,P])=>{L[j]=cp(P,(0,ri.default)({},k,{theme:N}))}),h(k,L)}),l&&!m&&b.push(k=>{var N;const M=E0((0,ri.default)({},k,{defaultTheme:n,themeId:e})),L=M==null||(N=M.components)==null||(N=N[l])==null?void 0:N.variants;return cp({variants:L},(0,ri.default)({},k,{theme:M}))}),v||b.push(s);const R=b.length-I.length;if(Array.isArray(S)&&R>0){const k=new Array(R).fill("");C=[...S,...k],C.raw=[...S.raw,...k]}const T=w(C,...b);return o.muiName&&(T.muiName=o.muiName),T};return w.withConfig&&(E.withConfig=w.withConfig),E}}function BA(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const dz=t=>BA(t)&&t!=="classes",$r=dz,hz=XB({themeId:y2,defaultTheme:X3,rootShouldForwardProp:$r}),ae=hz,fz=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},vb=fz;function Je(t){return QU(t)}function pz(t){return Xe("MuiSvgIcon",t)}We("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const mz=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],gz=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${se(e)}`,`fontSize${se(n)}`]};return nt(i,pz,r)},vz=ae("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${se(n.color)}`],e[`fontSize${se(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,c,u,d,h,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=t.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[e.color]}}),zA=y.forwardRef(function(e,n){const r=Je({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,p=de(r,mz),m=y.isValidElement(i)&&i.type==="svg",v=D({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:m}),x={};u||(x.viewBox=h);const g=gz(v);return f.jsxs(vz,D({as:a,className:we(g.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},x,p,m&&i.props,{ownerState:v,children:[m?i.props.children:i,d?f.jsx("title",{children:d}):null]}))});zA.muiName="SvgIcon";const yb=zA;function yz(t,e){function n(r,i){return f.jsx(yb,D({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=yb.muiName,y.memo(y.forwardRef(n))}var Et={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J3=Symbol.for("react.element"),Z3=Symbol.for("react.portal"),J2=Symbol.for("react.fragment"),Z2=Symbol.for("react.strict_mode"),eg=Symbol.for("react.profiler"),tg=Symbol.for("react.provider"),ng=Symbol.for("react.context"),_z=Symbol.for("react.server_context"),rg=Symbol.for("react.forward_ref"),ig=Symbol.for("react.suspense"),sg=Symbol.for("react.suspense_list"),og=Symbol.for("react.memo"),ag=Symbol.for("react.lazy"),wz=Symbol.for("react.offscreen"),WA;WA=Symbol.for("react.module.reference");function Ti(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case J3:switch(t=t.type,t){case J2:case eg:case Z2:case ig:case sg:return t;default:switch(t=t&&t.$$typeof,t){case _z:case ng:case rg:case ag:case og:case tg:return t;default:return e}}case Z3:return e}}}Et.ContextConsumer=ng;Et.ContextProvider=tg;Et.Element=J3;Et.ForwardRef=rg;Et.Fragment=J2;Et.Lazy=ag;Et.Memo=og;Et.Portal=Z3;Et.Profiler=eg;Et.StrictMode=Z2;Et.Suspense=ig;Et.SuspenseList=sg;Et.isAsyncMode=function(){return!1};Et.isConcurrentMode=function(){return!1};Et.isContextConsumer=function(t){return Ti(t)===ng};Et.isContextProvider=function(t){return Ti(t)===tg};Et.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===J3};Et.isForwardRef=function(t){return Ti(t)===rg};Et.isFragment=function(t){return Ti(t)===J2};Et.isLazy=function(t){return Ti(t)===ag};Et.isMemo=function(t){return Ti(t)===og};Et.isPortal=function(t){return Ti(t)===Z3};Et.isProfiler=function(t){return Ti(t)===eg};Et.isStrictMode=function(t){return Ti(t)===Z2};Et.isSuspense=function(t){return Ti(t)===ig};Et.isSuspenseList=function(t){return Ti(t)===sg};Et.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===J2||t===eg||t===Z2||t===ig||t===sg||t===wz||typeof t=="object"&&t!==null&&(t.$$typeof===ag||t.$$typeof===og||t.$$typeof===tg||t.$$typeof===ng||t.$$typeof===rg||t.$$typeof===WA||t.getModuleId!==void 0)};Et.typeOf=Ti;function t_(t,e){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},t_(t,e)}function HA(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t_(t,e)}const _b={disabled:!1},dm=hr.createContext(null);var xz=function(e){return e.scrollTop},Sd="unmounted",Ca="exited",Ta="entering",oc="entered",n_="exiting",ro=function(t){HA(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Ca,s.appearStatus=Ta):l=oc:r.unmountOnExit||r.mountOnEnter?l=Sd:l=Ca,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Sd?{status:Ca}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Ta&&o!==oc&&(s=Ta):(o===Ta||o===oc)&&(s=n_)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Ta){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:_0.findDOMNode(this);o&&xz(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ca&&this.setState({status:Sd})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[_0.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||_b.disabled){this.safeSetState({status:oc},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Ta},function(){s.props.onEntering(c,u),s.onTransitionEnd(h,function(){s.safeSetState({status:oc},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:_0.findDOMNode(this);if(!s||_b.disabled){this.safeSetState({status:Ca},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:n_},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Ca},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:_0.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Sd)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=de(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return hr.createElement(dm.Provider,{value:null},typeof o=="function"?o(i,a):hr.cloneElement(hr.Children.only(o),a))},e}(hr.Component);ro.contextType=dm;ro.propTypes={};function Jl(){}ro.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Jl,onEntering:Jl,onEntered:Jl,onExit:Jl,onExiting:Jl,onExited:Jl};ro.UNMOUNTED=Sd;ro.EXITED=Ca;ro.ENTERING=Ta;ro.ENTERED=oc;ro.EXITING=n_;const ex=ro;function Ez(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tx(t,e){var n=function(s){return e&&y.isValidElement(s)?e(s):s},r=Object.create(null);return t&&y.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Iz(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function ja(t,e,n){return n[e]!=null?n[e]:t.props[e]}function bz(t,e){return tx(t.children,function(n){return y.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:ja(n,"appear",t),enter:ja(n,"enter",t),exit:ja(n,"exit",t)})})}function Cz(t,e,n){var r=tx(t.children),i=Iz(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(y.isValidElement(o)){var a=s in e,l=s in r,c=e[s],u=y.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=y.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:ja(o,"exit",t),enter:ja(o,"enter",t)}):!l&&a&&!u?i[s]=y.cloneElement(o,{in:!1}):l&&a&&y.isValidElement(c)&&(i[s]=y.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:ja(o,"exit",t),enter:ja(o,"enter",t)}))}}),i}var Tz=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Sz={component:"div",childFactory:function(e){return e}},nx=function(t){HA(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(Ez(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?bz(i,a):Cz(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=tx(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=D({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=de(i,["component","childFactory"]),l=this.state.contextValue,c=Tz(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?hr.createElement(dm.Provider,{value:l},c):hr.createElement(dm.Provider,{value:l},hr.createElement(s,a,c))},e}(hr.Component);nx.propTypes={};nx.defaultProps=Sz;const Rz=nx,rx=t=>t.scrollTop;function ul(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function kz(t){return Xe("MuiPaper",t)}We("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Az=["className","component","elevation","square","variant"],Pz=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return nt(s,kz,i)},Nz=ae("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return D({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&D({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${hi("#fff",vb(e.elevation))}, ${hi("#fff",vb(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),Lz=y.forwardRef(function(e,n){const r=Je({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,c=de(r,Az),u=D({},r,{component:s,elevation:o,square:a,variant:l}),d=Pz(u);return f.jsx(Nz,D({as:s,ownerState:u,className:we(d.root,i),ref:n},c))}),Pu=Lz;function Mz(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=t,[u,d]=y.useState(!1),h=we(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},m=we(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),y.useEffect(()=>{if(!a&&l!=null){const v=setTimeout(l,c);return()=>{clearTimeout(v)}}},[l,a,c]),f.jsx("span",{className:h,style:p,children:f.jsx("span",{className:m})})}const Oz=We("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ii=Oz,Dz=["center","classes","className"];let lg=t=>t,wb,xb,Eb,Ib;const r_=550,$z=80,jz=no(wb||(wb=lg`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Fz=no(xb||(xb=lg`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Vz=no(Eb||(Eb=lg`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Uz=ae("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Bz=ae(Mz,{name:"MuiTouchRipple",slot:"Ripple"})(Ib||(Ib=lg`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ii.rippleVisible,jz,r_,({theme:t})=>t.transitions.easing.easeInOut,ii.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,ii.child,ii.childLeaving,Fz,r_,({theme:t})=>t.transitions.easing.easeInOut,ii.childPulsate,Vz,({theme:t})=>t.transitions.easing.easeInOut),zz=y.forwardRef(function(e,n){const r=Je({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=de(r,Dz),[l,c]=y.useState([]),u=y.useRef(0),d=y.useRef(null);y.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=y.useRef(!1),p=q3(),m=y.useRef(null),v=y.useRef(null),x=y.useCallback(E=>{const{pulsate:S,rippleX:I,rippleY:C,rippleSize:b,cb:R}=E;c(T=>[...T,f.jsx(Bz,{classes:{ripple:we(s.ripple,ii.ripple),rippleVisible:we(s.rippleVisible,ii.rippleVisible),ripplePulsate:we(s.ripplePulsate,ii.ripplePulsate),child:we(s.child,ii.child),childLeaving:we(s.childLeaving,ii.childLeaving),childPulsate:we(s.childPulsate,ii.childPulsate)},timeout:r_,pulsate:S,rippleX:I,rippleY:C,rippleSize:b},u.current)]),u.current+=1,d.current=R},[s]),g=y.useCallback((E={},S={},I=()=>{})=>{const{pulsate:C=!1,center:b=i||S.pulsate,fakeElement:R=!1}=S;if((E==null?void 0:E.type)==="mousedown"&&h.current){h.current=!1;return}(E==null?void 0:E.type)==="touchstart"&&(h.current=!0);const T=R?null:v.current,k=T?T.getBoundingClientRect():{width:0,height:0,left:0,top:0};let N,M,L;if(b||E===void 0||E.clientX===0&&E.clientY===0||!E.clientX&&!E.touches)N=Math.round(k.width/2),M=Math.round(k.height/2);else{const{clientX:j,clientY:P}=E.touches&&E.touches.length>0?E.touches[0]:E;N=Math.round(j-k.left),M=Math.round(P-k.top)}if(b)L=Math.sqrt((2*k.width**2+k.height**2)/3),L%2===0&&(L+=1);else{const j=Math.max(Math.abs((T?T.clientWidth:0)-N),N)*2+2,P=Math.max(Math.abs((T?T.clientHeight:0)-M),M)*2+2;L=Math.sqrt(j**2+P**2)}E!=null&&E.touches?m.current===null&&(m.current=()=>{x({pulsate:C,rippleX:N,rippleY:M,rippleSize:L,cb:I})},p.start($z,()=>{m.current&&(m.current(),m.current=null)})):x({pulsate:C,rippleX:N,rippleY:M,rippleSize:L,cb:I})},[i,x,p]),w=y.useCallback(()=>{g({},{pulsate:!0})},[g]),_=y.useCallback((E,S)=>{if(p.clear(),(E==null?void 0:E.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{_(E,S)});return}m.current=null,c(I=>I.length>0?I.slice(1):I),d.current=S},[p]);return y.useImperativeHandle(n,()=>({pulsate:w,start:g,stop:_}),[w,g,_]),f.jsx(Uz,D({className:we(ii.root,s.root,o),ref:v},a,{children:f.jsx(Rz,{component:null,exit:!0,children:l})}))}),Wz=zz;function Hz(t){return Xe("MuiButtonBase",t)}const qz=We("MuiButtonBase",["root","disabled","focusVisible"]),Gz=qz,Kz=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Qz=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=nt({root:["root",e&&"disabled",n&&"focusVisible"]},Hz,i);return n&&r&&(o.root+=` ${r}`),o},Yz=ae("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Gz.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Xz=y.forwardRef(function(e,n){const r=Je({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:m,onClick:v,onContextMenu:x,onDragLeave:g,onFocus:w,onFocusVisible:_,onKeyDown:E,onKeyUp:S,onMouseDown:I,onMouseLeave:C,onMouseUp:b,onTouchEnd:R,onTouchMove:T,onTouchStart:k,tabIndex:N=0,TouchRippleProps:M,touchRippleRef:L,type:j}=r,P=de(r,Kz),A=y.useRef(null),O=y.useRef(null),$=Rn(O,L),{isFocusVisibleRef:F,onFocus:q,onBlur:W,ref:z}=UU(),[B,V]=y.useState(!1);c&&B&&V(!1),y.useImperativeHandle(i,()=>({focusVisible:()=>{V(!0),A.current.focus()}}),[]);const[G,ie]=y.useState(!1);y.useEffect(()=>{ie(!0)},[]);const le=G&&!u&&!c;y.useEffect(()=>{B&&h&&!u&&G&&O.current.pulsate()},[u,h,B,G]);function ee(me,bt,tn=d){return di(ln=>(bt&&bt(ln),!tn&&O.current&&O.current[me](ln),!0))}const he=ee("start",I),ce=ee("stop",x),oe=ee("stop",g),ge=ee("stop",b),Se=ee("stop",me=>{B&&me.preventDefault(),C&&C(me)}),_e=ee("start",k),_t=ee("stop",R),Ve=ee("stop",T),De=ee("stop",me=>{W(me),F.current===!1&&V(!1),m&&m(me)},!1),st=di(me=>{A.current||(A.current=me.currentTarget),q(me),F.current===!0&&(V(!0),_&&_(me)),w&&w(me)}),dt=()=>{const me=A.current;return l&&l!=="button"&&!(me.tagName==="A"&&me.href)},Te=y.useRef(!1),It=di(me=>{h&&!Te.current&&B&&O.current&&me.key===" "&&(Te.current=!0,O.current.stop(me,()=>{O.current.start(me)})),me.target===me.currentTarget&&dt()&&me.key===" "&&me.preventDefault(),E&&E(me),me.target===me.currentTarget&&dt()&&me.key==="Enter"&&!c&&(me.preventDefault(),v&&v(me))}),$e=di(me=>{h&&me.key===" "&&O.current&&B&&!me.defaultPrevented&&(Te.current=!1,O.current.stop(me,()=>{O.current.pulsate(me)})),S&&S(me),v&&me.target===me.currentTarget&&dt()&&me.key===" "&&!me.defaultPrevented&&v(me)});let Ee=l;Ee==="button"&&(P.href||P.to)&&(Ee=p);const St={};Ee==="button"?(St.type=j===void 0?"button":j,St.disabled=c):(!P.href&&!P.to&&(St.role="button"),c&&(St["aria-disabled"]=c));const an=Rn(n,z,A),Mn=D({},r,{centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:N,focusVisible:B}),Re=Qz(Mn);return f.jsxs(Yz,D({as:Ee,className:we(Re.root,a),ownerState:Mn,onBlur:De,onClick:v,onContextMenu:ce,onFocus:st,onKeyDown:It,onKeyUp:$e,onMouseDown:he,onMouseLeave:Se,onMouseUp:ge,onDragLeave:oe,onTouchEnd:_t,onTouchMove:Ve,onTouchStart:_e,ref:an,tabIndex:c?-1:N,type:j},St,P,{children:[o,le?f.jsx(Wz,D({ref:$,center:s},M)):null]}))}),ix=Xz;function Jz(t){return Xe("MuiIconButton",t)}const Zz=We("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),eW=Zz,tW=["edge","children","className","color","disabled","disableFocusRipple","size"],nW=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${se(r)}`,i&&`edge${se(i)}`,`size${se(s)}`]};return nt(o,Jz,e)},rW=ae(ix,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${se(n.color)}`],n.edge&&e[`edge${se(n.edge)}`],e[`size${se(n.size)}`]]}})(({theme:t,ownerState:e})=>D({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:hi(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return D({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&D({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":D({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:hi(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${eW.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),iW=y.forwardRef(function(e,n){const r=Je({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=de(r,tW),h=D({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),p=nW(h);return f.jsx(rW,D({className:we(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:h,children:s}))}),Sn=iW;function sW(t){return Xe("MuiTypography",t)}We("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const oW=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],aW=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${se(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return nt(a,sW,o)},lW=ae("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${se(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>D({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),bb={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},cW={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},uW=t=>cW[t]||t,dW=y.forwardRef(function(e,n){const r=Je({props:e,name:"MuiTypography"}),i=uW(r.color),s=wf(D({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:h="body1",variantMapping:p=bb}=s,m=de(s,oW),v=D({},s,{align:o,color:i,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:h,variantMapping:p}),x=l||(d?"p":p[h]||bb[h])||"span",g=aW(v);return f.jsx(lW,D({as:x,ref:n,ownerState:v,className:we(g.root,a)},m))}),jt=dW;function hW(t){return Xe("MuiAppBar",t)}We("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const fW=["className","color","enableColorOnDark","position"],pW=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${se(e)}`,`position${se(n)}`]};return nt(i,hW,r)},I0=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,mW=ae(Pu,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${se(n.position)}`],e[`color${se(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return D({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&D({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&D({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&D({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:I0(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:I0(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:I0(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:I0(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},!["inherit","transparent"].includes(e.color)&&{backgroundColor:"var(--AppBar-background)"},{color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),gW=y.forwardRef(function(e,n){const r=Je({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=de(r,fW),c=D({},r,{color:s,position:a,enableColorOnDark:o}),u=pW(c);return f.jsx(mW,D({square:!0,component:"header",ownerState:c,elevation:4,className:we(u.root,i,a==="fixed"&&"mui-fixed"),ref:n},l))}),qA=gW;function vW(t){return typeof t=="function"?t():t}const yW=y.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=y.useState(null),l=Rn(y.isValidElement(r)?r.ref:null,n);if(_s(()=>{s||a(vW(i)||document.body)},[i,s]),_s(()=>{if(o&&!s)return Jy(n,o),()=>{Jy(n,null)}},[n,o,s]),s){if(y.isValidElement(r)){const c={ref:l};return y.cloneElement(r,c)}return f.jsx(y.Fragment,{children:r})}return f.jsx(y.Fragment,{children:o&&Th.createPortal(r,o)})}),_W=yW,wW=["onChange","maxRows","minRows","style","value"];function b0(t){return parseInt(t,10)||0}const xW={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function EW(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const IW=y.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=de(e,wW),{current:c}=y.useRef(a!=null),u=y.useRef(null),d=Rn(n,u),h=y.useRef(null),p=y.useRef(null),m=y.useCallback(()=>{const g=u.current,_=qr(g).getComputedStyle(g);if(_.width==="0px")return{outerHeightStyle:0,overflowing:!1};const E=p.current;E.style.width=_.width,E.value=g.value||e.placeholder||"x",E.value.slice(-1)===`
`&&(E.value+=" ");const S=_.boxSizing,I=b0(_.paddingBottom)+b0(_.paddingTop),C=b0(_.borderBottomWidth)+b0(_.borderTopWidth),b=E.scrollHeight;E.value="x";const R=E.scrollHeight;let T=b;s&&(T=Math.max(Number(s)*R,T)),i&&(T=Math.min(Number(i)*R,T)),T=Math.max(T,R);const k=T+(S==="border-box"?I+C:0),N=Math.abs(T-b)<=1;return{outerHeightStyle:k,overflowing:N}},[i,s,e.placeholder]),v=y.useCallback(()=>{const g=m();if(EW(g))return;const w=g.outerHeightStyle,_=u.current;h.current!==w&&(h.current=w,_.style.height=`${w}px`),_.style.overflow=g.overflowing?"hidden":""},[m]);_s(()=>{const g=()=>{v()};let w;const _=W3(g),E=u.current,S=qr(E);S.addEventListener("resize",_);let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver(g),I.observe(E)),()=>{_.clear(),cancelAnimationFrame(w),S.removeEventListener("resize",_),I&&I.disconnect()}},[m,v]),_s(()=>{v()});const x=g=>{c||v(),r&&r(g)};return f.jsxs(y.Fragment,{children:[f.jsx("textarea",D({value:a,onChange:x,ref:d,rows:s,style:o},l)),f.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:D({},xW.shadow,o,{paddingTop:0,paddingBottom:0})})]})}),bW=IW;function Nu({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const CW=y.createContext(void 0),sx=CW;function Lu(){return y.useContext(sx)}function TW(t){return f.jsx(eU,D({},t,{defaultTheme:X3,themeId:y2}))}function Cb(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function hm(t,e=!1){return t&&(Cb(t.value)&&t.value!==""||e&&Cb(t.defaultValue)&&t.defaultValue!=="")}function SW(t){return t.startAdornment}function RW(t){return Xe("MuiInputBase",t)}const kW=We("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),nu=kW,AW=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],cg=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${se(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},ug=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},PW=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:m}=t,v={root:["root",`color${se(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h&&h!=="medium"&&`size${se(h)}`,u&&"multiline",p&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return nt(v,RW,e)},dg=ae("div",{name:"MuiInputBase",slot:"Root",overridesResolver:cg})(({theme:t,ownerState:e})=>D({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${nu.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&D({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),hg=ae("input",{name:"MuiInputBase",slot:"Input",overridesResolver:ug})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=D({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return D({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${nu.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${nu.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),NW=f.jsx(TW,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),LW=y.forwardRef(function(e,n){var r;const i=Je({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:m,fullWidth:v=!1,id:x,inputComponent:g="input",inputProps:w={},inputRef:_,maxRows:E,minRows:S,multiline:I=!1,name:C,onBlur:b,onChange:R,onClick:T,onFocus:k,onKeyDown:N,onKeyUp:M,placeholder:L,readOnly:j,renderSuffix:P,rows:A,slotProps:O={},slots:$={},startAdornment:F,type:q="text",value:W}=i,z=de(i,AW),B=w.value!=null?w.value:W,{current:V}=y.useRef(B!=null),G=y.useRef(),ie=y.useCallback(Re=>{},[]),le=Rn(G,_,w.ref,ie),[ee,he]=y.useState(!1),ce=Lu(),oe=Nu({props:i,muiFormControl:ce,states:["color","disabled","error","hiddenLabel","size","required","filled"]});oe.focused=ce?ce.focused:ee,y.useEffect(()=>{!ce&&h&&ee&&(he(!1),b&&b())},[ce,h,ee,b]);const ge=ce&&ce.onFilled,Se=ce&&ce.onEmpty,_e=y.useCallback(Re=>{hm(Re)?ge&&ge():Se&&Se()},[ge,Se]);_s(()=>{V&&_e({value:B})},[B,_e,V]);const _t=Re=>{if(oe.disabled){Re.stopPropagation();return}k&&k(Re),w.onFocus&&w.onFocus(Re),ce&&ce.onFocus?ce.onFocus(Re):he(!0)},Ve=Re=>{b&&b(Re),w.onBlur&&w.onBlur(Re),ce&&ce.onBlur?ce.onBlur(Re):he(!1)},De=(Re,...me)=>{if(!V){const bt=Re.target||G.current;if(bt==null)throw new Error(al(1));_e({value:bt.value})}w.onChange&&w.onChange(Re,...me),R&&R(Re,...me)};y.useEffect(()=>{_e(G.current)},[]);const st=Re=>{G.current&&Re.currentTarget===Re.target&&G.current.focus(),T&&T(Re)};let dt=g,Te=w;I&&dt==="input"&&(A?Te=D({type:void 0,minRows:A,maxRows:A},Te):Te=D({type:void 0,maxRows:E,minRows:S},Te),dt=bW);const It=Re=>{_e(Re.animationName==="mui-auto-fill-cancel"?G.current:{value:"x"})};y.useEffect(()=>{ce&&ce.setAdornedStart(!!F)},[ce,F]);const $e=D({},i,{color:oe.color||"primary",disabled:oe.disabled,endAdornment:m,error:oe.error,focused:oe.focused,formControl:ce,fullWidth:v,hiddenLabel:oe.hiddenLabel,multiline:I,size:oe.size,startAdornment:F,type:q}),Ee=PW($e),St=$.root||c.Root||dg,an=O.root||u.root||{},Mn=$.input||c.Input||hg;return Te=D({},Te,(r=O.input)!=null?r:u.input),f.jsxs(y.Fragment,{children:[!p&&NW,f.jsxs(St,D({},an,!lm(St)&&{ownerState:D({},$e,an.ownerState)},{ref:n,onClick:st},z,{className:we(Ee.root,an.className,l,j&&"MuiInputBase-readOnly"),children:[F,f.jsx(sx.Provider,{value:null,children:f.jsx(Mn,D({ownerState:$e,"aria-invalid":oe.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:oe.disabled,id:x,onAnimationStart:It,name:C,placeholder:L,readOnly:j,required:oe.required,rows:A,value:B,onKeyDown:N,onKeyUp:M,type:q},Te,!lm(Mn)&&{as:dt,ownerState:D({},$e,Te.ownerState)},{ref:le,className:we(Ee.input,Te.className,j&&"MuiInputBase-readOnly"),onBlur:Ve,onChange:De,onFocus:_t}))}),m,P?P(D({},oe,{startAdornment:F})):null]}))]})}),ox=LW;function MW(t){return Xe("MuiInput",t)}const OW=D({},nu,We("MuiInput",["root","underline","input"])),id=OW;function DW(t){return Xe("MuiOutlinedInput",t)}const $W=D({},nu,We("MuiOutlinedInput",["root","notchedOutline","input"])),co=$W;function jW(t){return Xe("MuiFilledInput",t)}const FW=D({},nu,We("MuiFilledInput",["root","underline","input"])),wa=FW,VW=yz(f.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),UW=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],BW={entering:{opacity:1},entered:{opacity:1}},zW=y.forwardRef(function(e,n){const r=ca(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:m,onExiting:v,style:x,timeout:g=i,TransitionComponent:w=ex}=e,_=de(e,UW),E=y.useRef(null),S=Rn(E,a.ref,n),I=L=>j=>{if(L){const P=E.current;j===void 0?L(P):L(P,j)}},C=I(h),b=I((L,j)=>{rx(L);const P=ul({style:x,timeout:g,easing:l},{mode:"enter"});L.style.webkitTransition=r.transitions.create("opacity",P),L.style.transition=r.transitions.create("opacity",P),u&&u(L,j)}),R=I(d),T=I(v),k=I(L=>{const j=ul({style:x,timeout:g,easing:l},{mode:"exit"});L.style.webkitTransition=r.transitions.create("opacity",j),L.style.transition=r.transitions.create("opacity",j),p&&p(L)}),N=I(m),M=L=>{s&&s(E.current,L)};return f.jsx(w,D({appear:o,in:c,nodeRef:E,onEnter:b,onEntered:R,onEntering:C,onExit:k,onExited:N,onExiting:T,addEndListener:M,timeout:g},_,{children:(L,j)=>y.cloneElement(a,D({style:D({opacity:0,visibility:L==="exited"&&!c?"hidden":void 0},BW[L],x,a.props.style),ref:S},j))}))}),GA=zW;function WW(t){return Xe("MuiBackdrop",t)}We("MuiBackdrop",["root","invisible"]);const HW=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],qW=t=>{const{classes:e,invisible:n}=t;return nt({root:["root",n&&"invisible"]},WW,e)},GW=ae("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>D({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),KW=y.forwardRef(function(e,n){var r,i,s;const o=Je({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:u={},componentsProps:d={},invisible:h=!1,open:p,slotProps:m={},slots:v={},TransitionComponent:x=GA,transitionDuration:g}=o,w=de(o,HW),_=D({},o,{component:c,invisible:h}),E=qW(_),S=(r=m.root)!=null?r:d.root;return f.jsx(x,D({in:p,timeout:g},w,{children:f.jsx(GW,D({"aria-hidden":!0},S,{as:(i=(s=v.root)!=null?s:u.Root)!=null?i:c,className:we(E.root,l,S==null?void 0:S.className),ownerState:D({},_,S==null?void 0:S.ownerState),classes:E,ref:n,children:a}))}))}),KA=KW,QW=We("MuiBox",["root"]),YW=QW,XW=VA(),JW=aU({themeId:y2,defaultTheme:XW,defaultClassName:YW.root,generateClassName:IA.generate}),ye=JW;function ZW(t){return Xe("MuiButton",t)}const eH=We("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),C0=eH,tH=y.createContext({}),nH=tH,rH=y.createContext(void 0),iH=rH,sH=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],oH=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${se(e)}`,`size${se(i)}`,`${s}Size${se(i)}`,`color${se(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${se(i)}`],endIcon:["icon","endIcon",`iconSize${se(i)}`]},l=nt(a,ZW,o);return D({},o,l)},QA=t=>D({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),aH=ae(ix,{shouldForwardProp:t=>$r(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${se(n.color)}`],e[`size${se(n.size)}`],e[`${n.variant}Size${se(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return D({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":D({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:hi(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:hi(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:hi(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":D({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${C0.focusVisible}`]:D({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${C0.disabled}`]:D({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${hi(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${C0.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${C0.disabled}`]:{boxShadow:"none"}}),lH=ae("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${se(n.size)}`]]}})(({ownerState:t})=>D({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},QA(t))),cH=ae("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${se(n.size)}`]]}})(({ownerState:t})=>D({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},QA(t))),uH=y.forwardRef(function(e,n){const r=y.useContext(nH),i=y.useContext(iH),s=Lh(r,e),o=Je({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:v,fullWidth:x=!1,size:g="medium",startIcon:w,type:_,variant:E="text"}=o,S=de(o,sH),I=D({},o,{color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:x,size:g,type:_,variant:E}),C=oH(I),b=w&&f.jsx(lH,{className:C.startIcon,ownerState:I,children:w}),R=m&&f.jsx(cH,{className:C.endIcon,ownerState:I,children:m}),T=i||"";return f.jsxs(aH,D({ownerState:I,className:we(r.className,C.root,u,T),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:we(C.focusVisible,v),ref:n,type:_},S,{classes:C,children:[b,a,R]}))}),Oe=uH;function dH(t){return Xe("MuiCircularProgress",t)}We("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const hH=["className","color","disableShrink","size","style","thickness","value","variant"];let fg=t=>t,Tb,Sb,Rb,kb;const uo=44,fH=no(Tb||(Tb=fg`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),pH=no(Sb||(Sb=fg`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),mH=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${se(r)}`],svg:["svg"],circle:["circle",`circle${se(n)}`,i&&"circleDisableShrink"]};return nt(s,dH,e)},gH=ae("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${se(n.color)}`]]}})(({ownerState:t,theme:e})=>D({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&Al(Rb||(Rb=fg`
      animation: ${0} 1.4s linear infinite;
    `),fH)),vH=ae("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),yH=ae("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${se(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>D({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&Al(kb||(kb=fg`
      animation: ${0} 1.4s ease-in-out infinite;
    `),pH)),_H=y.forwardRef(function(e,n){const r=Je({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,h=de(r,hH),p=D({},r,{color:s,disableShrink:o,size:a,thickness:c,value:u,variant:d}),m=mH(p),v={},x={},g={};if(d==="determinate"){const w=2*Math.PI*((uo-c)/2);v.strokeDasharray=w.toFixed(3),g["aria-valuenow"]=Math.round(u),v.strokeDashoffset=`${((100-u)/100*w).toFixed(3)}px`,x.transform="rotate(-90deg)"}return f.jsx(gH,D({className:we(m.root,i),style:D({width:a,height:a},x,l),ownerState:p,ref:n,role:"progressbar"},g,h,{children:f.jsx(vH,{className:m.svg,ownerState:p,viewBox:`${uo/2} ${uo/2} ${uo} ${uo}`,children:f.jsx(yH,{className:m.circle,style:v,ownerState:p,cx:uo,cy:uo,r:(uo-c)/2,fill:"none",strokeWidth:c})})}))}),wH=_H;function Ab(t){return t.substring(2).toLowerCase()}function xH(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function EH(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:s="onTouchEnd"}=t,o=y.useRef(!1),a=y.useRef(null),l=y.useRef(!1),c=y.useRef(!1);y.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const u=Rn(e.ref,a),d=di(m=>{const v=c.current;c.current=!1;const x=fn(a.current);if(!l.current||!a.current||"clientX"in m&&xH(m,x))return;if(o.current){o.current=!1;return}let g;m.composedPath?g=m.composedPath().indexOf(a.current)>-1:g=!x.documentElement.contains(m.target)||a.current.contains(m.target),!g&&(n||!v)&&i(m)}),h=m=>v=>{c.current=!0;const x=e.props[m];x&&x(v)},p={ref:u};return s!==!1&&(p[s]=h(s)),y.useEffect(()=>{if(s!==!1){const m=Ab(s),v=fn(a.current),x=()=>{o.current=!0};return v.addEventListener(m,d),v.addEventListener("touchmove",x),()=>{v.removeEventListener(m,d),v.removeEventListener("touchmove",x)}}},[d,s]),r!==!1&&(p[r]=h(r)),y.useEffect(()=>{if(r!==!1){const m=Ab(r),v=fn(a.current);return v.addEventListener(m,d),()=>{v.removeEventListener(m,d)}}},[d,r]),f.jsx(y.Fragment,{children:y.cloneElement(e,p)})}function IH(t){const e=fn(t);return e.body===t?qr(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Gd(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function Pb(t){return parseInt(qr(t).getComputedStyle(t).paddingRight,10)||0}function bH(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function Nb(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!bH(o);a&&l&&Gd(o,i)})}function av(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function CH(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(IH(r)){const o=kA(fn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Pb(r)+o}px`;const a=fn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${Pb(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=fn(r).body;else{const o=r.parentElement,a=qr(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function TH(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class SH{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Gd(e.modalRef,!1);const i=TH(n);Nb(n,e.mount,e.modalRef,i,!0);const s=av(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=av(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=CH(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=av(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Gd(e.modalRef,n),Nb(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&Gd(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const RH=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function kH(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function AH(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function PH(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||AH(t))}function NH(t){const e=[],n=[];return Array.from(t.querySelectorAll(RH)).forEach((r,i)=>{const s=kH(r);s===-1||!PH(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function LH(){return!0}function MH(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=NH,isEnabled:o=LH,open:a}=t,l=y.useRef(!1),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),h=y.useRef(null),p=y.useRef(!1),m=y.useRef(null),v=Rn(e.ref,m),x=y.useRef(null);y.useEffect(()=>{!a||!m.current||(p.current=!n)},[n,a]),y.useEffect(()=>{if(!a||!m.current)return;const _=fn(m.current);return m.current.contains(_.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),y.useEffect(()=>{if(!a||!m.current)return;const _=fn(m.current),E=C=>{x.current=C,!(r||!o()||C.key!=="Tab")&&_.activeElement===m.current&&C.shiftKey&&(l.current=!0,u.current&&u.current.focus())},S=()=>{const C=m.current;if(C===null)return;if(!_.hasFocus()||!o()||l.current){l.current=!1;return}if(C.contains(_.activeElement)||r&&_.activeElement!==c.current&&_.activeElement!==u.current)return;if(_.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let b=[];if((_.activeElement===c.current||_.activeElement===u.current)&&(b=s(m.current)),b.length>0){var R,T;const k=!!((R=x.current)!=null&&R.shiftKey&&((T=x.current)==null?void 0:T.key)==="Tab"),N=b[0],M=b[b.length-1];typeof N!="string"&&typeof M!="string"&&(k?M.focus():N.focus())}else C.focus()};_.addEventListener("focusin",S),_.addEventListener("keydown",E,!0);const I=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&S()},50);return()=>{clearInterval(I),_.removeEventListener("focusin",S),_.removeEventListener("keydown",E,!0)}},[n,r,i,o,a,s]);const g=_=>{d.current===null&&(d.current=_.relatedTarget),p.current=!0,h.current=_.target;const E=e.props.onFocus;E&&E(_)},w=_=>{d.current===null&&(d.current=_.relatedTarget),p.current=!0};return f.jsxs(y.Fragment,{children:[f.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:c,"data-testid":"sentinelStart"}),y.cloneElement(e,{ref:v,onFocus:g}),f.jsx("div",{tabIndex:a?0:-1,onFocus:w,ref:u,"data-testid":"sentinelEnd"})]})}function OH(t){return typeof t=="function"?t():t}function DH(t){return t?t.props.hasOwnProperty("in"):!1}const $H=new SH;function jH(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=$H,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=t,h=y.useRef({}),p=y.useRef(null),m=y.useRef(null),v=Rn(m,d),[x,g]=y.useState(!u),w=DH(l);let _=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(_=!1);const E=()=>fn(p.current),S=()=>(h.current.modalRef=m.current,h.current.mount=p.current,h.current),I=()=>{i.mount(S(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},C=di(()=>{const P=OH(e)||E().body;i.add(S(),P),m.current&&I()}),b=y.useCallback(()=>i.isTopModal(S()),[i]),R=di(P=>{p.current=P,P&&(u&&b()?I():m.current&&Gd(m.current,_))}),T=y.useCallback(()=>{i.remove(S(),_)},[_,i]);y.useEffect(()=>()=>{T()},[T]),y.useEffect(()=>{u?C():(!w||!s)&&T()},[u,T,w,s,C]);const k=P=>A=>{var O;(O=P.onKeyDown)==null||O.call(P,A),!(A.key!=="Escape"||A.which===229||!b())&&(n||(A.stopPropagation(),c&&c(A,"escapeKeyDown")))},N=P=>A=>{var O;(O=P.onClick)==null||O.call(P,A),A.target===A.currentTarget&&c&&c(A,"backdropClick")};return{getRootProps:(P={})=>{const A=cm(t);delete A.onTransitionEnter,delete A.onTransitionExited;const O=D({},A,P);return D({role:"presentation"},O,{onKeyDown:k(O),ref:v})},getBackdropProps:(P={})=>{const A=P;return D({"aria-hidden":!0},A,{onClick:N(A),open:u})},getTransitionProps:()=>{const P=()=>{g(!1),o&&o()},A=()=>{g(!0),a&&a(),s&&T()};return{onEnter:rb(P,l==null?void 0:l.props.onEnter),onExited:rb(A,l==null?void 0:l.props.onExited)}},rootRef:v,portalRef:R,isTopModal:b,exited:x,hasTransition:w}}function FH(t){return Xe("MuiModal",t)}We("MuiModal",["root","hidden","backdrop"]);const VH=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],UH=t=>{const{open:e,exited:n,classes:r}=t;return nt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},FH,r)},BH=ae("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>D({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),zH=ae(KA,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),WH=y.forwardRef(function(e,n){var r,i,s,o,a,l;const c=Je({name:"MuiModal",props:e}),{BackdropComponent:u=zH,BackdropProps:d,className:h,closeAfterTransition:p=!1,children:m,container:v,component:x,components:g={},componentsProps:w={},disableAutoFocus:_=!1,disableEnforceFocus:E=!1,disableEscapeKeyDown:S=!1,disablePortal:I=!1,disableRestoreFocus:C=!1,disableScrollLock:b=!1,hideBackdrop:R=!1,keepMounted:T=!1,onBackdropClick:k,open:N,slotProps:M,slots:L}=c,j=de(c,VH),P=D({},c,{closeAfterTransition:p,disableAutoFocus:_,disableEnforceFocus:E,disableEscapeKeyDown:S,disablePortal:I,disableRestoreFocus:C,disableScrollLock:b,hideBackdrop:R,keepMounted:T}),{getRootProps:A,getBackdropProps:O,getTransitionProps:$,portalRef:F,isTopModal:q,exited:W,hasTransition:z}=jH(D({},P,{rootRef:n})),B=D({},P,{exited:W}),V=UH(B),G={};if(m.props.tabIndex===void 0&&(G.tabIndex="-1"),z){const{onEnter:ge,onExited:Se}=$();G.onEnter=ge,G.onExited=Se}const ie=(r=(i=L==null?void 0:L.root)!=null?i:g.Root)!=null?r:BH,le=(s=(o=L==null?void 0:L.backdrop)!=null?o:g.Backdrop)!=null?s:u,ee=(a=M==null?void 0:M.root)!=null?a:w.root,he=(l=M==null?void 0:M.backdrop)!=null?l:w.backdrop,ce=cl({elementType:ie,externalSlotProps:ee,externalForwardedProps:j,getSlotProps:A,additionalProps:{ref:n,as:x},ownerState:B,className:we(h,ee==null?void 0:ee.className,V==null?void 0:V.root,!B.open&&B.exited&&(V==null?void 0:V.hidden))}),oe=cl({elementType:le,externalSlotProps:he,additionalProps:d,getSlotProps:ge=>O(D({},ge,{onClick:Se=>{k&&k(Se),ge!=null&&ge.onClick&&ge.onClick(Se)}})),className:we(he==null?void 0:he.className,d==null?void 0:d.className,V==null?void 0:V.backdrop),ownerState:B});return!T&&!N&&(!z||W)?null:f.jsx(_W,{ref:F,container:v,disablePortal:I,children:f.jsxs(ie,D({},ce,{children:[!R&&u?f.jsx(le,D({},oe)):null,f.jsx(MH,{disableEnforceFocus:E,disableAutoFocus:_,disableRestoreFocus:C,isEnabled:q,open:N,children:y.cloneElement(m,G)})]}))})}),ax=WH;function HH(t){return Xe("MuiDialog",t)}const qH=We("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),lv=qH,GH=y.createContext({}),YA=GH,KH=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],QH=ae(KA,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),YH=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=t,o={root:["root"],container:["container",`scroll${se(n)}`],paper:["paper",`paperScroll${se(n)}`,`paperWidth${se(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return nt(o,HH,e)},XH=ae(ax,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),JH=ae("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${se(n.scroll)}`]]}})(({ownerState:t})=>D({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),ZH=ae(Pu,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${se(n.scroll)}`],e[`paperWidth${se(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>D({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${lv.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${lv.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${lv.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),eq=y.forwardRef(function(e,n){const r=Je({props:e,name:"MuiDialog"}),i=ca(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:h=!1,fullScreen:p=!1,fullWidth:m=!1,maxWidth:v="sm",onBackdropClick:x,onClick:g,onClose:w,open:_,PaperComponent:E=Pu,PaperProps:S={},scroll:I="paper",TransitionComponent:C=GA,transitionDuration:b=s,TransitionProps:R}=r,T=de(r,KH),k=D({},r,{disableEscapeKeyDown:h,fullScreen:p,fullWidth:m,maxWidth:v,scroll:I}),N=YH(k),M=y.useRef(),L=O=>{M.current=O.target===O.currentTarget},j=O=>{g&&g(O),M.current&&(M.current=null,x&&x(O),w&&w(O,"backdropClick"))},P=H3(a),A=y.useMemo(()=>({titleId:P}),[P]);return f.jsx(XH,D({className:we(N.root,d),closeAfterTransition:!0,components:{Backdrop:QH},componentsProps:{backdrop:D({transitionDuration:b,as:l},c)},disableEscapeKeyDown:h,onClose:w,open:_,ref:n,onClick:j,ownerState:k},T,{children:f.jsx(C,D({appear:!0,in:_,timeout:b,role:"presentation"},R,{children:f.jsx(JH,{className:we(N.container),onMouseDown:L,ownerState:k,children:f.jsx(ZH,D({as:E,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":P},S,{className:we(N.paper,S.className),ownerState:k,children:f.jsx(YA.Provider,{value:A,children:u})}))})}))}))}),Qi=eq;function tq(t){return Xe("MuiDialogTitle",t)}We("MuiDialogTitle",["root"]);const nq=["className","id"],rq=t=>{const{classes:e}=t;return nt({root:["root"]},tq,e)},iq=ae(jt,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),sq=y.forwardRef(function(e,n){const r=Je({props:e,name:"MuiDialogTitle"}),{className:i,id:s}=r,o=de(r,nq),a=r,l=rq(a),{titleId:c=s}=y.useContext(YA);return f.jsx(iq,D({component:"h2",className:we(l.root,i),ownerState:a,ref:n,variant:"h6",id:s??c},o))}),oq=sq,aq=We("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Lb=aq,lq=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function cq(t,e,n){const r=e.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),s=qr(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const c=s.getComputedStyle(e);o=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let a=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const c=o.split("(")[1].split(")")[0].split(",");a=parseInt(c[4],10),l=parseInt(c[5],10)}return t==="left"?i?`translateX(${i.right+a-r.left}px)`:`translateX(${s.innerWidth+a-r.left}px)`:t==="right"?i?`translateX(-${r.right-i.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:t==="up"?i?`translateY(${i.bottom+l-r.top}px)`:`translateY(${s.innerHeight+l-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function uq(t){return typeof t=="function"?t():t}function T0(t,e,n){const r=uq(n),i=cq(t,e,r);i&&(e.style.webkitTransform=i,e.style.transform=i)}const dq=y.forwardRef(function(e,n){const r=ca(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:c,direction:u="down",easing:d=i,in:h,onEnter:p,onEntered:m,onEntering:v,onExit:x,onExited:g,onExiting:w,style:_,timeout:E=s,TransitionComponent:S=ex}=e,I=de(e,lq),C=y.useRef(null),b=Rn(l.ref,C,n),R=O=>$=>{O&&($===void 0?O(C.current):O(C.current,$))},T=R((O,$)=>{T0(u,O,c),rx(O),p&&p(O,$)}),k=R((O,$)=>{const F=ul({timeout:E,style:_,easing:d},{mode:"enter"});O.style.webkitTransition=r.transitions.create("-webkit-transform",D({},F)),O.style.transition=r.transitions.create("transform",D({},F)),O.style.webkitTransform="none",O.style.transform="none",v&&v(O,$)}),N=R(m),M=R(w),L=R(O=>{const $=ul({timeout:E,style:_,easing:d},{mode:"exit"});O.style.webkitTransition=r.transitions.create("-webkit-transform",$),O.style.transition=r.transitions.create("transform",$),T0(u,O,c),x&&x(O)}),j=R(O=>{O.style.webkitTransition="",O.style.transition="",g&&g(O)}),P=O=>{o&&o(C.current,O)},A=y.useCallback(()=>{C.current&&T0(u,C.current,c)},[u,c]);return y.useEffect(()=>{if(h||u==="down"||u==="right")return;const O=W3(()=>{C.current&&T0(u,C.current,c)}),$=qr(C.current);return $.addEventListener("resize",O),()=>{O.clear(),$.removeEventListener("resize",O)}},[u,h,c]),y.useEffect(()=>{h||A()},[h,A]),f.jsx(S,D({nodeRef:C,onEnter:T,onEntered:N,onEntering:k,onExit:L,onExited:j,onExiting:M,addEndListener:P,appear:a,in:h,timeout:E},I,{children:(O,$)=>y.cloneElement(l,D({ref:b,style:D({visibility:O==="exited"&&!h?"hidden":void 0},_,l.props.style)},$))}))}),XA=dq;function hq(t){return Xe("MuiDrawer",t)}We("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const fq=["BackdropProps"],pq=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],JA=(t,e)=>{const{ownerState:n}=t;return[e.root,(n.variant==="permanent"||n.variant==="persistent")&&e.docked,e.modal]},mq=t=>{const{classes:e,anchor:n,variant:r}=t,i={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${se(n)}`,r!=="temporary"&&`paperAnchorDocked${se(n)}`]};return nt(i,hq,e)},gq=ae(ax,{name:"MuiDrawer",slot:"Root",overridesResolver:JA})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),Mb=ae("div",{shouldForwardProp:$r,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:JA})({flex:"0 0 auto"}),vq=ae(Pu,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`paperAnchor${se(n.anchor)}`],n.variant!=="temporary"&&e[`paperAnchorDocked${se(n.anchor)}`]]}})(({theme:t,ownerState:e})=>D({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),ZA={left:"right",right:"left",top:"down",bottom:"up"};function Aa(t){return["left","right"].indexOf(t)!==-1}function Rd({direction:t},e){return t==="rtl"&&Aa(e)?ZA[e]:e}const yq=y.forwardRef(function(e,n){const r=Je({props:e,name:"MuiDrawer"}),i=ca(),s=G3(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:c,className:u,elevation:d=16,hideBackdrop:h=!1,ModalProps:{BackdropProps:p}={},onClose:m,open:v=!1,PaperProps:x={},SlideProps:g,TransitionComponent:w=XA,transitionDuration:_=o,variant:E="temporary"}=r,S=de(r.ModalProps,fq),I=de(r,pq),C=y.useRef(!1);y.useEffect(()=>{C.current=!0},[]);const b=Rd({direction:s?"rtl":"ltr"},a),T=D({},r,{anchor:a,elevation:d,open:v,variant:E},I),k=mq(T),N=f.jsx(vq,D({elevation:E==="temporary"?d:0,square:!0},x,{className:we(k.paper,x.className),ownerState:T,children:c}));if(E==="permanent")return f.jsx(Mb,D({className:we(k.root,k.docked,u),ownerState:T,ref:n},I,{children:N}));const M=f.jsx(w,D({in:v,direction:ZA[b],timeout:_,appear:C.current},g,{children:N}));return E==="persistent"?f.jsx(Mb,D({className:we(k.root,k.docked,u),ownerState:T,ref:n},I,{children:M})):f.jsx(gq,D({BackdropProps:D({},l,p,{transitionDuration:_}),className:we(k.root,k.modal,u),open:v,ownerState:T,onClose:m,hideBackdrop:h,ref:n},I,S,{children:M}))}),_q=yq,wq=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],xq=t=>{const{classes:e,disableUnderline:n}=t,i=nt({root:["root",!n&&"underline"],input:["input"]},jW,e);return D({},e,i)},Eq=ae(dg,{shouldForwardProp:t=>$r(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...cg(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return D({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${wa.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${wa.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${wa.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${wa.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${wa.disabled}, .${wa.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${wa.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&D({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),Iq=ae(hg,{name:"MuiFilledInput",slot:"Input",overridesResolver:ug})(({theme:t,ownerState:e})=>D({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),e6=y.forwardRef(function(e,n){var r,i,s,o;const a=Je({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:p,slots:m={},type:v="text"}=a,x=de(a,wq),g=D({},a,{fullWidth:u,inputComponent:d,multiline:h,type:v}),w=xq(a),_={root:{ownerState:g},input:{ownerState:g}},E=p??c?mr(_,p??c):_,S=(r=(i=m.root)!=null?i:l.Root)!=null?r:Eq,I=(s=(o=m.input)!=null?o:l.Input)!=null?s:Iq;return f.jsx(ox,D({slots:{root:S,input:I},componentsProps:E,fullWidth:u,inputComponent:d,multiline:h,ref:n,type:v},x,{classes:w}))});e6.muiName="Input";const t6=e6;function bq(t){return Xe("MuiFormControl",t)}We("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Cq=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Tq=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${se(n)}`,r&&"fullWidth"]};return nt(i,bq,e)},Sq=ae("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>D({},e.root,e[`margin${se(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>D({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),Rq=y.forwardRef(function(e,n){const r=Je({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:m=!1,size:v="medium",variant:x="outlined"}=r,g=de(r,Cq),w=D({},r,{color:o,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:p,required:m,size:v,variant:x}),_=Tq(w),[E,S]=y.useState(()=>{let M=!1;return i&&y.Children.forEach(i,L=>{if(!rv(L,["Input","Select"]))return;const j=rv(L,["Select"])?L.props.input:L;j&&SW(j.props)&&(M=!0)}),M}),[I,C]=y.useState(()=>{let M=!1;return i&&y.Children.forEach(i,L=>{rv(L,["Input","Select"])&&(hm(L.props,!0)||hm(L.props.inputProps,!0))&&(M=!0)}),M}),[b,R]=y.useState(!1);l&&b&&R(!1);const T=u!==void 0&&!l?u:b;let k;const N=y.useMemo(()=>({adornedStart:E,setAdornedStart:S,color:o,disabled:l,error:c,filled:I,focused:T,fullWidth:d,hiddenLabel:h,size:v,onBlur:()=>{R(!1)},onEmpty:()=>{C(!1)},onFilled:()=>{C(!0)},onFocus:()=>{R(!0)},registerEffect:k,required:m,variant:x}),[E,o,l,c,I,T,d,h,k,m,v,x]);return f.jsx(sx.Provider,{value:N,children:f.jsx(Sq,D({as:a,ownerState:w,className:we(_.root,s),ref:n},g,{children:i}))})}),kq=Rq,Aq=rB({createStyledComponent:ae("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>Je({props:t,name:"MuiStack"})}),gi=Aq;function Pq(t){return Xe("MuiFormHelperText",t)}const Nq=We("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),Ob=Nq;var Db;const Lq=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Mq=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,c={root:["root",i&&"disabled",s&&"error",r&&`size${se(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return nt(c,Pq,e)},Oq=ae("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${se(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>D({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Ob.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Ob.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),Dq=y.forwardRef(function(e,n){const r=Je({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=de(r,Lq),l=Lu(),c=Nu({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=D({},r,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=Mq(u);return f.jsx(Oq,D({as:o,ownerState:u,className:we(d.root,s),ref:n},a,{children:i===" "?Db||(Db=f.jsx("span",{className:"notranslate",children:""})):i}))}),$q=Dq;function jq(t){return Xe("MuiFormLabel",t)}const Fq=We("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Kd=Fq,Vq=["children","className","color","component","disabled","error","filled","focused","required"],Uq=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${se(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return nt(l,jq,e)},Bq=ae("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>D({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>D({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Kd.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Kd.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Kd.error}`]:{color:(t.vars||t).palette.error.main}})),zq=ae("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Kd.error}`]:{color:(t.vars||t).palette.error.main}})),Wq=y.forwardRef(function(e,n){const r=Je({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=de(r,Vq),l=Lu(),c=Nu({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=D({},r,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=Uq(u);return f.jsxs(Bq,D({as:o,ownerState:u,className:we(d.root,s),ref:n},a,{children:[i,c.required&&f.jsxs(zq,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:["","*"]})]}))}),Hq=Wq,qq=y.createContext(),$b=qq;function Gq(t){return Xe("MuiGrid",t)}const Kq=[0,1,2,3,4,5,6,7,8,9,10],Qq=["column-reverse","column","row-reverse","row"],Yq=["nowrap","wrap-reverse","wrap"],sd=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Mh=We("MuiGrid",["root","container","item","zeroMinWidth",...Kq.map(t=>`spacing-xs-${t}`),...Qq.map(t=>`direction-xs-${t}`),...Yq.map(t=>`wrap-xs-${t}`),...sd.map(t=>`grid-xs-${t}`),...sd.map(t=>`grid-sm-${t}`),...sd.map(t=>`grid-md-${t}`),...sd.map(t=>`grid-lg-${t}`),...sd.map(t=>`grid-xl-${t}`)]),Xq=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function jc(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function Jq({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=Ka({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const u=t.spacing(e.columnSpacing);if(u!=="0px"){const d=`calc(${l} + ${jc(u)})`;c={flexBasis:d,maxWidth:d}}}s=D({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function Zq({theme:t,ownerState:e}){const n=Ka({values:e.direction,breakpoints:t.breakpoints.values});return Mr({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Mh.item}`]={maxWidth:"none"}),i})}function n6({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,s)=>t[i]-t[s]);return r.slice(0,r.indexOf(n))}function eG({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=Ka({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=n6({breakpoints:t.breakpoints.values,values:s})),i=Mr({theme:t},s,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{marginTop:`-${jc(u)}`,[`& > .${Mh.item}`]:{paddingTop:jc(u)}}:(c=o)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${Mh.item}`]:{paddingTop:0}}})}return i}function tG({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=Ka({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=n6({breakpoints:t.breakpoints.values,values:s})),i=Mr({theme:t},s,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{width:`calc(100% + ${jc(u)})`,marginLeft:`-${jc(u)}`,[`& > .${Mh.item}`]:{paddingLeft:jc(u)}}:(c=o)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Mh.item}`]:{paddingLeft:0}}})}return i}function nG(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const rG=ae("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=nG(o,c,e));const d=[];return c.forEach(h=>{const p=n[h];p&&d.push(e[`grid-${h}-${String(p)}`])}),[e.root,r&&e.container,s&&e.item,l&&e.zeroMinWidth,...u,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:t})=>D({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),Zq,eG,tG,Jq);function iG(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const sG=t=>{const{classes:e,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:l}=t;let c=[];n&&(c=iG(s,l));const u=[];l.forEach(h=>{const p=t[h];p&&u.push(`grid-${h}-${String(p)}`)});const d={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...u]};return nt(d,Gq,e)},oG=y.forwardRef(function(e,n){const r=Je({props:e,name:"MuiGrid"}),{breakpoints:i}=ca(),s=wf(r),{className:o,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:h=!1,rowSpacing:p,spacing:m=0,wrap:v="wrap",zeroMinWidth:x=!1}=s,g=de(s,Xq),w=p||m,_=l||m,E=y.useContext($b),S=u?a||12:E,I={},C=D({},g);i.keys.forEach(T=>{g[T]!=null&&(I[T]=g[T],delete C[T])});const b=D({},s,{columns:S,container:u,direction:d,item:h,rowSpacing:w,columnSpacing:_,wrap:v,zeroMinWidth:x,spacing:m},I,{breakpoints:i.keys}),R=sG(b);return f.jsx($b.Provider,{value:S,children:f.jsx(rG,D({ownerState:b,className:we(R.root,o),as:c,ref:n},C))})}),Qd=oG,aG=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function i_(t){return`scale(${t}, ${t**2})`}const lG={entering:{opacity:1,transform:i_(1)},entered:{opacity:1,transform:"none"}},cv=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),r6=y.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:m,timeout:v="auto",TransitionComponent:x=ex}=e,g=de(e,aG),w=q3(),_=y.useRef(),E=ca(),S=y.useRef(null),I=Rn(S,s.ref,n),C=j=>P=>{if(j){const A=S.current;P===void 0?j(A):j(A,P)}},b=C(u),R=C((j,P)=>{rx(j);const{duration:A,delay:O,easing:$}=ul({style:m,timeout:v,easing:o},{mode:"enter"});let F;v==="auto"?(F=E.transitions.getAutoHeightDuration(j.clientHeight),_.current=F):F=A,j.style.transition=[E.transitions.create("opacity",{duration:F,delay:O}),E.transitions.create("transform",{duration:cv?F:F*.666,delay:O,easing:$})].join(","),l&&l(j,P)}),T=C(c),k=C(p),N=C(j=>{const{duration:P,delay:A,easing:O}=ul({style:m,timeout:v,easing:o},{mode:"exit"});let $;v==="auto"?($=E.transitions.getAutoHeightDuration(j.clientHeight),_.current=$):$=P,j.style.transition=[E.transitions.create("opacity",{duration:$,delay:A}),E.transitions.create("transform",{duration:cv?$:$*.666,delay:cv?A:A||$*.333,easing:O})].join(","),j.style.opacity=0,j.style.transform=i_(.75),d&&d(j)}),M=C(h),L=j=>{v==="auto"&&w.start(_.current||0,j),r&&r(S.current,j)};return f.jsx(x,D({appear:i,in:a,nodeRef:S,onEnter:R,onEntered:T,onEntering:b,onExit:N,onExited:M,onExiting:k,addEndListener:L,timeout:v==="auto"?null:v},g,{children:(j,P)=>y.cloneElement(s,D({style:D({opacity:0,transform:i_(.75),visibility:j==="exited"&&!a?"hidden":void 0},lG[j],m,s.props.style),ref:I},P))}))});r6.muiSupportAuto=!0;const i6=r6,cG=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],uG=t=>{const{classes:e,disableUnderline:n}=t,i=nt({root:["root",!n&&"underline"],input:["input"]},MW,e);return D({},e,i)},dG=ae(dg,{shouldForwardProp:t=>$r(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...cg(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),D({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${id.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${id.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${id.disabled}, .${id.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${id.disabled}:before`]:{borderBottomStyle:"dotted"}})}),hG=ae(hg,{name:"MuiInput",slot:"Input",overridesResolver:ug})({}),s6=y.forwardRef(function(e,n){var r,i,s,o;const a=Je({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:h="input",multiline:p=!1,slotProps:m,slots:v={},type:x="text"}=a,g=de(a,cG),w=uG(a),E={root:{ownerState:{disableUnderline:l}}},S=m??u?mr(m??u,E):E,I=(r=(i=v.root)!=null?i:c.Root)!=null?r:dG,C=(s=(o=v.input)!=null?o:c.Input)!=null?s:hG;return f.jsx(ox,D({slots:{root:I,input:C},slotProps:S,fullWidth:d,inputComponent:h,multiline:p,ref:n,type:x},g,{classes:w}))});s6.muiName="Input";const o6=s6;function fG(t){return Xe("MuiInputLabel",t)}We("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const pG=["disableAnimation","margin","shrink","variant","className"],mG=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,l={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${se(r)}`,o],asterisk:[a&&"asterisk"]},c=nt(l,fG,e);return D({},e,c)},gG=ae(Hq,{shouldForwardProp:t=>$r(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Kd.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>D({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&D({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&D({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&D({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),vG=y.forwardRef(function(e,n){const r=Je({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=de(r,pG),l=Lu();let c=s;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=Nu({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=D({},r,{disableAnimation:i,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),h=mG(d);return f.jsx(gG,D({"data-shrink":c,ownerState:d,ref:n,className:we(h.root,o)},a,{classes:h}))}),yG=vG;function _G(t){return Xe("MuiLinearProgress",t)}We("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const wG=["className","color","value","valueBuffer","variant"];let Mu=t=>t,jb,Fb,Vb,Ub,Bb,zb;const s_=4,xG=no(jb||(jb=Mu`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),EG=no(Fb||(Fb=Mu`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),IG=no(Vb||(Vb=Mu`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),bG=t=>{const{classes:e,variant:n,color:r}=t,i={root:["root",`color${se(r)}`,n],dashed:["dashed",`dashedColor${se(r)}`],bar1:["bar",`barColor${se(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${se(r)}`,n==="buffer"&&`color${se(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return nt(i,_G,e)},lx=(t,e)=>e==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?MA(t.palette[e].main,.62):LA(t.palette[e].main,.5),CG=ae("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${se(n.color)}`],e[n.variant]]}})(({ownerState:t,theme:e})=>D({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:lx(e,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),TG=ae("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${se(n.color)}`]]}})(({ownerState:t,theme:e})=>{const n=lx(e,t.color);return D({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},Al(Ub||(Ub=Mu`
    animation: ${0} 3s infinite linear;
  `),IG)),SG=ae("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${se(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:t,theme:e})=>D({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${s_}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${s_}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&Al(Bb||(Bb=Mu`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),xG)),RG=ae("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${se(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:t,theme:e})=>D({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:lx(e,t.color),transition:`transform .${s_}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&Al(zb||(zb=Mu`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),EG)),kG=y.forwardRef(function(e,n){const r=Je({props:e,name:"MuiLinearProgress"}),{className:i,color:s="primary",value:o,valueBuffer:a,variant:l="indeterminate"}=r,c=de(r,wG),u=D({},r,{color:s,variant:l}),d=bG(u),h=G3(),p={},m={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&o!==void 0){p["aria-valuenow"]=Math.round(o),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let v=o-100;h&&(v=-v),m.bar1.transform=`translateX(${v}%)`}if(l==="buffer"&&a!==void 0){let v=(a||0)-100;h&&(v=-v),m.bar2.transform=`translateX(${v}%)`}return f.jsxs(CG,D({className:we(d.root,i),ownerState:u,role:"progressbar"},p,{ref:n},c,{children:[l==="buffer"?f.jsx(TG,{className:d.dashed,ownerState:u}):null,f.jsx(SG,{className:d.bar1,ownerState:u,style:m.bar1}),l==="determinate"?null:f.jsx(RG,{className:d.bar2,ownerState:u,style:m.bar2})]}))}),Zt=kG,AG=y.createContext({}),o_=AG;function PG(t){return Xe("MuiList",t)}We("MuiList",["root","padding","dense","subheader"]);const NG=["children","className","component","dense","disablePadding","subheader"],LG=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return nt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},PG,e)},MG=ae("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>D({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),OG=y.forwardRef(function(e,n){const r=Je({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=de(r,NG),d=y.useMemo(()=>({dense:a}),[a]),h=D({},r,{component:o,dense:a,disablePadding:l}),p=LG(h);return f.jsx(o_.Provider,{value:d,children:f.jsxs(MG,D({as:o,className:we(p.root,s),ref:n,ownerState:h},u,{children:[c,i]}))})}),DG=OG,$G=We("MuiListItemIcon",["root","alignItemsFlexStart"]),Wb=$G,jG=We("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Hb=jG,FG=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function uv(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function qb(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function a6(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function od(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!a6(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const VG=y.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=de(e,FG),p=y.useRef(null),m=y.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});_s(()=>{i&&p.current.focus()},[i]),y.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(_,{direction:E})=>{const S=!p.current.style.width;if(_.clientHeight<p.current.clientHeight&&S){const I=`${kA(fn(_))}px`;p.current.style[E==="rtl"?"paddingLeft":"paddingRight"]=I,p.current.style.width=`calc(100% + ${I})`}return p.current}}),[]);const v=_=>{const E=p.current,S=_.key,I=fn(E).activeElement;if(S==="ArrowDown")_.preventDefault(),od(E,I,c,l,uv);else if(S==="ArrowUp")_.preventDefault(),od(E,I,c,l,qb);else if(S==="Home")_.preventDefault(),od(E,null,c,l,uv);else if(S==="End")_.preventDefault(),od(E,null,c,l,qb);else if(S.length===1){const C=m.current,b=S.toLowerCase(),R=performance.now();C.keys.length>0&&(R-C.lastTime>500?(C.keys=[],C.repeating=!0,C.previousKeyMatched=!0):C.repeating&&b!==C.keys[0]&&(C.repeating=!1)),C.lastTime=R,C.keys.push(b);const T=I&&!C.repeating&&a6(I,C);C.previousKeyMatched&&(T||od(E,I,!1,l,uv,C))?_.preventDefault():C.previousKeyMatched=!1}u&&u(_)},x=Rn(p,n);let g=-1;y.Children.forEach(o,(_,E)=>{if(!y.isValidElement(_)){g===E&&(g+=1,g>=o.length&&(g=-1));return}_.props.disabled||(d==="selectedMenu"&&_.props.selected||g===-1)&&(g=E),g===E&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(g+=1,g>=o.length&&(g=-1))});const w=y.Children.map(o,(_,E)=>{if(E===g){const S={};return s&&(S.autoFocus=!0),_.props.tabIndex===void 0&&d==="selectedMenu"&&(S.tabIndex=0),y.cloneElement(_,S)}return _});return f.jsx(DG,D({role:"menu",ref:x,className:a,onKeyDown:v,tabIndex:i?0:-1},h,{children:w}))}),UG=VG;function BG(t){return Xe("MuiPopover",t)}We("MuiPopover",["root","paper"]);const zG=["onEntering"],WG=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],HG=["slotProps"];function Gb(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function Kb(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function Qb(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function dv(t){return typeof t=="function"?t():t}const qG=t=>{const{classes:e}=t;return nt({root:["root"],paper:["paper"]},BG,e)},GG=ae(ax,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),l6=ae(Pu,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),KG=y.forwardRef(function(e,n){var r,i,s;const o=Je({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:p,container:m,elevation:v=8,marginThreshold:x=16,open:g,PaperProps:w={},slots:_,slotProps:E,transformOrigin:S={vertical:"top",horizontal:"left"},TransitionComponent:I=i6,transitionDuration:C="auto",TransitionProps:{onEntering:b}={},disableScrollLock:R=!1}=o,T=de(o.TransitionProps,zG),k=de(o,WG),N=(r=E==null?void 0:E.paper)!=null?r:w,M=y.useRef(),L=Rn(M,N.ref),j=D({},o,{anchorOrigin:c,anchorReference:d,elevation:v,marginThreshold:x,externalPaperSlotProps:N,transformOrigin:S,TransitionComponent:I,transitionDuration:C,TransitionProps:T}),P=qG(j),A=y.useCallback(()=>{if(d==="anchorPosition")return u;const ge=dv(l),_e=(ge&&ge.nodeType===1?ge:fn(M.current).body).getBoundingClientRect();return{top:_e.top+Gb(_e,c.vertical),left:_e.left+Kb(_e,c.horizontal)}},[l,c.horizontal,c.vertical,u,d]),O=y.useCallback(ge=>({vertical:Gb(ge,S.vertical),horizontal:Kb(ge,S.horizontal)}),[S.horizontal,S.vertical]),$=y.useCallback(ge=>{const Se={width:ge.offsetWidth,height:ge.offsetHeight},_e=O(Se);if(d==="none")return{top:null,left:null,transformOrigin:Qb(_e)};const _t=A();let Ve=_t.top-_e.vertical,De=_t.left-_e.horizontal;const st=Ve+Se.height,dt=De+Se.width,Te=qr(dv(l)),It=Te.innerHeight-x,$e=Te.innerWidth-x;if(x!==null&&Ve<x){const Ee=Ve-x;Ve-=Ee,_e.vertical+=Ee}else if(x!==null&&st>It){const Ee=st-It;Ve-=Ee,_e.vertical+=Ee}if(x!==null&&De<x){const Ee=De-x;De-=Ee,_e.horizontal+=Ee}else if(dt>$e){const Ee=dt-$e;De-=Ee,_e.horizontal+=Ee}return{top:`${Math.round(Ve)}px`,left:`${Math.round(De)}px`,transformOrigin:Qb(_e)}},[l,d,A,O,x]),[F,q]=y.useState(g),W=y.useCallback(()=>{const ge=M.current;if(!ge)return;const Se=$(ge);Se.top!==null&&(ge.style.top=Se.top),Se.left!==null&&(ge.style.left=Se.left),ge.style.transformOrigin=Se.transformOrigin,q(!0)},[$]);y.useEffect(()=>(R&&window.addEventListener("scroll",W),()=>window.removeEventListener("scroll",W)),[l,R,W]);const z=(ge,Se)=>{b&&b(ge,Se),W()},B=()=>{q(!1)};y.useEffect(()=>{g&&W()}),y.useImperativeHandle(a,()=>g?{updatePosition:()=>{W()}}:null,[g,W]),y.useEffect(()=>{if(!g)return;const ge=W3(()=>{W()}),Se=qr(l);return Se.addEventListener("resize",ge),()=>{ge.clear(),Se.removeEventListener("resize",ge)}},[l,g,W]);let V=C;C==="auto"&&!I.muiSupportAuto&&(V=void 0);const G=m||(l?fn(dv(l)).body:void 0),ie=(i=_==null?void 0:_.root)!=null?i:GG,le=(s=_==null?void 0:_.paper)!=null?s:l6,ee=cl({elementType:le,externalSlotProps:D({},N,{style:F?N.style:D({},N.style,{opacity:0})}),additionalProps:{elevation:v,ref:L},ownerState:j,className:we(P.paper,N==null?void 0:N.className)}),he=cl({elementType:ie,externalSlotProps:(E==null?void 0:E.root)||{},externalForwardedProps:k,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:G,open:g},ownerState:j,className:we(P.root,p)}),{slotProps:ce}=he,oe=de(he,HG);return f.jsx(ie,D({},oe,!lm(ie)&&{slotProps:ce,disableScrollLock:R},{children:f.jsx(I,D({appear:!0,in:g,onEntering:z,onExited:B,timeout:V},T,{children:f.jsx(le,D({},ee,{children:h}))}))}))}),QG=KG;function YG(t){return Xe("MuiMenu",t)}We("MuiMenu",["root","paper","list"]);const XG=["onEntering"],JG=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],ZG={vertical:"top",horizontal:"right"},eK={vertical:"top",horizontal:"left"},tK=t=>{const{classes:e}=t;return nt({root:["root"],paper:["paper"],list:["list"]},YG,e)},nK=ae(QG,{shouldForwardProp:t=>$r(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),rK=ae(l6,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),iK=ae(UG,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),sK=y.forwardRef(function(e,n){var r,i;const s=Je({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:p={},PopoverClasses:m,transitionDuration:v="auto",TransitionProps:{onEntering:x}={},variant:g="selectedMenu",slots:w={},slotProps:_={}}=s,E=de(s.TransitionProps,XG),S=de(s,JG),I=G3(),C=D({},s,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:u,onEntering:x,PaperProps:p,transitionDuration:v,TransitionProps:E,variant:g}),b=tK(C),R=o&&!c&&h,T=y.useRef(null),k=(O,$)=>{T.current&&T.current.adjustStyleForScrollbar(O,{direction:I?"rtl":"ltr"}),x&&x(O,$)},N=O=>{O.key==="Tab"&&(O.preventDefault(),d&&d(O,"tabKeyDown"))};let M=-1;y.Children.map(a,(O,$)=>{y.isValidElement(O)&&(O.props.disabled||(g==="selectedMenu"&&O.props.selected||M===-1)&&(M=$))});const L=(r=w.paper)!=null?r:rK,j=(i=_.paper)!=null?i:p,P=cl({elementType:w.root,externalSlotProps:_.root,ownerState:C,className:[b.root,l]}),A=cl({elementType:L,externalSlotProps:j,ownerState:C,className:b.paper});return f.jsx(nK,D({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:I?"right":"left"},transformOrigin:I?ZG:eK,slots:{paper:L,root:w.root},slotProps:{root:P,paper:A},open:h,ref:n,transitionDuration:v,TransitionProps:D({onEntering:k},E),ownerState:C},S,{classes:m,children:f.jsx(iK,D({onKeyDown:N,actions:T,autoFocus:o&&(M===-1||c),autoFocusItem:R,variant:g},u,{className:we(b.list,u.className),children:a}))}))}),oK=sK;function aK(t){return Xe("MuiMenuItem",t)}const lK=We("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),ad=lK,cK=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],uK=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},dK=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,l=nt({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},aK,o);return D({},o,l)},hK=ae(ix,{shouldForwardProp:t=>$r(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:uK})(({theme:t,ownerState:e})=>D({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ad.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:hi(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${ad.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:hi(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${ad.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:hi(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:hi(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${ad.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${ad.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${Lb.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${Lb.inset}`]:{marginLeft:52},[`& .${Hb.root}`]:{marginTop:0,marginBottom:0},[`& .${Hb.inset}`]:{paddingLeft:36},[`& .${Wb.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&D({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${Wb.root} svg`]:{fontSize:"1.25rem"}}))),fK=y.forwardRef(function(e,n){const r=Je({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h}=r,p=de(r,cK),m=y.useContext(o_),v=y.useMemo(()=>({dense:o||m.dense||!1,disableGutters:l}),[m.dense,o,l]),x=y.useRef(null);_s(()=>{i&&x.current&&x.current.focus()},[i]);const g=D({},r,{dense:v.dense,divider:a,disableGutters:l}),w=dK(r),_=Rn(x,n);let E;return r.disabled||(E=d!==void 0?d:-1),f.jsx(o_.Provider,{value:v,children:f.jsx(hK,D({ref:_,role:u,tabIndex:E,component:s,focusVisibleClassName:we(w.focusVisible,c),className:we(w.root,h)},p,{ownerState:g,classes:w}))})}),pK=fK;function mK(t){return Xe("MuiNativeSelect",t)}const gK=We("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),cx=gK,vK=["className","disabled","error","IconComponent","inputRef","variant"],yK=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${se(n)}`,s&&"iconOpen",r&&"disabled"]};return nt(a,mK,e)},c6=({ownerState:t,theme:e})=>D({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":D({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${cx.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),_K=ae("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:$r,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${cx.multiple}`]:e.multiple}]}})(c6),u6=({ownerState:t,theme:e})=>D({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${cx.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),wK=ae("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${se(n.variant)}`],n.open&&e.iconOpen]}})(u6),xK=y.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=e,c=de(e,vK),u=D({},e,{disabled:i,variant:l,error:s}),d=yK(u);return f.jsxs(y.Fragment,{children:[f.jsx(_K,D({ownerState:u,className:we(d.select,r),disabled:i,ref:a||n},c)),e.multiple?null:f.jsx(wK,{as:o,ownerState:u,className:d.icon})]})}),EK=xK;function IK(t){const{children:e,defer:n=!1,fallback:r=null}=t,[i,s]=y.useState(!1);return _s(()=>{n||s(!0)},[n]),y.useEffect(()=>{n&&s(!0)},[n]),f.jsx(y.Fragment,{children:i?e:r})}var Yb;const bK=["children","classes","className","label","notched"],CK=ae("fieldset",{shouldForwardProp:$r})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),TK=ae("legend",{shouldForwardProp:$r})(({ownerState:t,theme:e})=>D({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&D({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function SK(t){const{className:e,label:n,notched:r}=t,i=de(t,bK),s=n!=null&&n!=="",o=D({},t,{notched:r,withLabel:s});return f.jsx(CK,D({"aria-hidden":!0,className:e,ownerState:o},i,{children:f.jsx(TK,{ownerState:o,children:s?f.jsx("span",{children:n}):Yb||(Yb=f.jsx("span",{className:"notranslate",children:""}))})}))}const RK=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],kK=t=>{const{classes:e}=t,r=nt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},DW,e);return D({},e,r)},AK=ae(dg,{shouldForwardProp:t=>$r(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:cg})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return D({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${co.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${co.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${co.focused} .${co.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${co.error} .${co.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${co.disabled} .${co.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&D({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),PK=ae(SK,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),NK=ae(hg,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:ug})(({theme:t,ownerState:e})=>D({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),d6=y.forwardRef(function(e,n){var r,i,s,o,a;const l=Je({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:p=!1,notched:m,slots:v={},type:x="text"}=l,g=de(l,RK),w=kK(l),_=Lu(),E=Nu({props:l,muiFormControl:_,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),S=D({},l,{color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:_,fullWidth:u,hiddenLabel:E.hiddenLabel,multiline:p,size:E.size,type:x}),I=(r=(i=v.root)!=null?i:c.Root)!=null?r:AK,C=(s=(o=v.input)!=null?o:c.Input)!=null?s:NK;return f.jsx(ox,D({slots:{root:I,input:C},renderSuffix:b=>f.jsx(PK,{ownerState:S,className:w.notchedOutline,label:h!=null&&h!==""&&E.required?a||(a=f.jsxs(y.Fragment,{children:[h,"","*"]})):h,notched:typeof m<"u"?m:!!(b.startAdornment||b.filled||b.focused)}),fullWidth:u,inputComponent:d,multiline:p,ref:n,type:x},g,{classes:D({},w,{notchedOutline:null})}))});d6.muiName="Input";const h6=d6;function LK(t){return Xe("MuiSelect",t)}const MK=We("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),ld=MK;var Xb;const OK=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],DK=ae("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${ld.select}`]:e.select},{[`&.${ld.select}`]:e[n.variant]},{[`&.${ld.error}`]:e.error},{[`&.${ld.multiple}`]:e.multiple}]}})(c6,{[`&.${ld.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),$K=ae("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${se(n.variant)}`],n.open&&e.iconOpen]}})(u6),jK=ae("input",{shouldForwardProp:t=>BA(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Jb(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function FK(t){return t==null||typeof t=="string"&&!t.trim()}const VK=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${se(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return nt(a,LK,e)},UK=y.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:p,error:m=!1,IconComponent:v,inputRef:x,labelId:g,MenuProps:w={},multiple:_,name:E,onBlur:S,onChange:I,onClose:C,onFocus:b,onOpen:R,open:T,readOnly:k,renderValue:N,SelectDisplayProps:M={},tabIndex:L,value:j,variant:P="standard"}=e,A=de(e,OK),[O,$]=ob({controlled:j,default:d,name:"Select"}),[F,q]=ob({controlled:T,default:u,name:"Select"}),W=y.useRef(null),z=y.useRef(null),[B,V]=y.useState(null),{current:G}=y.useRef(T!=null),[ie,le]=y.useState(),ee=Rn(n,x),he=y.useCallback(fe=>{z.current=fe,fe&&V(fe)},[]),ce=B==null?void 0:B.parentNode;y.useImperativeHandle(ee,()=>({focus:()=>{z.current.focus()},node:W.current,value:O}),[O]),y.useEffect(()=>{u&&F&&B&&!G&&(le(a?null:ce.clientWidth),z.current.focus())},[B,a]),y.useEffect(()=>{o&&z.current.focus()},[o]),y.useEffect(()=>{if(!g)return;const fe=fn(z.current).getElementById(g);if(fe){const Ue=()=>{getSelection().isCollapsed&&z.current.focus()};return fe.addEventListener("click",Ue),()=>{fe.removeEventListener("click",Ue)}}},[g]);const oe=(fe,Ue)=>{fe?R&&R(Ue):C&&C(Ue),G||(le(a?null:ce.clientWidth),q(fe))},ge=fe=>{fe.button===0&&(fe.preventDefault(),z.current.focus(),oe(!0,fe))},Se=fe=>{oe(!1,fe)},_e=y.Children.toArray(l),_t=fe=>{const Ue=_e.find(Ct=>Ct.props.value===fe.target.value);Ue!==void 0&&($(Ue.props.value),I&&I(fe,Ue))},Ve=fe=>Ue=>{let Ct;if(Ue.currentTarget.hasAttribute("tabindex")){if(_){Ct=Array.isArray(O)?O.slice():[];const xr=O.indexOf(fe.props.value);xr===-1?Ct.push(fe.props.value):Ct.splice(xr,1)}else Ct=fe.props.value;if(fe.props.onClick&&fe.props.onClick(Ue),O!==Ct&&($(Ct),I)){const xr=Ue.nativeEvent||Ue,zl=new xr.constructor(xr.type,xr);Object.defineProperty(zl,"target",{writable:!0,value:{value:Ct,name:E}}),I(zl,fe)}_||oe(!1,Ue)}},De=fe=>{k||[" ","ArrowUp","ArrowDown","Enter"].indexOf(fe.key)!==-1&&(fe.preventDefault(),oe(!0,fe))},st=B!==null&&F,dt=fe=>{!st&&S&&(Object.defineProperty(fe,"target",{writable:!0,value:{value:O,name:E}}),S(fe))};delete A["aria-invalid"];let Te,It;const $e=[];let Ee=!1;(hm({value:O})||p)&&(N?Te=N(O):Ee=!0);const St=_e.map(fe=>{if(!y.isValidElement(fe))return null;let Ue;if(_){if(!Array.isArray(O))throw new Error(al(2));Ue=O.some(Ct=>Jb(Ct,fe.props.value)),Ue&&Ee&&$e.push(fe.props.children)}else Ue=Jb(O,fe.props.value),Ue&&Ee&&(It=fe.props.children);return y.cloneElement(fe,{"aria-selected":Ue?"true":"false",onClick:Ve(fe),onKeyUp:Ct=>{Ct.key===" "&&Ct.preventDefault(),fe.props.onKeyUp&&fe.props.onKeyUp(Ct)},role:"option",selected:Ue,value:void 0,"data-value":fe.props.value})});Ee&&(_?$e.length===0?Te=null:Te=$e.reduce((fe,Ue,Ct)=>(fe.push(Ue),Ct<$e.length-1&&fe.push(", "),fe),[]):Te=It);let an=ie;!a&&G&&B&&(an=ce.clientWidth);let Mn;typeof L<"u"?Mn=L:Mn=h?null:0;const Re=M.id||(E?`mui-component-select-${E}`:void 0),me=D({},e,{variant:P,value:O,open:st,error:m}),bt=VK(me),tn=D({},w.PaperProps,(r=w.slotProps)==null?void 0:r.paper),ln=H3();return f.jsxs(y.Fragment,{children:[f.jsx(DK,D({ref:he,tabIndex:Mn,role:"combobox","aria-controls":ln,"aria-disabled":h?"true":void 0,"aria-expanded":st?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[g,Re].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:De,onMouseDown:h||k?null:ge,onBlur:dt,onFocus:b},M,{ownerState:me,className:we(M.className,bt.select,c),id:Re,children:FK(Te)?Xb||(Xb=f.jsx("span",{className:"notranslate",children:""})):Te})),f.jsx(jK,D({"aria-invalid":m,value:Array.isArray(O)?O.join(","):O,name:E,ref:W,"aria-hidden":!0,onChange:_t,tabIndex:-1,disabled:h,className:bt.nativeInput,autoFocus:o,ownerState:me},A)),f.jsx($K,{as:v,className:bt.icon,ownerState:me}),f.jsx(oK,D({id:`menu-${E||""}`,anchorEl:ce,open:st,onClose:Se,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:D({"aria-labelledby":g,role:"listbox","aria-multiselectable":_?"true":void 0,disableListWrap:!0,id:ln},w.MenuListProps),slotProps:D({},w.slotProps,{paper:D({},tn,{style:D({minWidth:an},tn!=null?tn.style:null)})}),children:St}))]})}),BK=UK,zK=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],WK=["root"],HK=t=>{const{classes:e}=t;return e},ux={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>$r(t)&&t!=="variant",slot:"Root"},qK=ae(o6,ux)(""),GK=ae(h6,ux)(""),KK=ae(t6,ux)(""),f6=y.forwardRef(function(e,n){const r=Je({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=VW,id:d,input:h,inputProps:p,label:m,labelId:v,MenuProps:x,multiple:g=!1,native:w=!1,onClose:_,onOpen:E,open:S,renderValue:I,SelectDisplayProps:C,variant:b="outlined"}=r,R=de(r,zK),T=w?EK:BK,k=Lu(),N=Nu({props:r,muiFormControl:k,states:["variant","error"]}),M=N.variant||b,L=D({},r,{variant:M,classes:o}),j=HK(L),P=de(j,WK),A=h||{standard:f.jsx(qK,{ownerState:L}),outlined:f.jsx(GK,{label:m,ownerState:L}),filled:f.jsx(KK,{ownerState:L})}[M],O=Rn(n,A.ref);return f.jsx(y.Fragment,{children:y.cloneElement(A,D({inputComponent:T,inputProps:D({children:s,error:N.error,IconComponent:u,variant:M,type:void 0,multiple:g},w?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:v,MenuProps:x,onClose:_,onOpen:E,open:S,renderValue:I,SelectDisplayProps:D({id:d},C)},p,{classes:p?mr(P,p.classes):P},h?h.props.inputProps:{})},(g&&w||c)&&M==="outlined"?{notched:!0}:{},{ref:O,className:we(A.props.className,a,j.root)},!h&&{variant:M},R))})});f6.muiName="Select";const p6=f6;function QK(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:s}=t,o=q3();y.useEffect(()=>{if(!i)return;function g(w){w.defaultPrevented||(w.key==="Escape"||w.key==="Esc")&&(r==null||r(w,"escapeKeyDown"))}return document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[i,r]);const a=di((g,w)=>{r==null||r(g,w)}),l=di(g=>{!r||g==null||o.start(g,()=>{a(null,"timeout")})});y.useEffect(()=>(i&&l(e),o.clear),[i,e,l,o]);const c=g=>{r==null||r(g,"clickaway")},u=o.clear,d=y.useCallback(()=>{e!=null&&l(s??e*.5)},[e,s,l]),h=g=>w=>{const _=g.onBlur;_==null||_(w),d()},p=g=>w=>{const _=g.onFocus;_==null||_(w),u()},m=g=>w=>{const _=g.onMouseEnter;_==null||_(w),u()},v=g=>w=>{const _=g.onMouseLeave;_==null||_(w),d()};return y.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",d),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",u)}},[n,i,d,u]),{getRootProps:(g={})=>{const w=D({},cm(t),cm(g));return D({role:"presentation"},g,w,{onBlur:h(w),onFocus:p(w),onMouseEnter:m(w),onMouseLeave:v(w)})},onClickAway:c}}function YK(t){return Xe("MuiSnackbarContent",t)}We("MuiSnackbarContent",["root","message","action"]);const XK=["action","className","message","role"],JK=t=>{const{classes:e}=t;return nt({root:["root"],action:["action"],message:["message"]},YK,e)},ZK=ae(Pu,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,n=aB(t.palette.background.default,e);return D({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),eQ=ae("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),tQ=ae("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),nQ=y.forwardRef(function(e,n){const r=Je({props:e,name:"MuiSnackbarContent"}),{action:i,className:s,message:o,role:a="alert"}=r,l=de(r,XK),c=r,u=JK(c);return f.jsxs(ZK,D({role:a,square:!0,elevation:6,className:we(u.root,s),ownerState:c,ref:n},l,{children:[f.jsx(eQ,{className:u.message,ownerState:c,children:o}),i?f.jsx(tQ,{className:u.action,ownerState:c,children:i}):null]}))}),rQ=nQ;function iQ(t){return Xe("MuiSnackbar",t)}We("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const sQ=["onEnter","onExited"],oQ=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],aQ=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${se(n.vertical)}${se(n.horizontal)}`]};return nt(r,iQ,e)},Zb=ae("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${se(n.anchorOrigin.vertical)}${se(n.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return D({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:D({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&n,e.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},e.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),lQ=y.forwardRef(function(e,n){const r=Je({props:e,name:"MuiSnackbar"}),i=ca(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:d,ClickAwayListenerProps:h,ContentProps:p,disableWindowBlurListener:m=!1,message:v,open:x,TransitionComponent:g=i6,transitionDuration:w=s,TransitionProps:{onEnter:_,onExited:E}={}}=r,S=de(r.TransitionProps,sQ),I=de(r,oQ),C=D({},r,{anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:c,disableWindowBlurListener:m,TransitionComponent:g,transitionDuration:w}),b=aQ(C),{getRootProps:R,onClickAway:T}=QK(D({},C)),[k,N]=y.useState(!0),M=cl({elementType:Zb,getSlotProps:R,externalForwardedProps:I,ownerState:C,additionalProps:{ref:n},className:[b.root,d]}),L=P=>{N(!0),E&&E(P)},j=(P,A)=>{N(!1),_&&_(P,A)};return!x&&k?null:f.jsx(EH,D({onClickAway:T},h,{children:f.jsx(Zb,D({},M,{children:f.jsx(g,D({appear:!0,in:x,timeout:w,direction:a==="top"?"down":"up",onEnter:j,onExited:L},S,{children:u||f.jsx(rQ,D({message:v,action:o},p))}))}))}))}),a_=lQ,cQ=["anchor","classes","className","width","style"],uQ=ae("div",{shouldForwardProp:$r})(({theme:t,ownerState:e})=>D({position:"fixed",top:0,left:0,bottom:0,zIndex:t.zIndex.drawer-1},e.anchor==="left"&&{right:"auto"},e.anchor==="right"&&{left:"auto",right:0},e.anchor==="top"&&{bottom:"auto",right:0},e.anchor==="bottom"&&{top:"auto",bottom:0,right:0})),dQ=y.forwardRef(function(e,n){const{anchor:r,classes:i={},className:s,width:o,style:a}=e,l=de(e,cQ),c=e;return f.jsx(uQ,D({className:we("PrivateSwipeArea-root",i.root,i[`anchor${se(r)}`],s),ref:n,style:D({[Aa(r)?"width":"height"]:o},a),ownerState:c},l))}),hQ=dQ,fQ=["BackdropProps"],pQ=["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","allowSwipeInChildren","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"],S0=3,hv=20;let Ts=null;function fv(t,e,n){return t==="right"?n.body.offsetWidth-e[0].pageX:e[0].pageX}function pv(t,e,n){return t==="bottom"?n.innerHeight-e[0].clientY:e[0].clientY}function cd(t,e){return t?e.clientWidth:e.clientHeight}function eC(t,e,n,r){return Math.min(Math.max(n?e-t:r+e-t,0),r)}function mQ(t,e){const n=[];for(;t&&t!==e.parentElement;){const r=qr(e).getComputedStyle(t);r.getPropertyValue("position")==="absolute"||r.getPropertyValue("overflow-x")==="hidden"||(t.clientWidth>0&&t.scrollWidth>t.clientWidth||t.clientHeight>0&&t.scrollHeight>t.clientHeight)&&n.push(t),t=t.parentElement}return n}function gQ({domTreeShapes:t,start:e,current:n,anchor:r}){const i={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return t.some(s=>{let o=n>=e;(r==="top"||r==="left")&&(o=!o);const a=r==="left"||r==="right"?"x":"y",l=Math.round(s[i.scrollPosition[a]]),c=l>0,u=l+s[i.clientLength[a]]<s[i.scrollLength[a]];return!!(o&&u||!o&&c)})}const vQ=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),yQ=y.forwardRef(function(e,n){const r=Je({name:"MuiSwipeableDrawer",props:e}),i=ca(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:o="left",disableBackdropTransition:a=!1,disableDiscovery:l=!1,disableSwipeToOpen:c=vQ,hideBackdrop:u,hysteresis:d=.52,allowSwipeInChildren:h=!1,minFlingVelocity:p=450,ModalProps:{BackdropProps:m}={},onClose:v,onOpen:x,open:g=!1,PaperProps:w={},SwipeAreaProps:_,swipeAreaWidth:E=20,transitionDuration:S=s,variant:I="temporary"}=r,C=de(r.ModalProps,fQ),b=de(r,pQ),[R,T]=y.useState(!1),k=y.useRef({isSwiping:null}),N=y.useRef(),M=y.useRef(),L=y.useRef(),j=Rn(w.ref,L),P=y.useRef(!1),A=y.useRef();_s(()=>{A.current=null},[g]);const O=y.useCallback((z,B={})=>{const{mode:V=null,changeTransition:G=!0}=B,ie=Rd(i,o),le=["right","bottom"].indexOf(ie)!==-1?1:-1,ee=Aa(o),he=ee?`translate(${le*z}px, 0)`:`translate(0, ${le*z}px)`,ce=L.current.style;ce.webkitTransform=he,ce.transform=he;let oe="";if(V&&(oe=i.transitions.create("all",ul({easing:void 0,style:void 0,timeout:S},{mode:V}))),G&&(ce.webkitTransition=oe,ce.transition=oe),!a&&!u){const ge=M.current.style;ge.opacity=1-z/cd(ee,L.current),G&&(ge.webkitTransition=oe,ge.transition=oe)}},[o,a,u,i,S]),$=di(z=>{if(!P.current)return;if(Ts=null,P.current=!1,Th.flushSync(()=>{T(!1)}),!k.current.isSwiping){k.current.isSwiping=null;return}k.current.isSwiping=null;const B=Rd(i,o),V=Aa(o);let G;V?G=fv(B,z.changedTouches,fn(z.currentTarget)):G=pv(B,z.changedTouches,qr(z.currentTarget));const ie=V?k.current.startX:k.current.startY,le=cd(V,L.current),ee=eC(G,ie,g,le),he=ee/le;if(Math.abs(k.current.velocity)>p&&(A.current=Math.abs((le-ee)/k.current.velocity)*1e3),g){k.current.velocity>p||he>d?v():O(0,{mode:"exit"});return}k.current.velocity<-p||1-he>d?x():O(cd(V,L.current),{mode:"enter"})}),F=(z=!1)=>{if(!R){(z||!(l&&h))&&Th.flushSync(()=>{T(!0)});const B=Aa(o);!g&&L.current&&O(cd(B,L.current)+(l?15:-hv),{changeTransition:!1}),k.current.velocity=0,k.current.lastTime=null,k.current.lastTranslate=null,k.current.paperHit=!1,P.current=!0}},q=di(z=>{if(!L.current||!P.current||Ts!==null&&Ts!==k.current)return;F(!0);const B=Rd(i,o),V=Aa(o),G=fv(B,z.touches,fn(z.currentTarget)),ie=pv(B,z.touches,qr(z.currentTarget));if(g&&L.current.contains(z.target)&&Ts===null){const oe=mQ(z.target,L.current);if(gQ({domTreeShapes:oe,start:V?k.current.startX:k.current.startY,current:V?G:ie,anchor:o})){Ts=!0;return}Ts=k.current}if(k.current.isSwiping==null){const oe=Math.abs(G-k.current.startX),ge=Math.abs(ie-k.current.startY),Se=V?oe>ge&&oe>S0:ge>oe&&ge>S0;if(Se&&z.cancelable&&z.preventDefault(),Se===!0||(V?ge>S0:oe>S0)){if(k.current.isSwiping=Se,!Se){$(z);return}k.current.startX=G,k.current.startY=ie,!l&&!g&&(V?k.current.startX-=hv:k.current.startY-=hv)}}if(!k.current.isSwiping)return;const le=cd(V,L.current);let ee=V?k.current.startX:k.current.startY;g&&!k.current.paperHit&&(ee=Math.min(ee,le));const he=eC(V?G:ie,ee,g,le);if(g)if(k.current.paperHit)he===0&&(k.current.startX=G,k.current.startY=ie);else if(V?G<le:ie<le)k.current.paperHit=!0,k.current.startX=G,k.current.startY=ie;else return;k.current.lastTranslate===null&&(k.current.lastTranslate=he,k.current.lastTime=performance.now()+1);const ce=(he-k.current.lastTranslate)/(performance.now()-k.current.lastTime)*1e3;k.current.velocity=k.current.velocity*.4+ce*.6,k.current.lastTranslate=he,k.current.lastTime=performance.now(),z.cancelable&&z.preventDefault(),O(he)}),W=di(z=>{if(z.defaultPrevented||z.defaultMuiPrevented||g&&(u||!M.current.contains(z.target))&&!L.current.contains(z.target))return;const B=Rd(i,o),V=Aa(o),G=fv(B,z.touches,fn(z.currentTarget)),ie=pv(B,z.touches,qr(z.currentTarget));if(!g){var le;if(c||!(z.target===N.current||(le=L.current)!=null&&le.contains(z.target)&&(typeof h=="function"?h(z,N.current,L.current):h)))return;if(V){if(G>E)return}else if(ie>E)return}z.defaultMuiPrevented=!0,Ts=null,k.current.startX=G,k.current.startY=ie,F()});return y.useEffect(()=>{if(I==="temporary"){const z=fn(L.current);return z.addEventListener("touchstart",W),z.addEventListener("touchmove",q,{passive:!g}),z.addEventListener("touchend",$),()=>{z.removeEventListener("touchstart",W),z.removeEventListener("touchmove",q,{passive:!g}),z.removeEventListener("touchend",$)}}},[I,g,W,q,$]),y.useEffect(()=>()=>{Ts===k.current&&(Ts=null)},[]),y.useEffect(()=>{g||T(!1)},[g]),f.jsxs(y.Fragment,{children:[f.jsx(_q,D({open:I==="temporary"&&R?!0:g,variant:I,ModalProps:D({BackdropProps:D({},m,{ref:M})},I==="temporary"&&{keepMounted:!0},C),hideBackdrop:u,PaperProps:D({},w,{style:D({pointerEvents:I==="temporary"&&!g&&!h?"none":""},w.style),ref:j}),anchor:o,transitionDuration:A.current||S,onClose:v,ref:n},b)),!c&&I==="temporary"&&f.jsx(IK,{children:f.jsx(hQ,D({anchor:o,ref:N,width:E},_))})]})}),_Q=yQ;function wQ(t){return Xe("MuiToolbar",t)}We("MuiToolbar",["root","gutters","regular","dense"]);const xQ=["className","component","disableGutters","variant"],EQ=t=>{const{classes:e,disableGutters:n,variant:r}=t;return nt({root:["root",!n&&"gutters",r]},wQ,e)},IQ=ae("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>D({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),bQ=y.forwardRef(function(e,n){const r=Je({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:a="regular"}=r,l=de(r,xQ),c=D({},r,{component:s,disableGutters:o,variant:a}),u=EQ(c);return f.jsx(IQ,D({as:s,className:we(u.root,i),ref:n,ownerState:c},l))}),m6=bQ;function CQ(t){return Xe("MuiTextField",t)}We("MuiTextField",["root"]);const TQ=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],SQ={standard:o6,filled:t6,outlined:h6},RQ=t=>{const{classes:e}=t;return nt({root:["root"]},CQ,e)},kQ=ae(kq,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),AQ=y.forwardRef(function(e,n){const r=Je({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:m,id:v,InputLabelProps:x,inputProps:g,InputProps:w,inputRef:_,label:E,maxRows:S,minRows:I,multiline:C=!1,name:b,onBlur:R,onChange:T,onFocus:k,placeholder:N,required:M=!1,rows:L,select:j=!1,SelectProps:P,type:A,value:O,variant:$="outlined"}=r,F=de(r,TQ),q=D({},r,{autoFocus:s,color:l,disabled:u,error:d,fullWidth:p,multiline:C,required:M,select:j,variant:$}),W=RQ(q),z={};$==="outlined"&&(x&&typeof x.shrink<"u"&&(z.notched=x.shrink),z.label=E),j&&((!P||!P.native)&&(z.id=void 0),z["aria-describedby"]=void 0);const B=H3(v),V=m&&B?`${B}-helper-text`:void 0,G=E&&B?`${B}-label`:void 0,ie=SQ[$],le=f.jsx(ie,D({"aria-describedby":V,autoComplete:i,autoFocus:s,defaultValue:c,fullWidth:p,multiline:C,name:b,rows:L,maxRows:S,minRows:I,type:A,value:O,id:B,inputRef:_,onBlur:R,onChange:T,onFocus:k,placeholder:N,inputProps:g},z,w));return f.jsxs(kQ,D({className:we(W.root,a),disabled:u,error:d,fullWidth:p,ref:n,required:M,color:l,variant:$,ownerState:q},F,{children:[E!=null&&E!==""&&f.jsx(yG,D({htmlFor:B,id:G},x,{children:E})),j?f.jsx(p6,D({"aria-describedby":V,id:B,labelId:G,value:O,input:le},P,{children:o})):le,m&&f.jsx($q,D({id:V},h,{children:m}))]}))}),li=AQ,g6=({title:t,text:e})=>{const{isLogin:n,theme:r,headerTitle:i,setHeaderTitle:s}=y.useContext(Z),o=An();return y.useEffect(()=>(s("STAR EDUCATION ACADEMY"),()=>{document.title=i}),[]),f.jsxs("div",{className:"grid p-5 gap-y-2",children:[e&&f.jsx(jt,{variant:"subtitle2",children:e}),f.jsx("div",{children:f.jsx(Oe,{onClick:()=>o(n?"/app":"/login"),startIcon:f.jsx("img",{className:"size-7",src:Pe("redo")}),children:"Return Home"})})]})},pn=({data:t})=>{const{clickFn:e,image:n}=t,r=Pe(n),{theme:i}=y.useContext(Z),s=()=>{e&&e()};return f.jsx("button",{onClick:s,className:`shadow-md border  rounded-full p-2 h-10 w-10  font-medium flex  justify-center items-center hover:opacity-70 transition-all ${i==="light"?"bg-gray-50/50 border-gray-200":"bg-slate-500/70 text-white border-slate-500/70"}`,children:f.jsx("img",{src:r})})};/*! js-cookie v3.0.5 | MIT */function R0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var PQ={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function l_(t,e){function n(i,s,o){if(!(typeof document>"u")){o=R0({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var l=s[a].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(o[u]=t.read(c,u),i===u)break}catch{}}return i?o[i]:o}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",R0({},s,{expires:-1}))},withAttributes:function(i){return l_(this.converter,R0({},this.attributes,i))},withConverter:function(i){return l_(R0({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Di=l_(PQ,{path:"/"}),tC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne=function(t,e){if(!t)throw Ou(e)},Ou=function(t){return new Error("Firebase Database ("+v6.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},NQ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},dx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(y6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NQ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new LQ;const h=s<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class LQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _6=function(t){const e=y6(t);return dx.encodeByteArray(e,!0)},fm=function(t){return _6(t).replace(/\./g,"")},Oh=function(t){try{return dx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MQ(t){return w6(void 0,t)}function w6(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!OQ(n)||(t[n]=w6(t[n],e[n]));return t}function OQ(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Q=()=>DQ().__FIREBASE_DEFAULTS__,jQ=()=>{if(typeof process>"u"||typeof tC>"u")return;const t=tC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FQ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Oh(t[1]);return e&&JSON.parse(e)},pg=()=>{try{return $Q()||jQ()||FQ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},x6=t=>{var e,n;return(n=(e=pg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hx=t=>{const e=x6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},E6=()=>{var t;return(t=pg())===null||t===void 0?void 0:t.config},I6=t=>{var e;return(e=pg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[fm(JSON.stringify(n)),fm(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function VQ(){var t;const e=(t=pg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C6(){const t=ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function T6(){return v6.NODE_ADMIN===!0}function S6(){return!VQ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R6(){try{return typeof indexedDB=="object"}catch{return!1}}function UQ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BQ="FirebaseError";class ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=BQ,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ua.prototype.create)}}class ua{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?zQ(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ei(i,a,r)}}function zQ(t,e){return t.replace(WQ,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const WQ=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t){return JSON.parse(t)}function Fn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Dh(Oh(s[0])||""),n=Dh(Oh(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},HQ=function(t){const e=k6(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},qQ=function(t){const e=k6(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ru(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function c_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pm(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function $h(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(nC(s)&&nC(o)){if(!$h(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ss(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function os(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQ{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function A6(t,e){const n=new KQ(t,e);return n.subscribe.bind(n)}class KQ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");QQ(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mv),i.error===void 0&&(i.error=mv),i.complete===void 0&&(i.complete=mv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QQ(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mv(){}function YQ(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XQ=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ne(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},gg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class Gi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JQ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eY(e))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sa){return this.instances.has(e)}getOptions(e=Sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZQ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sa){return this.component?this.component.multipleInstances?e:Sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZQ(t){return t===Sa?void 0:t}function eY(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JQ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const nY={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},rY=Be.INFO,iY={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},sY=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=iY[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ef{constructor(e){this.name=e,this._logLevel=rY,this._logHandler=sY,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nY[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const oY=(t,e)=>e.some(n=>t instanceof n);let rC,iC;function aY(){return rC||(rC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lY(){return iC||(iC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P6=new WeakMap,u_=new WeakMap,N6=new WeakMap,gv=new WeakMap,gx=new WeakMap;function cY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Bo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&P6.set(n,t)}).catch(()=>{}),gx.set(e,t),e}function uY(t){if(u_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});u_.set(t,e)}let d_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return u_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||N6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dY(t){d_=t(d_)}function hY(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vv(this),e,...n);return N6.set(r,e.sort?e.sort():[e]),Bo(r)}:lY().includes(t)?function(...e){return t.apply(vv(this),e),Bo(P6.get(this))}:function(...e){return Bo(t.apply(vv(this),e))}}function fY(t){return typeof t=="function"?hY(t):(t instanceof IDBTransaction&&uY(t),oY(t,aY())?new Proxy(t,d_):t)}function Bo(t){if(t instanceof IDBRequest)return cY(t);if(gv.has(t))return gv.get(t);const e=fY(t);return e!==t&&(gv.set(t,e),gx.set(e,t)),e}const vv=t=>gx.get(t);function pY(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Bo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Bo(o.result),l.oldVersion,l.newVersion,Bo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const mY=["get","getKey","getAll","getAllKeys","count"],gY=["put","add","delete","clear"],yv=new Map;function sC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yv.get(e))return yv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mY.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return yv.set(e,s),s}dY(t=>({...t,get:(e,n,r)=>sC(e,n)||t.get(e,n,r),has:(e,n)=>!!sC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yY(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yY(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const h_="@firebase/app",oC="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=new Ef("@firebase/app"),_Y="@firebase/app-compat",wY="@firebase/analytics-compat",xY="@firebase/analytics",EY="@firebase/app-check-compat",IY="@firebase/app-check",bY="@firebase/auth",CY="@firebase/auth-compat",TY="@firebase/database",SY="@firebase/database-compat",RY="@firebase/functions",kY="@firebase/functions-compat",AY="@firebase/installations",PY="@firebase/installations-compat",NY="@firebase/messaging",LY="@firebase/messaging-compat",MY="@firebase/performance",OY="@firebase/performance-compat",DY="@firebase/remote-config",$Y="@firebase/remote-config-compat",jY="@firebase/storage",FY="@firebase/storage-compat",VY="@firebase/firestore",UY="@firebase/firestore-compat",BY="firebase",zY="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="[DEFAULT]",WY={[h_]:"fire-core",[_Y]:"fire-core-compat",[xY]:"fire-analytics",[wY]:"fire-analytics-compat",[IY]:"fire-app-check",[EY]:"fire-app-check-compat",[bY]:"fire-auth",[CY]:"fire-auth-compat",[TY]:"fire-rtdb",[SY]:"fire-rtdb-compat",[RY]:"fire-fn",[kY]:"fire-fn-compat",[AY]:"fire-iid",[PY]:"fire-iid-compat",[NY]:"fire-fcm",[LY]:"fire-fcm-compat",[MY]:"fire-perf",[OY]:"fire-perf-compat",[DY]:"fire-rc",[$Y]:"fire-rc-compat",[jY]:"fire-gcs",[FY]:"fire-gcs-compat",[VY]:"fire-fst",[UY]:"fire-fst-compat","fire-js":"fire-js",[BY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=new Map,p_=new Map;function HY(t,e){try{t.container.addComponent(e)}catch(n){dl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ws(t){const e=t.name;if(p_.has(e))return dl.debug(`There were multiple attempts to register component ${e}.`),!1;p_.set(e,t);for(const n of mm.values())HY(n,t);return!0}function If(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},zo=new ua("app","Firebase",qY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=zY;function L6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:f_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw zo.create("bad-app-name",{appName:String(i)});if(n||(n=E6()),!n)throw zo.create("no-options");const s=mm.get(i);if(s){if($h(n,s.options)&&$h(r,s.config))return s;throw zo.create("duplicate-app",{appName:i})}const o=new tY(i);for(const l of p_.values())o.addComponent(l);const a=new GY(n,r,o);return mm.set(i,a),a}function vg(t=f_){const e=mm.get(t);if(!e&&t===f_&&E6())return L6();if(!e)throw zo.create("no-app",{appName:t});return e}function Nr(t,e,n){var r;let i=(r=WY[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dl.warn(a.join(" "));return}ws(new Gi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KY="firebase-heartbeat-database",QY=1,jh="firebase-heartbeat-store";let _v=null;function M6(){return _v||(_v=pY(KY,QY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jh)}catch(n){console.warn(n)}}}}).catch(t=>{throw zo.create("idb-open",{originalErrorMessage:t.message})})),_v}async function YY(t){try{const n=(await M6()).transaction(jh),r=await n.objectStore(jh).get(O6(t));return await n.done,r}catch(e){if(e instanceof ei)dl.warn(e.message);else{const n=zo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dl.warn(n.message)}}}async function aC(t,e){try{const r=(await M6()).transaction(jh,"readwrite");await r.objectStore(jh).put(e,O6(t)),await r.done}catch(n){if(n instanceof ei)dl.warn(n.message);else{const r=zo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});dl.warn(r.message)}}}function O6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XY=1024,JY=30*24*60*60*1e3;class ZY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=lC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=JY}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=lC(),{heartbeatsToSend:r,unsentEntries:i}=eX(this._heartbeatsCache.heartbeats),s=fm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function lC(){return new Date().toISOString().substring(0,10)}function eX(t,e=XY){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),cC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R6()?UQ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YY(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return aC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return aC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function cC(t){return fm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nX(t){ws(new Gi("platform-logger",e=>new vY(e),"PRIVATE")),ws(new Gi("heartbeat",e=>new ZY(e),"PRIVATE")),Nr(h_,oC,t),Nr(h_,oC,"esm2017"),Nr("fire-js","")}nX("");var rX="firebase",iX="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr(rX,iX,"app");var m_=function(t,e){return m_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},m_(t,e)};function Ft(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");m_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var He=function(){return He=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},He.apply(this,arguments)};function Du(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Y(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function X(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Bn(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function D6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sX=D6,$6=new ua("auth","Firebase",D6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=new Ef("@firebase/auth");function oX(t,...e){gm.logLevel<=Be.WARN&&gm.warn(`Auth (${Yi}): ${t}`,...e)}function up(t,...e){gm.logLevel<=Be.ERROR&&gm.error(`Auth (${Yi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t,...e){throw vx(t,...e)}function vs(t,...e){return vx(t,...e)}function j6(t,e,n){const r=Object.assign(Object.assign({},sX()),{[e]:n});return new ua("auth","Firebase",r).create(e,{appName:t.name})}function aX(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&xi(t,"argument-error"),j6(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $6.create(t,...e)}function ke(t,e,...n){if(!t)throw vx(e,...n)}function Ds(t){const e="INTERNAL ASSERTION FAILED: "+t;throw up(e),new Error(e)}function Qs(t,e){t||Ds(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lX(){return uC()==="http:"||uC()==="https:"}function uC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cX(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lX()||b6()||"connection"in navigator)?navigator.onLine:!0}function uX(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qs(n>e,"Short delay should be less than long delay!"),this.isMobile=mg()||mx()}get(){return cX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t,e){Qs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F6=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hX=new bf(3e4,6e4);function da(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function oo(t,e,n,r,i={}){return V6(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=so(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),F6.fetch()(U6(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function V6(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},dX),e);try{const i=new pX(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw k0(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw k0(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw k0(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw k0(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw j6(t,u,c);xi(t,u)}}catch(i){if(i instanceof ei)throw i;xi(t,"network-request-failed",{message:String(i)})}}async function Cf(t,e,n,r,i={}){const s=await oo(t,e,n,r,i);return"mfaPendingCredential"in s&&xi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function U6(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?yx(t.config,i):`${t.config.apiScheme}://${i}`}function fX(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let pX=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vs(this.auth,"network-request-failed")),hX.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function k0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vs(t,e,r);return i.customData._tokenResponse=n,i}function dC(t){return t!==void 0&&t.enterprise!==void 0}let mX=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return fX(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};async function gX(t,e){return oo(t,"GET","/v2/recaptchaConfig",da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vX(t,e){return oo(t,"POST","/v1/accounts:delete",e)}async function yX(t,e){return oo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _X(t,e=!1){const n=at(t),r=await n.getIdToken(e),i=_x(r);ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Yd(wv(i.auth_time)),issuedAtTime:Yd(wv(i.iat)),expirationTime:Yd(wv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function wv(t){return Number(t)*1e3}function _x(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return up("JWT malformed, contained fewer than 3 sections"),null;try{const i=Oh(n);return i?JSON.parse(i):(up("Failed to decode base64 JWT payload"),null)}catch(i){return up("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wX(t){const e=_x(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ei&&xX(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function xX({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EX=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B6=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yd(this.lastLoginAt),this.creationTime=Yd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await iu(t,yX(n,{idToken:r}));ke(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?CX(s.providerUserInfo):[],a=bX(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new B6(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function IX(t){const e=at(t);await vm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bX(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function CX(t){return t.map(e=>{var{providerId:n}=e,r=Du(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TX(t,e){const n=await V6(t,{},async()=>{const r=so({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=U6(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",F6.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SX(t,e){return oo(t,"POST","/v2/accounts:revokeToken",da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hC=class v_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wX(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ke(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await TX(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new v_;return r&&(ke(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ke(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ke(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new v_,this.toJSON())}_performRefresh(){return Ds("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}let y_=class dp{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Du(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new B6(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await iu(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _X(this,e)}reload(){return IX(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new dp(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await iu(this,vX(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:E,isAnonymous:S,providerData:I,stsTokenManager:C}=n;ke(_&&C,e,"internal-error");const b=hC.fromJSON(this.name,C);ke(typeof _=="string",e,"internal-error"),ho(d,e.name),ho(h,e.name),ke(typeof E=="boolean",e,"internal-error"),ke(typeof S=="boolean",e,"internal-error"),ho(p,e.name),ho(m,e.name),ho(v,e.name),ho(x,e.name),ho(g,e.name),ho(w,e.name);const R=new dp({uid:_,auth:e,email:h,emailVerified:E,displayName:d,isAnonymous:S,photoURL:m,phoneNumber:p,tenantId:v,stsTokenManager:b,createdAt:g,lastLoginAt:w});return I&&Array.isArray(I)&&(R.providerData=I.map(T=>Object.assign({},T))),x&&(R._redirectEventId=x),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new hC;i.updateFromServerResponse(n);const s=new dp({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await vm(s),s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=new Map;function $s(t){Qs(t instanceof Function,"Expected a class definition");let e=fC.get(t);return e?(Qs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z6=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};z6.type="NONE";const pC=z6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(t,e,n){return`firebase:${t}:${e}:${n}`}let mC=class fp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=hp(this.userKey,i.apiKey,s),this.fullPersistenceKey=hp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?y_._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fp($s(pC),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||$s(pC);const o=hp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=y_._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new fp(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new fp(s,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(q6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(W6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(K6(e))return"Blackberry";if(Q6(e))return"Webos";if(wx(e))return"Safari";if((e.includes("chrome/")||H6(e))&&!e.includes("edge/"))return"Chrome";if(G6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function W6(t=ot()){return/firefox\//i.test(t)}function wx(t=ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function H6(t=ot()){return/crios\//i.test(t)}function q6(t=ot()){return/iemobile/i.test(t)}function G6(t=ot()){return/android/i.test(t)}function K6(t=ot()){return/blackberry/i.test(t)}function Q6(t=ot()){return/webos/i.test(t)}function yg(t=ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function RX(t=ot()){var e;return yg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kX(){return C6()&&document.documentMode===10}function Y6(t=ot()){return yg(t)||G6(t)||Q6(t)||K6(t)||/windows phone/i.test(t)||q6(t)}function AX(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t,e=[]){let n;switch(t){case"Browser":n=gC(ot());break;case"Worker":n=`${gC(ot())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PX=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NX(t,e={}){return oo(t,"GET","/v2/passwordPolicy",da(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LX=6;let MX=class{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:LX,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OX=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vC(this),this.idTokenSubscription=new vC(this),this.beforeStateQueue=new PX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$s(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await mC.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uX()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?at(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence($s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NX(this),n=new MX(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ua("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await SX(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$s(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await mC.create(this,[$s(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=X6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&oX(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}};function ha(t){return at(t)}let vC=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=A6(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _g={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DX(t){_g=t}function J6(t){return _g.loadJS(t)}function $X(){return _g.recaptchaEnterpriseScript}function jX(){return _g.gapiScript}function FX(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const VX="recaptcha-enterprise",UX="NO_RECAPTCHA";let BX=class{constructor(e){this.type=VX,this.auth=ha(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{gX(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new mX(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;dC(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(UX)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&dC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=$X();l.length!==0&&(l+=a),J6(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}};async function yC(t,e,n,r=!1){const i=new BX(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function __(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await yC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await yC(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zX(t,e){const n=If(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if($h(s,e??{}))return i;xi(i,"already-initialized")}return n.initialize({options:e})}function WX(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($s);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function HX(t,e,n){const r=ha(t);ke(r._canInitEmulator,r,"emulator-config-failed"),ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Z6(e),{host:o,port:a}=qX(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||GX()}function Z6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qX(t){const e=Z6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:_C(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:_C(o)}}}function _C(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function GX(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xx=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ds("not implemented")}_getIdTokenResponse(e){return Ds("not implemented")}_linkToIdToken(e,n){return Ds("not implemented")}_getReauthenticationResolver(e){return Ds("not implemented")}};async function KX(t,e){return oo(t,"POST","/v1/accounts:update",e)}async function QX(t,e){return oo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YX(t,e){return Cf(t,"POST","/v1/accounts:signInWithPassword",da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XX(t,e){return Cf(t,"POST","/v1/accounts:signInWithEmailLink",da(t,e))}async function JX(t,e){return Cf(t,"POST","/v1/accounts:signInWithEmailLink",da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wC=class w_ extends xx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new w_(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new w_(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return __(e,n,"signInWithPassword",YX);case"emailLink":return XX(e,{email:this._email,oobCode:this._password});default:xi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return __(e,r,"signUpPassword",QX);case"emailLink":return JX(e,{idToken:n,email:this._email,oobCode:this._password});default:xi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(t,e){return Cf(t,"POST","/v1/accounts:signInWithIdp",da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZX="http://localhost";let wg=class x_ extends xx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new x_(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Du(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new x_(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Fc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fc(e,n)}buildRequest(){const e={requestUri:ZX,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=so(n)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eJ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tJ(t){const e=ss(os(t)).link,n=e?ss(os(e)).deep_link_id:null,r=ss(os(t)).deep_link_id;return(r?ss(os(r)).link:null)||r||n||e||t}let nJ=class eP{constructor(e){var n,r,i,s,o,a;const l=ss(os(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=eJ((i=l.mode)!==null&&i!==void 0?i:null);ke(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=tJ(e);try{return new eP(n)}catch{return null}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xg=class tP{constructor(){this.providerId=tP.PROVIDER_ID}static credential(e,n){return wC._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=nJ.parseLink(n);return ke(r,"argument-error"),wC._fromEmailAndCode(e,r.code,r.tenantId)}};xg.PROVIDER_ID="password";xg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ex=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf=class extends Ex{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends Tf{constructor(){super("facebook.com")}static credential(e){return wg._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xo.credential(e.oauthAccessToken)}catch{return null}}}xo.FACEBOOK_SIGN_IN_METHOD="facebook.com";xo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Tf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wg._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ls.credential(n,r)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends Tf{constructor(){super("github.com")}static credential(e){return wg._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Eo.credential(e.oauthAccessToken)}catch{return null}}}Eo.GITHUB_SIGN_IN_METHOD="github.com";Eo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Tf{constructor(){super("twitter.com")}static credential(e,n){return wg._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Io.credential(n,r)}catch{return null}}}Io.TWITTER_SIGN_IN_METHOD="twitter.com";Io.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rJ(t,e){return Cf(t,"POST","/v1/accounts:signUp",da(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eg=class E_{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await y_._fromIdTokenResponse(e,r,i),o=xC(r);return new E_({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=xC(r);return new E_({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function xC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iJ=class I_ extends ei{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,I_.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new I_(e,n,r,i)}};function nP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?iJ._fromErrorAndOperation(t,s,e,r):s})}async function sJ(t,e,n=!1){const r=await iu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Eg._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await iu(t,nP(r,i,e,t),n);ke(s.idToken,r,"internal-error");const o=_x(s.idToken);ke(o,r,"internal-error");const{sub:a}=o;return ke(t.uid===a,r,"user-mismatch"),Eg._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&xi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(t,e,n=!1){const r="signIn",i=await nP(t,r,e),s=await Eg._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function oJ(t,e){return iP(ha(t),e)}async function aJ(t,e){return rP(at(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sP(t){const e=ha(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lJ(t,e,n){const r=ha(t),o=await __(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rJ).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&sP(t),l}),a=await Eg._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function cJ(t,e,n){return oJ(at(t),xg.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sP(t),r})}function EC(t,e){return uJ(at(t),null,e)}async function uJ(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await iu(t,KX(r,s));await t._updateTokensIfNecessary(o,!0)}function dJ(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function hJ(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function oP(t){return at(t).signOut()}const ym="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aP=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ym,"1"),this.storage.removeItem(ym),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fJ(){const t=ot();return wx(t)||yg(t)}const pJ=1e3,mJ=10;class lP extends aP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=fJ()&&AX(),this.fallbackToPolling=Y6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);kX()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,mJ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lP.type="LOCAL";const gJ=lP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP extends aP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cP.type="SESSION";const uP=cP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vJ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ig(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await vJ(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ig.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yJ=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Ix("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(){return window}function _J(t){ys().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(){return typeof ys().WorkerGlobalScope<"u"&&typeof ys().importScripts=="function"}async function wJ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xJ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function EJ(){return dP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="firebaseLocalStorageDb",IJ=1,_m="firebaseLocalStorage",fP="fbase_key";class Sf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bg(t,e){return t.transaction([_m],e?"readwrite":"readonly").objectStore(_m)}function bJ(){const t=indexedDB.deleteDatabase(hP);return new Sf(t).toPromise()}function b_(){const t=indexedDB.open(hP,IJ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_m,{keyPath:fP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_m)?e(r):(r.close(),await bJ(),e(await b_()))})})}async function IC(t,e,n){const r=bg(t,!0).put({[fP]:e,value:n});return new Sf(r).toPromise()}async function CJ(t,e){const n=bg(t,!1).get(e),r=await new Sf(n).toPromise();return r===void 0?null:r.value}function bC(t,e){const n=bg(t,!0).delete(e);return new Sf(n).toPromise()}const TJ=800,SJ=3;class pP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await b_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SJ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ig._getInstance(EJ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wJ(),!this.activeServiceWorker)return;this.sender=new yJ(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xJ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await b_();return await IC(e,ym,"1"),await bC(e,ym),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>IC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>CJ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=bg(i,!1).getAll();return new Sf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pP.type="LOCAL";const RJ=pP;new bf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t,e){return e?$s(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bx=class extends xx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function kJ(t){return iP(t.auth,new bx(t),t.bypassAuthState)}function AJ(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),rP(n,new bx(t),t.bypassAuthState)}async function PJ(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),sJ(n,new bx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gP=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kJ;case"linkViaPopup":case"linkViaRedirect":return PJ;case"reauthViaPopup":case"reauthViaRedirect":return AJ;default:xi(this.auth,"internal-error")}}resolve(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NJ=new bf(2e3,1e4);async function LJ(t,e,n){const r=ha(t);aX(t,e,Ex);const i=mP(r,n);return new Fa(r,"signInViaPopup",e,i).executeNotNull()}class Fa extends gP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Qs(this.filter.length===1,"Popup operations only handle one event");const e=Ix();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NJ.get())};e()}}Fa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MJ="pendingRedirect",pp=new Map;class OJ extends gP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pp.get(this.auth._key());if(!e){try{const r=await DJ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pp.set(this.auth._key(),e)}return this.bypassAuthState||pp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DJ(t,e){const n=FJ(e),r=jJ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $J(t,e){pp.set(t._key(),e)}function jJ(t){return $s(t._redirectPersistence)}function FJ(t){return hp(MJ,t.config.apiKey,t.name)}async function VJ(t,e,n=!1){const r=ha(t),i=mP(r,e),o=await new OJ(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UJ=10*60*1e3;let BJ=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zJ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UJ&&this.cachedEventUids.clear(),this.cachedEventUids.has(CC(e))}saveEventToCache(e){this.cachedEventUids.add(CC(e)),this.lastProcessedEventTime=Date.now()}};function CC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zJ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WJ(t,e={}){return oo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HJ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qJ=/^https?/;async function GJ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WJ(t);for(const n of e)try{if(KJ(n))return}catch{}xi(t,"unauthorized-domain")}function KJ(t){const e=g_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!qJ.test(n))return!1;if(HJ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QJ=new bf(3e4,6e4);function TC(){const t=ys().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function YJ(t){return new Promise((e,n)=>{var r,i,s;function o(){TC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TC(),n(vs(t,"network-request-failed"))},timeout:QJ.get()})}if(!((i=(r=ys().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ys().gapi)===null||s===void 0)&&s.load)o();else{const a=FX("iframefcb");return ys()[a]=()=>{gapi.load?o():n(vs(t,"network-request-failed"))},J6(`${jX()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw mp=null,e})}let mp=null;function XJ(t){return mp=mp||YJ(t),mp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JJ=new bf(5e3,15e3),ZJ="__/auth/iframe",eZ="emulator/auth/iframe",tZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rZ(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yx(e,eZ):`https://${t.config.authDomain}/${ZJ}`,r={apiKey:e.apiKey,appName:t.name,v:Yi},i=nZ.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${so(r).slice(1)}`}async function iZ(t){const e=await XJ(t),n=ys().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:rZ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tZ,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=vs(t,"network-request-failed"),a=ys().setTimeout(()=>{s(o)},JJ.get());function l(){ys().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oZ=500,aZ=600,lZ="_blank",cZ="http://localhost";class SC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uZ(t,e,n,r=oZ,i=aZ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},sZ),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ot().toLowerCase();n&&(a=H6(c)?lZ:n),W6(c)&&(e=e||cZ,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(RX(c)&&a!=="_self")return dZ(e||"",a),new SC(null);const d=window.open(e||"",a,u);ke(d,t,"popup-blocked");try{d.focus()}catch{}return new SC(d)}function dZ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hZ="__/auth/handler",fZ="emulator/auth/handler",pZ=encodeURIComponent("fac");async function RC(t,e,n,r,i,s){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Yi,eventId:i};if(e instanceof Ex){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",c_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Tf){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${pZ}=${encodeURIComponent(l)}`:"";return`${mZ(t)}?${so(a).slice(1)}${c}`}function mZ({config:t}){return t.emulator?yx(t,fZ):`https://${t.authDomain}/${hZ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="webStorageSupport";class gZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uP,this._completeRedirectFn=VJ,this._overrideRedirectResult=$J}async _openPopup(e,n,r,i){var s;Qs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await RC(e,n,r,g_(),i);return uZ(e,o,Ix())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await RC(e,n,r,g_(),i);return _J(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await iZ(e),r=new BJ(e);return n.register("authEvent",i=>(ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xv,{type:xv},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[xv];o!==void 0&&n(!!o),xi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GJ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Y6()||wx()||yg()}}const vZ=gZ;var kC="@firebase/auth",AC="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yZ=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Z(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wZ(t){ws(new Gi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ke(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X6(t)},c=new OX(r,i,s,l);return WX(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ws(new Gi("auth-internal",e=>{const n=ha(e.getProvider("auth").getImmediate());return(r=>new yZ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(kC,AC,_Z(t)),Nr(kC,AC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xZ=5*60,EZ=I6("authIdTokenMaxAge")||xZ;let PC=null;const IZ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>EZ)return;const i=n==null?void 0:n.token;PC!==i&&(PC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function bZ(t=vg()){const e=If(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zX(t,{popupRedirectResolver:vZ,persistence:[RJ,gJ,uP]}),r=I6("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const s=IZ(r);hJ(n,s,()=>s(n.currentUser)),dJ(n,o=>s(o))}const i=x6("auth");return i&&HX(n,`http://${i}`),n}function CZ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}DX({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=vs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",CZ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wZ("Browser");var TZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},re,Cx=Cx||{},Ne=TZ||self;function Cg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Rf(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function SZ(t){return Object.prototype.hasOwnProperty.call(t,Ev)&&t[Ev]||(t[Ev]=++RZ)}var Ev="closure_uid_"+(1e9*Math.random()>>>0),RZ=0;function kZ(t,e,n){return t.call.apply(t.bind,arguments)}function AZ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function sr(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?sr=kZ:sr=AZ,sr.apply(null,arguments)}function A0(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Nn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function fa(){this.s=this.s,this.o=this.o}var PZ=0;fa.prototype.s=!1;fa.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),PZ!=0)&&SZ(this)};fa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Tx(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function NC(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Cg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function or(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}or.prototype.h=function(){this.defaultPrevented=!0};var NZ=function(){if(!Ne.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Ne.addEventListener("test",n,e),Ne.removeEventListener("test",n,e)}catch{}return t}();function Fh(t){return/^[\s\xa0]*$/.test(t)}function Tg(){var t=Ne.navigator;return t&&(t=t.userAgent)?t:""}function is(t){return Tg().indexOf(t)!=-1}function Sx(t){return Sx[" "](t),t}Sx[" "]=function(){};function LZ(t,e){var n=Cee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var MZ=is("Opera"),su=is("Trident")||is("MSIE"),_P=is("Edge"),C_=_P||su,wP=is("Gecko")&&!(Tg().toLowerCase().indexOf("webkit")!=-1&&!is("Edge"))&&!(is("Trident")||is("MSIE"))&&!is("Edge"),OZ=Tg().toLowerCase().indexOf("webkit")!=-1&&!is("Edge");function xP(){var t=Ne.document;return t?t.documentMode:void 0}var T_;e:{var Iv="",bv=function(){var t=Tg();if(wP)return/rv:([^\);]+)(\)|;)/.exec(t);if(_P)return/Edge\/([\d\.]+)/.exec(t);if(su)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(OZ)return/WebKit\/(\S+)/.exec(t);if(MZ)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(bv&&(Iv=bv?bv[1]:""),su){var Cv=xP();if(Cv!=null&&Cv>parseFloat(Iv)){T_=String(Cv);break e}}T_=Iv}var S_;if(Ne.document&&su){var LC=xP();S_=LC||parseInt(T_,10)||void 0}else S_=void 0;var DZ=S_;function Vh(t,e){if(or.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(wP){e:{try{Sx(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:$Z[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Vh.$.h.call(this)}}Nn(Vh,or);var $Z={2:"touch",3:"pen",4:"mouse"};Vh.prototype.h=function(){Vh.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var kf="closure_listenable_"+(1e6*Math.random()|0),jZ=0;function FZ(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++jZ,this.fa=this.ia=!1}function Sg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Rx(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function VZ(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function EP(t){const e={};for(const n in t)e[n]=t[n];return e}const MC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function IP(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<MC.length;s++)n=MC[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Rg(t){this.src=t,this.g={},this.h=0}Rg.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=k_(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new FZ(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function R_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=yP(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Sg(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function k_(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var kx="closure_lm_"+(1e6*Math.random()|0),Tv={};function bP(t,e,n,r,i){if(r&&r.once)return TP(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)bP(t,e[s],n,r,i);return null}return n=Nx(n),t&&t[kf]?t.O(e,n,Rf(r)?!!r.capture:!!r,i):CP(t,e,n,!1,r,i)}function CP(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Rf(i)?!!i.capture:!!i,a=Px(t);if(a||(t[kx]=a=new Rg(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=UZ(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)NZ||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(RP(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function UZ(){function t(n){return e.call(t.src,t.listener,n)}const e=BZ;return t}function TP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)TP(t,e[s],n,r,i);return null}return n=Nx(n),t&&t[kf]?t.P(e,n,Rf(r)?!!r.capture:!!r,i):CP(t,e,n,!0,r,i)}function SP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)SP(t,e[s],n,r,i);else r=Rf(r)?!!r.capture:!!r,n=Nx(n),t&&t[kf]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=k_(s,n,r,i),-1<n&&(Sg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Px(t))&&(e=t.g[e.toString()],t=-1,e&&(t=k_(e,n,r,i)),(n=-1<t?e[t]:null)&&Ax(n))}function Ax(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[kf])R_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(RP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Px(e))?(R_(n,t),n.h==0&&(n.src=null,e[kx]=null)):Sg(t)}}}function RP(t){return t in Tv?Tv[t]:Tv[t]="on"+t}function BZ(t,e){if(t.fa)t=!0;else{e=new Vh(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Ax(t),t=n.call(r,e)}return t}function Px(t){return t=t[kx],t instanceof Rg?t:null}var Sv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nx(t){return typeof t=="function"?t:(t[Sv]||(t[Sv]=function(e){return t.handleEvent(e)}),t[Sv])}function kn(){fa.call(this),this.i=new Rg(this),this.S=this,this.J=null}Nn(kn,fa);kn.prototype[kf]=!0;kn.prototype.removeEventListener=function(t,e,n,r){SP(this,t,e,n,r)};function zn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new or(e,t);else if(e instanceof or)e.target=e.target||t;else{var i=e;e=new or(r,t),IP(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=P0(o,r,!0,e)&&i}if(o=e.g=t,i=P0(o,r,!0,e)&&i,i=P0(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=P0(o,r,!1,e)&&i}kn.prototype.N=function(){if(kn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Sg(n[r]);delete t.g[e],t.h--}}this.J=null};kn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};kn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function P0(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&R_(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Lx=Ne.JSON.stringify;class zZ{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function WZ(){var t=Mx;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class HZ{constructor(){this.h=this.g=null}add(e,n){const r=kP.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var kP=new zZ(()=>new qZ,t=>t.reset());class qZ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function GZ(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function KZ(t){Ne.setTimeout(()=>{throw t},0)}let Uh,Bh=!1,Mx=new HZ,AP=()=>{const t=Ne.Promise.resolve(void 0);Uh=()=>{t.then(QZ)}};var QZ=()=>{for(var t;t=WZ();){try{t.h.call(t.g)}catch(n){KZ(n)}var e=kP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Bh=!1};function kg(t,e){kn.call(this),this.h=t||1,this.g=e||Ne,this.j=sr(this.qb,this),this.l=Date.now()}Nn(kg,kn);re=kg.prototype;re.ga=!1;re.T=null;re.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),zn(this,"tick"),this.ga&&(Ox(this),this.start()))}};re.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ox(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}re.N=function(){kg.$.N.call(this),Ox(this),delete this.g};function Dx(t,e,n){if(typeof t=="function")n&&(t=sr(t,n));else if(t&&typeof t.handleEvent=="function")t=sr(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ne.setTimeout(t,e||0)}function PP(t){t.g=Dx(()=>{t.g=null,t.i&&(t.i=!1,PP(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class YZ extends fa{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:PP(this)}N(){super.N(),this.g&&(Ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zh(t){fa.call(this),this.h=t,this.g={}}Nn(zh,fa);var OC=[];function NP(t,e,n,r){Array.isArray(n)||(n&&(OC[0]=n.toString()),n=OC);for(var i=0;i<n.length;i++){var s=bP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function LP(t){Rx(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ax(e)},t),t.g={}}zh.prototype.N=function(){zh.$.N.call(this),LP(this)};zh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ag(){this.g=!0}Ag.prototype.Ea=function(){this.g=!1};function XZ(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function JZ(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function bc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+eee(t,n)+(r?" "+r:"")})}function ZZ(t,e){t.info(function(){return"TIMEOUT: "+e})}Ag.prototype.info=function(){};function eee(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Lx(n)}catch{return e}}var Pl={},DC=null;function Pg(){return DC=DC||new kn}Pl.Ta="serverreachability";function MP(t){or.call(this,Pl.Ta,t)}Nn(MP,or);function Wh(t){const e=Pg();zn(e,new MP(e))}Pl.STAT_EVENT="statevent";function OP(t,e){or.call(this,Pl.STAT_EVENT,t),this.stat=e}Nn(OP,or);function fr(t){const e=Pg();zn(e,new OP(e,t))}Pl.Ua="timingevent";function DP(t,e){or.call(this,Pl.Ua,t),this.size=e}Nn(DP,or);function Af(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ne.setTimeout(function(){t()},e)}var Ng={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},$P={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $x(){}$x.prototype.h=null;function $C(t){return t.h||(t.h=t.i())}function jP(){}var Pf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function jx(){or.call(this,"d")}Nn(jx,or);function Fx(){or.call(this,"c")}Nn(Fx,or);var A_;function Lg(){}Nn(Lg,$x);Lg.prototype.g=function(){return new XMLHttpRequest};Lg.prototype.i=function(){return{}};A_=new Lg;function Nf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new zh(this),this.P=tee,t=C_?125:void 0,this.V=new kg(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new FP}function FP(){this.i=null,this.g="",this.h=!1}var tee=45e3,VP={},P_={};re=Nf.prototype;re.setTimeout=function(t){this.P=t};function N_(t,e,n){t.L=1,t.A=Og(Ys(e)),t.u=n,t.S=!0,UP(t,null)}function UP(t,e){t.G=Date.now(),Lf(t),t.B=Ys(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),QP(n.i,"t",r),t.o=0,n=t.l.J,t.h=new FP,t.g=g9(t.l,n?e:null,!t.u),0<t.O&&(t.M=new YZ(sr(t.Pa,t,t.g),t.O)),NP(t.U,t.g,"readystatechange",t.nb),e=t.I?EP(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Wh(),XZ(t.j,t.v,t.B,t.m,t.W,t.u)}re.nb=function(t){t=t.target;const e=this.M;e&&as(t)==3?e.l():this.Pa(t)};re.Pa=function(t){try{if(t==this.g)e:{const u=as(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||C_||this.g&&(this.h.h||this.g.ja()||UC(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Wh(3):Wh(2)),Mg(this);var n=this.g.da();this.ca=n;t:if(BP(this)){var r=UC(this.g);t="";var i=r.length,s=as(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Va(this),Xd(this);var o="";break t}this.h.i=new Ne.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,JZ(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fh(a)){var c=a;break t}}c=null}if(n=c)bc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,L_(this,n);else{this.i=!1,this.s=3,fr(12),Va(this),Xd(this);break e}}this.S?(zP(this,u,o),C_&&this.i&&u==3&&(NP(this.U,this.V,"tick",this.mb),this.V.start())):(bc(this.j,this.m,o,null),L_(this,o)),u==4&&Va(this),this.i&&!this.J&&(u==4?h9(this.l,this):(this.i=!1,Lf(this)))}else Eee(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,fr(12)):(this.s=0,fr(13)),Va(this),Xd(this)}}}catch{}finally{}};function BP(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function zP(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=nee(t,n),i==P_){e==4&&(t.s=4,fr(14),r=!1),bc(t.j,t.m,null,"[Incomplete Response]");break}else if(i==VP){t.s=4,fr(15),bc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else bc(t.j,t.m,i,null),L_(t,i);BP(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,fr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hx(e),e.M=!0,fr(11))):(bc(t.j,t.m,n,"[Invalid Chunked Response]"),Va(t),Xd(t))}re.mb=function(){if(this.g){var t=as(this.g),e=this.g.ja();this.o<e.length&&(Mg(this),zP(this,t,e),this.i&&t!=4&&Lf(this))}};function nee(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?P_:(n=Number(e.substring(n,r)),isNaN(n)?VP:(r+=1,r+n>e.length?P_:(e=e.slice(r,r+n),t.o=r+n,e)))}re.cancel=function(){this.J=!0,Va(this)};function Lf(t){t.Y=Date.now()+t.P,WP(t,t.P)}function WP(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Af(sr(t.lb,t),e)}function Mg(t){t.C&&(Ne.clearTimeout(t.C),t.C=null)}re.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(ZZ(this.j,this.B),this.L!=2&&(Wh(),fr(17)),Va(this),this.s=2,Xd(this)):WP(this,this.Y-t)};function Xd(t){t.l.H==0||t.J||h9(t.l,t)}function Va(t){Mg(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ox(t.V),LP(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function L_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||M_(n.i,t))){if(!t.K&&M_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Em(n),Fg(n);else break e;Wx(n),fr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Af(sr(n.ib,n),6e3));if(1>=JP(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ua(n,11)}else if((t.K||n.g==t)&&Em(n),!Fh(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Vx(s,s.h),s.h=null))}if(r.F){const v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Lt(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=m9(r,r.J?r.pa:null,r.Y),o.K){ZP(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Mg(a),Lf(a)),r.g=o}else u9(r);0<n.j.length&&Vg(n)}else c[0]!="stop"&&c[0]!="close"||Ua(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Ua(n,7):zx(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Wh(4)}catch{}}function ree(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Cg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function iee(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Cg(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function HP(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Cg(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=iee(t),r=ree(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var qP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function see(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Qa(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Qa){this.h=t.h,wm(this,t.j),this.s=t.s,this.g=t.g,xm(this,t.m),this.l=t.l;var e=t.i,n=new Hh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),jC(this,n),this.o=t.o}else t&&(e=String(t).match(qP))?(this.h=!1,wm(this,e[1]||"",!0),this.s=kd(e[2]||""),this.g=kd(e[3]||"",!0),xm(this,e[4]),this.l=kd(e[5]||"",!0),jC(this,e[6]||"",!0),this.o=kd(e[7]||"")):(this.h=!1,this.i=new Hh(null,this.h))}Qa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ad(e,FC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ad(e,FC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ad(n,n.charAt(0)=="/"?lee:aee,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ad(n,uee)),t.join("")};function Ys(t){return new Qa(t)}function wm(t,e,n){t.j=n?kd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function xm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function jC(t,e,n){e instanceof Hh?(t.i=e,dee(t.i,t.h)):(n||(e=Ad(e,cee)),t.i=new Hh(e,t.h))}function Lt(t,e,n){t.i.set(e,n)}function Og(t){return Lt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function kd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ad(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,oee),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function oee(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var FC=/[#\/\?@]/g,aee=/[#\?:]/g,lee=/[#\?]/g,cee=/[#\?@]/g,uee=/#/g;function Hh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function pa(t){t.g||(t.g=new Map,t.h=0,t.i&&see(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}re=Hh.prototype;re.add=function(t,e){pa(this),this.i=null,t=$u(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function GP(t,e){pa(t),e=$u(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function KP(t,e){return pa(t),e=$u(t,e),t.g.has(e)}re.forEach=function(t,e){pa(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};re.ta=function(){pa(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};re.Z=function(t){pa(this);let e=[];if(typeof t=="string")KP(this,t)&&(e=e.concat(this.g.get($u(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};re.set=function(t,e){return pa(this),this.i=null,t=$u(this,t),KP(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};re.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function QP(t,e,n){GP(t,e),0<n.length&&(t.i=null,t.g.set($u(t,e),Tx(n)),t.h+=n.length)}re.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function $u(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function dee(t,e){e&&!t.j&&(pa(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(GP(this,r),QP(this,i,n))},t)),t.j=e}var hee=class{constructor(t,e){this.g=t,this.map=e}};function YP(t){this.l=t||fee,Ne.PerformanceNavigationTiming?(t=Ne.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ne.g&&Ne.g.Ka&&Ne.g.Ka()&&Ne.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fee=10;function XP(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function JP(t){return t.h?1:t.g?t.g.size:0}function M_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Vx(t,e){t.g?t.g.add(e):t.h=e}function ZP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}YP.prototype.cancel=function(){if(this.i=e9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function e9(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Tx(t.i)}var pee=class{stringify(t){return Ne.JSON.stringify(t,void 0)}parse(t){return Ne.JSON.parse(t,void 0)}};function mee(){this.g=new pee}function gee(t,e,n){const r=n||"";try{HP(t,function(i,s){let o=i;Rf(i)&&(o=Lx(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function vee(t,e){const n=new Ag;if(Ne.Image){const r=new Image;r.onload=A0(N0,n,r,"TestLoadImage: loaded",!0,e),r.onerror=A0(N0,n,r,"TestLoadImage: error",!1,e),r.onabort=A0(N0,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=A0(N0,n,r,"TestLoadImage: timeout",!1,e),Ne.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function N0(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Dg(t){this.l=t.ec||null,this.j=t.ob||!1}Nn(Dg,$x);Dg.prototype.g=function(){return new $g(this.l,this.j)};Dg.prototype.i=function(t){return function(){return t}}({});function $g(t,e){kn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ux,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nn($g,kn);var Ux=0;re=$g.prototype;re.open=function(t,e){if(this.readyState!=Ux)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,qh(this)};re.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ne).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mf(this)),this.readyState=Ux};re.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,qh(this)),this.g&&(this.readyState=3,qh(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ne.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;t9(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function t9(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}re.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Mf(this):qh(this),this.readyState==3&&t9(this)}};re.Za=function(t){this.g&&(this.response=this.responseText=t,Mf(this))};re.Ya=function(t){this.g&&(this.response=t,Mf(this))};re.ka=function(){this.g&&Mf(this)};function Mf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,qh(t)}re.setRequestHeader=function(t,e){this.v.append(t,e)};re.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};re.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function qh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty($g.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var yee=Ne.JSON.parse;function Xt(t){kn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=n9,this.L=this.M=!1}Nn(Xt,kn);var n9="",_ee=/^https?$/i,wee=["POST","PUT"];re=Xt.prototype;re.Oa=function(t){this.M=t};re.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():A_.g(),this.C=this.u?$C(this.u):$C(A_),this.g.onreadystatechange=sr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){VC(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Ne.FormData&&t instanceof Ne.FormData,!(0<=yP(wee,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{s9(this),0<this.B&&((this.L=xee(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sr(this.ua,this)):this.A=Dx(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){VC(this,s)}};function xee(t){return su&&typeof t.timeout=="number"&&t.ontimeout!==void 0}re.ua=function(){typeof Cx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zn(this,"timeout"),this.abort(8))};function VC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,r9(t),jg(t)}function r9(t){t.F||(t.F=!0,zn(t,"complete"),zn(t,"error"))}re.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,zn(this,"complete"),zn(this,"abort"),jg(this))};re.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jg(this,!0)),Xt.$.N.call(this)};re.La=function(){this.s||(this.G||this.v||this.l?i9(this):this.kb())};re.kb=function(){i9(this)};function i9(t){if(t.h&&typeof Cx<"u"&&(!t.C[1]||as(t)!=4||t.da()!=2)){if(t.v&&as(t)==4)Dx(t.La,0,t);else if(zn(t,"readystatechange"),as(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(qP)[1]||null;!i&&Ne.self&&Ne.self.location&&(i=Ne.self.location.protocol.slice(0,-1)),r=!_ee.test(i?i.toLowerCase():"")}n=r}if(n)zn(t,"complete"),zn(t,"success");else{t.m=6;try{var s=2<as(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",r9(t)}}finally{jg(t)}}}}function jg(t,e){if(t.g){s9(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||zn(t,"ready");try{n.onreadystatechange=r}catch{}}}function s9(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ne.clearTimeout(t.A),t.A=null)}re.isActive=function(){return!!this.g};function as(t){return t.g?t.g.readyState:0}re.da=function(){try{return 2<as(this)?this.g.status:-1}catch{return-1}};re.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};re.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),yee(e)}};function UC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case n9:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Eee(t){const e={};t=(t.g&&2<=as(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Fh(t[r]))continue;var n=GZ(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}VZ(e,function(r){return r.join(", ")})}re.Ia=function(){return this.m};re.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function o9(t){let e="";return Rx(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Bx(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=o9(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Lt(t,e,n))}function ud(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function a9(t){this.Ga=0,this.j=[],this.l=new Ag,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ud("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ud("baseRetryDelayMs",5e3,t),this.hb=ud("retryDelaySeedMs",1e4,t),this.eb=ud("forwardChannelMaxRetries",2,t),this.xa=ud("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new YP(t&&t.concurrentRequestLimit),this.Ja=new mee,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}re=a9.prototype;re.ra=8;re.H=1;function zx(t){if(l9(t),t.H==3){var e=t.W++,n=Ys(t.I);if(Lt(n,"SID",t.K),Lt(n,"RID",e),Lt(n,"TYPE","terminate"),Of(t,n),e=new Nf(t,t.l,e),e.L=2,e.A=Og(Ys(n)),n=!1,Ne.navigator&&Ne.navigator.sendBeacon)try{n=Ne.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Ne.Image&&(new Image().src=e.A,n=!0),n||(e.g=g9(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Lf(e)}p9(t)}function Fg(t){t.g&&(Hx(t),t.g.cancel(),t.g=null)}function l9(t){Fg(t),t.u&&(Ne.clearTimeout(t.u),t.u=null),Em(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ne.clearTimeout(t.m),t.m=null)}function Vg(t){if(!XP(t.i)&&!t.m){t.m=!0;var e=t.Na;Uh||AP(),Bh||(Uh(),Bh=!0),Mx.add(e,t),t.C=0}}function Iee(t,e){return JP(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Af(sr(t.Na,t,e),f9(t,t.C)),t.C++,!0)}re.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Nf(this,this.l,t);let s=this.s;if(this.U&&(s?(s=EP(s),IP(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=c9(this,i,e),n=Ys(this.I),Lt(n,"RID",t),Lt(n,"CVER",22),this.F&&Lt(n,"X-HTTP-Session-Id",this.F),Of(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(o9(s)))+"&"+e:this.o&&Bx(n,this.o,s)),Vx(this.i,i),this.bb&&Lt(n,"TYPE","init"),this.P?(Lt(n,"$req",e),Lt(n,"SID","null"),i.aa=!0,N_(i,n,null)):N_(i,n,e),this.H=2}}else this.H==3&&(t?BC(this,t):this.j.length==0||XP(this.i)||BC(this))};function BC(t,e){var n;e?n=e.m:n=t.W++;const r=Ys(t.I);Lt(r,"SID",t.K),Lt(r,"RID",n),Lt(r,"AID",t.V),Of(t,r),t.o&&t.s&&Bx(r,t.o,t.s),n=new Nf(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=c9(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Vx(t.i,n),N_(n,r,e)}function Of(t,e){t.na&&Rx(t.na,function(n,r){Lt(e,r,n)}),t.h&&HP({},function(n,r){Lt(e,r,n)})}function c9(t,e,n){n=Math.min(t.j.length,n);var r=t.h?sr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{gee(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function u9(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Uh||AP(),Bh||(Uh(),Bh=!0),Mx.add(e,t),t.A=0}}function Wx(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Af(sr(t.Ma,t),f9(t,t.A)),t.A++,!0)}re.Ma=function(){if(this.u=null,d9(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Af(sr(this.jb,this),t)}};re.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,fr(10),Fg(this),d9(this))};function Hx(t){t.B!=null&&(Ne.clearTimeout(t.B),t.B=null)}function d9(t){t.g=new Nf(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ys(t.wa);Lt(e,"RID","rpc"),Lt(e,"SID",t.K),Lt(e,"AID",t.V),Lt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Lt(e,"TO",t.qa),Lt(e,"TYPE","xmlhttp"),Of(t,e),t.o&&t.s&&Bx(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Og(Ys(e)),n.u=null,n.S=!0,UP(n,t)}re.ib=function(){this.v!=null&&(this.v=null,Fg(this),Wx(this),fr(19))};function Em(t){t.v!=null&&(Ne.clearTimeout(t.v),t.v=null)}function h9(t,e){var n=null;if(t.g==e){Em(t),Hx(t),t.g=null;var r=2}else if(M_(t.i,e))n=e.F,ZP(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Pg(),zn(r,new DP(r,n)),Vg(t)}else u9(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&Iee(t,e)||r==2&&Wx(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ua(t,5);break;case 4:Ua(t,10);break;case 3:Ua(t,6);break;default:Ua(t,2)}}}function f9(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ua(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=sr(t.pb,t);n||(n=new Qa("//www.google.com/images/cleardot.gif"),Ne.location&&Ne.location.protocol=="http"||wm(n,"https"),Og(n)),vee(n.toString(),r)}else fr(2);t.H=0,t.h&&t.h.za(e),p9(t),l9(t)}re.pb=function(t){t?(this.l.info("Successfully pinged google.com"),fr(2)):(this.l.info("Failed to ping google.com"),fr(1))};function p9(t){if(t.H=0,t.ma=[],t.h){const e=e9(t.i);(e.length!=0||t.j.length!=0)&&(NC(t.ma,e),NC(t.ma,t.j),t.i.i.length=0,Tx(t.j),t.j.length=0),t.h.ya()}}function m9(t,e,n){var r=n instanceof Qa?Ys(n):new Qa(n);if(r.g!="")e&&(r.g=e+"."+r.g),xm(r,r.m);else{var i=Ne.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Qa(null);r&&wm(s,r),e&&(s.g=e),i&&xm(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Lt(r,n,e),Lt(r,"VER",t.ra),Of(t,r),r}function g9(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Xt(new Dg({ob:n})):new Xt(t.va),e.Oa(t.J),e}re.isActive=function(){return!!this.h&&this.h.isActive(this)};function v9(){}re=v9.prototype;re.Ba=function(){};re.Aa=function(){};re.za=function(){};re.ya=function(){};re.isActive=function(){return!0};re.Va=function(){};function Im(){if(su&&!(10<=Number(DZ)))throw Error("Environmental error: no available transport.")}Im.prototype.g=function(t,e){return new Qr(t,e)};function Qr(t,e){kn.call(this),this.g=new a9(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Fh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fh(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ju(this)}Nn(Qr,kn);Qr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;fr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=m9(t,null,t.Y),Vg(t)};Qr.prototype.close=function(){zx(this.g)};Qr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Lx(t),t=n);e.j.push(new hee(e.fb++,t)),e.H==3&&Vg(e)};Qr.prototype.N=function(){this.g.h=null,delete this.j,zx(this.g),delete this.g,Qr.$.N.call(this)};function y9(t){jx.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Nn(y9,jx);function _9(){Fx.call(this),this.status=1}Nn(_9,Fx);function ju(t){this.g=t}Nn(ju,v9);ju.prototype.Ba=function(){zn(this.g,"a")};ju.prototype.Aa=function(t){zn(this.g,new y9(t))};ju.prototype.za=function(t){zn(this.g,new _9)};ju.prototype.ya=function(){zn(this.g,"b")};function bee(){this.blockSize=-1}function Ki(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Nn(Ki,bee);Ki.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Rv(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Ki.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Rv(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Rv(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Rv(this,r),i=0;break}}this.h=i,this.i+=e};Ki.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function gt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Cee={};function qx(t){return-128<=t&&128>t?LZ(t,function(e){return new gt([e|0],0>e?-1:0)}):new gt([t|0],0>t?-1:0)}function ls(t){if(isNaN(t)||!isFinite(t))return Vc;if(0>t)return jn(ls(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=O_;return new gt(e,0)}function w9(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return jn(w9(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ls(Math.pow(e,8)),r=Vc,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ls(Math.pow(e,s)),r=r.R(s).add(ls(o))):(r=r.R(n),r=r.add(ls(o)))}return r}var O_=4294967296,Vc=qx(0),D_=qx(1),zC=qx(16777216);re=gt.prototype;re.ea=function(){if(ci(this))return-jn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:O_+r)*e,e*=O_}return t};re.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(js(this))return"0";if(ci(this))return"-"+jn(this).toString(t);for(var e=ls(Math.pow(t,6)),n=this,r="";;){var i=Cm(n,e).g;n=bm(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,js(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};re.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function js(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ci(t){return t.h==-1}re.X=function(t){return t=bm(this,t),ci(t)?-1:js(t)?0:1};function jn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new gt(n,~t.h).add(D_)}re.abs=function(){return ci(this)?jn(this):this};re.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new gt(n,n[n.length-1]&-2147483648?-1:0)};function bm(t,e){return t.add(jn(e))}re.R=function(t){if(js(this)||js(t))return Vc;if(ci(this))return ci(t)?jn(this).R(jn(t)):jn(jn(this).R(t));if(ci(t))return jn(this.R(jn(t)));if(0>this.X(zC)&&0>t.X(zC))return ls(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,L0(n,2*r+2*i),n[2*r+2*i+1]+=s*l,L0(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,L0(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,L0(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new gt(n,0)};function L0(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function dd(t,e){this.g=t,this.h=e}function Cm(t,e){if(js(e))throw Error("division by zero");if(js(t))return new dd(Vc,Vc);if(ci(t))return e=Cm(jn(t),e),new dd(jn(e.g),jn(e.h));if(ci(e))return e=Cm(t,jn(e)),new dd(jn(e.g),e.h);if(30<t.g.length){if(ci(t)||ci(e))throw Error("slowDivide_ only works with positive integers.");for(var n=D_,r=e;0>=r.X(t);)n=WC(n),r=WC(r);var i=Zl(n,1),s=Zl(r,1);for(r=Zl(r,2),n=Zl(n,2);!js(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Zl(r,1),n=Zl(n,1)}return e=bm(t,i.R(e)),new dd(i,e)}for(i=Vc;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ls(n),o=s.R(e);ci(o)||0<o.X(t);)n-=r,s=ls(n),o=s.R(e);js(s)&&(s=D_),i=i.add(s),t=bm(t,o)}return new dd(i,t)}re.gb=function(t){return Cm(this,t).h};re.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new gt(n,this.h&t.h)};re.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new gt(n,this.h|t.h)};re.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new gt(n,this.h^t.h)};function WC(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new gt(n,t.h)}function Zl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new gt(i,t.h)}Im.prototype.createWebChannel=Im.prototype.g;Qr.prototype.send=Qr.prototype.u;Qr.prototype.open=Qr.prototype.m;Qr.prototype.close=Qr.prototype.close;Ng.NO_ERROR=0;Ng.TIMEOUT=8;Ng.HTTP_ERROR=6;$P.COMPLETE="complete";jP.EventType=Pf;Pf.OPEN="a";Pf.CLOSE="b";Pf.ERROR="c";Pf.MESSAGE="d";kn.prototype.listen=kn.prototype.O;Xt.prototype.listenOnce=Xt.prototype.P;Xt.prototype.getLastError=Xt.prototype.Sa;Xt.prototype.getLastErrorCode=Xt.prototype.Ia;Xt.prototype.getStatus=Xt.prototype.da;Xt.prototype.getResponseJson=Xt.prototype.Wa;Xt.prototype.getResponseText=Xt.prototype.ja;Xt.prototype.send=Xt.prototype.ha;Xt.prototype.setWithCredentials=Xt.prototype.Oa;Ki.prototype.digest=Ki.prototype.l;Ki.prototype.reset=Ki.prototype.reset;Ki.prototype.update=Ki.prototype.j;gt.prototype.add=gt.prototype.add;gt.prototype.multiply=gt.prototype.R;gt.prototype.modulo=gt.prototype.gb;gt.prototype.compare=gt.prototype.X;gt.prototype.toNumber=gt.prototype.ea;gt.prototype.toString=gt.prototype.toString;gt.prototype.getBits=gt.prototype.D;gt.fromNumber=ls;gt.fromString=w9;var Tee=function(){return new Im},See=function(){return Pg()},kv=Ng,Ree=$P,kee=Pl,HC={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},M0=jP,Aee=Xt,Pee=Ki,Uc=gt;const qC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=new Ef("@firebase/firestore");function ac(){return hl.logLevel}function K(t,...e){if(hl.logLevel<=Be.DEBUG){const n=e.map(Gx);hl.debug(`Firestore (${Fu}): ${t}`,...n)}}function dr(t,...e){if(hl.logLevel<=Be.ERROR){const n=e.map(Gx);hl.error(`Firestore (${Fu}): ${t}`,...n)}}function Yo(t,...e){if(hl.logLevel<=Be.WARN){const n=e.map(Gx);hl.warn(`Firestore (${Fu}): ${t}`,...n)}}function Gx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t="Unexpected state"){const e=`FIRESTORE (${Fu}) INTERNAL ASSERTION FAILED: `+t;throw dr(e),new Error(e)}function xe(t,e){t||pe()}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dn.UNAUTHENTICATED))}shutdown(){}}class Lee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Mee{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ui;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ui,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ui)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new x9(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new Dn(e)}}class Oee{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Dee{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Oee(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $ee{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jee{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.R=n.token,new $ee(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fee(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Fee(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Me(t,e){return t<e?-1:t>e?1:0}function ou(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function I9(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new zt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new zt(0,0))}static max(){return new be(new zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(),r===void 0?r=e.length-n:r>e.length-n&&pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ut extends Gh{construct(e,n,r){return new ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const Vee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends Gh{construct(e,n,r){return new Ut(e,n,r)}static isValidIdentifier(e){return Vee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ut(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new J(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(ut.fromString(e))}static fromName(e){return new te(ut.fromString(e).popFirst(5))}static empty(){return new te(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function $_(t){return t.fields.find(e=>e.kind===2)}function Ra(t){return t.fields.filter(e=>e.kind!==2)}Tm.UNKNOWN_ID=-1;class gp{constructor(e,n){this.fieldPath=e,this.kind=n}}class Kh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Kh(0,Yr.min())}}function Uee(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new zt(n+1,0):new zt(n,r));return new Yr(i,te.empty(),e)}function b9(t){return new Yr(t.readTime,t.key,-1)}class Yr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yr(be.min(),te.empty(),-1)}static max(){return new Yr(be.max(),te.empty(),-1)}}function Kx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==C9)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ui,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Jd(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Qx(r.target.error);this.V.reject(new Jd(e,i))}}static open(e,n,r,i){try{return new Ug(n,e.transaction(i,r))}catch(s){throw new Jd(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(K("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new zee(n)}}class cs{constructor(e,n,r){this.name=e,this.version=n,this.p=r,cs.S(ot())===12.2&&dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return K("SimpleDb","Removing database:",e),Pa(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!R6())return!1;if(cs.C())return!0;const e=ot(),n=cs.S(e),r=0<n&&n<10,i=cs.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(K("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Jd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new J(H.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new J(H.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Jd(e,o))},i.onupgradeneeded=s=>{K("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{K("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=Ug.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),U.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(K("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Bee{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Pa(this.k.delete())}}class Jd extends J{constructor(e,n){super(H.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ma(t){return t.name==="IndexedDbTransactionError"}class zee{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(K("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(K("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Pa(r)}add(e){return K("SimpleDb","ADD",this.store.name,e,e),Pa(this.store.add(e))}get(e){return Pa(this.store.get(e)).next(n=>(n===void 0&&(n=null),K("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return K("SimpleDb","DELETE",this.store.name,e),Pa(this.store.delete(e))}count(){return K("SimpleDb","COUNT",this.store.name),Pa(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new U((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new U((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){K("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new U((r,i)=>{n.onerror=s=>{const o=Qx(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new U((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new Bee(a),c=n(a.primaryKey,a.value,l);if(c instanceof U){const u=c.catch(d=>(l.done(),U.reject(d)));r.push(u)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>U.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Pa(t){return new U((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Qx(r.target.error);n(i)}})}let GC=!1;function Qx(t){const e=cs.S(ot());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new J("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return GC||(GC=!0,setTimeout(()=>{throw r},0)),r}}return t}class Wee{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){K("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{K("IndexBackfiller",`Documents written: ${await this.X.te()}`)}catch(n){ma(n)?K("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Nl(n)}await this.ee(6e4)})}}class Hee{constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let i=n,s=!0;return U.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return K("IndexBackfiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(K("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=b9(s);Kx(o,r)>0&&(r=o)}),new Yr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}fi._e=-1;function Bg(t){return t==null}function Qh(t){return t===0&&1/t==-1/0}function qee(t){return typeof t=="number"&&Number.isInteger(t)&&!Qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=KC(e)),e=Gee(t.get(n),e);return KC(e)}function Gee(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function KC(t){return t+""}function us(t){const e=t.length;if(xe(e>=2),e===2)return xe(t.charAt(0)===""&&t.charAt(1)===""),ut.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&pe(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:pe()}s=o+2}return new ut(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(t,e){return[t,gr(e)]}function S9(t,e,n){return[t,gr(e),n]}const Kee={},Qee=["prefixPath","collectionGroup","readTime","documentId"],Yee=["prefixPath","collectionGroup","documentId"],Xee=["collectionGroup","readTime","prefixPath","documentId"],Jee=["canonicalId","targetId"],Zee=["targetId","path"],ete=["path","targetId"],tte=["collectionId","parent"],nte=["indexId","uid"],rte=["uid","sequenceNumber"],ite=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ste=["indexId","uid","orderedDocumentKey"],ote=["userId","collectionPath","documentId"],ate=["userId","collectionPath","largestBatchId"],lte=["userId","collectionGroup","largestBatchId"],R9=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],cte=[...R9,"documentOverlays"],k9=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],A9=k9,ute=[...A9,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_ extends T9{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Ln(t,e){const n=Le(t);return cs.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ll(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function P9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rn=class F_{constructor(e,n){this.comparator=e,this.root=n||Wo.EMPTY}insert(e,n){return new F_(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wo.BLACK,null,null))}remove(e){return new F_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new O0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new O0(this.root,e,this.comparator,!1)}getReverseIterator(){return new O0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new O0(this.root,e,this.comparator,!0)}},O0=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Wo=class Ss{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ss.RED,this.left=i??Ss.EMPTY,this.right=s??Ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ss(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ss.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ss.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}};Wo.EMPTY=null,Wo.RED=!0,Wo.BLACK=!1;Wo.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Wo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XC(this.data.getIterator())}getIteratorFrom(e){return new XC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class XC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ec(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new Sr([])}unionWith(e){let n=new xt(Ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ou(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new N9("Invalid base64 string: "+s):s}}(e);return new qn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new qn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qn.EMPTY_BYTE_STRING=new qn("");const dte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xo(t){if(xe(!!t),typeof t=="string"){let e=0;const n=dte.exec(t);if(xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jo(t){return typeof t=="string"?qn.fromBase64String(t):qn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yx(t){const e=t.mapValue.fields.__previous_value__;return zg(e)?Yx(e):e}function Yh(t){const e=Xo(t.mapValue.fields.__local_write_time__.timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class fl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},yp={nullValue:"NULL_VALUE"};function pl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zg(t)?4:L9(t)?9007199254740991:10:pe()}function xs(t,e){if(t===e)return!0;const n=pl(t);if(n!==pl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yh(t).isEqual(Yh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Xo(i.timestampValue),a=Xo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Jo(i.bytesValue).isEqual(Jo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Qt(i.geoPointValue.latitude)===Qt(s.geoPointValue.latitude)&&Qt(i.geoPointValue.longitude)===Qt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Qt(i.integerValue)===Qt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Qt(i.doubleValue),a=Qt(s.doubleValue);return o===a?Qh(o)===Qh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ou(t.arrayValue.values||[],e.arrayValue.values||[],xs);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(YC(o)!==YC(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!xs(o[l],a[l])))return!1;return!0}(t,e);default:return pe()}}function Xh(t,e){return(t.values||[]).find(n=>xs(n,e))!==void 0}function Zo(t,e){if(t===e)return 0;const n=pl(t),r=pl(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Qt(s.integerValue||s.doubleValue),l=Qt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return JC(t.timestampValue,e.timestampValue);case 4:return JC(Yh(t),Yh(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Jo(s),l=Jo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Me(a[c],l[c]);if(u!==0)return u}return Me(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Me(Qt(s.latitude),Qt(o.latitude));return a!==0?a:Me(Qt(s.longitude),Qt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Zo(a[c],l[c]);if(u)return u}return Me(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ao.mapValue&&o===Ao.mapValue)return 0;if(s===Ao.mapValue)return 1;if(o===Ao.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Me(l[d],u[d]);if(h!==0)return h;const p=Zo(a[l[d]],c[u[d]]);if(p!==0)return p}return Me(l.length,u.length)}(t.mapValue,e.mapValue);default:throw pe()}}function JC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=Xo(t),r=Xo(e),i=Me(n.seconds,r.seconds);return i!==0?i:Me(n.nanos,r.nanos)}function au(t){return V_(t)}function V_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Xo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Jo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=V_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${V_(n.fields[o])}`;return i+"}"}(t.mapValue):pe()}function ml(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function U_(t){return!!t&&"integerValue"in t}function Jh(t){return!!t&&"arrayValue"in t}function ZC(t){return!!t&&"nullValue"in t}function eT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _p(t){return!!t&&"mapValue"in t}function Zd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ll(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function L9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function fte(t){return"nullValue"in t?yp:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ml(fl.empty(),te.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:pe()}function pte(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ml(fl.empty(),te.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Ao:pe()}function tT(t,e){const n=Zo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function nT(t,e){const n=Zo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_p(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zd(n)}setAll(e){let n=Ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Zd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());_p(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_p(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ll(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tr(Zd(this.value))}}function M9(t){const e=[];return Ll(t.fields,(n,r)=>{const i=new Ut([n]);if(_p(r)){const s=M9(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Yt(e,0,be.min(),be.min(),be.min(),tr.empty(),0)}static newFoundDocument(e,n,r,i){return new Yt(e,1,n,be.min(),r,i,0)}static newNoDocument(e,n){return new Yt(e,2,n,be.min(),be.min(),tr.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,be.min(),be.min(),tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.position=e,this.inclusive=n}}function rT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=Zo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function iT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n="asc"){this.field=e,this.dir=n}}function mte(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{}class Ge extends O9{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gte(e,n,r):n==="array-contains"?new _te(e,r):n==="in"?new U9(e,r):n==="not-in"?new wte(e,r):n==="array-contains-any"?new xte(e,r):new Ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vte(e,r):new yte(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zo(n,this.value)):n!==null&&pl(this.value)===pl(n)&&this.matchesComparison(Zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pt extends O9{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new pt(e,n)}matches(e){return lu(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function lu(t){return t.op==="and"}function B_(t){return t.op==="or"}function Xx(t){return D9(t)&&lu(t)}function D9(t){for(const e of t.filters)if(e instanceof pt)return!1;return!0}function z_(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+au(t.value);if(Xx(t))return t.filters.map(e=>z_(e)).join(",");{const e=t.filters.map(n=>z_(n)).join(",");return`${t.op}(${e})`}}function $9(t,e){return t instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&xs(r.value,i.value)}(t,e):t instanceof pt?function(r,i){return i instanceof pt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&$9(o,i.filters[a]),!0):!1}(t,e):void pe()}function j9(t,e){const n=t.filters.concat(e);return pt.create(n,t.op)}function F9(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${au(n.value)}`}(t):t instanceof pt?function(n){return n.op.toString()+" {"+n.getFilters().map(F9).join(" ,")+"}"}(t):"Filter"}class gte extends Ge{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class vte extends Ge{constructor(e,n){super(e,"in",n),this.keys=V9("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yte extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=V9("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function V9(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class _te extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jh(n)&&Xh(n.arrayValue,this.value)}}class U9 extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xh(this.value.arrayValue,n)}}class wte extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xh(this.value.arrayValue,n)}}class xte extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ete{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function W_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Ete(t,e,n,r,i,s,o)}function gl(t){const e=Le(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>z_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Bg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>au(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>au(r)).join(",")),e.ce=n}return e.ce}function Df(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mte(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$9(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iT(t.startAt,e.startAt)&&iT(t.endAt,e.endAt)}function Sm(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Rm(t,e){return t.filters.filter(n=>n instanceof Ge&&n.field.isEqual(e))}function sT(t,e,n){let r=yp,i=!0;for(const s of Rm(t,e)){let o=yp,a=!0;switch(s.op){case"<":case"<=":o=fte(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=yp}tT({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];tT({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function oT(t,e,n){let r=Ao,i=!0;for(const s of Rm(t,e)){let o=Ao,a=!0;switch(s.op){case">=":case">":o=pte(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Ao}nT({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];nT({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Ite(t,e,n,r,i,s,o,a){return new Ml(t,e,n,r,i,s,o,a)}function $f(t){return new Ml(t)}function aT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Jx(t){return t.collectionGroup!==null}function Bc(t){const e=Le(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new xt(Ut.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Zh(s,r))}),n.has(Ut.keyField().canonicalString())||e.le.push(new Zh(Ut.keyField(),r))}return e.le}function vi(t){const e=Le(t);return e.he||(e.he=bte(e,Bc(t))),e.he}function bte(t,e){if(t.limitType==="F")return W_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Zh(i.field,s)});const n=t.endAt?new ea(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ea(t.startAt.position,t.startAt.inclusive):null;return W_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function H_(t,e){const n=t.filters.concat([e]);return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function km(t,e,n){return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wg(t,e){return Df(vi(t),vi(e))&&t.limitType===e.limitType}function B9(t){return`${gl(vi(t))}|lt:${t.limitType}`}function lc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>F9(i)).join(", ")}]`),Bg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>au(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>au(i)).join(",")),`Target(${r})`}(vi(t))}; limitType=${t.limitType})`}function jf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Bc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=rT(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Bc(r),i)||r.endAt&&!function(o,a,l){const c=rT(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Bc(r),i))}(t,e)}function Cte(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function z9(t){return(e,n)=>{let r=!1;for(const i of Bc(t)){const s=Tte(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Tte(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Zo(l,c):pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ll(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return P9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ste=new rn(te.comparator);function Br(){return Ste}const W9=new rn(te.comparator);function Pd(...t){let e=W9;for(const n of t)e=e.insert(n.key,n);return e}function H9(t){let e=W9;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ds(){return eh()}function q9(){return eh()}function eh(){return new ga(t=>t.toString(),(t,e)=>t.isEqual(e))}const Rte=new rn(te.comparator),kte=new xt(te.comparator);function ze(...t){let e=kte;for(const n of t)e=e.add(n);return e}const Ate=new xt(Me);function Pte(){return Ate}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}function K9(t){return{integerValue:""+t}}function Nte(t,e){return qee(e)?K9(e):G9(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(){this._=void 0}}function Lte(t,e,n){return t instanceof cu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zg(s)&&(s=Yx(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof vl?Y9(t,e):t instanceof uu?X9(t,e):function(i,s){const o=Q9(i,s),a=lT(o)+lT(i.Ie);return U_(o)&&U_(i.Ie)?K9(a):G9(i.serializer,a)}(t,e)}function Mte(t,e,n){return t instanceof vl?Y9(t,e):t instanceof uu?X9(t,e):n}function Q9(t,e){return t instanceof ef?function(r){return U_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class cu extends Hg{}class vl extends Hg{constructor(e){super(),this.elements=e}}function Y9(t,e){const n=J9(e);for(const r of t.elements)n.some(i=>xs(i,r))||n.push(r);return{arrayValue:{values:n}}}class uu extends Hg{constructor(e){super(),this.elements=e}}function X9(t,e){let n=J9(e);for(const r of t.elements)n=n.filter(i=>!xs(i,r));return{arrayValue:{values:n}}}class ef extends Hg{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function lT(t){return Qt(t.integerValue||t.doubleValue)}function J9(t){return Jh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.field=e,this.transform=n}}function Ote(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof vl&&i instanceof vl||r instanceof uu&&i instanceof uu?ou(r.elements,i.elements,xs):r instanceof ef&&i instanceof ef?xs(r.Ie,i.Ie):r instanceof cu&&i instanceof cu}(t.transform,e.transform)}class Dte{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qg{}function Z9(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gg(t.key,nr.none()):new Vu(t.key,t.data,nr.none());{const n=t.data,r=tr.empty();let i=new xt(Ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ao(t.key,r,new Sr(i.toArray()),nr.none())}}function $te(t,e,n){t instanceof Vu?function(i,s,o){const a=i.value.clone(),l=uT(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ao?function(i,s,o){if(!wp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=uT(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(eN(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function th(t,e,n,r){return t instanceof Vu?function(s,o,a,l){if(!wp(s.precondition,o))return a;const c=s.value.clone(),u=dT(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ao?function(s,o,a,l){if(!wp(s.precondition,o))return a;const c=dT(s.fieldTransforms,l,o),u=o.data;return u.setAll(eN(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return wp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function jte(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Q9(r.transform,i||null);s!=null&&(n===null&&(n=tr.empty()),n.set(r.field,s))}return n||null}function cT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ou(r,i,(s,o)=>Ote(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vu extends qg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ao extends qg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function eN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uT(t,e,n){const r=new Map;xe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Mte(o,a,n[i]))}return r}function dT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Lte(s,o,e))}return r}class Gg extends qg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tN extends qg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&$te(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=th(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=th(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=q9();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Z9(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&ou(this.mutations,e.mutations,(n,r)=>cT(n,r))&&ou(this.baseMutations,e.baseMutations,(n,r)=>cT(n,r))}}class tE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length);let i=function(){return Rte}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new tE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fte{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn,Ze;function Vte(t){switch(t){default:return pe();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function nN(t){if(t===void 0)return dr("GRPC error has no .code"),H.UNKNOWN;switch(t){case cn.OK:return H.OK;case cn.CANCELLED:return H.CANCELLED;case cn.UNKNOWN:return H.UNKNOWN;case cn.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case cn.INTERNAL:return H.INTERNAL;case cn.UNAVAILABLE:return H.UNAVAILABLE;case cn.UNAUTHENTICATED:return H.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case cn.NOT_FOUND:return H.NOT_FOUND;case cn.ALREADY_EXISTS:return H.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return H.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case cn.ABORTED:return H.ABORTED;case cn.OUT_OF_RANGE:return H.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return H.UNIMPLEMENTED;case cn.DATA_LOSS:return H.DATA_LOSS;default:return pe()}}(Ze=cn||(cn={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ute(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bte=new Uc([4294967295,4294967295],0);function hT(t){const e=Ute().encode(t),n=new Pee;return n.update(e),new Uint8Array(n.digest())}function fT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Uc([n,r],0),new Uc([i,s],0)]}class rE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nd(`Invalid padding: ${n}`);if(r<0)throw new Nd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nd(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Uc.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Uc.fromNumber(r)));return i.compare(Bte)===1&&(i=new Uc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=hT(e),[r,i]=fT(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new rE(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=hT(e),[r,i]=fT(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ff.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kg(be.min(),i,new rn(Me),Br(),ze())}}class Ff{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ff(r,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class rN{constructor(e,n){this.targetId=e,this.fe=n}}class iN{constructor(e,n,r=qn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class pT{constructor(){this.ge=0,this.pe=gT(),this.ye=qn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ze(),n=ze(),r=ze();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pe()}}),new Ff(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=gT()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,xe(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class zte{constructor(e){this.Be=e,this.ke=new Map,this.qe=Br(),this.Qe=mT(),this.Ke=new rn(Me)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Sm(s))if(r===0){const o=new te(s.path);this.We(n,o,Yt.newNoDocument(o,be.min()))}else xe(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Jo(r).toUint8Array()}catch(l){if(l instanceof N9)return Yo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new rE(o,i,s)}catch(l){return Yo(l instanceof Nd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Sm(a.target)){const l=new te(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Yt.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ze();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Kg(e,n,this.Ke,this.qe,r);return this.qe=Br(),this.Qe=mT(),this.Ke=new rn(Me),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new pT,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new xt(Me),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new pT),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function mT(){return new rn(te.comparator)}function gT(){return new rn(te.comparator)}const Wte={asc:"ASCENDING",desc:"DESCENDING"},Hte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qte={and:"AND",or:"OR"};class Gte{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function q_(t,e){return t.useProto3Json||Bg(e)?e:{value:e}}function du(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Kte(t,e){return du(t,e.toTimestamp())}function vr(t){return xe(!!t),be.fromTimestamp(function(n){const r=Xo(n);return new zt(r.seconds,r.nanos)}(t))}function iE(t,e){return G_(t,e).canonicalString()}function G_(t,e){const n=function(i){return new ut(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function oN(t){const e=ut.fromString(t);return xe(mN(e)),e}function Am(t,e){return iE(t.databaseId,e.path)}function Ya(t,e){const n=oN(e);if(n.get(1)!==t.databaseId.projectId)throw new J(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(cN(n))}function aN(t,e){return iE(t.databaseId,e)}function lN(t){const e=oN(t);return e.length===4?ut.emptyPath():cN(e)}function K_(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cN(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function vT(t,e,n){return{name:Am(t,e),fields:n.value.mapValue.fields}}function Qte(t,e,n){const r=Ya(t,e.name),i=vr(e.updateTime),s=e.createTime?vr(e.createTime):be.min(),o=new tr({mapValue:{fields:e.fields}}),a=Yt.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Yte(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(xe(u===void 0||typeof u=="string"),qn.fromBase64String(u||"")):(xe(u===void 0||u instanceof Uint8Array),qn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?H.UNKNOWN:nN(c.code);return new J(u,c.message||"")}(o);n=new iN(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ya(t,r.document.name),s=vr(r.document.updateTime),o=r.document.createTime?vr(r.document.createTime):be.min(),a=new tr({mapValue:{fields:r.document.fields}}),l=Yt.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new xp(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ya(t,r.document),s=r.readTime?vr(r.readTime):be.min(),o=Yt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new xp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ya(t,r.document),s=r.removedTargetIds||[];n=new xp([],s,i,null)}else{if(!("filter"in e))return pe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Fte(i,s),a=r.targetId;n=new rN(a,o)}}return n}function Pm(t,e){let n;if(e instanceof Vu)n={update:vT(t,e.key,e.value)};else if(e instanceof Gg)n={delete:Am(t,e.key)};else if(e instanceof ao)n={update:vT(t,e.key,e.data),updateMask:nne(e.fieldMask)};else{if(!(e instanceof tN))return pe();n={verify:Am(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof cu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof uu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ef)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Kte(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:pe()}(t,e.precondition)),n}function Q_(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?nr.updateTime(vr(s.updateTime)):s.exists!==void 0?nr.exists(s.exists):nr.none()}(e.currentDocument):nr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)xe(a.setToServerValue==="REQUEST_TIME"),l=new cu;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];l=new vl(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];l=new uu(u)}else"increment"in a?l=new ef(o,a.increment):pe();const c=Ut.fromServerFormat(a.fieldPath);return new Zx(c,l)}(t,i)):[];if(e.update){e.update.name;const i=Ya(t,e.update.name),s=new tr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new Sr(c.map(u=>Ut.fromServerFormat(u)))}(e.updateMask);return new ao(i,s,o,n,r)}return new Vu(i,s,n,r)}if(e.delete){const i=Ya(t,e.delete);return new Gg(i,n)}if(e.verify){const i=Ya(t,e.verify);return new tN(i,n)}return pe()}function Xte(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?vr(i.updateTime):vr(s);return o.isEqual(be.min())&&(o=vr(s)),new Dte(o,i.transformResults||[])}(n,e))):[]}function uN(t,e){return{documents:[aN(t,e.path)]}}function dN(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aN(t,i);const s=function(c){if(c.length!==0)return pN(pt.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:cc(h.field),direction:Zte(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=q_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i}}function hN(t){let e=lN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xe(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const h=fN(d);return h instanceof pt&&Xx(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new Zh(uc(m.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Bg(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new ea(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new ea(p,h)}(n.endAt)),Ite(e,i,o,s,a,"F",l,c)}function Jte(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=uc(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=uc(n.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=uc(n.unaryFilter.field);return Ge.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=uc(n.unaryFilter.field);return Ge.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(uc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pt.create(n.compositeFilter.filters.map(r=>fN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pe()}}(n.compositeFilter.op))}(t):pe()}function Zte(t){return Wte[t]}function ene(t){return Hte[t]}function tne(t){return qte[t]}function cc(t){return{fieldPath:t.canonicalString()}}function uc(t){return Ut.fromServerFormat(t.fieldPath)}function pN(t){return t instanceof Ge?function(n){if(n.op==="=="){if(eT(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NAN"}};if(ZC(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eT(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NOT_NAN"}};if(ZC(n.value))return{unaryFilter:{field:cc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cc(n.field),op:ene(n.op),value:n.value}}}(t):t instanceof pt?function(n){const r=n.getFilters().map(i=>pN(i));return r.length===1?r[0]:{compositeFilter:{op:tne(n.op),filters:r}}}(t):pe()}function nne(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,r,i,s=be.min(),o=be.min(),a=qn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.ct=e}}function rne(t,e){let n;if(e.document)n=Qte(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=te.fromSegments(e.noDocument.path),i=_l(e.noDocument.readTime);n=Yt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return pe();{const r=te.fromSegments(e.unknownDocument.path),i=_l(e.unknownDocument.version);n=Yt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new zt(i[0],i[1]);return be.fromTimestamp(s)}(e.readTime)),n}function yT(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Nm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Am(s,o.key),fields:o.data.value.mapValue.fields,updateTime:du(s,o.version.toTimestamp()),createTime:du(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:yl(e.version)};else{if(!e.isUnknownDocument())return pe();r.unknownDocument={path:n.path.toArray(),version:yl(e.version)}}return r}function Nm(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function yl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _l(t){const e=new zt(t.seconds,t.nanoseconds);return be.fromTimestamp(e)}function Na(t,e){const n=(e.baseMutations||[]).map(s=>Q_(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>Q_(t.ct,s)),i=zt.fromMillis(e.localWriteTimeMs);return new eE(e.batchId,i,n,r)}function Ld(t){const e=_l(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?_l(t.lastLimboFreeSnapshotVersion):be.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return xe(s.documents.length===1),vi($f(lN(s.documents[0])))}(t.query):function(s){return vi(hN(s))}(t.query),new Fs(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,qn.fromBase64String(t.resumeToken))}function vN(t,e){const n=yl(e.snapshotVersion),r=yl(e.lastLimboFreeSnapshotVersion);let i;i=Sm(e.target)?uN(t.ct,e.target):dN(t.ct,e.target).ut;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:gl(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function yN(t){const e=hN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?km(e,e.limit,"L"):e}function Av(t,e){return new nE(e.largestBatchId,Q_(t.ct,e.overlayMutation))}function _T(t,e){const n=e.path.lastSegment();return[t,gr(e.path.popLast()),n]}function wT(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:yl(r.readTime),documentKey:gr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine{getBundleMetadata(e,n){return xT(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:_l(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return xT(e).put(function(i){return{bundleId:i.id,createTime:yl(vr(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return ET(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:yN(s.bundledQuery),readTime:_l(s.readTime)}}(r)})}saveNamedQuery(e,n){return ET(e).put(function(i){return{name:i.name,readTime:yl(vr(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function xT(t){return Ln(t,"bundles")}function ET(t){return Ln(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Qg(e,r)}getOverlay(e,n){return hd(e).get(_T(this.userId,n)).next(r=>r?Av(this.serializer,r):null)}getOverlays(e,n){const r=ds();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new nE(n,o);i.push(this.ht(e,a))}),U.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(gr(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(hd(e).H("collectionPathOverlayIndex",a))}),U.waitFor(s)}getOverlaysForCollection(e,n,r){const i=ds(),s=gr(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return hd(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=Av(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=ds();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return hd(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=Av(this.serializer,c);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>s)}ht(e,n){return hd(e).put(function(i,s,o){const[a,l,c]=_T(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Pm(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function hd(t){return Ln(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Qt(e.integerValue));else if("doubleValue"in e){const r=Qt(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Qh(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Jo(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?L9(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):pe()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),te.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}La.bt=new La;function sne(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function IT(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=sne(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class one{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=IT(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=IT(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class ane{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class lne{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class fd{constructor(){this.Gt=new one,this.zt=new ane(this.Gt),this.jt=new lne(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ma(this.indexId,this.documentKey,this.arrayValue,r)}}function fo(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=bT(t.arrayValue,e.arrayValue),n!==0?n:(n=bT(t.directionalValue,e.directionalValue),n!==0?n:te.comparator(t.documentKey,e.documentKey)))}function bT(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.Yt=new xt((n,r)=>Ut.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(xe(e.collectionGroup===this.collectionId),this.en)return!1;const n=$_(e);if(n!==void 0&&!this.nn(n))return!1;const r=Ra(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new xt(Ut.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new gp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new gp(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new gp(r.field,r.dir==="asc"?0:1)));return new Tm(Tm.UNKNOWN_ID,this.collectionId,n,Kh.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(t){var e,n;if(xe(t instanceof Ge||t instanceof pt),t instanceof Ge){if(t instanceof U9){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Ge.create(t.field,"==",s)))||[];return pt.create(i,"or")}return t}const r=t.filters.map(i=>_N(i));return pt.create(r,t.op)}function cne(t){if(t.getFilters().length===0)return[];const e=J_(_N(t));return xe(wN(e)),Y_(e)||X_(e)?[e]:e.getFilters()}function Y_(t){return t instanceof Ge}function X_(t){return t instanceof pt&&Xx(t)}function wN(t){return Y_(t)||X_(t)||function(n){if(n instanceof pt&&B_(n)){for(const r of n.getFilters())if(!Y_(r)&&!X_(r))return!1;return!0}return!1}(t)}function J_(t){if(xe(t instanceof Ge||t instanceof pt),t instanceof Ge)return t;if(t.filters.length===1)return J_(t.filters[0]);const e=t.filters.map(r=>J_(r));let n=pt.create(e,t.op);return n=Lm(n),wN(n)?n:(xe(n instanceof pt),xe(lu(n)),xe(n.filters.length>1),n.filters.reduce((r,i)=>sE(r,i)))}function sE(t,e){let n;return xe(t instanceof Ge||t instanceof pt),xe(e instanceof Ge||e instanceof pt),n=t instanceof Ge?e instanceof Ge?function(i,s){return pt.create([i,s],"and")}(t,e):TT(t,e):e instanceof Ge?TT(e,t):function(i,s){if(xe(i.filters.length>0&&s.filters.length>0),lu(i)&&lu(s))return j9(i,s.getFilters());const o=B_(i)?i:s,a=B_(i)?s:i,l=o.filters.map(c=>sE(c,a));return pt.create(l,"or")}(t,e),Lm(n)}function TT(t,e){if(lu(e))return j9(e,t.getFilters());{const n=e.filters.map(r=>sE(t,r));return pt.create(n,"or")}}function Lm(t){if(xe(t instanceof Ge||t instanceof pt),t instanceof Ge)return t;const e=t.getFilters();if(e.length===1)return Lm(e[0]);if(D9(t))return t;const n=e.map(i=>Lm(i)),r=[];return n.forEach(i=>{i instanceof Ge?r.push(i):i instanceof pt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:pt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(){this._n=new oE}addToCollectionParentIndex(e,n){return this._n.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Yr.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class oE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xt(ut.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=new Uint8Array(0);class dne{constructor(e,n){this.databaseId=n,this.an=new oE,this.un=new ga(r=>gl(r),(r,i)=>Df(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const s={collectionId:r,parent:gr(i)};return ST(e).put(s)}return U.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[I9(n),""],!1,!0);return ST(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(us(o.parent))}return r})}addFieldIndex(e,n){const r=pd(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=nc(e);return s.next(a=>{o.put(wT(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=pd(e),i=nc(e),s=tc(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=pd(e),r=tc(e),i=nc(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return U.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new CT(r).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=tc(e);let i=!0;const s=new Map;return U.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ze();const a=[];return U.forEach(s,(l,c)=>{K("IndexedDbIndexManager",`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(E=>`${E.fieldPath}:${E.kind}`).join(",")}`}(l)} to execute ${gl(n)}`);const u=function(_,E){const S=$_(E);if(S===void 0)return null;for(const I of Rm(_,S.fieldPath))switch(I.op){case"array-contains-any":return I.value.arrayValue.values||[];case"array-contains":return[I.value]}return null}(c,l),d=function(_,E){const S=new Map;for(const I of Ra(E))for(const C of Rm(_,I.fieldPath))switch(C.op){case"==":case"in":S.set(I.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return S.set(I.fieldPath.canonicalString(),C.value),Array.from(S.values())}return null}(c,l),h=function(_,E){const S=[];let I=!0;for(const C of Ra(E)){const b=C.kind===0?sT(_,C.fieldPath,_.startAt):oT(_,C.fieldPath,_.startAt);S.push(b.value),I&&(I=b.inclusive)}return new ea(S,I)}(c,l),p=function(_,E){const S=[];let I=!0;for(const C of Ra(E)){const b=C.kind===0?oT(_,C.fieldPath,_.endAt):sT(_,C.fieldPath,_.endAt);S.push(b.value),I&&(I=b.inclusive)}return new ea(S,I)}(c,l),m=this.hn(l,c,h),v=this.hn(l,c,p),x=this.Pn(l,c,d),g=this.In(l.indexId,u,m,h.inclusive,v,p.inclusive,x);return U.forEach(g,w=>r.j(w,n.limit).next(_=>{_.forEach(E=>{const S=te.fromSegments(E.documentKey);o.has(S)||(o=o.add(S),a.push(S))})}))}).next(()=>a)}return U.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=cne(pt.create(e.filters,"and")).map(r=>W_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){const h=n?this.Tn(n[d/c]):D0,p=this.En(e,h,r[d%c],i),m=this.dn(e,h,s[d%c],o),v=a.map(x=>this.En(e,h,x,!0));u.push(...this.createRange(p,m,v))}return u}En(e,n,r,i){const s=new Ma(e,te.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){const s=new Ma(e,te.empty(),n,r);return i?s.Jt():s}ln(e,n){const r=new CT(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.cn(n);return U.forEach(i,s=>this.ln(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new xt(Ut.comparator),u=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:c=c.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){const r=new fd;for(const i of Ra(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Ht(i.kind);La.bt.Pt(s,o)}return r.Wt()}Tn(e){const n=new fd;return La.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new fd;return La.bt.Pt(ml(this.databaseId,n),r.Ht(function(s){const o=Ra(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new fd);let s=0;for(const o of Ra(e)){const a=r[s++];for(const l of i)if(this.Vn(n,o.fieldPath)&&Jh(a))i=this.mn(i,o,a);else{const c=l.Ht(o.kind);La.bt.Pt(a,c)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new fd;l.seed(a.Wt()),La.bt.Pt(o,l.Ht(n.kind)),s.push(l)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof Ge&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=pd(e),i=nc(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return U.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,d){const h=d?new Kh(d.sequenceNumber,new Yr(_l(d.readTime),new te(us(d.documentKey)),d.largestBatchId)):Kh.empty(),p=u.fields.map(([m,v])=>new gp(Ut.fromServerFormat(m),v));return new Tm(u.indexId,u.collectionGroup,p,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Me(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=pd(e),s=nc(e);return this.gn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>U.forEach(a,l=>s.put(wT(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return U.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?U.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),U.forEach(a,l=>this.pn(e,i,l).next(c=>{const u=this.yn(s,l);return c.isEqual(u)?U.resolve():this.wn(e,s,l,c,u)}))))})}Sn(e,n,r,i){return tc(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return tc(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=tc(e);let s=new xt(fo);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{s=s.add(new Ma(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let r=new xt(fo);const i=this.An(n,e);if(i==null)return r;const s=$_(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Jh(o))for(const a of o.arrayValue.values||[])r=r.add(new Ma(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Ma(n.indexId,e.key,D0,i));return r}wn(e,n,r,i,s){K("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,c,u,d,h){const p=l.getIterator(),m=c.getIterator();let v=ec(p),x=ec(m);for(;v||x;){let g=!1,w=!1;if(v&&x){const _=u(v,x);_<0?w=!0:_>0&&(g=!0)}else v!=null?w=!0:g=!0;g?(d(x),x=ec(m)):w?(h(v),v=ec(p)):(v=ec(p),x=ec(m))}}(i,s,fo,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),U.waitFor(o)}gn(e){let n=1;return nc(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>fo(o,a)).filter((o,a,l)=>!a||fo(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=fo(o,e),l=fo(o,n);if(a===0)i[0]=e.Jt();else if(a>0&&l<0)i.push(o),i.push(o.Jt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,D0,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,D0,[]];s.push(IDBKeyRange.bound(a,l))}return s}Dn(e,n){return fo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(RT)}getMinOffset(e,n){return U.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||pe())).next(RT)}}function ST(t){return Ln(t,"collectionParents")}function tc(t){return Ln(t,"indexEntries")}function pd(t){return Ln(t,"indexConfiguration")}function nc(t){return Ln(t,"indexState")}function RT(t){xe(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Kx(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Yr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ir{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ir(e,Ir.DEFAULT_COLLECTION_PERCENTILE,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(u,d,h)=>(a++,h.delete()));s.push(l.next(()=>{xe(a===1)}));const c=[];for(const u of n.mutations){const d=S9(e,u.key.path,n.batchId);s.push(i.delete(d)),c.push(u.key)}return U.waitFor(s).next(()=>c)}function Mm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw pe();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir.DEFAULT_COLLECTION_PERCENTILE=10,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ir.DEFAULT=new Ir(41943040,Ir.DEFAULT_COLLECTION_PERCENTILE,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ir.DISABLED=new Ir(-1,0,0);class Yg{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){xe(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Yg(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return po(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=dc(e),o=po(e);return o.add({}).next(a=>{xe(typeof a=="number");const l=new eE(a,n,r,i),c=function(p,m,v){const x=v.baseMutations.map(w=>Pm(p.ct,w)),g=v.mutations.map(w=>Pm(p.ct,w));return{userId:m,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:x,mutations:g}}(this.serializer,this.userId,l),u=[];let d=new xt((h,p)=>Me(h.canonicalString(),p.canonicalString()));for(const h of i){const p=S9(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(o.put(c)),u.push(s.put(p,Kee))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),U.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return po(e).get(n).next(r=>r?(xe(r.userId===this.userId),Na(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?U.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return po(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(xe(a.batchId>=r),s=Na(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return po(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return po(e).W("userMutationsIndex",n).next(r=>r.map(i=>Na(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=vp(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return dc(e).Y({range:i},(o,a,l)=>{const[c,u,d]=o,h=us(u);if(c===this.userId&&n.path.isEqual(h))return po(e).get(d).next(p=>{if(!p)throw pe();xe(p.userId===this.userId),s.push(Na(this.serializer,p))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(Me);const i=[];return n.forEach(s=>{const o=vp(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=dc(e).Y({range:a},(c,u,d)=>{const[h,p,m]=c,v=us(p);h===this.userId&&s.path.isEqual(v)?r=r.add(m):d.done()});i.push(l)}),U.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=vp(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new xt(Me);return dc(e).Y({range:o},(l,c,u)=>{const[d,h,p]=l,m=us(h);d===this.userId&&r.isPrefixOf(m)?m.length===i&&(a=a.add(p)):u.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(po(e).get(s).next(o=>{if(o===null)throw pe();xe(o.userId===this.userId),r.push(Na(this.serializer,o))}))}),U.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return xN(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),U.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return U.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return dc(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=us(s[1]);i.push(l)}else a.done()}).next(()=>{xe(i.length===0)})})}containsKey(e,n){return EN(e,this.userId,n)}xn(e){return IN(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function EN(t,e,n){const r=vp(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return dc(t).Y({range:s,J:!0},(a,l,c)=>{const[u,d,h]=a;u===e&&d===i&&(o=!0),c.done()}).next(()=>o)}function po(t){return Ln(t,"mutations")}function dc(t){return Ln(t,"documentMutations")}function IN(t){return Ln(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new wl(0)}static Ln(){return new wl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new wl(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>be.fromTimestamp(new zt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>rc(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(xe(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return rc(e).Y((o,a)=>{const l=Ld(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>U.waitFor(s)).next(()=>i)}forEachTarget(e,n){return rc(e).Y((r,i)=>{const s=Ld(i);n(s)})}Bn(e){return AT(e).get("targetGlobalKey").next(n=>(xe(n!==null),n))}kn(e,n){return AT(e).put("targetGlobalKey",n)}qn(e,n){return rc(e).put(vN(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=gl(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return rc(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=Ld(a);Df(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=bo(e);return n.forEach(o=>{const a=gr(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),U.waitFor(i)}removeMatchingKeys(e,n,r){const i=bo(e);return U.forEach(n,s=>{const o=gr(s.path);return U.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=bo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=bo(e);let s=ze();return i.Y({range:r,J:!0},(o,a,l)=>{const c=us(o[1]),u=new te(c);s=s.add(u)}).next(()=>s)}containsKey(e,n){const r=gr(n.path),i=IDBKeyRange.bound([r],[I9(r)],!1,!0);let s=0;return bo(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}_t(e,n){return rc(e).get(n).next(r=>r?Ld(r):null)}}function rc(t){return Ln(t,"targets")}function AT(t){return Ln(t,"targetGlobal")}function bo(t){return Ln(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT([t,e],[n,r]){const i=Me(t,n);return i===0?Me(e,r):i}class fne{constructor(e){this.Kn=e,this.buffer=new xt(PT),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();PT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pne{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){K("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ma(n)?K("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Nl(n)}await this.zn(3e5)})}}class mne{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(fi._e);const r=new fne(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(kT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kT):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),ac()<=Be.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function gne(t,e){return new mne(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vne{constructor(e,n){this.db=e,this.garbageCollector=gne(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return $0(e,r)}removeReference(e,n,r){return $0(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return $0(e,n)}er(e,n){return function(i,s){let o=!1;return IN(i).Z(a=>EN(i,a,s).next(l=>(l&&(o=!0),U.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Xn(e,(o,a)=>{if(a<=n){const l=this.er(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,be.min()),bo(e).delete(function(d){return[0,gr(d.path)]}(o))))});i.push(l)}}).next(()=>U.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return $0(e,n)}Xn(e,n){const r=bo(e);let i,s=fi._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==fi._e&&n(new te(us(i)),s),s=c,i=l):s=fi._e}).next(()=>{s!==fi._e&&n(new te(us(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $0(t,e){return bo(t).put(function(r,i){return{targetId:0,path:gr(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.changes=new ga(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yne{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return xa(e).put(r)}removeEntry(e,n,r){return xa(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Nm(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=Yt.newInvalidDocument(n);return xa(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(md(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:Yt.newInvalidDocument(n)};return xa(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(md(n))},(i,s)=>{r={document:this.nr(n,s),size:Mm(s)}}).next(()=>r)}getEntries(e,n){let r=Br();return this.ir(e,n,(i,s)=>{const o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,n){let r=Br(),i=new rn(te.comparator);return this.ir(e,n,(s,o)=>{const a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,Mm(o))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return U.resolve();let i=new xt(MT);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(md(i.first()),md(i.last())),o=i.getIterator();let a=o.getNext();return xa(e).Y({index:"documentKeyIndex",range:s},(l,c,u)=>{const d=te.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&MT(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?u.U(md(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Nm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xa(e).W(IDBKeyRange.bound(a,l,!0)).next(c=>{s==null||s.incrementDocumentReadCount(c.length);let u=Br();for(const d of c){const h=this.nr(te.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(jf(n,h)||i.has(h.key))&&(u=u.insert(h.key,h))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=Br();const o=LT(n,r),a=LT(n,Yr.max());return xa(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const d=this.nr(te.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(d.key,d),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new _ne(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return NT(e).get("remoteDocumentGlobalKey").next(n=>(xe(!!n),n))}tr(e,n){return NT(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=rne(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(be.min())))return r}return Yt.newInvalidDocument(e)}}function CN(t){return new yne(t)}class _ne extends bN{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new ga(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new xt((s,o)=>Me(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=yT(this.ar.serializer,o);i=i.add(s.path.popLast());const c=Mm(l);r+=c-a.size,n.push(this.ar.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=yT(this.ar.serializer,o.convertToNoDocument(be.min()));n.push(this.ar.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),U.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function NT(t){return Ln(t,"remoteDocumentGlobal")}function xa(t){return Ln(t,"remoteDocumentsV14")}function md(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function LT(t,e){const n=e.documentKey.path.toArray();return[t,Nm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function MT(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Me(n[s],r[s]),i)return i;return i=Me(n.length,r.length),i||(i=Me(n[n.length-2],r[r.length-2]),i||Me(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&th(r.mutation,i,Sr.empty(),zt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ze()){const i=ds();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Pd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ds();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ze()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Br();const o=eh(),a=function(){return eh()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof ao)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),th(u.mutation,c,u.mutation.getFieldMask(),zt.now())):o.set(c.key,Sr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new wne(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=eh();let i=new rn((o,a)=>o-a),s=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Sr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||ze()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=q9();u.forEach(h=>{if(!s.has(h)){const p=Z9(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Jx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(ds());let a=-1,l=s;return o.next(c=>U.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?U.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ze())).next(u=>({batchId:a,changes:H9(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=Pd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Pd();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const c=function(d,h){return new Ml(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Yt.newInvalidDocument(u)))});let a=Pd();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&th(u.mutation,c,Sr.empty(),zt.now()),jf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xne{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return U.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vr(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:yN(i.bundledQuery),readTime:vr(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ene{constructor(){this.overlays=new rn(te.comparator),this.hr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ds();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=ds(),s=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new rn((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=ds(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ds(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return U.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nE(n,r));let s=this.hr.get(n);s===void 0&&(s=ze(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.Pr=new xt(xn.Ir),this.Tr=new xt(xn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new xn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new xn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new te(new ut([])),r=new xn(n,e),i=new xn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new te(new ut([])),r=new xn(n,e),i=new xn(n,e+1);let s=ze();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new xn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return te.comparator(e.key,n.key)||Me(e.pr,n.pr)}static Er(e,n){return Me(e.pr,n.pr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ine{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new xt(xn.Ir)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new eE(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new xn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xn(n,0),i=new xn(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(Me);return n.forEach(i=>{const s=new xn(i,0),o=new xn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),U.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const o=new xn(new te(s),0);let a=new xt(Me);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),U.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return U.forEach(n.mutations,i=>{const s=new xn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new xn(n,0),i=this.wr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bne{constructor(e){this.vr=e,this.docs=function(){return new rn(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let r=Br();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Yt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Br();const o=n.path,a=new te(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Kx(b9(u),r)<=0||(i.has(u.key)||jf(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){pe()}Fr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Cne(this)}getSize(e){return U.resolve(this.size)}}class Cne extends bN{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tne{constructor(e){this.persistence=e,this.Mr=new ga(n=>gl(n),Df),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Or=0,this.Nr=new aE,this.targetCount=0,this.Lr=wl.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),U.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new wl(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.qn(n),U.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n){this.Br={},this.overlays={},this.kr=new fi(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Tne(this),this.indexManager=new une,this.remoteDocumentCache=function(i){return new bne(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new gN(n),this.$r=new xne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ene,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Ine(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new Sne(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return U.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Sne extends T9{constructor(e){super(),this.currentSequenceNumber=e}}class Xg{constructor(e){this.persistence=e,this.zr=new aE,this.jr=null}static Hr(e){return new Xg(e)}get Jr(){if(this.jr)return this.jr;throw pe()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),U.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Jr,r=>{const i=te.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,be.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return U.or([()=>U.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rne{constructor(e){this.serializer=e}N(e,n,r,i){const s=new Ug("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",QC,{unique:!0}),l.createObjectStore("documentMutations")}(e),OT(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=U.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),OT(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:be.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").W().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",QC,{unique:!0});const d=c.store("mutations"),h=u.map(p=>d.put(p));return U.waitFor(h)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:ote});c.createIndex("collectionPathOverlayIndex",ate,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",lte,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:Qee});c.createIndex("documentKeyIndex",Yee),c.createIndex("collectionGroupIndex",Xee)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:nte}).createIndex("sequenceNumberIndex",rte,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:ite}).createIndex("documentKeyIndex",ste,{unique:!1})}(e))),o}ei(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=Mm(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>U.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>U.forEach(a,l=>{xe(l.userId===s.userId);const c=Na(this.serializer,l);return xN(e,s.userId,c).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new ut(o),c=function(d){return[0,gr(d)]}(l);s.push(n.get(c).next(u=>u?U.resolve():(d=>n.put({targetId:0,path:gr(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>U.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:tte});const r=n.store("collectionParents"),i=new oE,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:gr(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new ut(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],c)=>{const u=us(a);return s(u.popLast())}))}ri(e){const n=e.store("targets");return n.Y((r,i)=>{const s=Ld(i),o=vN(this.serializer,s);return n.put(o)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new te(ut.fromString(d.document.name).popFirst(5)):d.noDocument?te.fromSegments(d.noDocument.path):d.unknownDocument?te.fromSegments(d.unknownDocument.path):pe()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>U.waitFor(i))}si(e,n){const r=n.store("mutations"),i=CN(this.serializer),s=new SN(Xg.Hr,this.serializer.ct);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:ze();Na(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),U.forEach(a,(l,c)=>{const u=new Dn(c),d=Qg.lt(this.serializer,u),h=s.getIndexManager(u),p=Yg.lt(u,this.serializer,h,s.referenceDelegate);return new TN(i,p,d,h).recalculateAndSaveOverlaysForDocumentKeys(new j_(n,fi._e),l).next()})})}}function OT(t){t.createObjectStore("targetDocuments",{keyPath:Zee}).createIndex("documentTargetsIndex",ete,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Jee,{unique:!0}),t.createObjectStore("targetGlobal")}const Pv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class lE{constructor(e,n,r,i,s,o,a,l,c,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=c,this.ai=u,this.ui=d,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=h=>Promise.resolve(),!lE.D())throw new J(H.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vne(this,i),this.Ti=n+"main",this.serializer=new gN(l),this.Ei=new cs(this.Ti,this.ui,new Rne(this.serializer)),this.Qr=new hne(this.referenceDelegate,this.serializer),this.remoteDocumentCache=CN(this.serializer),this.$r=new ine,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,u===!1&&dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new J(H.FAILED_PRECONDITION,Pv);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new fi(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>j0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(ma(e))return K("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return K("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return gd(e).get("owner").next(n=>U.resolve(this.Si(n)))}bi(e){return j0(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Ln(n,"clientMetadata");return r.W().next(i=>{const s=this.vi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return U.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?U.resolve(!0):gd(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new J(H.FAILED_PRECONDITION,Pv);return!1}}return!(!this.networkEnabled||!this.inForeground)||j0(e).W().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&K("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new j_(e,fi._e);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>j0(e).W().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Yg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new dne(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Qg.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){K("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===15?ute:l===14?A9:l===13?k9:l===12?cte:l===11?R9:void pe()}(this.ui);let o;return this.Ei.runTransaction(e,i,s,a=>(o=new j_(a,this.kr?this.kr.next():fi._e),n==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw dr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new J(H.FAILED_PRECONDITION,C9);return r(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return gd(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new J(H.FAILED_PRECONDITION,Pv)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gd(e).put("owner",n)}static D(){return cs.D()}yi(e){const n=gd(e);return n.get("owner").next(r=>this.Si(r)?(K("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):U.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(dr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;S6()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return K("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return dr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){dr("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function gd(t){return Ln(t,"owner")}function j0(t){return Ln(t,"clientMetadata")}function kne(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ze(),i=ze();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new cE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ane{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return S6()?8:cs.v(ot())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Ane;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(ac()<=Be.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",lc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),U.resolve()):(ac()<=Be.DEBUG&&K("QueryEngine","Query:",lc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ac()<=Be.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",lc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(n))):U.resolve())}ji(e,n){if(aT(n))return U.resolve(null);let r=vi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=km(n,null,"F"),r=vi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ze(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,km(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return aT(n)||i.isEqual(be.min())?U.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?U.resolve(null):(ac()<=Be.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lc(n)),this.es(e,o,n,Uee(i,-1)).next(a=>a))})}Zi(e,n){let r=new xt(z9(e));return n.forEach((i,s)=>{jf(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return ac()<=Be.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",lc(n)),this.zi.getDocumentsMatchingQuery(e,n,Yr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pne{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new rn(Me),this.rs=new ga(s=>gl(s),Df),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TN(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function kN(t,e,n,r){return new Pne(t,e,n,r)}async function AN(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ze();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function Nne(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let p=U.resolve();return h.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(v=>{const x=c.docVersions.get(m);xe(x!==null),v.version.compareTo(x)<0&&(d.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ze();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function PN(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Lne(t,e){const n=Le(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(qn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(v,x,g){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(h,p,u)&&a.push(n.Qr.updateTargetData(s,p))});let l=Br(),c=ze();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Mne(s,o,e.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(be.min())){const u=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function Mne(t,e,n){let r=ze(),i=ze();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Br();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(be.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function One(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Dne(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Fs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Z_(t,e,n){const r=Le(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ma(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function DT(t,e,n){const r=Le(t);let i=be.min(),s=ze();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=Le(l),h=d.rs.get(u);return h!==void 0?U.resolve(d.ns.get(h)):d.Qr.getTargetData(c,u)}(r,o,vi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:be.min(),n?s:ze())).next(a=>($ne(r,Cte(e),a),{documents:a,hs:s})))}function $ne(t,e,n){let r=t.ss.get(e)||be.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class $T{constructor(){this.activeTargetIds=Pte()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NN{constructor(){this.no=new $T,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new $T,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jne{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F0=null;function Nv(){return F0===null?F0=function(){return 268435456+Math.round(2147483648*Math.random())}():F0++,"0x"+F0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vne{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn="WebChannelConnection";class Une extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=Nv(),l=this.bo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,s,o),this.Co(n,l,c,i).then(u=>(K("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Yo("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=Fne[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=Nv();return new Promise((o,a)=>{const l=new Aee;l.setWithCredentials(!0),l.listenOnce(Ree.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case kv.NO_ERROR:const u=l.getResponseJson();K(Yn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case kv.TIMEOUT:K(Yn,`RPC '${e}' ${s} timed out`),a(new J(H.DEADLINE_EXCEEDED,"Request time out"));break;case kv.HTTP_ERROR:const d=l.getStatus();if(K(Yn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(x){const g=x.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(g)>=0?g:H.UNKNOWN}(p.status);a(new J(m,p.message))}else a(new J(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(H.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{K(Yn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);K(Yn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=Nv(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Tee(),a=See(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");K(Yn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,p=!1;const m=new Vne({lo:x=>{p?K(Yn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(K(Yn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),K(Yn,`RPC '${e}' stream ${i} sending:`,x),d.send(x))},ho:()=>d.close()}),v=(x,g,w)=>{x.listen(g,_=>{try{w(_)}catch(E){setTimeout(()=>{throw E},0)}})};return v(d,M0.EventType.OPEN,()=>{p||K(Yn,`RPC '${e}' stream ${i} transport opened.`)}),v(d,M0.EventType.CLOSE,()=>{p||(p=!0,K(Yn,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),v(d,M0.EventType.ERROR,x=>{p||(p=!0,Yo(Yn,`RPC '${e}' stream ${i} transport errored:`,x),m.Vo(new J(H.UNAVAILABLE,"The operation could not be completed")))}),v(d,M0.EventType.MESSAGE,x=>{var g;if(!p){const w=x.data[0];xe(!!w);const _=w,E=_.error||((g=_[0])===null||g===void 0?void 0:g.error);if(E){K(Yn,`RPC '${e}' stream ${i} received error:`,E);const S=E.status;let I=function(R){const T=cn[R];if(T!==void 0)return nN(T)}(S),C=E.message;I===void 0&&(I=H.INTERNAL,C="Unknown error status: "+S+" with message "+E.message),p=!0,m.Vo(new J(I,C)),d.close()}else K(Yn,`RPC '${e}' stream ${i} received:`,w),m.mo(w)}}),v(a,kee.STAT_EVENT,x=>{x.stat===HC.PROXY?K(Yn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===HC.NOPROXY&&K(Yn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bne(){return typeof window<"u"?window:null}function Ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t){return new Gte(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new LN(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new J(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zne extends MN{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=Yte(this.serializer,e),r=function(s){if(!("targetChange"in s))return be.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?be.min():o.readTime?vr(o.readTime):be.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=K_(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Sm(l)?{documents:uN(s,l)}:{query:dN(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=sN(s,o.resumeToken);const c=q_(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(be.min())>0){a.readTime=du(s,o.snapshotVersion.toTimestamp());const c=q_(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Jte(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=K_(this.serializer),n.removeTarget=e,this.t_(n)}}class Wne extends MN{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=Xte(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.T_(r,n)}return xe(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=K_(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Pm(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hne extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new J(H.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,G_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(H.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,G_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(H.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class qne{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(dr(n),this.g_=!1):K("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gne{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{Ol(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Le(l);c.v_.add(4),await Vf(c),c.x_.set("Unknown"),c.v_.delete(4),await Zg(c)}(this))})}),this.x_=new qne(r,i)}}async function Zg(t){if(Ol(t))for(const e of t.F_)await e(!0)}async function Vf(t){for(const e of t.F_)await e(!1)}function ON(t,e){const n=Le(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),fE(n)?hE(n):Uu(n).Jo()&&dE(n,e))}function uE(t,e){const n=Le(t),r=Uu(n);n.C_.delete(e),r.Jo()&&DN(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Ol(n)&&n.x_.set("Unknown"))}function dE(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uu(t).c_(e)}function DN(t,e){t.O_.Oe(e),Uu(t).l_(e)}function hE(t){t.O_=new zte({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Uu(t).start(),t.x_.p_()}function fE(t){return Ol(t)&&!Uu(t).Ho()&&t.C_.size>0}function Ol(t){return Le(t).v_.size===0}function $N(t){t.O_=void 0}async function Kne(t){t.C_.forEach((e,n)=>{dE(t,e)})}async function Qne(t,e){$N(t),fE(t)?(t.x_.S_(e),hE(t)):t.x_.set("Unknown")}async function Yne(t,e,n){if(t.x_.set("Online"),e instanceof iN&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Om(t,r)}else if(e instanceof xp?t.O_.$e(e):e instanceof rN?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(be.min()))try{const r=await PN(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.C_.get(c);u&&s.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.C_.get(l);if(!u)return;s.C_.set(l,u.withResumeToken(qn.EMPTY_BYTE_STRING,u.snapshotVersion)),DN(s,l);const d=new Fs(u.target,l,c,u.sequenceNumber);dE(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await Om(t,r)}}async function Om(t,e,n){if(!ma(e))throw e;t.v_.add(1),await Vf(t),t.x_.set("Offline"),n||(n=()=>PN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Zg(t)})}function jN(t,e){return e().catch(n=>Om(t,n,e))}async function Uf(t){const e=Le(t),n=ta(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Xne(e);)try{const i=await One(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,Jne(e,i)}catch(i){await Om(e,i)}FN(e)&&VN(e)}function Xne(t){return Ol(t)&&t.D_.length<10}function Jne(t,e){t.D_.push(e);const n=ta(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function FN(t){return Ol(t)&&!ta(t).Ho()&&t.D_.length>0}function VN(t){ta(t).start()}async function Zne(t){ta(t).d_()}async function ere(t){const e=ta(t);for(const n of t.D_)e.I_(n.mutations)}async function tre(t,e,n){const r=t.D_.shift(),i=tE.from(r,e,n);await jN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Uf(t)}async function nre(t,e){e&&ta(t).P_&&await async function(r,i){if(function(o){return Vte(o)&&o!==H.ABORTED}(i.code)){const s=r.D_.shift();ta(r).Zo(),await jN(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Uf(r)}}(t,e),FN(t)&&VN(t)}async function FT(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=Ol(n);n.v_.add(3),await Vf(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Zg(n)}async function rre(t,e){const n=Le(t);e?(n.v_.delete(2),await Zg(n)):e||(n.v_.add(2),await Vf(n),n.x_.set("Unknown"))}function Uu(t){return t.N_||(t.N_=function(n,r,i){const s=Le(n);return s.R_(),new zne(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Kne.bind(null,t),To:Qne.bind(null,t),u_:Yne.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),fE(t)?hE(t):t.x_.set("Unknown")):(await t.N_.stop(),$N(t))})),t.N_}function ta(t){return t.L_||(t.L_=function(n,r,i){const s=Le(n);return s.R_(),new Wne(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Zne.bind(null,t),To:nre.bind(null,t),E_:ere.bind(null,t),T_:tre.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Uf(t)):(await t.L_.stop(),t.D_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new pE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mE(t,e){if(dr("AsyncQueue",`${e}: ${t}`),ma(t))return new J(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=Pd(),this.sortedSet=new rn(this.comparator)}static emptySet(e){return new zc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new zc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this.B_=new rn(te.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):pe():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class hu{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new hu(e,n,zc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ire{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class sre{constructor(){this.queries=new ga(e=>B9(e),Wg),this.onlineState="Unknown",this.W_=new Set}}async function gE(t,e){const n=Le(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new ire,r=e.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=mE(o,`Initialization of query '${lc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&yE(n)}async function vE(t,e){const n=Le(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ore(t,e){const n=Le(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.z_(i)&&(r=!0);o.q_=i}}r&&yE(n)}function are(t,e,n){const r=Le(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function yE(t){t.W_.forEach(e=>{e.next()})}var ew,UT;(UT=ew||(ew={})).j_="default",UT.Cache="cache";class _E{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==ew.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.key=e}}class BN{constructor(e){this.key=e}}class lre{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=ze(),this.mutatedKeys=ze(),this.ha=z9(e),this.Pa=new zc(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new VT,i=n?n.Pa:this.Pa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),p=jf(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;h&&p?h.data.isEqual(p.data)?m!==v&&(r.track({type:3,doc:p}),x=!0):this.da(h,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.ha(p,l)>0||c&&this.ha(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),x=!0):h&&!p&&(r.track({type:1,doc:h}),x=!0,(l||c)&&(a=!0)),x&&(p?(o=o.add(p),s=v?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((u,d)=>function(p,m){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return v(p)-v(m)}(u.type,d.type)||this.ha(u.doc,d.doc)),this.Aa(r),i=i!=null&&i;const a=n&&!i?this.Ra():[],l=this.la.size===0&&this.current&&!i?1:0,c=l!==this.ca;return this.ca=l,o.length!==0||c?{snapshot:new hu(this.query,e.Pa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new VT,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=ze(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new BN(r))}),this.la.forEach(r=>{e.has(r)||n.push(new UN(r))}),n}fa(e){this.ua=e.hs,this.la=ze();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return hu.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class cre{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ure{constructor(e){this.key=e,this.pa=!1}}class dre{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new ga(a=>B9(a),Wg),this.Sa=new Map,this.ba=new Set,this.Da=new rn(te.comparator),this.Ca=new Map,this.va=new aE,this.Fa={},this.Ma=new Map,this.xa=wl.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function hre(t,e,n=!0){const r=KN(t);let i;const s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await zN(r,e,n,!0),i}async function fre(t,e){const n=KN(t);await zN(n,e,!0,!1)}async function zN(t,e,n,r){const i=await Dne(t.localStore,vi(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await pre(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&ON(t.remoteStore,i),a}async function pre(t,e,n,r,i){t.Na=(d,h,p)=>async function(v,x,g,w){let _=x.view.Ta(g);_.Xi&&(_=await DT(v.localStore,x.query,!1).then(({documents:C})=>x.view.Ta(C,_)));const E=w&&w.targetChanges.get(x.targetId),S=w&&w.targetMismatches.get(x.targetId)!=null,I=x.view.applyChanges(_,v.isPrimaryClient,E,S);return zT(v,x.targetId,I.Va),I.snapshot}(t,d,h,p);const s=await DT(t.localStore,e,!0),o=new lre(e,s.hs),a=o.Ta(s.documents),l=Ff.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);zT(t,n,c.Va);const u=new cre(e,n,o);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),c.snapshot}async function mre(t,e,n){const r=Le(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!Wg(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Z_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&uE(r.remoteStore,i.targetId),tw(r,i.targetId)}).catch(Nl)):(tw(r,i.targetId),await Z_(r.localStore,i.targetId,!0))}async function gre(t,e){const n=Le(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),uE(n.remoteStore,r.targetId))}async function vre(t,e,n){const r=QN(t);try{const i=await function(o,a){const l=Le(o),c=zt.now(),u=a.reduce((p,m)=>p.add(m.key),ze());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Br(),v=ze();return l.os.getEntries(p,u).next(x=>{m=x,m.forEach((g,w)=>{w.isValidDocument()||(v=v.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(x=>{d=x;const g=[];for(const w of a){const _=jte(w,d.get(w.key).overlayedDocument);_!=null&&g.push(new ao(w.key,_,M9(_.value.mapValue),nr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,g,a)}).next(x=>{h=x;const g=x.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(p,x.batchId,g)})}).then(()=>({batchId:h.batchId,changes:H9(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Fa[o.currentUser.toKey()];c||(c=new rn(Me)),c=c.insert(a,l),o.Fa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Bf(r,i.changes),await Uf(r.remoteStore)}catch(i){const s=mE(i,"Failed to persist write");n.reject(s)}}async function WN(t,e){const n=Le(t);try{const r=await Lne(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ca.get(s);o&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?xe(o.pa):i.removedDocuments.size>0&&(xe(o.pa),o.pa=!1))}),await Bf(n,r,e)}catch(r){await Nl(r)}}function BT(t,e,n){const r=Le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((s,o)=>{const a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Le(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.Q_)h.G_(a)&&(c=!0)}),c&&yE(l)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yre(t,e,n){const r=Le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),s=i&&i.key;if(s){let o=new rn(te.comparator);o=o.insert(s,Yt.newNoDocument(s,be.min()));const a=ze().add(s),l=new Kg(be.min(),new Map,new rn(Me),o,a);await WN(r,l),r.Da=r.Da.remove(s),r.Ca.delete(e),wE(r)}else await Z_(r.localStore,e,!1).then(()=>tw(r,e,n)).catch(Nl)}async function _re(t,e){const n=Le(t),r=e.batch.batchId;try{const i=await Nne(n.localStore,e);qN(n,r,null),HN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bf(n,i)}catch(i){await Nl(i)}}async function wre(t,e,n){const r=Le(t);try{const i=await function(o,a){const l=Le(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(xe(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);qN(r,e,n),HN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bf(r,i)}catch(i){await Nl(i)}}function HN(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function qN(t,e,n){const r=Le(t);let i=r.Fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function tw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||GN(t,r)})}function GN(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(uE(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),wE(t))}function zT(t,e,n){for(const r of n)r instanceof UN?(t.va.addReference(r.key,e),xre(t,r)):r instanceof BN?(K("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||GN(t,r.key)):pe()}function xre(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(K("SyncEngine","New document in limbo: "+n),t.ba.add(r),wE(t))}function wE(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new te(ut.fromString(e)),r=t.xa.next();t.Ca.set(r,new ure(n)),t.Da=t.Da.insert(n,r),ON(t.remoteStore,new Fs(vi($f(n.path)),r,"TargetPurposeLimboResolution",fi._e))}}async function Bf(t,e,n){const r=Le(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=cE.Ki(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.ya.u_(i),await async function(l,c){const u=Le(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>U.forEach(c,h=>U.forEach(h.qi,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>U.forEach(h.Qi,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!ma(d))throw d;K("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.ns.get(h),m=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(m);u.ns=u.ns.insert(h,v)}}}(r.localStore,s))}async function Ere(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await AN(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(a=>{a.forEach(l=>{l.reject(new J(H.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bf(n,r.us)}}function Ire(t,e){const n=Le(t),r=n.Ca.get(e);if(r&&r.pa)return ze().add(r.key);{let i=ze();const s=n.Sa.get(e);if(!s)return i;for(const o of s){const a=n.wa.get(o);i=i.unionWith(a.view.Ia)}return i}}function KN(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ire.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yre.bind(null,e),e.ya.u_=ore.bind(null,e.eventManager),e.ya.La=are.bind(null,e.eventManager),e}function QN(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_re.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wre.bind(null,e),e}class nw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Jg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return kN(this.persistence,new RN,e.initialUser,this.serializer)}createPersistence(e){return new SN(Xg.Hr,this.serializer)}createSharedClientState(e){return new NN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class bre extends nw{constructor(e,n,r){super(),this.ka=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ka.initialize(this,e),await QN(this.ka.syncEngine),await Uf(this.ka.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return kN(this.persistence,new RN,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new pne(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Hee(n,this.persistence);return new Wee(e.asyncQueue,r)}createPersistence(e){const n=kne(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Ir.withCacheSize(this.cacheSizeBytes):Ir.DEFAULT;return new lE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,Bne(),Ep(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new NN}}class YN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>BT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ere.bind(null,this.syncEngine),await rre(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sre}()}createDatastore(e){const n=Jg(e.databaseInfo.databaseId),r=function(s){return new Une(s)}(e.databaseInfo);return function(s,o,a,l){return new Hne(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Gne(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>BT(this.syncEngine,n,0),function(){return jT.D()?new jT:new jne}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const d=new dre(i,s,o,a,l,c);return u&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Le(r);K("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Vf(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cre{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dn.UNAUTHENTICATED,this.clientId=E9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{K("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=mE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ip(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await AN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Tre(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>FT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>FT(e.remoteStore,i)),t._onlineComponents=e}function XN(t){return t.name==="FirebaseError"?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Tre(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ip(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!XN(n))throw n;Yo("Error using user provided cache. Falling back to memory cache: "+n),await Ip(t,new nw)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await Ip(t,new nw);return t._offlineComponents}async function JN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await rw(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await rw(t,new YN))),t._onlineComponents}function Sre(t){return JN(t).then(e=>e.syncEngine)}async function Dm(t){const e=await JN(t),n=e.eventManager;return n.onListen=hre.bind(null,e.syncEngine),n.onUnlisten=mre.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fre.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gre.bind(null,e.syncEngine),n}function Rre(t,e,n={}){const r=new Ui;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new xE({next:h=>{o.enqueueAndForget(()=>vE(s,d));const p=h.docs.has(a);!p&&h.fromCache?c.reject(new J(H.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new J(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new _E($f(a.path),u,{includeMetadataChanges:!0,ta:!0});return gE(s,d)}(await Dm(t),t.asyncQueue,e,n,r)),r.promise}function kre(t,e,n={}){const r=new Ui;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new xE({next:h=>{o.enqueueAndForget(()=>vE(s,d)),h.fromCache&&l.source==="server"?c.reject(new J(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new _E(a,u,{includeMetadataChanges:!0,ta:!0});return gE(s,d)}(await Dm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(t,e,n){if(!n)throw new J(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Are(t,e,n,r){if(e===!0&&r===!0)throw new J(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function HT(t){if(!te.isDocumentKey(t))throw new J(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qT(t){if(te.isDocumentKey(t))throw new J(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function e1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe()}function yr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=e1(t);throw new J(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Pre(t,e){if(e<=0)throw new J(H.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Are("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class t1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Nee;switch(r.type){case"firstParty":return new Dee(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=WT.get(n);r&&(K("ComponentProvider","Removing Datastore"),WT.delete(n),r.terminate())}(this),Promise.resolve()}}function Nre(t,e,n,r={}){var i;const s=(t=yr(t,t1))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Dn.MOCK_USER;else{a=px(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new J(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Dn(c)}t._authCredentials=new Lee(new x9(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Is(this.firestore,e,this._query)}}class ar{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ar(this.firestore,e,this._key)}}class Ho extends Is{constructor(e,n,r){super(e,n,$f(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ar(this.firestore,null,new te(e))}withConverter(e){return new Ho(this.firestore,e,this._path)}}function qe(t,e,...n){if(t=at(t),e8("collection","path",e),t instanceof t1){const r=ut.fromString(e,...n);return qT(r),new Ho(t,null,r)}{if(!(t instanceof ar||t instanceof Ho))throw new J(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return qT(r),new Ho(t.firestore,null,r)}}function ve(t,e,...n){if(t=at(t),arguments.length===1&&(e=E9.newId()),e8("doc","path",e),t instanceof t1){const r=ut.fromString(e,...n);return HT(r),new ar(t,null,new te(r))}{if(!(t instanceof ar||t instanceof Ho))throw new J(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return HT(r),new ar(t.firestore,t instanceof Ho?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lre{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new LN(this,"async_queue_retry"),this.cu=()=>{const n=Ep();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Ep();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Ui;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!ma(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw dr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=pE.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&pe()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function KT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Es extends t1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Lre}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||t8(this),this._firestoreClient.terminate()}}function Mre(t,e){const n=typeof t=="object"?t:vg(),r=typeof t=="string"?t:e||"(default)",i=If(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=hx("firestore");s&&Nre(i,...s)}return i}function zf(t){return t._firestoreClient||t8(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function t8(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new hte(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,ZN(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Cre(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Ore(t,e){$re(t=yr(t,Es));const n=zf(t);if(n._uninitializedComponentsProvider)throw new J(H.FAILED_PRECONDITION,"SDK cache is already specified.");Yo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new YN;return Dre(n,i,new bre(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function Dre(t,e,n){const r=new Ui;return t.asyncQueue.enqueue(async()=>{try{await Ip(t,n),await rw(t,e),r.resolve()}catch(i){const s=i;if(!XN(s))throw s;Yo("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function $re(t){if(t._initialized||t._terminated)throw new J(H.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fu(qn.fromBase64String(e))}catch(n){throw new J(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fu(qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jre=/^__.*__$/;class Fre{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ao(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}class n8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ao(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function r8(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class r1{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new r1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return $m(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(r8(this.Vu)&&jre.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class Vre{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jg(e)}Cu(e,n,r,i=!1){return new r1({Vu:e,methodName:n,Du:r,path:Ut.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hf(t){const e=t._freezeSettings(),n=Jg(t._databaseId);return new Vre(t._databaseId,!!e.ignoreUndefinedProperties,n)}function i8(t,e,n,r,i,s={}){const o=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);CE("Data must be an object, but it was:",o,r);const a=o8(r,o);let l,c;if(s.merge)l=new Sr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=iw(e,d,n);if(!o.contains(h))throw new J(H.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);l8(u,h)||u.push(h)}l=new Sr(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Fre(new tr(a),l,c)}class i1 extends Wf{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof i1}}function Ure(t,e,n){return new r1({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class IE extends Wf{_toFieldTransform(e){return new Zx(e.path,new cu)}isEqual(e){return e instanceof IE}}class bE extends Wf{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=Ure(this,e,!0),r=this.vu.map(s=>Bu(s,n)),i=new vl(r);return new Zx(e.path,i)}isEqual(e){return e instanceof bE&&$h(this.vu,e.vu)}}function Bre(t,e,n,r){const i=t.Cu(1,e,n);CE("Data must be an object, but it was:",i,r);const s=[],o=tr.empty();Ll(r,(l,c)=>{const u=TE(e,l,n);c=at(c);const d=i.yu(u);if(c instanceof i1)s.push(u);else{const h=Bu(c,d);h!=null&&(s.push(u),o.set(u,h))}});const a=new Sr(s);return new n8(o,a,i.fieldTransforms)}function zre(t,e,n,r,i,s){const o=t.Cu(1,e,n),a=[iw(e,r,n)],l=[i];if(s.length%2!=0)throw new J(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(iw(e,s[h])),l.push(s[h+1]);const c=[],u=tr.empty();for(let h=a.length-1;h>=0;--h)if(!l8(c,a[h])){const p=a[h];let m=l[h];m=at(m);const v=o.yu(p);if(m instanceof i1)c.push(p);else{const x=Bu(m,v);x!=null&&(c.push(p),u.set(p,x))}}const d=new Sr(c);return new n8(u,d,o.fieldTransforms)}function s8(t,e,n,r=!1){return Bu(n,t.Cu(r?4:3,e))}function Bu(t,e){if(a8(t=at(t)))return CE("Unsupported field value:",e,t),o8(t,e);if(t instanceof Wf)return function(r,i){if(!r8(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Bu(a,i.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Nte(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=zt.fromDate(r);return{timestampValue:du(i.serializer,s)}}if(r instanceof zt){const s=new zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:du(i.serializer,s)}}if(r instanceof EE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fu)return{bytesValue:sN(i.serializer,r._byteString)};if(r instanceof ar){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:iE(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${e1(r)}`)}(t,e)}function o8(t,e){const n={};return P9(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ll(t,(r,i)=>{const s=Bu(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function a8(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof EE||t instanceof fu||t instanceof ar||t instanceof Wf)}function CE(t,e,n){if(!a8(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=e1(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function iw(t,e,n){if((e=at(e))instanceof n1)return e._internalPath;if(typeof e=="string")return TE(t,e);throw $m("Field path arguments must be of type string or ",t,!1,void 0,n)}const Wre=new RegExp("[~\\*/\\[\\]]");function TE(t,e,n){if(e.search(Wre)>=0)throw $m(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new n1(...e.split("."))._internalPath}catch{throw $m(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $m(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new J(H.INVALID_ARGUMENT,a+t+l)}function l8(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(s1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Hre extends SE{data(){return super.data()}}function s1(t,e){return typeof e=="string"?TE(t,e):e instanceof n1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class RE{}class o1 extends RE{}function Or(t,e,...n){let r=[];e instanceof RE&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof kE).length,a=s.filter(l=>l instanceof a1).length;if(o>1||o>0&&a>0)throw new J(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class a1 extends o1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new a1(e,n,r)}_apply(e){const n=this._parse(e);return u8(e._query,n),new Is(e.firestore,e.converter,H_(e._query,n))}_parse(e){const n=Hf(e.firestore);return function(s,o,a,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new J(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){YT(d,u);const p=[];for(const m of d)p.push(QT(l,s,m));h={arrayValue:{values:p}}}else h=QT(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||YT(d,u),h=s8(a,o,d,u==="in"||u==="not-in");return Ge.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function l1(t,e,n){const r=e,i=s1("where",t);return a1._create(i,r,n)}class kE extends RE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:pt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)u8(o,l),o=H_(o,l)}(e._query,n),new Is(e.firestore,e.converter,H_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class AE extends o1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new AE(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new J(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new J(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zh(s,o)}(e._query,this._field,this._direction);return new Is(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ml(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function pu(t,e="asc"){const n=e,r=s1("orderBy",t);return AE._create(r,n)}class PE extends o1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new PE(e,n,r)}_apply(e){return new Is(e.firestore,e.converter,km(e._query,this._limit,this._limitType))}}function Xs(t){return Pre("limit",t),PE._create("limit",t,"F")}class NE extends o1{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new NE(e,n,r)}_apply(e){const n=qre(e,this.type,this._docOrFields,this._inclusive);return new Is(e.firestore,e.converter,function(i,s){return new Ml(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function c1(...t){return NE._create("startAfter",t,!1)}function qre(t,e,n,r){if(n[0]=at(n[0]),n[0]instanceof SE)return function(s,o,a,l,c){if(!l)throw new J(H.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of Bc(s))if(d.field.isKeyField())u.push(ml(o,l.key));else{const h=l.data.field(d.field);if(zg(h))throw new J(H.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=d.field.canonicalString();throw new J(H.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(h)}return new ea(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Hf(t.firestore);return function(o,a,l,c,u,d){const h=o.explicitOrderBy;if(u.length>h.length)throw new J(H.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let m=0;m<u.length;m++){const v=u[m];if(h[m].field.isKeyField()){if(typeof v!="string")throw new J(H.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof v}`);if(!Jx(o)&&v.indexOf("/")!==-1)throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${v}' contains a slash.`);const x=o.path.child(ut.fromString(v));if(!te.isDocumentKey(x))throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const g=new te(x);p.push(ml(a,g))}else{const x=s8(l,c,v);p.push(x)}}return new ea(p,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function QT(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new J(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jx(e)&&n.indexOf("/")!==-1)throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ut.fromString(n));if(!te.isDocumentKey(r))throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ml(t,new te(r))}if(n instanceof ar)return ml(t,n._key);throw new J(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${e1(n)}.`)}function YT(t,e){if(!Array.isArray(t)||t.length===0)throw new J(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function u8(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Gre{convertValue(e,n="none"){switch(pl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ll(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new EE(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yh(e));default:return null}}convertTimestamp(e){const n=Xo(e);return new zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ut.fromString(e);xe(mN(r));const i=new fl(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||dr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class h8 extends SE{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(s1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class bp extends h8{data(e={}){return super.data(e)}}class f8{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Md(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bp(this._firestore,this._userDataWriter,r.key,r,new Md(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new bp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Md(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new bp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Md(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Kre(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Kre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t){t=yr(t,ar);const e=yr(t.firestore,Es);return Rre(zf(e),t._key).then(n=>p8(e,t,n))}class LE extends Gre{constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,n)}}function va(t){t=yr(t,Is);const e=yr(t.firestore,Es),n=zf(e),r=new LE(e);return c8(t._query),kre(n,t._query).then(i=>new f8(e,r,t,i))}function Xa(t,e,n){t=yr(t,ar);const r=yr(t.firestore,Es),i=d8(t.converter,e,n);return u1(r,[i8(Hf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,nr.none())])}function Vn(t,e,n,...r){t=yr(t,ar);const i=yr(t.firestore,Es),s=Hf(i);let o;return o=typeof(e=at(e))=="string"||e instanceof n1?zre(s,"updateDoc",t._key,e,n,r):Bre(s,"updateDoc",t._key,e),u1(i,[o.toMutation(t._key,nr.exists(!0))])}function qo(t){return u1(yr(t.firestore,Es),[new Gg(t._key,nr.none())])}function na(t,e){const n=yr(t.firestore,Es),r=ve(t),i=d8(t.converter,e);return u1(n,[i8(Hf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,nr.exists(!1))]).then(()=>r)}function Bi(t,...e){var n,r,i;t=at(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||KT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(KT(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,u;if(t instanceof ar)c=yr(t.firestore,Es),u=$f(t._key.path),l={next:d=>{e[o]&&e[o](p8(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=yr(t,Is);c=yr(d.firestore,Es),u=d._query;const h=new LE(c);l={next:p=>{e[o]&&e[o](new f8(c,h,d,p))},error:e[o+1],complete:e[o+2]},c8(t._query)}return function(h,p,m,v){const x=new xE(v),g=new _E(p,x,m);return h.asyncQueue.enqueueAndForget(async()=>gE(await Dm(h),g)),()=>{x.Qa(),h.asyncQueue.enqueueAndForget(async()=>vE(await Dm(h),g))}}(zf(c),u,a,l)}function u1(t,e){return function(r,i){const s=new Ui;return r.asyncQueue.enqueueAndForget(async()=>vre(await Sre(r),i,s)),s.promise}(zf(t),e)}function p8(t,e,n){const r=n.docs.get(e._key),i=new LE(t);return new h8(t,i,e._key,r,new Md(n.hasPendingWrites,n.fromCache),e.converter)}function rr(){return new IE("serverTimestamp")}function sw(...t){return new bE("arrayUnion",t)}(function(e,n=!0){(function(i){Fu=i})(Yi),ws(new Gi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Es(new Mee(r.getProvider("auth-internal")),new jee(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new J(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fl(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Nr(qC,"4.5.0",e),Nr(qC,"4.5.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8="firebasestorage.googleapis.com",g8="storageBucket",Qre=2*60*1e3,Yre=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en extends ei{constructor(e,n,r=0){super(Lv(e),`Firebase Storage: ${n} (${Lv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,en.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Jt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Jt||(Jt={}));function Lv(t){return"storage/"+t}function ME(){const t="An unknown error occurred, please check the error payload for server response.";return new en(Jt.UNKNOWN,t)}function Xre(t){return new en(Jt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Jre(t){return new en(Jt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Zre(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new en(Jt.UNAUTHENTICATED,t)}function eie(){return new en(Jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function tie(t){return new en(Jt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function nie(){return new en(Jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rie(){return new en(Jt.CANCELED,"User canceled the upload/download.")}function iie(t){return new en(Jt.INVALID_URL,"Invalid URL '"+t+"'.")}function sie(t){return new en(Jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function oie(){return new en(Jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+g8+"' property when initializing the app?")}function aie(){return new en(Jt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function lie(){return new en(Jt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function cie(t){return new en(Jt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ow(t){return new en(Jt.INVALID_ARGUMENT,t)}function v8(){return new en(Jt.APP_DELETED,"The Firebase app was deleted.")}function uie(t){return new en(Jt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nh(t,e){return new en(Jt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function vd(t){throw new en(Jt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=zr.makeFromUrl(e,n)}catch{return new zr(e,"")}if(r.path==="")return r;throw sie(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(E){E.path_=decodeURIComponent(E.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},v=n===m8?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",g=new RegExp(`^https?://${v}/${i}/${x}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:p,indices:m,postModify:c},{regex:g,indices:{bucket:1,path:2},postModify:c}];for(let E=0;E<_.length;E++){const S=_[E],I=S.regex.exec(e);if(I){const C=I[S.indices.bucket];let b=I[S.indices.path];b||(b=""),r=new zr(C,b),S.postModify(r);break}}if(r==null)throw iie(e);return r}}class die{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hie(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...x){c||(c=!0,e.apply(null,x))}function d(x){i=setTimeout(()=>{i=null,t(p,l())},x)}function h(){s&&clearTimeout(s)}function p(x,...g){if(c){h();return}if(x){h(),u.call(null,x,...g);return}if(l()||o){h(),u.call(null,x,...g);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let m=!1;function v(x){m||(m=!0,h(),!c&&(i!==null?(x||(a=2),clearTimeout(i),d(0)):x||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function fie(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pie(t){return t!==void 0}function mie(t){return typeof t=="object"&&!Array.isArray(t)}function OE(t){return typeof t=="string"||t instanceof String}function XT(t){return DE()&&t instanceof Blob}function DE(){return typeof Blob<"u"}function JT(t,e,n,r){if(r<e)throw ow(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ow(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function y8(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ja;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ja||(Ja={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gie(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vie{constructor(e,n,r,i,s,o,a,l,c,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new V0(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ja.NO_ERROR,l=s.getStatus();if(!a||gie(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===Ja.ABORT;r(!1,new V0(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new V0(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());pie(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=ME();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?v8():rie();o(l)}else{const l=nie();o(l)}};this.canceled_?n(!1,new V0(!1,null,!0)):this.backoffId_=hie(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fie(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class V0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function yie(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _ie(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function wie(t,e){e&&(t["X-Firebase-GMPID"]=e)}function xie(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Eie(t,e,n,r,i,s,o=!0){const a=y8(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return wie(c,e),yie(c,n),_ie(c,s),xie(c,r),new vie(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iie(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function bie(...t){const e=Iie();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(DE())return new Blob(t);throw new en(Jt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Cie(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tie(t){if(typeof atob>"u")throw cie("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Mv{constructor(e,n){this.data=e,this.contentType=n||null}}function Sie(t,e){switch(t){case hs.RAW:return new Mv(_8(e));case hs.BASE64:case hs.BASE64URL:return new Mv(w8(t,e));case hs.DATA_URL:return new Mv(kie(e),Aie(e))}throw ME()}function _8(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Rie(t){let e;try{e=decodeURIComponent(t)}catch{throw nh(hs.DATA_URL,"Malformed data URL.")}return _8(e)}function w8(t,e){switch(t){case hs.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw nh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case hs.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw nh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Tie(e)}catch(i){throw i.message.includes("polyfill")?i:nh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class x8{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw nh(hs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Pie(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function kie(t){const e=new x8(t);return e.base64?w8(hs.BASE64,e.rest):Rie(e.rest)}function Aie(t){return new x8(t).contentType}function Pie(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n){let r=0,i="";XT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(XT(this.data_)){const r=this.data_,i=Cie(r,e,n);return i===null?null:new Co(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Co(r,!0)}}static getBlob(...e){if(DE()){const n=e.map(r=>r instanceof Co?r.data_:r);return new Co(bie.apply(null,n))}else{const n=e.map(o=>OE(o)?Sie(hs.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Co(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(t){let e;try{e=JSON.parse(t)}catch{return null}return mie(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nie(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Lie(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function I8(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mie(t,e){return e}class cr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Mie}}let U0=null;function Oie(t){return!OE(t)||t.length<2?t:I8(t)}function b8(){if(U0)return U0;const t=[];t.push(new cr("bucket")),t.push(new cr("generation")),t.push(new cr("metageneration")),t.push(new cr("name","fullPath",!0));function e(s,o){return Oie(o)}const n=new cr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new cr("size");return i.xform=r,t.push(i),t.push(new cr("timeCreated")),t.push(new cr("updated")),t.push(new cr("md5Hash",null,!0)),t.push(new cr("cacheControl",null,!0)),t.push(new cr("contentDisposition",null,!0)),t.push(new cr("contentEncoding",null,!0)),t.push(new cr("contentLanguage",null,!0)),t.push(new cr("contentType",null,!0)),t.push(new cr("metadata","customMetadata",!0)),U0=t,U0}function Die(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new zr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function $ie(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Die(r,t),r}function C8(t,e,n){const r=E8(e);return r===null?null:$ie(t,r,n)}function jie(t,e,n,r){const i=E8(e);if(i===null||!OE(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,d=t.fullPath,h="/b/"+o(u)+"/o/"+o(d),p=d1(h,n,r),m=y8({alt:"media",token:c});return p+m})[0]}function Fie(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class $E{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(t){if(!t)throw ME()}function Vie(t,e){function n(r,i){const s=C8(t,i,e);return T8(s!==null),s}return n}function Uie(t,e){function n(r,i){const s=C8(t,i,e);return T8(s!==null),jie(s,i,t.host,t._protocol)}return n}function S8(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=eie():i=Zre():n.getStatus()===402?i=Jre(t.bucket):n.getStatus()===403?i=tie(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function R8(t){const e=S8(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Xre(t.path)),s.serverResponse=i.serverResponse,s}return n}function Bie(t,e,n){const r=e.fullServerUrl(),i=d1(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new $E(i,s,Uie(t,n),o);return a.errorHandler=R8(e),a}function zie(t,e){const n=e.fullServerUrl(),r=d1(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new $E(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=R8(e),a}function Wie(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Hie(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Wie(null,e)),r}function qie(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let E=0;E<2;E++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Hie(e,r,i),u=Fie(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Co.getBlob(d,r,h);if(p===null)throw aie();const m={name:c.fullPath},v=d1(s,t.host,t._protocol),x="POST",g=t.maxUploadRetryTime,w=new $E(v,x,Vie(t,n),g);return w.urlParams=m,w.headers=o,w.body=p.uploadData(),w.errorHandler=S8(e),w}class Gie{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ja.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ja.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ja.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw vd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Kie extends Gie{initXhr(){this.xhr_.responseType="text"}}function jE(){return new Kie}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this._service=e,n instanceof zr?this._location=n:this._location=zr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xl(e,n)}get root(){const e=new zr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return I8(this._location.path)}get storage(){return this._service}get parent(){const e=Nie(this._location.path);if(e===null)return null;const n=new zr(this._location.bucket,e);return new xl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw uie(e)}}function Qie(t,e,n){t._throwIfRoot("uploadBytes");const r=qie(t.storage,t._location,b8(),new Co(e,!0),n);return t.storage.makeRequestWithTokens(r,jE).then(i=>({metadata:i,ref:t}))}function Yie(t){t._throwIfRoot("getDownloadURL");const e=Bie(t.storage,t._location,b8());return t.storage.makeRequestWithTokens(e,jE).then(n=>{if(n===null)throw lie();return n})}function Xie(t){t._throwIfRoot("deleteObject");const e=zie(t.storage,t._location);return t.storage.makeRequestWithTokens(e,jE)}function Jie(t,e){const n=Lie(t._location.path,e),r=new zr(t._location.bucket,n);return new xl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zie(t){return/^[A-Za-z]+:\/\//.test(t)}function ese(t,e){return new xl(t,e)}function k8(t,e){if(t instanceof FE){const n=t;if(n._bucket==null)throw oie();const r=new xl(n,n._bucket);return e!=null?k8(r,e):r}else return e!==void 0?Jie(t,e):t}function tse(t,e){if(e&&Zie(e)){if(t instanceof FE)return ese(t,e);throw ow("To use ref(service, url), the first argument must be a Storage instance.")}else return k8(t,e)}function ZT(t,e){const n=e==null?void 0:e[g8];return n==null?null:zr.makeFromBucketSpec(n,t)}function nse(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:px(i,t.app.options.projectId))}class FE{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=m8,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Qre,this._maxUploadRetryTime=Yre,this._requests=new Set,i!=null?this._bucket=zr.makeFromBucketSpec(i,this._host):this._bucket=ZT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zr.makeFromBucketSpec(this._url,e):this._bucket=ZT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){JT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){JT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new die(v8());{const o=Eie(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const eS="@firebase/storage",tS="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8="storage";function tf(t,e,n){return t=at(t),Qie(t,e,n)}function nf(t){return t=at(t),Yie(t)}function aw(t){return t=at(t),Xie(t)}function Po(t,e){return t=at(t),tse(t,e)}function rse(t=vg(),e){t=at(t);const r=If(t,A8).getImmediate({identifier:e}),i=hx("storage");return i&&ise(r,...i),r}function ise(t,e,n,r={}){nse(t,e,n,r)}function sse(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new FE(n,r,i,e,Yi)}function ose(){ws(new Gi(A8,sse,"PUBLIC").setMultipleInstances(!0)),Nr(eS,tS,""),Nr(eS,tS,"esm2017")}ose();var nS={};const rS="@firebase/database",iS="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P8="";function ase(t){P8=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lse{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Fn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Dh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cse{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return io(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new lse(e)}}catch{}return new cse},Ba=N8("localStorage"),lw=N8("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new Ef("@firebase/database"),use=function(){let t=1;return function(){return t++}}(),L8=function(t){const e=XQ(t),n=new GQ;n.update(e);const r=n.digest();return dx.encodeByteArray(r)},qf=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=qf.apply(null,r):typeof r=="object"?e+=Fn(r):e+=r,e+=" "}return e};let Za=null,sS=!0;const dse=function(t,e){ne(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Wc.logLevel=Be.VERBOSE,Za=Wc.log.bind(Wc),e&&lw.set("logging_enabled",!0)):typeof t=="function"?Za=t:(Za=null,lw.remove("logging_enabled"))},Zn=function(...t){if(sS===!0&&(sS=!1,Za===null&&lw.get("logging_enabled")===!0&&dse(!0)),Za){const e=qf.apply(null,t);Za(e)}},Gf=function(t){return function(...e){Zn(t,...e)}},cw=function(...t){const e="FIREBASE INTERNAL ERROR: "+qf(...t);Wc.error(e)},Js=function(...t){const e=`FIREBASE FATAL ERROR: ${qf(...t)}`;throw Wc.error(e),new Error(e)},Gr=function(...t){const e="FIREBASE WARNING: "+qf(...t);Wc.warn(e)},hse=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Gr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},M8=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},fse=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},mu="[MIN_NAME]",El="[MAX_NAME]",Wu=function(t,e){if(t===e)return 0;if(t===mu||e===El)return-1;if(e===mu||t===El)return 1;{const n=oS(t),r=oS(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},pse=function(t,e){return t===e?0:t<e?-1:1},yd=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Fn(e))},VE=function(t){if(typeof t!="object"||t===null)return Fn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Fn(e[r]),n+=":",n+=VE(t[e[r]]);return n+="}",n},O8=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ei(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const D8=function(t){ne(!M8(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},mse=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gse=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},vse=new RegExp("^-?(0*)\\d{1,10}$"),yse=-2147483648,_se=2147483647,oS=function(t){if(vse.test(t)){const e=Number(t);if(e>=yse&&e<=_se)return e}return null},Kf=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Gr("Exception was thrown by user callback.",n),e},Math.floor(0))}},wse=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},rh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xse{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Gr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ese{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Zn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Gr(e)}}class Hc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Hc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="5",$8="v",j8="s",F8="r",V8="f",U8=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,B8="ls",z8="p",uw="ac",W8="websocket",H8="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ba.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ba.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Ise(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function G8(t,e,n){ne(typeof e=="string","typeof type must == string"),ne(typeof n=="object","typeof params must == object");let r;if(e===W8)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===H8)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Ise(t)&&(n.ns=t.namespace);const i=[];return Ei(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bse{constructor(){this.counters_={}}incrementCounter(e,n=1){io(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return MQ(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov={},Dv={};function BE(t){const e=t.toString();return Ov[e]||(Ov[e]=new bse),Ov[e]}function Cse(t,e){const n=t.toString();return Dv[n]||(Dv[n]=e()),Dv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tse{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Kf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="start",Sse="close",Rse="pLPCommand",kse="pRTLPCB",K8="id",Q8="pw",Y8="ser",Ase="cb",Pse="seg",Nse="ts",Lse="d",Mse="dframe",X8=1870,J8=30,Ose=X8-J8,Dse=25e3,$se=3e4;class Cc{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gf(e),this.stats_=BE(n),this.urlFn=l=>(this.appCheckToken&&(l[uw]=this.appCheckToken),G8(n,H8,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Tse(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor($se)),fse(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zE((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===aS)this.id=a,this.password=l;else if(o===Sse)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[aS]="t",r[Y8]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Ase]=this.scriptTagHolder.uniqueCallbackIdentifier),r[$8]=UE,this.transportSessionId&&(r[j8]=this.transportSessionId),this.lastSessionId&&(r[B8]=this.lastSessionId),this.applicationId&&(r[z8]=this.applicationId),this.appCheckToken&&(r[uw]=this.appCheckToken),typeof location<"u"&&location.hostname&&U8.test(location.hostname)&&(r[F8]=V8);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Cc.forceAllow_=!0}static forceDisallow(){Cc.forceDisallow_=!0}static isAvailable(){return Cc.forceAllow_?!0:!Cc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mse()&&!gse()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Fn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=_6(n),i=O8(r,Ose);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Mse]="t",r[K8]=e,r[Q8]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Fn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class zE{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=use(),window[Rse+this.uniqueCallbackIdentifier]=e,window[kse+this.uniqueCallbackIdentifier]=n,this.myIFrame=zE.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Zn("frame writing exception"),a.stack&&Zn(a.stack),Zn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Zn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[K8]=this.myID,e[Q8]=this.myPW,e[Y8]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+J8+r.length<=X8;){const o=this.pendingSegs.shift();r=r+"&"+Pse+i+"="+o.seg+"&"+Nse+i+"="+o.ts+"&"+Lse+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Dse)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Zn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jse=16384,Fse=45e3;let jm=null;typeof MozWebSocket<"u"?jm=MozWebSocket:typeof WebSocket<"u"&&(jm=WebSocket);class Oi{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gf(this.connId),this.stats_=BE(n),this.connURL=Oi.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[$8]=UE,typeof location<"u"&&location.hostname&&U8.test(location.hostname)&&(o[F8]=V8),n&&(o[j8]=n),r&&(o[B8]=r),i&&(o[uw]=i),s&&(o[z8]=s),G8(e,W8,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ba.set("previous_websocket_failure",!0);try{let r;T6(),this.mySock=new jm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Oi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&jm!==null&&!Oi.forceDisallow_}static previouslyFailed(){return Ba.isInMemoryStorage||Ba.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ba.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Dh(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ne(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Fn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=O8(n,jse);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Fse))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Oi.responsesRequiredToBeHealthy=2;Oi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Cc,Oi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Oi&&Oi.isAvailable();let r=n&&!Oi.previouslyFailed();if(e.webSocketOnly&&(n||Gr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Oi];else{const i=this.transports_=[];for(const s of rf.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);rf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}rf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vse=6e4,Use=5e3,Bse=10*1024,zse=100*1024,$v="t",lS="d",Wse="s",cS="r",Hse="e",uS="o",dS="a",hS="n",fS="p",qse="h";class Gse{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gf("c:"+this.id+":"),this.transportManager_=new rf(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=rh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>zse?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Bse?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if($v in e){const n=e[$v];n===dS?this.upgradeIfSecondaryHealthy_():n===cS?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===uS&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=yd("t",e),r=yd("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:fS,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:dS,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:hS,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=yd("t",e),r=yd("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=yd($v,e);if(lS in e){const r=e[lS];if(n===qse){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===hS){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Wse?this.onConnectionShutdown_(r):n===cS?this.onReset_(r):n===Hse?cw("Server Error: "+r):n===uS?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):cw("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),UE!==r&&Gr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),rh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Vse))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Use))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:fS,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ba.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e){this.allowedEvents_=e,this.listeners_={},ne(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ne(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends e7{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!mg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Fm}getInitialEvent(e){return ne(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=32,mS=768;class Ot{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function wt(){return new Ot("")}function et(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ra(t){return t.pieces_.length-t.pieceNum_}function Nt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ot(t.pieces_,e)}function t7(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Kse(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function n7(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function r7(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ot(e,0)}function Cn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ot)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ot(n,0)}function Ye(t){return t.pieceNum_>=t.pieces_.length}function pi(t,e){const n=et(t),r=et(e);if(n===null)return e;if(n===r)return pi(Nt(t),Nt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function i7(t,e){if(ra(t)!==ra(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function $i(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ra(t)>ra(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Qse{constructor(e,n){this.errorPrefix_=n,this.parts_=n7(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=gg(this.parts_[r]);s7(this)}}function Yse(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=gg(e),s7(t)}function Xse(t){const e=t.parts_.pop();t.byteLength_-=gg(e),t.parts_.length>0&&(t.byteLength_-=1)}function s7(t){if(t.byteLength_>mS)throw new Error(t.errorPrefix_+"has a key path longer than "+mS+" bytes ("+t.byteLength_+").");if(t.parts_.length>pS)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+pS+") or object contains a cycle "+ka(t))}function ka(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE extends e7{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new WE}getInitialEvent(e){return ne(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=1e3,Jse=60*5*1e3,gS=30*1e3,Zse=1.3,eoe=3e4,toe="server_kill",vS=3;class zs extends Z8{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=zs.nextPersistentConnectionId_++,this.log_=Gf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_d,this.maxReconnectDelay_=Jse,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!T6())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");WE.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Fm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Fn(s)),ne(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new fx,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ne(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;zs.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&io(e,"w")){const r=ru(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Gr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||qQ(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=gS)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=HQ(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Fn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):cw("Unrecognized action received from server: "+Fn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ne(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_d,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_d,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>eoe&&(this.reconnectDelay_=_d),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Zse)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+zs.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){ne(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Zn("getToken() completed but was canceled"):(Zn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new Gse(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Gr(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(toe)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Gr(d),l())}}}interrupt(e){Zn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Zn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],c_(this.interruptReasons_)&&(this.reconnectDelay_=_d,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>VE(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Ot(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Zn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=vS&&(this.reconnectDelay_=gS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Zn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=vS&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+P8.replace(/\./g,"-")]=1,mg()?e["framework.cordova"]=1:mx()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Fm.getInstance().currentlyOnline();return c_(this.interruptReasons_)&&e}}zs.nextPersistentConnectionId_=0;zs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new tt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new tt(mu,e),i=new tt(mu,n);return this.compare(r,i)!==0}minPost(){return tt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B0;class o7 extends h1{static get __EMPTY_NODE(){return B0}static set __EMPTY_NODE(e){B0=e}compare(e,n){return Wu(e.name,n.name)}isDefinedOn(e){throw Ou("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return tt.MIN}maxPost(){return new tt(El,B0)}makePost(e,n){return ne(typeof e=="string","KeyIndex indexValue must always be a string."),new tt(e,B0)}toString(){return".key"}}const qc=new o7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class In{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??In.RED,this.left=i??Rr.EMPTY_NODE,this.right=s??Rr.EMPTY_NODE}copy(e,n,r,i,s){return new In(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Rr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Rr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}In.RED=!0;In.BLACK=!1;class noe{copy(e,n,r,i,s){return this}insert(e,n,r){return new In(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Rr{constructor(e,n=Rr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Rr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,In.BLACK,null,null))}remove(e){return new Rr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,In.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new z0(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new z0(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new z0(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new z0(this.root_,null,this.comparator_,!0,e)}}Rr.EMPTY_NODE=new noe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function roe(t,e){return Wu(t.name,e.name)}function HE(t,e){return Wu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dw;function ioe(t){dw=t}const a7=function(t){return typeof t=="number"?"number:"+D8(t):"string:"+t},l7=function(t){if(t.isLeafNode()){const e=t.val();ne(typeof e=="string"||typeof e=="number"||typeof e=="object"&&io(e,".sv"),"Priority must be a string or number.")}else ne(t===dw||t.isEmpty(),"priority of unexpected type.");ne(t===dw||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yS;class wn{constructor(e,n=wn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ne(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),l7(this.priorityNode_)}static set __childrenNodeConstructor(e){yS=e}static get __childrenNodeConstructor(){return yS}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new wn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:wn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ye(e)?this:et(e)===".priority"?this.priorityNode_:wn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:wn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=et(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ne(r!==".priority"||ra(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,wn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Nt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+a7(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=D8(this.value_):e+=this.value_,this.lazyHash_=L8(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===wn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof wn.__childrenNodeConstructor?-1:(ne(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=wn.VALUE_TYPE_ORDER.indexOf(n),s=wn.VALUE_TYPE_ORDER.indexOf(r);return ne(i>=0,"Unknown leaf type: "+n),ne(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}wn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c7,u7;function soe(t){c7=t}function ooe(t){u7=t}class aoe extends h1{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Wu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return tt.MIN}maxPost(){return new tt(El,new wn("[PRIORITY-POST]",u7))}makePost(e,n){const r=c7(e);return new tt(n,new wn("[PRIORITY-POST]",r))}toString(){return".priority"}}const ir=new aoe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const loe=Math.log(2);class coe{constructor(e){const n=s=>parseInt(Math.log(s)/loe,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Vm=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new In(h,d.node,In.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=i(l,p),v=i(p+1,c);return d=t[p],h=n?n(d):d,new In(h,d.node,In.BLACK,m,v)}},s=function(l){let c=null,u=null,d=t.length;const h=function(m,v){const x=d-m,g=d;d-=m;const w=i(x+1,g),_=t[x],E=n?n(_):_;p(new In(E,_.node,v,null,w))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const v=l.nextBitIsOne(),x=Math.pow(2,l.count-(m+1));v?h(x,In.BLACK):(h(x,In.BLACK),h(x,In.RED))}return u},o=new coe(t.length),a=s(o);return new Rr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jv;const ic={};class Vs{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ne(ic&&ir,"ChildrenNode.ts has not been loaded"),jv=jv||new Vs({".priority":ic},{".priority":ir}),jv}get(e){const n=ru(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Rr?n:null}hasIndex(e){return io(this.indexSet_,e.toString())}addIndex(e,n){ne(e!==qc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(tt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Vm(r,e.getCompare()):a=ic;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Vs(u,c)}addToIndexes(e,n){const r=pm(this.indexes_,(i,s)=>{const o=ru(this.indexSet_,s);if(ne(o,"Missing index implementation for "+s),i===ic)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(tt.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Vm(a,o.getCompare())}else return ic;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new tt(e.name,a))),l.insert(e,e.node)}});return new Vs(r,this.indexSet_)}removeFromIndexes(e,n){const r=pm(this.indexes_,i=>{if(i===ic)return i;{const s=n.get(e.name);return s?i.remove(new tt(e.name,s)):i}});return new Vs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd;class ft{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&l7(this.priorityNode_),this.children_.isEmpty()&&ne(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return wd||(wd=new ft(new Rr(HE),null,Vs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wd}updatePriority(e){return this.children_.isEmpty()?this:new ft(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?wd:n}}getChild(e){const n=et(e);return n===null?this:this.getImmediateChild(n).getChild(Nt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ne(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new tt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?wd:this.priorityNode_;return new ft(i,o,s)}}updateChild(e,n){const r=et(e);if(r===null)return n;{ne(et(e)!==".priority"||ra(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Nt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ir,(o,a)=>{n[o]=a.val(e),r++,s&&ft.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+a7(this.getPriority().val())+":"),this.forEachChild(ir,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":L8(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new tt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new tt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new tt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,tt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,tt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Qf?-1:0}withIndex(e){if(e===qc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ft(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===qc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ir),i=n.getIterator(ir);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===qc?null:this.indexMap_.get(e.toString())}}ft.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class uoe extends ft{constructor(){super(new Rr(HE),ft.EMPTY_NODE,Vs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ft.EMPTY_NODE}isEmpty(){return!1}}const Qf=new uoe;Object.defineProperties(tt,{MIN:{value:new tt(mu,ft.EMPTY_NODE)},MAX:{value:new tt(El,Qf)}});o7.__EMPTY_NODE=ft.EMPTY_NODE;wn.__childrenNodeConstructor=ft;ioe(Qf);ooe(Qf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const doe=!0;function er(t,e=null){if(t===null)return ft.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ne(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new wn(n,er(e))}if(!(t instanceof Array)&&doe){const n=[];let r=!1;if(Ei(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=er(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new tt(o,l)))}}),n.length===0)return ft.EMPTY_NODE;const s=Vm(n,roe,o=>o.name,HE);if(r){const o=Vm(n,ir.getCompare());return new ft(s,er(e),new Vs({".priority":o},{".priority":ir}))}else return new ft(s,er(e),Vs.Default)}else{let n=ft.EMPTY_NODE;return Ei(t,(r,i)=>{if(io(t,r)&&r.substring(0,1)!=="."){const s=er(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(er(e))}}soe(er);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hoe extends h1{constructor(e){super(),this.indexPath_=e,ne(!Ye(e)&&et(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Wu(e.name,n.name):s}makePost(e,n){const r=er(e),i=ft.EMPTY_NODE.updateChild(this.indexPath_,r);return new tt(n,i)}maxPost(){const e=ft.EMPTY_NODE.updateChild(this.indexPath_,Qf);return new tt(El,e)}toString(){return n7(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class foe extends h1{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Wu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return tt.MIN}maxPost(){return tt.MAX}makePost(e,n){const r=er(e);return new tt(n,r)}toString(){return".value"}}const poe=new foe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function moe(t){return{type:"value",snapshotNode:t}}function goe(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function voe(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function _S(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function yoe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ir}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ne(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ne(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:mu}hasEnd(){return this.endSet_}getIndexEndValue(){return ne(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ne(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:El}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ne(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ir}copy(){const e=new qE;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function wS(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ir?n="$priority":t.index_===poe?n="$value":t.index_===qc?n="$key":(ne(t.index_ instanceof hoe,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Fn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Fn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Fn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Fn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Fn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function xS(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ir&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends Z8{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Gf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ne(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Um.getListenId_(e,r),a={};this.listens_[o]=a;const l=wS(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),ru(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const r=Um.getListenId_(e,n);delete this.listens_[r]}get(e){const n=wS(e._queryParams),r=e._path.toString(),i=new fx;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+so(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Dh(a.responseText)}catch{Gr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Gr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _oe{constructor(){this.rootNode_=ft.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(){return{value:null,children:new Map}}function d7(t,e,n){if(Ye(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=et(e);t.children.has(r)||t.children.set(r,Bm());const i=t.children.get(r);e=Nt(e),d7(i,e,n)}}function hw(t,e,n){t.value!==null?n(e,t.value):woe(t,(r,i)=>{const s=new Ot(e.toString()+"/"+r);hw(i,s,n)})}function woe(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xoe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ei(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=10*1e3,Eoe=30*1e3,Ioe=5*60*1e3;class boe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new xoe(e);const r=ES+(Eoe-ES)*Math.random();rh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ei(e,(i,s)=>{s>0&&io(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),rh(this.reportStats_.bind(this),Math.floor(Math.random()*2*Ioe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fs;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(fs||(fs={}));function h7(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function f7(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function p7(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=fs.ACK_USER_WRITE,this.source=h7()}operationForChild(e){if(Ye(this.path)){if(this.affectedTree.value!=null)return ne(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ot(e));return new zm(wt(),n,this.revert)}}else return ne(et(this.path)===e,"operationForChild called for unrelated child."),new zm(Nt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=fs.OVERWRITE}operationForChild(e){return Ye(this.path)?new Il(this.source,wt(),this.snap.getImmediateChild(e)):new Il(this.source,Nt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=fs.MERGE}operationForChild(e){if(Ye(this.path)){const n=this.children.subtree(new Ot(e));return n.isEmpty()?null:n.value?new Il(this.source,wt(),n.value):new sf(this.source,wt(),n)}else return ne(et(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new sf(this.source,Nt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ye(e))return this.isFullyInitialized()&&!this.filtered_;const n=et(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Coe(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(yoe(o.childName,o.snapshotNode))}),xd(t,i,"child_removed",e,r,n),xd(t,i,"child_added",e,r,n),xd(t,i,"child_moved",s,r,n),xd(t,i,"child_changed",e,r,n),xd(t,i,"value",e,r,n),i}function xd(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>Soe(t,a,l)),o.forEach(a=>{const l=Toe(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Toe(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Soe(t,e,n){if(e.childName==null||n.childName==null)throw Ou("Should only compare child_ events.");const r=new tt(e.childName,e.snapshotNode),i=new tt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(t,e){return{eventCache:t,serverCache:e}}function ih(t,e,n,r){return m7(new GE(e,n,r),t.serverCache)}function g7(t,e,n,r){return m7(t.eventCache,new GE(e,n,r))}function fw(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function bl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fv;const Roe=()=>(Fv||(Fv=new Rr(pse)),Fv);class Pt{constructor(e,n=Roe()){this.value=e,this.children=n}static fromObject(e){let n=new Pt(null);return Ei(e,(r,i)=>{n=n.set(new Ot(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:wt(),value:this.value};if(Ye(e))return null;{const r=et(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Nt(e),n);return s!=null?{path:Cn(new Ot(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ye(e))return this;{const n=et(e),r=this.children.get(n);return r!==null?r.subtree(Nt(e)):new Pt(null)}}set(e,n){if(Ye(e))return new Pt(n,this.children);{const r=et(e),s=(this.children.get(r)||new Pt(null)).set(Nt(e),n),o=this.children.insert(r,s);return new Pt(this.value,o)}}remove(e){if(Ye(e))return this.children.isEmpty()?new Pt(null):new Pt(null,this.children);{const n=et(e),r=this.children.get(n);if(r){const i=r.remove(Nt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Pt(null):new Pt(this.value,s)}else return this}}get(e){if(Ye(e))return this.value;{const n=et(e),r=this.children.get(n);return r?r.get(Nt(e)):null}}setTree(e,n){if(Ye(e))return n;{const r=et(e),s=(this.children.get(r)||new Pt(null)).setTree(Nt(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Pt(this.value,o)}}fold(e){return this.fold_(wt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Cn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,wt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Ye(e))return null;{const s=et(e),o=this.children.get(s);return o?o.findOnPath_(Nt(e),Cn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,wt(),n)}foreachOnPath_(e,n,r){if(Ye(e))return this;{this.value&&r(n,this.value);const i=et(e),s=this.children.get(i);return s?s.foreachOnPath_(Nt(e),Cn(n,i),r):new Pt(null)}}foreach(e){this.foreach_(wt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Cn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.writeTree_=e}static empty(){return new zi(new Pt(null))}}function sh(t,e,n){if(Ye(e))return new zi(new Pt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=pi(i,e);return s=s.updateChild(o,n),new zi(t.writeTree_.set(i,s))}else{const i=new Pt(n),s=t.writeTree_.setTree(e,i);return new zi(s)}}}function IS(t,e,n){let r=t;return Ei(n,(i,s)=>{r=sh(r,Cn(e,i),s)}),r}function bS(t,e){if(Ye(e))return zi.empty();{const n=t.writeTree_.setTree(e,new Pt(null));return new zi(n)}}function pw(t,e){return Dl(t,e)!=null}function Dl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(pi(n.path,e)):null}function CS(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ir,(r,i)=>{e.push(new tt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new tt(r,i.value))}),e}function Go(t,e){if(Ye(e))return t;{const n=Dl(t,e);return n!=null?new zi(new Pt(n)):new zi(t.writeTree_.subtree(e))}}function mw(t){return t.writeTree_.isEmpty()}function gu(t,e){return v7(wt(),t.writeTree_,e)}function v7(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ne(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=v7(Cn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Cn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(t,e){return I7(e,t)}function koe(t,e,n,r,i){ne(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=sh(t.visibleWrites,e,n)),t.lastWriteId=r}function Aoe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Poe(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ne(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&Noe(a,r.path)?i=!1:$i(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return Loe(t),!0;if(r.snap)t.visibleWrites=bS(t.visibleWrites,r.path);else{const a=r.children;Ei(a,l=>{t.visibleWrites=bS(t.visibleWrites,Cn(r.path,l))})}return!0}else return!1}function Noe(t,e){if(t.snap)return $i(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&$i(Cn(t.path,n),e))return!0;return!1}function Loe(t){t.visibleWrites=_7(t.allWrites,Moe,wt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Moe(t){return t.visible}function _7(t,e,n){let r=zi.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)$i(n,o)?(a=pi(n,o),r=sh(r,a,s.snap)):$i(o,n)&&(a=pi(o,n),r=sh(r,wt(),s.snap.getChild(a)));else if(s.children){if($i(n,o))a=pi(n,o),r=IS(r,a,s.children);else if($i(o,n))if(a=pi(o,n),Ye(a))r=IS(r,wt(),s.children);else{const l=ru(s.children,et(a));if(l){const c=l.getChild(Nt(a));r=sh(r,wt(),c)}}}else throw Ou("WriteRecord should have .snap or .children")}}return r}function w7(t,e,n,r,i){if(!r&&!i){const s=Dl(t.visibleWrites,e);if(s!=null)return s;{const o=Go(t.visibleWrites,e);if(mw(o))return n;if(n==null&&!pw(o,wt()))return null;{const a=n||ft.EMPTY_NODE;return gu(o,a)}}}else{const s=Go(t.visibleWrites,e);if(!i&&mw(s))return n;if(!i&&n==null&&!pw(s,wt()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&($i(c.path,e)||$i(e,c.path))},a=_7(t.allWrites,o,e),l=n||ft.EMPTY_NODE;return gu(a,l)}}}function Ooe(t,e,n){let r=ft.EMPTY_NODE;const i=Dl(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ir,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Go(t.visibleWrites,e);return n.forEachChild(ir,(o,a)=>{const l=gu(Go(s,new Ot(o)),a);r=r.updateImmediateChild(o,l)}),CS(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Go(t.visibleWrites,e);return CS(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Doe(t,e,n,r,i){ne(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Cn(e,n);if(pw(t.visibleWrites,s))return null;{const o=Go(t.visibleWrites,s);return mw(o)?i.getChild(n):gu(o,i.getChild(n))}}function $oe(t,e,n,r){const i=Cn(e,n),s=Dl(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Go(t.visibleWrites,i);return gu(o,r.getNode().getImmediateChild(n))}else return null}function joe(t,e){return Dl(t.visibleWrites,e)}function Foe(t,e,n,r,i,s,o){let a;const l=Go(t.visibleWrites,e),c=Dl(l,wt());if(c!=null)a=c;else if(n!=null)a=gu(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=h.getNext();for(;p&&u.length<i;)d(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function Voe(){return{visibleWrites:zi.empty(),allWrites:[],lastWriteId:-1}}function gw(t,e,n,r){return w7(t.writeTree,t.treePath,e,n,r)}function x7(t,e){return Ooe(t.writeTree,t.treePath,e)}function TS(t,e,n,r){return Doe(t.writeTree,t.treePath,e,n,r)}function Wm(t,e){return joe(t.writeTree,Cn(t.treePath,e))}function Uoe(t,e,n,r,i,s){return Foe(t.writeTree,t.treePath,e,n,r,i,s)}function KE(t,e,n){return $oe(t.writeTree,t.treePath,e,n)}function E7(t,e){return I7(Cn(t.treePath,e),t.writeTree)}function I7(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Boe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ne(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ne(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,_S(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,voe(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,goe(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,_S(r,e.snapshotNode,i.oldSnap));else throw Ou("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zoe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const b7=new zoe;class QE{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new GE(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return KE(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:bl(this.viewCache_),s=Uoe(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function Woe(t,e){ne(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ne(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Hoe(t,e,n,r,i){const s=new Boe;let o,a;if(n.type===fs.OVERWRITE){const c=n;c.source.fromUser?o=vw(t,e,c.path,c.snap,r,i,s):(ne(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Ye(c.path),o=Hm(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===fs.MERGE){const c=n;c.source.fromUser?o=Goe(t,e,c.path,c.children,r,i,s):(ne(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=yw(t,e,c.path,c.children,r,i,a,s))}else if(n.type===fs.ACK_USER_WRITE){const c=n;c.revert?o=Yoe(t,e,c.path,r,i,s):o=Koe(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===fs.LISTEN_COMPLETE)o=Qoe(t,e,n.path,r,s);else throw Ou("Unknown operation type: "+n.type);const l=s.getChanges();return qoe(e,o,l),{viewCache:o,changes:l}}function qoe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=fw(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(moe(fw(e)))}}function C7(t,e,n,r,i,s){const o=e.eventCache;if(Wm(r,n)!=null)return e;{let a,l;if(Ye(n))if(ne(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=bl(e),u=c instanceof ft?c:ft.EMPTY_NODE,d=x7(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=gw(r,bl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=et(n);if(c===".priority"){ne(ra(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=TS(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Nt(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=TS(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=KE(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return ih(e,a,o.isFullyInitialized()||Ye(n),t.filter.filtersNodes())}}function Hm(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Ye(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=et(n);if(!l.isCompleteForPath(n)&&ra(n)>1)return e;const m=Nt(n),x=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),x):c=u.updateChild(l.getNode(),p,x,m,b7,null)}const d=g7(e,c,l.isFullyInitialized()||Ye(n),u.filtersNodes()),h=new QE(i,d,s);return C7(t,d,n,i,h,a)}function vw(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new QE(i,e,s);if(Ye(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=ih(e,c,!0,t.filter.filtersNodes());else{const d=et(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=ih(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Nt(n),p=a.getNode().getImmediateChild(d);let m;if(Ye(h))m=r;else{const v=u.getCompleteChild(d);v!=null?t7(h)===".priority"&&v.getChild(r7(h)).isEmpty()?m=v:m=v.updateChild(h,r):m=ft.EMPTY_NODE}if(p.equals(m))l=e;else{const v=t.filter.updateChild(a.getNode(),d,m,h,u,o);l=ih(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function SS(t,e){return t.eventCache.isCompleteForChild(e)}function Goe(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=Cn(n,l);SS(e,et(u))&&(a=vw(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=Cn(n,l);SS(e,et(u))||(a=vw(t,a,u,c,i,s,o))}),a}function RS(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function yw(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Ye(n)?c=r:c=new Pt(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),m=RS(t,p,h);l=Hm(t,l,new Ot(d),m,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const p=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!p){const m=e.serverCache.getNode().getImmediateChild(d),v=RS(t,m,h);l=Hm(t,l,new Ot(d),v,i,s,o,a)}}),l}function Koe(t,e,n,r,i,s,o){if(Wm(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Ye(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Hm(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Ye(n)){let c=new Pt(null);return l.getNode().forEachChild(qc,(u,d)=>{c=c.set(new Ot(u),d)}),yw(t,e,n,c,i,s,a,o)}else return e}else{let c=new Pt(null);return r.foreach((u,d)=>{const h=Cn(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),yw(t,e,n,c,i,s,a,o)}}function Qoe(t,e,n,r,i){const s=e.serverCache,o=g7(e,s.getNode(),s.isFullyInitialized()||Ye(n),s.isFiltered());return C7(t,o,n,r,b7,i)}function Yoe(t,e,n,r,i,s){let o;if(Wm(r,n)!=null)return e;{const a=new QE(r,e,i),l=e.eventCache.getNode();let c;if(Ye(n)||et(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=gw(r,bl(e));else{const d=e.serverCache.getNode();ne(d instanceof ft,"serverChildren would be complete if leaf node"),u=x7(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=et(n);let d=KE(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Nt(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,ft.EMPTY_NODE,Nt(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=gw(r,bl(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Wm(r,wt())!=null,ih(e,c,o,t.filter.filtersNodes())}}function Xoe(t,e){const n=bl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ye(e)&&!n.getImmediateChild(et(e)).isEmpty())?n.getChild(e):null}function kS(t,e,n,r){e.type===fs.MERGE&&e.source.queryId!==null&&(ne(bl(t.viewCache_),"We should always have a full cache before handling merges"),ne(fw(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Hoe(t.processor_,i,e,n,r);return Woe(t.processor_,s.viewCache),ne(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Joe(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Joe(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Coe(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AS;function Zoe(t){ne(!AS,"__referenceConstructor has already been defined"),AS=t}function YE(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ne(s!=null,"SyncTree gave us an op for an invalid query."),kS(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(kS(o,e,n,r));return s}}function XE(t,e){let n=null;for(const r of t.views.values())n=n||Xoe(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PS;function eae(t){ne(!PS,"__referenceConstructor has already been defined"),PS=t}class NS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Pt(null),this.pendingWriteTree_=Voe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function tae(t,e,n,r,i){return koe(t.pendingWriteTree_,e,n,r,i),i?p1(t,new Il(h7(),e,n)):[]}function Tc(t,e,n=!1){const r=Aoe(t.pendingWriteTree_,e);if(Poe(t.pendingWriteTree_,e)){let s=new Pt(null);return r.snap!=null?s=s.set(wt(),!0):Ei(r.children,o=>{s=s.set(new Ot(o),!0)}),p1(t,new zm(r.path,s,n))}else return[]}function f1(t,e,n){return p1(t,new Il(f7(),e,n))}function nae(t,e,n){const r=Pt.fromObject(n);return p1(t,new sf(f7(),e,r))}function rae(t,e,n,r){const i=k7(t,r);if(i!=null){const s=A7(i),o=s.path,a=s.queryId,l=pi(o,e),c=new Il(p7(a),l,n);return P7(t,o,c)}else return[]}function iae(t,e,n,r){const i=k7(t,r);if(i){const s=A7(i),o=s.path,a=s.queryId,l=pi(o,e),c=Pt.fromObject(n),u=new sf(p7(a),l,c);return P7(t,o,u)}else return[]}function T7(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=pi(o,e),c=XE(a,l);if(c)return c});return w7(i,e,s,n,!0)}function p1(t,e){return S7(e,t.syncPointTree_,null,y7(t.pendingWriteTree_,wt()))}function S7(t,e,n,r){if(Ye(t.path))return R7(t,e,n,r);{const i=e.get(wt());n==null&&i!=null&&(n=XE(i,wt()));let s=[];const o=et(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=E7(r,o);s=s.concat(S7(a,l,c,u))}return i&&(s=s.concat(YE(i,t,r,n))),s}}function R7(t,e,n,r){const i=e.get(wt());n==null&&i!=null&&(n=XE(i,wt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=E7(r,o),u=t.operationForChild(o);u&&(s=s.concat(R7(u,a,l,c)))}),i&&(s=s.concat(YE(i,t,r,n))),s}function k7(t,e){return t.tagToQueryMap.get(e)}function A7(t){const e=t.indexOf("$");return ne(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ot(t.substr(0,e))}}function P7(t,e,n){const r=t.syncPointTree_.get(e);ne(r,"Missing sync point for query tag that we're tracking");const i=y7(t.pendingWriteTree_,e);return YE(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new JE(n)}node(){return this.node_}}class ZE{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Cn(this.path_,e);return new ZE(this.syncTree_,n)}node(){return T7(this.syncTree_,this.path_)}}const sae=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},LS=function(t,e,n){if(!t||typeof t!="object")return t;if(ne(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return oae(t[".sv"],e,n);if(typeof t[".sv"]=="object")return aae(t[".sv"],e);ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},oae=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ne(!1,"Unexpected server value: "+t)}},aae=function(t,e,n){t.hasOwnProperty("increment")||ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ne(!1,"Unexpected increment value: "+r);const i=e.node();if(ne(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},lae=function(t,e,n,r){return e5(e,new ZE(n,t),r)},cae=function(t,e,n){return e5(t,new JE(e),n)};function e5(t,e,n){const r=t.getPriority().val(),i=LS(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=LS(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new wn(a,er(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new wn(i))),o.forEachChild(ir,(a,l)=>{const c=e5(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function n5(t,e){let n=e instanceof Ot?e:new Ot(e),r=t,i=et(n);for(;i!==null;){const s=ru(r.node.children,i)||{children:{},childCount:0};r=new t5(i,r,s),n=Nt(n),i=et(n)}return r}function Hu(t){return t.node.value}function N7(t,e){t.node.value=e,_w(t)}function L7(t){return t.node.childCount>0}function uae(t){return Hu(t)===void 0&&!L7(t)}function m1(t,e){Ei(t.node.children,(n,r)=>{e(new t5(n,t,r))})}function M7(t,e,n,r){n&&!r&&e(t),m1(t,i=>{M7(i,e,!0,r)}),n&&r&&e(t)}function dae(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Yf(t){return new Ot(t.parent===null?t.name:Yf(t.parent)+"/"+t.name)}function _w(t){t.parent!==null&&hae(t.parent,t.name,t)}function hae(t,e,n){const r=uae(n),i=io(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,_w(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,_w(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fae=/[\[\].#$\/\u0000-\u001F\u007F]/,pae=/[\[\].#$\u0000-\u001F\u007F]/,Vv=10*1024*1024,O7=function(t){return typeof t=="string"&&t.length!==0&&!fae.test(t)},mae=function(t){return typeof t=="string"&&t.length!==0&&!pae.test(t)},gae=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),mae(t)},D7=function(t,e,n){const r=n instanceof Ot?new Qse(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ka(r));if(typeof e=="function")throw new Error(t+"contains a function "+ka(r)+" with contents = "+e.toString());if(M8(e))throw new Error(t+"contains "+e.toString()+" "+ka(r));if(typeof e=="string"&&e.length>Vv/3&&gg(e)>Vv)throw new Error(t+"contains a string greater than "+Vv+" utf8 bytes "+ka(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ei(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!O7(o)))throw new Error(t+" contains an invalid key ("+o+") "+ka(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Yse(r,o),D7(t,a,r),Xse(r)}),i&&s)throw new Error(t+' contains ".value" child '+ka(r)+" in addition to actual children.")}},vae=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!O7(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!gae(n))throw new Error(YQ(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yae{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _ae(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!i7(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function $l(t,e,n){_ae(t,n),wae(t,r=>$i(r,e)||$i(e,r))}function wae(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(xae(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function xae(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Za&&Zn("event: "+n.toString()),Kf(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eae="repo_interrupt",Iae=25;class bae{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yae,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bm(),this.transactionQueueTree_=new t5,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Cae(t,e,n){if(t.stats_=BE(t.repoInfo_),t.forceRestClient_||wse())t.server_=new Um(t.repoInfo_,(r,i,s,o)=>{MS(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>OS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Fn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new zs(t.repoInfo_,e,(r,i,s,o)=>{MS(t,r,i,s,o)},r=>{OS(t,r)},r=>{Sae(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Cse(t.repoInfo_,()=>new boe(t.stats_,t.server_)),t.infoData_=new _oe,t.infoSyncTree_=new NS({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=f1(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),r5(t,"connected",!1),t.serverSyncTree_=new NS({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);$l(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Tae(t){const n=t.infoData_.getNode(new Ot(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function $7(t){return sae({timestamp:Tae(t)})}function MS(t,e,n,r,i){t.dataUpdateCount++;const s=new Ot(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=pm(n,c=>er(c));o=iae(t.serverSyncTree_,s,l,i)}else{const l=er(n);o=rae(t.serverSyncTree_,s,l,i)}else if(r){const l=pm(n,c=>er(c));o=nae(t.serverSyncTree_,s,l)}else{const l=er(n);o=f1(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=s5(t,s)),$l(t.eventQueue_,a,o)}function OS(t,e){r5(t,"connected",e),e===!1&&kae(t)}function Sae(t,e){Ei(e,(n,r)=>{r5(t,n,r)})}function r5(t,e,n){const r=new Ot("/.info/"+e),i=er(n);t.infoData_.updateSnapshot(r,i);const s=f1(t.infoSyncTree_,r,i);$l(t.eventQueue_,r,s)}function Rae(t){return t.nextWriteId_++}function kae(t){j7(t,"onDisconnectEvents");const e=$7(t),n=Bm();hw(t.onDisconnect_,wt(),(i,s)=>{const o=lae(i,s,t.serverSyncTree_,e);d7(n,i,o)});let r=[];hw(n,wt(),(i,s)=>{r=r.concat(f1(t.serverSyncTree_,i,s));const o=Lae(t,i);s5(t,o)}),t.onDisconnect_=Bm(),$l(t.eventQueue_,wt(),r)}function Aae(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Eae)}function j7(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Zn(n,...e)}function F7(t,e,n){return T7(t.serverSyncTree_,e,n)||ft.EMPTY_NODE}function i5(t,e=t.transactionQueueTree_){if(e||g1(t,e),Hu(e)){const n=U7(t,e);ne(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Pae(t,Yf(e),n)}else L7(e)&&m1(e,n=>{i5(t,n)})}function Pae(t,e,n){const r=n.map(c=>c.currentWriteId),i=F7(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];ne(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=pi(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{j7(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Tc(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();g1(t,n5(t.transactionQueueTree_,e)),i5(t,t.transactionQueueTree_),$l(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)Kf(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Gr("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}s5(t,e)}},o)}function s5(t,e){const n=V7(t,e),r=Yf(n),i=U7(t,n);return Nae(t,i,r),r}function Nae(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=pi(n,l.path);let u=!1,d;if(ne(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(Tc(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Iae)u=!0,d="maxretry",i=i.concat(Tc(t.serverSyncTree_,l.currentWriteId,!0));else{const h=F7(t,l.path,o);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){D7("transaction failed: Data returned ",p,l.path);let m=er(p);typeof p=="object"&&p!=null&&io(p,".priority")||(m=m.updatePriority(h.getPriority()));const x=l.currentWriteId,g=$7(t),w=cae(m,h,g);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=w,l.currentWriteId=Rae(t),o.splice(o.indexOf(x),1),i=i.concat(tae(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(Tc(t.serverSyncTree_,x,!0))}else u=!0,d="nodata",i=i.concat(Tc(t.serverSyncTree_,l.currentWriteId,!0))}$l(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}g1(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Kf(r[a]);i5(t,t.transactionQueueTree_)}function V7(t,e){let n,r=t.transactionQueueTree_;for(n=et(e);n!==null&&Hu(r)===void 0;)r=n5(r,n),e=Nt(e),n=et(e);return r}function U7(t,e){const n=[];return B7(t,e,n),n.sort((r,i)=>r.order-i.order),n}function B7(t,e,n){const r=Hu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);m1(e,i=>{B7(t,i,n)})}function g1(t,e){const n=Hu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,N7(e,n.length>0?n:void 0)}m1(e,r=>{g1(t,r)})}function Lae(t,e){const n=Yf(V7(t,e)),r=n5(t.transactionQueueTree_,e);return dae(r,i=>{Uv(t,i)}),Uv(t,r),M7(r,i=>{Uv(t,i)}),n}function Uv(t,e){const n=Hu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ne(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(ne(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Tc(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?N7(e,void 0):n.length=s+1,$l(t.eventQueue_,Yf(e),i);for(let o=0;o<r.length;o++)Kf(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mae(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Oae(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Gr(`Invalid query segment '${n}' in query '${t}'`)}return e}const DS=function(t,e){const n=Dae(t),r=n.namespace;n.domain==="firebase.com"&&Js(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Js("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||hse();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new q8(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Ot(n.pathString)}},Dae=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=Mae(t.substring(u,d)));const h=Oae(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ye(this._path)?null:t7(this._path)}get ref(){return new qu(this._repo,this._path)}get _queryIdentifier(){const e=xS(this._queryParams),n=VE(e);return n==="{}"?"default":n}get _queryObject(){return xS(this._queryParams)}isEqual(e){if(e=at(e),!(e instanceof o5))return!1;const n=this._repo===e._repo,r=i7(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Kse(this._path)}}class qu extends o5{constructor(e,n){super(e,n,new qE,!1)}get parent(){const e=r7(this._path);return e===null?null:new qu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}Zoe(qu);eae(qu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ae="FIREBASE_DATABASE_EMULATOR_HOST",ww={};let jae=!1;function Fae(t,e,n,r){t.repoInfo_=new q8(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Vae(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Js("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Zn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=DS(s,i),a=o.repoInfo,l,c;typeof process<"u"&&nS&&(c=nS[$ae]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=DS(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new Hc(Hc.OWNER):new Ese(t.name,t.options,e);vae("Invalid Firebase Database URL",o),Ye(o.path)||Js("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Bae(a,t,u,new xse(t.name,n));return new zae(d,t)}function Uae(t,e){const n=ww[e];(!n||n[t.key]!==t)&&Js(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Aae(t),delete n[t.key]}function Bae(t,e,n,r){let i=ww[e.name];i||(i={},ww[e.name]=i);let s=i[t.toURLString()];return s&&Js("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new bae(t,jae,n,r),i[t.toURLString()]=s,s}class zae{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Cae(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qu(this._repo,wt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Uae(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Js("Cannot call "+e+" on a deleted database.")}}function Wae(t=vg(),e){const n=If(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=hx("database");r&&Hae(n,...r)}return n}function Hae(t,e,n,r={}){t=at(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Js("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Js('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Hc(Hc.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:px(r.mockUserToken,t.app.options.projectId);s=new Hc(o)}Fae(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qae(t){ase(Yi),ws(new Gi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Vae(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Nr(rS,iS,t),Nr(rS,iS,"esm2017")}zs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};zs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};qae();const Gae={apiKey:"AIzaSyCwF75LGVuWriGfXEyHzoGBvobiOdMEwHs",authDomain:"star-education-academy.firebaseapp.com",projectId:"star-education-academy",storageBucket:"star-education-academy.appspot.com",messagingSenderId:"693801186794",appId:"1:693801186794:web:b202cdffa55530e687ee93",measurementId:"G-JN1DV2YT81",databaseURL:"https://star-education-academy-default-rtdb.asia-southeast1.firebasedatabase.app"},v1=L6(Gae),Ps=bZ(v1),Kae=new Ls,Ae=Mre(v1),za=rse(v1);Wae(v1);Ore(Ae).then(()=>{console.log("Offline persistence enabled")}).catch(t=>{t.code==="failed-precondition"?console.log("Persistence failed, multiple tabs open"):t.code==="unimplemented"&&console.log("Persistence not availabel on this browser")});const jl=(t,e,n)=>{y.useEffect(()=>{if(!n)return;const r=qe(Ae,t),i=Bi(r,s=>{if(!s.empty){const o=s.docs.map(a=>({...a.data(),[t==="users"?"uid":"id"]:a.id}));e(o)}},s=>{console.log("Error fetching documents: ",s.message)});return()=>i()},[n,t,e])},Qae=(t,e,n)=>{const r=Di.get("userId");y.useEffect(()=>{if(!n)return;const i=ve(Ae,t,r),s=Bi(i,o=>{if(o.exists()){const a={uid:o.id,...o.data()};e(a)}return()=>s()})},[n,e,t,r])},xw=async(t,e=3,n=1e3)=>{let r=0;for(;r<e;)try{await t(),console.log("User data save to firestore successfully");break}catch(i){if(r++,r>=e)throw console.log("Failed to save user data",i.message),i;console.warn(`Retrying Firestore write... (attempt ${r})`),await new Promise(s=>setTimeout(s,n*r))}};function z7(t,e){localStorage.setItem(t,JSON.stringify(e))}function W7(t){let e=localStorage.getItem(t);try{return JSON.parse(e)}catch{return null}}function Yae(t,e){let n=!1;return e.forEach(r=>{r.id===t&&(n=!0)}),n}let $S;function Xae(t){t(!0),clearTimeout($S),$S=setTimeout(()=>{t(!1)},[4e3])}function Wi(){scrollTo({top:0,behavior:"smooth"})}function oh(){const t=window.innerHeight,n=document.documentElement.scrollHeight-t;scrollTo({top:n+200})}function Cl(t){document.body.style.overflow=t}function y1(t,e){y.useEffect(()=>{const n=r=>{t.current&&!t.current.contains(r.target)&&e(!1)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[])}function Jae(t){try{const e=t.split(":"),n=Number(e[0]),r=Number(e[1]),i=Number(e[2]);return`${Bv(n,"hours")} ${Bv(r,"minutes")} ${Bv(i,"seconds")}`}catch{return null}}function Bv(t,e){return t?`${t} ${e}`:""}function jS(t){return t>=10?t:`0${t}`}const _1=(t,e)=>{const n=Di.get("userId");let r;return t.forEach(i=>{i.id===e&&(r=i)}),r?r.seenBy.includes(n):!1},Zae=(t,e)=>{let n=0;return t.forEach(r=>{_1(t,r.id)||(n+=1)}),!!(n>0&&(e!=null&&e.name))};function Xf(t){y.useEffect(()=>{const e=()=>{const n=window.scrollY;z7(`SEA-scrollPosition-${t}`,n)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[])}function Jf(t){y.useEffect(()=>{const e=W7(`SEA-scrollPosition-${t}`);e&&window.scrollTo(0,parseInt(e,10))},[])}async function ele(t,e){const n=ve(qe(Ae,"users"),e),r=FS(t,e);try{if(r)return r;{console.log("fetching user...");const i=await zu(n);if(i.exists()){const s={uid:i.id,...i.data()};return FS(t,i.id)?console.log("User already exists in the array:"):t.push(s),s}else return console.log("No user found in Firestore"),null}}catch(i){return console.error("Error fetching user:",i.message),null}}function FS(t,e){return t.find(n=>n.uid===e)}function Gn(t,e,n,r=()=>{},i=[]){y.useEffect(()=>{(async()=>{r(!0);const o=await ele(e,t);n(o),r(!1)})()},i)}const Si=()=>{const[t,e]=y.useState(!0),[n,r]=y.useState(0),{theme:i,headerTitle:s}=y.useContext(Z);if(y.useEffect(()=>{const o=setInterval(()=>{r(Math.min(n+1,100)),n===100&&(e(!1),r(0))},5);return()=>{clearInterval(o)}},[n]),t?document.title="Loading...":document.title=s,t)return f.jsx("div",{className:`transition-all fixed z-30  top-0 right-0 left-0 bottom-0 flex  items-center justify-center ${i==="light"?"bg-white":"bg-slate-600 text-white"}`,children:f.jsxs("div",{className:"flex flex-col items-center justify-center gap-y-4",children:[f.jsx("img",{className:"w-20 rounded-lg",src:"/images/sea-logo.jpg"}),f.jsx("div",{className:"h-3 w-[200px] ",children:f.jsx(Zt,{variant:"determinate",value:n})})]})})},tle=()=>{const{theme:t,userData:e,userId:n}=y.useContext(Z),[r,i]=y.useState(!0),[s,o]=y.useState(null),a=`${s==null?void 0:s.testName} - Results`,l=Math.round((s==null?void 0:s.score)/(s==null?void 0:s.totalScore)*100),c=An(),{resultId:u}=pf();y.useEffect(()=>{(async()=>{try{const p=qe(ve(Ae,"users",n),"history"),m=ve(p,u),v=await zu(m);o(v.data()),i(!1)}catch(p){console.log(p.message)}})()},[]),y.useEffect(()=>(Wi(),Wi()),[]);const d=async()=>{try{await navigator.share({title:"Check out my score!",text:`I scored ${s.score} out of ${s.totalScore} in '${s.testName}'.
Website URL - https://seaacademy.onrender.com/tests/
        `})}catch{console.log("Error")}};return f.jsxs("div",{className:"p-5 ",children:[f.jsx(Si,{}),s&&!r?f.jsxs("div",{className:"",children:[f.jsxs("div",{className:"flex items-center gap-x-1 h-10 font-medium mb-4",children:[f.jsx(pn,{data:{image:"back",clickFn:()=>c("/app/history")}}),f.jsx("div",{className:`text-lg pl-2 place-items-center bg-blue-40 ${t==="light"?"text-gray-500":"text-white"}`,children:a})]}),f.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[f.jsx("div",{children:f.jsx("div",{className:"grid items-center justify-center bg-blue-300/50 h-40 w-40 rounded-full",children:f.jsx("div",{className:"grid items-center justify-center bg-blue-400/50 h-32 w-32 rounded-full",children:f.jsx("div",{className:"grid items-center justify-center bg-blue-500/50 h-28 w-28 rounded-full",children:f.jsx("div",{className:`grid  h-20 w-20 items-center justify-center rounded-full ${t==="light"?"bg-slate-50":"bg-slate-600"}`,children:f.jsxs("div",{className:`flex flex-col items-center justify-center font-medium ${t==="light"?"text-blue-500":"text-white"}`,children:[f.jsx("div",{className:"text-sm font-bold",children:"Your Score"}),f.jsxs("div",{className:" text-lg ",children:[s.score," / ",s.totalScore]})]})})})})})}),f.jsx("div",{className:`grid items-center justify-center font-bold
             text-lg ${t==="light"?"text-blue-700":"text-white"}`,children:f.jsx("div",{children:s.level})})]}),f.jsxs("div",{className:"mt-1 mb-2 h-2 border flex ",children:[f.jsx("div",{className:`h-full ${t==="light"?"bg-lime-400":"bg-slate-500"}`,style:{width:`${l}%`}}),f.jsx("div",{className:"h-full bg-gray-200",style:{width:`${100-l}%`}})]}),f.jsxs("div",{className:`grid border shadow-lg grid-cols-2 gap-y-2 border p-2 rounded-lg ${t==="light"?"bg-white border-slate-200":"border-slate-500/70 text-white"}`,children:[f.jsx(Ea,{text:"Score Percentage",value:`${l}%`,color:"text-lime-500"}),f.jsx(Ea,{text:"Total Questions",value:s.totalScore,color:"text-lime-500"}),f.jsx(Ea,{text:"Correct",value:s.score,color:"text-green-500"}),f.jsx(Ea,{text:"Wrong",value:s.totalScore-s.score,color:"text-red-500"}),f.jsx(Ea,{text:"Date",value:s.date,color:"text-lime-500"}),f.jsx(Ea,{text:"Time",value:s.time,color:"text-lime-500"}),f.jsx(Ea,{text:"Time taken",value:Jae(s.timeTaken)||"Unknown",color:"text-lime-500"})]}),f.jsxs("div",{className:`grid grid-cols-3 justify-center gap-y-2 mt-5 ${t==="light"?"":"text-white"}`,children:[f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx(pn,{data:{clickFn:()=>c(`/app/history/${u}/reviews`),image:"review"}}),f.jsx("div",{className:"text-sm",children:"Review Answers"})]}),f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx(pn,{data:{clickFn:d,image:"share"}}),f.jsx("div",{className:"text-sm",children:"Share Score"})]}),f.jsxs("div",{className:"flex flex-col items-center justify-center",children:[f.jsx(pn,{data:{clickFn:()=>c("/app/posts"),image:"home"}}),f.jsx("div",{className:"text-sm",children:"Home"})]})]})]}):f.jsxs(ye,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Zt,{})]})]})},Ea=({text:t,value:e,color:n})=>f.jsxs("div",{children:[f.jsxs("div",{className:`font-medium ${n}`,children:[" ",e]}),f.jsx("div",{className:"text-sm",children:t})]});function ya(t,e=15){const n=t==null?void 0:t.slice(0,e);return e>(t==null?void 0:t.length)?n:`${n}...`}const ti=({image:t,name:e,size:n="size-10",fontSize:r="text-lg",className:i})=>{const s=t&&t.trim(),o=e&&e.trim(),a=s&&o,l=()=>{const c=e.trim().split(" ");return c.length<=3?c[0][0].toUpperCase():`${c[0][0]}${c[1][0]}`.toUpperCase()};if(s||a)return f.jsx("img",{alt:e,className:`${n} rounded-full object-cover ${i}`,src:t});if(o)return f.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:l()});if(!a)return f.jsx("div",{className:`flex font-roboto justify-center ${r} items-center  rounded-full font-bold text-white bg-blue-400 ${n}`,children:"U"})},Zs=({data:t})=>{const{yesButton:e,noButton:n,text:r,setValue:i,value:s}=t;return y.useContext(Z),f.jsxs(Qi,{open:!!s,onClose:()=>i(!1),children:[f.jsx(oq,{children:r}),f.jsxs(gi,{direction:"row",alignItems:"center",justifyContent:"center",gap:1,margin:2,children:[f.jsx(Oe,{onClick:e,children:"Yes"}),f.jsx(Oe,{onClick:n,children:"No"})]})]})},Wn=({name:t,className:e,size:n="size-7"})=>f.jsx("img",{className:`${n} ${e}`,src:Pe(t)}),nle=({data:t})=>{const{setIsMenuOpen:e}=t,[n,r]=y.useState(!1),[i,s]=y.useState(!1),o=y.useRef(null),a=An(),{setIsLogIn:l,theme:c,userData:u,refreshUserData:d,inspecting:h,isOnline:p}=y.useContext(Z),m=async()=>{try{await oP(Ps),e(!1),l(!1),Di.remove("userId"),a("/login")}catch(v){console.log(v.message)}};return y1(o,r),f.jsxs("div",{ref:o,className:"p-2 ",children:[f.jsx("div",{className:"top-0 right-0 left-0 bottom-0",children:f.jsx(Zs,{data:{value:i,yesButton:m,noButton:()=>{s(!1)},text:"Are you sure to log out ?",setValue:s}})}),f.jsx(Oe,{variant:n?"outlined":"text",size:"small",sx:{textTransform:"capitalize",justifyContent:"start",border:"1px solid transparent"},onClick:()=>r(!n),className:`transition-all p-1 flex items-center rounded-md cursor-pointer w-full min-h-14 ${c==="light"?`${n?"bg-slate-100 shadow-md border border-slate-200":"hover:bg-slate-200/70"}`:`${n?"bg-slate-500/70":"hover:bg-slate-500/70"}`}`,children:f.jsxs("div",{className:"flex gap-x-2 items-center mb-2",children:[f.jsx("div",{className:"relative size-10",children:f.jsx(ti,{image:u==null?void 0:u.image,name:u==null?void 0:u.name})}),f.jsxs("div",{className:"flex flex-1 items-center justify-between",children:[f.jsx(jt,{className:"font-bold",children:u!=null&&u.name?u.name:"Unknown User"}),h&&f.jsx(pn,{data:{clickFn:d,image:"exit"}})]})]})}),n&&f.jsx("div",{className:`absolute bottom-[70px] left-1 border w-4/6 sm:w-3/5 md:w-4/6  p-2 rounded-md ${c==="light"?"border-gray-200 bg-white ":"bg-slate-500 text-white border-slate-500 "}`,children:f.jsxs("div",{children:[f.jsx(Oe,{onClick:()=>{a("/app/settings"),e(!1),r(!1)},startIcon:f.jsx(Wn,{name:"admin"}),children:"Settings"}),f.jsx(Oe,{onClick:()=>{s(!0)},startIcon:f.jsx(Wn,{name:"logout"}),children:"Log out"})]})})]})},rle=({isMenuOpen:t,setIsMenuOpen:e})=>{const n=["/app/admin","/app/admin/posts","/app/admin/users","/app/admin/helps","/app/admin/tests"],{userData:r,newMessages:i,historyCount:s,setHistoryCount:o,notiCount:a,setNotiCount:l,userId:c}=y.useContext(Z),u=Su(),d=u.pathname.includes("/app/history"),h=n.includes(u.pathname),p=u.pathname==="/app",m=u.pathname==="/app/tests",v=u.pathname==="/app/help",x=u.pathname==="/app/notifications",g=u.pathname==="/app/chatroom",w=()=>{let I=0;return i.forEach(C=>{_1(i,C.id)||(I+=1)}),!!(I>0&&(r!=null&&r.name))},_=[{text:"Home",image:"home",path:"/app",active:p},{text:"Tests",image:"exam",path:"/app/tests",active:m},{text:"History",image:"history",path:"/app/history",items:s,active:d},{text:"Notifications",image:"notification",path:"/app/notifications",items:a,active:x},{text:"Chat Room",image:"chat",path:"/app/chatroom",color:"bg-red-600",active:g},{text:"Admin",image:"admin",path:"/app/admin",active:h},{text:"Help",image:"help",path:"/app/help",active:v}],E=["Admin"],S=_.filter(I=>r.isAdmin?!0:!E.includes(I.text));return f.jsxs(_Q,{variant:"temporary",transitionDuration:{enter:500,exit:300},anchor:"left",open:t,onOpen:()=>e(!0),onClose:()=>e(!1),sx:{"& .MuiDrawer-paper":{width:{xs:"300px",sm:"350px",md:"400px",lg:"450px",xl:"500px"}}},children:[f.jsx("div",{className:"flex p-2 items-center",children:f.jsxs("div",{className:"font-medium text-md flex-1 flex items-center",children:[f.jsx(Sn,{onClick:()=>e(!1),children:f.jsx("img",{className:"w-8",src:Pe("close")})}),f.jsx(jt,{sx:{fontWeight:"bold"},children:"STAR EDUCATION ACADEMY"})]})}),f.jsxs(gi,{sx:{flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[f.jsx(XA,{direction:"right",in:t,mountOnEnter:!0,unmountOnExit:!0,children:f.jsx("div",{className:"mr-2 ml-2",children:S.map(I=>f.jsx(ile,{setIsMenuOpen:e,data:{active:I.active,image:I.image,path:I.path,text:I.text,items:I==null?void 0:I.items,color:I.color,isThereNewMessages:w}},I.text))})}),f.jsx(nle,{data:{setIsMenuOpen:e}})]})]})},ile=({setIsMenuOpen:t,data:e})=>{const{active:n,image:r,text:i,items:s,path:o,color:a,isThereNewMessages:l}=e,c=An(),{theme:u,currentTest:d}=y.useContext(Z);return f.jsxs(Oe,{sx:{justifyContent:"start",textTransform:"capitalize"},variant:n?"contained":"text",onClick:()=>{c(o),t(!1)},className:`relative font-bold p-2 hover:shadow-md pl-2 transition-all font-medium rounded-tr-3xl rounded-br-3xl flex items-center gap-x-1 w-full  hover:shadow-md 
      ${u==="light"?` ${n?"bg-blue-500/70":"hover:bg-slate-200"}`:` ${n?"bg-blue-500/70":"hover:bg-slate-100"}`}
      `,children:[f.jsx("img",{className:`size-9 p-1 transition-all
        `,src:Pe(r)}),f.jsx("div",{children:i}),s&&s>=0?f.jsx("div",{className:` flex items-center rounded-full justify-center pl-1 pr-1  min-h-6 min-w-6 text-sm top-0 -left-1 font-bold text-white ${a||"bg-black"}`,children:s}):"",d&&i==="Home"&&f.jsxs("div",{className:"text-sm",children:["(Taking ",ya(d.name,45),")"]}),i==="Chat Room"&&(l()?f.jsx("div",{className:"absolute left-2 top-3 shadow-sm bg-red-500 size-3 rounded-full"}):"")]})},sle=()=>{const{headerTitle:t,newMessages:e,userData:n,isLogin:r}=y.useContext(Z),[i,s]=y.useState(!1);return f.jsx(qA,{position:"sticky",sx:{zIndex:"20"},children:f.jsx(m6,{sx:{padding:"5px",backgroundColor:"white"},children:f.jsxs(Qd,{container:!0,justifyContent:"space-between",children:[f.jsxs(Qd,{item:!0,display:"flex",alignItems:"center",children:[r&&f.jsxs(f.Fragment,{children:[f.jsxs(Sn,{sx:{position:"relative"},onClick:()=>s(!0),children:[f.jsx("img",{className:"w-8",src:Pe("menu")}),Zae(e,n)?f.jsx("div",{className:"absolute left-2 top-2 shadow-sm bg-red-500 size-3 rounded-full"}):""]}),i&&f.jsx(rle,{setIsMenuOpen:s,isMenuOpen:i})]}),f.jsx(jt,{sx:{fontWeight:"bold",color:"black"},children:t})]}),f.jsx(Qd,{item:!0,children:f.jsx("div",{className:"flex gap-x-2 items-center",children:f.jsx("img",{className:"size-12 rounded-full",src:"images/sea-logo.jpg"})})})]})})})},Sc=()=>f.jsx("div",{className:"h-0.5 border border-dashed border-gray-200 mb-2 mt-2"}),ole=()=>{var v;const{theme:t,userData:e}=y.useContext(Z),n=0,r=10,[i,s]=y.useState(r),[o,a]=y.useState(!1),[l,c]=y.useState({}),u=(v=l==null?void 0:l.results)==null?void 0:v.slice(n,i),d=`${l==null?void 0:l.testName} - Review your answers`,{resultId:h}=pf(),p=async()=>{const x=qe(ve(Ae,"users",e.uid),"history"),g=ve(x,h),w=await zu(g);if(w.exists){const _={id:w.id,...w.data()};c(_)}};y.useEffect(()=>{p()},[h]),y.useEffect(()=>(Wi(),Wi()),[]);const m=()=>{s(i+r)};return y.useEffect(()=>{var x;i>=((x=l==null?void 0:l.results)==null?void 0:x.length)&&a(!0)},[i]),document.title=d,f.jsxs("div",{className:"p-5",children:[f.jsx(Si,{}),l?f.jsxs("div",{className:"grid gap-y-5",children:[f.jsx("div",{className:`font-medium text-lg ${t==="light"?"":"text-white"}`,children:d}),u==null?void 0:u.map(x=>{const{id:g,question:w,isTrue:_,answer:E,userAnswer:S}=x;return _?f.jsxs("div",{className:"grid font-padauk gap-y-2",children:[f.jsxs("div",{className:"flex gap-x-3 items-center",children:[f.jsx("div",{className:"bg-green-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:g}),f.jsx("div",{className:`flex-1 ${t==="light"?"":"text-white"}`,children:w})]}),f.jsx("div",{children:f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"text-green-500 font-bold",children:"Correct (your answer)"}),f.jsxs("div",{className:"min-h-12  flex gap-x-3 p-2 border text-green-500 border-green-500 rounded-lg items-center shadow-md shadow-lime-200",children:[f.jsx("img",{className:"w-5 h-5",src:Pe("trueIcon")}),f.jsx("div",{children:E})]})]})}),f.jsx(Sc,{})]},`result-${g}`):f.jsxs("div",{className:"grid font-padauk gap-y-2",children:[f.jsxs("div",{className:"flex gap-x-3 items-center",children:[f.jsx("div",{className:"bg-red-500 h-9 w-9 text-white font-bold rounded-sm flex justify-center items-center ",children:g}),f.jsx("div",{className:`flex-1 ${t==="light"?"":"text-white"}`,children:w})]}),f.jsxs("div",{className:"grid gap-y-1",children:[f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"text-red-500 font-bold",children:"Incorrect (your answer)"}),f.jsxs("div",{className:"min-h-12 flex gap-x-3 p-2 border text-red-500 border-red-500 rounded-lg items-center shadow-md shadow-red-200",children:[f.jsx("img",{className:"w-5 h-5",src:Pe("falseIcon")}),f.jsx("div",{children:S})]})]}),f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"text-green-500 font-bold",children:"Correct"}),f.jsxs("div",{className:" min-h-12  flex gap-x-3 p-2 border text-green-500 shadow-md shadow-lime-200 border-green-500 rounded-lg items-center",children:[f.jsx("img",{className:"w-5 h-5",src:Pe("trueIcon")}),f.jsx("div",{children:E})]})]})]}),f.jsx(Sc,{})]},`result-${g}`)}),o?"":f.jsx("div",{className:"flex justify-center",children:f.jsx(Vi,{data:{image:"down",text:"See More",clickFn:m}})}),f.jsx("div",{children:f.jsx(C$,{to:`/app/history/${h}`,children:f.jsx(Vi,{data:{image:"back",text:"Back to results"}})})})]}):f.jsx(g6,{text:"Unavailable"})]})},VS=()=>{const{deleteFromHistory:t,theme:e,setHeaderTitle:n,userId:r,historyCount:i}=y.useContext(Z),s=An(),[o,a]=y.useState([]),[l,c]=y.useState(null),[u,d]=y.useState(!1),[h,p]=y.useState(!1),[m,v]=y.useState(!1),[x,g]=y.useState([]),[w,_]=y.useState(null),E=5,S=async()=>{const k=qe(ve(Ae,"users",r),"history");let N=Or(k,Xs(E));w&&(N=Or(N,c1(w)));const M=await va(N),L=M.docs.map(j=>({id:j.id,...j.data()}));a([...o,...L]),console.log(L),_(M.docs[M.docs.length-1])};y.useEffect(()=>{S()},[]);const I=k=>{m||s(`/app/history/${k.id}`)},C=()=>{t(l),c(null),d(!1)},b=()=>{d(!1),c(null)},R=(k,N)=>{k.target.checked?g([...x,N]):g(x.filter(M=>M!==N))},T=()=>{const k=o.filter(N=>!x.includes(N.id));a(k),g([]),p(!1),v(!1)};return Xf("history-page"),Jf("history-page"),y.useEffect(()=>{n("History")},[]),f.jsxs("div",{className:"p-5",children:[f.jsx(Si,{}),f.jsx(Zs,{data:{value:h,setValue:p,text:`Are you sure to delete ${x.length} ${x.length<=1?"item":"items"} ?`,yesButton:T,noButton:()=>p(!1),setValue:p}}),f.jsx(Zs,{data:{value:u,text:"Are you sure to delete ?",yesButton:C,noButton:b,setValue:d}}),o.length!==0?f.jsxs("div",{className:"grid border border-slate-200 rounded-md shadow-md ",children:[f.jsxs("div",{className:"m-2 flex items-center gap-x-2 justify-between",children:[f.jsx(Oe,{variant:"outlined",onClick:()=>{v(!m),g([])},children:m?"Done":"Select"}),m&&f.jsxs("div",{className:"flex items-center gap-x-2",children:[f.jsxs("div",{className:"font-medium rounded-lg",children:[x.length," ",x.length<=1?"item":"items"," selected"]}),f.jsx(pn,{data:{clickFn:()=>{x.length&&p(!0)},image:"trash"}})]})]}),o.map((k,N)=>f.jsxs(ye,{className:`min-h-20 p-2 border-t ${N===0&&"border-t-0"} gap-x-3 ${e==="light"?"border-slate-200 shadow-gray-200":"border-slate-500/70 text-white shadow-slate-500"}`,children:[f.jsx("div",{className:`font-medium  ${e==="light"?" ":"bg-slate-500/70"}`,children:k.testName}),f.jsxs("div",{className:"p-2 flex items-center gap-x-2",children:[m&&f.jsx("input",{checked:x.includes(k.id),onChange:M=>R(M,k.id),className:"form-checkbox rounded-lg border-2 w-6 h-6 border-gray-200 checked:bg-transparent ",type:"checkbox"}),f.jsx("div",{onClick:()=>I(k),className:"flex flex-1 items-center gap-x-3 cursor-pointer",children:f.jsxs("div",{className:"flex-1 sm:flex items-center gap-x-3 ",children:[f.jsxs("div",{className:"",children:["Score: ",k.score," / ",k.results.length," "]}),f.jsxs("div",{className:" ",children:["Date: ",k.date," (",` ${k.time}`,")"]})]})}),!1]})]},`history-item-${k.id}`)),i>E&&o.length<i?f.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:f.jsx(Oe,{size:"small",onClick:S,children:"load more"})}):""]}):f.jsxs(ye,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Zt,{})]})]})},ale=()=>{const[t,e]=y.useState(0),n=()=>{const r=window.innerHeight,i=document.documentElement.scrollHeight,s=window.scrollY,o=i-r,a=s/o*100;e(a)};return y.useEffect(()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}),[]),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-20",children:f.jsx("div",{style:{width:`${t}%`},className:"h-1 bg-blue-600"})})},lle=()=>{const{users:t,theme:e,setHeaderTitle:n}=y.useContext(Z),[r,i]=y.useState(null),[s,o]=y.useState(null),[a,l]=y.useState(null),c=[{name:"Posts",image:"home",path:"/app/admin/posts",counts:r},{name:"Tests",image:"exam",path:"/app/admin/tests",counts:s},{name:"Users",image:"user",path:"/app/admin/users",counts:a}],[u,d]=y.useState(c),h=An();return y.useEffect(()=>{n("Admin")},[]),y.useEffect(()=>{d(c)},[r,s,a]),f.jsxs("div",{className:"m-5 grid rounded-md border border-slate-200 shadow-md  ",children:[f.jsx(Si,{}),u.map((p,m)=>f.jsxs(ye,{onClick:()=>{h(p.path)},className:`${m===0&&"border-t-0"} border-t ${m===u.length-1&&"border-b-0"} transition-all  pt-5 pb-5 border-slate-200 overflow-hidden flex items-center gap-x-1 p-2 cursor-pointer hover:bg-slate-100`,children:[f.jsx("img",{className:"w-7 ",src:Pe(p.image)}),f.jsx("div",{children:p.name}),p.counts&&f.jsx("div",{className:" flex bg-black items-center rounded-full justify-center pl-1 pr-1  min-h-6 min-w-6 text-sm top-0 -left-1 font-bold text-white ",children:p.counts})]},p.name))]})},cle=()=>{const e=new Date().getFullYear();return y.useContext(Z),f.jsxs(gi,{className:" w-full shadow-t-md flex flex-col items-center p-1 bg-white border-t  mt-auto border-t-slate-200 ",rowGap:.5,children:[f.jsxs(jt,{children:["SEA copyright 2015 - ",e]}),f.jsx(jt,{children:"All rights reserved."}),f.jsx(jt,{children:"Author: Than Aung Naing"})]})},ule=({message:t,bgColor:e="bg-slate-200"})=>f.jsx("div",{className:"z-30 fixed flex justify-center bottom-5 left-0 right-0 ",children:f.jsx("div",{className:`${e} font-bold p-3 rounded-lg`,children:t})}),dle=()=>{const{setHeaderTitle:t,theme:e,setIsLogIn:n}=y.useContext(Z),[r,i]=y.useState(""),[s,o]=y.useState(""),[a,l]=y.useState(""),[c,u]=y.useState(!1),[d,h]=y.useState(null),[p,m]=y.useState("login"),v=An();y.useEffect(()=>{t("STAR EDUCATION ACADEMY")},[]);const x=()=>{v("/app")};Cl("auto");const g=async(C,b,R,T="",k)=>{try{const N=ve(Ae,"users",k),M=await zu(N),L={name:C,email:b,password:R,image:T,isAdmin:!1,createdAt:rr()};console.log("User exists: ",M.exists()),M.exists()||await xw(()=>Xa(ve(Ae,"users",k),L))}catch(N){console.log(N.message)}},w=async()=>{try{const b=(await LJ(Ps,Kae)).user;await g(Ps.currentUser.displayName,Ps.currentUser.email,"",Ps.currentUser.photoURL,b.uid),Di.set("userId",b.uid,{expires:365}),n(!0),x()}catch(C){h(C.message),u(!0)}},_=async()=>{try{const b=(await cJ(Ps,s,a)).user;Di.set("userId",b.uid,{expires:365}),n(!0),x()}catch(C){h(C.message),u(!0)}},E=async()=>{try{const C=await lJ(Ps,s,a),{user:b}=C;await g(r,s,a,"",b.uid),Di.set("userId",b.uid,{expires:365}),n(!0),x()}catch(C){h(C.message),u(!0)}},S=()=>{const C=Di.get("userId")||null;let b=!1;return C&&(b=!0),{loggedIn:b,userId:C}},I=()=>{switch(p){case"login":return f.jsxs("div",{children:[f.jsx(a_,{open:c,onClose:()=>u(!1),message:d,autoHideDuration:3e3}),f.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[f.jsx(jt,{variant:"h6",color:"primary",children:"Log In"}),f.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[f.jsx(li,{name:"email",variant:"filled",color:"primary",label:"Enter your email",type:"email",size:"small",value:s,onChange:C=>o(C.target.value)}),f.jsx(li,{name:"email",variant:"filled",color:"primary",label:"Enter your password",type:"password",size:"small",value:a,onChange:C=>l(C.target.value)}),f.jsx(Oe,{onClick:_,sx:{textTransform:"capitalize"},variant:"contained",color:"primary",children:"Log In"})]}),f.jsx(US,{}),f.jsx("div",{children:f.jsx(Oe,{onClick:w,startIcon:f.jsx("img",{className:"size-7",src:Pe("google")}),sx:{textTransform:"capitalize"},variant:"outlined",children:"Sign in With Google"})}),f.jsx(US,{}),f.jsx("div",{children:f.jsx(Oe,{onClick:()=>m("signup"),sx:{textTransform:"capitalize"},variant:"outlined",children:"Create new Account"})})]})]});case"signup":return f.jsx("div",{children:f.jsxs("div",{className:"mt-10 flex flex-col items-center ",children:[f.jsx(a_,{open:c,onClose:()=>u(!1),message:d,autoHideDuration:2e3}),f.jsx(jt,{variant:"h6",color:"primary",children:"Create a new account"}),f.jsxs("div",{className:"grid p-2 w-5/6 sm:w-3/5 lg:w-4/6 gap-y-2",children:[f.jsx(li,{variant:"filled",color:"primary",label:"Enter your name",type:"email",size:"small",value:r,onChange:C=>i(C.target.value)}),f.jsx(li,{name:"email",variant:"filled",color:"primary",label:"Enter your email",type:"email",size:"small",value:s,onChange:C=>o(C.target.value)}),f.jsx(li,{name:"email",variant:"filled",color:"primary",label:"Enter your password",type:"password",size:"small",value:a,onChange:C=>l(C.target.value)}),f.jsx(Oe,{onClick:()=>{E()},sx:{textTransform:"capitalize"},variant:"contained",color:"primary",children:"Sign up"}),f.jsx("div",{children:f.jsx(Oe,{startIcon:f.jsx("img",{className:"size-7",src:Pe("back")}),onClick:()=>m("login"),sx:{textTransform:"capitalize"},variant:"outlined",color:"primary",children:"Log in"})})]})]})})}};return f.jsxs("div",{className:"Login mb-5",children:[f.jsx(Si,{}),S().loggedIn?f.jsx(hle,{userId:S().userId}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`text-md rounded-md font-medium  p-1 pl-2 border-b  ${e==="light"?"text-lime-700 bg-lime-100/70 border-b-lime-300":" bg-slate-500/70 border-slate-500/70 text-white"}`,children:"You must log in first."}),I()]})]})},US=()=>{const{theme:t}=y.useContext(Z);return f.jsx("div",{className:`mt-2 mb-2 ${t==="light"?"":"text-white"}`,children:"OR"})},hle=({userId:t})=>{ve(qe(Ae,"users"),t),y.useState(null);const e=An(),{userData:n}=y.useContext(Z);return f.jsxs(gi,{m:2,children:[f.jsxs(jt,{children:["You are already logged in as ",n==null?void 0:n.name,"."]}),f.jsx(ye,{mt:1,children:f.jsx(Oe,{onClick:()=>e("/app/settings"),variant:"outlined",children:"Settings"})})]})};function fle(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function H7(t,e){return new Promise(function(n,r){let i;return ple(t).then(function(s){try{return i=s,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const ple=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let o=0;if(s.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const a=s.getUint16(o);if(a===65498)break;const l=s.getUint16(o+2);if(a===65505&&s.getUint32(o+4)===1165519206){const c=o+10;let u;switch(s.getUint16(c)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(c+2,u)!==42)return n("TIFF header contains invalid version");const d=s.getUint32(c+4,u),h=c+d+2+12*s.getUint16(c+d,u);for(let p=c+d+2;p<h;p+=12)if(s.getUint16(p,u)==274){if(s.getUint16(p+2,u)!==3)return n("Orientation data type is invalid");if(s.getUint32(p+4,u)!==1)return n("Orientation data count is invalid");s.setUint16(p+8,1,u);break}return e(i.slice(o,o+2+l))}o+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var qm={},mle={get exports(){return qm},set exports(t){qm=t}};(function(t){var e,n,r={};mle.exports=r,r.parse=function(i,s){for(var o=r.bin.readUshort,a=r.bin.readUint,l=0,c={},u=new Uint8Array(i),d=u.length-4;a(u,d)!=101010256;)d--;l=d,l+=4;var h=o(u,l+=4);o(u,l+=2);var p=a(u,l+=2),m=a(u,l+=4);l+=4,l=m;for(var v=0;v<h;v++){a(u,l),l+=4,l+=4,l+=4,a(u,l+=4),p=a(u,l+=4);var x=a(u,l+=4),g=o(u,l+=4),w=o(u,l+2),_=o(u,l+4);l+=6;var E=a(u,l+=8);l+=4,l+=g+w+_,r._readLocal(u,E,c,p,x,s)}return c},r._readLocal=function(i,s,o,a,l,c){var u=r.bin.readUshort,d=r.bin.readUint;d(i,s),u(i,s+=4),u(i,s+=2);var h=u(i,s+=2);d(i,s+=2),d(i,s+=4),s+=4;var p=u(i,s+=8),m=u(i,s+=2);s+=2;var v=r.bin.readUTF8(i,s,p);if(s+=p,s+=m,c)o[v]={size:l,csize:a};else{var x=new Uint8Array(i.buffer,s);if(h==0)o[v]=new Uint8Array(x.buffer.slice(s,s+a));else{if(h!=8)throw"unknown compression method: "+h;var g=new Uint8Array(l);r.inflateRaw(x,g),o[v]=g}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[o]=120,a[o+1]=156,o+=2,o=r.F.deflateRaw(i,a,o,s.level);var l=r.adler(i,0,i.length);return a[o+0]=l>>>24&255,a[o+1]=l>>>16&255,a[o+2]=l>>>8&255,a[o+3]=l>>>0&255,new Uint8Array(a.buffer,0,o+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var o=new Uint8Array(50+Math.floor(1.1*i.length)),a=r.F.deflateRaw(i,o,a,s.level);return new Uint8Array(o.buffer,0,a)},r.encode=function(i,s){s==null&&(s=!1);var o=0,a=r.bin.writeUint,l=r.bin.writeUshort,c={};for(var u in i){var d=!r._noNeed(u)&&!s,h=i[u],p=r.crc.crc(h,0,h.length);c[u]={cpr:d,usize:h.length,crc:p,file:d?r.deflateRaw(h):h}}for(var u in c)o+=c[u].file.length+30+46+2*r.bin.sizeUTF8(u);o+=22;var m=new Uint8Array(o),v=0,x=[];for(var u in c){var g=c[u];x.push(v),v=r._writeHeader(m,v,u,g,0)}var w=0,_=v;for(var u in c)g=c[u],x.push(v),v=r._writeHeader(m,v,u,g,1,x[w++]);var E=v-_;return a(m,v,101010256),v+=4,l(m,v+=4,w),l(m,v+=2,w),a(m,v+=2,E),a(m,v+=4,_),v+=4,v+=2,m.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,o,a,l,c){var u=r.bin.writeUint,d=r.bin.writeUshort,h=a.file;return u(i,s,l==0?67324752:33639248),s+=4,l==1&&(s+=2),d(i,s,20),d(i,s+=2,0),d(i,s+=2,a.cpr?8:0),u(i,s+=2,0),u(i,s+=4,a.crc),u(i,s+=4,h.length),u(i,s+=4,a.usize),d(i,s+=4,r.bin.sizeUTF8(o)),d(i,s+=2,0),s+=2,l==1&&(s+=2,s+=2,u(i,s+=6,c),s+=4),s+=r.bin.writeUTF8(i,s,o),l==0&&(i.set(h,s),s+=h.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var o=s,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;i[s]=o}return i}(),update:function(i,s,o,a){for(var l=0;l<a;l++)i=r.crc.table[255&(i^s[o+l])]^i>>>8;return i},crc:function(i,s,o){return 4294967295^r.crc.update(4294967295,i,s,o)}},r.adler=function(i,s,o){for(var a=1,l=0,c=s,u=s+o;c<u;){for(var d=Math.min(c+5552,u);c<d;)l+=a+=i[c++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255,i[s+2]=o>>16&255,i[s+3]=o>>24&255},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},writeASCII:function(i,s,o){for(var a=0;a<o.length;a++)i[s+a]=o.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,o){for(var a,l="",c=0;c<o;c++)l+="%"+r.bin.pad(i[s+c].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(i,s,o)}return a},writeUTF8:function(i,s,o){for(var a=o.length,l=0,c=0;c<a;c++){var u=o.charCodeAt(c);if(!(4294967168&u))i[s+l]=u,l++;else if(!(4294965248&u))i[s+l]=192|u>>6,i[s+l+1]=128|u>>0&63,l+=2;else if(!(4294901760&u))i[s+l]=224|u>>12,i[s+l+1]=128|u>>6&63,i[s+l+2]=128|u>>0&63,l+=3;else{if(4292870144&u)throw"e";i[s+l]=240|u>>18,i[s+l+1]=128|u>>12&63,i[s+l+2]=128|u>>6&63,i[s+l+3]=128|u>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var s=i.length,o=0,a=0;a<s;a++){var l=i.charCodeAt(a);if(!(4294967168&l))o++;else if(!(4294965248&l))o+=2;else if(!(4294901760&l))o+=3;else{if(4292870144&l)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(i,s,o,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],c=r.F.U,u=r.F._goodIndex;r.F._hash;var d=r.F._putsE,h=0,p=o<<3,m=0,v=i.length;if(a==0){for(;h<v;)d(s,p,h+(k=Math.min(65535,v-h))==v?1:0),p=r.F._copyExact(i,h,k,s,p+8),h+=k;return p>>>3}var x=c.lits,g=c.strt,w=c.prev,_=0,E=0,S=0,I=0,C=0,b=0;for(v>2&&(g[b=r.F._hash(i,0)]=0),h=0;h<v;h++){if(C=b,h+1<v-2){b=r.F._hash(i,h+1);var R=h+1&32767;w[R]=g[b],g[b]=R}if(m<=h){(_>14e3||E>26697)&&v-h>100&&(m<h&&(x[_]=h-m,_+=2,m=h),p=r.F._writeBlock(h==v-1||m==v?1:0,x,_,I,i,S,h-S,s,p),_=E=I=0,S=h);var T=0;h<v-2&&(T=r.F._bestMatch(i,h,w,C,Math.min(l[2],v-h),l[3]));var k=T>>>16,N=65535&T;if(T!=0){N=65535&T;var M=u(k=T>>>16,c.of0);c.lhst[257+M]++;var L=u(N,c.df0);c.dhst[L]++,I+=c.exb[M]+c.dxb[L],x[_]=k<<23|h-m,x[_+1]=N<<16|M<<8|L,_+=2,m=h+k}else c.lhst[i[h]]++;E++}}for(S==h&&i.length!=0||(m<h&&(x[_]=h-m,_+=2,m=h),p=r.F._writeBlock(1,x,_,I,i,S,h-S,s,p),_=0,E=0,_=E=I=0,S=h);7&p;)p++;return p>>>3},r.F._bestMatch=function(i,s,o,a,l,c){var u=32767&s,d=o[u],h=u-d+32768&32767;if(d==u||a!=r.F._hash(i,s-h))return 0;for(var p=0,m=0,v=Math.min(32767,s);h<=v&&--c!=0&&d!=u;){if(p==0||i[s+p]==i[s+p-h]){var x=r.F._howLong(i,s,h);if(x>p){if(m=h,(p=x)>=l)break;h+2<x&&(x=h+2);for(var g=0,w=0;w<x-2;w++){var _=s-h+w+32768&32767,E=_-o[_]+32768&32767;E>g&&(g=E,d=_)}}}h+=(u=d)-(d=o[u])+32768&32767}return p<<16|m},r.F._howLong=function(i,s,o){if(i[s]!=i[s-o]||i[s+1]!=i[s+1-o]||i[s+2]!=i[s+2-o])return 0;var a=s,l=Math.min(i.length,s+258);for(s+=3;s<l&&i[s]==i[s-o];)s++;return s-a},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,o,a,l,c,u,d,h){var p,m,v,x,g,w,_,E,S,I=r.F.U,C=r.F._putsF,b=r.F._putsE;I.lhst[256]++,m=(p=r.F.getTrees())[0],v=p[1],x=p[2],g=p[3],w=p[4],_=p[5],E=p[6],S=p[7];var R=32+(h+3&7?8-(h+3&7):0)+(u<<3),T=a+r.F.contSize(I.fltree,I.lhst)+r.F.contSize(I.fdtree,I.dhst),k=a+r.F.contSize(I.ltree,I.lhst)+r.F.contSize(I.dtree,I.dhst);k+=14+3*_+r.F.contSize(I.itree,I.ihst)+(2*I.ihst[16]+3*I.ihst[17]+7*I.ihst[18]);for(var N=0;N<286;N++)I.lhst[N]=0;for(N=0;N<30;N++)I.dhst[N]=0;for(N=0;N<19;N++)I.ihst[N]=0;var M=R<T&&R<k?0:T<k?1:2;if(C(d,h,i),C(d,h+1,M),h+=3,M==0){for(;7&h;)h++;h=r.F._copyExact(l,c,u,d,h)}else{var L,j;if(M==1&&(L=I.fltree,j=I.fdtree),M==2){r.F.makeCodes(I.ltree,m),r.F.revCodes(I.ltree,m),r.F.makeCodes(I.dtree,v),r.F.revCodes(I.dtree,v),r.F.makeCodes(I.itree,x),r.F.revCodes(I.itree,x),L=I.ltree,j=I.dtree,b(d,h,g-257),b(d,h+=5,w-1),b(d,h+=5,_-4),h+=4;for(var P=0;P<_;P++)b(d,h+3*P,I.itree[1+(I.ordr[P]<<1)]);h+=3*_,h=r.F._codeTiny(E,I.itree,d,h),h=r.F._codeTiny(S,I.itree,d,h)}for(var A=c,O=0;O<o;O+=2){for(var $=s[O],F=$>>>23,q=A+(8388607&$);A<q;)h=r.F._writeLit(l[A++],L,d,h);if(F!=0){var W=s[O+1],z=W>>16,B=W>>8&255,V=255&W;b(d,h=r.F._writeLit(257+B,L,d,h),F-I.of0[B]),h+=I.exb[B],C(d,h=r.F._writeLit(V,j,d,h),z-I.df0[V]),h+=I.dxb[V],A+=F}}h=r.F._writeLit(256,L,d,h)}return h},r.F._copyExact=function(i,s,o,a,l){var c=l>>>3;return a[c]=o,a[c+1]=o>>>8,a[c+2]=255-a[c],a[c+3]=255-a[c+1],c+=4,a.set(new Uint8Array(i.buffer,s,o),c),l+(o+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),o=r.F._hufTree(i.dhst,i.dtree,15),a=[],l=r.F._lenCodes(i.ltree,a),c=[],u=r.F._lenCodes(i.dtree,c),d=0;d<a.length;d+=2)i.ihst[a[d]]++;for(d=0;d<c.length;d+=2)i.ihst[c[d]]++;for(var h=r.F._hufTree(i.ihst,i.itree,7),p=19;p>4&&i.itree[1+(i.ordr[p-1]<<1)]==0;)p--;return[s,o,h,l,u,p,a,c]},r.F.getSecond=function(i){for(var s=[],o=0;o<i.length;o+=2)s.push(i[o+1]);return s},r.F.nonZero=function(i){for(var s="",o=0;o<i.length;o+=2)i[o+1]!=0&&(s+=(o>>1)+",");return s},r.F.contSize=function(i,s){for(var o=0,a=0;a<s.length;a++)o+=s[a]*i[1+(a<<1)];return o},r.F._codeTiny=function(i,s,o,a){for(var l=0;l<i.length;l+=2){var c=i[l],u=i[l+1];a=r.F._writeLit(c,s,o,a);var d=c==16?2:c==17?3:7;c>15&&(r.F._putsE(o,a,u,d),a+=d)}return a},r.F._lenCodes=function(i,s){for(var o=i.length;o!=2&&i[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var l=i[a+1],c=a+3<o?i[a+3]:-1,u=a+5<o?i[a+5]:-1,d=a==0?-1:i[a-1];if(l==0&&c==l&&u==l){for(var h=a+5;h+2<o&&i[h+2]==l;)h+=2;(p=Math.min(h+1-a>>>1,138))<11?s.push(17,p-3):s.push(18,p-11),a+=2*p-2}else if(l==d&&c==l&&u==l){for(h=a+5;h+2<o&&i[h+2]==l;)h+=2;var p=Math.min(h+1-a>>>1,6);s.push(16,p-3),a+=2*p-2}else s.push(l,0)}return o>>>1},r.F._hufTree=function(i,s,o){var a=[],l=i.length,c=s.length,u=0;for(u=0;u<c;u+=2)s[u]=0,s[u+1]=0;for(u=0;u<l;u++)i[u]!=0&&a.push({lit:u,f:i[u]});var d=a.length,h=a.slice(0);if(d==0)return 0;if(d==1){var p=a[0].lit;return h=p==0?1:0,s[1+(p<<1)]=1,s[1+(h<<1)]=1,1}a.sort(function(E,S){return E.f-S.f});var m=a[0],v=a[1],x=0,g=1,w=2;for(a[0]={lit:-1,f:m.f+v.f,l:m,r:v,d:0};g!=d-1;)m=x!=g&&(w==d||a[x].f<a[w].f)?a[x++]:a[w++],v=x!=g&&(w==d||a[x].f<a[w].f)?a[x++]:a[w++],a[g++]={lit:-1,f:m.f+v.f,l:m,r:v};var _=r.F.setDepth(a[g-1],0);for(_>o&&(r.F.restrictDepth(h,o,_),_=o),u=0;u<d;u++)s[1+(h[u].lit<<1)]=h[u].d;return _},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,o){var a=0,l=1<<o-s,c=0;for(i.sort(function(d,h){return h.d==d.d?d.f-h.f:h.d-d.d}),a=0;a<i.length&&i[a].d>s;a++){var u=i[a].d;i[a].d=s,c+=l-(1<<o-u)}for(c>>>=o-s;c>0;)(u=i[a].d)<s?(i[a].d++,c-=1<<s-u-1):a++;for(;a>=0;a--)i[a].d==s&&c<0&&(i[a].d--,c++);c!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var o=0;return s[16|o]<=i&&(o|=16),s[8|o]<=i&&(o|=8),s[4|o]<=i&&(o|=4),s[2|o]<=i&&(o|=2),s[1|o]<=i&&(o|=1),o},r.F._writeLit=function(i,s,o,a){return r.F._putsF(o,a,s[i<<1]),a+s[1+(i<<1)]},r.F.inflate=function(i,s){var o=Uint8Array;if(i[0]==3&&i[1]==0)return s||new o(0);var a=r.F,l=a._bitsF,c=a._bitsE,u=a._decodeTiny,d=a.makeCodes,h=a.codes2map,p=a._get17,m=a.U,v=s==null;v&&(s=new o(i.length>>>2<<3));for(var x,g,w=0,_=0,E=0,S=0,I=0,C=0,b=0,R=0,T=0;w==0;)if(w=l(i,T,1),_=l(i,T+1,2),T+=3,_!=0){if(v&&(s=r.F._check(s,R+(1<<17))),_==1&&(x=m.flmap,g=m.fdmap,C=511,b=31),_==2){E=c(i,T,5)+257,S=c(i,T+5,5)+1,I=c(i,T+10,4)+4,T+=14;for(var k=0;k<38;k+=2)m.itree[k]=0,m.itree[k+1]=0;var N=1;for(k=0;k<I;k++){var M=c(i,T+3*k,3);m.itree[1+(m.ordr[k]<<1)]=M,M>N&&(N=M)}T+=3*I,d(m.itree,N),h(m.itree,N,m.imap),x=m.lmap,g=m.dmap,T=u(m.imap,(1<<N)-1,E+S,i,T,m.ttree);var L=a._copyOut(m.ttree,0,E,m.ltree);C=(1<<L)-1;var j=a._copyOut(m.ttree,E,S,m.dtree);b=(1<<j)-1,d(m.ltree,L),h(m.ltree,L,x),d(m.dtree,j),h(m.dtree,j,g)}for(;;){var P=x[p(i,T)&C];T+=15&P;var A=P>>>4;if(!(A>>>8))s[R++]=A;else{if(A==256)break;var O=R+A-254;if(A>264){var $=m.ldef[A-257];O=R+($>>>3)+c(i,T,7&$),T+=7&$}var F=g[p(i,T)&b];T+=15&F;var q=F>>>4,W=m.ddef[q],z=(W>>>4)+l(i,T,15&W);for(T+=15&W,v&&(s=r.F._check(s,R+(1<<17)));R<O;)s[R]=s[R++-z],s[R]=s[R++-z],s[R]=s[R++-z],s[R]=s[R++-z];R=O}}}else{7&T&&(T+=8-(7&T));var B=4+(T>>>3),V=i[B-4]|i[B-3]<<8;v&&(s=r.F._check(s,R+V)),s.set(new o(i.buffer,i.byteOffset+B,V),R),T=B+V<<3,R+=V}return s.length==R?s:s.slice(0,R)},r.F._check=function(i,s){var o=i.length;if(s<=o)return i;var a=new Uint8Array(Math.max(o<<1,s));return a.set(i,0),a},r.F._decodeTiny=function(i,s,o,a,l,c){for(var u=r.F._bitsE,d=r.F._get17,h=0;h<o;){var p=i[d(a,l)&s];l+=15&p;var m=p>>>4;if(m<=15)c[h]=m,h++;else{var v=0,x=0;m==16?(x=3+u(a,l,2),l+=2,v=c[h-1]):m==17?(x=3+u(a,l,3),l+=3):m==18&&(x=11+u(a,l,7),l+=7);for(var g=h+x;h<g;)c[h]=v,h++}}return l},r.F._copyOut=function(i,s,o,a){for(var l=0,c=0,u=a.length>>>1;c<o;){var d=i[c+s];a[c<<1]=0,a[1+(c<<1)]=d,d>l&&(l=d),c++}for(;c<u;)a[c<<1]=0,a[1+(c<<1)]=0,c++;return l},r.F.makeCodes=function(i,s){for(var o,a,l,c,u=r.F.U,d=i.length,h=u.bl_count,p=0;p<=s;p++)h[p]=0;for(p=1;p<d;p+=2)h[i[p]]++;var m=u.next_code;for(o=0,h[0]=0,a=1;a<=s;a++)o=o+h[a-1]<<1,m[a]=o;for(l=0;l<d;l+=2)(c=i[l+1])!=0&&(i[l]=m[c],m[c]++)},r.F.codes2map=function(i,s,o){for(var a=i.length,l=r.F.U.rev15,c=0;c<a;c+=2)if(i[c+1]!=0)for(var u=c>>1,d=i[c+1],h=u<<4|d,p=s-d,m=i[c]<<p,v=m+(1<<p);m!=v;)o[l[m]>>>15-s]=h,m++},r.F.revCodes=function(i,s){for(var o=r.F.U.rev15,a=15-s,l=0;l<i.length;l+=2){var c=i[l]<<s-i[l+1];i[l]=o[c]>>>a}},r.F._putsE=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8},r.F._putsF=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8,i[a+2]|=o>>>16},r.F._bitsE=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<o)-1},r.F._bitsF=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<o)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var o=s;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,i.rev15[s]=(o>>>16|o<<16)>>>17}function a(l,c,u){for(;c--!=0;)l.push(0,u)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),a(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var gle=fle({__proto__:null,default:qm},[qm]);const Ai=function(){var t={nextZero(u,d){for(;u[d]!=0;)d++;return d},readUshort:(u,d)=>u[d]<<8|u[d+1],writeUshort(u,d,h){u[d]=h>>8&255,u[d+1]=255&h},readUint:(u,d)=>16777216*u[d]+(u[d+1]<<16|u[d+2]<<8|u[d+3]),writeUint(u,d,h){u[d]=h>>24&255,u[d+1]=h>>16&255,u[d+2]=h>>8&255,u[d+3]=255&h},readASCII(u,d,h){let p="";for(let m=0;m<h;m++)p+=String.fromCharCode(u[d+m]);return p},writeASCII(u,d,h){for(let p=0;p<h.length;p++)u[d+p]=h.charCodeAt(p)},readBytes(u,d,h){const p=[];for(let m=0;m<h;m++)p.push(u[d+m]);return p},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,d,h){let p,m="";for(let v=0;v<h;v++)m+=`%${t.pad(u[d+v].toString(16))}`;try{p=decodeURIComponent(m)}catch{return t.readASCII(u,d,h)}return p}};function e(u,d,h,p){const m=d*h,v=s(p),x=Math.ceil(d*v/8),g=new Uint8Array(4*m),w=new Uint32Array(g.buffer),{ctype:_}=p,{depth:E}=p,S=t.readUshort;if(_==6){const $=m<<2;if(E==8)for(var I=0;I<$;I+=4)g[I]=u[I],g[I+1]=u[I+1],g[I+2]=u[I+2],g[I+3]=u[I+3];if(E==16)for(I=0;I<$;I++)g[I]=u[I<<1]}else if(_==2){const $=p.tabs.tRNS;if($==null){if(E==8)for(I=0;I<m;I++){var C=3*I;w[I]=255<<24|u[C+2]<<16|u[C+1]<<8|u[C]}if(E==16)for(I=0;I<m;I++)C=6*I,w[I]=255<<24|u[C+4]<<16|u[C+2]<<8|u[C]}else{var b=$[0];const F=$[1],q=$[2];if(E==8)for(I=0;I<m;I++){var R=I<<2;C=3*I,w[I]=255<<24|u[C+2]<<16|u[C+1]<<8|u[C],u[C]==b&&u[C+1]==F&&u[C+2]==q&&(g[R+3]=0)}if(E==16)for(I=0;I<m;I++)R=I<<2,C=6*I,w[I]=255<<24|u[C+4]<<16|u[C+2]<<8|u[C],S(u,C)==b&&S(u,C+2)==F&&S(u,C+4)==q&&(g[R+3]=0)}}else if(_==3){const $=p.tabs.PLTE,F=p.tabs.tRNS,q=F?F.length:0;if(E==1)for(var T=0;T<h;T++){var k=T*x,N=T*d;for(I=0;I<d;I++){R=N+I<<2;var M=3*(L=u[k+(I>>3)]>>7-((7&I)<<0)&1);g[R]=$[M],g[R+1]=$[M+1],g[R+2]=$[M+2],g[R+3]=L<q?F[L]:255}}if(E==2)for(T=0;T<h;T++)for(k=T*x,N=T*d,I=0;I<d;I++)R=N+I<<2,M=3*(L=u[k+(I>>2)]>>6-((3&I)<<1)&3),g[R]=$[M],g[R+1]=$[M+1],g[R+2]=$[M+2],g[R+3]=L<q?F[L]:255;if(E==4)for(T=0;T<h;T++)for(k=T*x,N=T*d,I=0;I<d;I++)R=N+I<<2,M=3*(L=u[k+(I>>1)]>>4-((1&I)<<2)&15),g[R]=$[M],g[R+1]=$[M+1],g[R+2]=$[M+2],g[R+3]=L<q?F[L]:255;if(E==8)for(I=0;I<m;I++){var L;R=I<<2,M=3*(L=u[I]),g[R]=$[M],g[R+1]=$[M+1],g[R+2]=$[M+2],g[R+3]=L<q?F[L]:255}}else if(_==4){if(E==8)for(I=0;I<m;I++){R=I<<2;var j=u[P=I<<1];g[R]=j,g[R+1]=j,g[R+2]=j,g[R+3]=u[P+1]}if(E==16)for(I=0;I<m;I++){var P;R=I<<2,j=u[P=I<<2],g[R]=j,g[R+1]=j,g[R+2]=j,g[R+3]=u[P+2]}}else if(_==0)for(b=p.tabs.tRNS?p.tabs.tRNS:-1,T=0;T<h;T++){const $=T*x,F=T*d;if(E==1)for(var A=0;A<d;A++){var O=(j=255*(u[$+(A>>>3)]>>>7-(7&A)&1))==255*b?0:255;w[F+A]=O<<24|j<<16|j<<8|j}else if(E==2)for(A=0;A<d;A++)O=(j=85*(u[$+(A>>>2)]>>>6-((3&A)<<1)&3))==85*b?0:255,w[F+A]=O<<24|j<<16|j<<8|j;else if(E==4)for(A=0;A<d;A++)O=(j=17*(u[$+(A>>>1)]>>>4-((1&A)<<2)&15))==17*b?0:255,w[F+A]=O<<24|j<<16|j<<8|j;else if(E==8)for(A=0;A<d;A++)O=(j=u[$+A])==b?0:255,w[F+A]=O<<24|j<<16|j<<8|j;else if(E==16)for(A=0;A<d;A++)j=u[$+(A<<1)],O=S(u,$+(A<<1))==b?0:255,w[F+A]=O<<24|j<<16|j<<8|j}return g}function n(u,d,h,p){const m=s(u),v=Math.ceil(h*m/8),x=new Uint8Array((v+1+u.interlace)*p);return d=u.tabs.CgBI?i(d,x):r(d,x),u.interlace==0?d=o(d,u,0,h,p):u.interlace==1&&(d=function(w,_){const E=_.width,S=_.height,I=s(_),C=I>>3,b=Math.ceil(E*I/8),R=new Uint8Array(S*b);let T=0;const k=[0,0,4,0,2,0,1],N=[0,4,0,2,0,1,0],M=[8,8,8,4,4,2,2],L=[8,8,4,4,2,2,1];let j=0;for(;j<7;){const A=M[j],O=L[j];let $=0,F=0,q=k[j];for(;q<S;)q+=A,F++;let W=N[j];for(;W<E;)W+=O,$++;const z=Math.ceil($*I/8);o(w,_,T,$,F);let B=0,V=k[j];for(;V<S;){let G=N[j],ie=T+B*z<<3;for(;G<E;){var P;if(I==1&&(P=(P=w[ie>>3])>>7-(7&ie)&1,R[V*b+(G>>3)]|=P<<7-((7&G)<<0)),I==2&&(P=(P=w[ie>>3])>>6-(7&ie)&3,R[V*b+(G>>2)]|=P<<6-((3&G)<<1)),I==4&&(P=(P=w[ie>>3])>>4-(7&ie)&15,R[V*b+(G>>1)]|=P<<4-((1&G)<<2)),I>=8){const le=V*b+G*C;for(let ee=0;ee<C;ee++)R[le+ee]=w[(ie>>3)+ee]}ie+=I,G+=O}B++,V+=A}$*F!=0&&(T+=F*(1+z)),j+=1}return R}(d,u)),d}function r(u,d){return i(new Uint8Array(u.buffer,2,u.length-6),d)}var i=function(){const u={H:{}};return u.H.N=function(d,h){const p=Uint8Array;let m,v,x=0,g=0,w=0,_=0,E=0,S=0,I=0,C=0,b=0;if(d[0]==3&&d[1]==0)return h||new p(0);const R=u.H,T=R.b,k=R.e,N=R.R,M=R.n,L=R.A,j=R.Z,P=R.m,A=h==null;for(A&&(h=new p(d.length>>>2<<5));x==0;)if(x=T(d,b,1),g=T(d,b+1,2),b+=3,g!=0){if(A&&(h=u.H.W(h,C+(1<<17))),g==1&&(m=P.J,v=P.h,S=511,I=31),g==2){w=k(d,b,5)+257,_=k(d,b+5,5)+1,E=k(d,b+10,4)+4,b+=14;let $=1;for(var O=0;O<38;O+=2)P.Q[O]=0,P.Q[O+1]=0;for(O=0;O<E;O++){const W=k(d,b+3*O,3);P.Q[1+(P.X[O]<<1)]=W,W>$&&($=W)}b+=3*E,M(P.Q,$),L(P.Q,$,P.u),m=P.w,v=P.d,b=N(P.u,(1<<$)-1,w+_,d,b,P.v);const F=R.V(P.v,0,w,P.C);S=(1<<F)-1;const q=R.V(P.v,w,_,P.D);I=(1<<q)-1,M(P.C,F),L(P.C,F,m),M(P.D,q),L(P.D,q,v)}for(;;){const $=m[j(d,b)&S];b+=15&$;const F=$>>>4;if(!(F>>>8))h[C++]=F;else{if(F==256)break;{let q=C+F-254;if(F>264){const G=P.q[F-257];q=C+(G>>>3)+k(d,b,7&G),b+=7&G}const W=v[j(d,b)&I];b+=15&W;const z=W>>>4,B=P.c[z],V=(B>>>4)+T(d,b,15&B);for(b+=15&B;C<q;)h[C]=h[C++-V],h[C]=h[C++-V],h[C]=h[C++-V],h[C]=h[C++-V];C=q}}}}else{7&b&&(b+=8-(7&b));const $=4+(b>>>3),F=d[$-4]|d[$-3]<<8;A&&(h=u.H.W(h,C+F)),h.set(new p(d.buffer,d.byteOffset+$,F),C),b=$+F<<3,C+=F}return h.length==C?h:h.slice(0,C)},u.H.W=function(d,h){const p=d.length;if(h<=p)return d;const m=new Uint8Array(p<<1);return m.set(d,0),m},u.H.R=function(d,h,p,m,v,x){const g=u.H.e,w=u.H.Z;let _=0;for(;_<p;){const E=d[w(m,v)&h];v+=15&E;const S=E>>>4;if(S<=15)x[_]=S,_++;else{let I=0,C=0;S==16?(C=3+g(m,v,2),v+=2,I=x[_-1]):S==17?(C=3+g(m,v,3),v+=3):S==18&&(C=11+g(m,v,7),v+=7);const b=_+C;for(;_<b;)x[_]=I,_++}}return v},u.H.V=function(d,h,p,m){let v=0,x=0;const g=m.length>>>1;for(;x<p;){const w=d[x+h];m[x<<1]=0,m[1+(x<<1)]=w,w>v&&(v=w),x++}for(;x<g;)m[x<<1]=0,m[1+(x<<1)]=0,x++;return v},u.H.n=function(d,h){const p=u.H.m,m=d.length;let v,x,g,w;const _=p.j;for(var E=0;E<=h;E++)_[E]=0;for(E=1;E<m;E+=2)_[d[E]]++;const S=p.K;for(v=0,_[0]=0,x=1;x<=h;x++)v=v+_[x-1]<<1,S[x]=v;for(g=0;g<m;g+=2)w=d[g+1],w!=0&&(d[g]=S[w],S[w]++)},u.H.A=function(d,h,p){const m=d.length,v=u.H.m.r;for(let x=0;x<m;x+=2)if(d[x+1]!=0){const g=x>>1,w=d[x+1],_=g<<4|w,E=h-w;let S=d[x]<<E;const I=S+(1<<E);for(;S!=I;)p[v[S]>>>15-h]=_,S++}},u.H.l=function(d,h){const p=u.H.m.r,m=15-h;for(let v=0;v<d.length;v+=2){const x=d[v]<<h-d[v+1];d[v]=p[x]>>>m}},u.H.M=function(d,h,p){p<<=7&h;const m=h>>>3;d[m]|=p,d[m+1]|=p>>>8},u.H.I=function(d,h,p){p<<=7&h;const m=h>>>3;d[m]|=p,d[m+1]|=p>>>8,d[m+2]|=p>>>16},u.H.e=function(d,h,p){return(d[h>>>3]|d[1+(h>>>3)]<<8)>>>(7&h)&(1<<p)-1},u.H.b=function(d,h,p){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16)>>>(7&h)&(1<<p)-1},u.H.Z=function(d,h){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16)>>>(7&h)},u.H.i=function(d,h){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16|d[3+(h>>>3)]<<24)>>>(7&h)},u.H.m=function(){const d=Uint16Array,h=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new h(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new h(286),Y:new h(30),a:new h(19),t:new h(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=u.H.m;for(var h=0;h<32768;h++){let m=h;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,d.r[h]=(m>>>16|m<<16)>>>17}function p(m,v,x){for(;v--!=0;)m.push(0,x)}for(h=0;h<32;h++)d.q[h]=d.S[h]<<3|d.T[h],d.c[h]=d.p[h]<<4|d.z[h];p(d._,144,8),p(d._,112,9),p(d._,24,7),p(d._,8,8),u.H.n(d._,9),u.H.A(d._,9,d.J),u.H.l(d._,9),p(d.$,32,5),u.H.n(d.$,5),u.H.A(d.$,5,d.h),u.H.l(d.$,5),p(d.Q,19,0),p(d.C,286,0),p(d.D,30,0),p(d.v,320,0)}(),u.H.N}();function s(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function o(u,d,h,p,m){let v=s(d);const x=Math.ceil(p*v/8);let g,w;v=Math.ceil(v/8);let _=u[h],E=0;if(_>1&&(u[h]=[0,0,1][_-2]),_==3)for(E=v;E<x;E++)u[E+1]=u[E+1]+(u[E+1-v]>>>1)&255;for(let S=0;S<m;S++)if(g=h+S*x,w=g+S+1,_=u[w-1],E=0,_==0)for(;E<x;E++)u[g+E]=u[w+E];else if(_==1){for(;E<v;E++)u[g+E]=u[w+E];for(;E<x;E++)u[g+E]=u[w+E]+u[g+E-v]}else if(_==2)for(;E<x;E++)u[g+E]=u[w+E]+u[g+E-x];else if(_==3){for(;E<v;E++)u[g+E]=u[w+E]+(u[g+E-x]>>>1);for(;E<x;E++)u[g+E]=u[w+E]+(u[g+E-x]+u[g+E-v]>>>1)}else{for(;E<v;E++)u[g+E]=u[w+E]+a(0,u[g+E-x],0);for(;E<x;E++)u[g+E]=u[w+E]+a(u[g+E-v],u[g+E-x],u[g+E-v-x])}return u}function a(u,d,h){const p=u+d-h,m=p-u,v=p-d,x=p-h;return m*m<=v*v&&m*m<=x*x?u:v*v<=x*x?d:h}function l(u,d,h){h.width=t.readUint(u,d),d+=4,h.height=t.readUint(u,d),d+=4,h.depth=u[d],d++,h.ctype=u[d],d++,h.compress=u[d],d++,h.filter=u[d],d++,h.interlace=u[d],d++}function c(u,d,h,p,m,v,x,g,w){const _=Math.min(d,m),E=Math.min(h,v);let S=0,I=0;for(let j=0;j<E;j++)for(let P=0;P<_;P++)if(x>=0&&g>=0?(S=j*d+P<<2,I=(g+j)*m+x+P<<2):(S=(-g+j)*d-x+P<<2,I=j*m+P<<2),w==0)p[I]=u[S],p[I+1]=u[S+1],p[I+2]=u[S+2],p[I+3]=u[S+3];else if(w==1){var C=u[S+3]*.00392156862745098,b=u[S]*C,R=u[S+1]*C,T=u[S+2]*C,k=p[I+3]*(1/255),N=p[I]*k,M=p[I+1]*k,L=p[I+2]*k;const A=1-C,O=C+k*A,$=O==0?0:1/O;p[I+3]=255*O,p[I+0]=(b+N*A)*$,p[I+1]=(R+M*A)*$,p[I+2]=(T+L*A)*$}else if(w==2)C=u[S+3],b=u[S],R=u[S+1],T=u[S+2],k=p[I+3],N=p[I],M=p[I+1],L=p[I+2],C==k&&b==N&&R==M&&T==L?(p[I]=0,p[I+1]=0,p[I+2]=0,p[I+3]=0):(p[I]=b,p[I+1]=R,p[I+2]=T,p[I+3]=C);else if(w==3){if(C=u[S+3],b=u[S],R=u[S+1],T=u[S+2],k=p[I+3],N=p[I],M=p[I+1],L=p[I+2],C==k&&b==N&&R==M&&T==L)continue;if(C<220&&k>20)return!1}return!0}return{decode:function(d){const h=new Uint8Array(d);let p=8;const m=t,v=m.readUshort,x=m.readUint,g={tabs:{},frames:[]},w=new Uint8Array(h.length);let _,E=0,S=0;const I=[137,80,78,71,13,10,26,10];for(var C=0;C<8;C++)if(h[C]!=I[C])throw"The input is not a PNG file!";for(;p<h.length;){const j=m.readUint(h,p);p+=4;const P=m.readASCII(h,p,4);if(p+=4,P=="IHDR")l(h,p,g);else if(P=="iCCP"){for(var b=p;h[b]!=0;)b++;m.readASCII(h,p,b-p),h[b+1];const A=h.slice(b+2,p+j);let O=null;try{O=r(A)}catch{O=i(A)}g.tabs[P]=O}else if(P=="CgBI")g.tabs[P]=h.slice(p,p+4);else if(P=="IDAT"){for(C=0;C<j;C++)w[E+C]=h[p+C];E+=j}else if(P=="acTL")g.tabs[P]={num_frames:x(h,p),num_plays:x(h,p+4)},_=new Uint8Array(h.length);else if(P=="fcTL"){S!=0&&((L=g.frames[g.frames.length-1]).data=n(g,_.slice(0,S),L.rect.width,L.rect.height),S=0);const A={x:x(h,p+12),y:x(h,p+16),width:x(h,p+4),height:x(h,p+8)};let O=v(h,p+22);O=v(h,p+20)/(O==0?100:O);const $={rect:A,delay:Math.round(1e3*O),dispose:h[p+24],blend:h[p+25]};g.frames.push($)}else if(P=="fdAT"){for(C=0;C<j-4;C++)_[S+C]=h[p+C+4];S+=j-4}else if(P=="pHYs")g.tabs[P]=[m.readUint(h,p),m.readUint(h,p+4),h[p+8]];else if(P=="cHRM")for(g.tabs[P]=[],C=0;C<8;C++)g.tabs[P].push(m.readUint(h,p+4*C));else if(P=="tEXt"||P=="zTXt"){g.tabs[P]==null&&(g.tabs[P]={});var R=m.nextZero(h,p),T=m.readASCII(h,p,R-p),k=p+j-R-1;if(P=="tEXt")M=m.readASCII(h,R+1,k);else{var N=r(h.slice(R+2,R+2+k));M=m.readUTF8(N,0,N.length)}g.tabs[P][T]=M}else if(P=="iTXt"){g.tabs[P]==null&&(g.tabs[P]={}),R=0,b=p,R=m.nextZero(h,b),T=m.readASCII(h,b,R-b);const A=h[b=R+1];var M;h[b+1],b+=2,R=m.nextZero(h,b),m.readASCII(h,b,R-b),b=R+1,R=m.nextZero(h,b),m.readUTF8(h,b,R-b),k=j-((b=R+1)-p),A==0?M=m.readUTF8(h,b,k):(N=r(h.slice(b,b+k)),M=m.readUTF8(N,0,N.length)),g.tabs[P][T]=M}else if(P=="PLTE")g.tabs[P]=m.readBytes(h,p,j);else if(P=="hIST"){const A=g.tabs.PLTE.length/3;for(g.tabs[P]=[],C=0;C<A;C++)g.tabs[P].push(v(h,p+2*C))}else if(P=="tRNS")g.ctype==3?g.tabs[P]=m.readBytes(h,p,j):g.ctype==0?g.tabs[P]=v(h,p):g.ctype==2&&(g.tabs[P]=[v(h,p),v(h,p+2),v(h,p+4)]);else if(P=="gAMA")g.tabs[P]=m.readUint(h,p)/1e5;else if(P=="sRGB")g.tabs[P]=h[p];else if(P=="bKGD")g.ctype==0||g.ctype==4?g.tabs[P]=[v(h,p)]:g.ctype==2||g.ctype==6?g.tabs[P]=[v(h,p),v(h,p+2),v(h,p+4)]:g.ctype==3&&(g.tabs[P]=h[p]);else if(P=="IEND")break;p+=j,m.readUint(h,p),p+=4}var L;return S!=0&&((L=g.frames[g.frames.length-1]).data=n(g,_.slice(0,S),L.rect.width,L.rect.height)),g.data=n(g,w,g.width,g.height),delete g.compress,delete g.interlace,delete g.filter,g},toRGBA8:function(d){const h=d.width,p=d.height;if(d.tabs.acTL==null)return[e(d.data,h,p,d).buffer];const m=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const v=h*p*4,x=new Uint8Array(v),g=new Uint8Array(v),w=new Uint8Array(v);for(let E=0;E<d.frames.length;E++){const S=d.frames[E],I=S.rect.x,C=S.rect.y,b=S.rect.width,R=S.rect.height,T=e(S.data,b,R,d);if(E!=0)for(var _=0;_<v;_++)w[_]=x[_];if(S.blend==0?c(T,b,R,x,h,p,I,C,0):S.blend==1&&c(T,b,R,x,h,p,I,C,1),m.push(x.buffer.slice(0)),S.dispose!=0){if(S.dispose==1)c(g,b,R,x,h,p,I,C,0);else if(S.dispose==2)for(_=0;_<v;_++)x[_]=w[_]}}return m},_paeth:a,_copyTile:c,_bin:t}}();(function(){const{_copyTile:t}=Ai,{_bin:e}=Ai,n=Ai._paeth;var r={table:function(){const b=new Uint32Array(256);for(let R=0;R<256;R++){let T=R;for(let k=0;k<8;k++)1&T?T=3988292384^T>>>1:T>>>=1;b[R]=T}return b}(),update(b,R,T,k){for(let N=0;N<k;N++)b=r.table[255&(b^R[T+N])]^b>>>8;return b},crc:(b,R,T)=>4294967295^r.update(4294967295,b,R,T)};function i(b,R,T,k){R[T]+=b[0]*k>>4,R[T+1]+=b[1]*k>>4,R[T+2]+=b[2]*k>>4,R[T+3]+=b[3]*k>>4}function s(b){return Math.max(0,Math.min(255,b))}function o(b,R){const T=b[0]-R[0],k=b[1]-R[1],N=b[2]-R[2],M=b[3]-R[3];return T*T+k*k+N*N+M*M}function a(b,R,T,k,N,M,L){L==null&&(L=1);const j=k.length,P=[];for(var A=0;A<j;A++){const V=k[A];P.push([V>>>0&255,V>>>8&255,V>>>16&255,V>>>24&255])}for(A=0;A<j;A++){let V=4294967295;for(var O=0,$=0;$<j;$++){var F=o(P[A],P[$]);$!=A&&F<V&&(V=F,O=$)}}const q=new Uint32Array(N.buffer),W=new Int16Array(R*T*4),z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(A=0;A<z.length;A++)z[A]=255*((z[A]+.5)/16-.5);for(let V=0;V<T;V++)for(let G=0;G<R;G++){var B;A=4*(V*R+G),L!=2?B=[s(b[A]+W[A]),s(b[A+1]+W[A+1]),s(b[A+2]+W[A+2]),s(b[A+3]+W[A+3])]:(F=z[4*(3&V)+(3&G)],B=[s(b[A]+F),s(b[A+1]+F),s(b[A+2]+F),s(b[A+3]+F)]),O=0;let ie=16777215;for($=0;$<j;$++){const he=o(B,P[$]);he<ie&&(ie=he,O=$)}const le=P[O],ee=[B[0]-le[0],B[1]-le[1],B[2]-le[2],B[3]-le[3]];L==1&&(G!=R-1&&i(ee,W,A+4,7),V!=T-1&&(G!=0&&i(ee,W,A+4*R-4,3),i(ee,W,A+4*R,5),G!=R-1&&i(ee,W,A+4*R+4,1))),M[A>>2]=O,q[A>>2]=k[O]}}function l(b,R,T,k,N){N==null&&(N={});const{crc:M}=r,L=e.writeUint,j=e.writeUshort,P=e.writeASCII;let A=8;const O=b.frames.length>1;let $,F=!1,q=33+(O?20:0);if(N.sRGB!=null&&(q+=13),N.pHYs!=null&&(q+=21),N.iCCP!=null&&($=pako.deflate(N.iCCP),q+=21+$.length+4),b.ctype==3){for(var W=b.plte.length,z=0;z<W;z++)b.plte[z]>>>24!=255&&(F=!0);q+=8+3*W+4+(F?8+1*W+4:0)}for(var B=0;B<b.frames.length;B++)O&&(q+=38),q+=(le=b.frames[B]).cimg.length+12,B!=0&&(q+=4);q+=12;const V=new Uint8Array(q),G=[137,80,78,71,13,10,26,10];for(z=0;z<8;z++)V[z]=G[z];if(L(V,A,13),A+=4,P(V,A,"IHDR"),A+=4,L(V,A,R),A+=4,L(V,A,T),A+=4,V[A]=b.depth,A++,V[A]=b.ctype,A++,V[A]=0,A++,V[A]=0,A++,V[A]=0,A++,L(V,A,M(V,A-17,17)),A+=4,N.sRGB!=null&&(L(V,A,1),A+=4,P(V,A,"sRGB"),A+=4,V[A]=N.sRGB,A++,L(V,A,M(V,A-5,5)),A+=4),N.iCCP!=null){const ee=13+$.length;L(V,A,ee),A+=4,P(V,A,"iCCP"),A+=4,P(V,A,"ICC profile"),A+=11,A+=2,V.set($,A),A+=$.length,L(V,A,M(V,A-(ee+4),ee+4)),A+=4}if(N.pHYs!=null&&(L(V,A,9),A+=4,P(V,A,"pHYs"),A+=4,L(V,A,N.pHYs[0]),A+=4,L(V,A,N.pHYs[1]),A+=4,V[A]=N.pHYs[2],A++,L(V,A,M(V,A-13,13)),A+=4),O&&(L(V,A,8),A+=4,P(V,A,"acTL"),A+=4,L(V,A,b.frames.length),A+=4,L(V,A,N.loop!=null?N.loop:0),A+=4,L(V,A,M(V,A-12,12)),A+=4),b.ctype==3){for(L(V,A,3*(W=b.plte.length)),A+=4,P(V,A,"PLTE"),A+=4,z=0;z<W;z++){const ee=3*z,he=b.plte[z],ce=255&he,oe=he>>>8&255,ge=he>>>16&255;V[A+ee+0]=ce,V[A+ee+1]=oe,V[A+ee+2]=ge}if(A+=3*W,L(V,A,M(V,A-3*W-4,3*W+4)),A+=4,F){for(L(V,A,W),A+=4,P(V,A,"tRNS"),A+=4,z=0;z<W;z++)V[A+z]=b.plte[z]>>>24&255;A+=W,L(V,A,M(V,A-W-4,W+4)),A+=4}}let ie=0;for(B=0;B<b.frames.length;B++){var le=b.frames[B];O&&(L(V,A,26),A+=4,P(V,A,"fcTL"),A+=4,L(V,A,ie++),A+=4,L(V,A,le.rect.width),A+=4,L(V,A,le.rect.height),A+=4,L(V,A,le.rect.x),A+=4,L(V,A,le.rect.y),A+=4,j(V,A,k[B]),A+=2,j(V,A,1e3),A+=2,V[A]=le.dispose,A++,V[A]=le.blend,A++,L(V,A,M(V,A-30,30)),A+=4);const ee=le.cimg;L(V,A,(W=ee.length)+(B==0?0:4)),A+=4;const he=A;P(V,A,B==0?"IDAT":"fdAT"),A+=4,B!=0&&(L(V,A,ie++),A+=4),V.set(ee,A),A+=W,L(V,A,M(V,he,A-he)),A+=4}return L(V,A,0),A+=4,P(V,A,"IEND"),A+=4,L(V,A,M(V,A-4,4)),A+=4,V.buffer}function c(b,R,T){for(let k=0;k<b.frames.length;k++){const N=b.frames[k];N.rect.width;const M=N.rect.height,L=new Uint8Array(M*N.bpl+M);N.cimg=p(N.img,M,N.bpp,N.bpl,L,R,T)}}function u(b,R,T,k,N){const M=N[0],L=N[1],j=N[2],P=N[3],A=N[4],O=N[5];let $=6,F=8,q=255;for(var W=0;W<b.length;W++){const _t=new Uint8Array(b[W]);for(var z=_t.length,B=0;B<z;B+=4)q&=_t[B+3]}const V=q!=255,G=function(Ve,De,st,dt,Te,It){const $e=[];for(var Ee=0;Ee<Ve.length;Ee++){const bt=new Uint8Array(Ve[Ee]),tn=new Uint32Array(bt.buffer);var St;let ln=0,fe=0,Ue=De,Ct=st,xr=dt?1:0;if(Ee!=0){const zl=It||dt||Ee==1||$e[Ee-2].dispose!=0?1:2;let Wl=0,Ie=1e9;for(let Qe=0;Qe<zl;Qe++){var an=new Uint8Array(Ve[Ee-1-Qe]);const Tt=new Uint32Array(Ve[Ee-1-Qe]);let rt=De,Ht=st,Er=-1,Cs=-1;for(let ni=0;ni<st;ni++)for(let _a=0;_a<De;_a++)tn[Re=ni*De+_a]!=Tt[Re]&&(_a<rt&&(rt=_a),_a>Er&&(Er=_a),ni<Ht&&(Ht=ni),ni>Cs&&(Cs=ni));Er==-1&&(rt=Ht=Er=Cs=0),Te&&((1&rt)==1&&rt--,(1&Ht)==1&&Ht--);const Hl=(Er-rt+1)*(Cs-Ht+1);Hl<Ie&&(Ie=Hl,Wl=Qe,ln=rt,fe=Ht,Ue=Er-rt+1,Ct=Cs-Ht+1)}an=new Uint8Array(Ve[Ee-1-Wl]),Wl==1&&($e[Ee-1].dispose=2),St=new Uint8Array(Ue*Ct*4),t(an,De,st,St,Ue,Ct,-ln,-fe,0),xr=t(bt,De,st,St,Ue,Ct,-ln,-fe,3)?1:0,xr==1?h(bt,De,st,St,{x:ln,y:fe,width:Ue,height:Ct}):t(bt,De,st,St,Ue,Ct,-ln,-fe,0)}else St=bt.slice(0);$e.push({rect:{x:ln,y:fe,width:Ue,height:Ct},img:St,blend:xr,dispose:0})}if(dt)for(Ee=0;Ee<$e.length;Ee++){if((me=$e[Ee]).blend==1)continue;const bt=me.rect,tn=$e[Ee-1].rect,ln=Math.min(bt.x,tn.x),fe=Math.min(bt.y,tn.y),Ue={x:ln,y:fe,width:Math.max(bt.x+bt.width,tn.x+tn.width)-ln,height:Math.max(bt.y+bt.height,tn.y+tn.height)-fe};$e[Ee-1].dispose=1,Ee-1!=0&&d(Ve,De,st,$e,Ee-1,Ue,Te),d(Ve,De,st,$e,Ee,Ue,Te)}let Mn=0;if(Ve.length!=1)for(var Re=0;Re<$e.length;Re++){var me;Mn+=(me=$e[Re]).rect.width*me.rect.height}return $e}(b,R,T,M,L,j),ie={},le=[],ee=[];if(k!=0){const _t=[];for(B=0;B<G.length;B++)_t.push(G[B].img.buffer);const Ve=function(Te){let It=0;for(var $e=0;$e<Te.length;$e++)It+=Te[$e].byteLength;const Ee=new Uint8Array(It);let St=0;for($e=0;$e<Te.length;$e++){const an=new Uint8Array(Te[$e]),Mn=an.length;for(let Re=0;Re<Mn;Re+=4){let me=an[Re],bt=an[Re+1],tn=an[Re+2];const ln=an[Re+3];ln==0&&(me=bt=tn=0),Ee[St+Re]=me,Ee[St+Re+1]=bt,Ee[St+Re+2]=tn,Ee[St+Re+3]=ln}St+=Mn}return Ee.buffer}(_t),De=v(Ve,k);for(B=0;B<De.plte.length;B++)le.push(De.plte[B].est.rgba);let st=0;for(B=0;B<G.length;B++){const dt=(ce=G[B]).img.length;var he=new Uint8Array(De.inds.buffer,st>>2,dt>>2);ee.push(he);const Te=new Uint8Array(De.abuf,st,dt);O&&a(ce.img,ce.rect.width,ce.rect.height,le,Te,he),ce.img.set(Te),st+=dt}}else for(W=0;W<G.length;W++){var ce=G[W];const _t=new Uint32Array(ce.img.buffer);var oe=ce.rect.width;for(z=_t.length,he=new Uint8Array(z),ee.push(he),B=0;B<z;B++){const Ve=_t[B];if(B!=0&&Ve==_t[B-1])he[B]=he[B-1];else if(B>oe&&Ve==_t[B-oe])he[B]=he[B-oe];else{let De=ie[Ve];if(De==null&&(ie[Ve]=De=le.length,le.push(Ve),le.length>=300))break;he[B]=De}}}const ge=le.length;for(ge<=256&&A==0&&(F=ge<=2?1:ge<=4?2:ge<=16?4:8,F=Math.max(F,P)),W=0;W<G.length;W++){(ce=G[W]).rect.x,ce.rect.y,oe=ce.rect.width;const _t=ce.rect.height;let Ve=ce.img;new Uint32Array(Ve.buffer);let De=4*oe,st=4;if(ge<=256&&A==0){De=Math.ceil(F*oe/8);var Se=new Uint8Array(De*_t);const dt=ee[W];for(let Te=0;Te<_t;Te++){B=Te*De;const It=Te*oe;if(F==8)for(var _e=0;_e<oe;_e++)Se[B+_e]=dt[It+_e];else if(F==4)for(_e=0;_e<oe;_e++)Se[B+(_e>>1)]|=dt[It+_e]<<4-4*(1&_e);else if(F==2)for(_e=0;_e<oe;_e++)Se[B+(_e>>2)]|=dt[It+_e]<<6-2*(3&_e);else if(F==1)for(_e=0;_e<oe;_e++)Se[B+(_e>>3)]|=dt[It+_e]<<7-1*(7&_e)}Ve=Se,$=3,st=1}else if(V==0&&G.length==1){Se=new Uint8Array(oe*_t*3);const dt=oe*_t;for(B=0;B<dt;B++){const Te=3*B,It=4*B;Se[Te]=Ve[It],Se[Te+1]=Ve[It+1],Se[Te+2]=Ve[It+2]}Ve=Se,$=2,st=3,De=3*oe}ce.img=Ve,ce.bpl=De,ce.bpp=st}return{ctype:$,depth:F,plte:le,frames:G}}function d(b,R,T,k,N,M,L){const j=Uint8Array,P=Uint32Array,A=new j(b[N-1]),O=new P(b[N-1]),$=N+1<b.length?new j(b[N+1]):null,F=new j(b[N]),q=new P(F.buffer);let W=R,z=T,B=-1,V=-1;for(let ie=0;ie<M.height;ie++)for(let le=0;le<M.width;le++){const ee=M.x+le,he=M.y+ie,ce=he*R+ee,oe=q[ce];oe==0||k[N-1].dispose==0&&O[ce]==oe&&($==null||$[4*ce+3]!=0)||(ee<W&&(W=ee),ee>B&&(B=ee),he<z&&(z=he),he>V&&(V=he))}B==-1&&(W=z=B=V=0),L&&((1&W)==1&&W--,(1&z)==1&&z--),M={x:W,y:z,width:B-W+1,height:V-z+1};const G=k[N];G.rect=M,G.blend=1,G.img=new Uint8Array(M.width*M.height*4),k[N-1].dispose==0?(t(A,R,T,G.img,M.width,M.height,-M.x,-M.y,0),h(F,R,T,G.img,M)):t(F,R,T,G.img,M.width,M.height,-M.x,-M.y,0)}function h(b,R,T,k,N){t(b,R,T,k,N.width,N.height,-N.x,-N.y,2)}function p(b,R,T,k,N,M,L){const j=[];let P,A=[0,1,2,3,4];M!=-1?A=[M]:(R*k>5e5||T==1)&&(A=[0]),L&&(P={level:0});const O=gle;for(var $=0;$<A.length;$++){for(let W=0;W<R;W++)m(N,b,W,k,T,A[$]);j.push(O.deflate(N,P))}let F,q=1e9;for($=0;$<j.length;$++)j[$].length<q&&(F=$,q=j[$].length);return j[F]}function m(b,R,T,k,N,M){const L=T*k;let j=L+T;if(b[j]=M,j++,M==0)if(k<500)for(var P=0;P<k;P++)b[j+P]=R[L+P];else b.set(new Uint8Array(R.buffer,L,k),j);else if(M==1){for(P=0;P<N;P++)b[j+P]=R[L+P];for(P=N;P<k;P++)b[j+P]=R[L+P]-R[L+P-N]+256&255}else if(T==0){for(P=0;P<N;P++)b[j+P]=R[L+P];if(M==2)for(P=N;P<k;P++)b[j+P]=R[L+P];if(M==3)for(P=N;P<k;P++)b[j+P]=R[L+P]-(R[L+P-N]>>1)+256&255;if(M==4)for(P=N;P<k;P++)b[j+P]=R[L+P]-n(R[L+P-N],0,0)+256&255}else{if(M==2)for(P=0;P<k;P++)b[j+P]=R[L+P]+256-R[L+P-k]&255;if(M==3){for(P=0;P<N;P++)b[j+P]=R[L+P]+256-(R[L+P-k]>>1)&255;for(P=N;P<k;P++)b[j+P]=R[L+P]+256-(R[L+P-k]+R[L+P-N]>>1)&255}if(M==4){for(P=0;P<N;P++)b[j+P]=R[L+P]+256-n(0,R[L+P-k],0)&255;for(P=N;P<k;P++)b[j+P]=R[L+P]+256-n(R[L+P-N],R[L+P-k],R[L+P-N-k])&255}}}function v(b,R){const T=new Uint8Array(b),k=T.slice(0),N=new Uint32Array(k.buffer),M=x(k,R),L=M[0],j=M[1],P=T.length,A=new Uint8Array(P>>2);let O;if(T.length<2e7)for(var $=0;$<P;$+=4)O=g(L,F=T[$]*(1/255),q=T[$+1]*(1/255),W=T[$+2]*(1/255),z=T[$+3]*(1/255)),A[$>>2]=O.ind,N[$>>2]=O.est.rgba;else for($=0;$<P;$+=4){var F=T[$]*.00392156862745098,q=T[$+1]*(1/255),W=T[$+2]*(1/255),z=T[$+3]*(1/255);for(O=L;O.left;)O=w(O.est,F,q,W,z)<=0?O.left:O.right;A[$>>2]=O.ind,N[$>>2]=O.est.rgba}return{abuf:k.buffer,inds:A,plte:j}}function x(b,R,T){T==null&&(T=1e-4);const k=new Uint32Array(b.buffer),N={i0:0,i1:b.length,bst:null,est:null,tdst:0,left:null,right:null};N.bst=S(b,N.i0,N.i1),N.est=I(N.bst);const M=[N];for(;M.length<R;){let j=0,P=0;for(var L=0;L<M.length;L++)M[L].est.L>j&&(j=M[L].est.L,P=L);if(j<T)break;const A=M[P],O=_(b,k,A.i0,A.i1,A.est.e,A.est.eMq255);if(A.i0>=O||A.i1<=O){A.est.L=0;continue}const $={i0:A.i0,i1:O,bst:null,est:null,tdst:0,left:null,right:null};$.bst=S(b,$.i0,$.i1),$.est=I($.bst);const F={i0:O,i1:A.i1,bst:null,est:null,tdst:0,left:null,right:null};for(F.bst={R:[],m:[],N:A.bst.N-$.bst.N},L=0;L<16;L++)F.bst.R[L]=A.bst.R[L]-$.bst.R[L];for(L=0;L<4;L++)F.bst.m[L]=A.bst.m[L]-$.bst.m[L];F.est=I(F.bst),A.left=$,A.right=F,M[P]=$,M.push(F)}for(M.sort((j,P)=>P.bst.N-j.bst.N),L=0;L<M.length;L++)M[L].ind=L;return[N,M]}function g(b,R,T,k,N){if(b.left==null)return b.tdst=function($,F,q,W,z){const B=F-$[0],V=q-$[1],G=W-$[2],ie=z-$[3];return B*B+V*V+G*G+ie*ie}(b.est.q,R,T,k,N),b;const M=w(b.est,R,T,k,N);let L=b.left,j=b.right;M>0&&(L=b.right,j=b.left);const P=g(L,R,T,k,N);if(P.tdst<=M*M)return P;const A=g(j,R,T,k,N);return A.tdst<P.tdst?A:P}function w(b,R,T,k,N){const{e:M}=b;return M[0]*R+M[1]*T+M[2]*k+M[3]*N-b.eMq}function _(b,R,T,k,N,M){for(k-=4;T<k;){for(;E(b,T,N)<=M;)T+=4;for(;E(b,k,N)>M;)k-=4;if(T>=k)break;const L=R[T>>2];R[T>>2]=R[k>>2],R[k>>2]=L,T+=4,k-=4}for(;E(b,T,N)>M;)T-=4;return T+4}function E(b,R,T){return b[R]*T[0]+b[R+1]*T[1]+b[R+2]*T[2]+b[R+3]*T[3]}function S(b,R,T){const k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N=[0,0,0,0],M=T-R>>2;for(let L=R;L<T;L+=4){const j=b[L]*.00392156862745098,P=b[L+1]*(1/255),A=b[L+2]*(1/255),O=b[L+3]*(1/255);N[0]+=j,N[1]+=P,N[2]+=A,N[3]+=O,k[0]+=j*j,k[1]+=j*P,k[2]+=j*A,k[3]+=j*O,k[5]+=P*P,k[6]+=P*A,k[7]+=P*O,k[10]+=A*A,k[11]+=A*O,k[15]+=O*O}return k[4]=k[1],k[8]=k[2],k[9]=k[6],k[12]=k[3],k[13]=k[7],k[14]=k[11],{R:k,m:N,N:M}}function I(b){const{R}=b,{m:T}=b,{N:k}=b,N=T[0],M=T[1],L=T[2],j=T[3],P=k==0?0:1/k,A=[R[0]-N*N*P,R[1]-N*M*P,R[2]-N*L*P,R[3]-N*j*P,R[4]-M*N*P,R[5]-M*M*P,R[6]-M*L*P,R[7]-M*j*P,R[8]-L*N*P,R[9]-L*M*P,R[10]-L*L*P,R[11]-L*j*P,R[12]-j*N*P,R[13]-j*M*P,R[14]-j*L*P,R[15]-j*j*P],O=A,$=C;let F=[Math.random(),Math.random(),Math.random(),Math.random()],q=0,W=0;if(k!=0)for(let B=0;B<16&&(F=$.multVec(O,F),W=Math.sqrt($.dot(F,F)),F=$.sml(1/W,F),!(B!=0&&Math.abs(W-q)<1e-9));B++)q=W;const z=[N*P,M*P,L*P,j*P];return{Cov:A,q:z,e:F,L:q,eMq255:$.dot($.sml(255,z),F),eMq:$.dot(F,z),rgba:(Math.round(255*z[3])<<24|Math.round(255*z[2])<<16|Math.round(255*z[1])<<8|Math.round(255*z[0])<<0)>>>0}}var C={multVec:(b,R)=>[b[0]*R[0]+b[1]*R[1]+b[2]*R[2]+b[3]*R[3],b[4]*R[0]+b[5]*R[1]+b[6]*R[2]+b[7]*R[3],b[8]*R[0]+b[9]*R[1]+b[10]*R[2]+b[11]*R[3],b[12]*R[0]+b[13]*R[1]+b[14]*R[2]+b[15]*R[3]],dot:(b,R)=>b[0]*R[0]+b[1]*R[1]+b[2]*R[2]+b[3]*R[3],sml:(b,R)=>[b*R[0],b*R[1],b*R[2],b*R[3]]};Ai.encode=function(R,T,k,N,M,L,j){N==null&&(N=0),j==null&&(j=!1);const P=u(R,T,k,N,[!1,!1,!1,0,j,!1]);return c(P,-1),l(P,T,k,M,L)},Ai.encodeLL=function(R,T,k,N,M,L,j,P){const A={ctype:0+(N==1?0:2)+(M==0?0:4),depth:L,frames:[]},O=(N+M)*L,$=O*T;for(let F=0;F<R.length;F++)A.frames.push({rect:{x:0,y:0,width:T,height:k},img:new Uint8Array(R[F]),blend:0,dispose:1,bpp:Math.ceil(O/8),bpl:Math.ceil($/8)});return c(A,0,!0),l(A,T,k,j,P)},Ai.encode.compress=u,Ai.encode.dither=a,Ai.quantize=v,Ai.quantize.getKDtree=x,Ai.quantize.getNearest=g})();const q7={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,s=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(s.data.buffer),a=(32*n+31)/32<<2,l=a*r,c=122+l,u=new ArrayBuffer(c),d=new DataView(u),h=1<<20;let p,m,v,x,g=h,w=0,_=0,E=0;function S(b){d.setUint16(_,b,!0),_+=2}function I(b){d.setUint32(_,b,!0),_+=4}function C(b){_+=b}S(19778),I(c),C(4),I(122),I(108),I(n),I(-r>>>0),S(1),S(32),I(3),I(l),I(2835),I(2835),C(8),I(16711680),I(65280),I(255),I(4278190080),I(1466527264),function b(){for(;w<r&&g>0;){for(x=122+w*a,p=0;p<i;)g--,m=o[E++],v=m>>>24,d.setUint32(x+p,m<<8|v),p+=4;w++}E<o.length?(g=h,setTimeout(b,q7._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Cr={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},vle={[Cr.CHROME]:16384,[Cr.FIREFOX]:11180,[Cr.DESKTOP_SAFARI]:16384,[Cr.IE]:8192,[Cr.IOS]:4096,[Cr.ETC]:8192};const a5=typeof window<"u",G7=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Gm=a5&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),yle=(a5||G7)&&(Gm&&Gm.getOriginalSymbol(window,"File")||typeof File<"u"&&File),K7=(a5||G7)&&(Gm&&Gm.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function l5(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),s=i[0].match(/:(.*?);/)[1],o=globalThis.atob(i[1]);let a=o.length;const l=new Uint8Array(a);for(;a--;)l[a]=o.charCodeAt(a);const c=new Blob([l],{type:s});c.name=e,c.lastModified=n,r(c)})}function Q7(t){return new Promise((e,n)=>{const r=new K7;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function Y7(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function Wa(){if(Wa.cachedResult!==void 0)return Wa.cachedResult;let t=Cr.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Cr.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Cr.IOS:/Safari/i.test(e)?t=Cr.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Cr.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Cr.IE),Wa.cachedResult=t,Wa.cachedResult}function X7(t,e){const n=Wa(),r=vle[n];let i=t,s=e,o=i*s;const a=i>s?s/i:i/s;for(;o>r*r;){const l=(r+i)/2,c=(r+s)/2;l<c?(s=c,i=c*a):(s=l*a,i=l),o=i*s}return{width:i,height:s}}function w1(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function J7(t,e){const{width:n,height:r}=X7(t.width,t.height),[i,s]=w1(n,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(t,0,0,i.width,i.height),i}function Cp(){return Cp.cachedResult!==void 0||(Cp.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Cp.cachedResult}function Km(t,e={}){return new Promise(function(n,r){let i,s;var o=function(){try{return s=J7(i,e.fileType||t.type),n([i,s])}catch(l){return r(l)}},a=function(l){try{var c=function(u){try{throw u}catch(d){return r(d)}};try{let u;return Q7(t).then(function(d){try{return u=d,Y7(u).then(function(h){try{return i=h,function(){try{return o()}catch(p){return r(p)}}()}catch(p){return c(p)}},c)}catch(h){return c(h)}},c)}catch(u){c(u)}}catch(u){return r(u)}};try{if(Cp()||[Cr.DESKTOP_SAFARI,Cr.MOBILE_SAFARI].includes(Wa()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,o()}catch{return a()}},a)}catch{a()}})}function Qm(t,e,n,r,i=1){return new Promise(function(s,o){let a;if(e==="image/png"){let d,h,p;return d=t.getContext("2d"),{data:h}=d.getImageData(0,0,t.width,t.height),p=Ai.encode([h.buffer],t.width,t.height,4096*i),a=new Blob([p],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let d=function(){return l.call(this)};var c=d;if(e==="image/bmp")return new Promise(h=>q7.toBlob(t,h)).then((function(h){try{return a=h,a.name=n,a.lastModified=r,d.call(this)}catch(p){return o(p)}}).bind(this),o);{let h=function(){return d.call(this)};var u=h;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(p){try{return a=p,a.name=n,a.lastModified=r,h.call(this)}catch(m){return o(m)}}).bind(this),o);{let p;return p=t.toDataURL(e,i),l5(p,n,r).then((function(m){try{return a=m,h.call(this)}catch(v){return o(v)}}).bind(this),o)}}}function l(){return s(a)}})}function ts(t){t.width=0,t.height=0}function Rc(){return new Promise(function(t,e){let n,r,i,s;return Rc.cachedResult!==void 0?t(Rc.cachedResult):l5("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,Km(n).then(function(a){try{return r=a[1],Qm(r,n.type,n.name,n.lastModified).then(function(l){try{return i=l,ts(r),Km(i).then(function(c){try{return s=c[0],Rc.cachedResult=s.width===1&&s.height===2,t(Rc.cachedResult)}catch(u){return e(u)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function Z7(t){return new Promise((e,n)=>{const r=new K7;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const o=s.byteLength;let a=2;for(;a<o;){if(s.getUint16(a+2,!1)<=8)return e(-1);const l=s.getUint16(a,!1);if(a+=2,l==65505){if(s.getUint32(a+=2,!1)!=1165519206)return e(-1);const c=s.getUint16(a+=6,!1)==18761;a+=s.getUint32(a+4,c);const u=s.getUint16(a,c);a+=2;for(let d=0;d<u;d++)if(s.getUint16(a+12*d,c)==274)return e(s.getUint16(a+12*d+8,c))}else{if((65280&l)!=65280)break;a+=s.getUint16(a,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function eL(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let s,o=t;return isFinite(i)&&(n>i||r>i)&&([o,s]=w1(n,r),n>r?(o.width=i,o.height=r/n*i):(o.width=n/r*i,o.height=i),s.drawImage(t,0,0,o.width,o.height),ts(t)),o}function tL(t,e){const{width:n}=t,{height:r}=t,[i,s]=w1(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,r),ts(t),i}function BS(t,e,n=0){return new Promise(function(r,i){let s,o,a,l,c,u,d,h,p,m,v,x,g,w,_,E,S,I,C,b;function R(k=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=k,e.onProgress(Math.min(s,100))}function T(k){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(k,s),100),e.onProgress(s)}return s=n,o=e.maxIteration||10,a=1024*e.maxSizeMB*1024,R(),Km(t,e).then((function(k){try{return[,l]=k,R(),c=eL(l,e),R(),new Promise(function(N,M){var L;if(!(L=e.exifOrientation))return Z7(t).then((function(P){try{return L=P,j.call(this)}catch(A){return M(A)}}).bind(this),M);function j(){return N(L)}return j.call(this)}).then((function(N){try{return u=N,R(),Rc().then((function(M){try{return d=M?c:tL(c,u),R(),h=e.initialQuality||1,p=e.fileType||t.type,Qm(d,p,t.name,t.lastModified,h).then((function(L){try{{let O=function(){if(o--&&(_>a||_>g)){let F,q;return F=b?.95*C.width:C.width,q=b?.95*C.height:C.height,[S,I]=w1(F,q),I.drawImage(C,0,0,F,q),h*=p==="image/png"?.85:.95,Qm(S,p,t.name,t.lastModified,h).then(function(W){try{return E=W,ts(C),C=S,_=E.size,T(Math.min(99,Math.floor((w-_)/(w-a)*100))),O}catch(z){return i(z)}},i)}return[1]},$=function(){return ts(C),ts(S),ts(c),ts(d),ts(l),T(100),r(E)};var P=O,A=$;if(m=L,R(),v=m.size>a,x=m.size>t.size,!v&&!x)return T(100),r(m);var j;return g=t.size,w=m.size,_=w,C=d,b=!e.alwaysKeepResolution&&v,(j=(function(F){for(;F;){if(F.then)return void F.then(j,i);try{if(F.pop){if(F.length)return F.pop()?$.call(this):F;F=O}else F=F.call(this)}catch(q){return i(q)}}}).bind(this))(O)}}catch(O){return i(O)}}).bind(this),i)}catch(L){return i(L)}}).bind(this),i)}catch(M){return i(M)}}).bind(this),i)}catch(N){return i(N)}}).bind(this),i)})}const _le=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let zv;function wle(t,e){return new Promise((n,r)=>{zv||(zv=function(o){const a=[];return typeof o=="function"?a.push(`(${o})()`):a.push(o),URL.createObjectURL(new Blob(a))}(_le));const i=new Worker(zv);i.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)i.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void i.terminate();n(o.data.file),i.terminate()}else e.onProgress(o.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function vn(t,e){return new Promise(function(n,r){let i,s,o,a,l,c;if(i={...e},o=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=p=>{o=p,typeof a=="function"&&a(o)},!(t instanceof Blob||t instanceof yle))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||c)return BS(t,i).then((function(p){try{return s=p,h.call(this)}catch(m){return r(m)}}).bind(this),r);var u=(function(){try{return h.call(this)}catch(p){return r(p)}}).bind(this),d=function(p){try{return BS(t,i).then(function(m){try{return s=m,u()}catch(v){return r(v)}},r)}catch(m){return r(m)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",wle(t,i).then(function(p){try{return s=p,u()}catch{return d()}},d)}catch{d()}function h(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(s=H7(t,s))}catch{}return n(s)}})}vn.getDataUrlFromFile=Q7,vn.getFilefromDataUrl=l5,vn.loadImage=Y7,vn.drawImageInCanvas=J7,vn.drawFileInCanvas=Km,vn.canvasToFile=Qm,vn.getExifOrientation=Z7,vn.handleMaxWidthOrHeight=eL,vn.followExifOrientation=tL,vn.cleanupCanvasMemory=ts,vn.isAutoOrientationInBrowser=Rc,vn.approximateBelowMaximumCanvasSizeOfBrowser=X7,vn.copyExifWithoutOrientation=H7,vn.getBrowserName=Wa,vn.version="2.0.2";const xle=({options:t,setValue:e,label:n,gender:r})=>{const[i,s]=y.useState(r),o=a=>{s(a.target.value)};return y.useEffect(()=>{e(i)},[i]),y.useEffect(()=>{s(r)},[r]),f.jsx(p6,{size:"small",variant:"standard",id:n,labelId:n,value:i,onChange:o,label:n,displayEmpty:!0,children:t.map(a=>f.jsx(pK,{value:a.value,children:a.label},a.value))})};var zS="__sak";function nL(){var t;return t={},t["dependent-sdk-initialized-before-auth"]="Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",t}var Ele=nL,Ew=new ua("auth","Firebase",nL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gc=new Ef("@firebase/auth");function Ile(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Gc.logLevel<=Be.WARN&&Gc.warn.apply(Gc,Bn(["Auth (".concat(Yi,"): ").concat(t)],e,!1))}function Tp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Gc.logLevel<=Be.ERROR&&Gc.error.apply(Gc,Bn(["Auth (".concat(Yi,"): ").concat(t)],e,!1))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];throw u5.apply(void 0,Bn([t],e,!1))}function c5(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return u5.apply(void 0,Bn([t],e,!1))}function ble(t,e,n){var r,i=He(He({},Ele()),(r={},r[e]=n,r)),s=new ua("auth","Firebase",i);return s.create(e,{appName:t.name})}function u5(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(typeof t!="string"){var i=n[0],s=Bn([],n.slice(1),!0);return s[0]&&(s[0].appName=t.name),(e=t._errorFactory).create.apply(e,Bn([i],s,!1))}return Ew.create.apply(Ew,Bn([t],n,!1))}function Fe(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!t)throw u5.apply(void 0,Bn([e],n,!1))}function Us(t){var e="INTERNAL ASSERTION FAILED: "+t;throw Tp(e),new Error(e)}function vu(t,e){t||Us(e)}function Cle(){return WS()==="http:"||WS()==="https:"}function WS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tle(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Cle()||b6()||"connection"in navigator)?navigator.onLine:!0}function Sle(){if(typeof navigator>"u")return null;var t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rle=function(){function t(e,n){this.shortDelay=e,this.longDelay=n,vu(n>e,"Short delay should be less than long delay!"),this.isMobile=mg()||mx()}return t.prototype.get=function(){return Tle()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kle(t,e){vu(t.emulator,"Emulator should always be set here");var n=t.emulator.url;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rL=function(){function t(){}return t.initialize=function(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)},t.fetch=function(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.headers=function(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t.response=function(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,Ale=(Ce={},Ce.CREDENTIAL_MISMATCH="custom-token-mismatch",Ce.MISSING_CUSTOM_TOKEN="internal-error",Ce.INVALID_IDENTIFIER="invalid-email",Ce.MISSING_CONTINUE_URI="internal-error",Ce.INVALID_PASSWORD="wrong-password",Ce.MISSING_PASSWORD="missing-password",Ce.INVALID_LOGIN_CREDENTIALS="invalid-credential",Ce.EMAIL_EXISTS="email-already-in-use",Ce.PASSWORD_LOGIN_DISABLED="operation-not-allowed",Ce.INVALID_IDP_RESPONSE="invalid-credential",Ce.INVALID_PENDING_TOKEN="invalid-credential",Ce.FEDERATED_USER_ID_ALREADY_LINKED="credential-already-in-use",Ce.MISSING_REQ_TYPE="internal-error",Ce.EMAIL_NOT_FOUND="user-not-found",Ce.RESET_PASSWORD_EXCEED_LIMIT="too-many-requests",Ce.EXPIRED_OOB_CODE="expired-action-code",Ce.INVALID_OOB_CODE="invalid-action-code",Ce.MISSING_OOB_CODE="internal-error",Ce.CREDENTIAL_TOO_OLD_LOGIN_AGAIN="requires-recent-login",Ce.INVALID_ID_TOKEN="invalid-user-token",Ce.TOKEN_EXPIRED="user-token-expired",Ce.USER_NOT_FOUND="user-token-expired",Ce.TOO_MANY_ATTEMPTS_TRY_LATER="too-many-requests",Ce.PASSWORD_DOES_NOT_MEET_REQUIREMENTS="password-does-not-meet-requirements",Ce.INVALID_CODE="invalid-verification-code",Ce.INVALID_SESSION_INFO="invalid-verification-id",Ce.INVALID_TEMPORARY_PROOF="invalid-credential",Ce.MISSING_SESSION_INFO="missing-verification-id",Ce.SESSION_EXPIRED="code-expired",Ce.MISSING_ANDROID_PACKAGE_NAME="missing-android-pkg-name",Ce.UNAUTHORIZED_DOMAIN="unauthorized-continue-uri",Ce.INVALID_OAUTH_CLIENT_ID="invalid-oauth-client-id",Ce.ADMIN_ONLY_OPERATION="admin-restricted-operation",Ce.INVALID_MFA_PENDING_CREDENTIAL="invalid-multi-factor-session",Ce.MFA_ENROLLMENT_NOT_FOUND="multi-factor-info-not-found",Ce.MISSING_MFA_ENROLLMENT_ID="missing-multi-factor-info",Ce.MISSING_MFA_PENDING_CREDENTIAL="missing-multi-factor-session",Ce.SECOND_FACTOR_EXISTS="second-factor-already-in-use",Ce.SECOND_FACTOR_LIMIT_EXCEEDED="maximum-second-factor-count-exceeded",Ce.BLOCKING_FUNCTION_ERROR_RESPONSE="internal-error",Ce.RECAPTCHA_NOT_ENABLED="recaptcha-not-enabled",Ce.MISSING_RECAPTCHA_TOKEN="missing-recaptcha-token",Ce.INVALID_RECAPTCHA_TOKEN="invalid-recaptcha-token",Ce.INVALID_RECAPTCHA_ACTION="invalid-recaptcha-action",Ce.MISSING_CLIENT_TYPE="missing-client-type",Ce.MISSING_RECAPTCHA_VERSION="missing-recaptcha-version",Ce.INVALID_RECAPTCHA_VERSION="invalid-recaptcha-version",Ce.INVALID_REQ_TYPE="invalid-req-type",Ce);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ple=new Rle(3e4,6e4);function bs(t,e){return t.tenantId&&!e.tenantId?He(He({},e),{tenantId:t.tenantId}):e}function Fl(t,e,n,r,i){return i===void 0&&(i={}),Y(this,void 0,void 0,function(){var s=this;return X(this,function(o){return[2,iL(t,i,function(){return Y(s,void 0,void 0,function(){var a,l,c,u;return X(this,function(d){switch(d.label){case 0:return a={},l={},r&&(e==="GET"?l=r:a={body:JSON.stringify(r)}),c=so(He({key:t.config.apiKey},l)).slice(1),[4,t._getAdditionalHeaders()];case 1:return u=d.sent(),u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),[2,rL.fetch()(sL(t,t.config.apiHost,n,c),He({method:e,headers:u,referrerPolicy:"no-referrer"},a))]}})})})]})})}function iL(t,e,n){return Y(this,void 0,void 0,function(){var r,i,s,o,a,l,c,u,d,h;return X(this,function(p){switch(p.label){case 0:t._canInitEmulator=!1,r=He(He({},Ale),e),p.label=1;case 1:return p.trys.push([1,4,,5]),i=new Lle(t),[4,Promise.race([n(),i.promise])];case 2:return s=p.sent(),i.clearNetworkTimeout(),[4,s.json()];case 3:if(o=p.sent(),"needConfirmation"in o)throw Od(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return[2,o];if(a=s.ok?o.errorMessage:o.error.message,l=a.split(" : "),c=l[0],u=l[1],c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Od(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Od(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Od(t,"user-disabled",o);if(d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-"),u)throw ble(t,d,u);return eo(t,d),[3,5];case 4:if(h=p.sent(),h instanceof ei)throw h;return eo(t,"network-request-failed",{message:String(h)}),[3,5];case 5:return[2]}})})}function Vl(t,e,n,r,i){return i===void 0&&(i={}),Y(this,void 0,void 0,function(){var s;return X(this,function(o){switch(o.label){case 0:return[4,Fl(t,e,n,r,i)];case 1:return s=o.sent(),"mfaPendingCredential"in s&&eo(t,"multi-factor-auth-required",{_serverResponse:s}),[2,s]}})})}function sL(t,e,n,r){var i="".concat(e).concat(n,"?").concat(r);return t.config.emulator?kle(t.config,i):"".concat(t.config.apiScheme,"://").concat(i)}function Nle(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Lle=function(){function t(e){var n=this;this.auth=e,this.timer=null,this.promise=new Promise(function(r,i){n.timer=setTimeout(function(){return i(c5(n.auth,"network-request-failed"))},Ple.get())})}return t.prototype.clearNetworkTimeout=function(){clearTimeout(this.timer)},t}();function Od(t,e,n){var r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=c5(t,e,r);return i.customData._tokenResponse=n,i}function HS(t){return t!==void 0&&t.enterprise!==void 0}var Mle=function(){function t(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}return t.prototype.getProviderEnforcementState=function(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(var n=0,r=this.recaptchaEnforcementState;n<r.length;n++){var i=r[n];if(i.provider&&i.provider===e)return Nle(i.enforcementState)}return null},t.prototype.isProviderEnabled=function(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"},t}();function Ole(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Fl(t,"GET","/v2/recaptchaConfig",bs(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dle(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Fl(t,"POST","/v1/accounts:delete",e)]})})}function $le(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Fl(t,"POST","/v1/accounts:lookup",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(t){if(t)try{var e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function jle(t,e){return e===void 0&&(e=!1),Y(this,void 0,void 0,function(){var n,r,i,s,o;return X(this,function(a){switch(a.label){case 0:return n=at(t),[4,n.getIdToken(e)];case 1:return r=a.sent(),i=d5(r),Fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error"),s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider,[2,{claims:i,token:r,authTime:ah(Wv(i.auth_time)),issuedAtTime:ah(Wv(i.iat)),expirationTime:ah(Wv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}]}})})}function Wv(t){return Number(t)*1e3}function d5(t){var e=t.split("."),n=e[0],r=e[1],i=e[2];if(n===void 0||r===void 0||i===void 0)return Tp("JWT malformed, contained fewer than 3 sections"),null;try{var s=Oh(r);return s?JSON.parse(s):(Tp("Failed to decode base64 JWT payload"),null)}catch(o){return Tp("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Fle(t){var e=d5(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t,e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(i.label){case 0:if(n)return[2,e];i.label=1;case 1:return i.trys.push([1,3,,6]),[4,e];case 2:return[2,i.sent()];case 3:return r=i.sent(),r instanceof ei&&Vle(r)?t.auth.currentUser!==t?[3,5]:[4,t.auth.signOut()]:[3,5];case 4:i.sent(),i.label=5;case 5:throw r;case 6:return[2]}})})}function Vle(t){var e=t.code;return e==="auth/".concat("user-disabled")||e==="auth/".concat("user-token-expired")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ule=function(){function t(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return t.prototype._start=function(){this.isRunning||(this.isRunning=!0,this.schedule())},t.prototype._stop=function(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))},t.prototype.getInterval=function(e){var n;if(e){var r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;var i=(n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0,r=i-Date.now()-3e5;return Math.max(0,r)}},t.prototype.schedule=function(e){var n=this;if(e===void 0&&(e=!1),!!this.isRunning){var r=this.getInterval(e);this.timerId=setTimeout(function(){return Y(n,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,this.iteration()];case 1:return i.sent(),[2]}})})},r)}},t.prototype.iteration=function(){return Y(this,void 0,void 0,function(){var e;return X(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.user.getIdToken(!0)];case 1:return n.sent(),[3,3];case 2:return e=n.sent(),(e==null?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),[2];case 3:return this.schedule(),[2]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oL=function(){function t(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}return t.prototype._initializeTime=function(){this.lastSignInTime=ah(this.lastLoginAt),this.creationTime=ah(this.createdAt)},t.prototype._copy=function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()},t.prototype.toJSON=function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t){var e;return Y(this,void 0,void 0,function(){var n,r,i,s,o,a,l,c,u,d;return X(this,function(h){switch(h.label){case 0:return n=t.auth,[4,t.getIdToken()];case 1:return r=h.sent(),[4,of(t,$le(n,{idToken:r}))];case 2:return i=h.sent(),Fe(i==null?void 0:i.users.length,n,"internal-error"),s=i.users[0],t._notifyReloadListener(s),o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Wle(s.providerUserInfo):[],a=zle(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new oL(s.createdAt,s.lastLoginAt),isAnonymous:u},Object.assign(t,d),[2]}})})}function Ble(t){return Y(this,void 0,void 0,function(){var e;return X(this,function(n){switch(n.label){case 0:return e=at(t),[4,Ym(e)];case 1:return n.sent(),[4,e.auth._persistUserIfCurrent(e)];case 2:return n.sent(),e.auth._notifyListenersIfCurrent(e),[2]}})})}function zle(t,e){var n=t.filter(function(r){return!e.some(function(i){return i.providerId===r.providerId})});return Bn(Bn([],n,!0),e,!0)}function Wle(t){return t.map(function(e){var n=e.providerId,r=Du(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hle(t,e){return Y(this,void 0,void 0,function(){var n,r=this;return X(this,function(i){switch(i.label){case 0:return[4,iL(t,{},function(){return Y(r,void 0,void 0,function(){var s,o,a,l,c,u;return X(this,function(d){switch(d.label){case 0:return s=so({grant_type:"refresh_token",refresh_token:e}).slice(1),o=t.config,a=o.tokenApiHost,l=o.apiKey,c=sL(t,a,"/v1/token","key=".concat(l)),[4,t._getAdditionalHeaders()];case 1:return u=d.sent(),u["Content-Type"]="application/x-www-form-urlencoded",[2,rL.fetch()(c,{method:"POST",headers:u,body:s})]}})})})];case 1:return n=i.sent(),[2,{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}]}})})}function qle(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Fl(t,"POST","/v2/accounts:revokeToken",bs(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qS=function(){function t(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object.defineProperty(t.prototype,"isExpired",{get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4},enumerable:!1,configurable:!0}),t.prototype.updateFromServerResponse=function(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");var n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fle(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)},t.prototype.getToken=function(e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){return X(this,function(r){switch(r.label){case 0:return Fe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?[2,this.accessToken]:this.refreshToken?[4,this.refresh(e,this.refreshToken)]:[3,2];case 1:return r.sent(),[2,this.accessToken];case 2:return[2,null]}})})},t.prototype.clearRefreshToken=function(){this.refreshToken=null},t.prototype.refresh=function(e,n){return Y(this,void 0,void 0,function(){var r,i,s,o;return X(this,function(a){switch(a.label){case 0:return[4,Hle(e,n)];case 1:return r=a.sent(),i=r.accessToken,s=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,s,Number(o)),[2]}})})},t.prototype.updateTokensAndExpiration=function(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3},t.fromJSON=function(e,n){var r=n.refreshToken,i=n.accessToken,s=n.expirationTime,o=new t;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Fe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Fe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o},t.prototype.toJSON=function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}},t.prototype._assign=function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime},t.prototype._clone=function(){return Object.assign(new t,this.toJSON())},t.prototype._performRefresh=function(){return Us("not implemented")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Iw=function(){function t(e){var n=e.uid,r=e.auth,i=e.stsTokenManager,s=Du(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ule(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?Bn([],s.providerData,!0):[],this.metadata=new oL(s.createdAt||void 0,s.lastLoginAt||void 0)}return t.prototype.getIdToken=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return[4,of(this,this.stsTokenManager.getToken(this.auth,e))];case 1:return n=r.sent(),Fe(n,this.auth,"internal-error"),this.accessToken===n?[3,3]:(this.accessToken=n,[4,this.auth._persistUserIfCurrent(this)]);case 2:r.sent(),this.auth._notifyListenersIfCurrent(this),r.label=3;case 3:return[2,n]}})})},t.prototype.getIdTokenResult=function(e){return jle(this,e)},t.prototype.reload=function(){return Ble(this)},t.prototype._assign=function(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(function(n){return He({},n)}),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))},t.prototype._clone=function(e){var n=new t(He(He({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n},t.prototype._onReload=function(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)},t.prototype._notifyReloadListener=function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e},t.prototype._startProactiveRefresh=function(){this.proactiveRefresh._start()},t.prototype._stopProactiveRefresh=function(){this.proactiveRefresh._stop()},t.prototype._updateTokensIfNecessary=function(e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(i.label){case 0:return r=!1,e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n?[4,Ym(this)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[4,this.auth._persistUserIfCurrent(this)];case 3:return i.sent(),r&&this.auth._notifyListenersIfCurrent(this),[2]}})})},t.prototype.delete=function(){return Y(this,void 0,void 0,function(){var e;return X(this,function(n){switch(n.label){case 0:return[4,this.getIdToken()];case 1:return e=n.sent(),[4,of(this,Dle(this.auth,{idToken:e}))];case 2:return n.sent(),this.stsTokenManager.clearRefreshToken(),[2,this.auth.signOut()]}})})},t.prototype.toJSON=function(){return He(He({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(e){return He({},e)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})},Object.defineProperty(t.prototype,"refreshToken",{get:function(){return this.stsTokenManager.refreshToken||""},enumerable:!1,configurable:!0}),t._fromJSON=function(e,n){var r,i,s,o,a,l,c,u,d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,_=n.uid,E=n.emailVerified,S=n.isAnonymous,I=n.providerData,C=n.stsTokenManager;Fe(_&&C,e,"internal-error");var b=qS.fromJSON(this.name,C);Fe(typeof _=="string",e,"internal-error"),mo(d,e.name),mo(h,e.name),Fe(typeof E=="boolean",e,"internal-error"),Fe(typeof S=="boolean",e,"internal-error"),mo(p,e.name),mo(m,e.name),mo(v,e.name),mo(x,e.name),mo(g,e.name),mo(w,e.name);var R=new t({uid:_,auth:e,email:h,emailVerified:E,displayName:d,isAnonymous:S,photoURL:m,phoneNumber:p,tenantId:v,stsTokenManager:b,createdAt:g,lastLoginAt:w});return I&&Array.isArray(I)&&(R.providerData=I.map(function(T){return He({},T)})),x&&(R._redirectEventId=x),R},t._fromIdTokenResponse=function(e,n,r){return r===void 0&&(r=!1),Y(this,void 0,void 0,function(){var i,s;return X(this,function(o){switch(o.label){case 0:return i=new qS,i.updateFromServerResponse(n),s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r}),[4,Ym(s)];case 1:return o.sent(),[2,s]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GS=new Map;function No(t){vu(t instanceof Function,"Expected a class definition");var e=GS.get(t);return e?(vu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,GS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gle=function(){function t(){this.type="NONE",this.storage={}}return t.prototype._isAvailable=function(){return Y(this,void 0,void 0,function(){return X(this,function(e){return[2,!0]})})},t.prototype._set=function(e,n){return Y(this,void 0,void 0,function(){return X(this,function(r){return this.storage[e]=n,[2]})})},t.prototype._get=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){return n=this.storage[e],[2,n===void 0?null:n]})})},t.prototype._remove=function(e){return Y(this,void 0,void 0,function(){return X(this,function(n){return delete this.storage[e],[2]})})},t.prototype._addListener=function(e,n){},t.prototype._removeListener=function(e,n){},t.type="NONE",t}(),KS=Gle;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(t,e,n){return"".concat("firebase",":").concat(t,":").concat(e,":").concat(n)}var QS=function(){function t(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;var i=this.auth,s=i.config,o=i.name;this.fullUserKey=Sp(this.userKey,s.apiKey,o),this.fullPersistenceKey=Sp("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return t.prototype.setCurrentUser=function(e){return this.persistence._set(this.fullUserKey,e.toJSON())},t.prototype.getCurrentUser=function(){return Y(this,void 0,void 0,function(){var e;return X(this,function(n){switch(n.label){case 0:return[4,this.persistence._get(this.fullUserKey)];case 1:return e=n.sent(),[2,e?Iw._fromJSON(this.auth,e):null]}})})},t.prototype.removeCurrentUser=function(){return this.persistence._remove(this.fullUserKey)},t.prototype.savePersistenceForRedirect=function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)},t.prototype.setPersistence=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return this.persistence===e?[2]:[4,this.getCurrentUser()];case 1:return n=r.sent(),[4,this.removeCurrentUser()];case 2:return r.sent(),this.persistence=e,n?[2,this.setCurrentUser(n)]:[2]}})})},t.prototype.delete=function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)},t.create=function(e,n,r){return r===void 0&&(r="authUser"),Y(this,void 0,void 0,function(){var i,s,o,a,l,c,u,d,h,p,m=this;return X(this,function(v){switch(v.label){case 0:return n.length?[4,Promise.all(n.map(function(x){return Y(m,void 0,void 0,function(){return X(this,function(g){switch(g.label){case 0:return[4,x._isAvailable()];case 1:return g.sent()?[2,x]:[2,void 0]}})})}))]:[2,new t(No(KS),e,r)];case 1:i=v.sent().filter(function(x){return x}),s=i[0]||No(KS),o=Sp(r,e.config.apiKey,e.name),a=null,l=0,c=n,v.label=2;case 2:if(!(l<c.length))return[3,7];u=c[l],v.label=3;case 3:return v.trys.push([3,5,,6]),[4,u._get(o)];case 4:return d=v.sent(),d?(h=Iw._fromJSON(e,d),u!==s&&(a=h),s=u,[3,7]):[3,6];case 5:return v.sent(),[3,6];case 6:return l++,[3,2];case 7:return p=i.filter(function(x){return x._shouldAllowMigration}),!s._shouldAllowMigration||!p.length?[2,new t(s,e,r)]:(s=p[0],a?[4,s._set(o,a.toJSON())]:[3,9]);case 8:v.sent(),v.label=9;case 9:return[4,Promise.all(n.map(function(x){return Y(m,void 0,void 0,function(){return X(this,function(g){switch(g.label){case 0:if(x===s)return[3,4];g.label=1;case 1:return g.trys.push([1,3,,4]),[4,x._remove(o)];case 2:return g.sent(),[3,4];case 3:return g.sent(),[3,4];case 4:return[2]}})})}))];case 10:return v.sent(),[2,new t(s,e,r)]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t){var e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kle(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uL(e))return"Blackberry";if(dL(e))return"Webos";if(aL(e))return"Safari";if((e.includes("chrome/")||Qle(e))&&!e.includes("edge/"))return"Chrome";if(cL(e))return"Android";var n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);return(r==null?void 0:r.length)===2?r[1]:"Other"}function Kle(t){return t===void 0&&(t=ot()),/firefox\//i.test(t)}function aL(t){t===void 0&&(t=ot());var e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qle(t){return t===void 0&&(t=ot()),/crios\//i.test(t)}function lL(t){return t===void 0&&(t=ot()),/iemobile/i.test(t)}function cL(t){return t===void 0&&(t=ot()),/android/i.test(t)}function uL(t){return t===void 0&&(t=ot()),/blackberry/i.test(t)}function dL(t){return t===void 0&&(t=ot()),/webos/i.test(t)}function hL(t){return t===void 0&&(t=ot()),/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Yle(){return C6()&&document.documentMode===10}function Xle(t){return t===void 0&&(t=ot()),hL(t)||cL(t)||dL(t)||uL(t)||/windows phone/i.test(t)||lL(t)}function Jle(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(t,e){e===void 0&&(e=[]);var n;switch(t){case"Browser":n=YS(ot());break;case"Worker":n="".concat(YS(ot()),"-").concat(t);break;default:n=t}var r=e.length?e.join(","):"FirebaseCore-web";return"".concat(n,"/").concat("JsCore","/").concat(Yi,"/").concat(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zle=function(){function t(e){this.auth=e,this.queue=[]}return t.prototype.pushCallback=function(e,n){var r=this,i=function(o){return new Promise(function(a,l){try{var c=e(o);a(c)}catch(u){l(u)}})};i.onAbort=n,this.queue.push(i);var s=this.queue.length-1;return function(){r.queue[s]=function(){return Promise.resolve()}}},t.prototype.runMiddleware=function(e){return Y(this,void 0,void 0,function(){var n,r,i,s,o,a,l,c;return X(this,function(u){switch(u.label){case 0:if(this.auth.currentUser===e)return[2];n=[],u.label=1;case 1:u.trys.push([1,6,,7]),r=0,i=this.queue,u.label=2;case 2:return r<i.length?(s=i[r],[4,s(e)]):[3,5];case 3:u.sent(),s.onAbort&&n.push(s.onAbort),u.label=4;case 4:return r++,[3,2];case 5:return[3,7];case 6:for(o=u.sent(),n.reverse(),a=0,l=n;a<l.length;a++){c=l[a];try{c()}catch{}}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o==null?void 0:o.message});case 7:return[2]}})})},t}();/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ece(t,e){return e===void 0&&(e={}),Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Fl(t,"GET","/v2/passwordPolicy",bs(t,e))]})})}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tce=6,nce=function(){function t(e){var n,r,i,s,o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:tce,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}return t.prototype.validatePassword=function(e){var n,r,i,s,o,a,l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l},t.prototype.validatePasswordLengthOptions=function(e,n){var r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)},t.prototype.validatePasswordCharacterOptions=function(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(var r,i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))},t.prototype.updatePasswordCharacterOptionsStatuses=function(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rce=function(){function t(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XS(this),this.idTokenSubscription=new XS(this),this.beforeStateQueue=new Zle(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ew,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}return t.prototype._initializeWithPersistence=function(e,n){var r=this;return n&&(this._popupRedirectResolver=No(n)),this._initializationPromise=this.queue(function(){return Y(r,void 0,void 0,function(){var i,s,o;return X(this,function(a){switch(a.label){case 0:return this._deleted?[2]:(i=this,[4,QS.create(this,e)]);case 1:if(i.persistenceManager=a.sent(),this._deleted)return[2];if(!(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively))return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this._popupRedirectResolver._initialize(this)];case 3:return a.sent(),[3,5];case 4:return a.sent(),[3,5];case 5:return[4,this.initializeCurrentUser(n)];case 6:return a.sent(),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,this._deleted?[2]:(this._isInitialized=!0,[2])}})})}),this._initializationPromise},t.prototype._onStorageEvent=function(){return Y(this,void 0,void 0,function(){var e;return X(this,function(n){switch(n.label){case 0:return this._deleted?[2]:[4,this.assertedPersistence.getCurrentUser()];case 1:return e=n.sent(),!this.currentUser&&!e?[2]:this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),[4,this.currentUser.getIdToken()]):[3,3];case 2:return n.sent(),[2];case 3:return[4,this._updateCurrentUser(e,!0)];case 4:return n.sent(),[2]}})})},t.prototype.initializeCurrentUser=function(e){var n;return Y(this,void 0,void 0,function(){var r,i,s,o,a,l,c;return X(this,function(u){switch(u.label){case 0:return[4,this.assertedPersistence.getCurrentUser()];case 1:return r=u.sent(),i=r,s=!1,e&&this.config.authDomain?[4,this.getOrInitRedirectPersistenceManager()]:[3,4];case 2:return u.sent(),o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,[4,this.tryRedirectSignIn(e)];case 3:l=u.sent(),(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0),u.label=4;case 4:if(!i)return[2,this.directlySetCurrentUser(null)];if(i._redirectEventId)return[3,9];if(!s)return[3,8];u.label=5;case 5:return u.trys.push([5,7,,8]),[4,this.beforeStateQueue.runMiddleware(i)];case 6:return u.sent(),[3,8];case 7:return c=u.sent(),i=r,this._popupRedirectResolver._overrideRedirectResult(this,function(){return Promise.reject(c)}),[3,8];case 8:return i?[2,this.reloadAndSetCurrentUserOrClear(i)]:[2,this.directlySetCurrentUser(null)];case 9:return Fe(this._popupRedirectResolver,this,"argument-error"),[4,this.getOrInitRedirectPersistenceManager()];case 10:return u.sent(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?[2,this.directlySetCurrentUser(i)]:[2,this.reloadAndSetCurrentUserOrClear(i)]}})})},t.prototype.tryRedirectSignIn=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:n=null,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,this._popupRedirectResolver._completeRedirectFn(this,e,!0)];case 2:return n=r.sent(),[3,5];case 3:return r.sent(),[4,this._setRedirectUser(null)];case 4:return r.sent(),[3,5];case 5:return[2,n]}})})},t.prototype.reloadAndSetCurrentUserOrClear=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Ym(e)];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),(n==null?void 0:n.code)!=="auth/".concat("network-request-failed")?[2,this.directlySetCurrentUser(null)]:[3,3];case 3:return[2,this.directlySetCurrentUser(e)]}})})},t.prototype.useDeviceLanguage=function(){this.languageCode=Sle()},t.prototype._delete=function(){return Y(this,void 0,void 0,function(){return X(this,function(e){return this._deleted=!0,[2]})})},t.prototype.updateCurrentUser=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){return n=e?at(e):null,n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),[2,this._updateCurrentUser(n&&n._clone(this))]})})},t.prototype._updateCurrentUser=function(e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r=this;return X(this,function(i){switch(i.label){case 0:return this._deleted?[2]:(e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n?[3,2]:[4,this.beforeStateQueue.runMiddleware(e)]);case 1:i.sent(),i.label=2;case 2:return[2,this.queue(function(){return Y(r,void 0,void 0,function(){return X(this,function(s){switch(s.label){case 0:return[4,this.directlySetCurrentUser(e)];case 1:return s.sent(),this.notifyAuthListeners(),[2]}})})})]}})})},t.prototype.signOut=function(){return Y(this,void 0,void 0,function(){return X(this,function(e){switch(e.label){case 0:return[4,this.beforeStateQueue.runMiddleware(null)];case 1:return e.sent(),this.redirectPersistenceManager||this._popupRedirectResolver?[4,this._setRedirectUser(null)]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2,this._updateCurrentUser(null,!0)]}})})},t.prototype.setPersistence=function(e){var n=this;return this.queue(function(){return Y(n,void 0,void 0,function(){return X(this,function(r){switch(r.label){case 0:return[4,this.assertedPersistence.setPersistence(No(e))];case 1:return r.sent(),[2]}})})})},t.prototype._getRecaptchaConfig=function(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]},t.prototype.validatePassword=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return this._getPasswordPolicyInternal()?[3,2]:[4,this._updatePasswordPolicy()];case 1:r.sent(),r.label=2;case 2:return n=this._getPasswordPolicyInternal(),n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?[2,Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{}))]:[2,n.validatePassword(e)]}})})},t.prototype._getPasswordPolicyInternal=function(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]},t.prototype._updatePasswordPolicy=function(){return Y(this,void 0,void 0,function(){var e,n;return X(this,function(r){switch(r.label){case 0:return[4,ece(this)];case 1:return e=r.sent(),n=new nce(e),this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n,[2]}})})},t.prototype._getPersistence=function(){return this.assertedPersistence.persistence.type},t.prototype._updateErrorMap=function(e){this._errorFactory=new ua("auth","Firebase",e())},t.prototype.onAuthStateChanged=function(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)},t.prototype.beforeAuthStateChanged=function(e,n){return this.beforeStateQueue.pushCallback(e,n)},t.prototype.onIdTokenChanged=function(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)},t.prototype.authStateReady=function(){var e=this;return new Promise(function(n,r){if(e.currentUser)n();else var i=e.onAuthStateChanged(function(){i(),n()},r)})},t.prototype.revokeAccessToken=function(e){return Y(this,void 0,void 0,function(){var n,r;return X(this,function(i){switch(i.label){case 0:return this.currentUser?[4,this.currentUser.getIdToken()]:[3,3];case 1:return n=i.sent(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n},this.tenantId!=null&&(r.tenantId=this.tenantId),[4,qle(this,r)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.toJSON=function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}},t.prototype._setRedirectUser=function(e,n){return Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(i.label){case 0:return[4,this.getOrInitRedirectPersistenceManager(n)];case 1:return r=i.sent(),[2,e===null?r.removeCurrentUser():r.setCurrentUser(e)]}})})},t.prototype.getOrInitRedirectPersistenceManager=function(e){return Y(this,void 0,void 0,function(){var n,r,i;return X(this,function(s){switch(s.label){case 0:return this.redirectPersistenceManager?[3,3]:(n=e&&No(e)||this._popupRedirectResolver,Fe(n,this,"argument-error"),r=this,[4,QS.create(this,[No(n._redirectPersistence)],"redirectUser")]);case 1:return r.redirectPersistenceManager=s.sent(),i=this,[4,this.redirectPersistenceManager.getCurrentUser()];case 2:i.redirectUser=s.sent(),s.label=3;case 3:return[2,this.redirectPersistenceManager]}})})},t.prototype._redirectUserForId=function(e){var n,r;return Y(this,void 0,void 0,function(){var i=this;return X(this,function(s){switch(s.label){case 0:return this._isInitialized?[4,this.queue(function(){return Y(i,void 0,void 0,function(){return X(this,function(o){return[2]})})})]:[3,2];case 1:s.sent(),s.label=2;case 2:return((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?[2,this._currentUser]:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?[2,this.redirectUser]:[2,null]}})})},t.prototype._persistUserIfCurrent=function(e){return Y(this,void 0,void 0,function(){var n=this;return X(this,function(r){return e===this.currentUser?[2,this.queue(function(){return Y(n,void 0,void 0,function(){return X(this,function(i){return[2,this.directlySetCurrentUser(e)]})})})]:[2]})})},t.prototype._notifyListenersIfCurrent=function(e){e===this.currentUser&&this.notifyAuthListeners()},t.prototype._key=function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)},t.prototype._startProactiveRefresh=function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()},t.prototype._stopProactiveRefresh=function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()},Object.defineProperty(t.prototype,"_currentUser",{get:function(){return this.currentUser},enumerable:!1,configurable:!0}),t.prototype.notifyAuthListeners=function(){var e,n;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}},t.prototype.registerStateListener=function(e,n,r,i){var s=this;if(this._deleted)return function(){};var o=typeof n=="function"?n:n.next.bind(n),a=!1,l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(l,this,"internal-error"),l.then(function(){a||o(s.currentUser)}),typeof n=="function"){var c=e.addObserver(n,r,i);return function(){a=!0,c()}}else{var u=e.addObserver(n);return function(){a=!0,u()}}},t.prototype.directlySetCurrentUser=function(e){return Y(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?[4,this.assertedPersistence.setCurrentUser(e)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.assertedPersistence.removeCurrentUser()];case 3:n.sent(),n.label=4;case 4:return[2]}})})},t.prototype.queue=function(e){return this.operations=this.operations.then(e,e),this.operations},Object.defineProperty(t.prototype,"assertedPersistence",{get:function(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager},enumerable:!1,configurable:!0}),t.prototype._logFramework=function(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fL(this.config.clientPlatform,this._getFrameworks()))},t.prototype._getFrameworks=function(){return this.frameworks},t.prototype._getAdditionalHeaders=function(){var e;return Y(this,void 0,void 0,function(){var n,r,i,s;return X(this,function(o){switch(o.label){case 0:return n=(s={},s["X-Client-Version"]=this.clientVersion,s),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),[4,(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader()];case 1:return r=o.sent(),r&&(n["X-Firebase-Client"]=r),[4,this._getAppCheckToken()];case 2:return i=o.sent(),i&&(n["X-Firebase-AppCheck"]=i),[2,n]}})})},t.prototype._getAppCheckToken=function(){var e;return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return[4,(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken()];case 1:return n=r.sent(),n!=null&&n.error&&Ile("Error while retrieving App Check token: ".concat(n.error)),[2,n==null?void 0:n.token]}})})},t}();function pL(t){return at(t)}var XS=function(){function t(e){var n=this;this.auth=e,this.observer=null,this.addObserver=A6(function(r){return n.observer=r})}return Object.defineProperty(t.prototype,"next",{get:function(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mL={loadJS:function(){return Y(this,void 0,void 0,function(){return X(this,function(t){throw new Error("Unable to load external scripts")})})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ice(t){return mL.loadJS(t)}function sce(){return mL.recaptchaEnterpriseScript}var oce="recaptcha-enterprise",ace="NO_RECAPTCHA",lce=function(){function t(e){this.type=oce,this.auth=pL(e)}return t.prototype.verify=function(e,n){return e===void 0&&(e="verify"),n===void 0&&(n=!1),Y(this,void 0,void 0,function(){function r(o){return Y(this,void 0,void 0,function(){var a=this;return X(this,function(l){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return[2,o._agentRecaptchaConfig.siteKey];if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return[2,o._tenantRecaptchaConfigs[o.tenantId].siteKey]}return[2,new Promise(function(c,u){return Y(a,void 0,void 0,function(){return X(this,function(d){return Ole(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(function(h){if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{var p=new Mle(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(function(h){u(h)}),[2]})})})]})})}function i(o,a,l){var c=window.grecaptcha;HS(c)?c.enterprise.ready(function(){c.enterprise.execute(o,{action:e}).then(function(u){a(u)}).catch(function(){a(ace)})}):l(Error("No reCAPTCHA enterprise script loaded."))}var s=this;return X(this,function(o){return[2,new Promise(function(a,l){r(s.auth).then(function(c){if(!n&&HS(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}var u=sce();u.length!==0&&(u+=c),ice(u).then(function(){i(c,a,l)}).catch(function(d){l(d)})}}).catch(function(c){l(c)})})]})})},t}();function JS(t,e,n,r){return r===void 0&&(r=!1),Y(this,void 0,void 0,function(){var i,s,o;return X(this,function(a){switch(a.label){case 0:i=new lce(t),a.label=1;case 1:return a.trys.push([1,3,,5]),[4,i.verify(n)];case 2:return s=a.sent(),[3,5];case 3:return a.sent(),[4,i.verify(n,!0)];case 4:return s=a.sent(),[3,5];case 5:return o=He({},e),r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),[2,o]}})})}function ZS(t,e,n,r){var i;return Y(this,void 0,void 0,function(){var s,o=this;return X(this,function(a){switch(a.label){case 0:return!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")?[4,JS(t,e,n,n==="getOobCode")]:[3,2];case 1:return s=a.sent(),[2,r(t,s)];case 2:return[2,r(t,e).catch(function(l){return Y(o,void 0,void 0,function(){var c;return X(this,function(u){switch(u.label){case 0:return l.code!=="auth/".concat("missing-recaptcha-token")?[3,2]:(console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),[4,JS(t,e,n,n==="getOobCode")]);case 1:return c=u.sent(),[2,r(t,c)];case 2:return[2,Promise.reject(l)]}})})})]}})})}function cce(t,e){var n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(No);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zf=function(){function t(e,n){this.providerId=e,this.signInMethod=n}return t.prototype.toJSON=function(){return Us("not implemented")},t.prototype._getIdTokenResponse=function(e){return Us("not implemented")},t.prototype._linkToIdToken=function(e,n){return Us("not implemented")},t.prototype._getReauthenticationResolver=function(e){return Us("not implemented")},t}();function uce(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Fl(t,"POST","/v1/accounts:signUp",e)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dce(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Vl(t,"POST","/v1/accounts:signInWithPassword",bs(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hce(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Vl(t,"POST","/v1/accounts:signInWithEmailLink",bs(t,e))]})})}function fce(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Vl(t,"POST","/v1/accounts:signInWithEmailLink",bs(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e4=function(t){Ft(e,t);function e(n,r,i,s){s===void 0&&(s=null);var o=t.call(this,"password",i)||this;return o._email=n,o._password=r,o._tenantId=s,o}return e._fromEmailAndPassword=function(n,r){return new e(n,r,"password")},e._fromEmailAndCode=function(n,r,i){return i===void 0&&(i=null),new e(n,r,"emailLink",i)},e.prototype.toJSON=function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null},e.prototype._getIdTokenResponse=function(n){return Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(this.signInMethod){case"password":return r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,ZS(n,r,"signInWithPassword",dce)];case"emailLink":return[2,hce(n,{email:this._email,oobCode:this._password})];default:eo(n,"internal-error")}return[2]})})},e.prototype._linkToIdToken=function(n,r){return Y(this,void 0,void 0,function(){var i;return X(this,function(s){switch(this.signInMethod){case"password":return i={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,ZS(n,i,"signUpPassword",uce)];case"emailLink":return[2,fce(n,{idToken:r,email:this._email,oobCode:this._password})];default:eo(n,"internal-error")}return[2]})})},e.prototype._getReauthenticationResolver=function(n){return this._getIdTokenResponse(n)},e}(Zf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Vl(t,"POST","/v1/accounts:signInWithIdp",bs(t,e))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pce="http://localhost",yu=function(t){Ft(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.pendingToken=null,n}return e._fromParams=function(n){var r=new e(n.providerId,n.signInMethod);return n.idToken||n.accessToken?(n.idToken&&(r.idToken=n.idToken),n.accessToken&&(r.accessToken=n.accessToken),n.nonce&&!n.pendingToken&&(r.nonce=n.nonce),n.pendingToken&&(r.pendingToken=n.pendingToken)):n.oauthToken&&n.oauthTokenSecret?(r.accessToken=n.oauthToken,r.secret=n.oauthTokenSecret):eo("argument-error"),r},e.prototype.toJSON=function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,i=r.providerId,s=r.signInMethod,o=Du(r,["providerId","signInMethod"]);if(!i||!s)return null;var a=new e(i,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a},e.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return Ws(n,r)},e.prototype._linkToIdToken=function(n,r){var i=this.buildRequest();return i.idToken=r,Ws(n,i)},e.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,Ws(n,r)},e.prototype.buildRequest=function(){var n={requestUri:pce,returnSecureToken:!0};if(this.pendingToken)n.pendingToken=this.pendingToken;else{var r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),n.postBody=so(r)}return n},e}(Zf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hv;function mce(t,e){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2,Vl(t,"POST","/v1/accounts:signInWithPhoneNumber",bs(t,e))]})})}function gce(t,e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return[4,Vl(t,"POST","/v1/accounts:signInWithPhoneNumber",bs(t,e))];case 1:if(n=r.sent(),n.temporaryProof)throw Od(t,"account-exists-with-different-credential",n);return[2,n]}})})}var vce=(Hv={},Hv.USER_NOT_FOUND="user-not-found",Hv);function yce(t,e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){return n=He(He({},e),{operation:"REAUTH"}),[2,Vl(t,"POST","/v1/accounts:signInWithPhoneNumber",bs(t,n),vce)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ft(e,t);function e(n){var r=t.call(this,"phone","phone")||this;return r.params=n,r}return e._fromVerification=function(n,r){return new e({verificationId:n,verificationCode:r})},e._fromTokenResponse=function(n,r){return new e({phoneNumber:n,temporaryProof:r})},e.prototype._getIdTokenResponse=function(n){return mce(n,this._makeVerificationRequest())},e.prototype._linkToIdToken=function(n,r){return gce(n,He({idToken:r},this._makeVerificationRequest()))},e.prototype._getReauthenticationResolver=function(n){return yce(n,this._makeVerificationRequest())},e.prototype._makeVerificationRequest=function(){var n=this.params,r=n.temporaryProof,i=n.phoneNumber,s=n.verificationId,o=n.verificationCode;return r&&i?{temporaryProof:r,phoneNumber:i}:{sessionInfo:s,code:o}},e.prototype.toJSON=function(){var n={providerId:this.providerId};return this.params.phoneNumber&&(n.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(n.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(n.verificationCode=this.params.verificationCode),this.params.verificationId&&(n.verificationId=this.params.verificationId),n},e.fromJSON=function(n){typeof n=="string"&&(n=JSON.parse(n));var r=n,i=r.verificationId,s=r.verificationCode,o=r.phoneNumber,a=r.temporaryProof;return!s&&!i&&!o&&!a?null:new e({verificationId:i,verificationCode:s,phoneNumber:o,temporaryProof:a})},e})(Zf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ce(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wce(t){var e=ss(os(t)).link,n=e?ss(os(e)).deep_link_id:null,r=ss(os(t)).deep_link_id,i=r?ss(os(r)).link:null;return i||r||n||e||t}var xce=function(){function t(e){var n,r,i,s,o,a,l=ss(os(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=_ce((i=l.mode)!==null&&i!==void 0?i:null);Fe(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}return t.parseLink=function(e){var n=wce(e);try{return new t(n)}catch{return null}},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ece=function(){function t(){this.providerId=t.PROVIDER_ID}return t.credential=function(e,n){return e4._fromEmailAndPassword(e,n)},t.credentialWithLink=function(e,n){var r=xce.parseLink(n);return Fe(r,"argument-error"),e4._fromEmailAndCode(e,r.code,r.tenantId)},t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gL=function(){function t(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}return t.prototype.setDefaultLanguage=function(e){this.defaultLanguageCode=e},t.prototype.setCustomParameters=function(e){return this.customParameters=e,this},t.prototype.getCustomParameters=function(){return this.customParameters},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e0=function(t){Ft(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.scopes=[],n}return e.prototype.addScope=function(n){return this.scopes.includes(n)||this.scopes.push(n),this},e.prototype.getScopes=function(){return Bn([],this.scopes,!0)},e}(gL);(function(t){Ft(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.credentialFromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;return Fe("providerId"in r&&"signInMethod"in r,"argument-error"),yu._fromParams(r)},e.prototype.credential=function(n){return this._credential(He(He({},n),{nonce:n.rawNonce}))},e.prototype._credential=function(n){return Fe(n.idToken||n.accessToken,"argument-error"),yu._fromParams(He(He({},n),{providerId:this.providerId,signInMethod:this.providerId}))},e.credentialFromResult=function(n){return e.oauthCredentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.oauthCredentialFromTaggedObject(n.customData||{})},e.oauthCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthIdToken,o=i.oauthAccessToken,a=i.oauthTokenSecret,l=i.pendingToken,c=i.nonce,u=i.providerId;if(!o&&!a&&!s&&!l||!u)return null;try{return new e(u)._credential({idToken:s,accessToken:o,nonce:c,pendingToken:l})}catch{return null}},e})(e0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ft(e,t);function e(){return t.call(this,"facebook.com")||this}return e.credential=function(n){return yu._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:n})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return e.credential(r.oauthAccessToken)}catch{return null}},e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(e0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ft(e,t);function e(){var n=t.call(this,"google.com")||this;return n.addScope("profile"),n}return e.credential=function(n,r){return yu._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthIdToken,o=i.oauthAccessToken;if(!s&&!o)return null;try{return e.credential(s,o)}catch{return null}},e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(e0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ft(e,t);function e(){return t.call(this,"github.com")||this}return e.credential=function(n){return yu._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:n})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return e.credential(r.oauthAccessToken)}catch{return null}},e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})(e0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ice="http://localhost",t4=function(t){Ft(e,t);function e(n,r){var i=t.call(this,n,n)||this;return i.pendingToken=r,i}return e.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return Ws(n,r)},e.prototype._linkToIdToken=function(n,r){var i=this.buildRequest();return i.idToken=r,Ws(n,i)},e.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,Ws(n,r)},e.prototype.toJSON=function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}},e.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,i=r.providerId,s=r.signInMethod,o=r.pendingToken;return!i||!s||!o||i!==s?null:new e(i,o)},e._create=function(n,r){return new e(n,r)},e.prototype.buildRequest=function(){return{requestUri:Ice,returnSecureToken:!0,pendingToken:this.pendingToken}},e}(Zf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bce="saml.";(function(t){Ft(e,t);function e(n){return Fe(n.startsWith(bce),"argument-error"),t.call(this,n)||this}return e.credentialFromResult=function(n){return e.samlCredentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.samlCredentialFromTaggedObject(n.customData||{})},e.credentialFromJSON=function(n){var r=t4.fromJSON(n);return Fe(r,"argument-error"),r},e.samlCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.pendingToken,o=i.providerId;if(!s||!o)return null;try{return t4._create(o,s)}catch{return null}},e})(gL);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ft(e,t);function e(){return t.call(this,"twitter.com")||this}return e.credential=function(n,r){return yu._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:r})},e.credentialFromResult=function(n){return e.credentialFromTaggedObject(n)},e.credentialFromError=function(n){return e.credentialFromTaggedObject(n.customData||{})},e.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthAccessToken,o=i.oauthTokenSecret;if(!s||!o)return null;try{return e.credential(s,o)}catch{return null}},e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})(e0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h5=function(){function t(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}return t._fromIdTokenResponse=function(e,n,r,i){return i===void 0&&(i=!1),Y(this,void 0,void 0,function(){var s,o,a;return X(this,function(l){switch(l.label){case 0:return[4,Iw._fromIdTokenResponse(e,r,i)];case 1:return s=l.sent(),o=n4(r),a=new t({user:s,providerId:o,_tokenResponse:r,operationType:n}),[2,a]}})})},t._forOperation=function(e,n,r){return Y(this,void 0,void 0,function(){var i;return X(this,function(s){switch(s.label){case 0:return[4,e._updateTokensIfNecessary(r,!0)];case 1:return s.sent(),i=n4(r),[2,new t({user:e,providerId:i,_tokenResponse:r,operationType:n})]}})})},t}();function n4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cce=function(t){Ft(e,t);function e(n,r,i,s){var o=this,a;return o=t.call(this,r.code,r.message)||this,o.operationType=i,o.user=s,Object.setPrototypeOf(o,e.prototype),o.customData={appName:n.name,tenantId:(a=n.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return e._fromErrorAndOperation=function(n,r,i,s){return new e(n,r,i,s)},e}(ei);function vL(t,e,n,r){var i=e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t);return i.catch(function(s){throw s.code==="auth/".concat("multi-factor-auth-required")?Cce._fromErrorAndOperation(t,s,e,r):s})}function Tce(t,e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r,i,s,o,a,l;return X(this,function(c){switch(c.label){case 0:return i=of,s=[t],a=(o=e)._linkToIdToken,l=[t.auth],[4,t.getIdToken()];case 1:return[4,i.apply(void 0,s.concat([a.apply(o,l.concat([c.sent()])),n]))];case 2:return r=c.sent(),[2,h5._forOperation(t,"link",r)]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sce(t,e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r,i,s,o,a,l;return X(this,function(c){switch(c.label){case 0:r=t.auth,i="reauthenticate",c.label=1;case 1:return c.trys.push([1,3,,4]),[4,of(t,vL(r,i,e,t),n)];case 2:return s=c.sent(),Fe(s.idToken,r,"internal-error"),o=d5(s.idToken),Fe(o,r,"internal-error"),a=o.sub,Fe(t.uid===a,r,"user-mismatch"),[2,h5._forOperation(t,i,s)];case 3:throw l=c.sent(),(l==null?void 0:l.code)==="auth/".concat("user-not-found")&&eo(r,"user-mismatch"),l;case 4:return[2]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rce(t,e,n){return n===void 0&&(n=!1),Y(this,void 0,void 0,function(){var r,i,s;return X(this,function(o){switch(o.label){case 0:return r="signIn",[4,vL(t,r,e)];case 1:return i=o.sent(),[4,h5._fromIdTokenResponse(t,r,i)];case 2:return s=o.sent(),n?[3,4]:[4,t._updateCurrentUser(s.user)];case 3:o.sent(),o.label=4;case 4:return[2,s]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yL=function(){function t(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return t._fromServerResponse=function(e,n){return"phoneInfo"in n?kce._fromServerResponse(e,n):"totpInfo"in n?Ace._fromServerResponse(e,n):eo(e,"internal-error")},t}(),kce=function(t){Ft(e,t);function e(n){var r=t.call(this,"phone",n)||this;return r.phoneNumber=n.phoneInfo,r}return e._fromServerResponse=function(n,r){return new e(r)},e}(yL),Ace=function(t){Ft(e,t);function e(n){return t.call(this,"totp",n)||this}return e._fromServerResponse=function(n,r){return new e(r)},e}(yL),f5=function(){function t(e,n,r){r===void 0&&(r={}),this.isNewUser=e,this.providerId=n,this.profile=r}return t}(),_L=function(t){Ft(e,t);function e(n,r,i,s){var o=t.call(this,n,r,i)||this;return o.username=s,o}return e}(f5);(function(t){Ft(e,t);function e(n,r){return t.call(this,n,"facebook.com",r)||this}return e})(f5);(function(t){Ft(e,t);function e(n,r){return t.call(this,n,"github.com",r,typeof(r==null?void 0:r.login)=="string"?r==null?void 0:r.login:null)||this}return e})(_L);(function(t){Ft(e,t);function e(n,r){return t.call(this,n,"google.com",r)||this}return e})(f5);(function(t){Ft(e,t);function e(n,r,i){return t.call(this,n,"twitter.com",r,i)||this}return e})(_L);var r4="@firebase/auth",i4="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pce=function(){function t(e){this.auth=e,this.internalListeners=new Map}return t.prototype.getUid=function(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null},t.prototype.getToken=function(e){return Y(this,void 0,void 0,function(){var n;return X(this,function(r){switch(r.label){case 0:return this.assertAuthConfigured(),[4,this.auth._initializationPromise];case 1:return r.sent(),this.auth.currentUser?[4,this.auth.currentUser.getIdToken(e)]:[2,null];case 2:return n=r.sent(),[2,{accessToken:n}]}})})},t.prototype.addAuthTokenListener=function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var n=this.auth.onIdTokenChanged(function(r){e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}},t.prototype.removeAuthTokenListener=function(e){this.assertAuthConfigured();var n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())},t.prototype.assertAuthConfigured=function(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")},t.prototype.updateProactiveRefresh=function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nce(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Lce(t){ws(new Gi("auth",function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),a=i.options,l=a.apiKey,c=a.authDomain;Fe(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});var u={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fL(t)},d=new rce(i,s,o,u);return cce(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,n,r){var i=e.getProvider("auth-internal");i.initialize()})),ws(new Gi("auth-internal",function(e){var n=pL(e.getProvider("auth").getImmediate());return function(r){return new Pce(r)}(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(r4,i4,Nce(t)),Nr(r4,i4,"esm5")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wL=function(){function t(e,n){this.storageRetriever=e,this.type=n}return t.prototype._isAvailable=function(){try{return this.storage?(this.storage.setItem(zS,"1"),this.storage.removeItem(zS),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}},t.prototype._set=function(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()},t.prototype._get=function(e){var n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)},t.prototype._remove=function(e){return this.storage.removeItem(e),Promise.resolve()},Object.defineProperty(t.prototype,"storage",{get:function(){return this.storageRetriever()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mce(){var t=ot();return aL(t)||hL(t)}var Oce=1e3,Dce=10;(function(t){Ft(e,t);function e(){var n=t.call(this,function(){return window.localStorage},"LOCAL")||this;return n.boundEventHandler=function(r,i){return n.onStorageEvent(r,i)},n.listeners={},n.localCache={},n.pollTimer=null,n.safariLocalStorageNotSynced=Mce()&&Jle(),n.fallbackToPolling=Xle(),n._shouldAllowMigration=!0,n}return e.prototype.forAllChangedKeys=function(n){for(var r=0,i=Object.keys(this.listeners);r<i.length;r++){var s=i[r],o=this.storage.getItem(s),a=this.localCache[s];o!==a&&n(s,a,o)}},e.prototype.onStorageEvent=function(n,r){var i=this;if(r===void 0&&(r=!1),!n.key){this.forAllChangedKeys(function(c,u,d){i.notifyListeners(c,d)});return}var s=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var o=this.storage.getItem(s);if(n.newValue!==o)n.newValue!==null?this.storage.setItem(s,n.newValue):this.storage.removeItem(s);else if(this.localCache[s]===n.newValue&&!r)return}var a=function(){var c=i.storage.getItem(s);!r&&i.localCache[s]===c||i.notifyListeners(s,c)},l=this.storage.getItem(s);Yle()&&l!==n.newValue&&n.newValue!==n.oldValue?setTimeout(a,Dce):a()},e.prototype.notifyListeners=function(n,r){this.localCache[n]=r;var i=this.listeners[n];if(i)for(var s=0,o=Array.from(i);s<o.length;s++){var a=o[s];a(r&&JSON.parse(r))}},e.prototype.startPolling=function(){var n=this;this.stopPolling(),this.pollTimer=setInterval(function(){n.forAllChangedKeys(function(r,i,s){n.onStorageEvent(new StorageEvent("storage",{key:r,oldValue:i,newValue:s}),!0)})},Oce)},e.prototype.stopPolling=function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)},e.prototype.attachListener=function(){window.addEventListener("storage",this.boundEventHandler)},e.prototype.detachListener=function(){window.removeEventListener("storage",this.boundEventHandler)},e.prototype._addListener=function(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)},e.prototype._removeListener=function(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())},e.prototype._set=function(n,r){return Y(this,void 0,void 0,function(){return X(this,function(i){switch(i.label){case 0:return[4,t.prototype._set.call(this,n,r)];case 1:return i.sent(),this.localCache[n]=JSON.stringify(r),[2]}})})},e.prototype._get=function(n){return Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(i.label){case 0:return[4,t.prototype._get.call(this,n)];case 1:return r=i.sent(),this.localCache[n]=JSON.stringify(r),[2,r]}})})},e.prototype._remove=function(n){return Y(this,void 0,void 0,function(){return X(this,function(r){switch(r.label){case 0:return[4,t.prototype._remove.call(this,n)];case 1:return r.sent(),delete this.localCache[n],[2]}})})},e.type="LOCAL",e})(wL);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){Ft(e,t);function e(){return t.call(this,function(){return window.sessionStorage},"SESSION")||this}return e.prototype._addListener=function(n,r){},e.prototype._removeListener=function(n,r){},e.type="SESSION",e})(wL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p5=function(t){Ft(e,t);function e(n){var r=t.call(this,"custom","custom")||this;return r.params=n,r}return e.prototype._getIdTokenResponse=function(n){return Ws(n,this._buildIdpRequest())},e.prototype._linkToIdToken=function(n,r){return Ws(n,this._buildIdpRequest(r))},e.prototype._getReauthenticationResolver=function(n){return Ws(n,this._buildIdpRequest())},e.prototype._buildIdpRequest=function(n){var r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return n&&(r.idToken=n),r},e}(Zf);function $ce(t){return Rce(t.auth,new p5(t),t.bypassAuthState)}function jce(t){var e=t.auth,n=t.user;return Fe(n,e,"internal-error"),Sce(n,new p5(t),t.bypassAuthState)}function Fce(t){return Y(this,void 0,void 0,function(){var e,n;return X(this,function(r){return e=t.auth,n=t.user,Fe(n,e,"internal-error"),[2,Tce(n,new p5(t),t.bypassAuthState)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vce=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return t.prototype.execute=function(){var e=this;return new Promise(function(n,r){return Y(e,void 0,void 0,function(){var i,s;return X(this,function(o){switch(o.label){case 0:this.pendingPromise={resolve:n,reject:r},o.label=1;case 1:return o.trys.push([1,4,,5]),i=this,[4,this.resolver._initialize(this.auth)];case 2:return i.eventManager=o.sent(),[4,this.onExecution()];case 3:return o.sent(),this.eventManager.registerConsumer(this),[3,5];case 4:return s=o.sent(),this.reject(s),[3,5];case 5:return[2]}})})})},t.prototype.onAuthEvent=function(e){return Y(this,void 0,void 0,function(){var n,r,i,s,o,a,l,c,u;return X(this,function(d){switch(d.label){case 0:if(n=e.urlResponse,r=e.sessionId,i=e.postBody,s=e.tenantId,o=e.error,a=e.type,o)return this.reject(o),[2];l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},d.label=1;case 1:return d.trys.push([1,3,,4]),c=this.resolve,[4,this.getIdpTask(a)(l)];case 2:return c.apply(this,[d.sent()]),[3,4];case 3:return u=d.sent(),this.reject(u),[3,4];case 4:return[2]}})})},t.prototype.onError=function(e){this.reject(e)},t.prototype.getIdpTask=function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $ce;case"linkViaPopup":case"linkViaRedirect":return Fce;case"reauthViaPopup":case"reauthViaRedirect":return jce;default:eo(this.auth,"internal-error")}},t.prototype.resolve=function(e){vu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()},t.prototype.reject=function(e){vu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()},t.prototype.unregisterAndCleanUp=function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uce="pendingRedirect",qv=new Map;(function(t){Ft(e,t);function e(n,r,i){i===void 0&&(i=!1);var s=t.call(this,n,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,i)||this;return s.eventId=null,s}return e.prototype.execute=function(){return Y(this,void 0,void 0,function(){var n,r,i,s,o;return X(this,function(a){switch(a.label){case 0:if(n=qv.get(this.auth._key()),n)return[3,8];a.label=1;case 1:return a.trys.push([1,6,,7]),[4,Bce(this.resolver,this.auth)];case 2:return r=a.sent(),r?[4,t.prototype.execute.call(this)]:[3,4];case 3:return s=a.sent(),[3,5];case 4:s=null,a.label=5;case 5:return i=s,n=function(){return Promise.resolve(i)},[3,7];case 6:return o=a.sent(),n=function(){return Promise.reject(o)},[3,7];case 7:qv.set(this.auth._key(),n),a.label=8;case 8:return this.bypassAuthState||qv.set(this.auth._key(),function(){return Promise.resolve(null)}),[2,n()]}})})},e.prototype.onAuthEvent=function(n){return Y(this,void 0,void 0,function(){var r;return X(this,function(i){switch(i.label){case 0:return n.type==="signInViaRedirect"?[2,t.prototype.onAuthEvent.call(this,n)]:n.type==="unknown"?(this.resolve(null),[2]):n.eventId?[4,this.auth._redirectUserForId(n.eventId)]:[3,2];case 1:if(r=i.sent(),r)return this.user=r,[2,t.prototype.onAuthEvent.call(this,n)];this.resolve(null),i.label=2;case 2:return[2]}})})},e.prototype.onExecution=function(){return Y(this,void 0,void 0,function(){return X(this,function(n){return[2]})})},e.prototype.cleanUp=function(){},e})(Vce);function Bce(t,e){return Y(this,void 0,void 0,function(){var n,r,i;return X(this,function(s){switch(s.label){case 0:return n=Wce(e),r=zce(t),[4,r._isAvailable()];case 1:return s.sent()?[4,r._get(n)]:[2,!1];case 2:return i=s.sent()==="true",[4,r._remove(n)];case 3:return s.sent(),[2,i]}})})}function zce(t){return No(t._redirectPersistence)}function Wce(t){return Sp(Uce,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hce=10*60*1e3,qce=function(){function t(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return t.prototype.registerConsumer=function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)},t.prototype.unregisterConsumer=function(e){this.consumers.delete(e)},t.prototype.onEvent=function(e){var n=this;if(this.hasEventBeenHandled(e))return!1;var r=!1;return this.consumers.forEach(function(i){n.isEventForConsumer(e,i)&&(r=!0,n.sendToConsumer(e,i),n.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Gce(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r},t.prototype.sendToConsumer=function(e,n){var r;if(e.error&&!xL(e)){var i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(c5(this.auth,i))}else n.onAuthEvent(e)},t.prototype.isEventForConsumer=function(e,n){var r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r},t.prototype.hasEventBeenHandled=function(e){return Date.now()-this.lastProcessedEventTime>=Hce&&this.cachedEventUids.clear(),this.cachedEventUids.has(s4(e))},t.prototype.saveEventToCache=function(e){this.cachedEventUids.add(s4(e)),this.lastProcessedEventTime=Date.now()},t}();function s4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(function(e){return e}).join("-")}function xL(t){var e=t.type,n=t.error;return e==="unknown"&&(n==null?void 0:n.code)==="auth/".concat("no-auth-event")}function Gce(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xL(t);default:return!1}}(function(t){Ft(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.passiveListeners=new Set,n.initPromise=new Promise(function(r){n.resolveInialized=r}),n}return e.prototype.addPassiveListener=function(n){this.passiveListeners.add(n)},e.prototype.removePassiveListener=function(n){this.passiveListeners.delete(n)},e.prototype.resetRedirect=function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1},e.prototype.onEvent=function(n){return this.resolveInialized(),this.passiveListeners.forEach(function(r){return r(n)}),t.prototype.onEvent.call(this,n)},e.prototype.initialized=function(){return Y(this,void 0,void 0,function(){return X(this,function(n){switch(n.label){case 0:return[4,this.initPromise];case 1:return n.sent(),[2]}})})},e})(qce);Lce("Cordova");const Kce=({openChangePassword:t,setOpenChangePassword:e,openMessage:n})=>{const{userData:r,userId:i}=y.useContext(Z),[s,o]=y.useState(""),[a,l]=y.useState(""),c=async()=>{const h=Ps.currentUser;try{if(h)await EC(h,a),await xw(()=>Vn(ve(Ae,"users",i),{password:a})),n("Your password is changed successfully!"),e(!1);else{n("Try again later...");return}}catch(p){p.code==="auth/requires-recent-login"?u(h):n(p.message)}},u=async h=>{try{const p=Ece.credential(h.email,a);await aJ(h,p),await EC(h,a),await xw(()=>Vn(ve(Ae,"users",i),{password:a})),n("Password updated successfully after re-authentication."),e(!1)}catch(p){n(`Re-authentication failed: ${p.message}`)}},d=()=>{try{r?r.password===s?c():(n("Your old password is wrong!"),console.log("wrong")):n("Network error")}catch(h){n(h.message)}};return f.jsx(Qi,{open:t,onClose:()=>e(!1),children:f.jsxs(ye,{m:2,children:[f.jsx(jt,{variant:"h6",mb:2,children:"Change your account password"}),f.jsxs(gi,{gap:2,children:[f.jsx(li,{type:"password",size:"small",label:"Enter old password",value:s,onChange:h=>o(h.target.value)}),f.jsx(li,{type:"password",size:"small",label:"Enter new password",value:a,onChange:h=>l(h.target.value)})]}),f.jsx(Oe,{onClick:d,variant:"outlined",sx:{mt:1},children:"Change"})]})})},Qce=({openViewPassword:t,setOpenViewPassword:e})=>{const{userData:n}=y.useContext(Z),[r,i]=y.useState(!1),s=()=>{var o;return(o=n==null?void 0:n.password)!=null&&o.trim()?n==null?void 0:n.password:"You logged in with Google. So, your passwod is just blank."};return f.jsx(Qi,{open:t,onClose:()=>e(!1),children:f.jsxs(ye,{m:3,children:[f.jsx(jt,{variant:"h6",mb:2,children:"Your account password"}),f.jsxs(gi,{gap:2,children:[f.jsx(jt,{children:r?s():"*************"}),f.jsx(Oe,{onClick:()=>i(!r),size:"small",sx:{textDecoration:"underline"},children:r?"Hide":"View"})]})]})})},Yce=()=>{var $;const{userData:t,theme:e,setHeaderTitle:n,setIsLogIn:r,setSnackbarOpen:i,setSnackbarMessage:s}=y.useContext(Z),[o,a]=y.useState(t.name||""),[l,c]=y.useState((t==null?void 0:t.gender)||""),[u,d]=y.useState(null),[h,p]=y.useState(!1),[m,v]=y.useState(!1),x=y.useRef(null),g=ve(Ae,"users",Di.get("userId")),w=(t==null?void 0:t.nameChangeCount)||0,_=($=t==null?void 0:t.lastNameChangeDate)==null?void 0:$.toDate(),E=new Date,S=E.getMonth()===(_==null?void 0:_.getMonth())&&E.getFullYear()===(_==null?void 0:_.getFullYear()),[I,C]=y.useState(!1),[b,R]=y.useState(!1),T=An(),k=F=>{i(!0),s(F)};y1(x,p);const N=()=>(t==null?void 0:t.gender)!==l;y.useEffect(()=>{n("Settings")},[]),y.useEffect(()=>{(async()=>{!S&&(t!=null&&t.name)&&await Vn(g,{nameChangeCount:0,lastNameChangeDate:E})})()},[t]);const M=async(F,q)=>{if(o.trim())try{await Vn(g,F),k(q)}catch(W){k(W.message)}},L=()=>{const F=new Date;if(S)if(w<3){const q={name:o.trim(),nameChangeCount:w+1,lastNameChangeDate:F};M(q,"Updated name successfully!")}else k("You can only change your name 3 times per month!");else{const q={name:o.trim(),nameChangeCount:1,lastNameChangeDate:F};M(q,"Updated name successfully!")}};y.useEffect(()=>{a(t.name),c(t==null?void 0:t.gender)},[t]);const j=async()=>{const F=await vn(u,{maxSizeMB:.3,maxWidthOrHeight:300,useWebWorker:!0}),q=Po(za,`profile/${t.uid}/${t.name}-${u.name}`);try{const W=ve(Ae,"users",t.uid);k("Uploading image...");const z=await tf(q,F),V={image:await nf(z.ref)};await Vn(W,V),d(null),k("Updated profile picture successfully!")}catch(W){k(W.message)}},P=async()=>{await Vn(g,{gender:l}),i(!0),k("Updated gender successfully!")},A=()=>{i(!0),u&&j(),o.trim()!==t.name&&L(),N()&&P()},O=async()=>{try{await oP(Ps),r(!1),Di.remove("userId"),T("/login")}catch(F){console.log(F.message)}};return f.jsxs("div",{className:"Settings m-2",children:[I&&f.jsx(Kce,{openChangePassword:I,setOpenChangePassword:C,openMessage:k}),b&&f.jsx(Qce,{openViewPassword:b,setOpenViewPassword:R}),f.jsx(Zs,{data:{value:m,yesButton:O,noButton:()=>{v(!1)},text:"Are you sure to log out ?",setValue:v}}),f.jsx(Si,{}),f.jsxs(ye,{className:"",children:[f.jsx(jt,{sx:{fontWeight:600,mt:2,mb:1},children:"My Account"}),f.jsxs(ye,{className:"border border-slate-300 rounded-md shadow-lg",children:[f.jsxs(ye,{className:"p-2 flex flex-col items-center",children:[f.jsxs("label",{className:"relative size-20 ",htmlFor:"imageInput",children:[f.jsx(ti,{className:"hover:opacity-70 cursor-pointer",name:t.name||o||"User",image:u?URL.createObjectURL(u):t.image,size:"size-full",fontSize:"text-3xl"}),f.jsx("input",{type:"file",accept:"image/*",id:"imageInput",className:"hidden ",onChange:F=>d(F.target.files[0])})]}),f.jsxs("div",{ref:x,className:"flex mt-2 gap-x-2 items-center",children:[!h&&f.jsx(jt,{className:"font-bold",children:o||t.name||"Username"}),h&&f.jsx(li,{size:"small",variant:"standard",label:"Full Name",autoFocus:!0,value:o,onChange:F=>a(F.target.value),className:`pl-1 pr-1 w-auto font-bold ${e==="light"?"outline-none bg-slate-200/60":"bg-slate-500/70 outline-none"}`,placeholder:"Enter your full name"}),f.jsx(Sn,{size:"small",onClick:()=>{p(!h)},className:" p-1  cursor-pointer ",children:f.jsx("img",{className:"w-5",src:Pe("edit")})})]}),f.jsx(jt,{x:{fontSize:"0.8rem"},className:"text-slate-500",children:t.email||"example@gmail.com"}),f.jsxs(jt,{sx:{fontSize:"0.8rem"},className:"text-slate-500",children:["User ID: ",t.uid||"user12345"," ",f.jsx(Sn,{size:"small",onClick:()=>{navigator.clipboard.writeText(t==null?void 0:t.uid),k("UID copied to the clipboard")},className:" p-1  cursor-pointer",children:f.jsx(Wn,{size:"size-5",name:"clipboard"})})]}),f.jsx(Oe,{onClick:()=>v(!0),sx:{mt:2},variant:"outlined",children:"Log Out"})]}),f.jsx(ye,{className:"p-2 flex justify-center border-t border-slate-200",children:f.jsxs(gi,{direction:"row",sx:{width:"50%",alignItems:"center",justifyContent:"space-between"},children:[f.jsx(jt,{variant:"subtitle1",children:"Gender"}),f.jsx(xle,{label:"Gender",gender:l,options:[{value:"male",label:"Male"},{value:"female",label:"Female"}],setValue:c})]})}),f.jsx(ye,{className:"p-2 flex justify-center border-t border-b border-slate-200",children:f.jsxs(gi,{direction:"row",sx:{width:"50%",alignItems:"center",justifyContent:"space-between"},children:[f.jsx(jt,{variant:"subtitle1",children:"Password"}),f.jsxs(gi,{direction:"row",children:[f.jsx(Oe,{size:"small",sx:{textDecoration:"underline"},className:" text-blue",onClick:()=>R(!0),variant:"text",children:"View"}),f.jsx(Oe,{size:"small",sx:{textDecoration:"underline"},className:" text-blue",onClick:()=>C(!0),variant:"text",children:"Change"})]})]})}),f.jsx("div",{className:`grid gap-y-2 p-2  ${e==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:f.jsx("div",{children:(t==null?void 0:t.name)&&f.jsxs("p",{className:"text-red-600 font-bold text-sm mb-1",children:["You have changed your name ",`${w} / 3`," ",w>1?"times":"time"," this month!"]})})})]})]}),f.jsx("div",{className:"flex gap-x-2 mt-2",children:N()||u||(o==null?void 0:o.trim())!==t.name?f.jsx(Oe,{variant:"outlined",onClick:A,startIcon:f.jsx("img",{className:"size-7",src:Pe("save")}),children:"Update"}):""})]})},o4=({data:t})=>{const{text:e,onChangeFn:n,value:r,placeholder:i}=t,{theme:s}=y.useContext(Z);return f.jsxs("div",{className:"grid items-center gap-y-2",children:[f.jsx("div",{className:"font-medium",children:e}),f.jsx("input",{onChange:n,value:r,className:`border rounded-md h-10 pl-1 pr-1  w-full outline-2  ${s==="light"?"focus:outline-blue-300 border-gray-300":"border-slate-500/70 outline-none bg-slate-500/70"}`,placeholder:i})]})},Xce=({data:t})=>{const{close:e}=t,{theme:n,userId:r}=y.useContext(Z),[i,s]=y.useState(""),[o,a]=y.useState(""),l=i.trim(),c=qe(Ae,"tests"),u=async p=>{try{await na(c,p)}catch(m){console.log(m.message)}},d=()=>{const p={uid:r,isUploaded:!1,name:i,description:o,quizzes:[],gradingRules:[],time:rr()};u(p),e()},h=()=>{l&&d()};return y.useEffect(()=>(Cl("hidden"),()=>{Cl("auto")}),[]),f.jsx("div",{className:"fixed flex items-center z-20 bg-black/60 justify-center top-0 left-0 right-0 bottom-0",children:f.jsxs("div",{className:`border w-4/5 sm:w-4/5 md:w-3/5 lg:w-2/5 rounded-md p-10 pb-5 grid gap-y-5 ${n==="light"?"bg-white border-gray-300":"bg-slate-600 border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(o4,{data:{text:"Name",onChangeFn:p=>s(p.target.value),value:i,placeholder:"Type test name here"}}),f.jsx(o4,{data:{text:"Description",onChangeFn:p=>a(p.target.value),value:o,placeholder:"Type description here"}})]}),f.jsxs("div",{className:"flex items-center gap-x-3 justify-center",children:[f.jsx(Vi,{data:{clickFn:h,text:"Save",image:"save"}}),f.jsx(Vi,{data:{clickFn:e,text:"Cancel"}})]})]})})},Jce=({data:t})=>{const{options:e,value:n,setValue:r}=t,{theme:i}=y.useContext(Z),[s,o]=y.useState(!1),a=y.useRef(null);y1(a,o);const l=()=>{o(!s)},c=u=>{r(u)};return f.jsxs("div",{ref:a,className:"w-full relative font-padauk",children:[f.jsxs("button",{onClick:l,className:`border flex items-center rounded-lg justify-between h-10 w-full cursor-pointer hover:border-blue-500 shadow-sm gap-x-2 px-2 ${i==="light"?"border-gray-300 hover:bg-gray-50":"hover:bg-slate-500/70 text-white border-slate-500/70"}`,children:[f.jsx("span",{children:n||"Select correct answer"}),f.jsx("img",{className:"h-6 w-6",src:Pe(s?"up":"down")})]}),s&&e.length!==0?f.jsx("div",{className:`absolute grid gap-y-1 min-w-full p-2 rounded-md border -top-40 ${i==="light"?"border-gray-200 bg-white":"text-white bg-slate-500/70 border-slate-500/70"}`,children:e.map(u=>f.jsx("div",{onClick:()=>{l(),c(u)},className:`p-1 cursor-pointer rounded-lg transition-all ${i==="light"?`${u===n?"bg-black font-medium text-white ":"hover:bg-gray-200"}`:`${u===n?"bg-slate-600 font-medium text-white ":"hover:bg-slate-600"}`}`,children:u},`choice-${u}`))}):""]})},To=({data:t})=>{const{choice:e,handleFn:n,value:r,placeholder:i}=t,{theme:s}=y.useContext(Z);return f.jsxs("div",{className:"grid gap-y-2 font-padauk",children:[f.jsx("div",{className:`font-medium ${s==="light"?"":"text-white"}`,children:e}),f.jsx("input",{onChange:o=>n(e,o),value:r,className:` w-full border rounded-md h-10 pl-1 pr-1  ${s==="light"?"focus:outline-blue-500 border-gray-300":"text-white outline-none border-slate-500/70 bg-slate-600"}`,placeholder:i})]})},Zce=({data:t})=>{const{cancel:e,quizzes:n,setQuizzes:r,editData:i,clearEditData:s}=t,{theme:o}=y.useContext(Z),[a,l]=y.useState(i?i.question:""),[c,u]=y.useState(i?i.choices[0]:""),[d,h]=y.useState(i?i.choices[1]:""),[p,m]=y.useState(i?i.choices[2]:""),[v,x]=y.useState(i?i.choices[3]:""),[g,w]=y.useState(i?i.answer:"");let _=[];const E=c.trim()&&d.trim()&&p.trim()&&v.trim(),S=a.trim()&&c.trim()&&d.trim()&&p.trim()&&v.trim()&&g.trim();E&&(_=[c,d,p,v]);const I=(N,M)=>{N.toLowerCase()==="question"?l(M.target.value):w(M.target.value)},C=()=>{let N,M;S&&(N={id:n.length===0?1:n[n.length-1].id+1,question:a,choices:_,answer:g},M=[...n,N],r(M),oh(),e())},b=()=>{const N=i.id,M={id:N,question:a,choices:_,answer:g},L=n.map(j=>N===j.id?M:j);r(L),e(),s()},R=(N,M)=>{N.toLowerCase()==="choice 1"?u(M.target.value):N.toLowerCase()==="choice 2"?h(M.target.value):N.toLowerCase()==="choice 3"?m(M.target.value):x(M.target.value)},T=()=>{i?b():C()},k=()=>{e(),s()};return y.useEffect(()=>(Cl("hidden"),()=>{Cl("auto")}),[]),f.jsx("div",{className:"fixed flex items-center z-20 bg-black/60 justify-center top-0 left-0 right-0 bottom-0",children:f.jsxs("div",{className:`border w-5/6 sm:w-4/5 md:w-3/5 lg:w-2/5 grid gap-y-2  p-3  top-0 left-0 right-0 bottom-0 rounded-lg relative ${o==="light"?"bg-white border-gray-200":"text-white border-slate-500/70 bg-slate-600"}`,children:[f.jsx("div",{className:`top-1 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center ${o==="light"?"bg-black border-gray-200":"bg-slate-500/70 border-slate-600"}`,children:i?i.number:n.length+1}),f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(To,{data:{handleFn:I,value:a,choice:"Question",placeholder:"Enter question"}}),f.jsx(To,{data:{handleFn:R,value:c,choice:"Choice 1",placeholder:"Enter choice 1"}}),f.jsx(To,{data:{handleFn:R,value:d,choice:"Choice 2",placeholder:"Enter choice 2"}}),f.jsx(To,{data:{handleFn:R,value:p,choice:"Choice 3",placeholder:"Enter choice 3"}}),f.jsx(To,{data:{handleFn:R,value:v,choice:"Choice 4",placeholder:"Enter choice 4"}}),f.jsxs("div",{className:"flex items-center gap-x-5",children:[f.jsx("div",{className:"font-medium",children:"Answer"}),f.jsx(Jce,{data:{options:_,value:g,setValue:w}})]})]}),f.jsxs("div",{className:"flex justify-end gap-x-2",children:[f.jsx(Vi,{data:{clickFn:T,text:"Save",image:"save"}}),f.jsx(Vi,{data:{clickFn:k,text:"Cancel"}})]})]})})},eue=({data:t})=>{const{theme:e}=y.useContext(Z),{testName:n,numbers:r,changePage:i}=t;return f.jsx("div",{className:`text-lg p-1 font-medium sticky top-0 z-10 flex justify-between items-center ${e==="light"?"":"text-white"}`,children:f.jsxs("div",{className:"flex items-center gap-x-2",children:[f.jsx(pn,{data:{clickFn:()=>i("test"),image:"back"}}),f.jsxs("div",{children:[n,f.jsxs("span",{className:"text-sm",children:["  "," ",r," ",r>1?"questions":"question"]})]})]})})},tue=({data:t})=>{const{quizzes:e,editQuestion:n,askToDelete:r,add:i,changePage:s}=t,{theme:o}=y.useContext(Z);return f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx("div",{className:`pl-1 font-medium ${o==="light"?"":"text-white"}`,children:"Questions"}),e.map((a,l)=>f.jsxs("div",{className:`border font-padauk p-2 relative ${o==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-x-2",children:[f.jsx(pn,{data:{clickFn:()=>n(a,l),image:"edit"}}),f.jsx(pn,{data:{clickFn:()=>r(a.id),image:"trash"}})]}),f.jsxs("div",{className:"flex items-center justify-between gap-x-2",children:[f.jsx("div",{className:"overflow-x-auto p-0.5 flex-1",children:a.question}),f.jsx("div",{className:`top-0 shadow-md border rounded-full right-1 h-9 w-9 text-white font-medium flex justify-center absolute items-center ${o==="light"?"bg-black border-gray-200":"bg-slate-500/70 border-slate-600"}`,children:l+1})]}),f.jsx("div",{className:"pl-2 pt-2 grid gap-y-1",children:a.choices.map((c,u)=>f.jsxs("div",{className:"flex gap-x-2",children:[f.jsx("div",{className:`w-8 flex h-8 items-center  justify-center text-white font-medium rounded-md ${o==="light"?"bg-black":"bg-slate-500/70"}`,children:u+1}),f.jsx("div",{className:"flex-1",children:c})]},`choice-${l}-${u}`))})]},`question-${l}`)),f.jsx("div",{className:"flex justify-center sticky bottom-5",children:f.jsx(pn,{data:{clickFn:i,image:"add"}})})]})},nue=({data:t})=>{const{currentTest:e,setCurrentTest:n,setIsRulesAdding:r,setEditData:i}=t,{theme:s}=y.useContext(Z),{gradingRules:o}=e,[a,l]=y.useState(null),c=m=>{const v=o.filter(g=>g.id!==m),x={...e,gradingRules:v};n(x)},u=m=>{l(m)},d=m=>{i(m),r(!0)},h=()=>{c(a),l(null)},p=()=>{l(null)};return f.jsxs("div",{className:"grid gap-y-3",children:[f.jsx("div",{className:`pl-1 font-medium ${s==="light"?"":"text-white"}`,children:"Grading Rules"}),f.jsx(Zs,{data:{value:a,setValue:l,yesButton:h,noButton:p,text:"Are you sure to delete?"}}),o.map((m,v)=>f.jsxs("div",{className:`flex font-padauk items-center justify-between border  p-2 ${s==="light"?"border-gray-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"grid flex-1 grid-cols-3 justify-between mr-10",children:[f.jsx(Gv,{data:{text:"From",value:m.from}}),f.jsx(Gv,{data:{text:"To",value:m.to}}),f.jsx(Gv,{data:{text:"Level",value:m.level}})]}),f.jsxs("div",{className:"flex items-center gap-x-1 h-full ",children:[f.jsx(pn,{data:{clickFn:()=>d(m),image:"edit"}}),f.jsx(pn,{data:{clickFn:()=>u(m.id),image:"trash"}})]})]},`rule-${v}-${m.from}-${m.to}-${m.level}`)),f.jsx("div",{className:"flex justify-center sticky bottom-5",children:f.jsx(pn,{data:{clickFn:()=>r(!0),image:"add"}})})]})},Gv=({data:t})=>{const{text:e,value:n}=t,{theme:r}=y.useContext(Z);return f.jsxs("div",{className:"grid gap-y-1",children:[f.jsx("div",{className:"font-medium",children:e}),f.jsx("div",{className:`font-medium max-h-10 ${r==="light"?"text-slate-600":"text-white"}`,children:typeof n=="string"?ya(n,15):n})]})},rue=({data:t})=>{const{currentTest:e,setCurrentTest:n,editData:r,setEditData:i,setIsRulesAdding:s}=t,{theme:o}=y.useContext(Z),{gradingRules:a}=e,[l,c]=y.useState(r?r.from:null),[u,d]=y.useState(r?r.to:null),[h,p]=y.useState(r?r.level:""),m=l&&u&&h.trim(),v=()=>{const E={id:a.length===0?1:a[a.length-1].id+1,from:Number(l),to:Number(u),level:h},S={...e,gradingRules:[...a,E]};n(S)},x=()=>{const E=r.id,S={id:E,from:Number(l),to:Number(u),level:h},I=a.map(b=>E===b.id?S:b),C={...e,gradingRules:I};n(C)},g=()=>{s(!1),i(null)},w=()=>{m&&(r?x():v(),g())},_=(E,S)=>{const I=S.target.value;E.toLowerCase()==="from"?c(I):E.toLowerCase()==="to"?d(I):p(I)};return y.useEffect(()=>(Cl("hidden"),()=>{Cl("auto")}),[]),f.jsx("div",{className:"fixed z-20 bg-black/50 top-0 right-0 left-0 bottom-0 flex justify-center items-center",children:f.jsxs("div",{className:`border w-5/6 sm:w-4/5 md:w-3/5 lg:w-2/5 grid gap-y-2 p-3  top-0 left-0 right-0 bottom-0 rounded-lg relative ${o==="light"?"border-gray-200 bg-white":"text-white bg-slate-600 border-slate-500/70"}`,children:[f.jsx(To,{data:{handleFn:_,value:l!==null?l:"",choice:"From",placeholder:"Enter 'from' value"}}),f.jsx(To,{data:{handleFn:_,value:u!==null?u:"",choice:"To",placeholder:"Enter 'to' value"}}),f.jsx(To,{data:{handleFn:_,value:h,choice:"Level",placeholder:"Enter level"}}),f.jsxs("div",{className:"flex justify-end gap-x-2",children:[f.jsx(Vi,{data:{clickFn:w,text:"Save",image:"save"}}),f.jsx(Vi,{data:{clickFn:g,text:"Cancel"}})]})]})})},a4=({data:t})=>{const{currentTest:e,setCurrentTest:n,title:r}=t,{theme:i}=y.useContext(Z),{description:s,name:o}=e,[a,l]=y.useState(r==="Description"?s:o),[c,u]=y.useState(!1),d=v=>{l(v.target.value)},h=()=>{if(r==="Description"){const v={...e,description:a};n(v)}else{const v={...e,name:a};n(v)}},p=()=>{h(),u(!1)},m=()=>{u(!1),l(r==="Description"?s:o)};return f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx("div",{className:`font-medium ${i==="light"?"":"text-white"}`,children:r}),c?f.jsx("textarea",{autoFocus:!0,placeholder:`Type ${r.toLowerCase()} here`,onChange:d,className:`p-1 border border-gray-200 outline-none ${i==="light"?"":"text-white bg-slate-600"}`,value:a}):f.jsx("div",{className:`text-gray-500 p-1 ${i==="light"?"":"text-white"}`,children:a||"No description"}),c?f.jsxs("div",{className:"flex gap-x-2",children:[f.jsx(pn,{data:{clickFn:p,image:"save"}}),f.jsx(pn,{data:{clickFn:m,image:"falseIcon"}})]}):f.jsx(pn,{data:{clickFn:()=>u(!0),image:"edit"}})]})},iue=({data:t})=>{const{setHeaderTitle:e}=y.useContext(Z),{setPage:n,currentTest:r,setCurrentTest:i}=t,[s,o]=y.useState(!1),[a,l]=y.useState(!1),[c,u]=y.useState(r.quizzes),[d,h]=y.useState(null),[p,m]=y.useState(null);y.useEffect(()=>{e(r.name)});const v=async(N,M)=>{try{const L=ve(Ae,"tests",N);await Vn(L,M)}catch(L){console.log(L.message)}};y.useEffect(()=>{x()},[r,c]);const x=()=>{v(r.id,{...r,quizzes:c})},g=()=>{o(!0)},w=()=>{o(!1),m(null)},_=N=>{m(N)},E=()=>{C(p),m(null)},S=()=>{m(null)},I=N=>{n(N)},C=N=>{const M=c.filter(L=>L.id!==N);u(M)},b=(N,M)=>{const L={...N,number:M+1};h(L),g()},R=()=>{h(null)},T={testName:r.name,numbers:c.length,changePage:I},k={quizzes:c,editQuestion:b,askToDelete:_,add:g};return f.jsxs("div",{className:"grid gap-y-2 z-65 p-5",children:[f.jsx(eue,{data:T}),f.jsx(Sc,{}),f.jsx(a4,{data:{title:"Test Name",currentTest:r,setCurrentTest:i}}),f.jsx(a4,{data:{title:"Description",currentTest:r,setCurrentTest:i}}),f.jsx(Sc,{}),f.jsx(nue,{data:{currentTest:r,setEditData:h,setCurrentTest:i,setIsRulesAdding:l}}),f.jsx(Sc,{}),f.jsx(tue,{data:k}),s&&f.jsx(Zce,{data:{cancel:w,setQuizzes:u,quizzes:c,editData:d,clearEditData:R}}),a&&f.jsx(rue,{data:{currentTest:r,setCurrentTest:i,editData:d,setEditData:h,setIsRulesAdding:l}}),f.jsx(Zs,{data:{value:p,setValue:m,yesButton:E,noButton:S,text:"Are you sure to delete ?"}}),f.jsx(Sc,{})]})},m5=({text:t,length:e})=>{const n=An(),{theme:r}=y.useContext(Z);return f.jsxs("div",{className:`flex items-center gap-x-1 mb-2 ${r==="light"?"":"text-white"}`,children:[f.jsx(Sn,{onClick:()=>n("/app/admin"),children:f.jsx("img",{className:"size-7",src:Pe("back")})}),f.jsxs("p",{children:[t," (",e,")"]})]})},EL=({options:t,handleClick:e,message:n,chatId:r,isComment:i,messageOption:s,setMessageOption:o,isOpened:a})=>{const{userId:l}=y.useContext(Z),c=[{name:"like",image:"facebookLike"},{name:"love",image:"facebookLove"},{name:"haha",image:"facebookHaha"},{name:"wow",image:"facebookWow"},{name:"sad",image:"facebookSad"},{name:"angry",image:"facebookAngry"}],u=async h=>{const p=ve(qe(ve(qe(ve(Ae,"chats",r),"messages"),n.id),"reactedBy"),l);await Xa(p,{uid:l,reactionType:h})},d=()=>i?a:!!s;return f.jsx(Qi,{open:d,onClose:e,children:f.jsxs("div",{className:"m-5 md:w-[450px] lg:w-[500px] ",children:[i?f.jsx("div",{className:"p-2 rounded-md bg-slate-50 pl-4 text-lg font-bold",children:"More options"}):f.jsx("div",{className:" flex gap-x-1 rounded-md p-1",children:c.map(h=>f.jsx(Sn,{onClick:()=>{e(),u(h.name)},children:f.jsx("img",{className:"w-6",src:Pe(h.image)})},h.name))}),f.jsx("div",{className:"grid gap-y-1",children:t.map(h=>{if(h)return f.jsxs("button",{className:"flex items-center gap-x-1 p-2 hover:bg-slate-100",onClick:()=>{h.onClick(),e()},children:[f.jsx("img",{className:"w-6",src:Pe(h.icon)}),f.jsx("p",{children:h.text})]},h.text)})})]})})},g5=({options:t,left:e="-left-[102px]",message:n,chatId:r,isComment:i})=>{const[s,o]=y.useState(!1),a=y.useRef(null);return y1(a,o),f.jsxs(f.Fragment,{children:[f.jsx(Sn,{onClick:()=>o(!0),children:f.jsx("img",{className:"w-6",src:Pe("moreOption")})}),s&&f.jsx(EL,{handleClick:()=>{o(!1)},moreOptionRef:a,options:t,message:n,chatId:r,isComment:i,isOpened:s})]})},sue=()=>{const[t,e]=y.useState("test"),{theme:n,isLogin:r,tests:i,setTests:s,setHeaderTitle:o}=y.useContext(Z),[a,l]=y.useState({}),[c,u]=y.useState(!1),[d,h]=y.useState(!1),[p,m]=y.useState(null);jl("tests",s,r),y.useEffect(()=>{o("Admin - Tests")},[]),y.useEffect(()=>(Wi(),Wi()),[]);const v=b=>{l(b),e("editTest")},x=b=>{m(b),h(!0)},g=async b=>{const R=ve(Ae,"tests",b.id);await Vn(R,{isUploaded:!b.isUploaded})},w=()=>{I(p),m(null),h(!1)},_=()=>{h(!1)},E=()=>{u(!0)},S=()=>{u(!1)},I=async b=>{try{const R=ve(Ae,"tests",b);await qo(R)}catch(R){console.log(R.message)}};return(()=>{switch(t){case"test":return f.jsxs("div",{className:"p-5 grid gap-y-2",children:[f.jsx("div",{className:"flex justify-between",children:f.jsx(m5,{text:"Tests",length:i.length})}),c&&f.jsx(Xce,{data:{close:S}}),f.jsx(Zs,{data:{value:d,setValue:h,yesButton:w,noButton:_,text:"Are you sure to delete ?"}}),f.jsx("div",{className:"grid border border-slate-200 shadow-md rounded-md overflow-hidden",children:i.map((b,R)=>f.jsxs("div",{className:`cursor-pointer hover:bg-slate-100 ${R===0&&"border-t-0"} flex items-center border border-t p-2  min-h-[100px] ${n==="light"?"border-slate-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"flex flex-1 gap-x-2 items-center",children:[f.jsx("input",{checked:b.isUploaded,onChange:()=>g(b),className:"size-6",type:"checkbox"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:b.name}),f.jsxs("div",{className:`text-sm ${n==="light"?"text-gray-500":"text-white"}`,children:[b.quizzes.length,b.quizzes.length>1?" questions":" question",b.isUploaded?" (Uploaded)":" (Not uploaded)"]})]})]}),f.jsx("div",{className:"flex gap-x-2",children:f.jsx(g5,{isComment:!0,options:[{text:"Edit",icon:"editPencil",onClick:()=>{v(b)}},{text:"Delete",icon:"deleteIcon",onClick:()=>x(b.id)}]})})]},` tests-${b.id}`))}),f.jsx("div",{children:f.jsx(Oe,{variant:"outlined",startIcon:f.jsx(Wn,{name:"add"}),onClick:E,children:"New test"})})]});case"editTest":return f.jsx(iue,{data:{setPage:e,currentTest:a,setCurrentTest:l}})}})()},oue=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ul(t){const n=new Date().getTime()-t,r=Math.floor(n/1e3),i=Math.floor(r/60),s=Math.floor(i/60),o=Math.floor(s/24),a=Math.floor(o/7),l=Math.floor(o/30),c=Math.floor(l/12),u=new Date(t),d=u.getFullYear(),h=u.getMonth(),p=u.getDate(),m=`${oue[h]} ${p}, ${d}`;if(c>0)return m;if(l>0)return`${m}`;if(a>0)return`${m}`;if(o>0)return`${o} ${o===1?"day":"days"} ago`;if(s>0)return`${s} ${s===1?"hour":"hours"} ago`;if(i>0)return`${i} ${i===1?"minute":"minutes"} ago`;if(r>0)return`${r} ${r===1?"second":"seconds"} ago`}function Ri(t,e,n="timestamp",r="older"){var o,a;const i=new Date((o=t[n])!=null&&o.seconds?t[n].seconds*1e3:t[n]),s=new Date((a=e[n])!=null&&a.seconds?e[n].seconds*1e3:e[n]);return r==="older"?i-s:s-i}const aue=["January","February","March","April","May","June","July","August","September","October","November","December"],lue=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Xm(t){const e=new Date().getTime(),n=new Date,r=e-t,i=Math.floor(r/1e3),s=Math.floor(i/60),o=Math.floor(s/60),a=Math.floor(o/24),l=Math.floor(a/7),c=Math.floor(a/30),u=Math.floor(c/12),d=new Date(t),h=d.getFullYear(),p=d.getMonth(),m=d.getDate(),v=lue[d.getDay()],g=!(n.getDay()===d.getDay()&&n.getMonth()===d.getMonth()&&n.getFullYear()===d.getFullYear())&&d.getDay()===n.getDay()-1,w=aue[p],_=`${w} ${m}, ${h}`,E=d.toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0});if(u>0)return`${E}  ${_}`;if(c>0)return`${E}  ${w} ${m}`;if(l>0)return`${v}, ${E}  ${w} ${m}`;if(a>0)return`${g?"Yesterday":v}, ${E}`;if(o>0)return`${g?"Yesterday, ":""}${E}`;if(s>0)return E;if(i>0)return E}function Dr(t){return t!=null&&t.seconds?t.seconds*1e3:t}const cue=({password:t})=>{const[e,n]=y.useState(!1);return f.jsxs("div",{children:["Password: ",e?t:"*********"," ",f.jsx("span",{onClick:()=>n(!e),className:"cursor-pointer text-blue-500 underline",children:e?"hide":"show"})]})},uue=()=>{const{isLogin:t,setUserData:e,users:n,theme:r,setHeaderTitle:i,userId:s,setUsers:o}=y.useContext(Z);y.useEffect(()=>(Wi(),Wi()),[]),y.useEffect(()=>{i("Admin - Users")},[]);const a=An(),l=u=>{e(u),a("/app")},c=async u=>{const d=ve(Ae,"users",u.uid);await Vn(d,{isAdmin:!u.isAdmin})};return jl("users",o,t),f.jsxs("div",{className:"mt-2 p-5",children:[f.jsx(m5,{text:"Users",length:n==null?void 0:n.length}),f.jsx("div",{className:"mt-2 overflow-hidden grid border border-slate-200 shadow-md rounded-md",children:n.sort((u,d)=>Ri(u,d,"createdAt","older")).map((u,d)=>f.jsxs("div",{className:` hover:border-slate-200 ${d===0&&"border-t-0"} border-t p-2   ${r==="light"?`hover:bg-slate-50 ${s===u.uid?"bg-slate-50 border-blue-300 ":"border-gray-200"}`:`hover:bg-slate-500/70 text-white ${s===u.uid?" border-blue-300 bg-slate-500/70":"border-slate-500/70 "}`}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex w-5/6 gap-x-2 items-center",children:[f.jsx(ti,{image:u.image,name:u.name}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"font-medium",children:[u.name," ",f.jsxs("span",{className:`${u!=null&&u.isAdmin?"text-blue-500":"text-white"}`,children:["(",u!=null&&u.isAdmin?"admin":"user",")"," ",s===u.uid?"(You)":""]})]}),f.jsx("div",{className:"text-md ",children:u.email}),f.jsxs("div",{className:"text-md",children:["Created: ",Xm(Dr(u.createdAt))]}),f.jsxs("div",{className:"text-md font-medium text-lime-600",children:["UID : ",u.uid]}),f.jsx(cue,{password:u.password})]})]}),s!==u.uid&&f.jsx(Sn,{onClick:()=>l(u),children:f.jsx(Wn,{name:"review"})})]}),s!==u.uid&&f.jsx(Oe,{onClick:()=>c(u),size:"small",startIcon:f.jsx(Wn,{name:"admin"}),children:u.isAdmin?"Remove from admin":"Set as admin"})]},u.uid))})]})},due=({data:t})=>{const{links:e,setLinks:n,setIsLinkAdding:r,isLinkAdding:i}=t,[s,o]=y.useState(""),[a,l]=y.useState(""),c=s.trim()&&a.trim(),u=()=>{if(c){const d={id:e.length===0?1:e[e.length-1].id+1,title:s.trim(),link:a.trim()},h=[...e,d];n(h),r(!1)}};return f.jsx(Qi,{open:i,onClose:()=>r(!1),children:f.jsxs(ye,{m:4,children:[f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(li,{size:"small",value:s,onChange:d=>o(d.target.value),placeholder:"Enter title..."}),f.jsx(li,{size:"small",value:a,onChange:d=>l(d.target.value),placeholder:"Enter link..."})]}),f.jsx("div",{className:"mt-2",children:f.jsx(Oe,{variant:"outlined",startIcon:f.jsx("img",{src:Pe("add"),className:"size-7"}),onClick:u,children:"Add Link"})})]})})},hue=()=>{const{users:t,theme:e,isLogin:n,posts:r,setPosts:i,setHeaderTitle:s,userId:o}=y.useContext(Z),[a,l]=y.useState("posts"),[c,u]=y.useState(null),[d,h]=y.useState(!1);y.useEffect(()=>{s("Admin - Posts")},[]),jl("posts",i,n);const p=async()=>{const v=ve(Ae,"posts",d);await qo(v)},m=()=>{switch(a){case"posts":return f.jsxs("div",{className:"grid gap-y-2",children:[f.jsx(Zs,{data:{yesButton:p,noButton:()=>h(!1),text:"Are you sure to delete this post?",setValue:h,value:d}}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx(m5,{text:"Posts",length:r.length}),f.jsx(Oe,{onClick:()=>l("createPost"),children:"Create a post"})]}),f.jsx("div",{className:"grid border shadow-md rounded-md border-slate-200 mb-2",children:r.sort((v,x)=>Ri(v,x,"time","newer")).map((v,x)=>{var g,w,_;return t.forEach(E=>{E.uid,v.uid}),f.jsxs(ye,{className:`${x===0&&"border-t-0"} overflow-hidden hover:bg-slate-100 cursor-pointer p-2 border-t   min-h-20 flex items-center  ${e==="light"?"border-slate-200":"border-slate-500/70 text-white"}`,children:[f.jsxs("div",{className:"flex-1",children:[f.jsx(fue,{post:v}),f.jsx("p",{className:"mb-2 break-words whitespace-normal",children:ya(v.description,25)}),f.jsxs("div",{className:"flex items-center gap-x-1",children:[v.images.length!==0&&f.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[f.jsx(Wn,{name:"image"}),f.jsxs("span",{children:[v.images.length," ",v.images.length<=1?"image":"images"]})]}),v.files.length!==0&&f.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[f.jsx(Wn,{name:"file"}),f.jsxs("span",{children:[v.files.length," ",v.files.length<=1?"file":"files"]})]}),v.links&&((g=v==null?void 0:v.links)==null?void 0:g.length)!==0&&f.jsxs("div",{className:"p-1 min-h-9  flex items-center gap-x-1 border border-slate-200 shadow-md rounded-md ",children:[f.jsx(Wn,{name:"link"}),f.jsxs("span",{children:[(w=v==null?void 0:v.links)==null?void 0:w.length," ",((_=v==null?void 0:v.links)==null?void 0:_.length)<=1?"link":"links"]})]}),v.draft&&f.jsx("div",{className:`p-1 min-h-9 flex items-center gap-x-1 rounded-md ${e==="light"?"bg-green-100":"bg-slate-500/70"}`,children:f.jsx("span",{className:"font-bold text-red-500",children:"(Draft)"})})]})]}),f.jsx("div",{className:"flex items-center gap-x-1",children:f.jsx(g5,{isComment:!0,options:[{text:"Edit",icon:"editPencil",onClick:()=>{u(v),l("createPost")}},{text:"Delete",icon:"deleteIcon",onClick:()=>h(v.id)}]})})]},`post-${v.id}`)})})]});case"createPost":return f.jsx(pue,{setPage:l,postData:c,setPostData:u})}};return f.jsx("div",{className:"m-5",children:m()})},fue=({post:t})=>{const{users:e,theme:n}=y.useContext(Z),[r,i]=y.useState(null),[s,o]=y.useState(!0);return Gn(t.uid,e,i,o),s?f.jsxs(ye,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Zt,{})]}):f.jsxs("div",{className:"top-section flex mb-2 gap-x-2",children:[f.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:r==null?void 0:r.image}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:r==null?void 0:r.name}),f.jsx("div",{className:` text-sm ${n==="light"?"text-gray-500":"text-white"}`,children:Ul(Dr(t.time))})]})]})},pue=({setPage:t,postData:e,setPostData:n})=>{const{theme:r}=y.useContext(Z),[i,s]=y.useState(e?e.images:[]),[o,a]=y.useState(null),[l,c]=y.useState(e?e.description:""),[u,d]=y.useState(e?e==null?void 0:e.files:[]),[h,p]=y.useState(e?(e==null?void 0:e.links)||[]:[]),[m,v]=y.useState(!1),x=l.trim()||i.length!==0||u.length!==0||h.length!==0,g=async(T=!1)=>{try{const k=qe(Ae,"posts");await na(k,{uid:userId,time:rr(),editedTime:rr(),description:l,images:i,files:u,links:h,draft:T}),t("posts")}catch(k){console.log(k.message)}},w=async()=>{try{const T=ve(Ae,"posts",e.id);await Vn(T,{editedTime:rr(),description:l,images:i,files:u,links:h,draft:!1}),t("posts")}catch(T){console.log(T.message)}},_=async()=>{try{if(e){const T=ve(Ae,"posts",e.id);await Vn(T,{editedTime:rr(),description:l,images:i,files:u,links:h,draft:!0})}else g(!0);t("posts")}catch(T){console.log(T.message)}},E=async T=>{try{const k=await vn(T,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),N=`posts/${userId}/${T.name}`,M=Po(za,N);a("Uploading image...");const L=await tf(M,k),j=await nf(L.ref),P=[...i,{name:T.name,path:N,imageURL:j}];s(P),a("Uploaded image"),setTimeout(()=>{a(null)},3e3)}catch(k){a(k.message),setTimeout(()=>{a(null)},3e3)}},S=async T=>{try{const k=`posts/${userId}/${T.name}`,N=Po(za,k);a("Uploading file...");const M=await tf(N,T),L=await nf(M.ref),j=[...u,{name:T.name,path:k,fileURL:L,size:T.size}];d(j),a("Uploaded file"),setTimeout(()=>{a(null)},3e3)}catch(k){a(k.message),setTimeout(()=>{a(null)},3e3)}},I=async(T,k)=>{const N=i.filter(L=>k!==L.imageURL);s(N);const M=Po(za,T);await aw(M)},C=async(T,k)=>{const N=u.filter(L=>k!==L.fileURL);d(N);const M=Po(za,T);await aw(M)},b=T=>{const k=h.filter(N=>T!==N.id);p(k)},R=T=>{document.getElementById(T).click()};return f.jsxs("div",{children:[f.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[o&&f.jsx(ule,{message:o}),f.jsxs("div",{className:"flex gap-x-1 items-center",children:[f.jsx(Sn,{onClick:()=>{t("posts"),n(null)},children:f.jsx("img",{className:"size-7",src:Pe("back")})}),f.jsx("div",{className:r==="light"?"":"text-white",children:e?"Edit post":"Create a post"})]}),f.jsxs("div",{className:"flex items-center gap-x-1",children:[f.jsx(Oe,{onClick:()=>{x&&_()},children:"Draft"}),f.jsx(Oe,{onClick:()=>{x?(e?w():g(),n(null)):a("Create a post first!")},startIcon:f.jsx("img",{className:"size-7",src:Pe(e?"save":"upload")}),children:e?"Save":"Publish"})]})]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("textarea",{value:l,onChange:T=>c(T.target.value),className:`w-full p-2 resize-none border min-h-28 ${r==="light"?"border-slate-300  focus:outline-blue-500":"border-slate-500/70 outline-none bg-slate-600 text-white"}`,placeholder:"Write description here"}),f.jsx("input",{className:"hidden",id:"imagesInput",type:"file",accept:"image/*",onChange:T=>E(T.target.files[0])}),f.jsx("input",{className:"hidden",id:"filesInput",type:"file",onChange:T=>S(T.target.files[0])}),f.jsxs("div",{className:"flex justify-start gap-x-2 mt-1",children:[f.jsx(Oe,{onClick:()=>R("imagesInput"),variant:"outlined",startIcon:f.jsx("img",{className:" h-7",src:Pe("image")}),children:"Image"}),f.jsx(Oe,{onClick:()=>R("filesInput"),variant:"outlined",startIcon:f.jsx("img",{className:" h-7",src:Pe("file")}),children:"File"}),f.jsx(Oe,{onClick:()=>{v(!0)},variant:"outlined",startIcon:f.jsx("img",{className:" h-7",src:Pe("link")}),children:"Link"}),f.jsx(due,{data:{links:h,setLinks:p,setIsLinkAdding:v,isLinkAdding:m}})]})]}),i.length!==0&&f.jsx("div",{className:"grid gap-y-2",children:i.map(T=>f.jsxs("div",{className:"relative min-h-20",children:[f.jsx("img",{alt:T.name,className:"size-full",src:T.imageURL}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx(pn,{data:{clickFn:()=>I(T.path,T.imageURL),image:"falseIcon"}})})]},T.imageURL))}),u.length!==0&&f.jsx("div",{className:"grid gap-y-1 mt-2",children:u.map(T=>f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:`p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${r==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:Pe("download")}),f.jsxs("div",{children:[f.jsx("p",{className:"underline text-blue-600",children:T.name}),(T==null?void 0:T.size)&&f.jsxs("p",{children:[(T.size/(1024*1024)).toFixed(2)," MB"]})]})]}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx(pn,{data:{clickFn:()=>C(T.path,T.fileURL),image:"falseIcon"}})})]},T.fileURL))}),h.length!==0&&f.jsx("div",{className:"grid gap-y-1 mt-2",children:h.map(T=>f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:`p-1  min-h-14 rounded-md flex gap-x-1 items-center font-bold border  border-l-4 border-l-green-500 ${r==="light"?"bg-slate-50 border-gray-300 text-blue-600":"bg-slate-500/70 border-slate-500/70 text-white"}`,children:[f.jsx("img",{className:"w-7 ",src:Pe("link")}),f.jsx("div",{children:f.jsx("p",{className:"underline text-blue-600",children:T.title})})]}),f.jsx("div",{className:"absolute top-1 right-1",children:f.jsx(pn,{data:{image:"falseIcon",clickFn:()=>b(T.id)}})})]},T.link))})]})},mue=()=>{const{setHeaderTitle:t,notiCount:e,setNotiCount:n}=y.useContext(Z),r=5,[i,s]=y.useState([]),[o,a]=y.useState(null),[l,c]=y.useState(!1),u=async()=>{c(!0);const d=qe(Ae,"notifications");let h=Or(d,pu("timestamp","desc"),Xs(r));o&&(h=Or(h,c1(o)));const p=await va(h),m=p.docs.map(v=>({id:v.id,...v.data()}));s([...i,...m]),a(p.docs[p.docs.length-1]),c(!1)};return y.useEffect(()=>{u()},[]),y.useEffect(()=>{t("Notifications")},[]),f.jsxs(ye,{className:"m-2",children:[f.jsx(Si,{}),i.length===0?f.jsxs(ye,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Zt,{})]}):f.jsxs(ye,{className:"border overflow-hidden shadow-md border-slate-200 rounded-md",children:[i.map((d,h)=>f.jsx(gue,{length:i.length,notification:d,index:h},d.id)),l&&f.jsx(ye,{className:"flex justify-center",children:f.jsxs(ye,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(wH,{})]})})]}),e>r&&e>i.length?f.jsx("div",{className:"flex justify-center mt-1 mb-2 ",children:f.jsx(Oe,{size:"small",onClick:u,children:"load more"})}):""]})},gue=({notification:t,index:e,length:n})=>{let r;const{type:i,description:s,timestamp:o,testName:a,comment:l}=t,c=`${i[0]} ${i[1]}`,{theme:u,users:d}=y.useContext(Z),[h,p]=y.useState(null),[m,v]=y.useState(!0);switch(Gn(t.uid,d,p,v),c){case"like post":r="liked a post";break;case"like test":r="liked a test";break;case"comment post":r="commented on a post";break;case"comment test":r="commented on a test";break;case"added post":r="added a post";break;case"added test":r="added a test";break;case"took test":r="took a test";break}return m?f.jsxs(ye,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Zt,{})]}):f.jsxs("div",{className:`cursor-pointer flex items-center border-t ${e===0&&"border-t-0"} gap-x-2 p-2 ${e===n-1&&"border-b"}  ${u==="light"?"border-slate-200 bg-white shadow-gray-200":"border-slate-500/70 bg-slate-500/70 text-white shadow-slate-500 "}`,children:[f.jsx("div",{children:f.jsx("img",{className:"size-10 object-cover rounded-full object-center bg-cover",src:h==null?void 0:h.image})}),f.jsxs("div",{children:[f.jsxs("p",{children:[f.jsx("b",{children:h?h==null?void 0:h.name:"Unknown User"})," ",r]}),s&&f.jsx("p",{children:ya(s,30)}),a&&f.jsx("p",{children:a}),l&&f.jsx("p",{children:l}),f.jsx("p",{children:Ul(Dr(o))})]})]})},vue=({isCreating:t,setIsCreating:e})=>{const[n,r]=y.useState(""),{userId:i}=y.useContext(Z),s=async()=>{if(!n.trim())return;const o=qe(Ae,"chats"),a=await na(o,{name:n,image:null,lastMessage:{}}),l=qe(ve(o,a.id),"members");await na(l,{uid:i,joinedAt:rr()})};return f.jsx(Qi,{open:t,onClose:()=>e(!1),children:f.jsxs(ye,{className:"m-5 ",children:[f.jsx("div",{className:"mb-2 font-bold",children:"Group Name"}),f.jsxs(gi,{direction:"row",gap:1,children:[f.jsx(li,{size:"small",placeholder:"Enter a name",value:n,onChange:o=>r(o.target.value)}),f.jsx(Oe,{onClick:()=>{n.trim()&&(s(),e(!1))},variant:"outlined",size:"small",children:"Create"})]})]})})};var At="-ms-",lh="-moz-",ht="-webkit-",IL="comm",x1="rule",v5="decl",yue="@import",bL="@keyframes",_ue="@layer",CL=Math.abs,y5=String.fromCharCode,bw=Object.assign;function wue(t,e){return bn(t,0)^45?(((e<<2^bn(t,0))<<2^bn(t,1))<<2^bn(t,2))<<2^bn(t,3):0}function TL(t){return t.trim()}function ks(t,e){return(t=e.exec(t))?t[0]:t}function je(t,e,n){return t.replace(e,n)}function Rp(t,e,n){return t.indexOf(e,n)}function bn(t,e){return t.charCodeAt(e)|0}function _u(t,e,n){return t.slice(e,n)}function ns(t){return t.length}function SL(t){return t.length}function Dd(t,e){return e.push(t),t}function xue(t,e){return t.map(e).join("")}function l4(t,e){return t.filter(function(n){return!ks(n,e)})}var E1=1,wu=1,RL=0,Ii=0,dn=0,Gu="";function I1(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:E1,column:wu,length:o,return:"",siblings:a}}function go(t,e){return bw(I1("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function sc(t){for(;t.root;)t=go(t.root,{children:[t]});Dd(t,t.siblings)}function Eue(){return dn}function Iue(){return dn=Ii>0?bn(Gu,--Ii):0,wu--,dn===10&&(wu=1,E1--),dn}function Hi(){return dn=Ii<RL?bn(Gu,Ii++):0,wu++,dn===10&&(wu=1,E1++),dn}function el(){return bn(Gu,Ii)}function kp(){return Ii}function b1(t,e){return _u(Gu,t,e)}function Cw(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function bue(t){return E1=wu=1,RL=ns(Gu=t),Ii=0,[]}function Cue(t){return Gu="",t}function Kv(t){return TL(b1(Ii-1,Tw(t===91?t+2:t===40?t+1:t)))}function Tue(t){for(;(dn=el())&&dn<33;)Hi();return Cw(t)>2||Cw(dn)>3?"":" "}function Sue(t,e){for(;--e&&Hi()&&!(dn<48||dn>102||dn>57&&dn<65||dn>70&&dn<97););return b1(t,kp()+(e<6&&el()==32&&Hi()==32))}function Tw(t){for(;Hi();)switch(dn){case t:return Ii;case 34:case 39:t!==34&&t!==39&&Tw(dn);break;case 40:t===41&&Tw(t);break;case 92:Hi();break}return Ii}function Rue(t,e){for(;Hi()&&t+dn!==57;)if(t+dn===84&&el()===47)break;return"/*"+b1(e,Ii-1)+"*"+y5(t===47?t:Hi())}function kue(t){for(;!Cw(el());)Hi();return b1(t,Ii)}function Aue(t){return Cue(Ap("",null,null,null,[""],t=bue(t),0,[0],t))}function Ap(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,m=0,v=1,x=1,g=1,w=0,_="",E=i,S=s,I=r,C=_;x;)switch(m=w,w=Hi()){case 40:if(m!=108&&bn(C,d-1)==58){Rp(C+=je(Kv(w),"&","&\f"),"&\f",CL(c?a[c-1]:0))!=-1&&(g=-1);break}case 34:case 39:case 91:C+=Kv(w);break;case 9:case 10:case 13:case 32:C+=Tue(m);break;case 92:C+=Sue(kp()-1,7);continue;case 47:switch(el()){case 42:case 47:Dd(Pue(Rue(Hi(),kp()),e,n,l),l);break;default:C+="/"}break;case 123*v:a[c++]=ns(C)*g;case 125*v:case 59:case 0:switch(w){case 0:case 125:x=0;case 59+u:g==-1&&(C=je(C,/\f/g,"")),p>0&&ns(C)-d&&Dd(p>32?u4(C+";",r,n,d-1,l):u4(je(C," ","")+";",r,n,d-2,l),l);break;case 59:C+=";";default:if(Dd(I=c4(C,e,n,c,u,i,a,_,E=[],S=[],d,s),s),w===123)if(u===0)Ap(C,e,I,I,E,s,d,a,S);else switch(h===99&&bn(C,3)===110?100:h){case 100:case 108:case 109:case 115:Ap(t,I,I,r&&Dd(c4(t,I,I,0,0,i,a,_,i,E=[],d,S),S),i,S,d,a,r?E:S);break;default:Ap(C,I,I,I,[""],S,0,a,S)}}c=u=p=0,v=g=1,_=C="",d=o;break;case 58:d=1+ns(C),p=m;default:if(v<1){if(w==123)--v;else if(w==125&&v++==0&&Iue()==125)continue}switch(C+=y5(w),w*v){case 38:g=u>0?1:(C+="\f",-1);break;case 44:a[c++]=(ns(C)-1)*g,g=1;break;case 64:el()===45&&(C+=Kv(Hi())),h=el(),u=d=ns(_=C+=kue(kp())),w++;break;case 45:m===45&&ns(C)==2&&(v=0)}}return s}function c4(t,e,n,r,i,s,o,a,l,c,u,d){for(var h=i-1,p=i===0?s:[""],m=SL(p),v=0,x=0,g=0;v<r;++v)for(var w=0,_=_u(t,h+1,h=CL(x=o[v])),E=t;w<m;++w)(E=TL(x>0?p[w]+" "+_:je(_,/&\f/g,p[w])))&&(l[g++]=E);return I1(t,e,n,i===0?x1:a,l,c,u,d)}function Pue(t,e,n,r){return I1(t,e,n,IL,y5(Eue()),_u(t,2,-2),0,r)}function u4(t,e,n,r,i){return I1(t,e,n,v5,_u(t,0,r),_u(t,r+1,-1),r,i)}function kL(t,e,n){switch(wue(t,e)){case 5103:return ht+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ht+t+t;case 4789:return lh+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ht+t+lh+t+At+t+t;case 5936:switch(bn(t,e+11)){case 114:return ht+t+At+je(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ht+t+At+je(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ht+t+At+je(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return ht+t+At+t+t;case 6165:return ht+t+At+"flex-"+t+t;case 5187:return ht+t+je(t,/(\w+).+(:[^]+)/,ht+"box-$1$2"+At+"flex-$1$2")+t;case 5443:return ht+t+At+"flex-item-"+je(t,/flex-|-self/g,"")+(ks(t,/flex-|baseline/)?"":At+"grid-row-"+je(t,/flex-|-self/g,""))+t;case 4675:return ht+t+At+"flex-line-pack"+je(t,/align-content|flex-|-self/g,"")+t;case 5548:return ht+t+At+je(t,"shrink","negative")+t;case 5292:return ht+t+At+je(t,"basis","preferred-size")+t;case 6060:return ht+"box-"+je(t,"-grow","")+ht+t+At+je(t,"grow","positive")+t;case 4554:return ht+je(t,/([^-])(transform)/g,"$1"+ht+"$2")+t;case 6187:return je(je(je(t,/(zoom-|grab)/,ht+"$1"),/(image-set)/,ht+"$1"),t,"")+t;case 5495:case 3959:return je(t,/(image-set\([^]*)/,ht+"$1$`$1");case 4968:return je(je(t,/(.+:)(flex-)?(.*)/,ht+"box-pack:$3"+At+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ht+t+t;case 4200:if(!ks(t,/flex-|baseline/))return At+"grid-column-align"+_u(t,e)+t;break;case 2592:case 3360:return At+je(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,ks(r.props,/grid-\w+-end/)})?~Rp(t+(n=n[e].value),"span",0)?t:At+je(t,"-start","")+t+At+"grid-row-span:"+(~Rp(n,"span",0)?ks(n,/\d+/):+ks(n,/\d+/)-+ks(t,/\d+/))+";":At+je(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return ks(r.props,/grid-\w+-start/)})?t:At+je(je(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return je(t,/(.+)-inline(.+)/,ht+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ns(t)-1-e>6)switch(bn(t,e+1)){case 109:if(bn(t,e+4)!==45)break;case 102:return je(t,/(.+:)(.+)-([^]+)/,"$1"+ht+"$2-$3$1"+lh+(bn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Rp(t,"stretch",0)?kL(je(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return je(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return At+i+":"+s+c+(o?At+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(bn(t,e+6)===121)return je(t,":",":"+ht)+t;break;case 6444:switch(bn(t,bn(t,14)===45?18:11)){case 120:return je(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ht+(bn(t,14)===45?"inline-":"")+"box$3$1"+ht+"$2$3$1"+At+"$2box$3")+t;case 100:return je(t,":",":"+At)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return je(t,"scroll-","scroll-snap-")+t}return t}function Jm(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function Nue(t,e,n,r){switch(t.type){case _ue:if(t.children.length)break;case yue:case v5:return t.return=t.return||t.value;case IL:return"";case bL:return t.return=t.value+"{"+Jm(t.children,r)+"}";case x1:if(!ns(t.value=t.props.join(",")))return""}return ns(n=Jm(t.children,r))?t.return=t.value+"{"+n+"}":""}function Lue(t){var e=SL(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function Mue(t){return function(e){e.root||(e=e.return)&&t(e)}}function Oue(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case v5:t.return=kL(t.value,t.length,n);return;case bL:return Jm([go(t,{value:je(t.value,"@","@"+ht)})],r);case x1:if(t.length)return xue(n=t.props,function(i){switch(ks(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":sc(go(t,{props:[je(i,/:(read-\w+)/,":"+lh+"$1")]})),sc(go(t,{props:[i]})),bw(t,{props:l4(n,r)});break;case"::placeholder":sc(go(t,{props:[je(i,/:(plac\w+)/,":"+ht+"input-$1")]})),sc(go(t,{props:[je(i,/:(plac\w+)/,":"+lh+"$1")]})),sc(go(t,{props:[je(i,/:(plac\w+)/,At+"input-$1")]})),sc(go(t,{props:[i]})),bw(t,{props:l4(n,r)});break}return""})}}var jr={},xu=typeof process<"u"&&jr!==void 0&&(jr.REACT_APP_SC_ATTR||jr.SC_ATTR)||"data-styled",AL="active",PL="data-styled-version",C1="6.1.11",_5=`/*!sc*/
`,w5=typeof window<"u"&&"HTMLElement"in window,Due=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&jr!==void 0&&jr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&jr.REACT_APP_SC_DISABLE_SPEEDY!==""?jr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&jr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&jr!==void 0&&jr.SC_DISABLE_SPEEDY!==void 0&&jr.SC_DISABLE_SPEEDY!==""&&jr.SC_DISABLE_SPEEDY!=="false"&&jr.SC_DISABLE_SPEEDY),T1=Object.freeze([]),Eu=Object.freeze({});function $ue(t,e,n){return n===void 0&&(n=Eu),t.theme!==n.theme&&t.theme||e||n.theme}var NL=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),jue=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Fue=/(^-|-$)/g;function d4(t){return t.replace(jue,"-").replace(Fue,"")}var Vue=/(a)(d)/gi,W0=52,h4=function(t){return String.fromCharCode(t+(t>25?39:97))};function Sw(t){var e,n="";for(e=Math.abs(t);e>W0;e=e/W0|0)n=h4(e%W0)+n;return(h4(e%W0)+n).replace(Vue,"$1-$2")}var Qv,LL=5381,kc=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},ML=function(t){return kc(LL,t)};function OL(t){return Sw(ML(t)>>>0)}function Uue(t){return t.displayName||t.name||"Component"}function Yv(t){return typeof t=="string"&&!0}var DL=typeof Symbol=="function"&&Symbol.for,$L=DL?Symbol.for("react.memo"):60115,Bue=DL?Symbol.for("react.forward_ref"):60112,zue={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Wue={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},jL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Hue=((Qv={})[Bue]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Qv[$L]=jL,Qv);function f4(t){return("type"in(e=t)&&e.type.$$typeof)===$L?jL:"$$typeof"in t?Hue[t.$$typeof]:zue;var e}var que=Object.defineProperty,Gue=Object.getOwnPropertyNames,p4=Object.getOwnPropertySymbols,Kue=Object.getOwnPropertyDescriptor,Que=Object.getPrototypeOf,m4=Object.prototype;function FL(t,e,n){if(typeof e!="string"){if(m4){var r=Que(e);r&&r!==m4&&FL(t,r,n)}var i=Gue(e);p4&&(i=i.concat(p4(e)));for(var s=f4(t),o=f4(e),a=0;a<i.length;++a){var l=i[a];if(!(l in Wue||n&&n[l]||o&&l in o||s&&l in s)){var c=Kue(e,l);try{que(t,l,c)}catch{}}}}return t}function Iu(t){return typeof t=="function"}function x5(t){return typeof t=="object"&&"styledComponentId"in t}function Ha(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Rw(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function af(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function kw(t,e,n){if(n===void 0&&(n=!1),!n&&!af(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=kw(t[r],e[r]);else if(af(e))for(var r in e)t[r]=kw(t[r],e[r]);return t}function E5(t,e){Object.defineProperty(t,"toString",{value:e})}function t0(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Yue=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw t0(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(_5);return n},t}(),Pp=new Map,Zm=new Map,Np=1,H0=function(t){if(Pp.has(t))return Pp.get(t);for(;Zm.has(Np);)Np++;var e=Np++;return Pp.set(t,e),Zm.set(e,t),e},Xue=function(t,e){Np=e+1,Pp.set(t,e),Zm.set(e,t)},Jue="style[".concat(xu,"][").concat(PL,'="').concat(C1,'"]'),Zue=new RegExp("^".concat(xu,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ede=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},tde=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(_5),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(Zue);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(Xue(u,c),ede(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function nde(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var VL=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(xu,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(xu,AL),r.setAttribute(PL,C1);var o=nde();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},rde=function(){function t(e){this.element=VL(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw t0(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),ide=function(){function t(e){this.element=VL(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),sde=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),g4=w5,ode={isServer:!w5,useCSSOMInjection:!Due},UL=function(){function t(e,n,r){e===void 0&&(e=Eu),n===void 0&&(n={});var i=this;this.options=He(He({},ode),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&w5&&g4&&(g4=!1,function(s){for(var o=document.querySelectorAll(Jue),a=0,l=o.length;a<l;a++){var c=o[a];c&&c.getAttribute(xu)!==AL&&(tde(s,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),E5(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(d){var h=function(g){return Zm.get(g)}(d);if(h===void 0)return"continue";var p=s.names.get(h),m=o.getGroup(d);if(p===void 0||m.length===0)return"continue";var v="".concat(xu,".g").concat(d,'[id="').concat(h,'"]'),x="";p!==void 0&&p.forEach(function(g){g.length>0&&(x+="".concat(g,","))}),l+="".concat(m).concat(v,'{content:"').concat(x,'"}').concat(_5)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return H0(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(He(He({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new sde(i):r?new rde(i):new ide(i)}(this.options),new Yue(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(H0(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(H0(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(H0(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),ade=/&/g,lde=/^\s*\/\/.*$/gm;function BL(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=BL(n.children,e)),n})}function cde(t){var e,n,r,i=t===void 0?Eu:t,s=i.options,o=s===void 0?Eu:s,a=i.plugins,l=a===void 0?T1:a,c=function(h,p,m){return m.startsWith(n)&&m.endsWith(n)&&m.replaceAll(n,"").length>0?".".concat(e):h},u=l.slice();u.push(function(h){h.type===x1&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(ade,n).replace(r,c))}),o.prefix&&u.push(Oue),u.push(Nue);var d=function(h,p,m,v){p===void 0&&(p=""),m===void 0&&(m=""),v===void 0&&(v="&"),e=v,n=p,r=new RegExp("\\".concat(n,"\\b"),"g");var x=h.replace(lde,""),g=Aue(m||p?"".concat(m," ").concat(p," { ").concat(x," }"):x);o.namespace&&(g=BL(g,o.namespace));var w=[];return Jm(g,Lue(u.concat(Mue(function(_){return w.push(_)})))),w};return d.hash=l.length?l.reduce(function(h,p){return p.name||t0(15),kc(h,p.name)},LL).toString():"",d}var ude=new UL,Aw=cde(),zL=hr.createContext({shouldForwardProp:void 0,styleSheet:ude,stylis:Aw});zL.Consumer;hr.createContext(void 0);function v4(){return y.useContext(zL)}var WL=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=Aw);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,E5(this,function(){throw t0(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Aw),this.name+e.hash},t}(),dde=function(t){return t>="A"&&t<="Z"};function y4(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;dde(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var HL=function(t){return t==null||t===!1||t===""},qL=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!HL(s)&&(Array.isArray(s)&&s.isCss||Iu(s)?r.push("".concat(y4(i),":"),s,";"):af(s)?r.push.apply(r,Bn(Bn(["".concat(i," {")],qL(s),!1),["}"],!1)):r.push("".concat(y4(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in aA||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function tl(t,e,n,r){if(HL(t))return[];if(x5(t))return[".".concat(t.styledComponentId)];if(Iu(t)){if(!Iu(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return tl(i,e,n,r)}var s;return t instanceof WL?n?(t.inject(n,r),[t.getName(r)]):[t]:af(t)?qL(t):Array.isArray(t)?Array.prototype.concat.apply(T1,t.map(function(o){return tl(o,e,n,r)})):[t.toString()]}function hde(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Iu(n)&&!x5(n))return!1}return!0}var fde=ML(C1),pde=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&hde(e),this.componentId=n,this.baseHash=kc(fde,n),this.baseStyle=r,UL.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Ha(i,this.staticRulesId);else{var s=Rw(tl(this.rules,e,n,r)),o=Sw(kc(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Ha(i,o),this.staticRulesId=o}else{for(var l=kc(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var h=Rw(tl(d,e,n,r));l=kc(l,h+u),c+=h}}if(c){var p=Sw(l>>>0);n.hasNameForId(this.componentId,p)||n.insertRules(this.componentId,p,r(c,".".concat(p),void 0,this.componentId)),i=Ha(i,p)}}return i},t}(),GL=hr.createContext(void 0);GL.Consumer;var Xv={};function mde(t,e,n){var r=x5(t),i=t,s=!Yv(t),o=e.attrs,a=o===void 0?T1:o,l=e.componentId,c=l===void 0?function(E,S){var I=typeof E!="string"?"sc":d4(E);Xv[I]=(Xv[I]||0)+1;var C="".concat(I,"-").concat(OL(C1+I+Xv[I]));return S?"".concat(S,"-").concat(C):C}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(E){return Yv(E)?"styled.".concat(E):"Styled(".concat(Uue(E),")")}(t):u,h=e.displayName&&e.componentId?"".concat(d4(e.displayName),"-").concat(e.componentId):e.componentId||c,p=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,m=e.shouldForwardProp;if(r&&i.shouldForwardProp){var v=i.shouldForwardProp;if(e.shouldForwardProp){var x=e.shouldForwardProp;m=function(E,S){return v(E,S)&&x(E,S)}}else m=v}var g=new pde(n,h,r?i.componentStyle:void 0);function w(E,S){return function(I,C,b){var R=I.attrs,T=I.componentStyle,k=I.defaultProps,N=I.foldedComponentIds,M=I.styledComponentId,L=I.target,j=hr.useContext(GL),P=v4(),A=I.shouldForwardProp||P.shouldForwardProp,O=$ue(C,j,k)||Eu,$=function(V,G,ie){for(var le,ee=He(He({},G),{className:void 0,theme:ie}),he=0;he<V.length;he+=1){var ce=Iu(le=V[he])?le(ee):le;for(var oe in ce)ee[oe]=oe==="className"?Ha(ee[oe],ce[oe]):oe==="style"?He(He({},ee[oe]),ce[oe]):ce[oe]}return G.className&&(ee.className=Ha(ee.className,G.className)),ee}(R,C,O),F=$.as||L,q={};for(var W in $)$[W]===void 0||W[0]==="$"||W==="as"||W==="theme"&&$.theme===O||(W==="forwardedAs"?q.as=$.forwardedAs:A&&!A(W,F)||(q[W]=$[W]));var z=function(V,G){var ie=v4(),le=V.generateAndInjectStyles(G,ie.styleSheet,ie.stylis);return le}(T,$),B=Ha(N,M);return z&&(B+=" "+z),$.className&&(B+=" "+$.className),q[Yv(F)&&!NL.has(F)?"class":"className"]=B,q.ref=b,y.createElement(F,q)}(_,E,S)}w.displayName=d;var _=hr.forwardRef(w);return _.attrs=p,_.componentStyle=g,_.displayName=d,_.shouldForwardProp=m,_.foldedComponentIds=r?Ha(i.foldedComponentIds,i.styledComponentId):"",_.styledComponentId=h,_.target=r?i.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(E){this._foldedDefaultProps=r?function(S){for(var I=[],C=1;C<arguments.length;C++)I[C-1]=arguments[C];for(var b=0,R=I;b<R.length;b++)kw(S,R[b],!0);return S}({},i.defaultProps,E):E}}),E5(_,function(){return".".concat(_.styledComponentId)}),s&&FL(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function _4(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var w4=function(t){return Object.assign(t,{isCss:!0})};function KL(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Iu(t)||af(t))return w4(tl(_4(T1,Bn([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?tl(r):w4(tl(_4(r,e)))}function Pw(t,e,n){if(n===void 0&&(n=Eu),!e)throw t0(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,KL.apply(void 0,Bn([i],s,!1)))};return r.attrs=function(i){return Pw(t,e,He(He({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Pw(t,e,He(He({},n),i))},r}var QL=function(t){return Pw(mde,t)},Bl=QL;NL.forEach(function(t){Bl[t]=QL(t)});function I5(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Rw(KL.apply(void 0,Bn([t],e,!1))),i=OL(r);return new WL(i,r)}Bl.div`
  display: ${t=>t.$visible?"flex":"none"};
`;const Pi=242.776657104492,gde=1.6,vde=I5`
12.5% {
  stroke-dasharray: ${Pi*.14}px, ${Pi}px;
  stroke-dashoffset: -${Pi*.11}px;
}
43.75% {
  stroke-dasharray: ${Pi*.35}px, ${Pi}px;
  stroke-dashoffset: -${Pi*.35}px;
}
100% {
  stroke-dasharray: ${Pi*.01}px, ${Pi}px;
  stroke-dashoffset: -${Pi*.99}px;
}
`;Bl.path`
  stroke-dasharray: ${Pi*.01}px, ${Pi};
  stroke-dashoffset: 0;
  animation: ${vde} ${gde}s linear infinite;
`;const yde=I5`
to {
   transform: rotate(360deg);
 }
`;Bl.svg`
  animation: ${yde} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`;Bl.polyline`
  stroke-width: ${t=>t.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const _de=I5`
to {
   stroke-dashoffset: 136;
 }
`;Bl.polygon`
  stroke-dasharray: 17;
  animation: ${_de} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`;Bl.svg`
  transform-origin: 50% 65%;
`;const YL=()=>{const t="Typing...",[e,n]=y.useState("");let r=0;const[i,s]=y.useState(0);return y.useEffect(()=>(r=setInterval(()=>{i!==t.length?(n(e+t[i]),s(i+1)):(s(0),n(""))},250),()=>{clearInterval(r)}),[e,i]),f.jsx("p",{children:e.length===0?"T":e})},wde=({chat:t,index:e,chats:n})=>{var v;const[r,i]=y.useState(null),{users:s,newMessages:o}=y.useContext(Z),[a,l]=y.useState(null),[c,u]=y.useState(null),[d,h]=y.useState(!0),p=An(),m=async()=>{qe(ve(qe(Ae,"chats"),t.id),"messages")};return y.useEffect(()=>{const g=(()=>{const w=qe(Ae,"chats"),_=qe(ve(w,t.id),"messages"),E=Or(_,pu("timestamp","desc"),Xs(1));return Bi(E,I=>{if(!I.empty){const C=I.docs.map(b=>({id:b.id,...b.data()}));try{l(C[0]),m()}catch(b){console.log(b.message)}}})})();return()=>{g&&g()}},[t.id,a]),Gn(a==null?void 0:a.senderId,s,u,h,[a]),f.jsxs(ye,{className:`flex min-h-[100px] gap-x-[2px] items-center cursor-pointer p-1 relative hover:bg-slate-100 border-t ${e===0&&"border-t-0"} ${e===n.length-1&&"border-b"}  border-slate-200`,onClick:()=>p(`/app/chatroom/${t.id}`),children:[f.jsx(ye,{className:"flex items-start h-full mt-3",children:f.jsx("img",{alt:t.name,src:((v=t.image)==null?void 0:v.URL)||"images/sea-logo.jpg",className:"size-[48px] rounded-[8px] object-center object-cover mr-1"})}),f.jsxs(ye,{className:"grid items-start h-full",children:[f.jsxs(jt,{variant:"h6",children:[t.name,r?f.jsxs("div",{className:"mb-2 flex items-center rounded-md justify-start pr-1 font-[600]  min-h-6 min-w-6 text-sm top-0  text-slate-400 ",children:[r," messages"]}):""]}),f.jsxs(ye,{container:!0,sx:{display:"grid"},children:[f.jsx(ye,{item:!0,sx:{display:"flex",columnGap:"4px",alignItems:"center"},children:a&&c?f.jsxs(f.Fragment,{children:[f.jsx(ti,{size:"size-5",fontSize:"text-sm",name:c.name,image:c.image}),f.jsx(jt,{size:"small",fontWeight:"bold",variant:"caption",color:"textSecondary",children:c.name})]}):""}),a&&f.jsxs(ye,{sx:{marginTop:"2px",display:"grid"},children:[f.jsx(jt,{size:"small",variant:"caption",color:"textSecondary",children:ya(a.content,30)}),a.image&&f.jsx("img",{alt:a.image.name,className:"w-12",src:a.image.URL}),f.jsxs(jt,{size:"small",variant:"caption",color:"textSecondary",children:[(a==null?void 0:a.editedTime)&&"edited ",Xm(Dr(a!=null&&a.editedTime?a.editedTime:a.timestamp))]})]}),f.jsx(xde,{chat:t})]})]}),!_1(o,t.id)&&f.jsx("div",{className:"absolute shadow-md right-1 top-1 bg-red-500 size-4 rounded-full"})]})},xde=({chat:t})=>{y.useContext(Z);const e=ve(Ae,"chats",t.id),n=qe(e,"typingUsers"),[r,i]=y.useState([]);if(y.useEffect(()=>{const o=Bi(n,l=>{if(!l.empty){const c=l.docs.map(u=>u.data());i(c)}});return()=>{o&&o()}},[t.id]),r.length>0)return f.jsx("div",{children:r.sort((s,o)=>Ri(s,o,"timestamp","older")).map(s=>f.jsx(Ede,{typingUser:s},`typing-users-${s.uid}`))})},Ede=({typingUser:t})=>{const{users:e}=y.useContext(Z),[n,r]=y.useState(null),[i,s]=y.useState();return Gn(t.uid,e,r,s),i?f.jsx(Zt,{}):f.jsxs("div",{className:"flex items-center gap-x-1 bg-slate-200 shadow-md rounded-md p-1",children:[f.jsx(ti,{size:"size-5",fontSize:"text-sm",name:n&&(n==null?void 0:n.name),image:n&&(n==null?void 0:n.image)}),f.jsx(YL,{})]},n&&n.uid)},Ide=({text:t})=>f.jsxs(ye,{className:"m-5",children:[f.jsx("div",{children:t}),f.jsx(Zt,{})]}),bde=()=>{const{setHeaderTitle:t,isLogin:e,chats:n,setChats:r,myChats:i,setMyChats:s}=y.useContext(Z);jl("chats",r,e),y.useEffect(()=>{t("Chat Room")},[]);const o=()=>n?f.jsx(Cde,{myChats:i,setMyChats:s}):f.jsx(Ide,{text:"Loading chat room..."});return f.jsxs(f.Fragment,{children:[f.jsx(Si,{}),o()]})},Cde=({myChats:t,setMyChats:e})=>{const{chats:n,userData:r,userId:i}=y.useContext(Z),[s,o]=y.useState(!1),a=async(l,c)=>{const u=qe(Ae,"chats"),d=qe(ve(u,l),"members"),h=Or(d,l1("uid","==",c),Xs(1));return console.log("Checking if a member..."),!(await va(h)).empty};return y.useEffect(()=>{(async()=>{const c=await Promise.all(n.map(async u=>await a(u.id,i)?u:null));e(c.filter(u=>u!==null))})()},[n]),f.jsxs(f.Fragment,{children:[f.jsx(vue,{isCreating:s,setIsCreating:o}),f.jsxs("div",{className:"m-5 overflow-hidden grid border border-slate-200 rounded-md shadow-md ",children:[t.map((l,c)=>f.jsx(wde,{chat:l,index:c,chats:n},l.id)),(r==null?void 0:r.isAdmin)&&f.jsx(ye,{className:"m-2",children:f.jsx(Oe,{size:"small",onClick:()=>o(!0),endIcon:f.jsx("img",{className:"w-7",src:Pe("add")}),children:"Create group"})})]})]})},Tde=()=>{const{headerTitle:t,setIsLogIn:e,setUserId:n}=y.useContext(Z),r=An(),i=Su(),[s,o]=y.useState(i.pathname!=="/"?i.pathname:"/app");y.useEffect(()=>{document.title=t||"STAR EDUCATION ACADEMY"},[t]),y.useEffect(()=>{const a=Di.get("userId")||null;a?(e(!0),n(a),r(s)):r("/login")},[])},Sde=()=>{const{setHeaderTitle:t}=y.useContext(Z),e={text:"About SEA",image:"about",answer:`SEA stands for Star Education Academy, is an education academy founded by U Aye Kyaw and Daw Sandar Lwin in 2015. At SEA, you can study variety of subjects including
    English Language and four skills,
    Philosophy, Maths and Science.`},n=[{text:"Is my data private ?",answer:"Yes, your data is private."},{text:"Where can I give feedback to developer ?",answer:"You can give feedback at aungnaingthan22@gmail.com"}],r=[{text:"What are updated in the latest version ?",answer:"Updated UI design and fix bugs."},{text:"What is the last update time ?",answer:` Updated on ${Ul(1712655376346)}.`}];return Xf("help-page"),Jf("help-page"),y.useEffect(()=>{t("Help")},[]),f.jsxs(ye,{className:"m-5 border border-slate-200 rounded-md shadow-md",children:[f.jsx(Si,{}),f.jsx(Ed,{image:e.image,text:e.text,answer:e.answer}),f.jsx(Ed,{text:"FAQ",image:"faq",answer:n.map(i=>f.jsx(Ed,{text:i.text,answer:i.answer},i.text))}),f.jsx(Ed,{image:"update",text:"Updates",answer:r.map(i=>f.jsx(Ed,{text:i.text,answer:i.answer},i.text))})]})},Ed=({image:t,text:e,answer:n})=>{const[r,i]=y.useState(!1);return f.jsxs("div",{className:" p-2  mb-2 ",children:[f.jsxs("div",{onClick:()=>i(!r),className:"transition-all flex items-center rounded-md min-h-14 justify-between",children:[f.jsxs("div",{className:"flex items-center gap-x-2",children:[t&&f.jsx(Rde,{image:t}),f.jsx("div",{children:e})]}),f.jsx(Sn,{children:f.jsx("img",{className:"w-6",src:Pe(r?"up":"down")})})]}),r&&f.jsx("div",{className:"font-medium ",children:n})]})},Rde=({image:t})=>f.jsx("img",{className:"w-7",src:Pe(t)}),XL=({image:t,setViewingImage:e,postImage:n=!1})=>{const r=()=>{const i=(t==null?void 0:t.size)/1048576,s=(t==null?void 0:t.size)/1024;return i>1?`${i.toFixed(2)} MB`:isNaN(i)?null:`${s.toFixed(2)} kB`};return f.jsxs(Qi,{open:!!t,onClose:()=>e(!1),children:[f.jsx(gi,{direction:"row",justifyContent:"end",children:f.jsx(Sn,{onClick:()=>{e(!1)},children:f.jsx(Wn,{name:"close"})})}),t?f.jsxs("div",{className:"bg-white m-3 overflow-auto min-h-[200px] min-w-[200px] relative",children:[r()&&f.jsx("p",{className:"border border-gray-200 absolute right-1 bottom-1 bg-slate-300/70 p-1 rounded-lg font-bold ",children:r()}),f.jsx("img",{alt:t.name,className:"h-full ",src:n?t.imageURL:t.URL})]}):f.jsx("div",{className:"bg-white border border-slate-300 rounded-md",children:"Image not available."})]})},kde=({post:t,setViewingImage:e})=>{const[r,i]=y.useState(4),[s,o]=y.useState(!0),a=t.images.slice(0,r),l=t.images.length-4,c=()=>{o(!1),i(t.images.length)};return a.map((u,d)=>f.jsxs(Qd,{item:!0,xs:4,sm:3,md:3,className:"relative cursor-pointer",children:[f.jsx("img",{onClick:()=>e(u),className:"w-full  ",src:u.imageURL,alt:u.name}),f.jsx("div",{className:"z-20 absolute right-1 top-1"}),d+1===4&&s&&l?f.jsx("div",{onClick:c,className:"z-10 absolute top-0 right-0 left-0 bottom-0 flex cursor-pointer items-center justify-center",children:f.jsxs("div",{className:"font-medium text-6xl text-white",children:["+",l]})}):""]},`post-${t.id}-image-${u.imageURL}`))},Ade=({files:t})=>f.jsxs("div",{className:"grid mt-2",children:[f.jsx("p",{className:"p-2 font-bold",children:"Files"}),t.map((e,n)=>f.jsx("a",{href:e.fileURL,download:e.name,target:"_blank",children:f.jsxs("div",{className:`p-1 hover:bg-slate-50 cursor-pointer min-h-14 flex gap-x-1 items-center font-bold border-slate-300 border-t ${n===t.length-1&&"border-b"} border-slate-200 text-blue-600`,children:[f.jsx(Wn,{name:"download"}),f.jsxs("div",{children:[f.jsx("p",{className:"underline",children:e.name}),(e==null?void 0:e.size)&&f.jsxs("p",{children:[(e.size/(1024*1024)).toFixed(2)," MB"]})]})]})},`${n}-${e.fileURL}`))]}),Pde=({links:t})=>f.jsxs("div",{className:"grid gap-y-2 mt-2",children:[f.jsx("p",{className:"p-2 font-bold",children:"Links"}),t.map((e,n)=>f.jsx("a",{href:e.link,target:"_blank",children:f.jsxs("div",{className:`p-1 hover:bg-slate-50 cursor-pointer min-h-14 flex gap-x-1 items-center font-bold border-slate-300 border-t ${n===t.length-1&&"border-b"} border-slate-200 text-blue-600`,children:[f.jsx(Wn,{name:"link"}),f.jsx("div",{children:f.jsx("p",{className:"underline",children:e.title})})]})},`${n}-${e.link}`))]});async function b5(t,e,n,r=null){const i=Di.get("userId");try{const s=qe(Ae,"notifications"),o={uid:i,type:t,[e]:n,isReadBy:[],timestamp:rr(),comment:r};await na(s,o)}catch(s){console.log(s.message)}}const JL=({post:t,collectionName:e})=>{const{id:n}=t,[r,i]=y.useState(null),[s,o]=y.useState(null),{users:a,theme:l,userId:c}=y.useContext(Z),[u,d]=y.useState(!1),[h,p]=y.useState(!1),m=e==="posts",v=qe(ve(Ae,e,n),"comments"),x=qe(ve(Ae,e,n),"likes"),[g,w]=y.useState(!1),_=async(S,I)=>{qe(ve(Ae,e,n),S)};y.useEffect(()=>{(async()=>{})()},[]),y.useEffect(()=>{(async()=>{const I=Or(x,l1("uid","==",c)),C=await va(I);w(!C.empty)})()},[]);const E=async()=>{try{const S=async()=>{},I=ve(x,c),C={uid:c,timestamp:rr()};g?(w(!1),await qo(I),S()):(w(!0),await Xa(I,C),S(),b5(["like",m?"post":"test"],m?"description":"testName",m?t.description:t.name))}catch(S){console.log(S.message)}};return f.jsxs("div",{className:"mt-2",children:[f.jsxs("div",{className:"transition-all mb-1 flex justify-between pl-2 pr-2",children:[f.jsx("button",{onClick:()=>{d(!u),p(!1)},className:`transition-all ${l==="light"?`${u?"bg-slate-200":"hover:bg-slate-200"}`:`${u?"bg-slate-500/70":"hover:bg-slate-500/70"}`}  p-1 rounded-lg`,children:f.jsxs("span",{children:[r||0," ",r>1?"likes":"like"]})}),f.jsxs("button",{onClick:()=>{p(!h),d(!1)},className:`transition-all ${l==="light"?`${h?"bg-slate-200":"hover:bg-slate-200"}`:`${h?"bg-slate-500/70":"hover:bg-slate-500/70"}`}  p-1 rounded-lg`,children:[s&&s," ",s>1?"comments":"comment"]})]}),f.jsxs("div",{className:`p-2 shadow-lg border-t border-b pt-2 flex gap-x-2 ${l==="light"?"border-t-slate-300":"border-t-slate-500/70"}`,children:[f.jsx(Oe,{sx:{textTransform:"capitalize"},color:l!=="light"?"warning":"primary",onClick:E,startIcon:f.jsx("img",{className:"w-6",src:Pe(g?"liked":"like")}),children:g?"Liked":"Like"}),f.jsx(Oe,{sx:{textTransform:"capitalize"},color:l!=="light"?"warning":"primary",onClick:()=>{p(!h),d(!1)},startIcon:f.jsx("img",{className:"w-6",src:Pe("comment")}),children:"Comment"})]}),u&&f.jsx(Nde,{isLikesOpen:u,setIsLikesOpen:d,likesRef:x,likeCounts:r}),h&&f.jsx(Mde,{isPost:m,post:t,commentsRef:v,collectionName:e,commentCounts:s,setCommentCounts:o,getCounts:_})]})},Nde=({likesRef:t,likeCounts:e,isLikesOpen:n,setIsLikesOpen:r})=>{y.useContext(Z);const[s,o]=y.useState([]),[a,l]=y.useState(null),[c,u]=y.useState(!0),d=async()=>{let h=Or(t,pu("timestamp","desc"),Xs(5));a&&(h=Or(h,c1(a)));const p=await va(h),m=p.docs.map(v=>({id:v.id,...v.data()}));o([...s,...m]),u(!1),l(p.docs[p.docs.length-1])};return y.useEffect(()=>{d()},[]),f.jsx(Qi,{anchor:"bottom",open:n,onClose:()=>r(!1),children:f.jsxs(ye,{className:"min-w-[300px] min-h-[100px]",children:[f.jsx(Oe,{className:"w-full",onClick:()=>r(!1),children:"Close"}),c?f.jsx(ye,{className:"text-center",children:"Loading..."}):f.jsxs("div",{className:"m-2 grid gap-y-2 ",children:[s.sort((h,p)=>Ri(h,p,"timestamp","newer")).map((h,p)=>f.jsx(Lde,{like:h},`user-${h.uid}-${p}`)),f.jsx(gi,{direction:"row",justifyContent:"center",children:e>5&&s.length<e&&s.length>0?f.jsx(Oe,{size:"small",onClick:d,children:"Load More"}):""})]})]})})},Lde=({like:t})=>{const{users:e}=y.useContext(Z),[n,r]=y.useState(null),[i,s]=y.useState();return Gn(t.uid,e,r,s),i?f.jsx(Zt,{}):f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsx(ti,{image:n?n.image:"images/sea-logo.jpg",name:n&&n.name}),f.jsx("div",{children:n?n.name:"Unknown User"})]})},Mde=({post:t,isPost:e,commentsRef:n,setCommentCounts:r,getCounts:i})=>{const[s,o]=y.useState(""),[a,l]=y.useState([]),{theme:c,userId:u}=y.useContext(Z),[d,h]=y.useState(null),p=()=>{const x=Or(n,pu("timestamp","desc"));return Bi(x,w=>{w.empty||l(w.docs.map(_=>({id:_.id,..._.data()})).sort((_,E)=>Ri(_,E,"timestamp")))})};y.useEffect(()=>{const x=p();return()=>{x&&x()}},[]);const m=async()=>{if(s.trim()){const x={uid:u,text:s.trim(),timestamp:rr()};await na(n,x),o(""),b5(["comment",e?"post":"test"],e?"description":"testName",e?t.description:t.name,s.trim())}},v=async()=>{const x=ve(n,d);if(s.trim()){const g={text:s.trim(),editedTime:rr()};await Vn(x,g),o(""),h(null)}};return f.jsxs("div",{className:"mt-2 p-2",children:[f.jsx("div",{className:"grid gap-y-2",children:a.map(x=>{const g=x.uid===u,w=g&&{text:"Edit",icon:"editPencil",onClick:()=>{h(x.id),o(x.text)}};return f.jsx(Ode,{comment:x,editOption:w,yourComment:g},`${x.uid}-${x.id}`)})}),f.jsxs("div",{className:"mt-2 flex gap-x-1",children:[f.jsx("input",{autoFocus:!0,onChange:x=>o(x.target.value),value:s,className:`h-10 flex-1 rounded-lg pl-2 border-slate-200 shadow-md border ${c==="light"?"border-gray-300 focus:outline-blue-500":"outline-none bg-slate-500/70 border-slate-500/70"}`,placeholder:"Write a comment..."}),f.jsxs("div",{className:"flex gap-x-1",children:[d&&f.jsx(Sn,{onClick:()=>{h(null),o("")},children:f.jsx(Wn,{name:"falseIcon"})}),f.jsx(Sn,{onClick:()=>{s.trim()&&(d?v():m())},children:f.jsx(Wn,{name:"send"})})]})]})]})},Ode=({comment:t,editOption:e,yourComment:n})=>{const{users:r,theme:i,userData:s}=y.useContext(Z),[o,a]=y.useState(null),[l,c]=y.useState();return Gn(t.uid,r,a,c),l?f.jsx(Zt,{}):f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex gap-x-1",children:[f.jsx("div",{children:f.jsx(ti,{image:o&&o.image,name:o&&o.name})}),f.jsxs("div",{className:"max-w-[250px]",children:[f.jsxs("div",{className:`p-2 border shadow-md border-slate-200 rounded-lg ${i==="light"?"bg-slate-100":"bg-slate-500/70 text-white"}`,children:[f.jsx("div",{className:"font-bold",children:o?o.name:"Unknown User"}),f.jsx("div",{children:t.text})]}),f.jsx("div",{className:`text-sm mt-1 ${i==="light"?"text-gray-600":"text-white"}`,children:t!=null&&t.editedTime?f.jsxs("span",{children:["edited ",Xm(Dr(t.editedTime))]}):f.jsx("span",{children:Xm(Dr(t.timestamp))})})]})]}),n||s!=null&&s.isAdmin?f.jsx(g5,{options:[e,{text:"Delete",icon:"deleteIcon",onClick:()=>deleteComment(t.id)}],isComment:!0}):""]})},Dde=({post:t,setViewingImage:e})=>{var c,u;const{theme:n,users:r,userId:i}=y.useContext(Z),[s,o]=y.useState(null),[a,l]=y.useState(!0);return Gn(t.uid,r,o,l),a?f.jsxs(ye,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Zt,{})]}):f.jsxs(ye,{className:"border border-slate-300 shadow-lg rounded-md",sx:{width:"full",backgroundColor:"white",color:n!=="light"?"white":"black"},children:[f.jsxs(ye,{className:"top-section flex gap-x-2 mb-2 p-2",children:[f.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:s?s.image:"images/sea-logo.jpg"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:s?s.name:"Unknown User"}),f.jsx("div",{className:` text-sm ${n==="light"?"text-gray-500":"text-white"}`,children:Ul(Dr(t.time))})]})]}),(t==null?void 0:t.description)&&f.jsx("p",{className:"mb-2 p-2 break-words whitespace-pre-wrap",children:t.description}),t.images.length!==0?f.jsx(Qd,{container:!0,spacing:1,className:" p-0 m-0",children:f.jsx(kde,{post:t,setViewingImage:e})}):"",t.files&&((c=t==null?void 0:t.files)==null?void 0:c.length)!==0&&f.jsx(Ade,{files:t.files}),(t==null?void 0:t.links)&&((u=t==null?void 0:t.links)==null?void 0:u.length)!==0&&f.jsx(Pde,{links:t.links}),f.jsx(JL,{post:t,collectionName:"posts"})]})},$de=()=>{const{posts:t,setPosts:e,isLogin:n,setHeaderTitle:r,users:i,theme:s}=y.useContext(Z);y.useState(!0);const[o,a]=y.useState(null);return y.useEffect(()=>{r("STAR EDUCATION ACADEMY")},[]),jl("posts",e,n),Xf("posts-page"),Jf("posts-page"),t.length===0?f.jsxs(ye,{className:"m-2",children:[f.jsx(Si,{}),f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Zt,{})]}):f.jsxs("div",{className:"grid gap-y-6 m-2",children:[o&&f.jsx(XL,{image:o,setViewingImage:a,postImage:!0}),t.sort((l,c)=>Ri(l,c,"time","newer")).map(l=>f.jsx(Dde,{setViewingImage:a,post:l},l.id))]})},jde=()=>{const{tests:t,setTests:e,isLogin:n,setHeaderTitle:r,theme:i,users:s,startTimer:o}=y.useContext(Z);y.useState(!0);const a=An();jl("tests",e,n),y.useEffect(()=>{r("Tests")},[]);const l=()=>{o()};return Xf("tests-page"),Jf("tests-page"),f.jsxs("div",{className:"grid gap-y-6 mb-2 m-2",children:[f.jsx(Si,{}),t.length===0?f.jsxs(ye,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Zt,{})]}):t.sort((c,u)=>Ri(c,u,"timestamp","newer")).map(c=>{if(c.isUploaded)return f.jsxs("div",{className:`flex flex-col justify-between min-h-60 border shadow-lg rounded-md bg-gradient-to-tr ${i==="light"?"border-slate-300 ":"border-slate-300 text-white shadow-slate-500"}`,children:[f.jsxs("div",{className:"flex gap-x-2 mb-2 p-2",children:[f.jsx(Fde,{t:c}),f.jsxs("span",{className:`rounded-md border border-slate-200 text-sm text-gray-400 flex items-center p-1 ${i==="light"?"bg-slate-100 ":"bg-slate-500/70  "}`,children:[c.quizzes.length,c.quizzes.length>1?" questions":" question"]})]}),c.image&&f.jsx("div",{className:"m-2 flex justify-center p-2",children:f.jsx("img",{className:"h-[250px]",src:`images/tests/${c.image}`})}),f.jsxs("div",{className:`p-2 rounded-bl-lg rounded-br-lg border-t shadow-t-md ${i==="light"?"border-t-slate-300":"border-t-slate-500/70"}`,children:[f.jsx("div",{className:"font-medium text-lg",children:c.name}),f.jsx("p",{className:" mb-2 break-words white-space-pre-wrap",children:c.description.trim()||"No description"}),f.jsx(Oe,{onClick:()=>{l(),a(`/app/tests/${c.id}`)},children:"Take the test"})]}),f.jsx(JL,{post:c,collectionName:"tests"})]},c.id)})]})},Fde=({t})=>{const{theme:e,users:n}=y.useContext(Z),[r,i]=y.useState(null),[s,o]=y.useState(!0);return Gn(t.uid,n,i,o),s?f.jsxs(ye,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Zt,{})]}):f.jsxs(f.Fragment,{children:[f.jsx("img",{className:"size-10 rounded-full shadow-md object-cover",src:r==null?void 0:r.image}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold",children:r==null?void 0:r.name}),f.jsx("div",{className:` text-sm ${e==="light"?"text-gray-500 ":"text-white"}`,children:Ul(Dr(t.time))})]})]})},Vde=({data:t})=>{const{pageTitle:e,currentPage:n,totalPage:r,percentage:i,answerLength:s,questionsLength:o}=t,{stopTest:a,formattedTime:l,theme:c}=y.useContext(Z),u=An(),[d,h]=y.useState(!1),p=()=>{a(),h(!1),u("/app/tests")},m=()=>{h(!1)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:" font-medium text-lg flex items-center justify-start",children:[f.jsx(pn,{data:{clickFn:()=>h(!0),image:"back"}}),f.jsx("div",{className:`ml-2 ${c==="light"?"":"text-white"}`,children:e}),f.jsx(Zs,{data:{value:d,yesButton:p,noButton:m,text:"Are you sure to stop the test ?",setValue:h}})]}),f.jsxs("div",{className:`flex justify-between items-center sticky left-0 pt-1 right-0 z-10 ${c==="light"?"":"text-white"}`,children:[f.jsxs("div",{children:["Page ",n," of ",r]}),f.jsxs("div",{className:`w-2/3 border h-7 relative ${c==="light"?"border-gray-300":"border-slate-500/70"}`,children:[f.jsx("div",{style:{width:`${i}%`},className:`text-center h-full ${c==="light"?"bg-lime-200":"bg-slate-500/70"}`}),f.jsxs("div",{className:"absolute top-0 left-2 font-medium",children:[s," ","/"," ",o]})]}),f.jsx("div",{className:"min-h-12 font-medium fixed right-0 top-1/4 h-10 min-w-20 bg-lime-200/50 backdrop-blur-lg flex items-center justify-center rounded-bl-lg rounded-tl-lg border-r-4 border-r-blue-400",children:l})]})]})},Ude=({data:t})=>{const{currentQuestions:e,chooseAnswer:n,answeredQuestions:r}=t,{theme:i}=y.useContext(Z);return f.jsx("div",{children:e==null?void 0:e.map((s,o)=>f.jsxs("div",{children:[f.jsxs("div",{className:`grid gap-y-2 ${i==="light"?"":"text-white"}`,children:[f.jsxs("div",{className:"flex gap-x-3 items-center",children:[f.jsx("div",{className:"bg-blue-600 rounded-sm shadow-lg h-9 w-9 text-white font-bold flex justify-center items-center ",children:s.id}),f.jsx("div",{className:"flex-1 font-padauk",children:s.question})]}),f.jsx("div",{className:"grid gap-y-2",children:s.choices.map((a,l)=>{let c,u=!1;return r.forEach(d=>{s.id===d.id&&(c=d)}),(c==null?void 0:c.userAnswer)===a&&(u=!0),f.jsxs("div",{onClick:()=>{n(s.id,a)},className:`border  h-12 flex gap-x-3 p-2 cursor-pointer items-center rounded-lg font-padauk ${i==="light"?`${u?"border-blue-500 border-dotted font-bold bg-lime-50":"border-lime-200 hover:bg-slate-50"}`:`${u?"border-slate-500/70 border-dotted font-bold bg-slate-500/70":"border-slate-500/70 hover:bg-slate-500/70"}`}`,children:[f.jsx("input",{onChange:()=>{n(s.id,a)},className:"h-5 w-5",name:`question-${s.id}`,type:"radio",checked:!!u}),f.jsx("div",{children:a})]},`choice-${s.id}-${l}-${a}`)})})]}),f.jsx(Bde,{})]},`question-${s.id}-${o}-${s.question}`))})},Bde=()=>f.jsx("div",{className:" border border-dashed border-gray-500 mb-7 mt-7"}),zde=()=>(y.useContext(Z),f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsx("img",{className:"w-8 ",src:Pe("error")}),f.jsx("div",{className:"text-red-600 font-bold",children:"You need to answer all questions before proceeding!"})]}));function Wde(t,e,n){const r=e.name,i=Hde(t,e.quizzes),s=qde(i),o=t.length,a=e.gradingRules.length!==0?Gde(s,e.gradingRules)||"There is an error in your grading rules":"Level is not defined",l=Kde(),c=Qde();return{testName:r,results:i,score:s,totalScore:o,level:a,date:l,time:c,timeTaken:n}}function Hde(t,e){return e.map(r=>{const{id:i,question:s,answer:o}=r;let a;t.forEach(c=>{i===c.id&&(a=c)});const{userAnswer:l}=a;return l===r.answer?{id:i,question:s,userAnswer:l,answer:o,isTrue:!0}:{id:i,question:s,userAnswer:l,answer:o,isTrue:!1}})}function qde(t){let e=0;return t.forEach(n=>{n.isTrue&&e++}),e}function Gde(t,e){let n;try{e.forEach(r=>{t>=Number(r.from)&&t<=Number(r.to)&&(n=r.level)})}catch(r){console.log(r.message)}return n}function Kde(){const t=new Date,e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return`${e}/${n}/${r}`}function Qde(){const t=new Date;let e=t.getHours();const n=t.getMinutes(),r=e>12?"PM":"AM";e=e%12||12;const i=n<10?`0${n}`:n;return`${e}:${i} ${r}`}const Yde=({data:t})=>{const{nextPage:e,prevPage:n,isEnded:r,startIndex:i,currentTest:s,answeredQuestions:o}=t,{formattedTime:a,stopTest:l,userId:c}=y.useContext(Z),u=An(),d=async()=>{try{const p=qe(ve(Ae,"users",c),"history"),m=Wde(o,s,a),v=await na(p,m),x=(await zu(v)).id;u(`/app/history/${x}`)}catch(p){console.log(p.message)}},h=()=>{d(),l(),b5(["took","test"],"testName",s.name)};return f.jsxs("div",{className:"flex justify-center gap-x-5",children:[i!==0&&f.jsx(Vi,{data:{clickFn:n,text:"Previous",image:"back"}}),r?f.jsx(Vi,{data:{clickFn:h,text:"Finish",image:"finish"}}):f.jsx(Vi,{data:{clickFn:e,text:"Next",image:"next"}})]})},Xde=()=>{var R,T;y.useContext(Z);const{testId:t}=pf(),[e,n]=y.useState([]),[r,i]=y.useState(null);y.useEffect(()=>{(async()=>{const N=ve(Ae,"tests",t),M=await zu(N);i(M.data()),console.log(M.data())})()});const s=e==null?void 0:e.length,o=(R=r==null?void 0:r.quizzes)==null?void 0:R.length,[a,l]=y.useState(0),[c,u]=y.useState(!1),[d,h]=y.useState(!1),[p,m]=y.useState(!1),v=10;let x=(T=r==null?void 0:r.quizzes)==null?void 0:T.slice(a,a+v);const g=r==null?void 0:r.name,w=Math.ceil(o/v),_=Math.ceil((a+v)/v),E=Math.round(s/o*100);y.useEffect(()=>(Wi(),Wi()),[]),y.useEffect(()=>{s===o&&a+v>=o?u(!0):u(!1)},[a,e]),y.useEffect(()=>{s>=a+v?h(!0):h(!1)},[e,a]);const b={pageTitle:g,currentPage:_,totalPage:w,percentage:E,answerLength:s,questionsLength:o,answeredQuestions:e,currentQuestions:x,isEnded:c,chooseAnswer:(k,N)=>{const M=Yae(k,e);n(M?e.map(L=>k===L.id?{id:k,userAnswer:N}:L):[...e,{id:k,userAnswer:N}])},nextPage:()=>{d?(l(a+v),s<=a+v&&Wi()):Xae(m)},prevPage:()=>{l(Math.max(a-v,0))},startIndex:a,currentTest:r};return f.jsxs("div",{className:"p-3 grid gap-y-3",children:[f.jsx(Si,{}),f.jsx(Vde,{data:b}),f.jsx(Ude,{data:b}),p&&f.jsx(zde,{}),f.jsx(Yde,{data:b})]})},Jde=({members:t,isUserOnline:e})=>{const{users:n,theme:r}=y.useContext(Z);return f.jsxs("div",{className:`p-2 grid gap-y-2 ${r==="light"?"":"text-white"}`,children:[f.jsx("p",{className:"text-lg font-bold",children:"Members"}),f.jsx(ye,{className:"border rounded-md shadow-lg border-slate-200",children:t.sort((i,s)=>Ri(i,s,"joinedAt","newer")).map((i,s)=>{const o=e(i.uid);return f.jsx("div",{className:`p-2 flex gap-x-2 items-center border-t ${t.length===s&&"border-b"} ${s===0&&"border-t-0"} ${r==="light"?"border-slate-200":"bg-slate-500/70 border-slate-500"}`,children:f.jsx(Zde,{member:i,onlineUser:o})},i.uid+i.joinedAt)})})]})},Zde=({member:t,onlineUser:e})=>{const{users:n}=y.useContext(Z),[r,i]=y.useState(null),[s,o]=y.useState(!0);return Gn(t.uid,n,i,o),s?f.jsxs(ye,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Zt,{})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"relative",children:[f.jsx(ti,{image:r==null?void 0:r.image,name:r==null?void 0:r.name}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${e.isOnline?"bg-green-500":"bg-gray-500"}`})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{children:r==null?void 0:r.name}),f.jsx("p",{className:`text-sm ${e.isOnline?"text-blue-500":"text-red-500"}`,children:e.isOnline?"Online":Ul(Dr(e.lastSeen))})]})]})},ZL=({pageName:t,setSubPage:e,currentChat:n,infoPage:r,memberCounts:i})=>{var o;const s=An();return f.jsx(qA,{sx:{background:"white"},children:f.jsxs(m6,{className:"h-[70px] bg-white z-30 p-2 min-h-10 pb-2 flex items-center justify-between gap-x-1 border-b ",children:[f.jsxs("div",{className:"flex gap-x-1",children:[f.jsx("div",{children:f.jsx(Sn,{onClick:()=>{r?e(t):s("/app/chatroom")},children:f.jsx(Wn,{name:"back"})})}),f.jsxs("div",{onClick:()=>e(t),children:[f.jsx("p",{className:"text-lg text-black font-bold",children:n.name}),i&&f.jsxs("p",{className:"text-sm text-black",children:[i," ",i<=1?"member":"members"]})]})]}),f.jsx("button",{onClick:()=>e(t),children:f.jsx("img",{src:((o=n==null?void 0:n.image)==null?void 0:o.URL)||"images/sea-logo.jpg",alt:"group-image",className:"size-12 rounded-full object-center object-cover "})})]})})},ehe=({setSubPage:t,currentChat:e,onlineUsers:n,memberCounts:r,setMemberCounts:i,members:s,setMembers:o})=>{var R;const{chatId:a}=pf(),{theme:l,users:c,userData:u}=y.useContext(Z),d=ve(Ae,"chats",a),[h,p]=y.useState(""),[m,v]=y.useState(null),x=ve(Ae,"chats",a),g=qe(x,"members");y.useEffect(()=>{p(e.name)},[e]);const w=T=>{let k=!1;return s.forEach(N=>{N.uid===T&&(k=!0)}),k},_=async T=>{let k=!1;const N=Or(g,l1("uid","==",T),Xs(1));return console.log("Checking if a member..."),k=!(await va(N)).empty,k};y.useEffect(()=>Bi(g,M=>{M.empty||o(M.docs.map(j=>({...j.data(),id:j.id})))}),[]);const E=async T=>{const k=ve(g,T);try{await _(T)||await Xa(k,{uid:T,joinedAt:rr()})}catch(N){console.log(N.message)}},S=async T=>{try{const k=ve(g,T);await qo(k)}catch(k){console.log(k.message)}},I=T=>{let k=!1,N=null;return n.forEach(M=>{M.uid===T&&(k=!0,N=M)}),{isOnline:k,...N}},C=async()=>{if(!m)return;const T=`chats/${e.id}/groupImage-${m.name}`,k=Po(storage,T),N=await vn(m,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),M=await tf(k,N),L=await nf(M.ref),j={name:m.name,path:T,URL:L,size:N.size};await Vn(d,{image:j})},b=async()=>{h.trim()&&await Vn(d,{name:h})};if(y.useEffect(()=>{C()},[m]),y.useEffect(()=>{scrollTo({top:0})},[]),e)return f.jsxs("div",{className:"",children:[f.jsx(ZL,{pageName:"chat",infoPage:!0,setSubPage:t,currentChat:e,memberCounts:r}),(u==null?void 0:u.isAdmin)&&f.jsxs("div",{className:"p-2 m-1 mt-4 shadow-lg  border border-slate-300 rounded-md",children:[f.jsx("input",{id:"imageInput",className:"hidden",type:"file",accept:"image/*",onChange:T=>v(T.target.files[0])}),f.jsxs("div",{className:"relative size-24",children:[f.jsx("img",{src:(R=e==null?void 0:e.image)==null?void 0:R.URL,className:"size-24 rounded-full object-cover object-center bg-cover"}),f.jsx("label",{htmlFor:"imageInput",className:` p-1 rounded-full absolute -bottom-1 -right-1 cursor-pointer ${l==="light"?"bg-gray-200":"bg-slate-500/70"}`,children:f.jsx("img",{className:"w-5",src:Pe("edit")})})]}),f.jsxs("div",{className:`mt-2 ${l==="light"?"":"text-white"}`,children:[f.jsx("p",{children:"Group Name"}),f.jsx(li,{size:"small",value:h,onChange:T=>p(T.target.value)}),f.jsx(Sn,{onClick:b,children:f.jsx("img",{className:"w-7",src:Pe("save")})})]})]}),s&&f.jsx(Jde,{members:s,onlineUsers:n,isUserOnline:I}),(u==null?void 0:u.isAdmin)&&f.jsxs("div",{className:`p-2 grid gap-y-2 ${l==="light"?"":"text-white"}`,children:[f.jsx("p",{className:"text-lg font-bold",children:"Manage Members"}),f.jsx(ye,{className:"border rounded-md shadow-lg border-slate-200",children:c.sort((T,k)=>Ri(T,k,"createdAt","newer")).map((T,k)=>{const N=I(T.uid);return f.jsxs("div",{className:`p-2 flex justify-between gap-x-2 items-center border-t ${(s==null?void 0:s.length)===k&&"border-b"} ${k===0&&"border-t-0"} ${l==="light"?"border-slate-200":"bg-slate-500/70 border-slate-500"}`,children:[f.jsxs("div",{className:"flex gap-x-2 items-center",children:[f.jsxs("div",{className:"relative",children:[f.jsx(ti,{image:T.image,name:T.name}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${N.isOnline?"bg-green-500":"bg-gray-500"}`})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{children:T.name}),f.jsx("p",{className:`text-sm ${N.isOnline?"text-blue-500":"text-red-500"}`,children:N.isOnline?"Online":Ul(Dr(N.lastSeen))})]})]}),f.jsx("div",{children:w(T.uid)?!T.isAdmin&&f.jsx(Sn,{size:"small",onClick:()=>S(T.uid),children:f.jsx(Wn,{name:"trash"})}):f.jsx(Sn,{size:"small",onClick:()=>E(T.uid),children:f.jsx(Wn,{name:"add"})})})]},T.name+" "+T.image+k)})})]})]})},the=[{name:"like",image:"facebookLike"},{name:"love",image:"facebookLove"},{name:"haha",image:"facebookHaha"},{name:"wow",image:"facebookWow"},{name:"sad",image:"facebookSad"},{name:"angry",image:"facebookAngry"}],nhe=({chatId:t,message:e,setReactedUsers:n})=>{y.useState(!1);const[r,i]=y.useState([]),s=qe(ve(qe(ve(Ae,"chats",t),"messages"),e.id),"reactedBy"),{userId:o}=y.useContext(Z),a=()=>Bi(s,h=>{if(!h.empty){const p=h.docs.map(m=>m.data());i(p)}});y.useEffect(()=>{const d=a();return()=>{d&&d()}},[]);const l=async()=>{const d=ve(s,o);await qo(d)},c=d=>{let h=!1;return r.forEach(p=>{p.reactionType===d&&(h=!0)}),h},u=the.filter(d=>c(d.name));if(r.length!==0)return f.jsx("div",{children:f.jsxs("button",{onClick:()=>n({reactedBy:r,removeReaction:l}),className:"mt-2 border border-gray-200 bg-white p-1 rounded-lg flex justify-center items-center text-sm",children:[u.map((d,h)=>f.jsx("img",{className:"w-4 ml-[-3px]",src:Pe(d.image)},`reaction-${d.name}-${h}`)),f.jsx("span",{className:"ml-1",children:r.length})]})})};function Nw(t){return new Date(t).toLocaleTimeString([],{hour:"numeric",minute:"numeric",hour12:!0})}const rhe=({message:t,deleteMessage:e,setMessage:n,setImageObject:r,setEditMessageObject:i,setViewingImage:s,setReplyMessage:o,isUserOnline:a,chatId:l,messagesRef:c,messageIndex:u,viewingOldMessages:d,setSeenUsers:h,messages:p,setMessageOption:m,setReactedUsers:v})=>{var j;const{theme:x,userData:g,userId:w}=y.useContext(Z),_=w===t.senderId,E=a(t.senderId),S=(t==null?void 0:t.seenBy)&&t.seenBy.length>0,I=y.useRef(!1),[C,b]=y.useState(!1),R=P=>{b(P)},T={...t,index:u},k=_?{text:"Edit",icon:"editPencil",onClick:()=>{i(T),n(t.content),r(t==null?void 0:t.image),o(t==null?void 0:t.reply)}}:null,N=_||g!=null&&g.isAdmin?{text:"Delete",icon:"deleteIcon",onClick:()=>{e(t,u)}}:null,M=()=>{let P=!1;return((t==null?void 0:t.seenBy)||[]).forEach(O=>{w===O.uid&&(P=!0)}),P},L=()=>{let P=!1;return u>=p.length-5&&u<=p.length-1&&(P=!0),P};return y.useEffect(()=>{(async()=>{const A=ve(c,t.id);I.current||!M()&&!_&&L()&&!d&&(await Vn(A,{seenBy:sw({uid:w,timestamp:new Date().getTime()})}),I.current=!0)})()},[]),f.jsxs("div",{onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),className:`hover:bg-slate-100 rounded-md shadow-md shadow-r-none shadow-l-none flex mb-2 gap-x-2 pt-2 pb-2 border border-slate-200 border-dashed border-r-0 border-l-0 ${_?"flex-row-reverse":""} `,children:[f.jsx(ihe,{senderId:t.senderId,onlineUser:E}),f.jsx("div",{className:`grid gap-y-1 whitespace-pre-wrap ${x==="light"?"":"text-white"}`,children:f.jsxs("div",{className:`flex  items-start gap-x-1 ${_?"flex-row-reverse justify-start":""}`,children:[f.jsx("div",{className:"relative",children:f.jsxs("div",{className:`max-w-[300px] grid min-w-20 break-words whitespace-pre-wrap text-wrap rounded-[10px] kkborder border-slate-200 p-3  ${x==="light"?`${_?" dfbg-blue-300 ":"fdbg-white  "}`:`${_?" fdbg-blue-300":"fdbg-white  text-black "}`}`,children:[f.jsx(she,{senderId:t.senderId}),(t==null?void 0:t.reply)&&f.jsx(ohe,{message:t,setViewingImage:s}),f.jsx("p",{className:"w-full max-w-full break-words ",children:t.content}),(t==null?void 0:t.image)&&f.jsx("img",{onClick:()=>{s(t.image)},className:"cursor-pointer border mt-1 mb-1 rounded-md border-slate-200 overflow-hidden w-[200px] min-h-[100px]",alt:t.image.name,src:t.image.URL}),f.jsx(nhe,{chatId:l,message:t,setReactedUsers:v}),f.jsx("div",{className:`flex  ${_?"flex-row-reverse":""} gap-x-1 items-center mt-1`,children:f.jsxs("p",{className:`border border-slate-200 shadow-md rounded-md mt-1 p-1 text-sm text-gray-400 text-sm flex gap-x-1 items-center ${_?"text-right":"text-left"}`,children:[t!=null&&t.editedTime?f.jsxs("span",{children:["edited ",Nw(Dr(t.editedTime))]}):f.jsx("span",{children:Nw(Dr(t.timestamp))}),S?f.jsxs("button",{onClick:()=>{h(t.seenBy)},className:"flex gap-x-1 items-center",children:[f.jsx("img",{className:"w-4",src:Pe("eye")}),(j=t==null?void 0:t.seenBy)==null?void 0:j.length]}):""]})})]})}),C&&f.jsx(Sn,{onClick:()=>m({...t,options:[k,N,{text:"Reply",icon:"reply",onClick:()=>o(t)}]}),children:f.jsx("img",{className:"w-6",src:Pe("moreOption")})})]})})]})},ihe=({senderId:t,onlineUser:e})=>{const{users:n}=y.useContext(Z),[r,i]=y.useState(null),[s,o]=y.useState(!0);return Gn(t,n,i,o),s?f.jsxs(ye,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Zt,{})]}):f.jsxs("div",{className:"size-10  relative",children:[f.jsx(ti,{name:r&&r.name,image:r&&r.image}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${e!=null&&e.isOnline?"bg-green-500":"bg-gray-500"}`})]})},she=({senderId:t,isYourMessage:e})=>{const{users:n}=y.useContext(Z),[r,i]=y.useState(null),[s,o]=y.useState(!0);return Gn(t,n,i,o),s?f.jsxs(ye,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Zt,{})]}):f.jsx("p",{className:`font-bold mb-2 ${e?"text-right":"text-left"} `,children:r!=null&&r.name?r.name:"Unknown User"})},ohe=({message:t,setViewingImage:e})=>{const{users:n,theme:r}=y.useContext(Z),{senderId:i,content:s,image:o}=t.reply,[a,l]=y.useState(!1),[c,u]=y.useState(null);return Gn(i,n,u,()=>{}),f.jsxs("div",{className:`mb-1 border-l-4 p-1 rounded-md border-l-green-500  ${r==="light"?"bg-green-200":"bg-green-300"}`,children:[f.jsx("p",{className:"font-bold ",children:c==null?void 0:c.name}),s&&f.jsxs("p",{className:"w-full max-w-full break-words",children:[a?s:ya(s,25),s.length>=25&&f.jsx("span",{onClick:()=>{l(!a)},className:"font-bold text-blue-400 cursor-pointer",children:a?" see less":" see more"})]}),o&&f.jsx("img",{onClick:()=>{e(o)},className:"cursor-pointer border mt-1 mb-1 rounded-md border-slate-200 overflow-hidden w-[200px] min-h-[100px]",alt:o.name,src:o.URL})]})},ahe=({setIsRulesOpen:t,isRulesOpen:e,rules:n=[" - Group         ","No spamming -    (link)   emoji   ","Privacy  -        ","  (rules)    Group       ()   "]})=>f.jsx(Qi,{open:e,onClose:()=>t(!1),children:n?f.jsxs("div",{className:"p-2 max-h-[80%] overflow-auto",children:[f.jsx("p",{className:"font-bold mb-1",children:"Group Rules"}),n.map((r,i)=>f.jsxs("div",{className:"flex items-center gap-x-1 mb-2",children:[f.jsx("p",{className:"size-10 flex items-center justify-center rounded-full bg-gray-300",children:i+1}),f.jsx("p",{className:"flex-1",children:r})]},`${i}-${r}`))]}):f.jsx("div",{className:"p-2",children:"No rules"})}),lhe=({typingUsers:t,viewingOldMessages:e,isUserOnline:n})=>{const{users:r,theme:i,userId:s}=y.useContext(Z);if(y.useEffect(()=>{!e&&t.length!==0&&oh()},[t]),t.length!==0)return f.jsx("div",{className:"",children:f.jsx("div",{className:"grid gap-y-1",children:t.sort((o,a)=>Ri(o,a,"timestamp","older")).map(o=>{const a=n(o.uid),l=s===o.uid;return f.jsxs("div",{className:`flex mb-2 gap-x-2 ${l?"flex-row-reverse":""} `,children:[f.jsx(che,{typingUser:o,onlineUser:a}),f.jsxs("div",{className:`grid gap-y-1 whitespace-pre-wrap ${i==="light"?"":"text-white"}`,children:[f.jsx(uhe,{isYourMessage:l,typingUser:o}),f.jsx("div",{className:`flex items-start gap-x-1 ${l?"flex-row-reverse justify-start":""}`,children:f.jsx("div",{children:f.jsx("p",{className:`max-w-[250px] w-20 break-words whitespace-pre-wrap text-wrap rounded-[10px] border border-slate-200 p-2  ${i==="light"?`${l?"rounded-tr-none bg-blue-300":"bg-white rounded-tl-none"}`:`${l?"rounded-tr-none bg-blue-300":"bg-white rounded-tl-none text-black"}`}`,children:f.jsx(YL,{})})})})]})]},`typingUsers-${o.uid}`)})})})},che=({typingUser:t,onlineUser:e})=>{const{users:n}=y.useContext(Z),[r,i]=y.useState(null),[s,o]=y.useState(!0);return Gn(t.uid,n,i,o),s?f.jsxs(ye,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Zt,{})]}):f.jsxs("div",{className:"size-10 relative",children:[f.jsx(ti,{name:r==null?void 0:r.name,image:r==null?void 0:r.image}),f.jsx("div",{className:`absolute bottom-0 right-0 size-3 rounded-full ${e!=null&&e.isOnline?"bg-green-500":"bg-gray-500"}`})]})},uhe=({typingUser:t,isYourMessage:e})=>{const{users:n}=y.useContext(Z),[r,i]=y.useState(null),[s,o]=y.useState(!0);return Gn(t.uid,n,i,o),s?f.jsxs(ye,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Zt,{})]}):f.jsx("p",{className:`font-bold ${e?"text-right":"text-left"} `,children:r==null?void 0:r.name})},dhe=["January","February","March","April","May","June","July","August","September","October","November","December"],hhe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function eM(t){const e=new Date(t),n=new Date,r=e.getFullYear(),i=e.getMonth(),s=e.getDate(),o=hhe[e.getDay()],a=n.getDay()===e.getDay()&&n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear(),l=!a&&e.getDay()===n.getDay()-1;return a?"Today":l?"Yesterday":`${o}, ${dhe[i]} ${s}, ${r}`}const fhe=({seenUsers:t,setSeenUsers:e})=>{y.useContext(Z);const n=()=>{const r=t.reduce((i,s)=>{const o=new Date(Dr(s.timestamp)),a=o.getFullYear(),l=o.getMonth(),c=o.getDate(),u=`${a}-${l+1}-${c}`;return i[u]||(i[u]={date:u,users:[]}),i[u].users.push(s),i},{});return Object.values(r)};return f.jsx(Qi,{anchor:"bottom",open:!!t,onClose:()=>e(!1),children:f.jsxs("div",{className:" sm:w-[400px] md:w-[450px] lg:w-[500px]  bg-slate-200 rounded-l-md rounded-r-md ",children:[f.jsx("div",{className:"p-2 rounded-md bg-slate-50 pl-4 text-lg font-bold",children:"Seen by"}),f.jsx("div",{className:"flex flex-col p-2",children:n().map(r=>{const i=new Date(r.date).getTime(),s=eM(i);return f.jsxs(ye,{children:[f.jsx(ye,{className:"mb-1",children:s}),r.users.sort((o,a)=>Ri(o,a,"timestamp","older")).map((o,a)=>f.jsx(phe,{seenPerson:o},`seenUser-${o.uid}-${a}`))]},s+"seenUsers")})})]})})},phe=({seenPerson:t})=>{var o;const{users:e}=y.useContext(Z),[n,r]=y.useState(null),[i,s]=y.useState(!0);return Gn(t.uid,e,r,s),i?f.jsxs(ye,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Zt,{})]}):f.jsxs("div",{className:"flex p-2 justify-between items-center w-full hover:bg-slate-300",children:[f.jsxs("div",{className:"flex items-center gap-x-1",children:[f.jsx(ti,{image:n==null?void 0:n.image,name:n==null?void 0:n.name,size:"size-9"}),f.jsx("p",{children:((o=n==null?void 0:n.name)==null?void 0:o.length)>20?ya(n==null?void 0:n.name,20):n==null?void 0:n.name})]}),f.jsx("p",{className:"ml-[4px]",children:Nw(t.timestamp)})]})},mhe=({reactedBy:t,removeReaction:e,reactedUsers:n,setReactedUsers:r})=>{const{userId:i}=y.useContext(Z),s=o=>({like:"facebookLike",love:"facebookLove",haha:"facebookHaha",wow:"facebookWow",sad:"facebookSad",angry:"facebookAngry"})[o];return f.jsx(Qi,{open:!!t,onClose:()=>r(null),children:f.jsxs("div",{className:"m-2  rounded-l-md rounded-r-md ",children:[f.jsx("div",{className:"p-2 rounded-md pl-4 text-lg font-bold",children:"Reactions"}),f.jsx("div",{className:"flex flex-col p-2  overflow-y-auto",children:t.map((o,a)=>{const l=o.uid===i;return f.jsx(ghe,{okToRemove:l,reactedPerson:o,getReactIcon:s,removeReaction:e,close:()=>r(null)},`reactedBy-${o.uid}-${a}`)})})]})})},ghe=({getReactIcon:t,reactedPerson:e,okToRemove:n,close:r,removeReaction:i})=>{const{users:s}=y.useContext(Z),[o,a]=y.useState(null),[l,c]=y.useState(!0);return Gn(e.uid,s,a,c),l?f.jsxs(ye,{children:[f.jsx("div",{className:"mb-2",children:"Loading..."}),f.jsx(Zt,{})]}):f.jsxs("div",{onClick:()=>{n&&(i(),r())},className:`flex md:w-[450px] lg:w-[500px] justify-between items-center w-full hover:bg-slate-100 ${n?"cursor-pointer":""}`,children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(ti,{image:o==null?void 0:o.image,name:o==null?void 0:o.name,size:"size-9"}),f.jsxs("p",{className:"ml-[4px]",children:[o==null?void 0:o.name," ",n?"(Click to remove)":""]})]}),f.jsx("img",{className:"w-6 ",src:Pe(t(e.reactionType))})]})},x4=15,vhe=()=>{const{userId:t}=y.useContext(Z),{chatId:e}=pf(),[n,r]=y.useState(null),[i,s]=y.useState(!0);qe(Ae,"chats");const o=ve(Ae,"chats",e);return y.useEffect(()=>{const a=()=>Bi(o,d=>{d.exists()&&r({...d.data(),id:d.id})},d=>{console.log("Error fetching the current chat: ",d.message)});(async()=>{try{const u=qe(o,"members"),d=Or(u,l1("uid","==",t),Xs(1));console.log("Checking if a member...");const h=await va(d);s(!h.empty)}catch(u){console.log(u.message)}})();const c=a();return()=>{c&&c()}},[e]),i?n?f.jsx(yhe,{chatId:e,currentChat:n}):f.jsxs(ye,{className:"m-2",children:[f.jsx("div",{children:"Loading chat..."}),f.jsx(Zt,{})]}):f.jsx(ye,{className:"m-2",children:"The requested chat room is not available."})},yhe=({chatId:t,currentChat:e})=>{const[n,r]=y.useState([]),{theme:i,userData:s,users:o,newMessages:a,userId:l,setHeaderTitle:c}=y.useContext(Z),[u,d]=y.useState(""),[h,p]=y.useState("chat"),[m,v]=y.useState(null),x=ve(Ae,"chats",t),g=qe(x,"messages"),[w,_]=y.useState(null),[E,S]=y.useState(!1),[I,C]=y.useState(!1),[b,R]=y.useState(null),[T,k]=y.useState(null),[N,M]=y.useState(null),[L,j]=y.useState(!1),P=qe(x,"typingUsers"),A=ve(P,l),[O,$]=y.useState(!1);let F=0;const q=qe(x,"onlineUsers"),W=ve(q,l),[z,B]=y.useState([]),[V,G]=y.useState(null),[ie,le]=y.useState([]),[ee,he]=y.useState([]),[ce,oe]=y.useState(),[ge,Se]=y.useState(null),[_e,_t]=y.useState(!1),[Ve,De]=y.useState([]),[st,dt]=y.useState(null),[Te,It]=y.useState(null),[$e,Ee]=y.useState(null);y.useEffect(()=>{(async()=>{const Qe=ve(Ae,"chats",e.id);qe(Qe,"members")})()},[e]),y.useEffect(()=>{c((e==null?void 0:e.name)||"SEA - Chat ")},[]),y.useEffect(()=>{const Qe=Bi(P,rt=>{if(!rt.empty){const Ht=rt.docs.map(Er=>Er.data());r(Ht)}},rt=>{console.log("Error fetching typing users: ",rt.message)});return()=>{Qe&&Qe()}},[]),y.useEffect(()=>(u.trim()&&$(!0),F=setTimeout(()=>{$(!1)},3e3),()=>{$(!1),clearTimeout(F)}),[u]);const St=async()=>{await Xa(A,{uid:l,timestamp:rr()})},an=async()=>{const Ie=ve(P,l);await qo(Ie)};y.useEffect(()=>(O?St():an(),()=>{an()}),[O]);const Mn=()=>{let Ie;if(_e)return;const Qe=qe(ve(Ae,"chats",t),"messages");let Tt=Or(Qe,pu("timestamp","desc"),Xs(x4));return Ie=Bi(Tt,rt=>{console.log("Fetching messages..."),Re(rt)}),()=>Ie()};y.useEffect(()=>{const Ie=Mn();return()=>{Ie&&Ie()}},[_e,t]);const Re=Ie=>{Ie.docs.length>0&&(oe(Ie.docs[0]),Se(Ie.docs[Ie.docs.length-1]));const Qe=Ie.docs.map(Tt=>({id:Tt.id,...Tt.data()}));le(Qe.sort((Tt,rt)=>Ri(Tt,rt,"timestamp")))},me=async Ie=>{const Qe=Ie==="old"?"desc":"asc";if(!ge)return;const Tt=Or(g,pu("timestamp",Qe),c1(ge),Xs(x4));console.log("Fetching messages...");const rt=await va(Tt);Re(rt)};y.useEffect(()=>{const Qe=Bi(q,rt=>{if(!rt.empty){const Ht=rt.docs.map(Er=>({...Er.data()}));B(Ht)}});return()=>{Qe&&Qe()}},[]);const bt=async()=>{await Xa(W,{uid:l,lastSeen:rr()})},tn=async()=>{const Ie=ve(q,l);await qo(Ie)};y.useEffect(()=>(bt(),window.addEventListener("beforeunload",tn),()=>{window.addEventListener("beforeunload",tn),tn()}),[]),Gn(T==null?void 0:T.senderId,o,M,()=>{},[T]);const ln=async Ie=>{const Qe=new Date().getTime(),Tt=`chats/${t}/${Qe}-${s.name}-${Ie.name}`,rt=Po(za,Tt);S(!0),C(!0);const Ht=await vn(Ie,{maxSizeMB:.5,maxWidthOrHeight:1280,useWebWorker:!0}),Er=await tf(rt,Ht),Cs=await nf(Er.ref),Hl={name:Ie.name,path:Tt,URL:Cs,size:Ht.size};_(Hl),S(!1),C(!1)},fe=async Ie=>{const Qe=Po(za,Ie);await aw(Qe),_(null)},Ue=async()=>{const Ie=ve(qe(Ae,"newMessages"),t);await Xa(Ie,{seenBy:sw(l)})};y.useEffect(()=>{(async()=>{const Qe=ve(qe(Ae,"newMessages"),t);_1(a,t)||await Vn(Qe,{seenBy:sw(l)})})()},[ie]);const Ct=async()=>{try{const Ie={senderId:l,content:u.trim(),timestamp:rr(),image:w||null,reply:T||null,seenBy:[]};C(!0),await na(g,Ie),Ue(),d(""),_(null),oh(),C(!1),k(null),M(null),$(!1)}catch(Ie){console.log(Ie.message)}},xr=async()=>{try{const Ie=ve(g,m.id),Qe={senderId:l,content:u.trim(),editedTime:rr(),image:w||null,reply:T||null};C(!0),await Vn(Ie,Qe),Ue(),xr&&d(""),_(null),v(null),C(!1),k(null),M(null)}catch(Ie){console.log(Ie.message)}},zl=async(Ie,Qe)=>{const Tt=ve(g,Ie.id);await qo(Tt),_e&&me("old")},Wl=Ie=>{let Qe=!1,Tt=null;return z.forEach(rt=>{rt.uid===Ie&&(Qe=!0,Tt=rt)}),{isOnline:Qe,...Tt}};return y.useEffect(()=>{he((()=>{if(ie.length>0){const Qe=ie.reduce((Tt,rt)=>{const Ht=new Date(Dr(rt.timestamp)),Er=Ht.getFullYear(),Cs=Ht.getMonth(),Hl=Ht.getDate(),ni=`${Er}-${Cs+1}-${Hl}`;return Tt[ni]||(Tt[ni]={date:ni,messages:[]}),Tt[ni].messages.push(rt),Tt},{});return Object.values(Qe)}else return})())},[ie]),h==="info"?f.jsx(ehe,{setSubPage:p,currentChat:e,onlineUsers:z,memberCounts:st,setMemberCounts:dt,members:Ve,setMembers:De}):f.jsxs("div",{className:"",children:[f.jsx(_he,{}),$e&&f.jsx(mhe,{reactedBy:$e.reactedBy,removeReaction:$e.removeReaction,reactedUsers:$e,setReactedUsers:Ee}),Te&&f.jsx(EL,{handleClick:()=>{It(null)},messageOption:Te,setMessageOption:It,options:Te.options,message:Te,chatId:t,isComment:!1}),b&&f.jsx(XL,{image:b,setViewingImage:R}),L&&f.jsx(ahe,{isRulesOpen:L,setIsRulesOpen:j,rules:e==null?void 0:e.rules}),V&&f.jsx(fhe,{seenUsers:V,setSeenUsers:G}),f.jsx(ZL,{pageName:"info",setSubPage:p,currentChat:e,memberCounts:st}),f.jsxs("div",{id:"message-container",className:"p-2 gap-y-3 mb-[55px]",children:[f.jsx("div",{className:"flex justify-center mb-2",children:f.jsx(Oe,{sx:{textTransform:"capitalize",mt:1},variant:"text",size:"small",onClick:()=>{me("old"),oh(),_t(!0)},children:"Older messages"})}),f.jsx(ye,{children:ee==null?void 0:ee.map(Ie=>{const Qe=new Date(Ie.date).getTime(),Tt=eM(Qe);return f.jsxs(ye,{children:[f.jsx(ye,{className:"z-30 sticky top-[71px] bg-white/50 backdrop-blur-md  p-2 rounded-md",children:Tt}),Ie.messages.map((rt,Ht)=>f.jsx(rhe,{editMessage:xr,setEditMessageObject:v,deleteMessage:zl,message:rt,setMessage:d,setImageObject:_,setViewingImage:R,setReplyMessage:k,isUserOnline:Wl,chatId:t,messagesRef:g,messageIndex:Ht,viewingOldMessages:_e,setSeenUsers:G,messages:ie,setMessageOption:It,setReactedUsers:Ee},`${Ht}-${rt.id}`))]},Ie.date)})}),_e?f.jsxs("div",{className:"flex gap-x-1 justify-center mt-1 mb-2",children:[f.jsx(Oe,{size:"small",sx:{textTransform:"capitalize"},onClick:()=>{me("new")},children:"Newer messages"}),f.jsx(Oe,{size:"small",variant:"text",sx:{textTransform:"capitalize"},onClick:()=>{Mn(),_t(!1),oh()},children:"Latest messages"})]}):"",f.jsx(lhe,{typingUsers:n,viewingOldMessages:_e,isUserOnline:Wl})]}),f.jsxs("div",{className:`fixed bottom-0 right-0 left-0 p-2 min-h-[80px] flex flex-col items-center  ${i==="light"?" bg-slate-50":" bg-slate-500 text-white"}`,children:[f.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 pt-0 md:w-2/3 lg:w-1/2",children:f.jsx("button",{onClick:()=>j(!0),className:"text-sm underline text-blue-300",children:"Group Rules"})}),m&&f.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[f.jsx("p",{children:"Editing a message"}),f.jsx("button",{onClick:()=>{v(null),d(""),_(null),k(null),M(null)},className:" rounded-full shadow-sm p-1",children:f.jsx("img",{className:"w-6",src:Pe("falseIcon")})})]}),T&&f.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("p",{className:"font-bold",children:["Reply to ",N==null?void 0:N.name]}),f.jsx("p",{children:ya(T==null?void 0:T.content,25)})]}),f.jsx("button",{onClick:()=>{k(null),M(null)},className:"rounded-full shadow-sm p-1",children:f.jsx("img",{className:"w-6",src:Pe("falseIcon")})})]}),E&&f.jsx("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:f.jsx("p",{children:"Uploading image..."})}),w&&f.jsxs("div",{className:"w-full flex justify-between items-center text-sm p-1 md:w-2/3 lg:w-1/2",children:[f.jsxs("div",{className:"flex flex-1 items-center gap-x-1",children:[f.jsx("img",{src:w.URL,className:"h-10 rounded-sm"}),f.jsx("p",{children:w.name})]}),f.jsx("button",{onClick:()=>{fe(w.path),_(null)},className:"rounded-full shadow-sm p-1",children:f.jsx("img",{className:"w-6",src:Pe("falseIcon")})})]}),f.jsxs("div",{className:`border shadow-sm w-full md:w-2/3 lg:w-1/2 p-1 rounded-[12px] flex items-center justify-between ${i==="light"?"border-slate-200":"border-slate-600"}`,children:[f.jsx("input",{id:"imageFile",className:"hidden",type:"file",onChange:Ie=>{ln(Ie.target.files[0])},accept:"image/*"}),f.jsx("label",{htmlFor:"imageFile",className:"p-1 cursor-pointer rounded-md",children:f.jsx("img",{className:"w-7",src:Pe("image")})}),f.jsx("textarea",{onChange:Ie=>d(Ie.target.value),value:u,className:`h-auto resize-none outline-none flex-1 p-1 pl-1 pr-1 rounded-md mr-2 ${i==="light"?"bg-transparent":"bg-transparent text-white"}`,placeholder:"Type message..."}),f.jsx("button",{onClick:()=>{!I&&(u.trim()||w)&&(m?xr():Ct())},children:f.jsx("img",{className:"w-10",src:Pe(I?"sendingLetter":"sendLetter")})})]})]})]})},_he=()=>{Xf("chat-page"),Jf("chat-page")},Z=y.createContext();function whe(){var ee,he,ce;const t=W7("sea-localStorage"),[e,n]=y.useState("light"),[r,i]=y.useState(((ee=t==null?void 0:t.timer)==null?void 0:ee.seconds)||0),[s,o]=y.useState(((he=t==null?void 0:t.timer)==null?void 0:he.minutes)||0),[a,l]=y.useState(((ce=t==null?void 0:t.timer)==null?void 0:ce.hours)||0),[c,u]=y.useState(!1),[d,h]=y.useState({}),[p,m]=y.useState([]),[v,x]=y.useState(null),[g,w]=y.useState(null),[_,E]=y.useState(null),[S,I]=y.useState(!1),[C,b]=y.useState(""),[R,T]=y.useState(!1),[k,N]=y.useState([]),[M,L]=y.useState([]),[j,P]=y.useState([]),[A,O]=y.useState(null),[$,F]=y.useState([]),[q,W]=y.useState(!1),[z,B]=y.useState("");Qae("users",h,c),jl("newMessages",P,c);const V=()=>{},G=()=>{i(0),o(0),l(0)},ie=()=>{G()};y.useEffect(()=>{z7("seaacademy-theme-data",e)},[e]);const le=`${a}:${jS(s)}:${jS(r)}`;return y.useEffect(()=>{const oe=setInterval(()=>{r<59?i(r+1):(i(0),o(s+1)),s===59&&(o(0),l(a+1))},1e3);return()=>{clearInterval(oe)}},[r]),f.jsx(Z.Provider,{value:{myChats:$,setMyChats:F,stopTest:ie,seaLocalStorage:t,formattedTime:le,startTimer:G,seconds:r,minutes:s,hours:a,inspecting:S,userData:d,isLogin:c,setUserData:h,users:p,setUsers:m,headerTitle:C,setHeaderTitle:b,theme:e,setTheme:n,refreshUserData:V,isOnline:R,setIsOnline:T,userId:v,setUserId:x,setInspecting:I,setIsLogIn:u,posts:k,setPosts:N,tests:M,setTests:L,history,chats:A,setChats:O,newMessages:j,notiCount:_,setNotiCount:E,historyCount:g,setHistoryCount:w,snackbarOpen:q,setSnackbarOpen:W,snackbarMessage:z,setSnackbarMessage:B},children:f.jsxs(ye,{className:"transition-all duration-300 App font-padauk flex flex-col items-center min-h-screen bgdf-[#e3f2fd]",children:[f.jsx(a_,{open:q,onClose:()=>W(!1),autoHideDuration:3e3,message:z}),f.jsxs(E$,{children:[f.jsx(Tde,{}),C!=="Chat"&&f.jsx(sle,{}),f.jsx(ale,{}),f.jsx("div",{className:"flex-1 w-full h-full md:w-4/5 lg:w-3/5 ",children:f.jsxs(m$,{children:[f.jsx(gn,{exact:!0,path:"/login",element:f.jsx(dle,{})}),c&&f.jsxs(f.Fragment,{children:[f.jsx(gn,{exact:!0,path:"/app",element:f.jsx($de,{})}),f.jsx(gn,{exact:!0,path:"/app/tests",element:f.jsx(jde,{})}),f.jsx(gn,{exact:!0,path:"/app/tests/:testId",element:f.jsx(Xde,{})}),f.jsx(gn,{exact:!0,path:"/app/history",element:f.jsx(VS,{})}),f.jsx(gn,{exact:!0,path:"/app/history/:resultId",element:f.jsx(tle,{})}),f.jsx(gn,{exact:!0,path:"/app/help",element:f.jsx(Sde,{})}),f.jsx(gn,{exact:!0,path:"/app/history/:resultId/reviews",element:f.jsx(ole,{})}),f.jsx(gn,{path:"/app/history",element:f.jsx(VS,{})}),f.jsx(gn,{path:"/app/chatroom",element:f.jsx(bde,{})}),f.jsx(gn,{path:"/app/chatroom/:chatId",element:f.jsx(vhe,{})}),f.jsx(gn,{path:"/app/notifications",element:f.jsx(mue,{})}),(d==null?void 0:d.isAdmin)&&f.jsxs(f.Fragment,{children:[f.jsx(gn,{path:"/app/admin",element:f.jsx(lle,{})}),f.jsx(gn,{path:"/app/admin/tests",element:f.jsx(sue,{})}),f.jsx(gn,{path:"/app/admin/users",element:f.jsx(uue,{})}),f.jsx(gn,{path:"/app/admin/posts",element:f.jsx(hue,{})})]}),f.jsx(gn,{exact:!0,path:"/app/settings",element:f.jsx(Yce,{})})]}),f.jsx(gn,{path:"*",element:f.jsx(g6,{title:"No page found!",text:"No page found!"})})]})}),C!=="Chat Room"&&f.jsx(cle,{})]})]})})}Jv.createRoot(document.getElementById("root")).render(f.jsx(f.Fragment,{children:f.jsx(whe,{})}));
