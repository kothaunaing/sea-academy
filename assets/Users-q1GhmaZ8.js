import{j as e,r as t,A,c as b,s as m,u as S,aH as I,F as P,d as c,b as C,az as y}from"./index-bRWVs4uH.js";import{B as E}from"./BackToAdmin-OZeAHZIU.js";import{P as D}from"./ProfilePicture-zNPQiEmu.js";import{s as L}from"./sortByDateNewer-X-Bb2bKS.js";import{p as U}from"./prettyDateChat-PSq7xrmC.js";import{f as B}from"./fixTime-t8Fgsaat.js";import{L as T}from"./LoadingScreen-s9LTCXQM.js";import{M as l}from"./EmptyComponent-B0v7Kud4.js";import{I as k}from"./IconButton-G7F5S18q.js";import{V as M}from"./VisibilitySharp-qlGiB9Hj.js";import{c as R}from"./createSvgIcon-WuW5eNVd.js";import"./Tooltip-nMSGeA9R.js";import"./Portal-VKXgkAI7.js";import"./useControlled-W8367X1y.js";import"./ArrowBackSharp-YQSLNk1z.js";const V=R([e.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),e.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettings"),z=({password:a})=>{const[i,o]=t.useState(!1);return e.jsxs("div",{children:["Password: ",i?a:"*********"," ",e.jsx("span",{onClick:()=>o(!i),className:"cursor-pointer text-blue-500 underline",children:i?"hide":"show"})]})},es=()=>{const{users:a,setHeaderTitle:i,userId:o,setUsers:x,setUserId:p}=t.useContext(A),f=b(c,"users"),[n,h]=t.useState(!0),[j,u]=t.useState(!1),[d,v]=t.useState(null);t.useEffect(()=>(m(),m()),[]),t.useEffect(()=>{i("Admin - Users")},[]);const g=S(),w=s=>{p(s.uid),g("/app")},N=async s=>{const r=C(c,"users",s.uid);await y(r,{isAdmin:!s.isAdmin})};return I(f,[],x,h,u,!0,v),n?e.jsx(T,{isLoading:n,text:"Loading users..."}):j?e.jsx(l,{text:"No users available"}):d?e.jsx(l,{text:d}):e.jsxs("div",{className:"mt-2 p-5",children:[e.jsx(E,{text:"Users",length:a==null?void 0:a.length}),e.jsx("div",{className:"mt-2 overflow-hidden grid border border-slate-200 shadow-md rounded-md",children:a.sort((s,r)=>L(s,r,"createdAt","older")).map((s,r)=>e.jsxs("div",{className:`  ${r===0&&"border-t-0"} border-t p-2  }`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex w-5/6 gap-x-2 items-center",children:[e.jsx(D,{image:s.image,name:s.name}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium",children:[s.name," ",e.jsxs("span",{className:`${s!=null&&s.isAdmin?"text-blue-500":"text-white"}`,children:["(",s!=null&&s.isAdmin?"admin":"user",")"," ",o===s.uid?"(You)":""]})]}),e.jsx("div",{className:"text-md ",children:s.email}),e.jsxs("div",{className:"text-md",children:["Created: ",U(B(s.createdAt))]}),e.jsxs("div",{className:"text-md font-medium text-lime-600",children:["UID : ",s.uid]}),e.jsx(z,{password:s.password})]})]}),o!==s.uid&&e.jsx(k,{onClick:()=>w(s),children:e.jsx(M,{})})]}),o!==s.uid&&e.jsx(P,{onClick:()=>N(s),size:"small",startIcon:e.jsx(V,{}),children:s.isAdmin?"Remove from admin":"Set as admin"})]},s.uid))})]})};export{es as default};
